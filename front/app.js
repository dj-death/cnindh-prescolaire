var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.FORCE_POLYFILL_PROMISE=!1;$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||typeof Object.defineProperties=='function'?Object.defineProperty:function(a,c,b){if(a==Array.prototype||a==Object.prototype){return a}a[c]=b.value;return a};$jscomp.getGlobal=function(d){var c=['object'==typeof globalThis&&globalThis,d,'object'==typeof window&&window,'object'==typeof self&&self,'object'==typeof global&&global];for(var b=0;b<c.length;++b){var a=c[b];if(a&&a['Math']==Math){return a}}return {valueOf:function(){throw new Error('Cannot find global object')}}.valueOf()};$jscomp.global=$jscomp.getGlobal(this);$jscomp.IS_SYMBOL_NATIVE=typeof Symbol==='function'&&typeof Symbol('x')==='symbol';$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX='$jscp$';var $jscomp$lookupPolyfilledValue=function(b,a){var c=$jscomp.propertyToPolyfillSymbol[a];if(c==null){return b[a]}var d=b[c];return d!==undefined?d:b[a]};$jscomp.polyfill=function(c,a,b,d){if(!a){return}if($jscomp.ISOLATE_POLYFILLS){$jscomp.polyfillIsolated(c,a,b,d)}else {$jscomp.polyfillUnisolated(c,a,b,d)}};$jscomp.polyfillUnisolated=function(i,h,j,k){var a=$jscomp.global;var b=i.split('.');for(var d=0;d<b.length-1;d++){var g=b[d];if(!(g in a)){return}a=a[g]}var e=b[b.length-1];var f=a[e];var c=h(f);if(c==f||c==null){return}$jscomp.defineProperty(a,e,{configurable:!0,writable:!0,value:c})};$jscomp.polyfillIsolated=function(m,k,j,o){var c=m.split('.');var f=c.length===1;var n=c[0];var a;if(!f&&n in $jscomp.polyfills){a=$jscomp.polyfills}else {a=$jscomp.global}for(var e=0;e<c.length-1;e++){var h=c[e];if(!(h in a)){return}a=a[h]}var b=c[c.length-1];var g=$jscomp.IS_SYMBOL_NATIVE&&j==='es6'?a[b]:null;var d=k(g);if(d==null){return}if(f){$jscomp.defineProperty($jscomp.polyfills,b,{configurable:!0,writable:!0,value:d})}else if(d!==g){if($jscomp.propertyToPolyfillSymbol[b]===undefined){var l=Math.random()*1000000000>>>0;$jscomp.propertyToPolyfillSymbol[b]=$jscomp.IS_SYMBOL_NATIVE?$jscomp.global['Symbol'](b):$jscomp.POLYFILL_PREFIX+l+'$'+b}var i=$jscomp.propertyToPolyfillSymbol[b];$jscomp.defineProperty(a,i,{configurable:!0,writable:!0,value:d})}};$jscomp.polyfill('Array.prototype.copyWithin',function(a){if(a){return a}var b=function(f,g,i){var c=this.length;f=toInteger(f);g=toInteger(g);var h=i===undefined?c:toInteger(i);var e=f<0?Math.max(c+f,0):Math.min(f,c);var b=g<0?Math.max(c+g,0):Math.min(g,c);var d=h<0?Math.max(c+h,0):Math.min(h,c);if(e<b){while(b<d){if(b in this){this[e++]=this[b++]}else {delete this[e++];b++}}}else {d=Math.min(d,c+b-e);e+=d-b;while(d>b){if(--d in this){this[--e]=this[d]}else {delete this[--e]}}}return this};function toInteger(c){var b=Number(c);if(b===Infinity||b===-Infinity){return b}return b|0}return b},'es6','es3');$jscomp.arrayIteratorImpl=function(a){var b=0;return function(){if(b<a.length){return {done:!1,value:a[b++]}}else {return {done:!0}}}};$jscomp.arrayIterator=function(a){return {next:$jscomp.arrayIteratorImpl(a)}};$jscomp.initSymbol=function(){};$jscomp.polyfill('Symbol',function(c){if(c){return c}var b=function(b,a){this.$jscomp$symbol$id_=b;this.description;$jscomp.defineProperty(this,'description',{configurable:!0,writable:!0,value:a})};b.prototype.toString=function(){return this.$jscomp$symbol$id_};var f=Math.random()*1000000000>>>0;var d='jscomp_symbol_'+f+'_';var e=0;var a=function(f){if(this instanceof a){throw new TypeError('Symbol is not a constructor')}return new b(d+(f||'')+'_'+e++,f)};return a},'es6','es3');$jscomp.polyfill('Symbol.iterator',function(e){if(e){return e}var a=Symbol('Symbol.iterator');var d=['Array','Int8Array','Uint8Array','Uint8ClampedArray','Int16Array','Uint16Array','Int32Array','Uint32Array','Float32Array','Float64Array'];for(var c=0;c<d.length;c++){var b=$jscomp.global[d[c]];if(typeof b==='function'&&typeof b.prototype[a]!='function'){$jscomp.defineProperty(b.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}})}}return a},'es6','es3');$jscomp.polyfill('Symbol.asyncIterator',function(a){if(a){return a}return Symbol('Symbol.asyncIterator')},'es9','es3');$jscomp.iteratorPrototype=function(b){var a={next:b};a[Symbol.iterator]=function(){return this};return a};$jscomp.iteratorFromArray=function(a,e){if(a instanceof String){a=a+''}var d=0;var c=!1;var b={next:function(){if(!c&&d<a.length){var b=d++;return {value:e(b,a[b]),done:!1}}c=!0;return {done:!0,value:void 0}}};b[Symbol.iterator]=function(){return b};return b};$jscomp.polyfill('Array.prototype.entries',function(a){if(a){return a}var b=function(){return $jscomp.iteratorFromArray(this,function(b,c){return [b,c]})};return b},'es6','es3');$jscomp.polyfill('Array.prototype.fill',function(a){if(a){return a}var b=function(f,c,b){var d=this.length||0;if(c<0){c=Math.max(0,d+c)}if(b==null||b>d){b=d}b=Number(b);if(b<0){b=Math.max(0,d+b)}for(var e=Number(c||0);e<b;e++){this[e]=f}return this};return b},'es6','es3');$jscomp.findInternal=function(a,d,e){if(a instanceof String){a=String(a)}var f=a.length;for(var b=0;b<f;b++){var c=a[b];if(d.call(e,c,b,a)){return {i:b,v:c}}}return {i:-1,v:void 0}};$jscomp.polyfill('Array.prototype.find',function(a){if(a){return a}var b=function(c,b){return $jscomp.findInternal(this,c,b).v};return b},'es6','es3');$jscomp.polyfill('Array.prototype.findIndex',function(a){if(a){return a}var b=function(c,b){return $jscomp.findInternal(this,c,b).i};return b},'es6','es3');$jscomp.polyfill('Array.prototype.flat',function(a){if(a){return a}var b=function(b){b=b===undefined?1:b;var c=[];for(var e=0;e<this.length;e++){var d=this[e];if(Array.isArray(d)&&b>0){var f=Array.prototype.flat.call(d,b-1);c.push.apply(c,f)}else {c.push(d)}}return c};return b},'es9','es5');$jscomp.polyfill('Array.prototype.flatMap',function(a){if(a){return a}var b=function(e,f){var b=[];for(var c=0;c<this.length;c++){var d=e.call(f,this[c],c,this);if(Array.isArray(d)){b.push.apply(b,d)}else {b.push(d)}}return b};return b},'es9','es5');$jscomp.polyfill('Array.from',function(a){if(a){return a}var b=function(b,c,g){c=c!=null?c:function(d){return d};var e=[];var f=typeof Symbol!='undefined'&&Symbol.iterator&&b[Symbol.iterator];if(typeof f=='function'){b=f.call(b);var h;var j=0;while(!(h=b.next()).done){e.push(c.call(g,h.value,j++))}}else {var i=b.length;for(var d=0;d<i;d++){e.push(c.call(g,b[d],d))}}return e};return b},'es6','es3');$jscomp.polyfill('Object.is',function(a){if(a){return a}var b=function(b,c){if(b===c){return b!==0||1/b===1/c}else {return b!==b&&c!==c}};return b},'es6','es3');$jscomp.polyfill('Array.prototype.includes',function(a){if(a){return a}var b=function(d,g){var c=this;if(c instanceof String){c=String(c)}var f=c.length;var b=g||0;if(b<0){b=Math.max(b+f,0)}for(;b<f;b++){var e=c[b];if(e===d||Object.is(e,d)){return !0}}return !1};return b},'es7','es3');$jscomp.polyfill('Array.prototype.keys',function(a){if(a){return a}var b=function(){return $jscomp.iteratorFromArray(this,function(b){return b})};return b},'es6','es3');$jscomp.polyfill('Array.of',function(a){if(a){return a}var b=function(b){return Array.from(arguments)};return b},'es6','es3');$jscomp.polyfill('Array.prototype.values',function(a){if(a){return a}var b=function(){return $jscomp.iteratorFromArray(this,function(c,b){return b})};return b},'es8','es3');$jscomp.makeIterator=function(a){var b=typeof Symbol!='undefined'&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):$jscomp.arrayIterator(a)};$jscomp.makeAsyncIterator=function(a){var b=a[Symbol.asyncIterator];if(b!==undefined){return b.call(a)}return new $jscomp.AsyncIteratorFromSyncWrapper($jscomp.makeIterator(a))};$jscomp.AsyncIteratorFromSyncWrapper=function(a){this[Symbol.asyncIterator]=function(){return this};this[Symbol.iterator]=function(){return a};this.next=function(b){return Promise.resolve(a.next(b))};if(a['throw']!==undefined){this['throw']=function(b){return Promise.resolve(a['throw'](b))}}if(a['return']!==undefined){this['return']=function(b){return Promise.resolve(a['return'](b))}}};$jscomp.AsyncGeneratorWrapper$ActionEnum={YIELD_VALUE:0,YIELD_STAR:1,AWAIT_VALUE:2};$jscomp.AsyncGeneratorWrapper$ActionRecord=function(a,b){this.action=a;this.value=b};$jscomp.AsyncGeneratorWrapper$GeneratorMethod={NEXT:'next',THROW:'throw',RETURN:'return'};$jscomp.AsyncGeneratorWrapper$ExecutionFrame_=function(b,d,a,c){this.method=b;this.param=d;this.resolve=a;this.reject=c};$jscomp.AsyncGeneratorWrapper$ExecutionNode_=function(a,b){this.frame=a;this.next=b};$jscomp.AsyncGeneratorWrapper$ExecutionQueue_=function(){this.head_=null;this.tail_=null};$jscomp.AsyncGeneratorWrapper$ExecutionQueue_.prototype.isEmpty=function(){return this.head_===null};$jscomp.AsyncGeneratorWrapper$ExecutionQueue_.prototype.first=function(){if(this.head_){return this.head_.frame}else {throw new Error('no frames in executionQueue')}};$jscomp.AsyncGeneratorWrapper$ExecutionQueue_.prototype.drop=function(){if(this.head_){this.head_=this.head_.next;if(!this.head_){this.tail_=null}}};$jscomp.AsyncGeneratorWrapper$ExecutionQueue_.prototype.enqueue=function(b){var a=new $jscomp.AsyncGeneratorWrapper$ExecutionNode_(b,null);if(this.tail_){this.tail_.next=a;this.tail_=a}else {this.head_=a;this.tail_=a}};$jscomp.AsyncGeneratorWrapper=function(b){this.generator_=b;this.delegate_=null;this.executionQueue_=new $jscomp.AsyncGeneratorWrapper$ExecutionQueue_();this[Symbol.asyncIterator]=function(){return this};var a=this;this.boundHandleDelegateResult_=function(c){a.handleDelegateResult_(c)};this.boundHandleDelegateError_=function(c){a.handleDelegateError_(c)};this.boundRejectAndClose_=function(c){a.rejectAndClose_(c)}};$jscomp.AsyncGeneratorWrapper.prototype.enqueueMethod_=function(b,c){var a=this;return new Promise(function(e,f){var d=a.executionQueue_.isEmpty();a.executionQueue_.enqueue(new $jscomp.AsyncGeneratorWrapper$ExecutionFrame_(b,c,e,f));if(d){a.runFrame_()}})};$jscomp.AsyncGeneratorWrapper.prototype.next=function(a){return this.enqueueMethod_($jscomp.AsyncGeneratorWrapper$GeneratorMethod.NEXT,a)};$jscomp.AsyncGeneratorWrapper.prototype["return"]=function(a){return this.enqueueMethod_($jscomp.AsyncGeneratorWrapper$GeneratorMethod.RETURN,new $jscomp.AsyncGeneratorWrapper$ActionRecord($jscomp.AsyncGeneratorWrapper$ActionEnum.YIELD_VALUE,a))};$jscomp.AsyncGeneratorWrapper.prototype["throw"]=function(a){return this.enqueueMethod_($jscomp.AsyncGeneratorWrapper$GeneratorMethod.THROW,a)};$jscomp.AsyncGeneratorWrapper.prototype.runFrame_=function(){if(!this.executionQueue_.isEmpty()){try{if(this.delegate_){this.runDelegateFrame_()}else {this.runGeneratorFrame_()}}catch(a){this.rejectAndClose_(a)}}};$jscomp.AsyncGeneratorWrapper.prototype.runGeneratorFrame_=function(){var b=this;var a=this.executionQueue_.first();try{var c=this.generator_[a.method](a.param);if(c.value instanceof $jscomp.AsyncGeneratorWrapper$ActionRecord){switch(c.value.action){case $jscomp.AsyncGeneratorWrapper$ActionEnum.YIELD_VALUE:Promise.resolve(c.value.value).then(function(d){a.resolve({value:d,done:c.done});b.executionQueue_.drop();b.runFrame_()},function(c){a.reject(c);b.executionQueue_.drop();b.runFrame_()})["catch"](this.boundRejectAndClose_);return;case $jscomp.AsyncGeneratorWrapper$ActionEnum.YIELD_STAR:b.delegate_=$jscomp.makeAsyncIterator(c.value.value);a.method=$jscomp.AsyncGeneratorWrapper$GeneratorMethod.NEXT;a.param=undefined;b.runFrame_();return;case $jscomp.AsyncGeneratorWrapper$ActionEnum.AWAIT_VALUE:Promise.resolve(c.value.value).then(function(c){a.method=$jscomp.AsyncGeneratorWrapper$GeneratorMethod.NEXT;a.param=c;b.runFrame_()},function(c){a.method=$jscomp.AsyncGeneratorWrapper$GeneratorMethod.THROW;a.param=c;b.runFrame_()})["catch"](this.boundRejectAndClose_);return;default:throw new Error('Unrecognized AsyncGeneratorWrapper$ActionEnum');}}else {a.resolve(c);b.executionQueue_.drop();b.runFrame_()}}catch(d){a.reject(d);b.executionQueue_.drop();b.runFrame_()}};$jscomp.AsyncGeneratorWrapper.prototype.runDelegateFrame_=function(){if(!this.delegate_){throw new Error('no delegate to perform execution')}var a=this.executionQueue_.first();if(a.method in this.delegate_){try{this.delegate_[a.method](a.param).then(this.boundHandleDelegateResult_,this.boundHandleDelegateError_)["catch"](this.boundRejectAndClose_)}catch(b){this.handleDelegateError_(b)}}else {this.delegate_=null;this.runFrame_()}};$jscomp.AsyncGeneratorWrapper.prototype.handleDelegateResult_=function(a){var b=this.executionQueue_.first();if(a.done===!0){this.delegate_=null;b.method=$jscomp.AsyncGeneratorWrapper$GeneratorMethod.NEXT;b.param=a.value;this.runFrame_()}else {b.resolve({value:a.value,done:!1});this.executionQueue_.drop();this.runFrame_()}};$jscomp.AsyncGeneratorWrapper.prototype.handleDelegateError_=function(b){var a=this.executionQueue_.first();this.delegate_=null;a.method=$jscomp.AsyncGeneratorWrapper$GeneratorMethod.THROW;a.param=b;this.runFrame_()};$jscomp.AsyncGeneratorWrapper.prototype.rejectAndClose_=function(a){if(!this.executionQueue_.isEmpty()){this.executionQueue_.first().reject(a);this.executionQueue_.drop()}if(this.delegate_&&'return' in this.delegate_){this.delegate_['return'](undefined);this.delegate_=null}this.generator_['return'](undefined);this.runFrame_()};$jscomp.underscoreProtoCanBeSet=function(){var b={a:!0};var a={};try{a.__proto__=b;return a.a}catch(c){}return !1};$jscomp.setPrototypeOf=$jscomp.TRUST_ES6_POLYFILLS&&typeof Object.setPrototypeOf=='function'?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(a,b){a.__proto__=b;if(a.__proto__!==b){throw new TypeError(a+' is not extensible')}return a}:null;$jscomp.generator={};$jscomp.generator.ensureIteratorResultIsObject_=function(a){if(a instanceof Object){return}throw new TypeError('Iterator result '+a+' is not an object')};$jscomp.generator.Context=function(){this.isRunning_=!1;this.yieldAllIterator_=null;this.yieldResult=undefined;this.nextAddress=1;this.catchAddress_=0;this.finallyAddress_=0;this.abruptCompletion_=null;this.finallyContexts_=null};$jscomp.generator.Context.prototype.start_=function(){if(this.isRunning_){throw new TypeError('Generator is already running')}this.isRunning_=!0};$jscomp.generator.Context.prototype.stop_=function(){this.isRunning_=!1};$jscomp.generator.Context.prototype.jumpToErrorHandler_=function(){this.nextAddress=this.catchAddress_||this.finallyAddress_};$jscomp.generator.Context.prototype.next_=function(a){this.yieldResult=a};$jscomp.generator.Context.prototype.throw_=function(a){this.abruptCompletion_={exception:a,isException:!0};this.jumpToErrorHandler_()};$jscomp.generator.Context.prototype["return"]=function(a){this.abruptCompletion_={'return':a};this.nextAddress=this.finallyAddress_};$jscomp.generator.Context.prototype.jumpThroughFinallyBlocks=function(a){this.abruptCompletion_={jumpTo:a};this.nextAddress=this.finallyAddress_};$jscomp.generator.Context.prototype.yield=function(b,a){this.nextAddress=a;return {value:b}};$jscomp.generator.Context.prototype.yieldAll=function(d,b){var c=$jscomp.makeIterator(d);var a=c.next();$jscomp.generator.ensureIteratorResultIsObject_(a);if(a.done){this.yieldResult=a.value;this.nextAddress=b;return}this.yieldAllIterator_=c;return this.yield(a.value,b)};$jscomp.generator.Context.prototype.jumpTo=function(a){this.nextAddress=a};$jscomp.generator.Context.prototype.jumpToEnd=function(){this.nextAddress=0};$jscomp.generator.Context.prototype.setCatchFinallyBlocks=function(b,a){this.catchAddress_=b;if(a!=undefined){this.finallyAddress_=a}};$jscomp.generator.Context.prototype.setFinallyBlock=function(a){this.catchAddress_=0;this.finallyAddress_=a||0};$jscomp.generator.Context.prototype.leaveTryBlock=function(b,a){this.nextAddress=b;this.catchAddress_=a||0};$jscomp.generator.Context.prototype.enterCatchBlock=function(a){this.catchAddress_=a||0;var b=this.abruptCompletion_.exception;this.abruptCompletion_=null;return b};$jscomp.generator.Context.prototype.enterFinallyBlock=function(c,b,a){if(!a){this.finallyContexts_=[this.abruptCompletion_]}else {this.finallyContexts_[a]=this.abruptCompletion_}this.catchAddress_=c||0;this.finallyAddress_=b||0};$jscomp.generator.Context.prototype.leaveFinallyBlock=function(d,c){var b=this.finallyContexts_.splice(c||0)[0];var a=this.abruptCompletion_=this.abruptCompletion_||b;if(a){if(a.isException){return this.jumpToErrorHandler_()}if(a.jumpTo!=undefined&&this.finallyAddress_<a.jumpTo){this.nextAddress=a.jumpTo;this.abruptCompletion_=null}else {this.nextAddress=this.finallyAddress_}}else {this.nextAddress=d}};$jscomp.generator.Context.prototype.forIn=function(a){return new $jscomp.generator.Context.PropertyIterator(a)};$jscomp.generator.Context.PropertyIterator=function(a){this.object_=a;this.properties_=[];for(var b in a){this.properties_.push(b)}this.properties_.reverse()};$jscomp.generator.Context.PropertyIterator.prototype.getNext=function(){while(this.properties_.length>0){var a=this.properties_.pop();if(a in this.object_){return a}}return null};$jscomp.generator.Engine_=function(a){this.context_=new $jscomp.generator.Context();this.program_=a};$jscomp.generator.Engine_.prototype.next_=function(a){this.context_.start_();if(this.context_.yieldAllIterator_){return this.yieldAllStep_(this.context_.yieldAllIterator_.next,a,this.context_.next_)}this.context_.next_(a);return this.nextStep_()};$jscomp.generator.Engine_.prototype.return_=function(b){this.context_.start_();var a=this.context_.yieldAllIterator_;if(a){var c='return' in a?a['return']:function(a){return {value:a,done:!0}};return this.yieldAllStep_(c,b,this.context_["return"])}this.context_["return"](b);return this.nextStep_()};$jscomp.generator.Engine_.prototype.throw_=function(a){this.context_.start_();if(this.context_.yieldAllIterator_){return this.yieldAllStep_(this.context_.yieldAllIterator_['throw'],a,this.context_.next_)}this.context_.throw_(a);return this.nextStep_()};$jscomp.generator.Engine_.prototype.yieldAllStep_=function(d,e,c){try{var a=d.call(this.context_.yieldAllIterator_,e);$jscomp.generator.ensureIteratorResultIsObject_(a);if(!a.done){this.context_.stop_();return a}var b=a.value}catch(f){this.context_.yieldAllIterator_=null;this.context_.throw_(f);return this.nextStep_()}this.context_.yieldAllIterator_=null;c.call(this.context_,b);return this.nextStep_()};$jscomp.generator.Engine_.prototype.nextStep_=function(){while(this.context_.nextAddress){try{var b=this.program_(this.context_);if(b){this.context_.stop_();return {value:b.value,done:!1}}}catch(c){this.context_.yieldResult=undefined;this.context_.throw_(c)}}this.context_.stop_();if(this.context_.abruptCompletion_){var a=this.context_.abruptCompletion_;this.context_.abruptCompletion_=null;if(a.isException){throw a.exception}return {value:a["return"],done:!0}}return {value:undefined,done:!0}};$jscomp.generator.Generator_=function(a){this.next=function(b){return a.next_(b)};this["throw"]=function(b){return a.throw_(b)};this["return"]=function(b){return a.return_(b)};this[Symbol.iterator]=function(){return this}};$jscomp.generator.createGenerator=function(a,c){var b=new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(c));if($jscomp.setPrototypeOf&&a.prototype){$jscomp.setPrototypeOf(b,a.prototype)}return b};$jscomp.asyncExecutePromiseGenerator=function(a){function passValueToGenerator(b){return a.next(b)}function passErrorToGenerator(b){return a["throw"](b)}return new Promise(function(b,c){function handleGeneratorRecord(d){if(d.done){b(d.value)}else {Promise.resolve(d.value).then(passValueToGenerator,passErrorToGenerator).then(handleGeneratorRecord,c)}}handleGeneratorRecord(a.next())})};$jscomp.asyncExecutePromiseGeneratorFunction=function(a){return $jscomp.asyncExecutePromiseGenerator(a())};$jscomp.asyncExecutePromiseGeneratorProgram=function(a){return $jscomp.asyncExecutePromiseGenerator(new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(a)))};$jscomp.polyfill('globalThis',function(a){return a||$jscomp.global},'es_2020','es3');$jscomp.checkEs6ConformanceViaProxy=function(){try{var a={};var b=Object.create(new $jscomp.global['Proxy'](a,{'get':function(d,e,c){return d==a&&e=='q'&&c==b}}));return b['q']===!0}catch(c){return !1}};$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS=!1;$jscomp.ES6_CONFORMANCE=$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS&&$jscomp.checkEs6ConformanceViaProxy();$jscomp.owns=function(b,a){return Object.prototype.hasOwnProperty.call(b,a)};$jscomp.polyfill('WeakMap',function(c){function isConformant(){if(!c||!Object.seal){return !1}try{var b=Object.seal({});var d=Object.seal({});var a=new c([[b,2],[d,3]]);if(a.get(b)!=2||a.get(d)!=3){return !1}a["delete"](b);a.set(d,4);return !a.has(b)&&a.get(d)==4}catch(e){return !1}}if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(c&&$jscomp.ES6_CONFORMANCE){return c}}else {if(isConformant()){return c}}var a='$jscomp_hidden_'+Math.random();function WeakMapMembership(){}function isValidKey(b){var a=typeof b;return a==='object'&&b!==null||a==='function'}function insert(b){if(!$jscomp.owns(b,a)){var d=new WeakMapMembership();$jscomp.defineProperty(b,a,{value:d})}}function patch(a){if($jscomp.ISOLATE_POLYFILLS){return}var b=Object[a];if(b){Object[a]=function(d){if(d instanceof WeakMapMembership){return d}else {if(Object.isExtensible(d)){insert(d)}return b(d)}}}}patch('freeze');patch('preventExtensions');patch('seal');var d=0;var b=function(a){this.id_=(d+=Math.random()+1).toString();if(a){var f=$jscomp.makeIterator(a);var b;while(!(b=f.next()).done){var e=b.value;this.set(e[0],e[1])}}};b.prototype.set=function(b,d){if(!isValidKey(b)){throw new Error('Invalid WeakMap key')}insert(b);if(!$jscomp.owns(b,a)){throw new Error('WeakMap key fail: '+b)}b[a][this.id_]=d;return this};b.prototype.get=function(b){return isValidKey(b)&&$jscomp.owns(b,a)?b[a][this.id_]:undefined};b.prototype.has=function(b){return isValidKey(b)&&$jscomp.owns(b,a)&&$jscomp.owns(b[a],this.id_)};b.prototype["delete"]=function(b){if(!isValidKey(b)||!$jscomp.owns(b,a)||!$jscomp.owns(b[a],this.id_)){return !1}return delete b[a][this.id_]};return b},'es6','es3');$jscomp.MapEntry=function(){this.previous;this.next;this.head;this.key;this.value};$jscomp.polyfill('Map',function(b){function isConformant(){if($jscomp.ASSUME_NO_NATIVE_MAP||!b||typeof b!='function'||!b.prototype.entries||typeof Object.seal!='function'){return !1}try{b=b;var e=Object.seal({x:4});var c=new b($jscomp.makeIterator([[e,'s']]));if(c.get(e)!='s'||c.size!=1||c.get({x:4})||c.set({x:4},'t')!=c||c.size!=2){return !1}var d=c.entries();var a=d.next();if(a.done||a.value[0]!=e||a.value[1]!='s'){return !1}a=d.next();if(a.done||a.value[0].x!=4||a.value[1]!='t'||!d.next().done){return !1}return !0}catch(i){return !1}}if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(b&&$jscomp.ES6_CONFORMANCE){return b}}else {if(isConformant()){return b}}var e=new WeakMap();var a=function(a){this.data_={};this.head_=f();this.size=0;if(a){var e=$jscomp.makeIterator(a);var c;while(!(c=e.next()).done){var d=c.value;this.set(d[0],d[1])}}};a.prototype.set=function(d,e){d=d===0?0:d;var a=c(this,d);if(!a.list){a.list=this.data_[a.id]=[]}if(!a.entry){a.entry={next:this.head_,previous:this.head_.previous,head:this.head_,key:d,value:e};a.list.push(a.entry);this.head_.previous.next=a.entry;this.head_.previous=a.entry;this.size++}else {a.entry.value=e}return this};a.prototype["delete"]=function(d){var a=c(this,d);if(a.entry&&a.list){a.list.splice(a.index,1);if(!a.list.length){delete this.data_[a.id]}a.entry.previous.next=a.entry.next;a.entry.next.previous=a.entry.previous;a.entry.head=null;this.size--;return !0}return !1};a.prototype.clear=function(){this.data_={};this.head_=this.head_.previous=f();this.size=0};a.prototype.has=function(a){return !!c(this,a).entry};a.prototype.get=function(d){var a=c(this,d).entry;return a&&a.value};a.prototype.entries=function(){return d(this,function(a){return [a.key,a.value]})};a.prototype.keys=function(){return d(this,function(a){return a.key})};a.prototype.values=function(){return d(this,function(a){return a.value})};a.prototype.forEach=function(e,d){var f=this.entries();var c;while(!(c=f.next()).done){var a=c.value;e.call(d,a[1],a[0],this)}};a.prototype[Symbol.iterator]=a.prototype.entries;var c=function(g,e){var f=h(e);var a=g.data_[f];if(a&&$jscomp.owns(g.data_,f)){for(var d=0;d<a.length;d++){var c=a[d];if(e!==e&&c.key!==c.key||e===c.key){return {id:f,list:a,index:d,entry:c}}}}return {id:f,list:a,index:-1,entry:undefined}};var d=function(c,d){var a=c.head_;return $jscomp.iteratorPrototype(function(){if(a){while(a.head!=c.head_){a=a.previous}while(a.next!=a.head){a=a.next;return {done:!1,value:d(a)}}a=null}return {done:!0,value:void 0}})};var f=function(){var a={};a.previous=a.next=a.head=a;return a};var g=0;var h=function(a){var c=a&&typeof a;if(c=='object'||c=='function'){a=a;if(!e.has(a)){var d=''+ ++g;e.set(a,d);return d}return e.get(a)}return 'p_'+a};return a},'es6','es3');$jscomp.polyfill('Math.acosh',function(a){if(a){return a}var b=function(b){b=Number(b);return Math.log(b+Math.sqrt(b*b-1))};return b},'es6','es3');$jscomp.polyfill('Math.asinh',function(a){if(a){return a}var b=function(b){b=Number(b);if(b===0){return b}var c=Math.log(Math.abs(b)+Math.sqrt(b*b+1));return b<0?-c:c};return b},'es6','es3');$jscomp.polyfill('Math.log1p',function(a){if(a){return a}var b=function(b){b=Number(b);if(b<0.25&&b>-0.25){var f=b;var g=1;var c=b;var d=0;var e=1;while(d!=c){f*=b;e*=-1;c=(d=c)+e*f/++g}return c}return Math.log(1+b)};return b},'es6','es3');$jscomp.polyfill('Math.atanh',function(b){if(b){return b}var a=Math.log1p;var c=function(c){c=Number(c);return (a(c)-a(-c))/2};return c},'es6','es3');$jscomp.polyfill('Math.cbrt',function(a){if(a){return a}var b=function(b){if(b===0){return b}b=Number(b);var c=Math.pow(Math.abs(b),1/3);return b<0?-c:c};return b},'es6','es3');$jscomp.polyfill('Math.clz32',function(a){if(a){return a}var b=function(b){b=Number(b)>>>0;if(b===0){return 32}var c=0;if((b&4.29490176E9)===0){b<<=16;c+=16}if((b&4.27819008E9)===0){b<<=8;c+=8}if((b&4.02653184E9)===0){b<<=4;c+=4}if((b&3.221225472E9)===0){b<<=2;c+=2}if((b&2.147483648E9)===0){c++}return c};return b},'es6','es3');$jscomp.polyfill('Math.cosh',function(a){if(a){return a}var b=Math.exp;var c=function(c){c=Number(c);return (b(c)+b(-c))/2};return c},'es6','es3');$jscomp.polyfill('Math.expm1',function(a){if(a){return a}var b=function(b){b=Number(b);if(b<0.25&&b>-0.25){var e=b;var f=1;var c=b;var d=0;while(d!=c){e*=b/++f;c=(d=c)+e}return c}return Math.exp(b)-1};return b},'es6','es3');$jscomp.polyfill('Math.fround',function(a){if(a){return a}if($jscomp.SIMPLE_FROUND_POLYFILL||typeof Float32Array!=='function'){return function(b){return b}}var b=new Float32Array(1);var c=function(c){b[0]=c;return b[0]};return c},'es6','es3');$jscomp.polyfill('Math.hypot',function(a){if(a){return a}var b=function(f){if(arguments.length<2){return arguments.length?Math.abs(arguments[0]):0}var b,e,d,c;for(c=0,b=0;b<arguments.length;b++){c=Math.max(c,Math.abs(arguments[b]))}if(c>1.0E100||c<1.0E-100){if(!c){return c}d=0;for(b=0;b<arguments.length;b++){e=Number(arguments[b])/c;d+=e*e}return Math.sqrt(d)*c}else {d=0;for(b=0;b<arguments.length;b++){e=Number(arguments[b]);d+=e*e}return Math.sqrt(d)}};return b},'es6','es3');$jscomp.polyfill('Math.imul',function(a){if(a){return a}var b=function(b,c){b=Number(b);c=Number(c);var f=b>>>16&65535;var d=b&65535;var g=c>>>16&65535;var e=c&65535;var h=f*e+d*g<<16>>>0;return d*e+h|0};return b},'es6','es3');$jscomp.polyfill('Math.log10',function(a){if(a){return a}var b=function(b){return Math.log(b)/Math.LN10};return b},'es6','es3');$jscomp.polyfill('Math.log2',function(a){if(a){return a}var b=function(b){return Math.log(b)/Math.LN2};return b},'es6','es3');$jscomp.polyfill('Math.sign',function(a){if(a){return a}var b=function(b){b=Number(b);return b===0||isNaN(b)?b:b>0?1:-1};return b},'es6','es3');$jscomp.polyfill('Math.sinh',function(a){if(a){return a}var b=Math.exp;var c=function(c){c=Number(c);if(c===0){return c}return (b(c)-b(-c))/2};return c},'es6','es3');$jscomp.polyfill('Math.tanh',function(a){if(a){return a}var b=function(b){b=Number(b);if(b===0){return b}var c=Math.exp(-2*Math.abs(b));var d=(1-c)/(1+c);return b<0?-d:d};return b},'es6','es3');$jscomp.polyfill('Math.trunc',function(a){if(a){return a}var b=function(b){b=Number(b);if(isNaN(b)||b===Infinity||b===-Infinity||b===0){return b}var c=Math.floor(Math.abs(b));return b<0?-c:c};return b},'es6','es3');$jscomp.polyfill('Number.EPSILON',function(a){return Math.pow(2,-52)},'es6','es3');$jscomp.polyfill('Number.MAX_SAFE_INTEGER',function(){return 9.007199254740991E15},'es6','es3');$jscomp.polyfill('Number.MIN_SAFE_INTEGER',function(){return -9.007199254740991E15},'es6','es3');$jscomp.polyfill('Number.isFinite',function(a){if(a){return a}var b=function(b){if(typeof b!=='number'){return !1}return !isNaN(b)&&b!==Infinity&&b!==-Infinity};return b},'es6','es3');$jscomp.polyfill('Number.isInteger',function(a){if(a){return a}var b=function(b){if(!Number.isFinite(b)){return !1}return b===Math.floor(b)};return b},'es6','es3');$jscomp.polyfill('Number.isNaN',function(a){if(a){return a}var b=function(b){return typeof b==='number'&&isNaN(b)};return b},'es6','es3');$jscomp.polyfill('Number.isSafeInteger',function(a){if(a){return a}var b=function(b){return Number.isInteger(b)&&Math.abs(b)<=Number.MAX_SAFE_INTEGER};return b},'es6','es3');$jscomp.polyfill('Number.parseFloat',function(a){return a||parseFloat},'es6','es3');$jscomp.polyfill('Number.parseInt',function(a){return a||parseInt},'es6','es3');$jscomp.assign=$jscomp.TRUST_ES6_POLYFILLS&&typeof Object.assign=='function'?Object.assign:function(d,e){for(var c=1;c<arguments.length;c++){var a=arguments[c];if(!a){continue}for(var b in a){if($jscomp.owns(a,b)){d[b]=a[b]}}}return d};$jscomp.polyfill('Object.assign',function(a){return a||$jscomp.assign},'es6','es3');$jscomp.polyfill('Object.entries',function(a){if(a){return a}var b=function(c){var d=[];for(var b in c){if($jscomp.owns(c,b)){d.push([b,c[b]])}}return d};return b},'es8','es3');$jscomp.polyfill('Object.fromEntries',function(a){if(a){return a}function fromEntries(b){var f={};if(!(Symbol.iterator in b)){throw new TypeError(''+b+' is not iterable')}var g=b[Symbol.iterator];var e=g.call(b);for(var d=e.next();!d.done;d=e.next()){var c=d.value;if(Object(c)!==c){throw new TypeError('iterable for fromEntries should yield objects')}var h=c[0];var i=c[1];f[h]=i}return f}return fromEntries},'es_2019','es3');$jscomp.polyfill('Reflect',function(a){if(a){return a}return {}},'es6','es3');$jscomp.polyfill('Object.getOwnPropertySymbols',function(a){if(a){return a}return function(){return []}},'es6','es5');$jscomp.polyfill('Reflect.ownKeys',function(b){if(b){return b}var a='jscomp_symbol_';function isSymbol(c){return c.substring(0,a.length)==a}var c=function(e){var f=[];var c=Object.getOwnPropertyNames(e);var d=Object.getOwnPropertySymbols(e);for(var a=0;a<c.length;a++){(isSymbol(c[a])?d:f).push(c[a])}return f.concat(d)};return c},'es6','es5');$jscomp.polyfill('Object.getOwnPropertyDescriptors',function(a){if(a){return a}var b=function(e){var d={};var c=Reflect.ownKeys(e);for(var b=0;b<c.length;b++){d[c[b]]=Object.getOwnPropertyDescriptor(e,c[b])}return d};return b},'es8','es5');$jscomp.polyfill('Object.setPrototypeOf',function(a){return a||$jscomp.setPrototypeOf},'es6','es5');$jscomp.polyfill('Object.values',function(a){if(a){return a}var b=function(b){var c=[];for(var d in b){if($jscomp.owns(b,d)){c.push(b[d])}}return c};return b},'es8','es3');$jscomp.polyfill('Promise',function(d){function platformSupportsPromiseRejectionEvents(){return typeof $jscomp.global['PromiseRejectionEvent']!=='undefined'}function globalPromiseIsNative(){return $jscomp.global['Promise']&&$jscomp.global['Promise'].toString().indexOf('[native code]')!==-1}function shouldForcePolyfillPromise(){return ($jscomp.FORCE_POLYFILL_PROMISE||$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION&&!platformSupportsPromiseRejectionEvents())&&globalPromiseIsNative()}if(d&&!shouldForcePolyfillPromise()){return d}function AsyncExecutor(){this.batch_=null}AsyncExecutor.prototype.asyncExecute=function(b){if(this.batch_==null){this.batch_=[];var a=this;this.asyncExecuteFunction(function(){a.executeBatch_()})}this.batch_.push(b)};var c=$jscomp.global['setTimeout'];AsyncExecutor.prototype.asyncExecuteFunction=function(a){c(a,0)};AsyncExecutor.prototype.executeBatch_=function(){while(this.batch_&&this.batch_.length){var b=this.batch_;this.batch_=[];for(var a=0;a<b.length;++a){var c=b[a];b[a]=null;try{c()}catch(f){this.asyncThrow_(f)}}}this.batch_=null};AsyncExecutor.prototype.asyncThrow_=function(a){this.asyncExecuteFunction(function(){throw a})};var b={PENDING:0,FULFILLED:1,REJECTED:2};var a=function(c){this.state_=b.PENDING;this.result_=undefined;this.onSettledCallbacks_=[];this.isRejectionHandled_=!1;var a=this.createResolveAndReject_();try{c(a.resolve,a.reject)}catch(f){a.reject(f)}};a.prototype.createResolveAndReject_=function(){var b=this;var a=!1;function firstCallWins(c){return function(e){if(!a){a=!0;c.call(b,e)}}}return {resolve:firstCallWins(this.resolveTo_),reject:firstCallWins(this.reject_)}};a.prototype.resolveTo_=function(b){if(b===this){this.reject_(new TypeError('A Promise cannot resolve to itself'))}else if(b instanceof a){this.settleSameAsPromise_(b)}else if(isObject(b)){this.resolveToNonPromiseObj_(b)}else {this.fulfill_(b)}};a.prototype.resolveToNonPromiseObj_=function(b){var a=undefined;try{a=b.then}catch(f){this.reject_(f);return}if(typeof a=='function'){this.settleSameAsThenable_(a,b)}else {this.fulfill_(b)}};function isObject(a){switch(typeof a){case 'object':return a!=null;case 'function':return !0;default:return !1;}}a.prototype.reject_=function(a){this.settle_(b.REJECTED,a)};a.prototype.fulfill_=function(a){this.settle_(b.FULFILLED,a)};a.prototype.settle_=function(c,a){if(this.state_!=b.PENDING){throw new Error('Cannot settle('+c+', '+a+'): Promise already settled in state'+this.state_)}this.state_=c;this.result_=a;if(this.state_===b.REJECTED){this.scheduleUnhandledRejectionCheck_()}this.executeOnSettledCallbacks_()};a.prototype.scheduleUnhandledRejectionCheck_=function(){var a=this;c(function(){if(a.notifyUnhandledRejection_()){var b=$jscomp.global['console'];if(typeof b!=='undefined'){b.error(a.result_)}}},1)};a.prototype.notifyUnhandledRejection_=function(){if(this.isRejectionHandled_){return !1}var c=$jscomp.global['CustomEvent'];var e=$jscomp.global['Event'];var b=$jscomp.global['dispatchEvent'];if(typeof b==='undefined'){return !0}var a;if(typeof c==='function'){a=new c('unhandledrejection',{cancelable:!0})}else if(typeof e==='function'){a=new e('unhandledrejection',{cancelable:!0})}else {a=$jscomp.global['document'].createEvent('CustomEvent');a.initCustomEvent('unhandledrejection',!1,!0,a)}a.promise=this;a.reason=this.result_;return b(a)};a.prototype.executeOnSettledCallbacks_=function(){if(this.onSettledCallbacks_!=null){for(var a=0;a<this.onSettledCallbacks_.length;++a){e.asyncExecute(this.onSettledCallbacks_[a])}this.onSettledCallbacks_=null}};var e=new AsyncExecutor();a.prototype.settleSameAsPromise_=function(b){var a=this.createResolveAndReject_();b.callWhenSettled_(a.resolve,a.reject)};a.prototype.settleSameAsThenable_=function(b,c){var a=this.createResolveAndReject_();try{b.call(c,a.resolve,a.reject)}catch(f){a.reject(f)}};a.prototype.then=function(f,g){var b;var c;var e=new a(function(a,e){b=a;c=e});function createCallback(a,e){if(typeof a=='function'){return function(h){try{b(a(h))}catch(i){c(i)}}}else {return e}}this.callWhenSettled_(createCallback(f,b),createCallback(g,c));return e};a.prototype["catch"]=function(a){return this.then(undefined,a)};a.prototype.callWhenSettled_=function(c,f){var a=this;function callback(){switch(a.state_){case b.FULFILLED:c(a.result_);break;case b.REJECTED:f(a.result_);break;default:throw new Error('Unexpected state: '+a.state_);}}if(this.onSettledCallbacks_==null){e.asyncExecute(callback)}else {this.onSettledCallbacks_.push(callback)}this.isRejectionHandled_=!0};function resolvingPromise(b){if(b instanceof a){return b}else {return new a(function(a,c){a(b)})}}a['resolve']=resolvingPromise;a['reject']=function(b){return new a(function(c,a){a(b)})};a['race']=function(b){return new a(function(e,f){var c=$jscomp.makeIterator(b);for(var a=c.next();!a.done;a=c.next()){resolvingPromise(a.value).callWhenSettled_(e,f)}})};a['all']=function(e){var c=$jscomp.makeIterator(e);var b=c.next();if(b.done){return resolvingPromise([])}else {return new a(function(g,h){var a=[];var f=0;function onFulfilled(b){return function(c){a[b]=c;f--;if(f==0){g(a)}}}do{a.push(undefined);f++;resolvingPromise(b.value).callWhenSettled_(onFulfilled(a.length-1),h);b=c.next()}while(!b.done)})}};return a},'es6','es3');$jscomp.polyfill('Promise.allSettled',function(a){if(a){return a}function fulfilledResult(b){return {status:'fulfilled',value:b}}function rejectedResult(b){return {status:'rejected',reason:b}}var b=function(c){var b=this;function convertToAllSettledResult(d){return b.resolve(d).then(fulfilledResult,rejectedResult)}var d=Array.from(c,convertToAllSettledResult);return b.all(d)};return b},'es_2020','es3');$jscomp.polyfill('Promise.prototype.finally',function(a){if(a){return a}var b=function(b){return this.then(function(d){var c=Promise.resolve(b());return c.then(function(){return d})},function(d){var c=Promise.resolve(b());return c.then(function(){throw d})})};return b},'es9','es3');$jscomp.objectCreate=$jscomp.ASSUME_ES5||typeof Object.create=='function'?Object.create:function(b){var a=function(){};a.prototype=b;return new a()};$jscomp.inherits=function(a,b){a.prototype=$jscomp.objectCreate(b.prototype);a.prototype.constructor=a;if($jscomp.setPrototypeOf){var e=$jscomp.setPrototypeOf;e(a,b)}else {for(var c in b){if(c=='prototype'){continue}if(Object.defineProperties){var d=Object.getOwnPropertyDescriptor(b,c);if(d){Object.defineProperty(a,c,d)}}else {a[c]=b[c]}}}a.superClass_=b.prototype};$jscomp.polyfill('AggregateError',function(b){if(b){return b}var a=function(d,c){var a=Error(c);if('stack' in a){this.stack=a.stack}this.errors=d;this.message=a.message};$jscomp.inherits(a,Error);a.prototype.name='AggregateError';return a},'es_2021','es3');$jscomp.polyfill('Promise.any',function(a){if(a){return a}var b='All promises were rejected';function resolvingArray(b){if(b instanceof Array){return b}else {return Array.from(b)}}var c=function(c){c=resolvingArray(c);return Promise.all(c.map(function(b){return Promise.resolve(b).then(function(d){throw d},function(d){return d})})).then(function(d){throw new AggregateError(d,b)},function(b){return b})};return c},'es_2021','es3');$jscomp.polyfill('Reflect.apply',function(a){if(a){return a}var c=Function.prototype.apply;var b=function(e,d,b){return c.call(e,d,b)};return b},'es6','es3');$jscomp.getConstructImplementation=function(){function reflectConstructWorks(){function Base(){}function Derived(){}new Base();Reflect.construct(Base,[],Derived);return new Base() instanceof Base}if($jscomp.TRUST_ES6_POLYFILLS&&typeof Reflect!='undefined'&&Reflect.construct){if(reflectConstructWorks()){return Reflect.construct}var b=Reflect.construct;var a=function(e,d,a){var c=b(e,d);if(a){Reflect.setPrototypeOf(c,a.prototype)}return c};return a}function construct(b,d,a){if(a===undefined){a=b}var f=a.prototype||Object.prototype;var c=$jscomp.objectCreate(f);var e=Function.prototype.apply;var g=e.call(b,c,d);return g||c}return construct};$jscomp.construct={valueOf:$jscomp.getConstructImplementation}.valueOf();$jscomp.polyfill('Reflect.construct',function(a){return $jscomp.construct},'es6','es3');$jscomp.polyfill('Reflect.defineProperty',function(a){if(a){return a}var b=function(e,d,c){try{Object.defineProperty(e,d,c);var b=Object.getOwnPropertyDescriptor(e,d);if(!b){return !1}return b.configurable===(c.configurable||!1)&&b.enumerable===(c.enumerable||!1)&&('value' in b?b.value===c.value&&b.writable===(c.writable||!1):b.get===c.get&&b.set===c.set)}catch(f){return !1}};return b},'es6','es5');$jscomp.polyfill('Reflect.deleteProperty',function(a){if(a){return a}var b=function(c,b){if(!$jscomp.owns(c,b)){return !0}try{return delete c[b]}catch(d){return !1}};return b},'es6','es3');$jscomp.polyfill('Reflect.getOwnPropertyDescriptor',function(a){return a||Object.getOwnPropertyDescriptor},'es6','es5');$jscomp.polyfill('Reflect.getPrototypeOf',function(a){return a||Object.getPrototypeOf},'es6','es5');$jscomp.findDescriptor=function(d,c){var a=d;while(a){var b=Reflect.getOwnPropertyDescriptor(a,c);if(b){return b}a=Reflect.getPrototypeOf(a)}return undefined};$jscomp.polyfill('Reflect.get',function(a){if(a){return a}var b=function(d,c,e){if(arguments.length<=2){return d[c]}var b=$jscomp.findDescriptor(d,c);if(b){return b.get?b.get.call(e):b.value}return undefined};return b},'es6','es5');$jscomp.polyfill('Reflect.has',function(a){if(a){return a}var b=function(c,b){return b in c};return b},'es6','es3');$jscomp.polyfill('Reflect.isExtensible',function(a){if(a){return a}if($jscomp.ASSUME_ES5||typeof Object.isExtensible=='function'){return Object.isExtensible}return function(){return !0}},'es6','es3');$jscomp.polyfill('Reflect.preventExtensions',function(a){if(a){return a}if(!($jscomp.ASSUME_ES5||typeof Object.preventExtensions=='function')){return function(){return !1}}var b=function(b){Object.preventExtensions(b);return !Object.isExtensible(b)};return b},'es6','es3');$jscomp.polyfill('Reflect.set',function(a){if(a){return a}var b=function(b,d,e,f){var c=$jscomp.findDescriptor(b,d);if(!c){if(Reflect.isExtensible(b)){b[d]=e;return !0}return !1}if(c.set){c.set.call(arguments.length>3?f:b,e);return !0}else if(c.writable&&!Object.isFrozen(b)){b[d]=e;return !0}return !1};return b},'es6','es5');$jscomp.polyfill('Reflect.setPrototypeOf',function(a){if(a){return a}else if($jscomp.setPrototypeOf){var b=$jscomp.setPrototypeOf;var c=function(c,d){try{b(c,d);return !0}catch(e){return !1}};return c}else {return null}},'es6','es5');$jscomp.polyfill('Set',function(b){function isConformant(){if($jscomp.ASSUME_NO_NATIVE_SET||!b||typeof b!='function'||!b.prototype.entries||typeof Object.seal!='function'){return !1}try{b=b;var d=Object.seal({x:4});var c=new b($jscomp.makeIterator([d]));if(!c.has(d)||c.size!=1||c.add(d)!=c||c.size!=1||c.add({x:4})!=c||c.size!=2){return !1}var e=c.entries();var a=e.next();if(a.done||a.value[0]!=d||a.value[1]!=d){return !1}a=e.next();if(a.done||a.value[0]==d||a.value[0].x!=4||a.value[1]!=a.value[0]){return !1}return e.next().done}catch(f){return !1}}if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(b&&$jscomp.ES6_CONFORMANCE){return b}}else {if(isConformant()){return b}}var a=function(a){this.map_=new Map();if(a){var e=$jscomp.makeIterator(a);var c;while(!(c=e.next()).done){var d=c.value;this.add(d)}}this.size=this.map_.size};a.prototype.add=function(a){a=a===0?0:a;this.map_.set(a,a);this.size=this.map_.size;return this};a.prototype["delete"]=function(c){var a=this.map_["delete"](c);this.size=this.map_.size;return a};a.prototype.clear=function(){this.map_.clear();this.size=0};a.prototype.has=function(a){return this.map_.has(a)};a.prototype.entries=function(){return this.map_.entries()};a.prototype.values=function(){return this.map_.values()};a.prototype.keys=a.prototype.values;a.prototype[Symbol.iterator]=a.prototype.values;a.prototype.forEach=function(c,a){var d=this;this.map_.forEach(function(e){return c.call(a,e,e,d)})};return a},'es6','es3');$jscomp.checkStringArgs=function(a,c,b){if(a==null){throw new TypeError("The 'this' value for String.prototype."+b+' must not be null or undefined')}if(c instanceof RegExp){throw new TypeError('First argument to String.prototype.'+b+' must not be a regular expression')}return a+''};$jscomp.polyfill('String.prototype.codePointAt',function(a){if(a){return a}var b=function(b){var e=$jscomp.checkStringArgs(this,null,'codePointAt');var f=e.length;b=Number(b)||0;if(!(b>=0&&b<f)){return void 0}b=b|0;var c=e.charCodeAt(b);if(c<55296||c>56319||b+1===f){return c}var d=e.charCodeAt(b+1);if(d<56320||d>57343){return c}return (c-55296)*1024+d+9216};return b},'es6','es3');$jscomp.polyfill('String.prototype.endsWith',function(a){if(a){return a}var b=function(b,c){var d=$jscomp.checkStringArgs(this,b,'endsWith');b=b+'';if(c===void 0){c=d.length}var f=Math.max(0,Math.min(c|0,d.length));var e=b.length;while(e>0&&f>0){if(d[--f]!=b[--e]){return !1}}return e<=0};return b},'es6','es3');$jscomp.polyfill('String.fromCodePoint',function(a){if(a){return a}var b=function(e){var c='';for(var d=0;d<arguments.length;d++){var b=Number(arguments[d]);if(b<0||b>1114111||b!==Math.floor(b)){throw new RangeError('invalid_code_point '+b)}if(b<=65535){c+=String.fromCharCode(b)}else {b-=65536;c+=String.fromCharCode(b>>>10&1023|55296);c+=String.fromCharCode(b&1023|56320)}}return c};return b},'es6','es3');$jscomp.polyfill('String.prototype.includes',function(a){if(a){return a}var b=function(b,c){var d=$jscomp.checkStringArgs(this,b,'includes');return d.indexOf(b,c||0)!==-1};return b},'es6','es3');$jscomp.polyfill('String.prototype.matchAll',function(a){if(a){return a}var b=function(b){if(b instanceof RegExp&&!b.global){throw new TypeError('RegExp passed into String.prototype.matchAll() must have global tag.')}var d=new RegExp(b,b instanceof RegExp?undefined:'g');var f=this;var e=!1;var c={next:function(){if(e){return {value:undefined,done:!0}}var c=d.exec(f);if(!c){e=!0;return {value:undefined,done:!0}}if(c[0]===''){d.lastIndex+=1}return {value:c,done:!1}}};c[Symbol.iterator]=function(){return c};return c};return b},'es_2020','es3');$jscomp.polyfill('String.prototype.repeat',function(a){if(a){return a}var b=function(b){var c=$jscomp.checkStringArgs(this,null,'repeat');if(b<0||b>1342177279){throw new RangeError('Invalid count value')}b=b|0;var d='';while(b){if(b&1){d+=c}if(b>>>=1){c+=c}}return d};return b},'es6','es3');$jscomp.stringPadding=function(c,a){var b=c!==undefined?String(c):' ';if(!(a>0)||!b){return ''}var d=Math.ceil(a/b.length);return b.repeat(d).substring(0,a)};$jscomp.polyfill('String.prototype.padEnd',function(a){if(a){return a}var b=function(d,c){var b=$jscomp.checkStringArgs(this,null,'padStart');var e=d-b.length;return b+$jscomp.stringPadding(c,e)};return b},'es8','es3');$jscomp.polyfill('String.prototype.padStart',function(a){if(a){return a}var b=function(d,c){var b=$jscomp.checkStringArgs(this,null,'padStart');var e=d-b.length;return $jscomp.stringPadding(c,e)+b};return b},'es8','es3');$jscomp.polyfill('String.raw',function(a){if(a){return a}var b=function(d,g){if(d==null){throw new TypeError('Cannot convert undefined or null to object')}var f=d.raw;var e=f.length;var c='';for(var b=0;b<e;++b){c+=f[b];if(b+1<e&&b+1<arguments.length){c+=String(arguments[b+1])}}return c};return b},'es6','es3');$jscomp.polyfill('String.prototype.replaceAll',function(a){if(a){return a}function regExpEscape(b){return String(b).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,'\\$1').replace(/\x08/g,'\\x08')}var b=function(b,c){if(b instanceof RegExp&&!b.global){throw new TypeError('String.prototype.replaceAll called with a non-global RegExp argument.')}if(b instanceof RegExp){return this.replace(b,c)}return this.replace(new RegExp(regExpEscape(b),'g'),c)};return b},'es_2021','es3');$jscomp.polyfill('String.prototype.startsWith',function(a){if(a){return a}var b=function(b,g){var c=$jscomp.checkStringArgs(this,b,'startsWith');b=b+'';var h=c.length;var e=b.length;var f=Math.max(0,Math.min(g|0,c.length));var d=0;while(d<e&&f<h){if(c[f++]!=b[d++]){return !1}}return d>=e};return b},'es6','es3');$jscomp.polyfill('String.prototype.trimRight',function(a){function polyfill(){return this.replace(/[\s\xa0]+$/,'')}return a||polyfill},'es_2019','es3');$jscomp.polyfill('String.prototype.trimEnd',function(a){return a||String.prototype.trimRight},'es_2019','es3');$jscomp.polyfill('String.prototype.trimLeft',function(a){function polyfill(){return this.replace(/^[\s\xa0]+/,'')}return a||polyfill},'es_2019','es3');$jscomp.polyfill('String.prototype.trimStart',function(a){return a||String.prototype.trimLeft},'es_2019','es3');$jscomp.typedArrayCopyWithin=function(a){if(a){return a}return Array.prototype.copyWithin};$jscomp.polyfill('Int8Array.prototype.copyWithin',$jscomp.typedArrayCopyWithin,'es6','es5');$jscomp.polyfill('Uint8Array.prototype.copyWithin',$jscomp.typedArrayCopyWithin,'es6','es5');$jscomp.polyfill('Uint8ClampedArray.prototype.copyWithin',$jscomp.typedArrayCopyWithin,'es6','es5');$jscomp.polyfill('Int16Array.prototype.copyWithin',$jscomp.typedArrayCopyWithin,'es6','es5');$jscomp.polyfill('Uint16Array.prototype.copyWithin',$jscomp.typedArrayCopyWithin,'es6','es5');$jscomp.polyfill('Int32Array.prototype.copyWithin',$jscomp.typedArrayCopyWithin,'es6','es5');$jscomp.polyfill('Uint32Array.prototype.copyWithin',$jscomp.typedArrayCopyWithin,'es6','es5');$jscomp.polyfill('Float32Array.prototype.copyWithin',$jscomp.typedArrayCopyWithin,'es6','es5');$jscomp.polyfill('Float64Array.prototype.copyWithin',$jscomp.typedArrayCopyWithin,'es6','es5');$jscomp.typedArrayFill=function(a){if(a){return a}return Array.prototype.fill};$jscomp.polyfill('Int8Array.prototype.fill',$jscomp.typedArrayFill,'es6','es5');$jscomp.polyfill('Uint8Array.prototype.fill',$jscomp.typedArrayFill,'es6','es5');$jscomp.polyfill('Uint8ClampedArray.prototype.fill',$jscomp.typedArrayFill,'es6','es5');$jscomp.polyfill('Int16Array.prototype.fill',$jscomp.typedArrayFill,'es6','es5');$jscomp.polyfill('Uint16Array.prototype.fill',$jscomp.typedArrayFill,'es6','es5');$jscomp.polyfill('Int32Array.prototype.fill',$jscomp.typedArrayFill,'es6','es5');$jscomp.polyfill('Uint32Array.prototype.fill',$jscomp.typedArrayFill,'es6','es5');$jscomp.polyfill('Float32Array.prototype.fill',$jscomp.typedArrayFill,'es6','es5');$jscomp.polyfill('Float64Array.prototype.fill',$jscomp.typedArrayFill,'es6','es5');$jscomp.createTemplateTagFirstArg=function(a){a.raw=a;return a};$jscomp.createTemplateTagFirstArgWithRaw=function(a,b){a.raw=b;return a};$jscomp.arrayFromIterator=function(c){var b;var a=[];while(!(b=c.next()).done){a.push(b.value)}return a};$jscomp.arrayFromIterable=function(a){if(a instanceof Array){return a}else {return $jscomp.arrayFromIterator($jscomp.makeIterator(a))}};$jscomp.getRestArguments=function(){var b=Number(this);var c=[];for(var a=b;a<arguments.length;a++){c[a-b]=arguments[a]}return c};$jscomp.polyfill('WeakSet',function(a){function isConformant(){if(!a||!Object.seal){return !1}try{var c=Object.seal({});var d=Object.seal({});var b=new a([c]);if(!b.has(c)||b.has(d)){return !1}b["delete"](c);b.add(d);return !b.has(c)&&b.has(d)}catch(e){return !1}}if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(a&&$jscomp.ES6_CONFORMANCE){return a}}else {if(isConformant()){return a}}var b=function(b){this.map_=new WeakMap();if(b){var e=$jscomp.makeIterator(b);var c;while(!(c=e.next()).done){var d=c.value;this.add(d)}}};b.prototype.add=function(b){this.map_.set(b,!0);return this};b.prototype.has=function(b){return this.map_.has(b)};b.prototype["delete"]=function(b){return this.map_["delete"](b)};return b},'es6','es3');try{if(Array.prototype.values.toString().indexOf('[native code]')==-1){delete Array.prototype.values}}catch(a){}var App=App||{};if(!App.controller){App.controller={}}if(!App.model){App.model={}}if(!App.override){App.override={}}if(!App.override.dataview){App.override.dataview={}}if(!App.override.dataview.listswiper){App.override.dataview.listswiper={}}if(!App.override.field){App.override.field={}}if(!App.overrides){App.overrides={}}if(!App.overrides.data){App.overrides.data={}}if(!App.overrides.data.proxy){App.overrides.data.proxy={}}if(!App.overrides.exporter){App.overrides.exporter={}}if(!App.overrides.exporter.excel){App.overrides.exporter.excel={}}if(!App.overrides.exporter.file){App.overrides.exporter.file={}}if(!App.overrides.field){App.overrides.field={}}if(!App.overrides.grid){App.overrides.grid={}}if(!App.overrides.grid.filters){App.overrides.grid.filters={}}if(!App.overrides.grid.filters.menu){App.overrides.grid.filters.menu={}}if(!App.overrides.grid.plugin){App.overrides.grid.plugin={}}if(!App.overrides.grid.selection){App.overrides.grid.selection={}}if(!App.overrides.pivot){App.overrides.pivot={}}if(!App.overrides.pivot.plugin){App.overrides.pivot.plugin={}}if(!App.overrides.util){App.overrides.util={}}if(!App.overrides.ux){App.overrides.ux={}}if(!App.overrides.ux.google){App.overrides.ux.google={}}if(!App.profile){App.profile={}}if(!App.store){App.store={}}if(!App.store.INDH){App.store.INDH={}}if(!App.util){App.util={}}if(!App.ux){App.ux={}}if(!App.ux.data){App.ux.data={}}if(!App.ux.data.summary){App.ux.data.summary={}}if(!App.ux.exporter){App.ux.exporter={}}if(!App.view){App.view={}}if(!App.view.auth){App.view.auth={}}if(!App.view.commune){App.view.commune={}}if(!App.view.credit){App.view.credit={}}if(!App.view.delegation){App.view.delegation={}}if(!App.view.delegation.depenses){App.view.delegation.depenses={}}if(!App.view.delegation.sousdelegation){App.view.delegation.sousdelegation={}}if(!App.view.depense){App.view.depense={}}if(!App.view.douar){App.view.douar={}}if(!App.view.douar.map){App.view.douar.map={}}if(!App.view.history){App.view.history={}}if(!App.view.home){App.view.home={}}if(!App.view.importer){App.view.importer={}}if(!App.view.lot){App.view.lot={}}if(!App.view.main){App.view.main={}}if(!App.view.monitoring){App.view.monitoring={}}if(!App.view.monitoring.calendar){App.view.monitoring.calendar={}}if(!App.view.monitoring.chart){App.view.monitoring.chart={}}if(!App.view.monitoring.stats){App.view.monitoring.stats={}}if(!App.view.monitoring.up){App.view.monitoring.up={}}if(!App.view.monitoring.uplist){App.view.monitoring.uplist={}}if(!App.view.pages){App.view.pages={}}if(!App.view.phone){App.view.phone={}}if(!App.view.phone.history){App.view.phone.history={}}if(!App.view.phone.main){App.view.phone.main={}}if(!App.view.phone.user){App.view.phone.user={}}if(!App.view.projection){App.view.projection={}}if(!App.view.projection.budget){App.view.projection.budget={}}if(!App.view.projection.cadrage){App.view.projection.cadrage={}}if(!App.view.projection.delegation){App.view.projection.delegation={}}if(!App.view.reporting){App.view.reporting={}}if(!App.view.reporting.classement){App.view.reporting.classement={}}if(!App.view.reporting2){App.view.reporting2={}}if(!App.view.sousdelegation){App.view.sousdelegation={}}if(!App.view.stats){App.view.stats={}}if(!App.view.stats.delegation){App.view.stats.delegation={}}if(!App.view.stats.reporting){App.view.stats.reporting={}}if(!App.view.stats.unite){App.view.stats.unite={}}if(!App.view.tablet){App.view.tablet={}}if(!App.view.tablet.delegation){App.view.tablet.delegation={}}if(!App.view.tablet.depense){App.view.tablet.depense={}}if(!App.view.tablet.user){App.view.tablet.user={}}if(!App.view.transfert){App.view.transfert={}}if(!App.view.transfert.procedures){App.view.transfert.procedures={}}if(!App.view.transfert.suivi){App.view.transfert.suivi={}}if(!App.view.transfert.unites){App.view.transfert.unites={}}if(!App.view.unite){App.view.unite={}}if(!App.view.unite.effectifs){App.view.unite.effectifs={}}if(!App.view.user){App.view.user={}}if(!App.view.viewport){App.view.viewport={}}if(!App.view.widgets){App.view.widgets={}}var Ext=Ext||{};if(!Ext.app){Ext.app={}}if(!Ext.app.bind){Ext.app.bind={}}if(!Ext.app.domain){Ext.app.domain={}}if(!Ext.button){Ext.button={}}if(!Ext.calendar){Ext.calendar={}}if(!Ext.calendar.date){Ext.calendar.date={}}if(!Ext.calendar.dd){Ext.calendar.dd={}}if(!Ext.calendar.form){Ext.calendar.form={}}if(!Ext.calendar.header){Ext.calendar.header={}}if(!Ext.calendar.model){Ext.calendar.model={}}if(!Ext.calendar.panel){Ext.calendar.panel={}}if(!Ext.calendar.store){Ext.calendar.store={}}if(!Ext.calendar.theme){Ext.calendar.theme={}}if(!Ext.calendar.util){Ext.calendar.util={}}if(!Ext.calendar.view){Ext.calendar.view={}}if(!Ext.chart){Ext.chart={}}if(!Ext.chart.axis){Ext.chart.axis={}}if(!Ext.chart.axis.layout){Ext.chart.axis.layout={}}if(!Ext.chart.axis.segmenter){Ext.chart.axis.segmenter={}}if(!Ext.chart.axis.sprite){Ext.chart.axis.sprite={}}if(!Ext.chart.grid){Ext.chart.grid={}}if(!Ext.chart.interactions){Ext.chart.interactions={}}if(!Ext.chart.label){Ext.chart.label={}}if(!Ext.chart.legend){Ext.chart.legend={}}if(!Ext.chart.legend.sprite){Ext.chart.legend.sprite={}}if(!Ext.chart.legend.store){Ext.chart.legend.store={}}if(!Ext.chart.modifier){Ext.chart.modifier={}}if(!Ext.chart.overrides){Ext.chart.overrides={}}if(!Ext.chart.series){Ext.chart.series={}}if(!Ext.chart.series.sprite){Ext.chart.series.sprite={}}if(!Ext.chart.sprite){Ext.chart.sprite={}}if(!Ext.chart.theme){Ext.chart.theme={}}if(!Ext.container){Ext.container={}}if(!Ext.core){Ext.core={}}if(!Ext.data){Ext.data={}}if(!Ext.data.field){Ext.data.field={}}if(!Ext.data.flash){Ext.data.flash={}}if(!Ext.data.identifier){Ext.data.identifier={}}if(!Ext.data.matrix){Ext.data.matrix={}}if(!Ext.data.operation){Ext.data.operation={}}if(!Ext.data.proxy){Ext.data.proxy={}}if(!Ext.data.query){Ext.data.query={}}if(!Ext.data.reader){Ext.data.reader={}}if(!Ext.data.request){Ext.data.request={}}if(!Ext.data.schema){Ext.data.schema={}}if(!Ext.data.session){Ext.data.session={}}if(!Ext.data.summary){Ext.data.summary={}}if(!Ext.data.validator){Ext.data.validator={}}if(!Ext.data.writer){Ext.data.writer={}}if(!Ext.dataview){Ext.dataview={}}if(!Ext.dataview.component){Ext.dataview.component={}}if(!Ext.dataview.listswiper){Ext.dataview.listswiper={}}if(!Ext.dataview.plugin){Ext.dataview.plugin={}}if(!Ext.dataview.selection){Ext.dataview.selection={}}if(!Ext.dd){Ext.dd={}}if(!Ext.direct){Ext.direct={}}if(!Ext.dom){Ext.dom={}}if(!Ext.dom.Element){Ext.dom.Element={}}if(!Ext.drag){Ext.drag={}}if(!Ext.drag.proxy){Ext.drag.proxy={}}if(!Ext.draw){Ext.draw={}}if(!Ext.draw.engine){Ext.draw.engine={}}if(!Ext.draw.engine.SvgContext){Ext.draw.engine.SvgContext={}}if(!Ext.draw.gradient){Ext.draw.gradient={}}if(!Ext.draw.modifier){Ext.draw.modifier={}}if(!Ext.draw.overrides){Ext.draw.overrides={}}if(!Ext.draw.overrides.hittest){Ext.draw.overrides.hittest={}}if(!Ext.draw.overrides.hittest.sprite){Ext.draw.overrides.hittest.sprite={}}if(!Ext.draw.sprite){Ext.draw.sprite={}}if(!Ext.event){Ext.event={}}if(!Ext.event.gesture){Ext.event.gesture={}}if(!Ext.event.publisher){Ext.event.publisher={}}if(!Ext.exporter){Ext.exporter={}}if(!Ext.exporter.data){Ext.exporter.data={}}if(!Ext.exporter.excel){Ext.exporter.excel={}}if(!Ext.exporter.file){Ext.exporter.file={}}if(!Ext.exporter.file.ooxml){Ext.exporter.file.ooxml={}}if(!Ext.exporter.file.ooxml.excel){Ext.exporter.file.ooxml.excel={}}if(!Ext.exporter.file.ooxml.theme){Ext.exporter.file.ooxml.theme={}}if(!Ext.exporter.file.zip){Ext.exporter.file.zip={}}if(!Ext.field){Ext.field={}}if(!Ext.field.trigger){Ext.field.trigger={}}if(!Ext.form){Ext.form={}}if(!Ext.form.field){Ext.form.field={}}if(!Ext.fx){Ext.fx={}}if(!Ext.fx.animation){Ext.fx.animation={}}if(!Ext.fx.easing){Ext.fx.easing={}}if(!Ext.fx.runner){Ext.fx.runner={}}if(!Ext.grid){Ext.grid={}}if(!Ext.grid.cell){Ext.grid.cell={}}if(!Ext.grid.column){Ext.grid.column={}}if(!Ext.grid.filters){Ext.grid.filters={}}if(!Ext.grid.filters.menu){Ext.grid.filters.menu={}}if(!Ext.grid.grouped){Ext.grid.grouped={}}if(!Ext.grid.grouped.selection){Ext.grid.grouped.selection={}}if(!Ext.grid.menu){Ext.grid.menu={}}if(!Ext.grid.mixin){Ext.grid.mixin={}}if(!Ext.grid.plugin){Ext.grid.plugin={}}if(!Ext.grid.plugin.grouping){Ext.grid.plugin.grouping={}}if(!Ext.grid.plugin.header){Ext.grid.plugin.header={}}if(!Ext.grid.row){Ext.grid.row={}}if(!Ext.grid.selection){Ext.grid.selection={}}if(!Ext.layout){Ext.layout={}}if(!Ext.layout.card){Ext.layout.card={}}if(!Ext.layout.card.fx){Ext.layout.card.fx={}}if(!Ext.layout.wrapper){Ext.layout.wrapper={}}if(!Ext.lib){Ext.lib={}}if(!Ext.list){Ext.list={}}if(!Ext.locale){Ext.locale={}}if(!Ext.locale.fr){Ext.locale.fr={}}if(!Ext.locale.fr.data){Ext.locale.fr.data={}}if(!Ext.locale.fr.data.summary){Ext.locale.fr.data.summary={}}if(!Ext.locale.fr.grid){Ext.locale.fr.grid={}}if(!Ext.locale.fr.grid.column){Ext.locale.fr.grid.column={}}if(!Ext.locale.fr.grid.menu){Ext.locale.fr.grid.menu={}}if(!Ext.locale.fr.grid.plugin){Ext.locale.fr.grid.plugin={}}if(!Ext.locale.fr.grid.plugin.grouping){Ext.locale.fr.grid.plugin.grouping={}}if(!Ext.locale.fr.pivot){Ext.locale.fr.pivot={}}if(!Ext.locale.fr.pivot.plugin){Ext.locale.fr.pivot.plugin={}}if(!Ext.locale.fr.pivot.plugin.configurator){Ext.locale.fr.pivot.plugin.configurator={}}if(!Ext.menu){Ext.menu={}}if(!Ext.mixin){Ext.mixin={}}if(!Ext.navigation){Ext.navigation={}}if(!Ext.overrides){Ext.overrides={}}if(!Ext.overrides.app){Ext.overrides.app={}}if(!Ext.overrides.calendar){Ext.overrides.calendar={}}if(!Ext.overrides.calendar.view){Ext.overrides.calendar.view={}}if(!Ext.overrides.dom){Ext.overrides.dom={}}if(!Ext.overrides.drag){Ext.overrides.drag={}}if(!Ext.overrides.drag.proxy){Ext.overrides.drag.proxy={}}if(!Ext.overrides.exporter){Ext.overrides.exporter={}}if(!Ext.overrides.exporter.util){Ext.overrides.exporter.util={}}if(!Ext.overrides.list){Ext.overrides.list={}}if(!Ext.panel){Ext.panel={}}if(!Ext.parse){Ext.parse={}}if(!Ext.parse.symbol){Ext.parse.symbol={}}if(!Ext.picker){Ext.picker={}}if(!Ext.pivot){Ext.pivot={}}if(!Ext.pivot.axis){Ext.pivot.axis={}}if(!Ext.pivot.cell){Ext.pivot.cell={}}if(!Ext.pivot.dimension){Ext.pivot.dimension={}}if(!Ext.pivot.feature){Ext.pivot.feature={}}if(!Ext.pivot.filter){Ext.pivot.filter={}}if(!Ext.pivot.matrix){Ext.pivot.matrix={}}if(!Ext.pivot.plugin){Ext.pivot.plugin={}}if(!Ext.pivot.plugin.configurator){Ext.pivot.plugin.configurator={}}if(!Ext.pivot.plugin.configurator.model){Ext.pivot.plugin.configurator.model={}}if(!Ext.pivot.plugin.configurator.store){Ext.pivot.plugin.configurator.store={}}if(!Ext.pivot.result){Ext.pivot.result={}}if(!Ext.plugin){Ext.plugin={}}if(!Ext.plugin.dd){Ext.plugin.dd={}}if(!Ext.promise){Ext.promise={}}if(!Ext.route){Ext.route={}}if(!Ext.scroll){Ext.scroll={}}if(!Ext.scroll.indicator){Ext.scroll.indicator={}}if(!Ext.slider){Ext.slider={}}if(!Ext.state){Ext.state={}}if(!Ext.tab){Ext.tab={}}if(!Ext.theme){Ext.theme={}}if(!Ext.theme.material){Ext.theme.material={}}if(!Ext.theme.material.dataview){Ext.theme.material.dataview={}}if(!Ext.theme.material.field){Ext.theme.material.field={}}if(!Ext.theme.material.form){Ext.theme.material.form={}}if(!Ext.theme.material.grid){Ext.theme.material.grid={}}if(!Ext.theme.material.grid.cell){Ext.theme.material.grid.cell={}}if(!Ext.theme.material.list){Ext.theme.material.list={}}if(!Ext.theme.material.menu){Ext.theme.material.menu={}}if(!Ext.theme.material.navigation){Ext.theme.material.navigation={}}if(!Ext.theme.material.panel){Ext.theme.material.panel={}}if(!Ext.theme.material.tab){Ext.theme.material.tab={}}if(!Ext.theme.neptune){Ext.theme.neptune={}}if(!Ext.theme.neptune.panel){Ext.theme.neptune.panel={}}if(!Ext.tip){Ext.tip={}}if(!Ext.util){Ext.util={}}if(!Ext.util.paintmonitor){Ext.util.paintmonitor={}}if(!Ext.util.sizemonitor){Ext.util.sizemonitor={}}if(!Ext.util.translatable){Ext.util.translatable={}}if(!Ext.ux){Ext.ux={}}if(!Ext.ux.ajax){Ext.ux.ajax={}}if(!Ext.ux.google){Ext.ux.google={}}if(!Ext.viewport){Ext.viewport={}}if(!Ext.window){Ext.window={}}var Mz=Mz||{};if(!Mz.aggregate){Mz.aggregate={}}if(!Mz.aggregate.axis){Mz.aggregate.axis={}}if(!Mz.aggregate.dimension){Mz.aggregate.dimension={}}if(!Mz.aggregate.filter){Mz.aggregate.filter={}}if(!Mz.aggregate.matrix){Mz.aggregate.matrix={}}if(!Mz.pivot){Mz.pivot={}}if(!Mz.pivot.plugin){Mz.pivot.plugin={}}(function(q){var e,p=['constructor','toString','valueOf','toLocaleString'],n={},m={},k=0,l,j,a,b,o,f,c,d,g,h,i,t=function(){var s,t;j=Ext.Base;a=Ext.ClassManager;b=Ext.Class;for(s=p.length;s-->0;){t=1<<s;m[n[t]=p[s]]=t}for(s in m){k|=m[s]}k=~k;Function.prototype.$isFunction=1;i=!!a.addAlias;o=b.getPreprocessor('config').fn;f=b.getPreprocessor('cachedConfig');f=f&&f.fn;h=b.getPreprocessor('privates');h=h&&h.fn;d=b.getPreprocessor('platformConfig');d=d&&d.fn;c=a.postprocessors.platformConfig;c=c&&c.fn;g=a.postprocessors.deprecated;g=g&&g.fn;e=j.$staticMembers;if(!e){e=[];for(l in j){if(j.hasOwnProperty(l)){e.push(l)}}}q.derive=r;return r.apply(this,arguments)},s=function(f,d,o){var l=o.enumerableMembers,j=f.prototype,b,h,k,e,m;if(!d){return}if(i){f.addMembers(d)}else {for(b in d){e=d[b];if(e&&e.$isFunction&&!e.$isClass&&e!==Ext.emptyFn&&e!==Ext.identityFn){m=j.hasOwnProperty(b)&&j[b];if(m){e.$previous=m}j[b]=h=e;h.$owner=f;h.$name=b}else {j[b]=e}}for(k=1;l;k<<=1){if(l&k){l&=~k;b=n[k];j[b]=h=d[b];h.$owner=f;h.$name=b}}}if(d.platformConfig&&c){c.call(a,f.$className,f,d)}if(d.deprecated&&g){g.call(a,f.$className,f,d)}},r=function(u,Q,c,L,E,M,O,B,D,G,N){var g=function ctor(){return this.constructor.apply(this,arguments)||null},m=g,v={enumerableMembers:L&k,onCreated:N,onBeforeCreated:s,aliases:B},p=c.alternateClassName||[],P=Ext.global,F,z,l,K,y,C,H,r,x,w,n,I,t,J=a.alternateToName||a.maps.alternateToName,A=a.nameToAlternates||a.maps.nameToAlternates;for(l=e.length;l-->0;){H=e[l];g[H]=j[H]}if(c.$isFunction){c=c(g)}v.data=c;x=c.statics;delete c.statics;c.$className=u;if('$className' in c){g.$className=c.$className}g.extend(Q);r=g.prototype;if(E){g.xtype=c.xtype=E[0];r.xtypes=E}r.xtypesChain=M;r.xtypesMap=O;c.alias=B;m.triggerExtended(g,c,v);if(c.onClassExtended){g.onExtended(c.onClassExtended,g);delete c.onClassExtended}if(c.privates&&h){h.call(b,g,c)}if(x){if(i){g.addStatics(x)}else {for(w in x){if(x.hasOwnProperty(w)){t=x[w];if(t&&t.$isFunction&&!t.$isClass&&t!==Ext.emptyFn&&t!==Ext.identityFn){g[w]=I=t;I.$owner=g;I.$name=w}g[w]=t}}}}if(c.inheritableStatics){g.addInheritableStatics(c.inheritableStatics);delete c.inheritableStatics}if(r.onClassExtended){m.onExtended(r.onClassExtended,m);delete r.onClassExtended}if(c.platformConfig&&d){d.call(b,g,c);delete c.platformConfig}if(c.config){o.call(b,g,c)}if(c.cachedConfig&&f){f.call(b,g,c);delete c.cachedConfig}v.onBeforeCreated(g,v.data,v);for(l=0,y=D&&D.length;l<y;++l){g.mixin.apply(g,D[l])}for(l=0,y=B.length;l<y;l++){F=B[l];a.setAlias?a.setAlias(g,F):a.addAlias(g,F)}if(c.singleton){m=new g()}if(!(p instanceof Array)){p=[p]}n=a.getName(m);for(l=0,K=p.length;l<K;l++){z=p[l];a.classes[z]=m;if(i){a.addAlternate(g,z)}else {if(n){J[z]=n;p=A[n]||(A[n]=[]);p.push(z)}}}for(l=0,y=G.length;l<y;l+=2){C=G[l];if(!C){C=P}C[G[l+1]]=m}a.classes[u]=m;if(!i){if(n&&n!==u){J[u]=n;p=A[n]||(A[n]=[]);p.push(u)}}delete r.alternateClassName;if(v.onCreated){v.onCreated.call(m,m)}if(u){a.triggerCreated(u)}return m};q.derive=t})(Ext.cmd={});var Ext=Ext||{};(function(){var d=this,l=Object.prototype,c=l.toString,b=['valueOf','toLocaleString','toString','constructor'],a=Ext.fireIdle=function(){},f=function(){},e=function(a){return a},k=function(){var a=k.caller.caller;return a.$owner.prototype[a.$name].apply(this,arguments)},o=Ext.manifest||{},m=/\[object\s*(?:Array|Arguments|\w*Collection|\w*List|HTML\s+document\.all\s+class)\]/,n=/^\\?\/Date\(([-+])?(\d+)(?:[+-]\d{4})?\)\\?\/$/,h,j,i,g,p;Ext.global=d;Ext.$nextIid=0;Ext.now=Date.now||(Date.now=function(){return +new Date()});Ext.ticks=d.performance&&d.performance.now?function(){return performance.now()}:Ext.now;Ext._startTime=Ext.ticks();a.$nullFn=e.$nullFn=a.$emptyFn=e.$identityFn=f.$nullFn=!0;f.$privacy='framework';a.$noClearOnDestroy=e.$noClearOnDestroy=!0;f.$noClearOnDestroy=!0;Ext['suspendLayouts']=Ext['resumeLayouts']=a;for(p in {toString:1}){b=null}Ext.enumerables=b;Ext.apply=function(c,a,g){var e,f,d;if(c){if(g){Ext.apply(c,g)}if(a&&typeof a==='object'){for(e in a){c[e]=a[e]}if(b){for(f=b.length;f--;){d=b[f];if(a.hasOwnProperty(d)){c[d]=a[d]}}}}}return c};function addInstanceOverrides(d,e,c){var a,b;for(a in c){if(c.hasOwnProperty(a)){b=c[a];if(typeof b==='function'){b.$name=a;b.$owner=e;b.$previous=d.hasOwnProperty(a)?d[a]:k}d[a]=b}}}Ext.buildSettings=Ext.apply({baseCSSPrefix:'x-'},Ext.buildSettings||{});Ext.apply(Ext,{idSeed:0,idPrefix:'ext-',isRobot:!1,isSecure:/^https/i.test(window.location.protocol),enableGarbageCollector:!1,enableListenerCollection:!0,name:Ext.sandboxName||'Ext',privateFn:f,emptyFn:a,identityFn:e,frameStartTime:Ext.now(),manifest:o,enableAria:!0,startsWithHashRe:/^#/,validIdRe:/^[a-z_][a-z0-9\-_]*$/i,BLANK_IMAGE_URL:'data:image/gif;base64,R0lGODlhAQABAID/AMDAwAAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==',makeIdSelector:function(a){return '#'+a},id:function(a,c){if(a&&a.id){return a.id}var b=(c||Ext.idPrefix)+ ++Ext.idSeed;if(a){a.id=b}return b},returnId:function(a){return a.getId()},returnTrue:function(){return !0},emptyString:new String(),emptyArray:Object.freeze?Object.freeze([]):[],baseCSSPrefix:Ext.buildSettings.baseCSSPrefix,$eventNameMap:{},$vendorEventRe:/^(DOMMouse|Moz.+|MS.+|webkit.+)/,canonicalEventName:function(a){return Ext.$eventNameMap[a]||(Ext.$eventNameMap[a]=Ext.$vendorEventRe.test(a)?a:a.toLowerCase())},applyIf:function(c,b){var a;if(c&&b&&typeof b==='object'){for(a in b){if(c[a]===undefined){c[a]=b[a]}}}return c},destroy:function(){var c=arguments.length,b,a;for(b=0;b<c;b++){a=arguments[b];if(a){if(Ext.isArray(a)){this.destroy.apply(this,a)}else if(Ext.isFunction(a.destroy)&&!a.destroyed){a.destroy()}}}return null},destroyMembers:function(c){for(var a,d,b=1,e=arguments,f=e.length;b<f;b++){a=c[d=e[b]];if(a!=null){c[d]=Ext.destroy(a)}}},override:function(a,b){if(a.$isClass){a.override(b)}else if(typeof a==='function'){Ext.apply(a.prototype,b)}else {var c=a.self,d;if(c&&c.$isClass){d=b.privates;if(d){b=Ext.apply({},b);delete b.privates;addInstanceOverrides(a,c,d)}addInstanceOverrides(a,c,b)}else {Ext.apply(a,b)}}return a},valueFrom:function(a,b,c){return Ext.isEmpty(a,c)?b:a},isEmpty:function(a,b){return a==null||(!b?a==='':!1)||Ext.isArray(a)&&a.length===0},isArray:'isArray' in Array?Array.isArray:function(a){return c.call(a)==='[object Array]'},isDate:function(a){return c.call(a)==='[object Date]'},isMSDate:function(a){if(!Ext.isString(a)){return !1}return n.test(a)},isObject:c.call(null)==='[object Object]'?function(a){return a!=null&&c.call(a)==='[object Object]'&&a.ownerDocument===undefined}:function(a){return c.call(a)==='[object Object]'},isSimpleObject:function(a){return a instanceof Object&&a.constructor===Object},isPrimitive:function(b){var a=typeof b;return a==='string'||a==='number'||a==='boolean'},isFunction:typeof document!=='undefined'&&typeof document.getElementsByTagName('body')==='function'?function(a){return !!a&&c.call(a)==='[object Function]'}:function(a){return !!a&&typeof a==='function'},isNumber:function(a){return typeof a==='number'&&isFinite(a)},isNumeric:function(a){return !isNaN(parseFloat(a))&&isFinite(a)},isString:function(a){return typeof a==='string'},isBoolean:function(a){return typeof a==='boolean'},isElement:function(a){return a?a.nodeType===1:!1},isTextNode:function(a){return a?a.nodeName==='#text':!1},isDefined:function(a){return typeof a!=='undefined'},isIterable:function(a){if(!a||typeof a.length!=='number'||typeof a==='string'||Ext.isFunction(a)){return !1}if(!a.propertyIsEnumerable){return !!a.item}if(a.hasOwnProperty('length')&&!a.propertyIsEnumerable('length')){return !0}return m.test(c.call(a))},isDebugEnabled:a,clone:function(a,g){if(a==null){return a}if(g!==!1&&a.nodeType&&a.cloneNode){return a.cloneNode(!0)}var h=c.call(a),e,j,f,d,i;if(h==='[object Date]'){return new Date(a.getTime())}if(h==='[object Array]'){e=a.length;d=[];while(e--){d[e]=Ext.clone(a[e],g)}}else if(h==='[object Object]'&&a.constructor===Object){d={};for(i in a){d[i]=Ext.clone(a[i],g)}if(b){for(j=b.length;j--;){f=b[j];if(a.hasOwnProperty(f)){d[f]=a[f]}}}}return d||a},getUniqueGlobalNamespace:function(){var a=this.uniqueGlobalNamespace,b;if(a===undefined){b=0;do{a='ExtBox'+ ++b}while(d[a]!==undefined);d[a]=Ext;this.uniqueGlobalNamespace=a}return a},functionFactoryCache:{},cacheableFunctionFactory:function(){var f=this,a=Array.prototype.slice.call(arguments),e=f.functionFactoryCache,d,b,c;if(Ext.isSandboxed){c=a.length;if(c>0){c--;a[c]='var Ext=window.'+Ext.name+';'+a[c]}}d=a.join('');b=e[d];if(!b){b=Function.prototype.constructor.apply(Function.prototype,a);e[d]=b}return b},functionFactory:function(){var b=Array.prototype.slice.call(arguments),a;if(Ext.isSandboxed){a=b.length;if(a>0){a--;b[a]='var Ext=window.'+Ext.name+';'+b[a]}}return Function.prototype.constructor.apply(Function.prototype,b)},Logger:{verbose:a,log:a,info:a,warn:a,error:function(a){throw new Error(a)},deprecate:a},ariaWarn:function(a,b){if(Ext.enableAria&&!Ext.slicer){if(!Ext.ariaWarn.first){Ext.ariaWarn.first=!0;Ext.log.warn('WAI-ARIA compatibility warnings can be suppressed by adding the following to application startup code:');Ext.log.warn('    Ext.ariaWarn = Ext.emptyFn;')}Ext.log.warn({msg:b,dump:a})}},getElementById:function(a){return document.getElementById(a)},splitAndUnescape:function(){var a={};return function(e,c){if(!e){return []}else if(!c){return [e]}var g=a[c]||(a[c]=new RegExp('\\\\'+c,'g')),f=[],d,b;d=e.split(c);while((b=d.shift())!==undefined){while(b.charAt(b.length-1)==='\\'&&d.length>0){b=b+c+d.shift()}b=b.replace(g,c);f.push(b)}return f}}(),doElevate:function(){var c=j,b=h,a=g;j=h=g=null;i=b?c.apply(a,b):c.call(a);Ext.fireIdle()},elevate:function(d,b,a){var c;if(a&&!a.length){a=null}Ext._suppressIdle=!1;if(Ext.elevateFunction){j=d;g=b;h=a;Ext.elevateFunction(Ext.doElevate);c=i;i=null}else {c=a?d.apply(b,a):d.call(b);Ext.fireIdle()}return c},getExpando:function(b,c){var a=b.$expandos;return a&&a[c]||null},setExpando:function(c,d,b){var a=c.$expandos;if(b!==undefined){(a||(c.$expandos={}))[d]=b}else if(a){delete a[d]}return b}});Ext.returnTrue.$nullFn=Ext.returnId.$nullFn=!0})();Ext.platformTags.classic=!(Ext.platformTags.modern=Ext.isModern=!0);(function(){function toString(){var d=this,b=d.sourceClass,a=d.sourceMethod,c=d.msg;if(a){if(c){a+='(): ';a+=c}else {a+='()'}}if(b){a=a?b+'.'+a:b}return a||c||''}Ext.Error=function(b){var a=new Error();if(Ext.isString(b)){b={msg:b}}Ext.apply(a,b);a.message=a.message||a.msg;a.toString=toString;return a};Ext.apply(Ext.Error,{ignore:!1,raise:function(a){var d=this,b=d.raise.caller,e,c;a=a||{};if(Ext.isString(a)){a={msg:a}}if(b===Ext.raise){b=b.caller}if(b){if(!a.sourceMethod&&(c=b.$name)){a.sourceMethod=c}if(!a.sourceClass&&(c=b.$owner)&&(c=c.$className)){a.sourceClass=c}}if(d.handle(a)!==!0){e=toString.call(a);throw new Ext.Error(a)}},handle:function(){return this.ignore}})})();Ext.deprecated=function(a){return Ext.emptyFn};Ext.raise=function(){Ext.Error.raise.apply(Ext.Error,arguments)};Ext.Array=function(){var c=Array.prototype,b=c.slice,f=function(){var a=[],b,c=20;if(!a.splice){return !1}while(c--){a.push('A')}a.splice(15,0,'F','F','F','F','F','F','F','F','F','F','F','F','F','F','F','F','F','F','F','F','F');b=a.length;a.splice(13,0,'XXX');if(b+1!==a.length){return !1}return !0}(),i='indexOf' in c,h=!0;function stableSort(b,e){var d=b.length,c=new Array(d),a;for(a=0;a<d;a++){c[a]=a}c.sort(function(a,c){return e(b[a],b[c])||a-c});for(a=0;a<d;a++){c[a]=b[c[a]]}for(a=0;a<d;a++){b[a]=c[a]}return b}try{if(typeof document!=='undefined'){b.call(document.getElementsByTagName('body'))}}catch(q){h=!1}var g=function(b,a){return a<0?Math.max(0,b.length+a):Math.min(b.length,a)},e=function(a,n,m,d){var e=d?d.length:0,i=a.length,f=g(a,n);if(f===i){if(e){a.push.apply(a,d)}}else {var k=Math.min(m,i-f),c=f+k,h=c+e-k,l=i-c,j=i-k,b;if(h<c){for(b=0;b<l;++b){a[h+b]=a[c+b]}}else if(h>c){for(b=l;b--;){a[h+b]=a[c+b]}}if(e&&f===j){a.length=j;a.push.apply(a,d)}else {a.length=j+e;for(b=0;b<e;++b){a[f+b]=d[b]}}}return a},k=function(a,c,d,b){if(b&&b.length){if(c===0&&!d){a.unshift.apply(a,b)}else if(c<a.length){a.splice.apply(a,[c,d].concat(b))}else {a.push.apply(a,b)}}else {a.splice(c,d)}return a},o=function(b,c,a){return e(b,c,a)},m=function(a,c,b){a.splice(c,b);return a},n=function(a,h,c){var i=arguments.length,d=g(a,h),f;if(i<3){c=a.length-d}f=a.slice(h,g(a,d+c));if(i<4){e(a,d,c)}else {e(a,d,c,b.call(arguments,3))}return f},l=function(a){return a.splice.apply(a,b.call(arguments,1))},d=f?m:o,j=f?k:e,p=f?l:n,a={binarySearch:function(h,i,c,b,d){var g=h.length,e,f;if(c instanceof Function){d=c;c=0;b=g}else if(b instanceof Function){d=b;b=g}else {if(c===undefined){c=0}if(b===undefined){b=g}d=d||a.lexicalCompare}--b;while(c<=b){e=c+b>>1;f=d(i,h[e]);if(f>=0){c=e+1}else if(f<0){b=e-1}}return c},defaultCompare:function(a,b){return a<b?-1:a>b?1:0},lexicalCompare:function(a,b){a=String(a);b=String(b);return a<b?-1:a>b?1:0},each:function(c,f,e,g){var b,d;c=a.from(c);d=c.length;if(g!==!0){for(b=0;b<d;b++){if(f.call(e||c[b],c[b],b,c)===!1){return b}}}else {for(b=d-1;b>-1;b--){if(f.call(e||c[b],c[b],b,c)===!1){return b}}}return !0},findInsertionIndex:function(e,d,c,b){var h=d.length,f,g;c=c||a.lexicalCompare;if(0<=b&&b<h){f=b>0?c(e,d[b-1]):0;g=b<h?c(e,d[b]):0;if(0<=f&&g<1){return b}}return a.binarySearch(d,e,c)},forEach:'forEach' in c?function(a,c,b){a.forEach(c,b)}:function(b,e,d){var a,c;for(a=0,c=b.length;a<c;a++){e.call(d,b[a],a,b)}},indexOf:i?function(a,d,b){return a?c.indexOf.call(a,d,b):-1}:function(b,e,c){var a,d=b?b.length:0;for(a=c<0?Math.max(0,d+c):c||0;a<d;a++){if(b[a]===e){return a}}return -1},contains:i?function(a,b){return c.indexOf.call(a,b)!==-1}:function(b,d){var a,c;for(a=0,c=b.length;a<c;a++){if(b[a]===d){return !0}}return !1},toArray:function(a,d,c){var f=[],e;if(!a||!a.length){return f}if(typeof a==='string'){a=a.split('')}if(h){return b.call(a,d||0,c||a.length)}d=d||0;c=c?c<0?a.length+c:c:a.length;for(e=d;e<c;e++){f.push(a[e])}return f},pluck:function(b,f){var d=[],a,e,c;for(a=0,e=b.length;a<e;a++){c=b[a];d.push(c[f])}return d},map:'map' in c?function(a,c,b){return a.map(c,b)}:function(b,f,e){var d=b.length,c=new Array(d),a;for(a=0;a<d;a++){c[a]=f.call(e,b[a],a,b)}return c},every:'every' in c?function(a,c,b){return a.every(c,b)}:function(b,e,d){var a,c;for(a=0,c=b.length;a<c;++a){if(!e.call(d,b[a],a,b)){return !1}}return !0},some:'some' in c?function(a,c,b){return a.some(c,b)}:function(b,e,d){var a,c;for(a=0,c=b.length;a<c;++a){if(e.call(d,b[a],a,b)){return !0}}return !1},equals:function(b,c){var d=b.length,e=c.length,a;if(b===c){return !0}if(d!==e){return !1}for(a=0;a<d;++a){if(b[a]!==c[a]){return !1}}return !0},clean:function(d){var c=[],a,e,b;for(a=0,e=d.length;a<e;a++){b=d[a];if(!Ext.isEmpty(b)){c.push(b)}}return c},unique:function(e){var c=[],b,f,d;for(b=0,f=e.length;b<f;b++){d=e[b];if(a.indexOf(c,d)===-1){c.push(d)}}return c},filter:'filter' in c?function(a,c,b){return a.filter(c,b)}:function(b,f,e){var c=[],a,d;for(a=0,d=b.length;a<d;a++){if(f.call(e,b[a],a,b)){c.push(b[a])}}return c},findBy:function(b,e,d){var a,c;for(a=0,c=b.length;a<c;a++){if(e.call(d||b,b[a],a)){return b[a]}}return null},from:function(c,e){var d;if(c===undefined||c===null){return []}if(Ext.isArray(c)){return e?b.call(c):c}d=typeof c;if(c&&c.length!==undefined&&d!=='string'&&(d!=='function'||!c.apply)){return a.toArray(c)}return [c]},remove:function(b,e){var c=a.indexOf(b,e);if(c!==-1){d(b,c,1)}return b},removeAt:function(c,b,a){var e=c.length;if(b>=0&&b<e){a=a||1;a=Math.min(a,e-b);d(c,b,a)}return c},include:function(b,c){if(!a.contains(b,c)){b.push(c)}},clone:function(a){return b.call(a)},merge:function(){var e=b.call(arguments),d=[],c,f;for(c=0,f=e.length;c<f;c++){d=d.concat(e[c])}return a.unique(d)},intersect:function(){var m=[],f=b.call(arguments),g,o,r,e,k,j,q,n,p,l,c,h,i;if(!f.length){return m}g=f.length;for(c=k=0;c<g;c++){j=f[c];if(!e||j.length<e.length){e=j;k=c}}e=a.unique(e);d(f,k,1);q=e.length;g=f.length;for(c=0;c<q;c++){n=e[c];l=0;for(h=0;h<g;h++){o=f[h];r=o.length;for(i=0;i<r;i++){p=o[i];if(n===p){l++;break}}}if(l===g){m.push(n)}}return m},difference:function(i,f){var c=b.call(i),h=c.length,e,a,g;for(e=0,g=f.length;e<g;e++){for(a=0;a<h;a++){if(c[a]===f[e]){d(c,a,1);a--;h--}}}return c},reduce:Array.prototype.reduce?function(b,a,c){if(arguments.length===3){return Array.prototype.reduce.call(b,a,c)}return Array.prototype.reduce.call(b,a)}:function(a,f,e){a=Object(a);var b=0,d=a.length>>>0,c=e;if(arguments.length<3){while(!0){if(b in a){c=a[b++];break}if(++b>=d){throw new TypeError('Reduce of empty array with no initial value')}}}for(;b<d;++b){if(b in a){c=f(c,a[b],b,a)}}return c},slice:[1,2].slice(1,undefined).length?function(a,c,d){return b.call(a,c,d)}:function(a,c,d){if(typeof c==='undefined'){return b.call(a)}if(typeof d==='undefined'){return b.call(a,c)}return b.call(a,c,d)},sort:function(c,b){return stableSort(c,b||a.lexicalCompare)},flatten:function(b){var a=[];function rFlatten(f){var c,e,d;for(c=0,e=f.length;c<e;c++){d=f[c];if(Ext.isArray(d)){rFlatten(d)}else {a.push(d)}}return a}return rFlatten(b)},min:function(d,e){var b=d[0],c,f,a;for(c=0,f=d.length;c<f;c++){a=d[c];if(e){if(e(b,a)===1){b=a}}else {if(a<b){b=a}}}return b},max:function(d,e){var b=d[0],c,f,a;for(c=0,f=d.length;c<f;c++){a=d[c];if(e){if(e(b,a)===-1){b=a}}else {if(a>b){b=a}}}return b},mean:function(b){return b.length>0?a.sum(b)/b.length:undefined},sum:function(b){var d=0,a,e,c;for(a=0,e=b.length;a<e;a++){c=b[a];d+=c}return d},toMap:function(b,d,e){var c,a;if(!b){return null}c={};a=b.length;if(typeof b==='string'){c[b]=1}else if(!d){while(a--){c[b[a]]=a+1}}else if(typeof d==='string'){while(a--){c[b[a][d]]=a+1}}else {while(a--){c[d.call(e,b[a])]=a+1}}return c},toValueMap:function(g,d,k,f){var b={},e=g.length,j,i,h,l,c,a;if(!d){while(e--){a=g[e];b[a]=a}}else {if(!(l=typeof d!=='string')){f=k}i=f===1;j=f===2;while(e--){a=g[e];c=l?d.call(k,a):a[d];if(i){if(c in b){b[c].push(a)}else {b[c]=[a]}}else if(j&&c in b){if((h=b[c]) instanceof Array){h.push(a)}else {b[c]=[h,a]}}else {b[c]=a}}}return b},erase:d,insert:function(a,b,c){return j(a,b,0,c)},move:function(c,b,d){if(d===b){return}var f=c[b],e=d>b?1:-1,a;for(a=b;a!==d;a+=e){c[a]=c[a+e]}c[d]=f},replace:j,splice:p,push:function(a){var d=arguments,e=d.length,b,c;if(a===undefined){a=[]}else if(!Ext.isArray(a)){a=[a]}for(b=1;b<e;b++){c=d[b];Array.prototype.push[Ext.isIterable(c)?'apply':'call'](a,c)}return a},numericSortFn:function(a,b){return a-b}};Ext.each=a.each;a.union=a.merge;Ext.min=a.min;Ext.max=a.max;Ext.sum=a.sum;Ext.mean=a.mean;Ext.flatten=a.flatten;Ext.clean=a.clean;Ext.unique=a.unique;Ext.pluck=a.pluck;Ext.toArray=function(){return a.toArray.apply(a,arguments)};return a}();Ext.String=function(){var n=/^[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u2028\u2029\u202f\u205f\u3000]+|[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u2028\u2029\u202f\u205f\u3000]+$/g,o=/('|\\)/g,i=/([-.*+?\^${}()|\[\]\/\\])/g,l=/^\s+|\s+$/g,k=/\s+/,m=/(^[^a-z]*|[^\w])/gi,c,a,b,d,h=function(b,a){return c[a]},g=function(c,b){return b in a?a[b]:String.fromCharCode(parseInt(b.substr(2),10))},e=function(b,a){if(b===null||b===undefined||a===null||a===undefined){return !1}return a.length<=b.length},j=String.fromCharCode,f;return f={fromCodePoint:String.fromCodePoint||function(){var a,e='',b=[],c=-1,d=arguments.length;while(++c<d){a=Number(arguments[c]);if(!isFinite(a)||a<0||a>1114111||Math.floor(a)!==a){Ext.raise('Invalid code point: '+a)}if(a<=65535){b.push(a)}else {a-=65536;b.push((a>>10)+55296,a%1024+56320)}if(c+1===d){e+=j(b);b.length=0}}return e},insert:function(b,c,a){var d;if(!b){return c}if(!c){return b}d=b.length;if(!a&&a!==0){a=d}if(a<0){a*=-1;if(a>=d){a=0}else {a=d-a}}if(a===0){b=c+b}else if(a>=b.length){b+=c}else {b=b.substr(0,a)+c+b.substr(a)}return b},startsWith:function(b,a,d){var c=e(b,a);if(c){if(d){b=b.toLowerCase();a=a.toLowerCase()}c=b.lastIndexOf(a,0)===0}return c},endsWith:function(b,a,d){var c=e(b,a);if(c){if(d){b=b.toLowerCase();a=a.toLowerCase()}c=b.indexOf(a,b.length-a.length)!==-1}return c},createVarName:function(a){return a.replace(m,'')},htmlEncode:function(a){return !a?a:String(a).replace(b,h)},htmlDecode:function(a){return !a?a:String(a).replace(d,g)},hasHtmlCharacters:function(a){return b.test(a)},addCharacterEntities:function(g){var i=[],h=[],e,f;for(e in g){f=g[e];a[e]=f;c[f]=e;i.push(f);h.push(e)}b=new RegExp('('+i.join('|')+')','g');d=new RegExp('('+h.join('|')+'|&#[0-9]{1,5};)','g')},resetCharacterEntities:function(){c={};a={};this.addCharacterEntities({'&amp;':'&','&gt;':'>','&lt;':'<','&quot;':'"','&#39;':"'"})},urlAppend:function(a,b){if(!Ext.isEmpty(b)){return a+(a.indexOf('?')===-1?'?':'&')+b}return a},trim:function(a){if(a){a=a.replace(n,'')}return a||''},capitalize:function(a){if(a){a=a.charAt(0).toUpperCase()+a.substr(1)}return a||''},uncapitalize:function(a){if(a){a=a.charAt(0).toLowerCase()+a.substr(1)}return a||''},ellipsis:function(b,c,e){var a,d;if(b&&b.length>c){if(e){a=b.substr(0,c-2);d=Math.max(a.lastIndexOf(' '),a.lastIndexOf('.'),a.lastIndexOf('!'),a.lastIndexOf('?'));if(d!==-1&&d>=c-15){return a.substr(0,d)+'...'}}return b.substr(0,c-3)+'...'}return b},escapeRegex:function(a){return a.replace(i,'\\$1')},createRegex:function(b,d,e,c){var a=b;if(b!=null&&!b.exec){a=f.escapeRegex(String(b));if(d!==!1){a='^'+a}if(e!==!1){a+='$'}a=new RegExp(a,c!==!1?'i':'')}return a},escape:function(a){return a.replace(o,'\\$1')},toggle:function(b,a,c){return b===a?c:a},leftPad:function(c,d,b){var a=String(c);b=b||' ';while(a.length<d){a=b+a}return a},repeat:function(d,a,e){var b=[],c;if(a<1){a=0}for(c=a;c--;){b.push(d)}return b.join(e||'')},splitWords:function(a){if(a&&typeof a==='string'){return a.replace(l,'').split(k)}return a||[]}}}();Ext.String.resetCharacterEntities();Ext.htmlEncode=Ext.String.htmlEncode;Ext.htmlDecode=Ext.String.htmlDecode;Ext.urlAppend=Ext.String.urlAppend;Ext.Date=function(){var a,b=Date,e=/(\\.)/g,k=/([gGhHisucUOPZ]|MS)/,j=/([djzmnYycU]|MS)/,m=/\\/gi,g=/\{(\d+)\}/g,i=new RegExp('\\/Date\\(([-+])?(\\d+)(?:[+-]\\d{4})?\\)\\/'),h=/^(?:(\d{1,4})|(\w{3,}))[/\-.\\\s](?:(\d{1,2})|(\w{3,}))[/\-.\\\s](\d{1,4})$/,c=Ext.String.leftPad,l={d:!0,j:!0},f={F:!0,m:!0,M:!0,n:!0},d={o:!0,Y:!0,y:!0},n=['var me = this, dt, y, m, d, h, i, s, ms, o, O, z, zz, u, v, W, year, jan4, week1monday, daysInMonth, dayMatched,','def = me.defaults,','from = Ext.Number.from,','results = String(input).match(me.parseRegexes[{0}]);','if(results){','{1}','if(u != null){','v = new Date(u * 1000);','}else{','dt = me.clearTime(new Date);','y = from(y, from(def.y, dt.getFullYear()));','m = from(m, from(def.m - 1, dt.getMonth()));','dayMatched = d !== undefined;','d = from(d, from(def.d, dt.getDate()));','if (!dayMatched) {','dt.setDate(1);','dt.setMonth(m);','dt.setFullYear(y);','daysInMonth = me.getDaysInMonth(dt);','if (d > daysInMonth) {','d = daysInMonth;','}','}','h  = from(h, from(def.h, dt.getHours()));','i  = from(i, from(def.i, dt.getMinutes()));','s  = from(s, from(def.s, dt.getSeconds()));','ms = from(ms, from(def.ms, dt.getMilliseconds()));','if(z >= 0 && y >= 0){','v = me.add(new Date(y < 100 ? 100 : y, 0, 1, h, i, s, ms), me.YEAR, y < 100 ? y - 100 : 0);','v = !strict? v : (strict === true && (z <= 364 || (me.isLeapYear(v) && z <= 365))? me.add(v, me.DAY, z) : null);','}else if(strict === true && !me.isValid(y, m + 1, d, h, i, s, ms)){','v = null;','}else{','if (W) {','year = y || (new Date()).getFullYear();','jan4 = new Date(year, 0, 4, 0, 0, 0);','d = jan4.getDay();','week1monday = new Date(jan4.getTime() - ((d === 0 ? 6 : d - 1) * 86400000));','v = Ext.Date.clearTime(new Date(week1monday.getTime() + ((W - 1) * 604800000 + 43200000)));','} else {','v = me.add(new Date(y < 100 ? 100 : y, m, d, h, i, s, ms), me.YEAR, y < 100 ? y - 100 : 0);','}','}','}','}','if(v){','if(zz != null){','v = me.add(v, me.SECOND, -v.getTimezoneOffset() * 60 - zz);','}else if(o){',"v = me.add(v, me.MINUTE, -v.getTimezoneOffset() + (sn == '+'? -1 : 1) * (hr * 60 + mn));",'}','}','return (v != null) ? v : null;'].join('\n');if(!Date.prototype.toISOString){Date.prototype.toISOString=function(){var a=this;return c(a.getUTCFullYear(),4,'0')+'-'+c(a.getUTCMonth()+1,2,'0')+'-'+c(a.getUTCDate(),2,'0')+'T'+c(a.getUTCHours(),2,'0')+':'+c(a.getUTCMinutes(),2,'0')+':'+c(a.getUTCSeconds(),2,'0')+'.'+c(a.getUTCMilliseconds(),3,'0')+'Z'}}function xf(a){var b=Array.prototype.slice.call(arguments,1);return a.replace(g,function(d,c){return b[c]})}a={now:b.now,toString:function(a){if(!a){a=new b()}return a.getFullYear()+'-'+c(a.getMonth()+1,2,'0')+'-'+c(a.getDate(),2,'0')+'T'+c(a.getHours(),2,'0')+':'+c(a.getMinutes(),2,'0')+':'+c(a.getSeconds(),2,'0')},getElapsed:function(b,c){return Math.abs(b-(c||a.now()))},useStrict:!1,formatCodeToRegex:function(c,d){var b=a.parseCodes[c];if(b){b=typeof b==='function'?b():b;a.parseCodes[c]=b}return b?Ext.applyIf({c:b.c?xf(b.c,d||'{0}'):b.c},b):{g:0,c:null,s:Ext.String.escapeRegex(c)}},parseFunctions:{'MS':function(c,d){var a=(c||'').match(i);return a?new b(((a[1]||'')+a[2])*1):null},'time':function(c,d){var a=parseInt(c,10);if(a||a===0){return new b(a)}return null},'timestamp':function(c,d){var a=parseInt(c,10);if(a||a===0){return new b(a*1000)}return null}},parseRegexes:[],formatFunctions:{'MS':function(){return '\\/Date('+this.getTime()+')\\/'},'time':function(){return this.getTime().toString()},'timestamp':function(){return a.format(this,'U')}},y2kYear:50,MILLI:'ms',SECOND:'s',MINUTE:'mi',HOUR:'h',DAY:'d',MONTH:'mo',YEAR:'y',DAYS_IN_WEEK:7,MONTHS_IN_YEAR:12,MAX_DAYS_IN_MONTH:31,SUNDAY:0,MONDAY:1,TUESDAY:2,WEDNESDAY:3,THURSDAY:4,FRIDAY:5,SATURDAY:6,defaults:{},dayNames:['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'],monthNames:['January','February','March','April','May','June','July','August','September','October','November','December'],monthNumbers:{January:0,Jan:0,February:1,Feb:1,March:2,Mar:2,April:3,Apr:3,May:4,June:5,Jun:5,July:6,Jul:6,August:7,Aug:7,September:8,Sep:8,October:9,Oct:9,November:10,Nov:10,December:11,Dec:11},defaultFormat:'m/d/Y',defaultTimeFormat:'h:i A',firstDayOfWeek:0,weekendDays:[0,6],getShortMonthName:function(b){return a.monthNames[b].substring(0,3)},getShortDayName:function(b){return a.dayNames[b].substring(0,3)},getMonthNumber:function(b){return a.monthNumbers[b.substring(0,1).toUpperCase()+b.substring(1,3).toLowerCase()]},formatContainsHourInfo:function(a){return k.test(a.replace(e,''))},formatContainsDateInfo:function(a){return j.test(a.replace(e,''))},isMonthFormat:function(a){return !!f[a]},isYearFormat:function(a){return !!d[a]},unescapeFormat:function(a){return a.replace(m,'')},formatCodes:{d:"Ext.String.leftPad(m.getDate(), 2, '0')",D:'Ext.Date.getShortDayName(m.getDay())',j:'m.getDate()',l:'Ext.Date.dayNames[m.getDay()]',N:'(m.getDay() ? m.getDay() : 7)',S:'Ext.Date.getSuffix(m)',w:'m.getDay()',z:'Ext.Date.getDayOfYear(m)',W:"Ext.String.leftPad(Ext.Date.getWeekOfYear(m), 2, '0')",F:'Ext.Date.monthNames[m.getMonth()]',m:"Ext.String.leftPad(m.getMonth() + 1, 2, '0')",M:'Ext.Date.getShortMonthName(m.getMonth())',n:'(m.getMonth() + 1)',t:'Ext.Date.getDaysInMonth(m)',L:'(Ext.Date.isLeapYear(m) ? 1 : 0)',o:'(m.getFullYear() + (Ext.Date.getWeekOfYear(m) == 1 && m.getMonth() > 0 ? +1 : (Ext.Date.getWeekOfYear(m) >= 52 && m.getMonth() < 11 ? -1 : 0)))',Y:"Ext.String.leftPad(m.getFullYear(), 4, '0')",y:"('' + m.getFullYear()).substring(2, 4)",a:"(m.getHours() < 12 ? 'am' : 'pm')",A:"(m.getHours() < 12 ? 'AM' : 'PM')",g:'((m.getHours() % 12) ? m.getHours() % 12 : 12)',G:'m.getHours()',h:"Ext.String.leftPad((m.getHours() % 12) ? m.getHours() % 12 : 12, 2, '0')",H:"Ext.String.leftPad(m.getHours(), 2, '0')",i:"Ext.String.leftPad(m.getMinutes(), 2, '0')",s:"Ext.String.leftPad(m.getSeconds(), 2, '0')",u:"Ext.String.leftPad(m.getMilliseconds(), 3, '0')",O:'Ext.Date.getGMTOffset(m)',P:'Ext.Date.getGMTOffset(m, true)',T:'Ext.Date.getTimezone(m)',Z:'(m.getTimezoneOffset() * -60)',c:function(){var e='Y-m-dTH:i:sP',d=[],f=e.length,b,c;for(b=0;b<f;++b){c=e.charAt(b);d.push(c==='T'?"'T'":a.getFormatCode(c))}return d.join(' + ')},C:function(){return 'm.toISOString()'},U:'Math.round(m.getTime() / 1000)'},isValid:function(d,i,j,h,f,g,e){var c;h=h||0;f=f||0;g=g||0;e=e||0;c=a.add(new b(d<100?100:d,i-1,j,h,f,g,e),a.YEAR,d<100?d-100:0);return d===c.getFullYear()&&i===c.getMonth()+1&&j===c.getDate()&&h===c.getHours()&&f===c.getMinutes()&&g===c.getSeconds()&&e===c.getMilliseconds()},parse:function(e,b,d){var c;if(!b){return a.flexParse(e)}c=a.parseFunctions;if(c[b]==null){a.createParser(b)}return c[b].call(a,e,Ext.isDefined(d)?d:a.useStrict)},parseDate:function(d,b,c){return a.parse(d,b,c)},getFormatCode:function(c){var b=a.formatCodes[c];if(b){b=typeof b==='function'?b():b;a.formatCodes[c]=b}return b||"'"+Ext.String.escape(c)+"'"},createFormat:function(f){var d=[],c=!1,b='',e;for(e=0;e<f.length;++e){b=f.charAt(e);if(!c&&b==='\\'){c=!0}else if(c){c=!1;d.push("'"+Ext.String.escape(b)+"'")}else {if(b==='\n'){d.push("'\\n'")}else {d.push(a.getFormatCode(b))}}}a.formatFunctions[f]=Ext.functionFactory('var m = this; return '+d.join('+'))},createParser:function(f){var j=a.parseRegexes.length,i=1,d=[],g=[],c=!1,e='',h=0,l=f.length,k=[],b;for(;h<l;++h){e=f.charAt(h);if(!c&&e==='\\'){c=!0}else if(c){c=!1;g.push(Ext.String.escape(e))}else {b=a.formatCodeToRegex(e,i);i+=b.g;g.push(b.s);if(b.g&&b.c){if(b.calcAtEnd){k.push(b.c)}else {d.push(b.c)}}}}d=d.concat(k);a.parseRegexes[j]=new RegExp('^'+g.join('')+'$','i');a.parseFunctions[f]=Ext.functionFactory('input','strict',xf(n,j,d.join('')))},parseCodes:{d:{g:1,c:'d = parseInt(results[{0}], 10);\n',s:'(3[0-1]|[1-2][0-9]|0[1-9])'},j:{g:1,c:'d = parseInt(results[{0}], 10);\n',s:'(3[0-1]|[1-2][0-9]|[1-9])'},D:function(){var c=[],b;for(b=0;b<7;b++){c.push(a.getShortDayName(b))}return {g:0,c:null,s:'(?:'+c.join('|')+')'}},l:function(){return {g:0,c:null,s:'(?:'+a.dayNames.join('|')+')'}},N:{g:0,c:null,s:'[1-7]'},S:{g:0,c:null,s:'(?:st|nd|rd|th)'},w:{g:0,c:null,s:'[0-6]'},z:{g:1,c:'z = parseInt(results[{0}], 10);\n',s:'(\\d{1,3})'},W:{g:1,c:'W = parseInt(results[{0}], 10);\n',s:'(\\d{2})'},F:function(){return {g:1,c:'m = parseInt(me.getMonthNumber(results[{0}]), 10);\n',s:'('+a.monthNames.join('|')+')'}},M:function(){var c=[],b;for(b=0;b<12;b++){c.push(a.getShortMonthName(b))}return Ext.applyIf({s:'('+c.join('|')+')'},a.formatCodeToRegex('F'))},m:{g:1,c:'m = parseInt(results[{0}], 10) - 1;\n',s:'(1[0-2]|0[1-9])'},n:{g:1,c:'m = parseInt(results[{0}], 10) - 1;\n',s:'(1[0-2]|[1-9])'},t:{g:0,c:null,s:'(?:\\d{2})'},L:{g:0,c:null,s:'(?:1|0)'},o:{g:1,c:'y = parseInt(results[{0}], 10);\n',s:'(\\d{4})'},Y:{g:1,c:'y = parseInt(results[{0}], 10);\n',s:'(\\d{4})'},y:{g:1,c:'var ty = parseInt(results[{0}], 10);\ny = ty > me.y2kYear ? 1900 + ty : 2000 + ty;\n',s:'(\\d{2})'},a:{g:1,c:'if (/(am)/i.test(results[{0}])) {\nif (!h || h == 12) { h = 0; }\n} else { if (!h || h < 12) { h = (h || 0) + 12; }}',s:'(am|pm|AM|PM)',calcAtEnd:!0},A:{g:1,c:'if (/(am)/i.test(results[{0}])) {\nif (!h || h == 12) { h = 0; }\n} else { if (!h || h < 12) { h = (h || 0) + 12; }}',s:'(AM|PM|am|pm)',calcAtEnd:!0},g:{g:1,c:'h = parseInt(results[{0}], 10);\n',s:'(1[0-2]|[1-9])'},G:{g:1,c:'h = parseInt(results[{0}], 10);\n',s:'(2[0-3]|1[0-9]|[0-9])'},h:{g:1,c:'h = parseInt(results[{0}], 10);\n',s:'(1[0-2]|0[1-9])'},H:{g:1,c:'h = parseInt(results[{0}], 10);\n',s:'(2[0-3]|[0-1][0-9])'},i:{g:1,c:'i = parseInt(results[{0}], 10);\n',s:'([0-5][0-9])'},s:{g:1,c:'s = parseInt(results[{0}], 10);\n',s:'([0-5][0-9])'},u:{g:1,c:'ms = results[{0}]; ms = parseInt(ms, 10)/Math.pow(10, ms.length - 3);\n',s:'(\\d+)'},O:{g:1,c:['o = results[{0}];','var sn = o.substring(0,1),','hr = o.substring(1,3)*1 + Math.floor(o.substring(3,5) / 60),','mn = o.substring(3,5) % 60;',"o = ((-12 <= (hr*60 + mn)/60) && ((hr*60 + mn)/60 <= 14))? (sn + Ext.String.leftPad(hr, 2, '0') + Ext.String.leftPad(mn, 2, '0')) : null;\n"].join('\n'),s:'([+-]\\d{4})'},P:{g:1,c:['o = results[{0}];','var sn = o.substring(0,1),','hr = o.substring(1,3)*1 + Math.floor(o.substring(4,6) / 60),','mn = o.substring(4,6) % 60;',"o = ((-12 <= (hr*60 + mn)/60) && ((hr*60 + mn)/60 <= 14))? (sn + Ext.String.leftPad(hr, 2, '0') + Ext.String.leftPad(mn, 2, '0')) : null;\n"].join('\n'),s:'([+-]\\d{2}:\\d{2})'},T:{g:0,c:null,s:'[A-Z]{1,5}'},Z:{g:1,c:'zz = results[{0}] * 1;\nzz = (-43200 <= zz && zz <= 50400)? zz : null;\n',s:'([+-]?\\d{1,5})'},c:function(){var d=[],b=[a.formatCodeToRegex('Y',1),a.formatCodeToRegex('m',2),a.formatCodeToRegex('d',3),a.formatCodeToRegex('H',4),a.formatCodeToRegex('i',5),a.formatCodeToRegex('s',6),{c:"ms = results[7] || '0'; ms = parseInt(ms, 10)/Math.pow(10, ms.length - 3);\n"},{c:['if (results[8]) {',"if (results[8] == 'Z') {",'zz = 0;','}',"else if (results[8].indexOf(':') > -1) {",a.formatCodeToRegex('P',8).c,'}','else {',a.formatCodeToRegex('O',8).c,'}','}'].join('\n')}],c,e;for(c=0,e=b.length;c<e;++c){d.push(b[c].c)}return {g:1,c:d.join(''),s:[b[0].s,'(?:','-',b[1].s,'(?:','-',b[2].s,'(?:','(?:T| )?',b[3].s,':',b[4].s,'(?::',b[5].s,')?','(?:(?:\\.|,)(\\d+))?','(Z|(?:[-+]\\d{2}(?::)?\\d{2}))?',')?',')?',')?'].join('')}},U:{g:1,c:'u = parseInt(results[{0}], 10);\n',s:'(-?\\d+)'}},compare:function(c,d,e){var a,b;if(typeof c==='string'){c=Ext.Date.parse(c)}if(typeof d==='string'){d=Ext.Date.parse(d)}a=Ext.Date.format(c,'C');b=Ext.Date.format(d,'C');if(!e){a=a.substr(0,10);b=b.substr(0,10)}return a<b?-1:b<a?1:0},dateFormat:function(c,b){return a.format(c,b)},isEqual:function(a,b){if(a&&b){return +a===+b}return !(a||b)},format:function(d,b){var c=a.formatFunctions;if(!Ext.isDate(d)){return ''}if(c[b]==null){a.createFormat(b)}return c[b].call(d)+''},getTimezone:function(a){return a.toString().replace(/^.* (?:\((.*)\)|([A-Z]{1,5})(?:[\-+][0-9]{4})?(?: -?\d+)?)$/,'$1$2').replace(/[^A-Z]/g,'')},getGMTOffset:function(c,b){var a=c.getTimezoneOffset();return (a>0?'-':'+')+Ext.String.leftPad(Math.floor(Math.abs(a)/60),2,'0')+(b?':':'')+Ext.String.leftPad(Math.abs(a%60),2,'0')},getDayOfYear:function(c){var e=0,b=a.clone(c),f=c.getMonth(),d;for(d=0,b.setDate(1),b.setMonth(0);d<f;b.setMonth(++d)){e+=a.getDaysInMonth(b)}return e+c.getDate()-1},getWeekOfYear:function(){var a=86400000,c=7*a;return function(d){var f=b.UTC(d.getFullYear(),d.getMonth(),d.getDate()+3)/a,e=Math.floor(f/7),g=(new b(e*c)).getUTCFullYear();return e-Math.floor(b.UTC(g,0,7)/c)+1}}(),isLeapYear:function(b){var a=b.getFullYear();return !!((a&3)===0&&(a%100||a%400===0&&a))},getFirstDayOfMonth:function(b){var a=(b.getDay()-(b.getDate()-1))%7;return a<0?a+7:a},getLastDayOfMonth:function(b){return a.getLastDateOfMonth(b).getDay()},getFirstDateOfMonth:function(a){return new b(a.getFullYear(),a.getMonth(),1)},getLastDateOfMonth:function(c){return new b(c.getFullYear(),c.getMonth(),a.getDaysInMonth(c))},getDaysInMonth:function(){var b=[31,28,31,30,31,30,31,31,30,31,30,31];return function(c){var d=c.getMonth();return d===1&&a.isLeapYear(c)?29:b[d]}}(),getSuffix:function(a){switch(a.getDate()){case 1:case 21:case 31:return 'st';case 2:case 22:return 'nd';case 3:case 23:return 'rd';default:return 'th';}},clone:function(a){return new b(a.getTime())},isDST:function(a){return (new b(a.getFullYear(),0,1)).getTimezoneOffset()!==a.getTimezoneOffset()},clearTime:function(b,f){var e,c,d;if(isNaN(b.getTime())){return b}if(f){return a.clearTime(a.clone(b))}e=b.getDate();b.setHours(0);b.setMinutes(0);b.setSeconds(0);b.setMilliseconds(0);if(b.getDate()!==e){for(c=1,d=a.add(b,a.HOUR,c);d.getDate()!==e;c++,d=a.add(b,a.HOUR,c)){}b.setDate(e);b.setHours(d.getHours())}return b},add:function(f,i,c,g){var b=a.clone(f),e=0,d,h;if(!i||c===0){return b}h=c-parseInt(c,10);c=parseInt(c,10);if(c){switch(i.toLowerCase()){case a.MILLI:if(g){b.setMilliseconds(b.getMilliseconds()+c)}else {b.setTime(b.getTime()+c)};break;case a.SECOND:if(g){b.setSeconds(b.getSeconds()+c)}else {b.setTime(b.getTime()+c*1000)};break;case a.MINUTE:if(g){b.setMinutes(b.getMinutes()+c)}else {b.setTime(b.getTime()+c*60*1000)};break;case a.HOUR:if(g){b.setHours(b.getHours()+c)}else {b.setTime(b.getTime()+c*60*60*1000)};break;case a.DAY:if(g===!1){b.setTime(b.getTime()+c*24*60*60*1000)}else {b.setDate(b.getDate()+c)};break;case a.MONTH:d=f.getDate();if(d>28){d=Math.min(d,a.getLastDateOfMonth(a.add(a.getFirstDateOfMonth(f),a.MONTH,c)).getDate())};b.setDate(d);b.setMonth(f.getMonth()+c);break;case a.YEAR:d=f.getDate();if(d>28){d=Math.min(d,a.getLastDateOfMonth(a.add(a.getFirstDateOfMonth(f),a.YEAR,c)).getDate())};b.setDate(d);b.setFullYear(f.getFullYear()+c);break;}}if(h){switch(i.toLowerCase()){case a.MILLI:e=1;break;case a.SECOND:e=1000;break;case a.MINUTE:e=1000*60;break;case a.HOUR:e=1000*60*60;break;case a.DAY:e=1000*60*60*24;break;case a.MONTH:d=a.getDaysInMonth(b);e=1000*60*60*24*d;break;case a.YEAR:d=a.isLeapYear(b)?366:365;e=1000*60*60*24*d;break;}if(e){b.setTime(b.getTime()+e*h)}}return b},subtract:function(e,c,d,b){return a.add(e,c,-d,b)},between:function(c,b,d){var a=c.getTime();return b.getTime()<=a&&a<=d.getTime()},isWeekend:function(a){return Ext.Array.indexOf(this.weekendDays,a.getDay())>-1},utcToLocal:function(a){return new Date(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate(),a.getUTCHours(),a.getUTCMinutes(),a.getUTCSeconds(),a.getUTCMilliseconds())},localToUtc:function(b){return a.utc(b.getFullYear(),b.getMonth(),b.getDate(),b.getHours(),b.getMinutes(),b.getSeconds(),b.getMilliseconds())},utc:function(c,a,d,b,e,g,f){return new Date(Date.UTC(c,a,d,b||0,e||0,g||0,f||0))},compat:function(){var c,g=['useStrict','formatCodeToRegex','parseFunctions','parseRegexes','formatFunctions','y2kYear','MILLI','SECOND','MINUTE','HOUR','DAY','MONTH','YEAR','defaults','dayNames','monthNames','monthNumbers','getShortMonthName','getShortDayName','getMonthNumber','formatCodes','isValid','parseDate','getFormatCode','createFormat','createParser','parseCodes'],h=['dateFormat','format','getTimezone','getGMTOffset','getDayOfYear','getWeekOfYear','isLeapYear','getFirstDayOfMonth','getLastDayOfMonth','getDaysInMonth','getSuffix','clone','isDST','clearTime','add','between'],j=g.length,i=h.length,f,e,d;for(d=0;d<j;d++){f=g[d];b[f]=a[f]}for(c=0;c<i;c++){e=h[c];b.prototype[e]=function(){var b=Array.prototype.slice.call(arguments);b.unshift(this);return a[e].apply(a,b)}}},diff:function(e,d,f){var c=+d-e,b;switch(f){case a.MILLI:return c;case a.SECOND:return Math.floor(c/1000);case a.MINUTE:return Math.floor(c/60000);case a.HOUR:return Math.floor(c/3600000);case a.DAY:return Math.floor(c/86400000);case 'w':return Math.floor(c/604800000);case a.MONTH:b=d.getFullYear()*12+d.getMonth()-(e.getFullYear()*12+e.getMonth());if(a.add(e,f,b)>d){return b-1};return b;case a.YEAR:b=d.getFullYear()-e.getFullYear();if(a.add(e,f,b)>d){return b-1}else {return b};}},align:function(e,f,d){var c=new b(+e);switch(f.toLowerCase()){case a.MILLI:return c;case a.SECOND:c.setUTCSeconds(c.getUTCSeconds()-c.getUTCSeconds()%d);c.setUTCMilliseconds(0);return c;case a.MINUTE:c.setUTCMinutes(c.getUTCMinutes()-c.getUTCMinutes()%d);c.setUTCSeconds(0);c.setUTCMilliseconds(0);return c;case a.HOUR:c.setUTCHours(c.getUTCHours()-c.getUTCHours()%d);c.setUTCMinutes(0);c.setUTCSeconds(0);c.setUTCMilliseconds(0);return c;case a.DAY:if(d===7||d===14){c.setUTCDate(c.getUTCDate()-c.getUTCDay()+1)};c.setUTCHours(0);c.setUTCMinutes(0);c.setUTCSeconds(0);c.setUTCMilliseconds(0);return c;case a.MONTH:c.setUTCMonth(c.getUTCMonth()-(c.getUTCMonth()-1)%d,1);c.setUTCHours(0);c.setUTCMinutes(0);c.setUTCSeconds(0);c.setUTCMilliseconds(0);return c;case a.YEAR:c.setUTCFullYear(c.getUTCFullYear()-c.getUTCFullYear()%d,1,1);c.setUTCHours(0);c.setUTCMinutes(0);c.setUTCSeconds(0);c.setUTCMilliseconds(0);return e;}},flexParse:function(m,k){var b=h.exec(m),i,g,c,e,j;if(!b){return Ext.Date.parse(m,'C')}if(!k){k=Ext.Date.defaultFormat}if(!(b[2]||b[4])){i=k[0];if(!d[i]&&(l[i]||b[1]>12&&b[3]<13)){g=parseInt(b[1]);c=parseInt(b[3])-1;e=parseInt(b[5])}else if(!d[i]&&(f[i]||b[3]>12&&b[1]<13)){c=parseInt(b[1])-1;g=parseInt(b[3]);e=parseInt(b[5])}else {e=parseInt(b[1]);c=parseInt(b[3])-1;g=parseInt(b[5])}}else {if(b[2]&&b[4]){return null}if(b[2]){c=a.monthNumbers[Ext.String.capitalize(b[2].substr(0,3))];g=parseInt(b[3]);e=parseInt(b[5])}else {g=parseInt(b[1]);c=a.monthNumbers[Ext.String.capitalize(b[4].substr(0,3))];e=parseInt(b[5])}}if(isNaN(c)||(c<0||c>11)){return null}if(e<a.y2kYear){e+=2000}j=new Date(e,c,1,0,0,0);if(g<1||g>Ext.Date.getDaysInMonth(j)){return null}j.setDate(g);return j}};a.parseCodes.C=a.parseCodes.c;return a}();Ext.Function=function(){var i=0,g,d=[],l=[],n=0,f={},b=Array.prototype.slice,e=window,c=Ext.global,h=!Ext.disableImmediate&&!!(c.setImmediate&&c.clearImmediate),k=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||function(d){var b=Ext.now(),a=Math.max(0,16-(b-i)),f=function(){d(b+a)},c;c=e.setTimeout(f,a);i=b+a;return c},m=function(){var h=d.length,e,b,a;g=null;for(b=0;b<h;b++){a=d[b];e=a[3];if(f[e]){delete f[e];a[0].apply(a[1]||c,a[2]||l)}}d=d.slice(h)},j=function(){Ext.elevate(m)},a={flexSetter:function(a){return function(b,e){var c,d;if(b!==null){if(typeof b!=='string'){for(c in b){if(b.hasOwnProperty(c)){a.call(this,c,b[c])}}if(Ext.enumerables){for(d=Ext.enumerables.length;d--;){c=Ext.enumerables[d];if(b.hasOwnProperty(c)){a.call(this,c,b[c])}}}}else {a.call(this,b,e)}}return this}},bind:function(f,e,d,a){if(arguments.length<=2){return f.bind(e)}var g=f;return function(){var h=d||arguments;if(a===!0){h=b.call(arguments,0);h=h.concat(d)}else if(typeof a==='number'){h=b.call(arguments,0);Ext.Array.insert(h,a,d)}return g.apply(e||c,h)}},bindCallback:function(c,f,a,e,d){return function(){var g=b.call(arguments);return Ext.callback(c,f,a?a.concat(g):g,e,d)}},pass:function(c,a,b){if(!Ext.isArray(a)){if(Ext.isIterable(a)){a=Ext.Array.clone(a)}else {a=a!==undefined?[a]:[]}}return function(){var d=a.slice();d.push.apply(d,arguments);return c.apply(b||this,d)}},alias:function(a,b){return function(){return a[b].apply(a,arguments)}},clone:function(a){var c,b;c=function(){return a.apply(this,arguments)};for(b in a){if(a.hasOwnProperty(b)){c[b]=a[b]}}return c},createInterceptor:function(b,d,e,a){if(!Ext.isFunction(d)){return b}else {a=Ext.isDefined(a)?a:null;return function(){var g=this,f=arguments;return d.apply(e||g||c,f)!==!1?b.apply(g||c,f):a}}},createDelayed:function(e,g,c,d,f){var a=e;if(c||d){a=Ext.Function.bind(e,c,d,f)}return function(){var k=this,j=b.call(arguments),h,i;h=function(){Ext.elevate(a,k,j)};i=setTimeout(h,g)}},defer:function(h,e,f,g,b){var d=0,c,a;if(!f&&!g&&!b){a=h}else {a=Ext.Function.bind(h,f,g,b)}if(e>0){c=function(){Ext.elevate(a)};d=setTimeout(c,e)}else {a()}return d},interval:function(h,e,f,g,d){var b,c,a;a=Ext.Function.bind(h,f,g,d);b=function(){Ext.elevate(a)};c=setInterval(b,e);return c},createSequence:function(a,b,c){if(!b){return a}else {return function(){var d=a.apply(this,arguments);b.apply(c||this,arguments);return d}}},createBuffered:function(g,d,e,f){var a,c=function(){var i=f||b.call(arguments,0),j=e||this,h;if(a){Ext.undefer(a)}h=function(){Ext.elevate(g,j,i)};c.timer=a=setTimeout(h,d)};return c},createAnimationFrame:function(h,f,g,d){var e,c;d=d||3;e=function(){var i,j=g||b.call(arguments,0);f=f||this;if(d===3&&c){a.cancelAnimationFrame(c)}if(d&1||!c){i=function(){c=e.timerId=null;h.apply(f,j)};c=e.timerId=a.requestAnimationFrame(i)}};return e},requestAnimationFrame:function(i,e,h){var a=++n,c=b.call(arguments,0);c[3]=a;f[a]=1;d.push(c);if(!g){g=k(j)}return a},cancelAnimationFrame:function(a){delete f[a]},createThrottled:function(h,f,d){var e=0,c,b,a,g=function(){h.apply(d,b);e=Ext.now();b=a=null};return function(){if(!d){d=this}c=Ext.now()-e;b=Ext.Array.slice(arguments);if(c>=f){Ext.undefer(a);g()}else if(!a){a=Ext.defer(g,f-c)}}},createBarrier:function(b,d,c){var a=function(){if(!--b){d.apply(c,arguments)}};return a},interceptBefore:function(b,a,e,d){var c=b[a]||Ext.emptyFn;return b[a]=function(){var f=e.apply(d||this,arguments);c.apply(this,arguments);return f}},interceptAfter:function(b,a,e,d){var c=b[a]||Ext.emptyFn;return b[a]=function(){c.apply(this,arguments);return e.apply(d||this,arguments)}},interceptAfterOnce:function(d,a,f,e){var b=d[a],c;c=function(){var g;if(b){b.apply(this,arguments)}g=f.apply(e||this,arguments);d[a]=b;d=a=f=e=b=c=null;return g};d[a]=c;return c},makeCallback:function(b,a){return function(){return a[b].apply(a,arguments)}},memoize:function(e,c,a){var b={},d=a&&Ext.isFunction(a);return function(g){var f=d?a.apply(c,arguments):g;if(!(f in b)){b[f]=e.apply(c,arguments)}return b[f]}},toCode:function(a){var b=a?a.toString():'';return b}};Ext.asap=h?function(g,f,b){var c=g,d,e;if(f!=null||b!=null){c=a.bind(g,f,b)}d=function(){Ext.elevate(c)};e=setImmediate(d);return e}:function(g,f,b){var c=g,d,e;if(f!=null||b!=null){c=a.bind(g,f,b)}d=function(){Ext.elevate(c)};e=setTimeout(d,0,!0);return e};Ext.unasap=h?function(a){if(a){clearImmediate(a)}return null}:function(a){return Ext.undefer(a)};Ext.asapCancel=function(a){return Ext.unasap(a)};Ext.defer=a.defer;Ext.undefer=function(a){if(a){clearTimeout(a)}return null};Ext.interval=a.interval;Ext.uninterval=function(a){if(a){clearInterval(a)}return null};Ext.pass=a.pass;Ext.bind=a.bind;Ext.raf=function(){return a.requestAnimationFrame.apply(a,arguments)};Ext.unraf=function(b){a.cancelAnimationFrame(b)};return a}();Ext.Number=new function(){var b=this,d=(0.9).toFixed()!=='1',a=Math,c={count:!1,inclusive:!1,wrap:!0};Number.MIN_SAFE_INTEGER=Number.MIN_SAFE_INTEGER||-(a.pow(2,53)-1);Number.MAX_SAFE_INTEGER=Number.MAX_SAFE_INTEGER||a.pow(2,53)-1;Ext.apply(b,{MIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,MAX_32BIT_INTEGER:a.pow(2,31)-1,floatRe:/^[-+]?(?:\d+|\d*\.\d*)(?:[Ee][+-]?\d+)?$/,intRe:/^[-+]?\d+(?:[Ee]\+?\d+)?$/,Clip:{DEFAULT:c,COUNT:Ext.applyIf({count:!0},c),INCLUSIVE:Ext.applyIf({inclusive:!0},c),NOWRAP:Ext.applyIf({wrap:!1},c)},parseFloat:function(a){if(a===undefined){a=null}if(a!==null&&typeof a!=='number'){a=String(a);a=b.floatRe.test(a)?+a:null;if(isNaN(a)){a=null}}return a},parseInt:function(a){if(a===undefined){a=null}if(typeof a==='number'){a=Math.floor(a)}else if(a!==null){a=String(a);a=b.intRe.test(a)?+a:null}return a},binarySearch:function(e,f,a,b){var c,d;if(a===undefined){a=0}if(b===undefined){b=e.length}--b;while(a<=b){c=a+b>>>1;d=e[c];if(f===d){return c}if(d<f){a=c+1}else {b=c-1}}return a},bisectTuples:function(e,f,g,a,b){var c,d;if(a===undefined){a=0}if(b===undefined){b=e.length}--b;while(a<=b){c=a+b>>>1;d=e[c][g];if(f===d){return c}if(d<f){a=c+1}else {b=c-1}}return a},clipIndices:function(d,b,f){var h=0,i,g,a,e;f=f||c;i=f.wrap;b=b||[];for(e=0;e<2;++e){g=a;a=b[e];if(a==null){a=h}else if(e&&f.count){a+=g;a=a>d?d:a}else {if(i){a=a<0?d+a:a}if(e&&f.inclusive){++a}a=a<0?0:a>d?d:a}h=d}b[0]=g;b[1]=a<g?g:a;return b},constrain:function(c,b,a){var d=parseFloat(c);if(b===null){b=c}if(a===null){a=c}return d<b?b:d>a?a:d},snap:function(a,c,e,f){var d;if(a===undefined||a<e){return e||0}if(c){d=a%c;if(d!==0){a-=d;if(d*2>=c){a+=c}else if(d*2<-c){a-=c}}}return b.constrain(a,e,f)},snapInRange:function(a,d,c,e){var f;c=c||0;if(a===undefined||a<c){return c}if(d&&(f=(a-c)%d)){a-=f;f*=2;if(f>=d){a+=d}}if(e!==undefined){if(a>(e=b.snapInRange(e,d,c))){a=e}}return a},roundToNearest:function(c,b){b=b||1;return b*a.round(c/b)},roundToPrecision:function(d,c){var b=a.pow(10,c||1);return a.round(d*b)/b},truncateToPrecision:function(d,c){var b=a.pow(10,c||1);return parseInt(d*b,10)/b},sign:a.sign||function(a){a=+a;if(a===0||isNaN(a)){return a}return a>0?1:-1},log10:a.log10||function(b){return a.log(b)*a.LOG10E},isEqual:function(c,d,b){return a.abs(c-d)<b},isFinite:Number.isFinite||function(a){return typeof a==='number'&&isFinite(a)},isInteger:Number.isInteger||function(a){return ~~(a+0)===a},toFixed:d?function(d,b){var c;b=b||0;c=a.pow(10,b);return (a.round(d*c)/c).toFixed(b)}:function(b,a){return b.toFixed(a)},from:function(a,b){if(isFinite(a)){a=parseFloat(a)}return !isNaN(a)?a:b},randomInt:function(b,c){return a.floor(a.random()*(c-b+1)+b)},correctFloat:function(a){return parseFloat(a.toPrecision(14))}});Ext.num=function(){return b.from.apply(this,arguments)}}();(function(){var b=function(){},d=/^\?/,f=/(\[):?([^\]]*)\]/g,e=/^([^\[]+)/,c=/\+/g,a;a=Ext.Object={chain:Object.create||function(c){var a;b.prototype=c;a=new b();b.prototype=null;return a},clear:function(a){var b;for(b in a){delete a[b]}return a},freeze:Object.freeze?function(b,c){var d;if(b&&typeof b==='object'&&!Object.isFrozen(b)){Object.freeze(b);if(c){for(d in b){a.freeze(b[d],c)}}}return b}:Ext.identityFn,toQueryObjects:function(e,c,f){var g=a.toQueryObjects,d=[],b,h;if(Ext.isArray(c)){for(b=0,h=c.length;b<h;b++){if(f){d=d.concat(g(e+'['+b+']',c[b],!0))}else {d.push({name:e,value:c[b]})}}}else if(Ext.isObject(c)){for(b in c){if(c.hasOwnProperty(b)){if(f){d=d.concat(g(e+'['+b+']',c[b],!0))}else {d.push({name:e,value:c[b]})}}}}else {d.push({name:e,value:c})}return d},toQueryString:function(g,j){var c=[],h=[],d,e,i,f,b;for(d in g){if(g.hasOwnProperty(d)){c=c.concat(a.toQueryObjects(d,g[d],j))}}for(e=0,i=c.length;e<i;e++){f=c[e];b=f.value;if(Ext.isEmpty(b)){b=''}else if(Ext.isDate(b)){b=Ext.Date.toString(b)}h.push(encodeURIComponent(f.name)+'='+encodeURIComponent(String(b)))}return h.join('&')},fromQueryString:function(u,v){var s=u.replace(d,'').split('&'),i={},j,o,a,g,n,t,q,h,l,m,r,k,b,p;for(n=0,t=s.length;n<t;n++){q=s[n];if(q.length>0){o=q.split('=');a=o[0];a=a.replace(c,'%20');a=decodeURIComponent(a);g=o[1];if(g!==undefined){g=g.replace(c,'%20');g=decodeURIComponent(g)}else {g=''}if(!v){if(i.hasOwnProperty(a)){if(!Ext.isArray(i[a])){i[a]=[i[a]]}i[a].push(g)}else {i[a]=g}}else {m=a.match(f);r=a.match(e);a=r[0];k=[];if(m===null){i[a]=g;continue}for(h=0,l=m.length;h<l;h++){b=m[h];b=b.length===2?'':b.substring(1,b.length-1);k.push(b)}k.unshift(a);j=i;for(h=0,l=k.length;h<l;h++){b=k[h];if(h===l-1){if(Ext.isArray(j)&&b===''){j.push(g)}else {j[b]=g}}else {if(j[b]===undefined||typeof j[b]==='string'){p=k[h+1];j[b]=Ext.isNumeric(p)||p===''?[]:{}}j=j[b]}}}}}return i},each:function(a,f,c){var d=Ext.enumerables,e,b;if(a){c=c||a;for(b in a){if(a.hasOwnProperty(b)){if(f.call(c,b,a[b],a)===!1){return}}}if(d){for(e=d.length;e--;){if(a.hasOwnProperty(b=d[e])){if(f.call(c,b,a[b],a)===!1){return}}}}}},eachValue:function(a,f,c){var d=Ext.enumerables,e,b;c=c||a;for(b in a){if(a.hasOwnProperty(b)){if(f.call(c,a[b])===!1){return}}}if(d){for(e=d.length;e--;){if(a.hasOwnProperty(b=d[e])){if(f.call(c,a[b])===!1){return}}}}},merge:function(d){var g=1,h=arguments,k=h.length,j=a.merge,i=Ext.clone,f,c,b,e;for(;g<k;g++){f=h[g];for(c in f){b=f[c];if(b&&b.constructor===Object){e=d[c];if(e&&e.constructor===Object){j(e,b)}else {d[c]=i(b)}}else {d[c]=b}}}return d},mergeIf:function(c){var e=1,g=arguments.length,f=Ext.clone,d,b,a;for(;e<g;e++){d=arguments[e];for(b in d){if(!(b in c)){a=d[b];if(a&&a.constructor===Object){c[b]=f(a)}else {c[b]=a}}}}return c},getAllKeys:function(c){var b=[],a;for(a in c){b.push(a)}return b},getKey:function(b,c){var a;for(a in b){if(b.hasOwnProperty(a)&&b[a]===c){return a}}return null},getValues:function(b){var c=[],a;for(a in b){if(b.hasOwnProperty(a)){c.push(b[a])}}return c},getKeys:typeof Object.keys==='function'?function(a){if(!a){return []}return Object.keys(a)}:function(b){var c=[],a;for(a in b){if(b.hasOwnProperty(a)){c.push(a)}}return c},getSize:function(b){var c=0,a;for(a in b){if(b.hasOwnProperty(a)){c++}}return c},isEmpty:function(a){var b;for(b in a){if(a.hasOwnProperty(b)){return !1}}return !0},equals:function(){var a=function(b,c){var a;for(a in b){if(b.hasOwnProperty(a)){if(b[a]!==c[a]){return !1}}}return !0};return function(b,c){if(b===c){return !0}if(b&&c){return a(b,c)&&a(c,b)}else if(!b&&!c){return b===c}else {return !1}}}(),fork:function(c){var d,e,b;if(c&&c.constructor===Object){d=a.chain(c);for(e in c){b=c[e];if(b){if(b.constructor===Object){d[e]=a.fork(b)}else if(b instanceof Array){d[e]=Ext.Array.clone(b)}}}}else {d=c}return d},defineProperty:'defineProperty' in Object?Object.defineProperty:function(b,c,a){if(!Object.prototype.__defineGetter__){return}if(a.get){b.__defineGetter__(c,a.get)}if(a.set){b.__defineSetter__(c,a.set)}},classify:function(c){var h=c,e=[],g={},f,b,d;f=function(){var b,a,d;for(a=0,d=e.length;a<d;a++){b=e[a];this[b]=new g[b]()}};for(b in c){if(c.hasOwnProperty(b)){d=c[b];if(d&&d.constructor===Object){e.push(b);g[b]=a.classify(d)}}}f.prototype=h;return f}};Ext.merge=Ext.Object.merge;Ext.mergeIf=Ext.Object.mergeIf})();Ext.apply(Ext,{_namedScopes:{'this':{isThis:1},controller:{isController:1},owner:{isOwner:1},up:{isUp:1},self:{isSelf:1},'self.controller':{isSelf:1,isController:1}},scrollbar:{_size:null,size:function(g){var e=Ext.scrollbar,b=e._size;if(g||!b){var f=document.body,a=document.createElement('div'),c,d;a.style.width=a.style.height='100px';a.style.overflow='scroll';a.style.position='absolute';f.appendChild(a);e._size=b={width:d=a.offsetWidth-a.clientWidth,height:c=a.offsetHeight-a.clientHeight};b.reservedWidth=d?'calc(100% - '+d+'px)':'';b.reservedHeight=c?'calc(100% - '+c+'px)':'';f.removeChild(a)}return b},height:function(a){return Ext.scrollbar.size(a).height},width:function(a){return Ext.scrollbar.size(a).width}},escapeId:function(){var c=/^[a-zA-Z_][a-zA-Z0-9_\-]*$/i,e=/([\W]{1})/g,a=/^(\d)/g,d=function(b,a){return '\\'+a},b=function(b,a){return '\\00'+a.charCodeAt(0).toString(16)+' '};return function(f){return c.test(f)?f:f.replace(e,d).replace(a,b)}}(),lookUpFn:function(d,c){var b,a;for(a=d.up();a&&!a[c];a=a.up()){b=a.controller;if(b&&b[c]){a=b;break}}return a},callback:function(b,a,e,g,c,f){if(!b){return}var d=a in Ext._namedScopes,h;if(b.charAt){if(b[2]==='.'){a=Ext.lookUpFn(c,b=b.substr(3))}else if(c){if(d&&d.isUp){a=Ext.lookUpFn(c,b)}else if(!a||d){a=c.resolveListenerScope(d?a:f)}}b=a[b]}else if(d){a=f||c}else if(!a){a=c}if(b&&Ext.isFunction(b)){a=a||Ext.global;if(g){Ext.defer(b,g,a,e)}else {h=e?b.apply(a,e):b.call(a)}}return h},coerce:function(a,e){var d=Ext.typeOf(a),c=Ext.typeOf(e),b=typeof a==='string';if(d!==c){switch(c){case 'string':return String(a);case 'number':return Number(a);case 'boolean':return b&&(!a||a==='false'||a==='0')?!1:Boolean(a);case 'null':return b&&(!a||a==='null')?null:!1;case 'undefined':return b&&(!a||a==='undefined')?undefined:!1;case 'date':return b&&isNaN(a)?Ext.Date.parse(a,Ext.Date.defaultFormat):Date(Number(a));}}return a},copyTo:function(e,d,a,g){var b,c,f;if(typeof a==='string'){a=a.split(Ext.propertyNameSplitRe)}for(c=0,f=a?a.length:0;c<f;c++){b=a[c];if(g||d.hasOwnProperty(b)){e[b]=d[b]}}return e},copy:function(e,d,a,g){var b,c,f;if(typeof a==='string'){a=a.split(Ext.propertyNameSplitRe)}for(c=0,f=a?a.length:0;c<f;c++){b=a[c];if(d.hasOwnProperty(b)||g&&b in d){e[b]=d[b]}}return e},propertyNameSplitRe:/[,;\s]+/,copyToIf:function(d,f,a){var b,c,e;if(typeof a==='string'){a=a.split(Ext.propertyNameSplitRe)}for(c=0,e=a?a.length:0;c<e;c++){b=a[c];if(d[b]===undefined){d[b]=f[b]}}return d},copyIf:function(d,e,a){var b,c,f;if(typeof a==='string'){a=a.split(Ext.propertyNameSplitRe)}for(c=0,f=a?a.length:0;c<f;c++){b=a[c];if(!(b in d)&&b in e){d[b]=e[b]}}return d},extend:function(){var a=Object.prototype.constructor,b=function(b){var a;for(a in b){if(!b.hasOwnProperty(a)){continue}this[a]=b[a]}};return function(c,d,g){if(Ext.isObject(d)){g=d;d=c;c=g.constructor!==a?g.constructor:function(){d.apply(this,arguments)}}var h=function(){},f=d.prototype,e;h.prototype=f;e=c.prototype=new h();e.constructor=c;c.superclass=f;if(f.constructor===a){f.constructor=d}c.override=function(a){Ext.override(c,a)};e.override=b;e.proto=e;c.override(g);c.extend=function(a){return Ext.extend(c,a)};return c}}(),isOnline:function(){return Ext.global.navigator.onLine},iterate:function(a,c,b){if(Ext.isEmpty(a)){return}if(b===undefined){b=a}if(Ext.isIterable(a)){Ext.Array.each.call(Ext.Array,a,c,b)}else {Ext.Object.each.call(Ext.Object,a,c,b)}},_resourcePoolRe:/^[<]([^<>@:]*)(?:[@]([^<>@:]+))?[>](.+)$/,resolveResource:function(b){var c=b,a;if(b&&b.charAt(0)==='<'){a=Ext._resourcePoolRe.exec(b);if(a){c=Ext.getResourcePath(a[3],a[1],a[2])}}return c},urlEncode:function(){var a=Ext.Array.from(arguments),b='';if(Ext.isString(a[1])){b=a[1]+'&';a[1]=!1}return b+Ext.Object.toQueryString.apply(Ext.Object,a)},urlDecode:function(){return Ext.Object.fromQueryString.apply(Ext.Object,arguments)},getScrollbarSize:function(a){return Ext.scrollbar.size(a)},typeOf:function(){var a=/\S/,d=Object.prototype.toString,c={number:1,string:1,'boolean':1,'undefined':1},b={'[object Array]':'array','[object Date]':'date','[object Boolean]':'boolean','[object Number]':'number','[object RegExp]':'regexp'};return function(e){if(e===null){return 'null'}var f=typeof e,g,h;if(c[f]){return f}g=b[h=d.call(e)];if(g){return g}if(f==='function'){return 'function'}if(f==='object'){if(e.nodeType!==undefined){if(e.nodeType===3){return a.test(e.nodeValue)?'textnode':'whitespace'}else {return 'element'}}return 'object'}return h}}(),factory:function(a,f,b,d){var e=Ext.ClassManager,c;if(!a||a.isInstance){if(b&&b!==a){b.destroy()}return a}if(d){if(typeof a==='string'){return e.instantiateByAlias(d+'.'+a)}else if(Ext.isObject(a)&&'type' in a){return e.instantiateByAlias(d+'.'+a.type,a)}}if(a===!0){return b||Ext.create(f)}if('xtype' in a){c=e.instantiateByAlias('widget.'+a.xtype,a)}else if('xclass' in a){c=Ext.create(a.xclass,a)}if(c){if(b){b.destroy()}return c}if(b){return b.setConfig(a)}return Ext.create(f,a)},convertKeyedItems:function(b,g,f){if(b&&!b.isInstance&&Ext.isObject(b)){var c=b,a,e,d;b=[];if(c.xtype||c.xclass||c.itemId||c.id){b.push(c)}else {for(e in c){a=c[e];if(a){if(a===!0){a={}}else if(typeof a==='function'){d=a;a={};a[f]=d}else if(typeof a==='string'){d=a;a={};a[g||'xtype']=d}else {a=Ext.apply({},a)}a.itemId=e;b.push(a)}}}}return b},sortByWeight:function(a){if(a){Ext.Array.sort(a,Ext.weightSortFn)}},weightSortFn:function(a,b){return (a.weight||0)-(b.weight||0)},concat:function(a,c){var d=c==null,b=Ext.emptyArray;return a==null?d?a:b.concat(c):d?b.concat(a):b.concat(a,c)},log:function(){var a=function(){};a.info=a.warn=a.error=Ext.emptyFn;return a}()});(function(){var b=[''],c=/([^\d.])/,f=/[^\d]/g,g=/[-+]/g,h=/\s/g,e=/_/g,d={classic:1,modern:1},a;Ext.Version=a=function(k,p){var b=this,n=b.padModes,o,m,d,h,j,l,i;if(k.isVersion){k=k.version}b.version=i=String(k).toLowerCase().replace(e,'.').replace(g,'');o=i.charAt(0);if(o in n){i=i.substring(1);d=n[o]}else {d=p?n[p]:0}b.pad=d;l=i.search(c);b.shortVersion=i;if(l!==-1){b.release=j=i.substr(l,k.length);b.shortVersion=i.substr(0,l);j=a.releaseValueMap[j]||j}b.releaseValue=j||d;b.shortVersion=b.shortVersion.replace(f,'');b.parts=h=i.split('.');for(m=h.length;m--;){h[m]=parseInt(h[m],10)}if(d===Infinity){h.push(d)}b.major=h[0]||d;b.minor=h[1]||d;b.patch=h[2]||d;b.build=h[3]||d;return b};a.prototype={isVersion:!0,padModes:{'~':NaN,'^':Infinity},release:'',compareTo:function(f){var g=this,m=g.pad,j=g.parts,h=j.length,e=f.isVersion?f:new a(f),n=e.pad,k=e.parts,i=k.length,l=Math.max(h,i),b,c,d;for(b=0;b<l;b++){c=b<h?j[b]:m;d=b<i?k[b]:n;if(c<d){return -1}if(c>d){return 1}}c=g.releaseValue;d=e.releaseValue;if(c<d){return -1}if(c>d){return 1}return 0},toString:function(){return this.version},valueOf:function(){return this.version},getMajor:function(){return this.major},getMinor:function(){return this.minor},getPatch:function(){return this.patch},getBuild:function(){return this.build},getRelease:function(){return this.release},getReleaseValue:function(){return this.releaseValue},isGreaterThan:function(a){return this.compareTo(a)>0},isGreaterThanOrEqual:function(a){return this.compareTo(a)>=0},isLessThan:function(a){return this.compareTo(a)<0},isLessThanOrEqual:function(a){return this.compareTo(a)<=0},equals:function(a){return this.compareTo(a)===0},match:function(a){a=String(a);return this.version.substr(0,a.length)===a},toArray:function(){var a=this;return [a.getMajor(),a.getMinor(),a.getPatch(),a.getBuild(),a.getRelease()]},getShortVersion:function(){return this.shortVersion},gt:function(a){return this.compareTo(a)>0},lt:function(a){return this.compareTo(a)<0},gtEq:function(a){return this.compareTo(a)>=0},ltEq:function(a){return this.compareTo(a)<=0}};Ext.apply(a,{aliases:{from:{extjs:'ext',core:'core',touch:'modern'},to:{ext:['extjs'],'core':['core'],modern:['touch']}},releaseValueMap:{dev:-6,alpha:-5,a:-5,beta:-4,b:-4,rc:-3,'#':-2,p:-1,pl:-1},getComponentValue:function(a){return !a?0:isNaN(a)?this.releaseValueMap[a]||a:parseInt(a,10)},compare:function(b,c){var d=b.isVersion?b:new a(b);return d.compareTo(c)},set:function(g,f,c){var b=a.aliases.to[f],d=c.isVersion?c:new a(c),e;g[f]=d;if(b){for(e=b.length;e-->0;){g[b[e]]=d}}return d}});Ext.apply(Ext,{compatVersions:{},versions:{},lastRegisteredVersion:null,getCompatVersion:function(b){var c=Ext.compatVersions,d;if(!b){d=c.ext||c.touch||c.core}else {d=c[a.aliases.from[b]||b]}return d||Ext.getVersion(b)},setCompatVersion:function(b,c){a.set(Ext.compatVersions,b,c)},setVersion:function(b,c){if(b in d){Ext.toolkit=b}Ext.lastRegisteredVersion=a.set(Ext.versions,b,c);return this},getVersion:function(c){var b=Ext.versions;if(!c){return b.ext||b.touch||b.core}return b[a.aliases.from[c]||c]},checkVersion:function(o,j){var p=Ext.isArray(o),s=a.aliases.from,q=p?o:b,t=q.length,n=Ext.versions,r=n.ext||n.touch,l,c,f,i,g,m,d,e,k;if(!p){b[0]=o}for(l=0;l<t;++l){if(!Ext.isString(d=q[l])){f=Ext.checkVersion(d.and||d.or,!d.or);if(d.not){f=!f}}else {if(d.indexOf(' ')>=0){d=d.replace(h,'')}c=d.indexOf('@');if(c<0){e=d;k=r}else {m=d.substring(0,c);if(!(k=n[s[m]||m])){if(j){return !1}continue}e=d.substring(c+1)}c=e.indexOf('-');if(c<0){if(e.charAt(c=e.length-1)==='+'){i=e.substring(0,c);g=null}else {i=g=e}}else if(c>0){i=e.substring(0,c);g=e.substring(c+1)}else {i=null;g=e.substring(c+1)}f=!0;if(i){i=new a(i,'~');f=i.ltEq(k)}if(f&&g){g=new a(g,'~');f=g.gtEq(k)}}if(f){if(!j){return !0}}else if(j){return !1}}return !!j},deprecate:function(b,e,c,d){if(a.compare(Ext.getVersion(b),e)<1){c.call(d)}}})})();(function(c){var d=c&&c.packages||{},b=c&&c.compatibility,a,e;for(a in d){e=d[a];if(e&&e.version){Ext.setVersion(a,e.version)}}if(b){if(Ext.isString(b)){Ext.setCompatVersion('core',b)}else {for(a in b){Ext.setCompatVersion(a,b[a])}}}if(!d.ext&&!d.touch){Ext.setVersion('ext','7.6.0.41');Ext.setVersion('core','7.6.0.41')}})(Ext.manifest);Ext.Config=function(b){var c=this,a=b.charAt(0).toUpperCase()+b.substr(1);c.name=b;c.names={internal:'_'+b,initializing:'is'+a+'Initializing',apply:'apply'+a,update:'update'+a,get:'get'+a,set:'set'+a,initGet:'initGet'+a,changeEvent:b.toLowerCase()+'change'};c.root=c};Ext.Config.map={};Ext.Config.get=function(a){var b=Ext.Config.map,c=b[a]||(b[a]=new Ext.Config(a));return c};Ext.Config.prototype={self:Ext.Config,isConfig:!0,combine:function(a,b,e,c){var d=this;if(d.merge){a=d.merge(c?Ext.clone(a):a,b,e)}else if(a&&a.constructor===Object&&b&&b.constructor===Object){a=Ext.merge({},b,a)}else if(c&&a){a=Ext.clone(a)}return a},equals:function(a,b){return a===b},getGetter:function(){return this.getter||(this.root.getter=this.makeGetter())},getInitGetter:function(){return this.initGetter||(this.root.initGetter=this.makeInitGetter())},getSetter:function(){return this.setter||(this.root.setter=this.makeSetter())},getEventedSetter:function(){return this.eventedSetter||(this.root.eventedSetter=this.makeEventedSetter())},getInternalName:function(a){return a.$configPrefixed?this.names.internal:this.name},mergeNew:function(b,d,f,e){var a,c;if(!d){a=b}else if(!b){a=d}else {a=Ext.Object.chain(d);for(c in b){if(!e||!(c in a)){a[c]=b[c]}}}return a},mergeSets:function(a,f,e){var b=f?Ext.Object.chain(f):{},c,d;if(a instanceof Array){for(c=a.length;c--;){d=a[c];if(!e||!(d in b)){b[d]=!0}}}else if(a){if(a.constructor===Object){for(c in a){d=a[c];if(!e||!(c in b)){b[c]=d}}}else if(!e||!(a in b)){b[a]=!0}}return b},makeGetter:function(){var b=this.name,a=this.names.internal;return function(){var c=this.$configPrefixed?a:b;return this[c]}},makeInitGetter:function(){var e=this.name,a=this.names,d=a.set,c=a.get,b=a.initializing;return function(){var a=this;a[b]=!0;delete a[c];a[d](a.config[e]);delete a[b];return a[c].apply(a,arguments)}},makeSetter:function(){var c=this.name,a=this.names,f=a.internal,g=a.get,e=a.apply,d=a.update,b;b=function(b){var a=this,h=a.$configPrefixed?f:c,i=a[h],j;delete a[g];if(!a[e]||(b=a[e](b,i))!==undefined){if(b!==(i=a[h])){a[h]=b;if(a[d]){a[d](b,i)}j=a.$configWatch;if(j&&!a.isConfiguring){j.fire(c,[a,c,a[h],i])}}}return a};b.$isDefault=!0;return b},makeEventedSetter:function(){var d=this.name,a=this.names,g=a.internal,i=a.get,e=a.apply,b=a.update,f=a.changeEvent,h=function(a,c,e,g){a[g]=c;if(a[b]){a[b](c,e)}var f=a.$configWatch;if(f){f.fire(d,[a,d,c,e])}},c;c=function(c){var a=this,k=a.$configPrefixed?g:d,j=a[k];delete a[i];if(!a[e]||(c=a[e](c,j))!==undefined){if(c!==(j=a[k])){if(a.isConfiguring){a[k]=c;if(a[b]){a[b](c,j)}}else {a.fireEventedAction(f,[a,c,j],h,a,[a,c,j,k])}}}return a};c.$isDefault=!0;return c}};(function(){var c=Ext.Config,b=c.map,a=Ext.Object;Ext.Configurator=function(d){var b=this,e=d.prototype,c=d.superclass?d.superclass.self.$config:null;b.cls=d;b.superCfg=c;if(c){b.configs=a.chain(c.configs);b.cachedConfigs=a.chain(c.cachedConfigs);b.initMap=a.chain(c.initMap);b.values=a.chain(c.values);b.needsFork=c.needsFork}else {b.configs={};b.cachedConfigs={};b.initMap={};b.values={}}e.config=e.defaultConfig=b.values;d.$config=b};Ext.Configurator.prototype={self:Ext.Configurator,needsFork:!1,initList:null,add:function(s,k){var h=this,m=h.cls,j=h.configs,u=h.cachedConfigs,p=h.initMap,f=m.prototype,r=k&&k.$config.configs,t=h.values,l,e,o,g,a,i,d,q,n,b;for(d in s){b=s[d];l=b&&b.constructor===Object;e=l&&'$value' in b?b:null;o=!1;if(e){o=!!e.cached;b=e.$value;l=b&&b.constructor===Object}g=e&&e.merge;a=j[d];if(a){if(k){g=a.merge;if(!g){continue}e=null}else {g=g||a.merge}i=t[d];if(g){b=g.call(a,b,i,m,k)}else if(l){if(i&&i.constructor===Object){b=Ext.merge({},i,b)}}}else {if(r){a=r[d];e=null}else {a=c.get(d)}j[d]=a;if(a.cached||o){u[d]=!0}q=a.names;if(!f[n=q.get]){f[n]=a.getter||a.getGetter()}if(!f[n=q.set]){f[n]=e&&e.evented?a.eventedSetter||a.getEventedSetter():a.setter||a.getSetter()}}if(e){if(a.owner!==m){j[d]=a=Ext.Object.chain(a);a.owner=m}Ext.apply(a,e);delete a.$value}if(!h.needsFork&&b&&(b.constructor===Object||b instanceof Array)){h.needsFork=!0}if(b!==null){p[d]=!0}else {if(f.$configPrefixed){f[j[d].names.internal]=null}else {f[j[d].name]=null}if(d in p){p[d]=!1}}t[d]=b}},configure:function(b,i){var j=this,v=j.configs,x=j.initMap,s=j.initListMap,p=j.initList,m=j.cls.prototype,l=j.values,t=0,w=!p,o,c,n,d,q,f,g,e,h,u,r,y,k;l=j.needsFork?a.fork(l):a.chain(l);b.isConfiguring=!0;if(w){j.initList=p=[];j.initListMap=s={};b.isFirstInstance=!0;for(e in x){c=v[e];u=c.cached;if(x[e]){g=c.names;h=l[e];if(!m[g.set].$isDefault||m[g.apply]||m[g.update]||typeof h==='object'){if(u){(o||(o=[])).push(c)}else {p.push(c);s[e]=!0}b[g.get]=c.initGetter||c.getInitGetter()}else {m[c.getInternalName(m)]=h}}else if(u){m[c.getInternalName(m)]=undefined}}}f=o&&o.length;if(f){for(d=0;d<f;++d){q=o[d].getInternalName(m);b[q]=null}for(d=0;d<f;++d){g=(c=o[d]).names;n=g.get;if(b.hasOwnProperty(n)){b[g.set](l[c.name]);delete b[n]}}for(d=0;d<f;++d){q=o[d].getInternalName(m);m[q]=b[q];delete b[q]}}if(i&&i.platformConfig){i=j.resolvePlatformConfig(b,i)}if(w){if(b.afterCachedConfig&&!b.afterCachedConfig.$nullFn){b.afterCachedConfig(i)}}b.config=l;for(d=0,f=p.length;d<f;++d){c=p[d];b[c.names.get]=c.initGetter||c.getInitGetter()}if(!(k=b.self.$configTransforms)){b.self.$configTransforms=k=[];f=b.$configTransforms;for(e in f){k.push([e,f[e]])}f=k.length;if(f>1){k.sort(j.transformSorter);for(d=0;d<f;++d){k[d]=k[d][0]}}else if(f){k[0]=k[0][0]}}for(d=0;d<k.length;++d){e=k[d];if(b[e]){i=b[e](i,j)}}if(i){for(e in i){h=i[e];c=v[e];if(!c){b[e]=h}else {if(!c.lazy){++t}if(!s[e]){b[c.names.get]=c.initGetter||c.getInitGetter()}r=l[e];if(c.merge){h=c.merge(h,r,b)}else if(h&&h.constructor===Object){if(r&&r.constructor===Object){h=Ext.merge(l[e],h)}else {h=Ext.clone(h,!1)}}}l[e]=h}}if(b.beforeInitConfig&&!b.beforeInitConfig.$nullFn){if(b.beforeInitConfig(i)===!1){return}}if(i){for(e in i){if(!t){break}c=v[e];if(c&&!c.lazy){--t;g=c.names;n=g.get;if(b.hasOwnProperty(n)){b[g.set](l[e]);delete b[g.get]}}}}for(d=0,f=p.length;d<f;++d){c=p[d];g=c.names;n=g.get;if(!c.lazy&&b.hasOwnProperty(n)){b[g.set](l[c.name]);delete b[n]}}delete b.isConfiguring},getCurrentConfig:function(c){var e=c.defaultConfig,d={},a;for(a in e){d[a]=c[b[a].names.get]()}return d},hoistConfigs:function(e,d,g){var f=e.config,j=this.configs,i=this.initListMap,h=!1,b,c,a;for(c=0;c<g.length;++c){a=g[c];if(d&&a in d){b=j[a];f[a]=b.combine(d[a],f[a],e);if(!i[a]){e[b.names.get]=b.initGetter||b.getInitGetter()}}if(f[a]!=null){h=!0}}return h},merge:function(g,b,f,i){var h=this.configs,d,a,c,e;if(i){b=Ext.clone(b,!1)}for(d in f){a=f[d];e=h[d];if(e){c=b[d];if(e.merge){a=e.merge(a,c,g)}else if(a&&a.constructor===Object){if(c&&c.constructor===Object){a=Ext.merge(c,a)}else {a=Ext.clone(a,!1)}}}b[d]=a}return b},reconfigure:function(c,f,g){var n=c.config,i=[],p=c.$configStrict&&!(g&&g.strict===!1),l=this.configs,o=g&&g.defaults,d,j,h,m,a,e,k;for(a in f){d=l[a];if(o&&c.hasOwnProperty(d&&c.$configPrefixed?d.names.internal:a)){continue}n[a]=f[a];if(d){c[d.names.get]=d.initGetter||d.getInitGetter()}else {k=c.self.prototype[a];if(p){if(typeof k==='function'&&!k.$nullFn){continue}}}i.push(a)}for(h=0,m=i.length;h<m;h++){a=i[h];d=l[a];if(d){e=d.names;j=e.get;if(c.hasOwnProperty(j)){c[e.set](f[a]);delete c[j]}}else {d=b[a]||Ext.Config.get(a);e=d.names;if(c[e.set]){c[e.set](f[a])}else {c[a]=f[a]}}}},resolvePlatformConfig:function(g,e){var f=e&&e.platformConfig,b=e,c,a,d;if(f){a=Ext.getPlatformConfigKeys(f);d=a.length;if(d){b=Ext.merge({},b);for(c=0,d=a.length;c<d;++c){this.merge(g,b,f[a[c]])}}}return b},transformSorter:function(a,b){return a[1]-b[1]}}})();Ext.Base=function(l){var d=[],e,h=[],i=function(a,b){if(!a.hasOwnProperty(b)){a[b]=Ext.Object.chain(i(a.superclass,b))}return a[b]},k=function(a){return function(){return this[a].apply(this,arguments)}},m=Ext.Version,j=/^\d/,g={},f={},b=function(){},c=b.prototype,a;Ext.Reaper=a={delay:100,queue:[],timer:null,add:function(b){if(!a.timer){a.timer=Ext.defer(a.tick,a.delay)}a.queue.push(b)},flush:function(){if(a.timer){Ext.undefer(a.timer);a.timer=null}var d=a.queue,e=d.length,c,b;a.queue=[];for(c=0;c<e;++c){b=d[c];if(b&&b.$reap){b.$reap()}}},tick:function(){a.timer=null;a.flush()}};Ext.apply(b,{$className:'Ext.Base',$isClass:!0,create:function(){return Ext.create.apply(Ext,[this].concat(Array.prototype.slice.call(arguments,0)))},addConfigTransform:function(a,c){var b=i(this.prototype,'$configTransforms');b[a]=c},addDeprecations:function(o){var s=this,n=[],t=Ext.getCompatVersion(o.name),c,g,r,u,e,h,p,f,i,b,v,a,q,d;for(g in o){if(j.test(g)){d=new Ext.Version(g);d.deprecations=o[g];n.push(d)}}n.sort(m.compare);for(r=n.length;r--;){c=(d=n[r]).deprecations;e=s.prototype;q=c.statics;h=t&&t.lt(d);if(!h){break}while(c){i=c.methods;if(i){for(b in i){a=i[b];f=null;if(!a){}else if(Ext.isString(a)){if(h){f=k(a)}}else {u='';if(a.message||a.fn){a=a.fn}p=e.hasOwnProperty(b)&&e[b];if(h&&a){a.$owner=s;a.$name=b;if(p){a.$previous=p}f=a}}if(f){e[b]=f}}}c=q;q=null;e=s}}},extend:function(d){var b=this,f=d.prototype,e,a,g;e=b.prototype=Ext.Object.chain(f);e.self=b;b.superclass=e.superclass=f;if(!d.$isClass){for(a in c){if(a in e){e[a]=c[a]}}}g=f.$inheritableStatics;if(g){for(a in g){if(!b.hasOwnProperty(a)){b[a]=d[a]}}}if(d.$onExtended){b.$onExtended=d.$onExtended.slice()}b.getConfigurator()},$onExtended:[],triggerExtended:function(){var c=this.$onExtended,d=c.length,a,b;if(d>0){for(a=0;a<d;a++){b=c[a];b.fn.apply(b.scope||this,arguments)}}},onExtended:function(b,a){this.$onExtended.push({fn:b,scope:a});return this},addStatics:function(a){this.addMembers(a,!0);return this},addInheritableStatics:function(e){var b=this,g=b.prototype,d=b.$inheritableStatics,a,f,c;if(!d){d=Ext.apply({},g.$inheritableStatics);b.$inheritableStatics=g.$inheritableStatics=d}for(a in e){if(e.hasOwnProperty(a)){f=e[a];c=b[a];if(typeof c==='function'&&!c.$isClass&&!c.$nullFn){f.$previous=c}b[a]=f;d[a]=!0}}return b},addMembers:function(d,f,q){var e=this,m=Ext.Function.clone,c=f?e:e.prototype,n=!f&&c.defaultConfig,k=Ext.enumerables,g=d.privates,h,i,p,a,b,o,j;if(g){delete d.privates;if(!f){j=g.statics;delete g.statics}e.addMembers(g,f,o);if(j){e.addMembers(j,!0,o)}}for(b in d){if(d.hasOwnProperty(b)){a=d[b];if(typeof a==='function'&&!a.$isClass&&!a.$nullFn){if(a.$owner){a=m(a)}if(c.hasOwnProperty(b)){a.$previous=c[b]}a.$owner=e;a.$name=b}else if(n&&b in n&&!c.config.hasOwnProperty(b)){(h||(h={}))[b]=a;continue}c[b]=a}}if(h){e.addConfig(h)}if(k){for(i=0,p=k.length;i<p;++i){if(d.hasOwnProperty(b=k[i])){a=d[b];if(a&&!a.$nullFn){if(a.$owner){a=m(a)}a.$owner=e;a.$name=b;if(c.hasOwnProperty(b)){a.$previous=c[b]}}c[b]=a}}}return this},addMember:function(a,c,b){g[a]=c;this.addMembers(g,!1,b);delete g[a];return this},hookMember:function(b,c){var a=this.prototype[b];return this.addMember(b,c,a&&a.$privacy)},borrow:function(f,a){var g=f.prototype,d={},b,e,c;a=Ext.Array.from(a);for(b=0,e=a.length;b<e;b++){c=a[b];d[c]=g[c]}return this.addMembers(d)},override:function(a){var b=this,d=a.statics,c=a.inheritableStatics,e=a.config,g=a.mixins,f=a.cachedConfig;if(d||c||e){a=Ext.apply({},a)}if(d){b.addMembers(d,!0);delete a.statics}if(c){b.addInheritableStatics(c);delete a.inheritableStatics}if(a.platformConfig){b.addPlatformConfig(a)}if(e){b.addConfig(e);delete a.config}if(f){b.addCachedConfig(f);delete a.cachedConfig}delete a.mixins;b.addMembers(a);if(g){b.mixin(g)}return b},addPlatformConfig:function(n){var m=this,j=m.prototype,h=n.platformConfig,a,i,e,d,g,b,f,c,k;delete j.platformConfig;d=m.getConfigurator();i=d.configs;g=Ext.getPlatformConfigKeys(h);for(c=0,k=g.length;c<k;++c){e=h[g[c]];a=null;for(b in e){f=e[b];if(b in i){(a||(a={}))[b]=f}else {j[b]=f}}if(a){d.add(a)}}},callParent:function(b){var a;return (a=this.callParent.caller)&&(a.$previous||(a=a.$owner?a:a.caller)&&a.$owner.superclass.self[a.$name]).apply(this,b||d)},callSuper:function(b){var a;return (a=this.callSuper.caller)&&((a=a.$owner?a:a.caller)&&a.$owner.superclass.self[a.$name]).apply(this,b||d)},mixin:function(n,f){var c=this,a,b,d,m,h,o,k,j,e,i,g;if(typeof n!=='string'){e=n;if(e instanceof Array){for(h=0,o=e.length;h<o;h++){a=e[h];c.mixin(a.prototype.mixinId||a.$className,a)}}else {for(k in e){c.mixin(k,e[k])}}return}a=f.prototype;b=c.prototype;if(a.onClassMixedIn){a.onClassMixedIn.call(f,c)}if(!b.hasOwnProperty('mixins')){if('mixins' in b){b.mixins=Ext.Object.chain(b.mixins)}else {b.mixins={}}}for(d in a){j=a[d];if(d==='mixins'){Ext.applyIf(b.mixins,j)}else if(!(d==='mixinId'||d==='config'||d==='$inheritableStatics')&&b[d]===undefined){b[d]=j}}m=a.$inheritableStatics;if(m){i={};for(g in m){if(!c.hasOwnProperty(g)){i[g]=f[g]}}c.addInheritableStatics(i)}if('config' in a){c.addConfig(a.config,f)}b.mixins[n]=a;if(a.afterClassMixedIn){a.afterClassMixedIn.call(f,c)}return c},addConfig:function(b,a){var c=this.$config||this.getConfigurator();c.add(b,a)},addCachedConfig:function(c,d){var b={},a;for(a in c){b[a]={cached:!0,$value:c[a]}}this.addConfig(b,d)},getConfigurator:function(){return this.$config||new Ext.Configurator(this)},getName:function(){return Ext.getClassName(this)},createAlias:l(function(a,b){f[a]=function(){return this[b].apply(this,arguments)};this.override(f);delete f[a]})});for(e in b){if(b.hasOwnProperty(e)){h.push(e)}}b.$staticMembers=h;b.getConfigurator();b.addMembers({$className:'Ext.Base',$configTransforms:{},isInstance:!0,$configPrefixed:!0,$configStrict:!0,isConfiguring:!1,isFirstInstance:!1,destroyed:!1,clearPropertiesOnDestroy:!0,clearPrototypeOnDestroy:!1,statics:function(){var a=this.statics.caller,b=this.self;if(!a){return b}return a.$owner},callParent:function(c){var a,b=(a=this.callParent.caller)&&(a.$previous||(a=a.$owner?a:a.caller)&&a.$owner.superclass[a.$name]);return b.apply(this,c||d)},callSuper:function(c){var a,b=(a=this.callSuper.caller)&&((a=a.$owner?a:a.caller)&&a.$owner.superclass[a.$name]);return b.apply(this,c||d)},self:b,constructor:function(){return this},initConfig:function(b){var a=this,c=a.self.getConfigurator();a.initConfig=Ext.emptyFn;a.initialConfig=b||{};c.configure(a,b);return a},beforeInitConfig:Ext.emptyFn,getConfig:function(d,g,f){var a=this,b,e,c;if(d){e=a.self.$config.configs[d];if(e){c=a.$configPrefixed?e.names.internal:d;if(f){b=a.hasOwnProperty(c)?a[c]:null}else if(g){b=a.hasOwnProperty(c)?a[c]:a.config[d]}else {b=a[e.names.get]()}}else {b=a[d]}}else {b=a.getCurrentConfig()}return b},destroyMembers:function(){var b=this,f=b.self.$config.configs,g=arguments.length,e,a,d,c;for(c=0;c<g;c++){a=arguments[c];e=f[a];a=e&&b.$configPrefixed?e.names.internal:a;d=b.hasOwnProperty(a)&&b[a];if(d){Ext.destroy(d);b[a]=null}}},freezeConfig:function(d){var a=this,c=Ext.Config.get(d),b=c.names,e=a[b.get]();a[b.set]=function(b){return a}},setConfig:function(b,e,g){var a=this,d,c,f;if(b){d=a.self.getConfigurator();if(typeof b==='string'){c=d.configs[b];if(!c){if(a.$configStrict){f=a.self.prototype[b];if(typeof f==='function'&&!f.$nullFn){return a}}c=Ext.Config.map[b]||Ext.Config.get(b)}if(a[c.names.set]){a[c.names.set](e)}else {a[b]=e}}else {d.reconfigure(a,b,g||e)}}return a},getConfigWatcher:function(){return this.$configWatch||(this.$configWatch=new Ext.mixin.Watchable())},watchConfig:function(c,d,b){var a=this.getConfigWatcher();return a.on.apply(a,arguments)},$configWatch:null,getCurrentConfig:function(){var a=this.self.getConfigurator();return a.getCurrentConfig(this)},hasConfig:function(a){return a in this.defaultConfig},getInitialConfig:function(b){var a=this.config;if(!b){return a}return a[b]},$links:null,link:function(c,b){var a=this,d=a.$links||(a.$links={});d[c]=!0;a[c]=b;return b},unlink:function(e){var d=this,b,f,c,a;for(b=0,f=e.length;b<f;b++){c=e[b];a=d[c];if(a){if(a.isInstance&&!a.destroyed){a.destroy()}else if(a.parentNode&&'nodeType' in a){a.parentNode.removeChild(a)}}d[c]=null}return d},$reap:function(){var a=this,g=a.$noClearOnDestroy,e,b,c,f,d,h;e=Ext.Object.getKeys(a);for(d=0,h=e.length;d<h;d++){b=e[d];c=a[b];if(c&&!(g&&g[b])){f=typeof c;if(f==='object'||f==='function'&&!c.$noClearOnDestroy){a[b]=null}}}a.$nulled=!0},destroy:function(){var b=this,d=b.$links,c=b.clearPropertiesOnDestroy;if(d){b.$links=null;b.unlink(Ext.Object.getKeys(d))}b.destroy=Ext.emptyFn;b.isDestroyed=b.destroyed=!0;if(c===!0){if(!b.isObservable){b.$reap()}}else if(c){a.add(b)}}});c.callOverridden=c.callParent;return b}(Ext.Function.flexSetter);(function(b,a){(Ext.util||(Ext.util={})).LRU=b=function(e){var d=this,c;if(e){Ext.apply(d,e)}d.head=c={key:null,value:null};d.map={};c.next=c.prev=c};b.prototype=a={count:0,add:function(e,g){var d=this,f=d.map,c=f[e];if(c){d.unlink(c);--d.count}f[e]=c={key:e,value:g};d.link(c);++d.count;return c},clear:function(e,g){var f=this,d=f.head,c=d.next;d.next=d.prev=d;f.count=0;if(e&&!e.$nullFn){for(;c!==d;c=c.next){e.call(g||f,c.key,c.value)}}},each:function(f,d){var e,c;d=d||this;for(e=this.head,c=e.next;c!==e;c=c.next){if(f.call(d,c.key,c.value)){break}}},prune:function(f,g){var c=this,d=c.head.prev,e;if(c.count){e=d.value;c.unlink(d);--c.count;if(f){f.call(g||c,d.key,e)}}return e},remove:function(f){var d=this,g=d.map,c=g[f],e;if(c){d.unlink(c);e=c.value;delete g[f];--d.count}return e},touch:function(f){var d=this,e=d.head,c=d.map[f];if(c&&c.prev!==e){d.unlink(c);d.link(c)}},trim:function(d,e,c){while(this.count>d){this.prune(e,c)}},link:function(c){var d=this.head,e=d.next;c.next=e;c.prev=d;d.next=c;e.prev=c},unlink:function(c){var d=c.next,e=c.prev;e.next=d;d.prev=e}};a.destroy=function(){this.clear.apply(this,arguments)}})();(function(a,c,b){Ext.util.Cache=b=function(d){a.call(this,d)};c.prototype=a.prototype;b.prototype=Ext.apply(new c(),{maxSize:100,clear:function(){a.prototype.clear.call(this,this.evict)},get:function(f){var d=this,g=d.map[f],e;if(g){e=g.value;d.touch(f)}else {e=d.miss.apply(d,arguments);d.add(f,e);d.trim(d.maxSize,d.evict)}return e},evict:Ext.emptyFn})})(Ext.util.LRU,function(){});(function(){var a,d=Ext.Base,b=d.$staticMembers,c=function(a,b){return a.length-b.length||(a<b?-1:a>b?1:0)};function makeCtor(a){function constructor(){return this.constructor.apply(this,arguments)||null}return constructor}Ext.Class=a=function(b,c,d){if(typeof b!=='function'){d=c;c=b;b=null}if(!c){c={}}b=a.create(b,c);a.process(b,c,d);return b};Ext.apply(a,{makeCtor:makeCtor,onBeforeCreated:function(a,c,b){a.addMembers(c);b.onCreated.call(a,a)},create:function(a,f){var e=b.length,c;if(!a){a=makeCtor()}while(e--){c=b[e];a[c]=d[c]}return a},process:function(l,f,k){var j=f.preprocessors||a.defaultPreprocessors,o=this.preprocessors,e={onBeforeCreated:this.onBeforeCreated},d=[],b,c,g,n,h,m,i;delete f.preprocessors;l._classHooks=e;for(g=0,n=j.length;g<n;g++){b=j[g];if(typeof b==='string'){b=o[b];c=b.properties;if(c===!0){d.push(b.fn)}else if(c){for(h=0,m=c.length;h<m;h++){i=c[h];if(f.hasOwnProperty(i)){d.push(b.fn);break}}}}else {d.push(b)}}e.onCreated=k?k:Ext.emptyFn;e.preprocessors=d;this.doProcess(l,f,e)},doProcess:function(f,g,b){var c=this,d=b.preprocessors,a=d.shift(),e=c.doProcess;for(;a;a=d.shift()){if(a.call(c,f,g,b,e)===!1){return}}b.onBeforeCreated.apply(c,arguments)},preprocessors:{},registerPreprocessor:function(a,e,b,c,d){if(!c){c='last'}if(!b){b=[a]}this.preprocessors[a]={name:a,properties:b||!1,fn:e};this.setDefaultPreprocessorPosition(a,c,d);return this},getPreprocessor:function(a){return this.preprocessors[a]},getPreprocessors:function(){return this.preprocessors},defaultPreprocessors:[],getDefaultPreprocessors:function(){return this.defaultPreprocessors},setDefaultPreprocessors:function(a){this.defaultPreprocessors=Ext.Array.from(a);return this},setDefaultPreprocessorPosition:function(d,a,e){var b=this.defaultPreprocessors,c;if(typeof a==='string'){if(a==='first'){b.unshift(d);return this}else if(a==='last'){b.push(d);return this}a=a==='after'?1:-1}c=Ext.Array.indexOf(b,e);if(c!==-1){Ext.Array.splice(b,Math.max(0,c+a),0,d)}return this}});a.registerPreprocessor('extend',function(b,c,i){var h=Ext.Base,g=h.prototype,f=c.extend,a,e,d;delete c.extend;if(f&&f!==Object){a=f}else {a=h}e=a.prototype;if(!a.$isClass){for(d in g){if(!e[d]){e[d]=g[d]}}}b.extend(a);b.triggerExtended.apply(b,arguments);if(c.onClassExtended){b.onExtended(c.onClassExtended,b);delete c.onClassExtended}},!0);a.registerPreprocessor('privates',function(d,e){var a=e.privates,c=a.statics,b=a.privacy||!0;delete e.privates;delete a.statics;d.addMembers(a,!1,b);if(c){d.addMembers(c,!0,b)}});a.registerPreprocessor('statics',function(b,a){b.addStatics(a.statics);delete a.statics});a.registerPreprocessor('inheritableStatics',function(b,a){b.addInheritableStatics(a.inheritableStatics);delete a.inheritableStatics});Ext.createRuleFn=function(a){return new Function('$c','with($c) { try { return ('+a+'); } catch(e) { return false;}}')};Ext.expressionCache=new Ext.util.Cache({miss:Ext.createRuleFn});Ext.ruleKeySortFn=c;Ext.getPlatformConfigKeys=function(e){var b=[],a,d;for(a in e){d=Ext.expressionCache.get(a);if(d(Ext.platformTags)){b.push(a)}}b.sort(c);return b};a.registerPreprocessor('config',function(b,a){if(a.hasOwnProperty('$configPrefixed')){b.prototype.$configPrefixed=a.$configPrefixed}b.addConfig(a.config);delete a.config});a.registerPreprocessor('cachedConfig',function(b,a){if(a.hasOwnProperty('$configPrefixed')){b.prototype.$configPrefixed=a.$configPrefixed}b.addCachedConfig(a.cachedConfig);delete a.cachedConfig});a.registerPreprocessor('mixins',function(e,b,a){var d=b.mixins,c=a.onCreated;delete b.mixins;a.onCreated=function(){a.onCreated=c;e.mixin(d);return a.onCreated.apply(this,arguments)}});Ext.extend=function(d,c,b){var e,f;if(arguments.length===2&&Ext.isObject(c)){b=c;c=d;d=null}if(!c){throw new Error('[Ext.extend] Attempting to extend from a class which has not been loaded on the page.')}b.extend=c;b.preprocessors=['extend','statics','inheritableStatics','mixins','config'];if(d){e=new a(d,b);e.prototype.constructor=d}else {e=new a(b)}e.prototype.override=function(a){for(f in a){if(a.hasOwnProperty(f)){this[f]=a[f]}}};return e}})();Ext.Inventory=function(){var a=this;a.names=[];a.paths={};a.alternateToName={};a.aliasToName={};a.nameToAliases={};a.nameToAlternates={};a.nameToPrefix={}};Ext.Inventory.prototype={_array1:[0],prefixes:null,dotRe:/\./g,wildcardRe:/\*/g,addAlias:function(a,c,b){return this.addMapping(a,c,this.aliasToName,this.nameToAliases,b)},addAlternate:function(b,a){return this.addMapping(b,a,this.alternateToName,this.nameToAlternates)},addMapping:function(h,m,k,j,n){var f=h.$className||h,c=f,l=this._array1,d,a,b,e,i,g;if(Ext.isString(f)){c={};c[f]=m}for(b in c){a=c[b];if(Ext.isString(a)){l[0]=a;a=l}i=a.length;g=j[b]||(j[b]=[]);for(e=0;e<i;++e){if(!(d=a[e])){continue}if(k[d]!==b){k[d]=b;g.push(d)}}}},getAliasesByName:function(a){return this.nameToAliases[a]||null},getAlternatesByName:function(a){return this.nameToAlternates[a]||null},getNameByAlias:function(a){return this.aliasToName[a]||''},getNameByAlternate:function(a){return this.alternateToName[a]||''},getNamesByExpression:function(k,e,r){var g=this,q=g.aliasToName,p=g.alternateToName,m=g.nameToAliases,o=g.nameToAlternates,i=r?e:{},l=[],n=Ext.isString(k)?[k]:k,t=n.length,s=g.wildcardRe,f,j,c,b,d,a,h;for(j=0;j<t;++j){if((f=n[j]).indexOf('*')<0){if(!(a=q[f])){if(!(a=p[f])){a=f}}if(!(a in i)&&!(e&&a in e)){i[a]=1;l.push(a)}}else {h=new RegExp('^'+f.replace(s,'(.*?)')+'$');for(a in m){if(!(a in i)&&!(e&&a in e)){if(!(b=h.test(a))){d=(c=m[a]).length;while(!b&&d-->0){b=h.test(c[d])}c=o[a];if(c&&!b){d=c.length;while(!b&&d-->0){b=h.test(c[d])}}}if(b){i[a]=1;l.push(a)}}}}}return l},getPath:function(a){var c=this,e=c.paths,b='',d;if(a in e){b=e[a]}else {d=c.nameToPrefix[a]||(c.nameToPrefix[a]=c.getPrefix(a));if(d){a=a.substring(d.length+1);b=e[d];if(b){b+='/'}}b+=a.replace(c.dotRe,'/')+'.js'}return b},getPrefix:function(a){if(a in this.paths){return a}else if(a in this.nameToPrefix){return this.nameToPrefix[a]}var h=this.getPrefixes(),b=a.length,c,f,e,d,g;while(b-->0){c=h[b];if(c){f=a.charAt(b);if(f!=='.'){continue}for(d=0,g=c.length;d<g;d++){e=c[d];if(e===a.substring(0,b)){return e}}}}return ''},getPrefixes:function(){var f=this,a=f.prefixes,d,e,c,g,b,h;if(!a){d=f.names.slice(0);f.prefixes=a=[];for(b=0,h=d.length;b<h;b++){e=d[b];c=e.length;g=a[c]||(a[c]=[]);g.push(e)}}return a},removeName:function(a){var c=this,j=c.aliasToName,h=c.alternateToName,i=c.nameToAliases,g=c.nameToAlternates,f=i[a],e=g[a],b,d;delete i[a];delete g[a];delete c.nameToPrefix[a];if(f){for(b=f.length;b--;){if(a===j[d=f[b]]){delete j[d]}}}if(e){for(b=e.length;b--;){if(a===h[d=e[b]]){delete h[d]}}}},resolveName:function(a){var c=this,b;if(!(a in c.nameToAliases)){if(!(b=c.aliasToName[a])){b=c.alternateToName[a]}}return b||a},select:function(b,f){var e=this,a={},d={excludes:a,exclude:function(){e.getNamesByExpression(arguments[0],a,!0);return this}},c;for(c in b){d[c]=e.selectMethod(a,b[c],f||b)}return d},selectMethod:function(a,c,b){var d=this;return function(f){var e=Ext.Array.slice(arguments,1);e.unshift(d.getNamesByExpression(f,a));return c.apply(b,e)}},setPath:Ext.Function.flexSetter(function(b,c){var a=this;a.paths[b]=c;a.names.push(b);a.prefixes=null;a.nameToPrefix={};return a})};Ext.ClassManager=function(n,e,o,g,r){var q=Ext.Class.makeCtor,i=[],b={Ext:{name:'Ext',value:Ext}},a=Ext.apply(new Ext.Inventory(),{classes:{},classState:{},existCache:{},instantiators:[],isCreated:function(b){if(a.classes[b]||a.existCache[b]){return !0}if(!a.lookupName(b,!1)){return !1}a.triggerCreated(b);return !0},createdListeners:[],nameCreatedListeners:{},existsListeners:[],nameExistsListeners:{},overrideMap:{},triggerCreated:function(b,c){a.existCache[b]=c||1;a.classState[b]+=40;a.notify(b,a.createdListeners,a.nameCreatedListeners)},onCreated:function(d,c,b){a.addListener(d,c,b,a.createdListeners,a.nameCreatedListeners)},notify:function(k,c,m){var l=a.getAlternatesByName(k),f=[k],b,i,j,p,d,h;for(b=0,i=c.length;b<i;b++){d=c[b];d.fn.call(d.scope,k)}while(f){for(b=0,i=f.length;b<i;b++){h=f[b];c=m[h];if(c){for(j=0,p=c.length;j<p;j++){d=c[j];d.fn.call(d.scope,h)}delete m[h]}}f=l;l=null}},addListener:function(b,f,a,h,c){var d;if(Ext.isArray(a)){b=Ext.Function.createBarrier(a.length,b,f);for(d=0;d<a.length;d++){this.addListener(b,null,a[d],h,c)}return}var i={fn:b,scope:f};if(a){if(this.isCreated(a)){b.call(f,a);return}if(!c[a]){c[a]=[]}c[a].push(i)}else {h.push(i)}},$namespaceCache:b,addRootNamespaces:function(c){var a;for(a in c){b[a]={name:a,value:c[a]}}},clearNamespaceCache:function(){var a;i.length=0;for(a in b){if(!b[a].value){delete b[a]}}},getNamespaceEntry:function(c){var d,f;if(typeof c!=='string'){return c}d=b[c];if(!d){f=c.lastIndexOf('.');if(f<0){d={name:c}}else {d={name:c.substring(f+1),parent:a.getNamespaceEntry(c.substring(0,f))}}b[c]=d}return d},lookupName:function(j,h){var k=a.getNamespaceEntry(j),c=Ext.global,d=0,b,f;for(b=k;b;b=b.parent){i[d++]=b}while(c&&d-->0){b=i[d];f=c;c=b.value||c[b.name];if(!c&&h){f[b.name]=c={}}}return c},setNamespace:function(f,d){var b=a.getNamespaceEntry(f),c=Ext.global;if(b.parent){c=a.lookupName(b.parent,!0)}c[b.name]=d;return d},setXType:function(i,d){var f=i.$className,k=f?i:a.get(f=i),b=k.prototype,j=b.xtypes,c=b.xtypesChain,h=b.xtypesMap;if(!b.hasOwnProperty('xtypes')){b.xtypes=j=[];b.xtypesChain=c=c?c.slice(0):[];b.xtypesMap=h=Ext.apply({},h)}a.addAlias(f,'widget.'+d,!0);j.push(d);c.push(d);h[d]=!0},set:function(b,d){var c=a.getName(d);a.classes[b]=a.setNamespace(b,d);if(c&&c!==b){a.addAlternate(c,b)}return a},get:function(b){return a.classes[b]||a.lookupName(b,!1)},addNameAliasMappings:function(b){a.addAlias(b)},addNameAlternateMappings:function(b){a.addAlternate(b)},getByAlias:function(b){return a.get(a.getNameByAlias(b))},getByConfig:function(c,d){var f=c.xclass,b;if(f){b=f}else {b=c.xtype;if(b){d='widget.'}else {b=c.type}b=a.getNameByAlias(d+b)}return a.get(b)},getName:function(a){return a&&a.$className||''},getClass:function(a){return a&&a.self||null},create:function(c,b,f){var d;d=q(c);if(typeof b==='function'){b=b(d)}b.$className=c;return new n(d,b,function(){var m=b.postprocessors||a.defaultPostprocessors,s=a.postprocessors,i=[],d,j,q,k,p,h,l;delete b.postprocessors;for(j=0,q=m.length;j<q;j++){d=m[j];if(typeof d==='string'){d=s[d];h=d.properties;if(h===!0){i.push(d.fn)}else if(h){for(k=0,p=h.length;k<p;k++){l=h[k];if(b.hasOwnProperty(l)){i.push(d.fn);break}}}}else {i.push(d)}}b.postprocessors=i;b.createdFn=f;a.processCreate(c,this,b)})},processCreate:function(a,b,d){var c=this,f=d.postprocessors.shift(),h=d.createdFn;if(!f){if(a){c.set(a,b)}delete b._classHooks;if(h){h.call(b,b)}if(a){c.triggerCreated(a)}return}if(f.call(c,a,b,d,c.processCreate)!==!1){c.processCreate(a,b,d)}},createOverride:function(j,c,m){var h=this,f=c.override,p=c.requires,q=c.uses,b=c.mixins,l,d=1,k,i;i=function(){var a,s,d,t,u;if(!k){s=p?p.slice(0):[];if(b){if(!(l=b instanceof Array)){for(t in b){if(Ext.isString(a=b[t])){s.push(a)}}}else {for(d=0,u=b.length;d<u;++d){if(Ext.isString(a=b[d])){s.push(a)}}}}k=!0;if(s.length){Ext.require(s,i);return}}if(l){for(d=0,u=b.length;d<u;++d){if(Ext.isString(a=b[d])){b[d]=Ext.ClassManager.get(a)}}}else if(b){for(t in b){if(Ext.isString(a=b[t])){b[t]=Ext.ClassManager.get(a)}}}a=f.$isClass?f:h.get(f);delete c.override;delete c.compatibility;delete c.requires;delete c.uses;Ext.override(a,c);Ext.Loader.history.push(j);if(q){Ext['Loader'].addUsedClasses(q)}if(m){m.call(a,a)}};if(j){a.overrideMap[j]=!0}if('compatibility' in c){d=c.compatibility;if(!d){d=!1}else if(typeof d==='number'){d=!0}else if(typeof d!=='boolean'){d=Ext.checkVersion(d)}}if(d){if(f.$isClass){i()}else {h.onCreated(i,h,f)}}h.triggerCreated(j,2);return h},instantiateByAlias:function(){var c=arguments[0],a=o.call(arguments),b=this.getNameByAlias(c);a[0]=b;return Ext.create.apply(Ext,a)},instantiate:function(){return Ext.create.apply(Ext,arguments)},dynInstantiate:function(b,a){a=g(a,!0);a.unshift(b);return Ext.create.apply(Ext,a)},getInstantiator:function(c){var f=this.instantiators,b,d,a;b=f[c];if(!b){a=c;d=[];for(a=0;a<c;a++){d.push('a['+a+']')}b=f[c]=new Function('c','a','return new c('+d.join(',')+')')}return b},postprocessors:{},defaultPostprocessors:[],registerPostprocessor:function(a,f,b,c,d){if(!c){c='last'}if(!b){b=[a]}this.postprocessors[a]={name:a,properties:b||!1,fn:f};this.setDefaultPostprocessorPosition(a,c,d);return this},setDefaultPostprocessors:function(a){this.defaultPostprocessors=g(a);return this},setDefaultPostprocessorPosition:function(d,a,f){var b=this.defaultPostprocessors,c;if(typeof a==='string'){if(a==='first'){b.unshift(d);return this}else if(a==='last'){b.push(d);return this}a=a==='after'?1:-1}c=Ext.Array.indexOf(b,f);if(c!==-1){Ext.Array.splice(b,Math.max(0,c+a),0,d)}return this}});a.registerPostprocessor('platformConfig',function(c,a,b){a.addPlatformConfig(b)});a.registerPostprocessor('alias',function(h,f,d){var b=Ext.Array.from(d.alias),a,c;for(a=0,c=b.length;a<c;a++){e=b[a];this.addAlias(f,e)}},['xtype','alias']);a.registerPostprocessor('singleton',function(b,c,a,d){if(a.singleton){d.call(this,b,new c(),a)}else {return !0}return !1});a.registerPostprocessor('alternateClassName',function(i,h,f){var a=f.alternateClassName,b,d,c;if(!(a instanceof Array)){a=[a]}for(b=0,d=a.length;b<d;b++){c=a[b];this.set(c,h)}});a.registerPostprocessor('debugHooks',function(d,a,c){var b;b=a.isInstance?a.self:a;delete b.prototype.debugHooks});a.registerPostprocessor('deprecated',function(d,b,c){var a;a=b.isInstance?b.self:b;a.addDeprecations(c.deprecated);delete a.prototype.deprecated});Ext.apply(Ext,{create:function(){var b=arguments[0],f=typeof b,c=o.call(arguments,1),d;if(f==='function'){d=b}else {if(f!=='string'&&c.length===0){c=[b];if(!(b=b.xclass)){b=c[0].xtype;if(b){b='widget.'+b}}}b=a.resolveName(b);d=a.get(b)}if(!d){Ext.syncRequire(b);d=a.get(b)}return a.getInstantiator(c.length)(d,c)},widget:function(i,b){var f=i,d,c,h;if(typeof f!=='string'){b=i;f=b.xtype;c=b.xclass}else {b=b||{}}if(b.isComponent){return b}if(!c){d='widget.'+f;c=a.getNameByAlias(d)}if(c){h=a.get(c)}if(!h){return Ext.create(c||d,b)}return new h(b)},createByAlias:e(a,'instantiateByAlias'),define:function(b,c,d){if(c.override){a.classState[b]=20;return a.createOverride.apply(a,arguments)}a.classState[b]=10;return a.create.apply(a,arguments)},undefine:function(b){var h=a.classes;delete h[b];delete a.existCache[b];delete a.classState[b];a.removeName(b);Ext.Factory.clearCaches();var d=a.getNamespaceEntry(b),f=d.parent?a.lookupName(d.parent,!1):Ext.global,c;if(f){c=d.name;try{delete f[c]}catch(t){f[c]=undefined}}},getClassName:e(a,'getName'),getDisplayName:function(a){if(a){if(a.displayName){return a.displayName}if(a.$name&&a.$class){return Ext.getClassName(a.$class)+'#'+a.$name}if(a.$className){return a.$className}}return 'Anonymous'},getClass:e(a,'getClass'),namespace:function(){var c=r,b;for(b=arguments.length;b-->0;){c=a.lookupName(arguments[b],!0)}return c}});Ext.addRootNamespaces=a.addRootNamespaces;Ext.createWidget=Ext.widget;Ext.ns=Ext.namespace;n.registerPreprocessor('className',function(b,a){if('$className' in a){b.$className=a.$className}},!0,'first');n.registerPreprocessor('alias',function(m,f){var q=m.prototype,c=g(f.xtype),i=g(f.alias),j='widget.',p=j.length,k=Array.prototype.slice.call(q.xtypesChain||[]),h=Ext.merge({},q.xtypesMap||{}),a,d,l,b;for(a=0,d=i.length;a<d;a++){l=i[a];if(l.substring(0,p)===j){b=l.substring(p);Ext.Array.include(c,b)}}m.xtype=f.xtype=c[0];f.xtypes=c;for(a=0,d=c.length;a<d;a++){b=c[a];if(!h[b]){h[b]=!0;k.push(b)}}f.xtypesChain=k;f.xtypesMap=h;Ext.Function.interceptAfterOnce(m,'onClassCreated',function(){var q=this,p=q.prototype,i=p.mixins,j,l;for(j in i){if(i.hasOwnProperty(j)){l=i[j];c=l.xtypes;if(c){for(a=0,d=c.length;a<d;a++){b=c[a];if(!h[b]){h[b]=!0;k.push(b)}}}}}});for(a=0,d=c.length;a<d;a++){b=c[a];Ext.Array.include(i,j+b)}f.alias=i},['xtype','alias']);if(Ext.manifest){var k=Ext.manifest,m=k.classes,d=k.paths,l={},j={},c,f,s,h,p;if(d){if(k.bootRelative){p=Ext.Boot.baseUrl;for(h in d){if(d.hasOwnProperty(h)){d[h]=p+d[h]}}}a.setPath(d)}if(m){for(c in m){j[c]=[];l[c]=[];f=m[c];if(f.alias){l[c]=f.alias}if(f.alternates){j[c]=f.alternates}}}a.addAlias(l);a.addAlternate(j)}return a}(Ext.Class,Ext.Function.alias,Array.prototype.slice,Ext.Array.from,Ext.global);Ext.cmd.derive('Ext.mixin.Watchable',Ext.Base,{on:function(b,c,a){return this._watchUpdate(!1,'_watchAdd',b,c,a)},fire:function(h,e){var i=this,g=i.watching,a=g&&g[h],c,d,f,b;if(a){++a.$firing;for(d=0;d<a.length;++d){b=a[d][0];c=a[d][1];if(c.charAt){f=e?b[c].apply(b,e):b[c]()}else {f=e?c.apply(b,e):c.call(b)}if(f===!1){return f}}--a.$firing}},fireEvent:function(){var a=Ext.Array.slice(arguments),b=a.shift();return this.fire(b,a)},un:function(b,c,a){return this._watchUpdate(!0,'_watchRemove',b,c,a)},privates:{watching:null,$watchOptions:{destroyable:1,scope:1},_watchAdd:function(d,b,i,f,h){var a=d[b],e=[f,i],g,c;if(!a){d[b]=a=[];a.$firing=0}else {for(g=a.length;g-->0;){c=a[g];if(i===c[1]){if(f?c[0]===f:!c[0]){return}}}if(a.$firing){d[b]=a=a.slice();a.$firing=0}}a.push(e);if(h){e.push(b);h.items.push(e)}},_watchRemove:function(c,d,f,e){var a=c[d],b;if(a){if(a.$firing){c[d]=a=a.slice();a.$firing=0}for(b=a.length;b-->0;){if(a[b][0]===e&&a[b][1]===f){a.splice(b,1)}}}},_watchUpdate:function(h,g,a,i,f){var b=this,d=a,c=b.watching,e;if(!c){if(h){return}b.watching=c={}}if(typeof a==='string'){b[g](c,a,i,f)}else {e=d.destroyable?{owner:b,items:[],destroy:b._watcherDestroyer}:null;f=d.scope;for(a in d){if(!b.$watchOptions[a]){b[g](c,a,d[a],f,e)}}}return e},_watcherDestroyer:function(){var d=this.owner,e=d.watching,c=this.items,a,b;for(b=0;b<c.length;++b){a=c[b];d._watchRemove(e,a[2],a[1],a[0])}}}},0,0,0,0,0,0,[Ext.mixin,'Watchable'],0);(Ext.env||(Ext.env={})).Browser=function(d,q){var m=this,r=Ext.Boot.browserPrefixes,i=Ext.Boot.browserNames,s=m.enginePrefixes,j=m.engineNames,f=d.match(new RegExp('((?:'+Ext.Object.getValues(r).join(')|(?:')+'))([\\w\\._]+)')),n=d.match(new RegExp('((?:'+Ext.Object.getValues(s).join(')|(?:')+'))([\\w\\._]+)')),a=i.other,g=j.other,e='',k='',b='',p=!1,t=/(Edge\/)([\w.]+)/,u='',c,o,h;m.userAgent=d;this.is=function(a){return !!this.is[a]};if(/Edge\//.test(d)){f=d.match(t);n=d.match(t)}if(f){a=i[Ext.Object.getKey(r,f[1])];if(a==='Safari'&&/^Opera/.test(d)){a='Opera'}e=new Ext.Version(f[2])}if(n){g=j[Ext.Object.getKey(s,n[1])];k=new Ext.Version(n[2])}if(g==='Trident'&&a!=='IE'){a='IE';var l=d.match(/.*rv:(\d+.\d+)/);if(l&&l.length){l=l[1];e=new Ext.Version(l)}}if(a&&e){Ext.setVersion(a,e)}if(d.match(/FB/)&&a==='Other'){a=i.safari;g=j.webkit}else if(d.match(/Android.*Chrome/g)){a='ChromeMobile'}else {f=d.match(/OPR\/(\d+.\d+)/);if(f){a='Opera';e=new Ext.Version(f[1])}}Ext.apply(this,{engineName:g,engineVersion:k,name:a,version:e});this.setFlag(a,!0,q);if(e){b=e.getMajor()||'';if(m.is.IE){b=document.documentMode||parseInt(b,10);for(c=7;c<=11;++c){o='isIE'+c;Ext[o]=b===c;Ext[o+'m']=b<=c;Ext[o+'p']=b>=c}}if(m.is.Opera&&parseInt(b,10)<=12){Ext.isOpera12m=!0}Ext.chromeVersion=Ext.isChrome?b:0;Ext.firefoxVersion=Ext.isFirefox?b:0;Ext.ieVersion=Ext.isIE?b:0;Ext.operaVersion=Ext.isOpera?b:0;Ext.safariVersion=Ext.isSafari?b:0;Ext.webKitVersion=Ext.isWebKit?b:0;this.setFlag(a+b,!0,q);this.setFlag(a+e.getShortVersion())}for(c in i){if(i.hasOwnProperty(c)){h=i[c];this.setFlag(h,a===h)}}this.setFlag(h);if(k){this.setFlag(g+(k.getMajor()||''));this.setFlag(g+k.getShortVersion())}for(c in j){if(j.hasOwnProperty(c)){h=j[c];this.setFlag(h,g===h,q)}}this.setFlag('Standalone',!!navigator.standalone);try{u=window.top.ripple}catch(v){}this.setFlag('Ripple',!!document.getElementById('tinyhippos-injected')&&!Ext.isEmpty(u));this.setFlag('WebWorks',!!window.blackberry);if(window.PhoneGap!==undefined||window.Cordova!==undefined||window.cordova!==undefined){p=!0;this.setFlag('PhoneGap');this.setFlag('Cordova')}if(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)(?!.*FBAN)/i.test(d)){p=!0}this.setFlag('WebView',p);this.isStrict=Ext.isStrict=document.compatMode==='CSS1Compat';this.isSecure=Ext.isSecure;this.identity=a+b+(this.isStrict?'Strict':'Quirks')};Ext.env.Browser.prototype={constructor:Ext.env.Browser,engineNames:{edge:'Edge',webkit:'WebKit',gecko:'Gecko',presto:'Presto',trident:'Trident',other:'Other'},enginePrefixes:{edge:'Edge/',webkit:'AppleWebKit/',gecko:'Gecko/',presto:'Presto/',trident:'Trident/'},styleDashPrefixes:{WebKit:'-webkit-',Gecko:'-moz-',Trident:'-ms-',Presto:'-o-',Other:''},stylePrefixes:{WebKit:'Webkit',Gecko:'Moz',Trident:'ms',Presto:'O',Other:''},propertyPrefixes:{WebKit:'webkit',Gecko:'moz',Trident:'ms',Presto:'o',Other:''},name:null,version:null,engineName:null,engineVersion:null,setFlag:function(b,a,c){if(a===undefined){a=!0}this.is[b]=a;this.is[b.toLowerCase()]=a;if(c){Ext['is'+b]=a}return this},getStyleDashPrefix:function(){return this.styleDashPrefixes[this.engineName]},getStylePrefix:function(){return this.stylePrefixes[this.engineName]},getVendorProperyName:function(b){var a=this.propertyPrefixes[this.engineName];if(a.length>0){return a+Ext.String.capitalize(b)}return b}};(function(a){Ext.browser=new Ext.env.Browser(a,!0);Ext.userAgent=a.toLowerCase();Ext.SSL_SECURE_URL=Ext.isSecure&&Ext.isIE?"javascript:''":'about:blank'})(Ext.global.navigator.userAgent);Ext.env.OS=function(e,i,b){var n=this,h=Ext.Boot.osNames,j=Ext.Boot.osPrefixes,a,c='',m=n.is,d,l,g,k,f;b=b||Ext.browser;for(d in j){if(j.hasOwnProperty(d)){l=j[d];g=e.match(new RegExp('(?:'+l+')([^\\s;]+)'));if(g){a=h[d];f=g[1];if(f&&f==='HTC_'){c=new Ext.Version('2.3')}else if(f&&f==='Silk/'){c=new Ext.Version('2.3')}else {c=new Ext.Version(g[g.length-1])}break}}}if(!a){a=h[(e.toLowerCase().match(/mac|win|linux/)||['other'])[0]];c=new Ext.Version('')}this.name=a;this.version=c;if(e.match(/ipad/i)||!e.match(/iphone/i)&&e.match(/Mac/)&&navigator.maxTouchPoints>2){a='iOS';i='iPad'}if(i){this.setFlag(i.replace(/ simulator$/i,''))}this.setFlag(a);if(c){this.setFlag(a+(c.getMajor()||''));this.setFlag(a+c.getShortVersion())}for(d in h){if(h.hasOwnProperty(d)){k=h[d];if(!m.hasOwnProperty(a)){this.setFlag(k,a===k)}}}if(this.name==='iOS'&&window.screen.height===568){this.setFlag('iPhone5')}if(b.is.Safari||b.is.Silk){if(this.is.Android2||this.is.Android3||b.version.shortVersion===501){b.setFlag('AndroidStock')}if(this.is.Android4){b.setFlag('AndroidStock');b.setFlag('AndroidStock4')}}};Ext.env.OS.prototype={constructor:Ext.env.OS,is:function(a){return !!this[a]},name:null,version:null,setFlag:function(b,a){if(a===undefined){a=!0}if(this.flags){this.flags[b]=a}this.is[b]=a;this.is[b.toLowerCase()]=a;return this}};(function(){var h=Ext.global.navigator,i=h.userAgent,e=Ext.env.OS,f=Ext.is||(Ext.is={}),a,c,b;e.prototype.flags=f;Ext.os=a=new e(i,h.platform);c=a.name;Ext['is'+c]=!0;Ext.isMac=f.Mac=f.MacOS;Ext.isApple=Ext.isMac||Ext.isiOS;var d=window.location.search.match(/deviceType=(Tablet|Phone)/),g=window.deviceType;if(d&&d[1]){b=d[1]}else if(g==='iPhone'){b='Phone'}else if(g==='iPad'){b='Tablet'}else {if(!a.is.Android&&!a.is.iOS&&!a.is.WindowsPhone&&/Windows|Linux|MacOS|ChromeOS/.test(c)){b='Desktop';Ext.browser.is.WebView=!!Ext.browser.is.Ripple}else if(a.is.iPad||a.is.RIMTablet||a.is.Android3||Ext.browser.is.Silk||a.is.Android&&i.search(/mobile/i)===-1){b='Tablet'}else {b='Phone'}}if(b==='Tablet'&&c==='MacOS'){Ext.isiOS=!0;Ext.isiPadOS=!0}a.setFlag(b,!0);a.deviceType=b;delete e.prototype.flags})();Ext.feature={has:function(a){return !!this.has[a]},testElements:{},getTestElement:function(a,b){if(a===undefined){a='div'}else if(typeof a!=='string'){return a}if(b){return document.createElement(a)}if(!this.testElements[a]){this.testElements[a]=document.createElement(a)}return this.testElements[a]},isStyleSupported:function(a,d){var b=this.getTestElement(d).style,c=Ext.String.capitalize(a);if(typeof b[a]!=='undefined'||typeof b[Ext.browser.getStylePrefix(a)+c]!=='undefined'){return !0}return !1},isStyleSupportedWithoutPrefix:function(b,c){var a=this.getTestElement(c).style;if(typeof a[b]!=='undefined'){return !0}return !1},isEventSupported:function(e,d){if(d===undefined){d=window}var a=this.getTestElement(d),b='on'+e.toLowerCase(),c=b in a;if(!c){if(a.setAttribute&&a.removeAttribute){a.setAttribute(b,'');c=typeof a[b]==='function';if(typeof a[b]!=='undefined'){a[b]=undefined}a.removeAttribute(b)}}return c},getStyle:function(a,c){var b=a.ownerDocument.defaultView,d=b?b.getComputedStyle(a,null):a.currentStyle;return (d||a.style)[c]},getSupportedPropertyName:function(c,a){var b=Ext.browser.getVendorProperyName(a);if(b in c){return b}else if(a in c){return a}return null},detect:function(h){var c=this,g=document,m=c.toRun||c.tests,i=m.length,f=g.createElement('div'),k=[],j=Ext.supports,n=c.has,a,e,b,l,d;f.innerHTML='<div style="height:30px;width:50px;"><div style="height:20px;width:20px;"></div></div><div style="width: 200px; height: 200px; position: relative; padding: 5px;"><div style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;"></div></div><div style="position: absolute; left: 10%; top: 10%;"></div><div style="float:left; background-color:transparent;"></div>';if(h){g.body.appendChild(f)}l=c.preDetected[Ext.browser.identity]||[];while(i--){b=m[i];d=l[i];a=b.name;e=b.names;if(d===undefined){if(!h&&b.ready){k.push(b);continue}d=b.fn.call(c,g,f)}if(a){j[a]=n[a]=d}else if(e){while(e.length){a=e.pop();j[a]=n[a]=d}}}if(h){g.body.removeChild(f)}c.toRun=k},report:function(){var b=[],c=this.tests.length,a;for(a=0;a<c;++a){b.push(this.has[this.tests[a].name]?1:0)}Ext.log(Ext.browser.identity+': ['+b.join(',')+']')},preDetected:{},tests:[{name:'CloneNodeCopiesExpando',fn:function(){var a=document.createElement('div');a.expandoProp={};return a.cloneNode().expandoProp===a.expandoProp}},{name:'CSSPointerEvents',fn:function(a){return 'pointerEvents' in a.documentElement.style}},{name:'CSS3BoxShadow',fn:function(a){return 'boxShadow' in a.documentElement.style||'WebkitBoxShadow' in a.documentElement.style||'MozBoxShadow' in a.documentElement.style}},{name:'CSS3NegationSelector',fn:function(a){try{a.querySelectorAll('foo:not(bar)')}catch(b){return !1}return !0}},{name:'ClassList',fn:function(a){return !!a.documentElement.classList}},{name:'Canvas',fn:function(){var a=this.getTestElement('canvas');return !!(a&&a.getContext&&a.getContext('2d'))}},{name:'Svg',fn:function(a){return !!(a.createElementNS&&!!a.createElementNS('http://www.w3.org/2000/svg','svg').createSVGRect)}},{name:'Vml',fn:function(){var a=this.getTestElement(),b=!1;a.innerHTML='<!--[if vml]><br><![endif]-->';b=a.childNodes.length===1;a.innerHTML='';return b}},{name:'Touch',fn:function(){var a=navigator.msMaxTouchPoints||navigator.maxTouchPoints;if(Ext.browser.is.Chrome&&Ext.browser.version.isLessThanOrEqual(39)){return Ext.supports.TouchEvents&&a!==1||a>1}else {return Ext.supports.TouchEvents||a>0}}},{name:'PointerEvents',fn:function(){var b=window.PointerEvent,c=window.navigator,a=!!(b&&(c.pointerEnabled||!Ext.isIE));return a&&!Ext.supports.TouchEvents}},{name:'MSPointerEvents',fn:function(){return Ext.isIE10}},{name:'TouchEvents',fn:function(){return this.isEventSupported('touchend')}},{name:'TouchAction',ready:!0,fn:function(h,e){if(!window.getComputedStyle){return 0}var c=['pan-x','pan-y','pinch-zoom','double-tap-zoom'],f=[1,2,4,8],g=c.length,d=0,a,b;for(a=0;a<g;a++){b=c[a];e.style.touchAction=b;if(getComputedStyle(e).touchAction===b){d|=f[a]}}return d}},{name:'Orientation',fn:function(){return 'orientation' in window&&this.isEventSupported('orientationchange')}},{name:'OrientationChange',fn:function(){return this.isEventSupported('orientationchange')}},{name:'DeviceMotion',fn:function(){return this.isEventSupported('devicemotion')}},{names:['Geolocation','GeoLocation'],fn:function(){return 'geolocation' in window.navigator}},{name:'SqlDatabase',fn:function(){return 'openDatabase' in window}},{name:'WebSockets',fn:function(){return 'WebSocket' in window}},{name:'Range',fn:function(){return !!document.createRange}},{name:'CreateContextualFragment',fn:function(){var a=!!document.createRange?document.createRange():!1;return a&&!!a.createContextualFragment}},{name:'History',fn:function(){return 'history' in window&&'pushState' in window.history}},{name:'Css3dTransforms',fn:function(){return this.has('CssTransforms')&&this.isStyleSupported('perspective')}},{name:'CssTransforms',fn:function(){return this.isStyleSupported('transform')}},{name:'CssTransformNoPrefix',fn:function(){return this.isStyleSupportedWithoutPrefix('transform')}},{name:'CssAnimations',fn:function(){return this.isStyleSupported('animationName')}},{names:['CssTransitions','Transitions'],fn:function(){return this.isStyleSupported('transitionProperty')}},{names:['Audio','AudioTag'],fn:function(){return !!this.getTestElement('audio').canPlayType}},{name:'Video',fn:function(){return !!this.getTestElement('video').canPlayType}},{name:'LocalStorage',fn:function(){try{if('localStorage' in window&&window['localStorage']!==null){localStorage.setItem('sencha-localstorage-test','test success');localStorage.removeItem('sencha-localstorage-test');return !0}}catch(b){}return !1}},{name:'XmlQuerySelector',fn:function(){var b='<?xml version="1.0" encoding="UTF-8" standalone="yes" ?><root></root>',a;if(window.ActiveXObject){a=new ActiveXObject('Microsoft.xmlDOM');a.async=!1;a.loadXML(b)}else if(window.DOMParser){var c=new DOMParser();a=c.parseFromString(b,'text/xml')}return a?!!a.lastChild.querySelector:!1}},{name:'XHR2',fn:function(){return window.ProgressEvent&&window.FormData&&window.XMLHttpRequest&&'withCredentials' in new XMLHttpRequest()}},{name:'XHRUploadProgress',fn:function(){var a;if(window.XMLHttpRequest&&!Ext.browser.is.AndroidStock){a=new XMLHttpRequest();return a&&'upload' in a&&'onprogress' in a.upload}return !1}},{name:'NumericInputPlaceHolder',fn:function(){return !(Ext.browser.is.AndroidStock4&&Ext.os.version.getMinor()<2)}},{name:'matchesSelector',fn:function(){var a=document.documentElement,d='matches',e='webkitMatchesSelector',b='msMatchesSelector',c='mozMatchesSelector';return a[d]?d:a[e]?e:a[b]?b:a[c]?c:null}},{name:'RightMargin',ready:!0,fn:function(c,b){var a=c.defaultView;return !(a&&a.getComputedStyle(b.firstChild.firstChild,null).marginRight!=='0px')}},{name:'DisplayChangeInputSelectionBug',fn:function(){var a=Ext.webKitVersion;return 0<a&&a<533}},{name:'DisplayChangeTextAreaSelectionBug',fn:function(){var a=Ext.webKitVersion;return 0<a&&a<534.24}},{name:'TransparentColor',ready:!0,fn:function(c,b,a){a=c.defaultView;return !(a&&a.getComputedStyle(b.lastChild,null).backgroundColor!=='transparent')}},{name:'ComputedStyle',ready:!0,fn:function(b,c,a){a=b.defaultView;return !!(a&&a.getComputedStyle)}},{name:'Float',fn:function(a){return 'cssFloat' in a.documentElement.style}},{name:'CSS3BorderRadius',ready:!0,fn:function(d){var b=['borderRadius','BorderRadius','MozBorderRadius','WebkitBorderRadius','OBorderRadius','KhtmlBorderRadius'],c=!1,a;for(a=0;a<b.length;a++){if(d.documentElement.style[b[a]]!==undefined){c=!0}}return c&&!Ext.isIE9}},{name:'CSS3LinearGradient',fn:function(i,c){var a='background-image:',e='-webkit-gradient(linear, left top, right bottom, from(black), to(white))',b='linear-gradient(left top, black, white)',g='-moz-'+b,h='-ms-'+b,f='-o-'+b,d=[a+e,a+b,a+g,a+h,a+f];c.style.cssText=d.join(';');return (''+c.style.backgroundImage).indexOf('gradient')!==-1&&!Ext.isIE9}},{name:'MouseEnterLeave',fn:function(a){return 'onmouseenter' in a.documentElement&&'onmouseleave' in a.documentElement}},{name:'MouseWheel',fn:function(a){return 'onmousewheel' in a.documentElement}},{name:'Opacity',fn:function(b,a){if(Ext.isIE8){return !1}a.firstChild.style.cssText='opacity:0.73';return a.firstChild.style.opacity=='0.73'}},{name:'Placeholder',fn:function(a){return 'placeholder' in a.createElement('input')}},{name:'Direct2DBug',fn:function(a){return Ext.isString(a.documentElement.style.msTransformOrigin)&&Ext.isIE9m}},{name:'BoundingClientRect',fn:function(a){return 'getBoundingClientRect' in a.documentElement}},{name:'RotatedBoundingClientRect',ready:!0,fn:function(e){var d=e.body,c=!1,b=e.createElement('div'),a=b.style;if(b.getBoundingClientRect){a.position='absolute';a.top='0';a.WebkitTransform=a.MozTransform=a.msTransform=a.OTransform=a.transform='rotate(90deg)';a.width='100px';a.height='30px';d.appendChild(b);c=b.getBoundingClientRect().height!==100;d.removeChild(b)}return c}},{name:'ChildContentClearedWhenSettingInnerHTML',ready:!0,fn:function(){var a=this.getTestElement(),b;a.innerHTML='<div>a</div>';b=a.firstChild;a.innerHTML='<div>b</div>';return b.innerHTML!=='a'}},{name:'IncludePaddingInWidthCalculation',ready:!0,fn:function(b,a){return a.childNodes[1].firstChild.offsetWidth===210}},{name:'IncludePaddingInHeightCalculation',ready:!0,fn:function(b,a){return a.childNodes[1].firstChild.offsetHeight===210}},{name:'TextAreaMaxLength',fn:function(a){return 'maxlength' in a.createElement('textarea')}},{name:'GetPositionPercentage',ready:!0,fn:function(b,a){return Ext.feature.getStyle(a.childNodes[2],'left')==='10%'}},{name:'PercentageHeightOverflowBug',ready:!0,fn:function(d){var c=!1,b,a;if(Ext.getScrollbarSize().height){a=this.getTestElement('div',!0);b=a.style;b.height='50px';b.width='50px';b.overflow='auto';b.position='absolute';a.innerHTML=['<div style="display:table;height:100%;">','<div style="width:51px;"></div>','</div>'].join('');d.body.appendChild(a);if(a.firstChild.offsetHeight===50){c=!0}d.body.removeChild(a)}return c}},{name:'xOriginBug',ready:!0,fn:function(e,b){b.innerHTML='<div id="b1" style="height:100px;width:100px;direction:rtl;position:relative;overflow:scroll"><div id="b2" style="position:relative;width:100%;height:20px;"></div><div id="b3" style="position:absolute;width:20px;height:20px;top:0px;right:0px"></div></div>';var a=document.getElementById('b1').getBoundingClientRect(),c=document.getElementById('b2').getBoundingClientRect(),d=document.getElementById('b3').getBoundingClientRect();return c.left!==a.left&&d.right!==a.right}},{name:'ScrollWidthInlinePaddingBug',ready:!0,fn:function(c){var d=!1,a,b;b=c.createElement('div');a=b.style;a.height='50px';a.width='50px';a.padding='10px';a.overflow='hidden';a.position='absolute';b.innerHTML='<span style="display:inline-block;zoom:1;height:60px;width:60px;"></span>';c.body.appendChild(b);if(b.scrollWidth===70){d=!0}c.body.removeChild(b);return d}},{name:'rtlVertScrollbarOnRight',ready:!0,fn:function(d,c){c.innerHTML='<div style="height:100px;width:100px;direction:rtl;overflow:scroll"><div style="width:20px;height:200px;"></div></div>';var a=c.firstChild,b=a.firstChild;return b.offsetLeft+b.offsetWidth!==a.offsetLeft+a.offsetWidth}},{name:'rtlVertScrollbarOverflowBug',ready:!0,fn:function(e,c){c.innerHTML='<div style="height:100px;width:100px;direction:rtl;overflow:auto"><div style="width:95px;height:200px;"></div></div>';var a=c.firstChild,b=c.style,d=b.position;b.position='absolute';a.offsetHeight;b.position=d;return a.clientHeight===a.offsetHeight}},{identity:'defineProperty',fn:function(){if(Ext.isIE8m){Ext.Object.defineProperty=Ext.emptyFn;return !1}return !0}},{identify:'nativeXhr',fn:function(){if(typeof XMLHttpRequest!=='undefined'){return !0}XMLHttpRequest=function(){try{return new ActiveXObject('MSXML2.XMLHTTP.3.0')}catch(b){return null}};return !1}},{name:'SpecialKeyDownRepeat',fn:function(){return Ext.isWebKit?parseInt(navigator.userAgent.match(/AppleWebKit\/(\d+)/)[1],10)>=525:!(!(Ext.isGecko||Ext.isIE||Ext.isEdge)||Ext.isOpera&&Ext.operaVersion<12)}},{name:'EmulatedMouseOver',fn:function(){return Ext.os.is.iOS}},{name:'Hashchange',fn:function(){var a=document.documentMode;return 'onhashchange' in window&&(a===undefined||a>7)}},{name:'FixedTableWidthBug',ready:!0,fn:function(){if(Ext.isIE8){return !1}var a=document.createElement('div'),b=document.createElement('div'),c;a.setAttribute('style','display:table;table-layout:fixed;');b.setAttribute('style','display:table-cell;min-width:50px;');a.appendChild(b);document.body.appendChild(a);a.offsetWidth;a.style.width='25px';c=a.offsetWidth;document.body.removeChild(a);return c===50}},{name:'FocusinFocusoutEvents',fn:function(){return !(Ext.isGecko&&Ext.firefoxVersion<52)}},{name:'AsyncFocusEvents',fn:function(){return Ext.asyncFocus=!!Ext.isIE}},{name:'accessibility',ready:!0,fn:function(f){var g=f.body,b,c,a,e,d;function getColor(a){var c=[],e=0,g,b;if(a.indexOf('rgb(')!==-1){c=a.replace('rgb(','').replace(')','').split(', ')}else if(a.indexOf('#')!==-1){g=a.length===7?/^#(\S\S)(\S\S)(\S\S)$/:/^#(\S)(\S)(\S)$/;b=a.match(g);if(b){c=['0x'+b[1],'0x'+b[2],'0x'+b[3]]}}for(var d=0;d<c.length;d++){e+=parseInt(c[d])}return e}b=f.createElement('div');c=f.createElement('img');a=b.style;Ext.apply(a,{width:'2px',position:'absolute',clip:'rect(1px,1px,1px,1px)',borderWidth:'1px',borderStyle:'solid',borderTopTolor:'#f00',borderRightColor:'#ff0',backgroundColor:'#fff',backgroundImage:'url('+Ext.BLANK_IMAGE_URL+')'});c.alt='';c.src=Ext.BLANK_IMAGE_URL;b.appendChild(c);g.appendChild(b);a=b.currentStyle||b.style;d=a.backgroundImage;e={Images:c.offsetWidth===1&&c.readyState!=='uninitialized',BackgroundImages:!(d!==null&&(d==='none'||d==='url(invalid-url:)')),BorderColors:a.borderTopColor!==a.borderRightColor,LightOnDark:getColor(a.color)-getColor(a.backgroundColor)>0};Ext.supports.HighContrastMode=!e.BackgroundImages;g.removeChild(b);b=c=null;return e}},{name:'ViewportUnits',ready:!0,fn:function(f){if(Ext.isIE8){return !1}var d=f.body,a=document.createElement('div'),e=a.currentStyle||a.style,c,b;d.appendChild(a);Ext.apply(e,{width:'50vw'});c=parseInt(window.innerWidth/2,10);b=parseInt((window.getComputedStyle?getComputedStyle(a,null):a.currentStyle).width,10);d.removeChild(a);a=null;return c===b}},{name:'CSSVariables',ready:!1,fn:function(){if(!window.getComputedStyle){return !1}return window.CSS&&window.CSS.supports&&window.CSS.supports('--test-var',0)}},{name:'Selectors2',ready:!1,fn:function(a){try{return !!a.querySelectorAll(':scope')}catch(b){return !1}}},{name:'CSSScrollSnap',ready:!1,fn:function(b){var a=b.documentElement.style;return 'scrollSnapType' in a||'webkitScrollSnapType' in a||'msScrollSnapType' in a}},{name:'TranslateYCausesHorizontalScroll',ready:!0,fn:function(b,a){a.innerHTML='<div style="position: relative; overflow: auto; height: 200px; width: 200px;"><div><div style="transform: translateY(260px); width: 50px;">a</div></div></div>';return a.firstChild.scrollWidth>a.firstChild.clientWidth}},{name:'FlexBoxBasisBug',ready:!0,fn:function(){if(Ext.isIE11||Ext.os.is.iOS&&Ext.os.version.major<=10||Ext.isSafari&&Ext.browser.version.isLessThan(11)||Ext.os.is.Android&&Ext.os.version.isLessThan(6)){return !0}return !1}},{name:'PercentageSizeFlexBug',ready:!0,fn:function(c,b){if(Ext.isIE9m){return !1}var a=b.style;a.display='flex';a.flexDirection='column';a.height=a.width='100px';b.innerHTML='<div style="flex: 1 1;"><div style="height:50%"></div></div>';return b.firstChild.firstChild.offsetHeight!==50}},{name:'CannotScrollExactHeight',fn:function(){return Ext.isIE10p}},{name:'WebKitInputTableBoxModelBug',ready:!0,fn:function(i,j){var c=document.createElement('div'),d=document.createElement('div'),b=document.createElement('input'),e=c.style,h=d.style,a=b.style,g=i.body,f;b.type='text';e.display='table';e.height='100px';h.display='table-cell';a.border='0';a.padding='10px';a.boxSizing='border-box';a.height='100%';d.appendChild(b);c.appendChild(d);g.appendChild(c);f=b.offsetHeight===80;g.removeChild(c);return f}},{name:'PassiveEventListener',fn:function(d,c){var b=!1,a;try{a=Object.defineProperty({},'passive',{get:function(){b=!0}});window.addEventListener('e',null,a);window.removeEventListener('e',null,a)}catch(e){}return b}},{name:'CSSMinContent',ready:!0,fn:function(b,a){a.innerHTML='<div style="height:4px;width:4px;min-height:-webkit-min-content;min-height:-moz-min-content;min-height:min-content"><div style="height:8px;width:8px"></div></div>';return a.firstChild.offsetHeight===8}},{name:'ComputedSizeIncludesPadding',ready:!0,fn:function(f,e){var b=!1,c=document.body,a,d;if(window.getComputedStyle){a=document.createElement('div');a.style.cssText='width:10px;padding:2px;-webkit-box-sizing:border-box;box-sizing:border-box;';c.appendChild(a);d=window.getComputedStyle(a,null).width;b=d==='10px';c.removeChild(a)}return b}},{name:'inputEventData',ready:!1,fn:function(){return !!(window.InputEvent&&'data' in new InputEvent('input'))}},0]};Ext.feature.tests.pop();Ext.supports={};Ext.feature.detect();Ext.env.Ready={blocks:(location.search||'').indexOf('ext-pauseReadyFire')>0?1:0,bound:0,delay:1,firing:!1,generation:0,listeners:[],nextId:0,sortGeneration:0,state:0,timer:null,bind:function(){var a=Ext.env.Ready,b=document;if(!a.bound){if(b.readyState==='complete'){a.onReadyEvent({type:b.readyState||'body'})}else {a.bound=1;if(Ext.browser.is.PhoneGap&&!Ext.os.is.Desktop){a.bound=2;b.addEventListener('deviceready',a.onReadyEvent,!1)}b.addEventListener('DOMContentLoaded',a.onReadyEvent,!1);window.addEventListener('load',a.onReadyEvent,!1)}}},block:function(){++this.blocks;Ext.isReady=!1},fireReady:function(){var a=Ext.env.Ready;if(!a.state){Ext._readyTime=Ext.ticks();Ext.isDomReady=!0;a.state=1;Ext.feature.detect(!0);if(!a.delay){a.handleReady()}else if(navigator.standalone){a.timer=Ext.defer(function(){a.timer=null;a.handleReadySoon()},1)}else {a.handleReadySoon()}}},handleReady:function(){var a=this;if(a.state===1){a.state=2;Ext._beforeReadyTime=Ext.ticks();a.invokeAll();Ext._afterReadyTime=Ext.ticks()}},handleReadySoon:function(b){var a=this;if(!a.timer){a.timer=Ext.defer(function(){a.timer=null;a.handleReady()},b||a.delay)}},invoke:function(a){var b=a.delay;if(b){Ext.defer(a.fn,b,a.scope)}else {if(Ext.elevateFunction){Ext.elevateFunction(a.fn,a.scope)}else {a.fn.call(a.scope)}}},invokeAll:function(){if(Ext.elevateFunction){Ext.elevateFunction(this.doInvokeAll,this)}else {this.doInvokeAll()}},doInvokeAll:function(){var a=this,b=a.listeners,c;if(!a.blocks){Ext.isReady=!0}a.firing=!0;while(b.length){if(a.sortGeneration!==a.generation){a.sortGeneration=a.generation;b.sort(a.sortFn)}c=b.pop();if(a.blocks&&!c.dom){b.push(c);break}a.invoke(c)}a.firing=!1},makeListener:function(d,c,b){var a={fn:d,id:++this.nextId,scope:c,dom:!1,priority:0};if(b){Ext.apply(a,b)}a.phase=a.dom?0:1;return a},on:function(e,d,c){var a=Ext.env.Ready,b=a.makeListener(e,d,c);if(a.state===2&&!a.firing&&(b.dom||!a.blocks)){a.invoke(b)}else {a.listeners.push(b);++a.generation;if(!a.bound){a.bind()}}},onReadyEvent:function(b){var a=Ext.env.Ready;if(Ext.elevateFunction){Ext.elevateFunction(a.doReadyEvent,a,arguments)}else {a.doReadyEvent(b)}},doReadyEvent:function(b){var a=this;if(a.bound>0){a.unbind();a.bound=-1}if(!a.state){a.fireReady()}},sortFn:function(a,b){return -(a.phase-b.phase||b.priority-a.priority||a.id-b.id)},unblock:function(){var a=this;if(a.blocks){if(!--a.blocks){if(a.state===2&&!a.firing){a.invokeAll()}}}},unbind:function(){var a=this,b=document;if(a.bound>1){b.removeEventListener('deviceready',a.onReadyEvent,!1)}b.removeEventListener('DOMContentLoaded',a.onReadyEvent,!1);window.removeEventListener('load',a.onReadyEvent,!1)}};(function(){var a=Ext.env.Ready;if(Ext.isIE9m){Ext.apply(a,{scrollTimer:null,readyStatesRe:/complete/i,pollScroll:function(){var b=!0;try{document.documentElement.doScroll('left')}catch(c){b=!1}if(b&&document.body){a.onReadyEvent({type:'doScroll'})}else {a.scrollTimer=Ext.defer(a.pollScroll,20)}return b},bind:function(){var b=document,c;if(a.bound){return}try{c=window.frameElement===undefined}catch(d){}if(!c||!b.documentElement.doScroll){a.pollScroll=Ext.emptyFn}else if(a.pollScroll()){return}if(b.readyState==='complete'){a.onReadyEvent({type:'already '+(b.readyState||'body')})}else {b.attachEvent('onreadystatechange',a.onReadyStateChange);window.attachEvent('onload',a.onReadyEvent);a.bound=1}},unbind:function(){document.detachEvent('onreadystatechange',a.onReadyStateChange);window.detachEvent('onload',a.onReadyEvent);if(Ext.isNumber(a.scrollTimer)){Ext.undefer(a.scrollTimer);a.scrollTimer=null}},onReadyStateChange:function(){var b=document.readyState;if(a.readyStatesRe.test(b)){a.onReadyEvent({type:b})}}})}Ext.onDocumentReady=function(e,d,b){var c={dom:!0};if(b){Ext.apply(c,b)}a.on(e,d,c)};Ext.onReady=function(d,c,b){a.on(d,c,b)};Ext.onInternalReady=function(d,c,b){a.on(d,c,Ext.apply({priority:1000},b))};a.bind()})();Ext.Loader=new function(){var a=this,b=Ext.ClassManager,h=Ext.Boot,n=Ext.Class,c=Ext.env.Ready,j=Ext.Function.alias,g=['extend','mixins','requires'],i={},l=[],e=[],f=[],k={},d={enabled:!0,scriptChainDelay:!1,disableCaching:!0,disableCachingParam:'_dc',paths:b.paths,preserveScripts:!0,scriptCharset:undefined},m={disableCaching:!0,disableCachingParam:!0,preserveScripts:!0,scriptChainDelay:'loadDelay'};Ext.apply(a,{isInHistory:i,isLoading:!1,history:l,config:d,readyListeners:e,optionalRequires:f,requiresMap:k,hasFileLoadError:!1,scriptsLoading:0,classesLoading:{},missingCount:0,missingQueue:{},syncModeEnabled:!1,init:function(){var k=document.getElementsByTagName('script'),m=k[k.length-1].src,n=m.substring(0,m.lastIndexOf('/')+1),l=Ext._classPathMetadata,h=Ext.Microloader,g=Ext.manifest,d,i,j,f,e;if(!b.getPath('Ext')){b.setPath('Ext',n+'src')}if(l){Ext._classPathMetadata=null;a.addClassPathMappings(l)}if(g){d=g.loadOrder;i=Ext.Boot.baseUrl;if(d&&g.bootRelative){for(j=d.length,f=0;f<j;f++){e=d[f];e.path=i+e.path;e.canonicalPath=!0}}}if(h){c.block();h.onMicroloaderReady(function(){c.unblock()})}},setConfig:Ext.Function.flexSetter(function(b,e){var c=m[b];if(b==='paths'){a.setPath(e)}else {d[b]=e;if(c){h.setConfig(c===!0?b:c,e)}}return a}),getConfig:function(a){return a?d[a]:d},setPath:function(){b.setPath.apply(b,arguments);return a},addClassPathMappings:function(c){b.setPath(c);return a},addBaseUrlClassPathMappings:function(a){var b;for(b in a){a[b]=h.baseUrl+a[b]}Ext.Loader.addClassPathMappings(a)},getPath:function(a){return b.getPath(a)},require:function(c,g,f,e){var d;if(e){return a.exclude(e).require(c,g,f)}d=b.getNamesByExpression(c);return a.load(d,g,f)},syncRequire:function(){var c=a.syncModeEnabled,b;a.syncModeEnabled=!0;b=a.require.apply(a,arguments);a.syncModeEnabled=c;return b},exclude:function(d){var c=b.select({require:function(b,e,c){return a.load(b,e,c)},syncRequire:function(c,g,f){var e=a.syncModeEnabled,b;a.syncModeEnabled=!0;b=a.load(c,g,f);a.syncModeEnabled=e;return b}});c.exclude(d);return c},load:function(g,c,k){if(c){if(c.length){c=a.makeLoadCallback(g,c)}c=c.bind(k||Ext.global)}var n=b.classState,f=[],l=[],j={},m=g.length,e,h,i;for(h=0;h<m;++h){e=b.resolveName(g[h]);if(!b.isCreated(e)){f.push(e);if(!n[e]){j[e]=a.getPath(e);l.push(j[e])}}}i=f.length;if(i){a.missingCount+=i;b.onCreated(function(){if(c){Ext.callback(c,k,arguments)}a.checkReady()},a,f);if(!d.enabled){Ext.raise('Ext.Loader is not enabled, so dependencies cannot be resolved dynamically. Missing required class'+(f.length>1?'es':'')+': '+f.join(', '))}if(l.length){a.loadScripts({url:l,_classNames:f,_urlByClass:j})}else {a.checkReady()}}else {if(c){c.call(k)}a.checkReady()}if(a.syncModeEnabled){if(m===1){return b.get(g[0])}}return a},makeLoadCallback:function(a,c){return function(){var e=[],d=a.length;while(d-->0){e[d]=b.get(a[d])}return c.apply(this,e)}},onLoadFailure:function(h){var d=this,f=h.entries||[],g=d.onError,b,e,c;a.hasFileLoadError=!0;--a.scriptsLoading;if(g){for(c=0;c<f.length;c++){e=f[c];if(e.error){b=new Error('Failed to load: '+e.url);break}}b=b||new Error('Failed to load');g.call(d.userScope,d,b,h)}a.checkReady()},onLoadSuccess:function(){var c=this,g=c.onLoad,f=c._classNames,j=c._urlByClass,k=b.classState,i=a.missingQueue,d,e,h;--a.scriptsLoading;if(g){g.call(c.userScope,c)}for(e=0,h=f.length;e<h;e++){d=f[e];if(!k[d]){i[d]=j[d]}}a.checkReady()},onReady:function(g,f,h,d){var b;if(h){c.on(g,f,d)}else {b=c.makeListener(g,f,d);if(a.isLoading){e.push(b)}else {c.invoke(b)}}},addUsedClasses:function(b){var c,d,e;if(b){b=typeof b==='string'?[b]:b;for(d=0,e=b.length;d<e;d++){c=b[d];if(typeof c==='string'&&!Ext.Array.contains(f,c)){f.push(c)}}}return a},triggerReady:function(){var d,b=f;if(a.isLoading&&b.length){f=[];a.require(b)}else {a.isLoading=!1;e.sort(c.sortFn);while(e.length&&!a.isLoading){d=e.pop();c.invoke(d)}c.unblock()}},historyPush:function(c){if(c&&!i[c]&&!b.overrideMap[c]){i[c]=!0;l.push(c)}return a},loadScripts:function(g){var c=Ext.manifest,f=c&&c.loadOrder,e=c&&c.loadOrderMap,b;++a.scriptsLoading;if(f&&!e){c.loadOrderMap=e=h.createLoadOrderMap(f)}a.checkReady();b=Ext.apply({loadOrder:f,loadOrderMap:e,charset:d.scriptCharset,success:a.onLoadSuccess,failure:a.onLoadFailure,sync:a.syncModeEnabled,_classNames:[]},g);b.userScope=b.scope;b.scope=b;h.load(b)},loadScriptsSync:function(c){var b=a.syncModeEnabled;a.syncModeEnabled=!0;a.loadScripts({url:c});a.syncModeEnabled=b},loadScriptsSyncBasePrefix:function(c){var b=a.syncModeEnabled;a.syncModeEnabled=!0;a.loadScripts({url:c,prependBaseUrl:!0});a.syncModeEnabled=b},loadScript:function(b){var d=typeof b==='string',e=b instanceof Array,c=!e&&!d,j=c?b.url:b,f=c&&b.onError,h=c&&b.onLoad,i=c&&b.scope,g={url:j,scope:i,onLoad:h,onError:f,_classNames:[]};a.loadScripts(g)},checkMissingQueue:function(){var d=a.missingQueue,e={},f=0,c;for(c in d){if(!(b.classState[c]||b.isCreated(c))){e[c]=d[c];f++}}a.missingCount=f;a.missingQueue=e},checkReady:function(){var d=a.isLoading,b;a.checkMissingQueue();b=a.missingCount+a.scriptsLoading;if(b&&!d){c.block();a.isLoading=!!b}else if(!b&&d){a.triggerReady()}}});Ext.require=j(a,'require');Ext.syncRequire=j(a,'syncRequire');Ext.exclude=j(a,'exclude');n.registerPreprocessor('loader',function(n,f,q,p){var r=this,i=[],t,j=b.getName(n),l,h,o,m,d,e,c,s;for(l=0,o=g.length;l<o;l++){e=g[l];if(f.hasOwnProperty(e)){c=f[e];if(typeof c==='string'){i.push(c)}else if(c instanceof Array){for(h=0,m=c.length;h<m;h++){d=c[h];if(typeof d==='string'){i.push(d)}}}else if(typeof c!=='function'){for(h in c){if(c.hasOwnProperty(h)){d=c[h];if(typeof d==='string'){i.push(d)}}}}}}if(i.length===0){return}if(j){k[j]=i}(j?a.exclude(j):a).require(i,function(){var h,k,a,j,i;for(h=0,k=g.length;h<k;h++){e=g[h];if(f.hasOwnProperty(e)){c=f[e];if(typeof c==='string'){f[e]=b.get(c)}else if(c instanceof Array){for(a=0,j=c.length;a<j;a++){d=c[a];if(typeof d==='string'){f[e][a]=b.get(d)}}}else if(typeof c!=='function'){for(i in c){if(c.hasOwnProperty(i)){d=c[i];if(typeof d==='string'){f[e][i]=b.get(d)}}}}}}p.call(r,n,f,q)});return !1},!0,'after','className');b.registerPostprocessor('uses',function(f,g,d){var e=d.uses,c;if(e){c=b.getNamesByExpression(d.uses);a.addUsedClasses(c)}});b.onCreated(a.historyPush);a.init()}();Ext._endTime=Ext.ticks();if(Ext._beforereadyhandler){Ext._beforereadyhandler()}Ext.define('App.overrides.Array',{override:'Ext.Array',fieldSum:function(b,c){var a=[];b.forEach(function(d){a.push(d.field)});return Ext.Array.sum(a)}});Ext.define('App.overrides.Date',{override:'Ext.Date',diff:function(j,i,g,d,e){min=Ext.Date.clearTime(j,!0);max=Ext.Date.clearTime(i,!0);var c=+max-min,a;d=isNaN(d)?0:d;e=e||'round';var b=function(a){return Ext.Number.roundToPrecision(a,d,e)};switch(g){case Ext.Date.MILLI:return c;case Ext.Date.SECOND:return b(c/1000);case Ext.Date.MINUTE:return b(c/60000);case Ext.Date.HOUR:return b(c/3600000);case Ext.Date.DAY:return b(c/86400000);case 'w':return b(c/604800000);case Ext.Date.MONTH:a=max.getFullYear()*12+max.getMonth()-(min.getFullYear()*12+min.getMonth());var h=Ext.Date.add(min,g,a);var f=Ext.Date.diff(h,max,Ext.Date.DAY,d,e);if(f<0){return b(a-f/30)}else if(f>0){return b(a+f/30)};return a;case Ext.Date.YEAR:a=max.getFullYear()-min.getFullYear();if(Ext.Date.add(min,g,a)>max){return a-1}else {return a};}}});Ext.define('App.overrides.Number',{override:'Ext.Number',roundToPrecision:function(d,c,a){var b=Math.pow(10,isNaN(c)?1:c);a=['round','ceil','floor','truncate'].includes(a)?a:'round';return a!=='truncate'?Math[a](d*b)/b:parseInt(d*b,10)/b}});Ext.cmd.derive('Ext.Mixin',Ext.Base,function(a){return {statics:{addHook:function(e,c,d,h){var g=Ext.isFunction(e),b=function(){var b=arguments,i=g?e:h[e],f=this.callParent(b);i.apply(this,b);return f},f=c.hasOwnProperty(d)&&c[d];if(g){e.$previous=Ext.emptyFn}b.$name=d;b.$owner=c.self;if(f){b.$previous=f.$previous;f.$previous=b}else {c[d]=b}}},onClassExtended:function(n,c){var b=c.mixinConfig,d=c.xhooks,m=n.superclass,l=c.onClassMixedIn,k=c.afterClassMixedIn,g,f,j,e,h,i;if(d){delete c.xhooks;(b||(c.mixinConfig=b={})).on=d}if(b){i=m.mixinConfig;if(i){c.mixinConfig=b=Ext.merge({},i,b)}c.mixinId=b.id;g=b.after;f=b.before;j=b.configs;e=b.extended;d=b.on;h=b.mixed}if(g||f||d||e){c.onClassMixedIn=function(b){var h=this.prototype,j=b.prototype,i;if(f){Ext.Object.each(f,function(e,d){b.hookMember(e,function(){if(h[d].apply(this,arguments)!==!1){return this.callParent(arguments)}})})}if(g){Ext.Object.each(g,function(e,d){b.hookMember(e,function(){var f=this.callParent(arguments);h[d].apply(this,arguments);return f})})}if(d){for(i in d){a.addHook(d[i],j,i,h)}}if(e){b.onExtended(function(){var d=Ext.Array.slice(arguments,0);d.unshift(b);return e.apply(this,d)},this)}if(l){l.apply(this,arguments)}}}if(j||h){c.afterClassMixedIn=function(g){if(j){var e=g.prototype,i=this.$config.configs,f,b,d;for(b in e){f=i[b];if(f&&f.isConfig&&e.hasOwnProperty(b)){(d||(d={}))[b]=e[b];delete e[b]}}if(d){g.$config.add(d)}}if(k){k.apply(this,arguments)}if(h){h.apply(this,arguments)}}}}}},0,0,0,0,0,0,[Ext,'Mixin'],0);Ext.util=Ext.util||{};Ext.util.DelayedTask=function(c,b,g,d,e){var a=this,f,h=function(){a.id=null;if(!(b&&b.destroyed)){if(g){c.apply(b,g)}else {c.call(b)}}if(e===!1){Ext._suppressIdle=!0}};d=typeof d==='boolean'?d:!0;a.id=null;a.delay=function(i,l,j,k){if(d){a.cancel()}if(typeof i==='number'){f=i}c=l||c;b=j||b;g=k||g;a.delayTime=f;if(!a.id){if(f===-1){a.id=Ext.raf(h)}else {a.id=Ext.defer(h,f||1)}}return a.id};a.cancel=function(){if(a.id){if(a.delayTime===-1){Ext.unraf(a.id)}else {Ext.undefer(a.id)}a.id=null}};a.flush=function(){var f;if(a.id){a.cancel();f=e;e=!0;h();e=f}};a.stop=function(h,f){if(h&&h===c&&(!f||f===b)){a.cancel()}}};Ext.cmd.derive('Ext.util.Event',Ext.Base,function(){var d=Array.prototype.slice,c=Ext.Array.insert,b=Ext.Array.toArray,a={};return {isEvent:!0,suspended:0,noOptions:{},constructor:function(a,b){this.name=b;this.observable=a;this.listeners=[]},addListener:function(p,o,b,u,j){var a=this,t=!1,m=a.observable,s=a.name,e,n,i,h,g,l,k,d,f,q,r;if(a.findListener(p,o)===-1){n=a.createListener(p,o,b,u,j);if(a.firing){a.listeners=a.listeners.slice(0)}e=a.listeners;d=k=e.length;i=b&&b.priority;g=a._highestNegativePriorityIndex;l=g!==undefined;if(i){h=i<0;if(!h||l){for(f=h?g:0;f<k;f++){q=e[f].o?e[f].o.priority||0:0;if(q<i){d=f;break}}}else {a._highestNegativePriorityIndex=d}}else if(l){d=g}if(!h&&d<=g){a._highestNegativePriorityIndex++}if(d===k){e[k]=n}else {c(e,d,[n])}if(m.isElement){m._getPublisher(s,b.translate===!1).subscribe(m,s,b.delegated!==!1,b.capture)}if(j){r=j.managedListeners||(j.managedListeners=[]);r.push({item:a.observable,ename:b&&b.managedName||a.name,fn:p,scope:o,options:b})}t=!0}return t},createListener:function(g,e,b,l,k){var f=this,i=Ext._namedScopes,j=i[e],a={fn:g,scope:e,ev:f,caller:l,manager:k,namedScope:j,defaultScope:j?e||f.observable:undefined,lateBound:typeof g==='string'},c=g,d=!1,h;if(a.lateBound&&g[2]==='.'){a.defaultScope=null;a.namedScope=i[a.scope=e='up'];a.fn=c=g.substr(3)}if(b){a.o=b;if(b.single){c=f.createSingle(c,a,b,e);d=!0}if(b.target){c=f.createTargeted(c,a,b,e,d);d=!0}if(b.onFrame){c=f.createAnimFrame(c,a,b,e,d);d=!0}if(b.delay){c=f.createDelayed(c,a,b,e,d);d=!0}if(b.buffer){c=f.createBuffered(c,a,b,e,d);d=!0}if(f.observable.isElement){h=b.type;if(h){a.type=h}}}a.fireFn=c;a.wrapped=d;return a},findListener:function(e,d){var c=this.listeners,b=c.length,a;while(b--){a=c[b];if(a){if(a.fn===e&&a.scope==d){return b}}}return -1},removeListener:function(m,l,c){var a=this,k=!1,h=a.observable,i=a.name,b,g,j,e,f,d;c=c!=null?c:a.findListener(m,l);if(c!==-1){b=a.listeners[c];if(a.firing){a.listeners=a.listeners.slice(0)}a.listeners.splice(c,1);if(a._highestNegativePriorityIndex){if(c<a._highestNegativePriorityIndex){a._highestNegativePriorityIndex--}else if(c===a._highestNegativePriorityIndex&&c===a.listeners.length){delete a._highestNegativePriorityIndex}}if(b){g=b.o;if(b.task){b.task.cancel();delete b.task}d=b.tasks&&b.tasks.length;if(d){while(d--){b.tasks[d].cancel()}delete b.tasks}b.fireFn.timerId=Ext.undefer(b.fireFn.timerId);j=b.manager;if(j){e=j.managedListeners;if(e){for(d=e.length;d--;){f=e[d];if(f.item===a.observable&&f.ename===i&&f.fn===m&&f.scope===l){e.splice(d,1)}}}}if(h.isElement){h._getPublisher(i,g.translate===!1).unsubscribe(h,i,g.delegated!==!1,g.capture)}}k=!0}return k},clearListeners:function(){var b=this.listeners,c=b.length,a;while(c--){a=b[c];this.removeListener(a.fn,a.scope)}},suspend:function(){++this.suspended},resume:function(){if(this.suspended){--this.suspended}},isSuspended:function(){return this.suspended>0},fireDelegated:function(a,b){this.firingObservable=a;return this.fire.apply(this,b)},fire:function(){var e=this,x=Ext.ComponentQuery,s=e.listeners,t=s.length,q=e.observable,n=q.isElement,w=q.isComponent,v=e.firingObservable,b,f,h,l,c,i,u,m,o,r,j,p,a,k,g;if(!e.suspended&&t>0){e.firing=!0;c=arguments.length?d.call(arguments,0):[];u=c.length;if(n){a=c[0]}for(l=0;l<t;l++){i=s[l];if(!i){continue}b=i.o;if(n){if(o){a.setCurrentTarget(o)}r=i.type;if(r){j=a;a=c[0]=j.chain({type:r,isGesture:!1})}Ext.EventObject=a}p=c;if(b){f=b.delegate;if(f){if(n){m=a.getTarget(typeof f==='function'?f:'#'+a.currentTarget.id+' '+f);if(m){c[1]=m;o=a.currentTarget;a.setCurrentTarget(m)}else {continue}}else if(w&&!x.is(v,f,q)){continue}}if(n){if(b.preventDefault){a.preventDefault()}if(b.stopPropagation){a.stopPropagation()}if(b.stopEvent){a.stopEvent()}}c[u]=b;if(b.args){p=b.args.concat(c)}}h=e.getFireInfo(i);k=h.fn;g=h.scope;h.fn=h.scope=null;if(g&&g.destroyed){e.removeListener(k,g,l);k=null}if(k&&k.apply(g,p)===!1){Ext.EventObject=null;return e.firing=!1}if(b){c.length--}if(j){a=c[0]=j;j=null}Ext.EventObject=null}}e.firing=!1;return !0},getFireInfo:function(b,h){var f=this.observable,i=b.fireFn,c=b.scope,d=b.namedScope,e,g;if(!h&&b.wrapped){a.fn=i;return a}e=h?b.fn:i;if(b.lateBound){g=b.caller||f;if(d&&d.isUp){c=Ext.lookUpFn(g,e)}else if(!c||d){c=g.resolveListenerScope(b.defaultScope)}e=c[e]}else if(d&&d.isController){c=(b.caller||f).resolveListenerScope(b.defaultScope)}else if(!c||d){c=f}a.fn=e;a.scope=c;return a},createAnimFrame:function(c,b,f,d,e){var a;if(!e){a=b.ev.getFireInfo(b,!0);c=a.fn;d=a.scope;a.fn=a.scope=null}return Ext.Function.createAnimationFrame(c,d,f.args)},createTargeted:function(b,a,e,c,d){return function(){var f;if(e.target===arguments[0]){if(!d){f=a.ev.getFireInfo(a,!0);b=f.fn;c=f.scope;f.fn=f.scope=null}return b.apply(c,arguments)}}},createBuffered:function(c,a,f,d,e){a.task=new Ext.util.DelayedTask();return function(){var g;if(a.task){if(!e){g=a.ev.getFireInfo(a,!0);c=g.fn;d=g.scope;g.fn=g.scope=null}a.task.delay(f.buffer,c,d,b(arguments))}}},createDelayed:function(c,a,f,d,e){return function(){var h=new Ext.util.DelayedTask(),g;if(!e){g=a.ev.getFireInfo(a,!0);c=g.fn;d=g.scope;g.fn=g.scope=null}if(!a.tasks){a.tasks=[]}a.tasks.push(h);h.delay(f.delay||10,c,d,b(arguments))}},createSingle:function(c,b,e,a,d){return function(){var g=b.ev,h=g.observable,i=b.fn,f;if(h){if(!h.destroyed){h.removeListener(g.name,i,a)}}else {g.removeListener(i,a)}if(!d){f=g.getFireInfo(b,!0);c=f.fn;a=f.scope;f.fn=f.scope=null}return c.apply(a,arguments)}}}},1,0,0,0,0,0,[Ext.util,'Event'],0);Ext.cmd.derive('Ext.mixin.Identifiable',Ext.Base,function(a){return {isIdentifiable:!0,mixinId:'identifiable',getId:function(){var c=this,b=c.id,d;if(!(b||b===0)){d=c.initialConfig;if(d&&d.id){b=d.id}else {b=c.generateAutoId();c.autoGenId=!0}c.setId(b)}c.getId=a._getId;return b},setId:function(b){this.id=this.id=b},privates:{statics:{_idCleanRe:/\.|[^\w-]/g,uniqueIds:{},_getId:function(){return this.id}},defaultIdPrefix:'ext-',defaultIdSeparator:'-',id:null,autoGenId:!1,generateAutoId:function(){var d=this,f=d.self.prototype,c=d.defaultIdSeparator,g=a.uniqueIds,h,e,b,i;if(!f.hasOwnProperty('identifiablePrefix')){h=a._idCleanRe;e=d.defaultIdPrefix;i=d.xtype;if(i){b=e+i.replace(h,c)+c}else if(!(b=f.$className)){b=e+'anonymous'+c}else {b=b.replace(h,c).toLowerCase()+c}f.identifiablePrefix=b}b=d.identifiablePrefix;if(!g.hasOwnProperty(b)){g[b]=0}return b+ ++g[b]}}}},0,0,0,0,0,0,[Ext.mixin,'Identifiable'],0);Ext.cmd.derive('Ext.mixin.Observable',Ext.Mixin,function(d){var e=Ext.emptyFn,g=[],f=Array.prototype,b=f.slice,a=function(c){if(c instanceof a){return c}this.observable=c;if(arguments[1].isObservable){this.managedListeners=!0}this.args=b.call(arguments,1)},c=['events','hasListeners','managedListeners','eventedBeforeEventNames'];a.prototype.destroy=function(){var b=this,c=b.args,a=b.observable,e=c[0].element||c[3]&&c[3].element;if(e){a=a[e]}if(!a.destroyed){a[b.managedListeners?'mun':'un'].apply(a,b.args)}b.destroy=Ext.emptyFn};return {mixinConfig:{id:'observable',after:{destroy:'destroyObservable'}},statics:{releaseCapture:function(a){a.fireEventArgs=this.prototype.fireEventArgs},capture:function(e,c,a){var b=function(b,f){return c.apply(a,[b].concat(f))};this.captureArgs(e,b,a)},captureArgs:function(a,c,b){a.fireEventArgs=Ext.Function.createInterceptor(a.fireEventArgs,c,b)},observe:function(a,b){if(a){if(!a.isObservable){Ext.applyIf(a,new this());this.captureArgs(a.prototype,a.fireEventArgs,a)}if(Ext.isObject(b)){a.on(b)}}return a},prepareClass:function(a,f,o){var k=a.listeners=[],l=o||a.prototype,e=l.listeners,i=f?f.listeners:a.superclass.self.listeners,b,h,g,m;if(i){k.push(i)}if(e){b=e.scope;if(!b){e.scope='self'}else {h=Ext._namedScopes[b];if(h&&h.isController){e.scope='self.controller'}}k.push(e);l.listeners=null}if(!a.HasListeners){var j=function(){},n=a.superclass.HasListeners||f&&f.HasListeners||d.HasListeners;a.prototype.HasListeners=a.HasListeners=j;j.prototype=a.hasListeners=new n()}b=a.prototype.$noClearOnDestroy||{};for(g=0,m=c.length;g<m;g++){b[c[g]]=!0}a.prototype.$noClearOnDestroy=b}},isObservable:!0,$vetoClearingPrototypeOnDestroy:!0,eventsSuspended:0,constructor:function(c){var a=this,h=a.self,f,b,g,i,e;if(a.$observableInitialized){return}a.$observableInitialized=!0;a.hasListeners=a.hasListeners=new a.HasListeners();a.eventedBeforeEventNames={};a.events=a.events||{};f=h.listeners;if(f&&!a._addDeclaredListeners(f)){h.listeners=null}b=c&&c.listeners||a.listeners;if(b){if(b instanceof Array){for(e=0,i=b.length;e<i;++e){a.addListener(b[e])}}else {a.addListener(b)}}g=c&&c.bubbleEvents||a.bubbleEvents;if(g){a.enableBubble(g)}if(a.$applyConfigs){if(c){Ext.apply(a,c)}}else {a.initConfig(c)}if(b){a.listeners=null}},onClassExtended:function(a,b){if(!a.HasListeners){d.prepareClass(a,a.prototype.$observableMixedIn?undefined:b)}},$eventOptions:{scope:1,delay:1,buffer:1,onFrame:1,single:1,args:1,destroyable:1,priority:1,order:1},$orderToPriority:{before:100,current:0,after:-100},_addDeclaredListeners:function(b){var a=this;if(b instanceof Array){Ext.each(b,a._addDeclaredListeners,a)}else {a._addedDeclaredListeners=!0;a.addListener(b)}return a._addedDeclaredListeners},addManagedListener:function(h,c,j,i,b,l){var f=this,g,k;f.managedListeners=f.managedListeners||[];if(typeof c!=='string'){k=arguments.length>4?b:c;b=c;for(c in b){if(b.hasOwnProperty(c)){g=b[c];if(!h.$eventOptions[c]){f.addManagedListener(h,c,g.fn||g,g.scope||b.scope||i,g.fn?g:k,!0)}}}if(b&&b.destroyable){return new a(f,h,b)}}else {if(j!==e){h.doAddListener(c,j,i,b,null,f,f);if(!l&&b&&b.destroyable){return new a(f,h,c,j,i)}}}},removeManagedListener:function(e,a,k,j){var f=this,b,c,h,i,g;if(e.$observableDestroyed){return}if(typeof a!=='string'){b=a;for(a in b){if(b.hasOwnProperty(a)){c=b[a];if(!e.$eventOptions[a]){f.removeManagedListener(e,a,c.fn||c,c.scope||b.scope||j)}}}}else {h=f.managedListeners?f.managedListeners.slice():[];a=Ext.canonicalEventName(a);for(g=0,i=h.length;g<i;g++){f.removeManagedListenerItem(!1,h[g],e,a,k,j)}}},fireEvent:function(a){return this.fireEventArgs(a,b.call(arguments,1))},resolveListenerScope:function(a){var b=Ext._namedScopes[a];if(b){if(b.isSelf||b.isThis){a=null}}return a||this},fireEventArgs:function(a,h){var c=this,e=c.events,f=!0,b;a=Ext.canonicalEventName(a);b=e&&e[a];if(c.hasListeners[a]){f=c.doFireEvent(a,h||g,b?b.bubble:!1)}return f},fireAction:function(c,g,b,e,a,f){if(typeof b==='string'&&!e){b=this[b]}a=a?Ext.Object.chain(a):{};a.single=!0;a.priority=f==='after'?-99.5:99.5;this.doAddListener(c,b,e,a);this.fireEventArgs(c,g)},$eventedController:{_paused:1,pause:function(){++this._paused},resume:function(){var a=this,b=a.fn,c=a.scope,g=a.fnArgs,e,f;if(!--a._paused){if(b){e=Ext.Array.slice(g||a.args);if(g===!1){e.shift()}a.fn=null;e.push(a);if(Ext.isFunction(b)){f=b.apply(c,e)}else if(c&&Ext.isString(b)&&Ext.isFunction(c[b])){f=c[b].apply(c,e)}if(f===!1){return !1}}if(!a._paused){return a.owner.fireEventArgs(a.eventName,a.args)}}}},fireEventedAction:function(a,b,k,j,i){var c=this,e=c.eventedBeforeEventNames,h=e[a]||(e[a]='before'+a),f=Ext.apply({owner:c,eventName:a,fn:k,scope:j,fnArgs:i,args:b},c.$eventedController),g;b.push(f);g=c.fireEventArgs(h,b);b.pop();if(g===!1){return !1}return f.resume()},doFireEvent:function(e,g,h){var a=this,f,b,c=!0;do{if(a.eventsSuspended){if(f=a.eventQueue){f.push([e,g])}return c}else {b=a.events&&a.events[e];if(b&&b!==!0){if((c=b.fire.apply(b,g))===!1){break}}}}while(h&&(a=a.getBubbleParent()));return c},getBubbleParent:function(){var b=this,a=b.getBubbleTarget&&b.getBubbleTarget();if(a&&a.isObservable){return a}return null},addListener:function(e,o,h,b,n,m){var c=this,l=Ext._namedScopes,g,f,j,i,k;if(typeof e!=='string'){b=e;h=b.scope;f=h&&l[h];j=f&&f.isSelf;k=(c.isComponent||c.isWidget)&&b.element?c.$elementEventOptions:c.$eventOptions;for(e in b){g=b[e];if(!k[e]){i=g.scope;if(i&&j){f=l[i];if(f&&f.isController){i='self.controller'}}c.doAddListener(e,g.fn||g,i||h,g.fn?g:b,n,m)}}if(b&&b.destroyable){return new a(c,b)}}else {c.doAddListener(e,o,h,b,n,m);if(b&&b.destroyable){return new a(c,e,o,h,b)}}return c},removeListener:function(a,h,g,f){var c=this,e,b;if(typeof a!=='string'){b=a;f=f||c.$eventOptions;for(a in b){if(b.hasOwnProperty(a)){e=b[a];if(!c.$eventOptions[a]){c.doRemoveListener(a,e.fn||e,e.scope||b.scope)}}}}else {c.doRemoveListener(a,h,g)}return c},onBefore:function(a,e,c,b){return this.addListener(a,e,c,b,'before')},onAfter:function(a,e,c,b){return this.addListener(a,e,c,b,'after')},unBefore:function(a,e,c,b){return this.removeListener(a,e,c,b,'before')},unAfter:function(a,e,c,b){return this.removeListener(a,e,c,b,'after')},addBeforeListener:function(){return this.onBefore.apply(this,arguments)},addAfterListener:function(){return this.onAfter.apply(this,arguments)},removeBeforeListener:function(){return this.unBefore.apply(this,arguments)},removeAfterListener:function(){return this.unAfter.apply(this,arguments)},clearListeners:function(){var c=this,a=c.events,f=c.hasListeners,e,b;if(a){for(b in a){if(a.hasOwnProperty(b)){e=a[b];if(e.isEvent){delete f[b];e.clearListeners()}}}c.events=null}c.clearManagedListeners()},clearManagedListeners:function(){var b=this,a=b.managedListeners,c,e;if(a){b.managedListeners=null;for(c=0,e=a.length;c<e;c++){b.removeManagedListenerItem(!0,a[c])}a.length=0}b.managedListeners=a},removeManagedListenerItem:function(b,a,g,f,e,c){if(b||a.item===g&&a.ename===f&&(!e||a.fn===e)&&(!c||a.scope===c)){if(!a.item.destroyed){a.item.doRemoveListener(a.ename,a.fn,a.scope,a.options)}if(!b){Ext.Array.remove(this.managedListeners,a)}}},hasListener:function(a){a=Ext.canonicalEventName(a);return !!this.hasListeners[a]},isSuspended:function(a){var b=this.eventsSuspended>0,c=this.events;if(!b&&a&&c){a=c[a];if(a&&a.isEvent){return a.isSuspended()}}return b},suspendEvents:function(a){++this.eventsSuspended;if(a&&!this.eventQueue){this.eventQueue=[]}},suspendEvent:function(){var e=this,f=e.events,g=arguments.length,c,b,a;for(c=0;c<g;c++){a=arguments[c];a=Ext.canonicalEventName(a);b=f[a];if(!b||!b.isEvent){b=e._initEvent(a)}b.suspend()}},resumeEvent:function(){var c=this.events||0,f=c&&arguments.length,b,a,e;for(b=0;b<f;b++){e=Ext.canonicalEventName(arguments[b]);a=c[e];if(a&&a.resume){a.resume()}}},resumeEvents:function(f){var a=this,c=a.eventQueue,e,b;if(a.eventsSuspended&&!--a.eventsSuspended){delete a.eventQueue;if(!f&&c){e=c.length;for(b=0;b<e;b++){a.fireEventArgs.apply(a,c[b])}}}},relayEvents:function(i,c,j){var g=this,k=c.length,b=0,f,h,e={};if(Ext.isObject(c)){for(b in c){h=c[b];e[b]=g.createRelayer(h)}}else {for(;b<k;b++){f=c[b];e[f]=g.createRelayer(j?j+f:f)}}g.mon(i,e,null,null,undefined);return new a(g,i,e)},createRelayer:function(e,a){var c=this;return function(){return c.fireEventArgs.call(c,e,a?b.apply(arguments,a):arguments)}},enableBubble:function(e){if(e){var f=this,h=typeof e==='string'?arguments:e,g=f.events,i=g&&h.length,a,b,c;for(c=0;c<i;++c){a=h[c];a=Ext.canonicalEventName(a);b=g[a];if(!b||!b.isEvent){b=f._initEvent(a)}f.hasListeners._incr_(a);b.bubble=!0}}},destroy:function(){this.clearListeners();this.callParent();this.destroyObservable(!0)},destroyObservable:function(c){var a=this,b=a.clearPropertiesOnDestroy;if(a.$observableDestroyed){return}if(!c){a.clearListeners()}if(a.destroyed){if(b){if(b===!0&&!a.$nulled){a.$reap()}if(!a.clearPrototypeOnDestroy){a.fireEvent=a.fireEventArgs=a.fireAction=a.fireEventedAction=Ext.emptyFn}a.events=a.managedListeners=a.eventedBeforeEventNames=null;a.$observableDestroyed=!0}}},privates:{doAddListener:function(c,l,g,a,h,m,i){var b=this,k=!1,f,j;h=h||a&&a.order;if(h){j=a&&a.priority;if(!j){a=a?Ext.Object.chain(a):{};a.priority=b.$orderToPriority[h]}}c=Ext.canonicalEventName(c);f=(b.events||(b.events={}))[c];if(!f||!f.isEvent){f=b._initEvent(c)}if(l!==e){if(!i&&(g&&g.isObservable&&g!==b)){i=g}if(f.addListener(l,g,a,m,i)){b.hasListeners._incr_(c);k=!0}}return k},doRemoveListener:function(a,h,g){var f=this,e=!1,c=f.events,b;a=Ext.canonicalEventName(a);b=c&&c[a];if(b&&b.isEvent){if(b.removeListener(h,g)){f.hasListeners._decr_(a);e=!0}}return e},_initEvent:function(a){return this.events[a]=new Ext.util.Event(this,a)}},deprecated:{'5.0':{methods:{addEvents:null}}}}},1,0,0,0,0,[[Ext.mixin.Identifiable.prototype.mixinId||Ext.mixin.Identifiable.$className,Ext.mixin.Identifiable]],[Ext.mixin,'Observable'],function(){var a=this,c=a.prototype,d=function(){},b=function(c){var d=c.prototype;if(!c.HasListeners){d.$observableMixedIn=1;a.prepareClass(c,this);c.onExtended(function(d,b){a.prepareClass(d,null,b)});if(d.onClassMixedIn){Ext.override(c,{onClassMixedIn:function(a){b.call(this,a);this.callParent(arguments)}})}else {d.onClassMixedIn=function(a){b.call(this,a)}}}e.call(this,c)},e=c.onClassMixedIn;d.prototype={_decr_:function(b,a){if(a==null){a=1}if(!(this[b]-=a)){delete this[b]}},_incr_:function(a){if(this.hasOwnProperty(a)){++this[a]}else {this[a]=1}}};c.HasListeners=a.HasListeners=d;a.createAlias({on:'addListener',un:'removeListener',mon:'addManagedListener',mun:'removeManagedListener',setListeners:'addListener'});a.observeClass=a.observe;function getMethodEvent(e){var a=(this.methodEvents=this.methodEvents||{})[e],c,b,d,f=this,g;if(!a){f.methodEvents[e]=a={};a.originalFn=f[e];a.methodName=e;a.before=[];a.after=[];g=function(g,a,h){a=a||f;if(typeof g==='string'){g=a[g]}if((b=g.apply(a,h))!==undefined){if(typeof b==='object'){if(b.returnValue!==undefined){c=b.returnValue}else {c=b}d=!!b.cancel}else if(b===!1){d=!0}else {c=b}}};f[e]=function(){var i=Array.prototype.slice.call(arguments,0),l=i.length,h,j,k;c=b=undefined;d=!1;for(j=0,k=a.before.length;j<k;j++){h=a.before[j];if(h.extraArgs){i.push.apply(i,h.extraArgs)}g(h.fn,h.scope,i);i.length=l;if(d||h.preventDefault){return c}}if((b=a.originalFn.apply(f,i))!==undefined){c=b}for(j=0,k=a.after.length;j<k;j++){h=a.after[j];if(h.extraArgs){i.push.apply(i,h.extraArgs)}g(h.fn,h.scope,i);i.length=l;if(d||h.preventDefault){return c}}return c}}return a}Ext.apply(c,{onClassMixedIn:b,beforeMethod:function(c,e,d,a,b){getMethodEvent.call(this,c).before.push({fn:e,scope:d,extraArgs:b,preventDefault:a})},afterMethod:function(c,e,d,a,b){getMethodEvent.call(this,c).after.push({fn:e,scope:d,extraArgs:b,preventDefault:a})},removeMethodListener:function(f,e,d){var b=getMethodEvent.call(this,f),a,c;for(a=0,c=b.before.length;a<c;a++){if(b.before[a].fn==e&&b.before[a].scope==d){Ext.Array.erase(b.before,a,1);return}}for(a=0,c=b.after.length;a<c;a++){if(b.after[a].fn==e&&b.after[a].scope==d){Ext.Array.erase(b.after,a,1);return}}},toggleEventLogging:function(a){Ext.util.Observable[a?'capture':'releaseCapture'](this,function(b){if(Ext.isDefined(Ext.global.console)){Ext.global.console.log(b,arguments)}})}})});Ext.cmd.derive('Ext.util.HashMap',Ext.Base,{generation:0,config:{keyFn:null},constructor:function(c){var a=this,b;a.mixins.observable.constructor.call(a,c);a.clear(!0);b=a.getKeyFn();if(b){a.getKey=b}},getCount:function(){return this.length},getData:function(b,a){if(a===undefined){a=b;b=this.getKey(a)}return [b,a]},getKey:function(a){return a.id},add:function(c,b){var a=this;if(arguments.length===1){b=c;c=a.getKey(b)}if(a.containsKey(c)){return a.replace(c,b)}a.map[c]=b;++a.length;a.generation++;if(a.hasListeners.add){a.fireEvent('add',a,c,b)}return b},replace:function(b,c){var a=this,d=a.map,e;if(arguments.length===1){c=b;b=a.getKey(c)}if(!a.containsKey(b)){a.add(b,c)}e=d[b];d[b]=c;a.generation++;if(a.hasListeners.replace){a.fireEvent('replace',a,b,c,e)}return c},remove:function(b){var a=this.findKey(b);if(a!==undefined){return this.removeAtKey(a)}return !1},removeAtKey:function(b){var a=this,c;if(a.containsKey(b)){c=a.map[b];delete a.map[b];--a.length;a.generation++;if(a.hasListeners.remove){a.fireEvent('remove',a,b,c)}return !0}return !1},get:function(a){var b=this.map;return b.hasOwnProperty(a)?b[a]:undefined},clear:function(b){var a=this;if(b||a.generation){a.map={};a.length=0;a.generation=b?0:a.generation+1}if(b!==!0&&a.hasListeners.clear){a.fireEvent('clear',a)}return a},containsKey:function(a){var b=this.map;return b.hasOwnProperty(a)&&b[a]!==undefined},contains:function(a){return this.containsKey(this.findKey(a))},getKeys:function(){return this.getArray(!0)},getValues:function(){return this.getArray(!1)},getArray:function(d){var c=[],a,b=this.map;for(a in b){if(b.hasOwnProperty(a)){c.push(d?a:b[a])}}return c},each:function(e,c){var b=Ext.apply({},this.map),a,d=this.length;c=c||this;for(a in b){if(b.hasOwnProperty(a)){if(e.call(c,a,b[a],d)===!1){break}}}return this},clone:function(){var a=new this.self(this.initialConfig),c=this.map,b;a.suspendEvents();for(b in c){if(c.hasOwnProperty(b)){a.add(b,c[b])}}a.resumeEvents();return a},findKey:function(c){var a,b=this.map;for(a in b){if(b.hasOwnProperty(a)&&b[a]===c){return a}}return undefined}},1,0,0,0,0,[[Ext.mixin.Observable.prototype.mixinId||Ext.mixin.Observable.$className,Ext.mixin.Observable]],[Ext.util,'HashMap'],function(b){var a=b.prototype;a.removeByKey=a.removeAtKey});Ext.cmd.derive('Ext.promise.Consequence',Ext.Base,function(a){return {promise:null,deferred:null,onFulfilled:null,onRejected:null,onProgress:null,constructor:function(c,e,d){var b=this;b.onFulfilled=c;b.onRejected=e;b.onProgress=d;b.deferred=new Ext.promise.Deferred();b.promise=b.deferred.promise},trigger:function(e,d){var b=this,c=b.deferred;switch(e){case 'fulfill':b.propagate(d,b.onFulfilled,c,c.resolve);break;case 'reject':b.propagate(d,b.onRejected,c,c.reject);break;}},update:function(b){if(Ext.isFunction(this.onProgress)){b=this.onProgress(b)}this.deferred.update(b)},propagate:function(d,b,c,e){if(Ext.isFunction(b)){this.schedule(function(){try{c.resolve(b(d))}catch(f){c.reject(f)}})}else {e.call(this.deferred,d)}},schedule:function(c){var b=a.queueSize++;a.queue[b]=c;if(!b){Ext.asap(a.dispatch)}},statics:{queue:new Array(10000),queueSize:0,dispatch:function(){var c=a.queue,d,b;for(b=0;b<a.queueSize;++b){d=c[b];c[b]=null;d()}a.queueSize=0}}}},1,0,0,0,0,0,[Ext.promise,'Consequence'],0);Ext.cmd.derive('Ext.promise.Deferred',Ext.Base,{promise:null,consequences:[],completed:!1,completionAction:null,completionValue:null,constructor:function(){var a=this;a.promise=new Ext.promise.Promise(a);a.consequences=[];a.completed=!1;a.completionAction=null;a.completionValue=null},then:function(c,e,d){var a=this,b=new Ext.promise.Consequence(c,e,d);if(a.completed){b.trigger(a.completionAction,a.completionValue)}else {a.consequences.push(b)}return b.promise},resolve:function(a){var b=this,c,d;if(b.completed){return}try{if(a===b.promise){throw new TypeError('A Promise cannot be resolved with itself.')}if(a!=null&&(typeof a==='object'||Ext.isFunction(a))&&Ext.isFunction(d=a.then)){c=!1;try{d.call(a,function(d){if(!c){c=!0;b.resolve(d)}},function(d){if(!c){c=!0;b.reject(d)}})}catch(e){if(!c){b.reject(e)}}}else {b.complete('fulfill',a)}}catch(f){b.reject(f)}},reject:function(a){if(this.completed){return}this.complete('reject',a)},update:function(e){var b=this.consequences,c,a,d;if(this.completed){return}for(a=0,d=b.length;a<d;a++){c=b[a];c.update(e)}},complete:function(f,g){var a=this,c=a.consequences,d,b,e;a.completionAction=f;a.completionValue=g;a.completed=!0;for(b=0,e=c.length;b<e;b++){d=c[b];d.trigger(a.completionAction,a.completionValue)}a.consequences=null}},1,0,0,0,0,0,[Ext.promise,'Deferred'],0);Ext.cmd.derive('Ext.promise.Promise',Ext.Base,function(a){var b;return {statics:{CancellationError:Ext.global.CancellationError||Error,_ready:function(){b=Ext.promise.Deferred},all:function(c){return a.when(c).then(function(f){var g=new b(),e=f.length,h=new Array(e),d,j,k,i,l;if(!e){g.resolve(h)}else {k=function(d,b){return a.when(d).then(function(i){h[b]=i;if(!--e){g.resolve(h)}return i},function(e){return g.reject(e)})};for(d=i=0,l=f.length;i<l;d=++i){j=f[d];if(d in f){k(j,d)}else {e--}}}return g.promise})},is:function(b){return b!=null&&(typeof b==='object'||Ext.isFunction(b))&&Ext.isFunction(b.then)},race:function(e){var d=new b(),f=e.length,c;for(c=0;c<f;++c){d.resolve(e[c])}return d.promise},rethrowError:function(b){Ext.asap(function(){throw b})},when:function(d){var c=new b();c.resolve(d);return c.promise}},owner:null,constructor:function(b){this.owner=b},then:function(b,d,c,e){var f;if(arguments.length===1&&Ext.isObject(arguments[0])){f=arguments[0];b=f.success;d=f.failure;c=f.progress;e=f.scope}if(e){if(b){b=b.bind(e)}if(d){d=d.bind(e)}if(c){c=c.bind(e)}}return this.owner.then(b,d,c)},'catch':function(b,c){var d;if(arguments.length===1&&Ext.isObject(arguments[0])){d=arguments[0];b=d.fn;c=d.scope}if(c!=null){b=b.bind(c)}return this.owner.then(null,b)},otherwise:function(b,c){return this['catch'].apply(this,arguments)},always:function(b,c){var d;if(arguments.length===1&&Ext.isObject(arguments[0])){d=arguments[0];b=d.fn;c=d.scope}if(c!=null){b=b.bind(c)}return this.owner.then(function(d){try{b()}catch(e){a.rethrowError(e)}return d},function(d){try{b()}catch(e){a.rethrowError(e)}throw d})},done:function(){this.owner.then(null,a.rethrowError)},cancel:function(b){if(b==null){b=null}this.owner.reject(new this.self.CancellationError(b))},log:function(b){if(b==null){b=''}return this.owner.then(function(c){Ext.log(''+(b||'Promise')+' resolved with value: '+c);return c},function(c){Ext.log(''+(b||'Promise')+' rejected with reason: '+c);throw c})}}},1,0,0,0,0,0,[Ext.promise,'Promise'],function(a){a._ready()});Ext.cmd.derive('Ext.Promise',Ext.Base,function(){var a;return {statics:{_ready:function(){a=Ext.promise.Promise},all:function(){return a.all.apply(a,arguments)},race:function(){return a.race.apply(a,arguments)},reject:function(b){var a=new Ext.promise.Deferred();a.reject(b);return a.promise},resolve:function(b){var a=new Ext.promise.Deferred();a.resolve(b);return a.promise}},constructor:function(b){var a=new Ext.promise.Deferred();b(a.resolve.bind(a),a.reject.bind(a));return a.promise}}},1,0,0,0,0,0,[Ext,'Promise'],function(b){var a=Ext.global.Promise;if(a&&a.resolve&&!Ext.useExtPromises){Ext.Promise=a}else {b._ready()}});Ext.cmd.derive('Ext.Deferred',Ext.promise.Deferred,function(a){var b,c,d,e;return {statics:{_ready:function(){b=Ext.promise.Promise;e=Ext.Promise.resolve},all:function(){return b.all.apply(b,arguments)},any:function(b){return a.some(b,1).then(function(c){return c[0]},function(c){if(c instanceof Error&&c.message==='Too few Promises were resolved.'){Ext.raise('No Promises were resolved.')}else {throw c}})},delay:function(d,c){var b;if(arguments.length===1){c=d;d=undefined}c=Math.max(c,1);b=new a();b.timeoutId=Ext.defer(function(){delete b.timeoutId;b.resolve(d)},c);return b.promise},getCachedRejected:function(){if(!c){c=Ext.Promise.reject()}return c},getCachedResolved:function(){if(!d){d=Ext.Promise.resolve()}return d},map:function(b,c){return a.resolved(b).then(function(d){var e,g,j,h,k,f,i,l;h=d.length;f=new Array(d.length);e=new a();if(!h){e.resolve(f)}else {k=function(i,g){return a.resolved(i).then(function(e){return c(e,g,f)}).then(function(j){f[g]=j;if(!--h){e.resolve(f)}return j},function(f){return e.reject(f)})};for(g=i=0,l=d.length;i<l;g=++i){j=d[g];if(g in d){k(j,g)}else {h--}}}return e.promise})},memoize:function(e,b,d){var c=Ext.Function.memoize(e,b,d);return function(){return a.all(Ext.Array.slice(arguments)).then(function(f){return c.apply(b,f)})}},parallel:function(d,b){var c;if(b==null){b=null}c=Ext.Array.slice(arguments,2);return a.map(d,function(e){if(!Ext.isFunction(e)){throw new Error('Invalid parameter: expected a function.')}return e.apply(b,c)})},pipeline:function(d,c,b){if(b==null){b=null}return a.reduce(d,function(f,e){if(!Ext.isFunction(e)){throw new Error('Invalid parameter: expected a function.')}return e.call(b,f)},c)},race:function(){return b.race.apply(b,arguments)},reduce:function(e,d,c){var b;b=arguments.length===3;return a.resolved(e).then(function(f){var g=[f,function(b,g,h){return a.resolved(b).then(function(i){return a.resolved(g).then(function(j){return d(i,j,h,f)})})}];if(b){g.push(c)}return Ext.Array.reduce.apply(Ext.Array,g)})},rejected:function(c){var b=new Ext.Deferred();b.reject(c);return b.promise},resolved:function(c){var b=new Ext.Deferred();b.resolve(c);return b.promise},sequence:function(d,b){var c;if(b==null){b=null}c=Ext.Array.slice(arguments,2);return a.reduce(d,function(e,f){if(!Ext.isFunction(f)){throw new Error('Invalid parameter: expected a function.')}return a.resolved(f.apply(b,c)).then(function(c){e.push(c);return e})},[])},some:function(c,b){return a.resolved(c).then(function(e){var f,g,m,l,k,h,d,i,j,n;i=[];d=b;h=e.length-d+1;f=new a();if(e.length<b){f.reject(new Error('Too few Promises were resolved.'))}else {l=function(g){if(d>0){i.push(g)}d--;if(d===0){f.resolve(i)}return g};m=function(d){h--;if(h===0){f.reject(new Error('Too few Promises were resolved.'))}return d};for(g=j=0,n=e.length;j<n;g=++j){k=e[g];if(g in e){a.resolved(k).then(l,m)}}}return f.promise})},timeout:function(d,e){var c=new a(),b;b=Ext.defer(function(){if(b){c.reject(new Error('Promise timed out.'))}},e);a.resolved(d).then(function(f){Ext.undefer(b);b=null;c.resolve(f)},function(f){Ext.undefer(b);b=null;c.reject(f)});return c.promise}}}},0,0,0,0,0,0,[Ext,'Deferred'],function(a){a._ready()});Ext.Factory=function(b){var a=this;a.aliasPrefix=b+'.';a.cache={};a.name=b.replace(a.fixNameRe,a.fixNameFn);a.type=b;a.creator='create'+Ext.String.capitalize(a.name)};Ext.Factory.prototype={defaultProperty:'type',instanceProp:'isInstance',typeProperty:'type',create:function(a,f){var e=this,g=Ext.ClassManager,j=e.cache,i=e.typeProperty,h,d,b,c;if(a){if(a[e.instanceProp]){return a}if(typeof a==='string'){c=a;a={};a[e.defaultProperty]=c}d=a.xclass;c=a[i]}if(f&&f.constructor===Object){a=Ext.apply({},a,f);f=f[i]}if(d){if(!(b=g.get(d))){return g.instantiate(d,a)}}else {if(!(c=c||f||e.defaultType)){b=e.defaultClass}if(!b&&!(b=j[c])){h=e.aliasPrefix+c;d=g.getNameByAlias(h);if(!(b=d&&g.get(d))){return g.instantiateByAlias(h,a)}j[c]=b}}return b.isInstance?b:new b(a)},fixNameRe:/\.[a-z]/ig,fixNameFn:function(a){return a.substring(1).toUpperCase()},clearCache:function(){this.cache={};this.instanceCache={}},hook:function(c){var a=this,b=a.create;a.create=function(f,e){var d=c.call(a,b,f,e);if(d===undefined){d=b.call(a,f,e)}return d}},update:function(c,a,h,g,j){var f=this,d,e,i,b;if(!a||a.isInstance){if(c&&c!==a){c.destroy()}return a}if(typeof a==='string'){b=a;a={};a[f.defaultProperty]=b}if(c){if(a===!0){return c}if(!(b=a.xclass)){if(!(b=a.xtype)){b=a[f.typeProperty];if(b){b=f.aliasPrefix+b;d=c.self.prototype;if(d.hasOwnProperty('alias')){d=d.alias;if(d){i=d===b||d.indexOf(b)>-1}}}}else {i=c.isXType(b,!0)}}else {i=c.$className===b}if(i){c.setConfig(a);return c}c.destroy()}if(a===!0){a={}}if(h){if(j){e=Ext.Config.map[j];e=h[e.names.get]();if(e){a=Ext.merge(Ext.clone(e),a)}}g=g||f.creator;if(h[g]){a=h[g](a)}}return f.create(a)}};Ext.Factory.define=function(e,b){var d=Ext.Factory,g=b&&b.cacheable,f,a,c;if(e.constructor===Object){Ext.Object.each(e,d.define,d)}else {a=new Ext.Factory(e);if(b){if(b.constructor===Object){Ext.apply(a,b);if(typeof (f=a.xclass)==='string'){a.defaultClass=Ext.ClassManager.get(f)}}else {a.defaultType=b}}d[a.name]=c=function(d,c){return a.create(d,c)};if(g){a.instanceCache={};a.hook(function(g,c,f){var d=this.instanceCache,a;if(typeof c==='string'&&!(a=d[c])){a=g.call(this,c,f);if(a.cacheable!==!1){d[c]=a}}return a})}c.instance=a;c.update=function(f,h,g,d,c){return a.update(f,h,g,d,c)}}return c};Ext.Factory.clearCaches=function(){var b=Ext.Factory,c,a;for(c in b){a=b[c];a=a.instance;if(a){a.clearCache()}}};Ext.Factory.on=function(a,b){Ext.Factory[a].instance.hook(b)};Ext.cmd.derive('Ext.mixin.Factoryable',Ext.Base,{mixinId:'factoryable',onClassMixedIn:function(c){var d=c.prototype,f=d.factoryConfig,a=d.alias,b={},e,g;a=a&&a.length&&a[0];if(a&&(e=a.lastIndexOf('.'))>0){b.type=a.substring(0,e);b.defaultType=a.substring(e+1)}if(f){delete d.factoryConfig;Ext.apply(b,f)}g=Ext.Factory.define(b.type,b);if(c.create===Ext.Base.create){c.create=g}}},0,0,0,0,0,0,[Ext.mixin,'Factoryable'],0);Ext.cmd.derive('Ext.data.request.Base',Ext.Base,{factoryConfig:{type:'request',defaultType:'ajax'},result:null,success:null,timer:null,constructor:function(a){var b=this;Ext.apply(b,a.options||{},a.ownerConfig);b.id=++Ext.data.Connection.requestId;b.owner=a.owner;b.options=a.options;b.requestOptions=a.requestOptions},start:function(){var a=this,b=a.getTimeout();if(b&&a.async){a.timer=Ext.defer(a.onTimeout,b,a)}},abort:function(){var a=this;a.clearTimer();if(!a.timedout){a.aborted=!0}a.abort=Ext.emptyFn},createDeferred:function(){var a=this,c=a.result,b=new Ext.Deferred();if(a.completed){if(a.success){b.resolve(c)}else {b.reject(c)}}a.deferred=b;return b},getDeferred:function(){return this.deferred||this.createDeferred()},getPromise:function(){return this.getDeferred().promise},then:function(){var a=this.getPromise();return a.then.apply(a,arguments)},onComplete:function(){var a=this,b=a.deferred,c=a.result;a.clearTimer();if(b){if(a.success){b.resolve(c)}else {b.reject(c)}}a.completed=!0},onTimeout:function(){var a=this;a.timedout=!0;a.timer=null;a.abort(!0)},getTimeout:function(){return this.timeout},clearTimer:function(){this.timer=Ext.undefer(this.timer)},destroy:function(){var a=this;a.abort();a.owner=a.options=a.requestOptions=a.result=null;a.callParent()},privates:{createException:function(){var a=this,b;b={request:a,requestId:a.id,status:a.aborted?-1:0,statusText:a.aborted?'transaction aborted':'communication failure',getResponseHeader:a._getHeader,getAllResponseHeaders:a._getHeaders};if(a.aborted){b.aborted=!0}if(a.timedout){b.timedout=!0}return b},_getHeader:function(b){var a=this.headers;return a&&a[b.toLowerCase()]},_getHeaders:function(){return this.headers}}},1,0,0,0,0,[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.data.request,'Base'],0);Ext.cmd.derive('Ext.data.flash.BinaryXhr',Ext.Base,{statics:{flashPluginActivated:function(){Ext.data.flash.BinaryXhr.flashPluginActive=!0;Ext.data.flash.BinaryXhr.flashPlugin=document.getElementById('ext-flash-polyfill');Ext.GlobalEvents.fireEvent('flashready')},flashPluginActive:!1,flashPluginInjected:!1,connectionIndex:1,liveConnections:{},flashPlugin:null,onFlashStateChange:function(b,c,d){var a;a=this.liveConnections[Number(b)];if(a){a.onFlashStateChange(c,d)}},registerConnection:function(b){var a=this.connectionIndex;this.conectionIndex=this.connectionIndex+1;this.liveConnections[a]=b;return a},injectFlashPlugin:function(){var c=this,b,a;c.flashPolyfillEl=Ext.getBody().appendChild({id:'ext-flash-polyfill',cn:[{tag:'p',html:'To view this page ensure that Adobe Flash Player version 11.1.0 or greater is installed.'},{tag:'a',href:'http://www.adobe.com/go/getflashplayer',cn:[{tag:'img',src:window.location.protocol+'//www.adobe.com/images/shared/download_buttons/get_flash_player.gif',alt:'Get Adobe Flash player'}]}]});b=[Ext.Loader.getPath('Ext.data.Connection'),'../../../plugins/flash/swfobject.js'].join('/');a='/plugins/flash/FlashPlugin.swf';if(Ext.flashPluginPath){a=Ext.flashPluginPath}Ext.Loader.loadScript({url:b,onLoad:function(){var d='11.4.0',e='playerProductInstall.swf',f={},b={},c={};b.quality='high';b.bgcolor='#ffffff';b.allowscriptaccess='sameDomain';b.allowfullscreen='true';c.id='ext-flash-polyfill';c.name='polyfill';c.align='middle';swfobject.embedSWF(a,'ext-flash-polyfill','0','0',d,e,f,b,c)},onError:function(){},scope:c});Ext.data.flash.BinaryXhr.flashPluginInjected=!0}},readyState:0,status:0,statusText:'',responseBytes:null,javascriptId:null,constructor:function(b){var a=this;if(!Ext.data.flash.BinaryXhr.flashPluginInjected){Ext.data.flash.BinaryXhr.injectFlashPlugin()}Ext.apply(a,b);a.requestHeaders={}},abort:function(){var a=this;if(a.readyState===4){return}a.aborted=!0;if(!Ext.data.flash.BinaryXhr.flashPluginActive){Ext.GlobalEvents.removeListener('flashready',a.onFlashReady,a);return}Ext.data.flash.BinaryXhr.flashPlugin.abortRequest(a.javascriptId);delete Ext.data.flash.BinaryXhr.liveConnections[a.javascriptId]},getAllResponseHeaders:function(){var a=[];Ext.Object.each(this.responseHeaders,function(c,b){a.push(c+': '+b)});return a.join('\r\n')},getResponseHeader:function(b){var a=this.responseHeaders;return a&&a[b]||null},open:function(d,f,c,e,b){var a=this;a.method=d;a.url=f;a.async=c!==!1;a.user=e;a.password=b},overrideMimeType:function(a){this.mimeType=a},send:function(b){var a=this;a.body=b;if(!Ext.data.flash.BinaryXhr.flashPluginActive){Ext.GlobalEvents.addListener('flashready',a.onFlashReady,a)}else {this.onFlashReady()}},onFlashReady:function(){var a=this,b;a.javascriptId=Ext.data.flash.BinaryXhr.registerConnection(a);b={method:a.method,url:a.url,user:a.user,password:a.password,mimeType:a.mimeType,requestHeaders:a.requestHeaders,body:a.body,javascriptId:a.javascriptId};Ext.data.flash.BinaryXhr.flashPlugin.postBinary(b)},setReadyState:function(b){var a=this;if(a.readyState!==b){a.readyState=b;a.onreadystatechange()}},setRequestHeader:function(a,b){this.requestHeaders[a]=b},onreadystatechange:Ext.emptyFn,parseData:function(a){var b=this;this.status=a.status||0;b.responseHeaders={};if(b.mimeType){b.responseHeaders['content-type']=b.mimeType}if(a.reason==='complete'){this.responseBytes=a.data;b.responseHeaders['content-length']=a.data.length}else if(a.reason==='error'||a.reason==='securityError'){this.statusText=a.text;b.responseHeaders['content-length']=0}},onFlashStateChange:function(b,c){var a=this;if(b===4){a.parseData(c);delete Ext.data.flash.BinaryXhr.liveConnections[a.javascriptId]}a.setReadyState(b)}},1,0,0,0,0,0,[Ext.data.flash,'BinaryXhr'],0);Ext.cmd.derive('Ext.data.request.Ajax',Ext.data.request.Base,{statics:{parseStatus:function(a,c){var b,d,f,e;if(c){b=c.responseType;if(b==='arraybuffer'){d=c.byteLength}else if(b==='blob'){d=c.response.size}else if((b==='json'||b==='document')&&c.response){d=0}else if((b==='text'||b===''||!b)&&c.responseText){d=c.responseText.length}}a=a===1223?204:a;e=!1;f=a>=200&&a<300||a===304||a===0&&Ext.isNumber(d);if(!f){switch(a){case 12002:case 12029:case 12030:case 12031:case 12152:case 13030:e=!0;break;}}return {success:f,isException:e}}},start:function(f){var a=this,e=a.options,c=a.requestOptions,d=a.isXdr,b;b=a.xhr=a.openRequest(e,c,a.async,a.username,a.password);if(!d){a.setupHeaders(b,e,c.data,c.params)}if(a.async){if(!d){b.onreadystatechange=a.bindStateChange()}}if(d){a.processXdrRequest(a,b)}Ext.data.request.Base.prototype.start.call(this,f);b.send(f);if(!a.async){return a.onComplete()}return a},abort:function(c){var a=this,b=a.xhr;if(c||a.isLoading()){try{b.onreadystatechange=null}catch(d){b.onreadystatechange=Ext.emptyFn}b.abort();Ext.data.request.Base.prototype.abort.call(this,c);a.onComplete();a.cleanup()}},cleanup:function(){this.xhr=null;delete this.xhr},isLoading:function(){var c=this,a=c.xhr,b=a&&a.readyState,d=Ext.data.flash&&Ext.data.flash.BinaryXhr;if(!a||c.aborted||c.timedout){return !1}if(d&&a instanceof d){return b!==4}return b!==0&&b!==4},openRequest:function(c,b,f,e,g){var d=this,a=d.newRequest(c);if(e){a.open(b.method,b.url,f,e,g)}else {if(d.isXdr){a.open(b.method,b.url)}else {a.open(b.method,b.url,f)}}if(c.binary||d.binary){if(window.Uint8Array){a.responseType='arraybuffer'}else if(a.overrideMimeType){a.overrideMimeType('text/plain; charset=x-user-defined')}}if(c.responseType){a.responseType=c.responseType}if(c.withCredentials||d.withCredentials){a.withCredentials=!0}return a},newRequest:function(c){var a=this,b;if(c.binaryData){if(window.Uint8Array){b=a.getXhrInstance()}else {b=new Ext.data.flash.BinaryXhr()}}else if(a.cors&&Ext.isIE9m){b=a.getXdrInstance();a.isXdr=!0}else {b=a.getXhrInstance();a.isXdr=!1}return b},setupHeaders:function(m,f,j,l){var d=this,a=Ext.apply({},f.headers||{},d.defaultHeaders),e=d.defaultPostHeader,h=f.jsonData,i=f.xmlData,b='Content-Type',k=d.useDefaultXhrHeader,c,g;if(!a.hasOwnProperty(b)&&(j||l)){if(j){if(f.rawData){e='text/plain'}else {if(i&&Ext.isDefined(i)){e='text/xml'}else if(h&&Ext.isDefined(h)){e='application/json'}}}a[b]=e}if(k&&!a['X-Requested-With']){a['X-Requested-With']=d.defaultXhrHeader}if(a[b]===undefined||a[b]===null){delete a[b]}try{for(c in a){if(a.hasOwnProperty(c)){g=a[c];m.setRequestHeader(c,g)}}}catch(n){d.owner.fireEvent('exception',c,g)}return a},getXdrInstance:function(){var a;if(Ext.ieVersion>=8){a=new XDomainRequest()}else {Ext.raise({msg:'Your browser does not support CORS'})}return a},getXhrInstance:function(){return new XMLHttpRequest()},processXdrRequest:function(a,b){var c=this;delete a.headers;a.contentType=a.options.contentType||c.defaultXdrContentType;b.onload=c.bindStateChange(!0);b.onerror=b.ontimeout=c.bindStateChange(!1)},processXdrResponse:function(a,b){a.getAllResponseHeaders=function(){return []};a.getResponseHeader=function(){return ''};a.contentType=b.contentType||this.defaultXdrContentType},bindStateChange:function(a){var b=this;return function(){Ext.elevate(function(){b.onStateChange(a)})}},onStateChange:function(c){var a=this,b=a.xhr;if(b&&b.readyState===4||a.isXdr){a.clearTimer();a.onComplete(c);a.cleanup()}},onComplete:function(h){var b=this,d=b.owner,a=b.options,e=b.xhr,i={success:!1,isException:!1},f,g,c;if(!e||b.destroyed){return b.result=i}try{f=Ext.data.request.Ajax.parseStatus(e.status,e);if(f.success){f.success=e.readyState===4}}catch(j){f=i}g=b.success=b.isXdr?h:f.success;if(g){c=b.createResponse(e);if(d.hasListeners.requestcomplete){d.fireEvent('requestcomplete',d,c,a)}if(a.success){Ext.callback(a.success,a.scope,[c,a])}}else {if(f.isException||b.aborted||b.timedout){c=b.createException(e)}else {c=b.createResponse(e)}if(d.hasListeners.requestexception){d.fireEvent('requestexception',d,c,a)}if(a.failure){Ext.callback(a.failure,a.scope,[c,a])}}b.result=c;if(a.callback){Ext.callback(a.callback,a.scope,[a,g,c])}d.onRequestComplete(b);Ext.data.request.Base.prototype.onComplete.call(this,h);return c},createResponse:function(a){var d=this,h=d.isXdr,f={},i=h?[]:a.getAllResponseHeaders().replace(/\r\n/g,'\n').split('\n'),g=i.length,e,c,j,b;while(g--){e=i[g];c=e.indexOf(':');if(c>=0){j=e.substr(0,c).toLowerCase();if(e.charAt(c+1)===' '){++c}f[j]=e.substr(c+1)}}b={request:d,requestId:d.id,status:a.status,statusText:a.statusText,getResponseHeader:function(b){return f[b.toLowerCase()]},getAllResponseHeaders:function(){return f}};if(h){d.processXdrResponse(b,a)}if(d.binary){b.responseBytes=d.getByteArray(a)}else {if(a.responseType){b.responseType=a.responseType}if(a.responseType==='blob'){b.responseBlob=a.response}else if(a.responseType==='json'){b.responseJson=a.response}else if(a.responseType==='document'){b.responseXML=a.response}else {b.responseText=a.responseText;b.responseXML=a.responseXML}}return b},destroy:function(){this.xhr=null;Ext.data.request.Base.prototype.destroy.call(this)},privates:{getByteArray:function(b){var e=b.response,g=b.responseBody,h=Ext.data.flash&&Ext.data.flash.BinaryXhr,a,d,f,c;if(b instanceof h){a=b.responseBytes}else if(window.Uint8Array){a=e?new Uint8Array(e):[]}else if(Ext.isIE9p){try{a=(new VBArray(g)).toArray()}catch(i){a=[]}}else if(Ext.isIE){if(!this.self.vbScriptInjected){this.injectVBScript()}getIEByteArray(b.responseBody,a=[])}else {a=[];d=b.responseText;f=d.length;for(c=0;c<f;c++){a.push(d.charCodeAt(c)&255)}}return a},injectVBScript:function(){var a=document.createElement('script');a.type='text/vbscript';a.text=['Function getIEByteArray(byteArray, out)','Dim len, i','len = LenB(byteArray)','For i = 1 to len','out.push(AscB(MidB(byteArray, i, 1)))','Next','End Function'].join('\n');Ext.getHead().dom.appendChild(a);this.self.vbScriptInjected=!0}}},0,0,0,0,['request.ajax'],0,[Ext.data.request,'Ajax'],0);Ext.cmd.derive('Ext.data.request.Form',Ext.data.request.Base,{start:function(d){var a=this,c=a.options,b=a.requestOptions;Ext.data.request.Base.prototype.start.call(this,d);a.form=a.upload(c.form,b.url,b.data,c);return a},abort:function(c){var b=this,a;if(b.isLoading()){try{a=b.frame.dom;if(a.stop){a.stop()}else {a.document.execCommand('Stop')}}catch(d){}}Ext.data.request.Base.prototype.abort.call(this,c);b.onComplete();b.cleanup()},cleanup:function(){var a=this,b=a.frame;if(b){b.un('load',a.onComplete,a);Ext.removeNode(b)}a.frame=a.form=null},isLoading:function(){return !!this.frame},upload:function(a,s,o,n){a=Ext.getDom(a);n=n||{};var m=document.createElement('iframe'),e=Ext.get(m),g=e.id,j=[],l='multipart/form-data',r={target:a.target,method:a.method,encoding:a.encoding,enctype:a.enctype,action:a.action},k=function(c,b){d=document.createElement('input');Ext.fly(d).set({type:'hidden',value:b,name:c});a.appendChild(d);j.push(d)},d,f,b,c,q,i,p,h;e.set({name:g,cls:'x-hidden-display',src:Ext.SSL_SECURE_URL,tabIndex:-1});document.body.appendChild(m);document.body.appendChild(a);if(document.frames){document.frames[g].name=g}Ext.fly(a).set({target:g,method:'POST',enctype:l,encoding:l,action:s||r.action});if(o){f=Ext.Object.fromQueryString(o)||{};for(c in f){if(f.hasOwnProperty(c)){b=f[c];if(Ext.isArray(b)){q=b.length;for(i=0;i<q;i++){k(c,b[i])}}else {k(c,b)}}}}this.frame=e;e.on({load:this.onComplete,scope:this,single:!Ext.isOpera});a.submit();document.body.removeChild(a);Ext.fly(a).set(r);for(p=j.length,h=0;h<p;h++){Ext.removeNode(j[h])}return a},getDoc:function(){var a=this.frame.dom;return a&&(a.contentWindow.document||a.contentDocument)||(window.frames[a.id]||{}).document},getTimeout:function(){return this.options.timeout},onComplete:function(){var b=this,h=b.frame,i=b.owner,d=b.options,g,c,f,e,a;if(!h){return}if(b.aborted||b.timedout){b.result=a=b.createException();a.responseXML=null;a.responseText=Ext.encode({success:!1,message:Ext.String.trim(a.statusText)});a.request=b;g=d.failure;f=!1}else {try{c=b.getDoc();b.result=a={responseText:'',responseXML:null,request:b};if(c){if(Ext.isOpera&&c.location===Ext.SSL_SECURE_URL){return}if(c.body){if((e=c.body.firstChild)&&/pre/i.test(e.tagName)){a.responseText=e.textContent||e.innerText}else if(e=c.getElementsByTagName('textarea')[0]){a.responseText=e.value}else {a.responseText=c.body.textContent||c.body.innerText}}a.responseXML=c.XMLDocument||c;g=d.success;f=!0;a.status=200}else {Ext.raise('Could not acquire a suitable connection for the file upload service.')}}catch(j){b.result=a=b.createException();a.status=400;a.statusText=(j.message||j.description)+'';a.responseText=Ext.encode({success:!1,message:Ext.String.trim(a.statusText)});a.responseXML=null;g=d.failure;f=!1}}b.frame=null;b.success=f;i.fireEvent(f?'requestcomplete':'requestexception',i,a,d);Ext.callback(g,d.scope,[a,d]);Ext.callback(d.callback,d.scope,[d,f,a]);i.onRequestComplete(b);Ext.asap(h.destroy,h);Ext.data.request.Base.prototype.onComplete.call(this)},destroy:function(){this.cleanup();Ext.data.request.Base.prototype.destroy.call(this)}},0,0,0,0,['request.form'],0,[Ext.data.request,'Form'],0);Ext.cmd.derive('Ext.data.Connection',Ext.Base,{statics:{requestId:0},enctypeRe:/multipart\/form-data/i,config:{url:null,async:!0,username:'',password:'',disableCaching:!0,withCredentials:!1,binary:!1,cors:!1,isXdr:!1,defaultXdrContentType:'text/plain',disableCachingParam:'_dc',timeout:30000,extraParams:null,autoAbort:!1,method:null,defaultHeaders:null,defaultPostHeader:'application/x-www-form-urlencoded; charset=UTF-8',useDefaultXhrHeader:!0,defaultXhrHeader:'XMLHttpRequest'},constructor:function(a){this.mixins.observable.constructor.call(this,a);this.requests={}},request:function(a){var c=this,d,b;a=a||{};if(c.fireEvent('beforerequest',c,a)!==!1){d=c.setOptions(a,a.scope||Ext.global);b=c.createRequest(a,d);return b.start(d.data)}b={status:-1,statusText:'Request cancelled in beforerequest event handler'};Ext.callback(a.callback,a.scope,[a,!1,b]);return Ext.Deferred.rejected([a,!1,b])},createRequest:function(c,e){var a=this,d=c.type||e.type,b;if(!d){d=a.isFormUpload(c)?'form':'ajax'}if(c.autoAbort||a.getAutoAbort()){a.abort()}b=Ext.Factory.request({type:d,owner:a,options:c,requestOptions:e,ownerConfig:a.getConfig()});a.requests[b.id]=b;a.latestId=b.id;return b},isFormUpload:function(a){var b=this.getForm(a);if(b){return a.isUpload||this.enctypeRe.test(b.getAttribute('enctype'))}return !1},getForm:function(a){return Ext.getDom(a.form)},setOptions:function(a,k){var e=this,b=a.params||{},g=e.getExtraParams(),f=a.urlParams,c=a.url||e.getUrl(),l=a.cors,i=a.jsonData,h,j,d;if(l!==undefined){e.setCors(l)}if(Ext.isFunction(b)){b=b.call(k,a)}if(Ext.isFunction(c)){c=c.call(k,a)}c=this.setupUrl(a,c);d=a.rawData||a.binaryData||a.xmlData||i||null;if(i&&!Ext.isPrimitive(i)){d=Ext.encode(d)}if(a.binaryData){if(e.nativeBinaryPostSupport()){d=new Uint8Array(a.binaryData);if(Ext.isChrome&&Ext.chromeVersion<22||Ext.isSafari||Ext.isGecko){d=d.buffer}}}if(Ext.isObject(b)){b=Ext.Object.toQueryString(b)}if(Ext.isObject(g)){g=Ext.Object.toQueryString(g)}b=b+(g?(b?'&':'')+g:'');f=Ext.isObject(f)?Ext.Object.toQueryString(f):f;b=this.setupParams(a,b);h=(a.method||e.getMethod()||(b||d?'POST':'GET')).toUpperCase();this.setupMethod(a,h);j=a.disableCaching!==!1?a.disableCaching||e.getDisableCaching():!1;if(h==='GET'&&j){c=Ext.urlAppend(c,(a.disableCachingParam||e.getDisableCachingParam())+'='+(new Date()).getTime())}if((h==='GET'||d)&&b){c=Ext.urlAppend(c,b);b=null}if(f){c=Ext.urlAppend(c,f)}return {url:c,method:h,data:d||b||null}},setupUrl:function(c,a){var b=this.getForm(c);if(b){a=a||b.action}return a},setupParams:function(c,a){var d=this.getForm(c),b;if(d&&!this.isFormUpload(c)){b=Ext.Element.serializeForm(d);a=a?a+'&'+b:b}return a},setupMethod:function(a,b){if(this.isFormUpload(a)){return 'POST'}return b},isLoading:function(a){if(!a){a=this.getLatest()}return a?a.isLoading():!1},abort:function(a){if(!a){a=this.getLatest()}if(a&&a.isLoading()){a.abort()}},abortAll:function(){var a=this.requests,b;for(b in a){this.abort(a[b])}},getLatest:function(){var b=this.latestId,a;if(b){a=this.requests[b]}return a||null},clearTimeout:function(a){if(!a){a=this.getLatest()}if(a){a.clearTimer()}},onRequestComplete:function(a){delete this.requests[a.id]},nativeBinaryPostSupport:function(){return Ext.isChrome||Ext.isSafari&&Ext.isDefined(window.Uint8Array)||Ext.isGecko&&Ext.isDefined(window.Uint8Array)}},1,0,0,0,0,[['observable',Ext.mixin.Observable]],[Ext.data,'Connection'],0);Ext.cmd.derive('Ext.Ajax',Ext.data.Connection,{singleton:!0,autoAbort:!1},0,0,0,0,0,0,[Ext,'Ajax'],0);Ext.cmd.derive('Ext.AnimationQueue',Ext.Base,{singleton:!0,constructor:function(){var a=this;a.queue=[];a.taskQueue=[];a.runningQueue=[];a.idleQueue=[];a.isRunning=!1;a.isIdle=!0;a.run=a.run.bind(a);if(Ext.os.is.iOS){a.watchdogTimer=Ext.interval(a.watch,500,a)}},start:function(d,b,c){var a=this;a.queue.push(arguments);if(!a.isRunning){if(a.hasOwnProperty('idleTimer')){Ext.undefer(a.idleTimer);delete a.idleTimer}if(a.hasOwnProperty('idleQueueTimer')){Ext.undefer(a.idleQueueTimer);delete a.idleQueueTimer}a.isIdle=!1;a.isRunning=!0;a.doStart()}},clear:function(){var a=this;Ext.undefer(a.idleTimer);Ext.undefer(a.idleQueueTimer);Ext.unraf(a.animationFrameId);a.idleTimer=a.idleQueueTimer=a.animationFrameId=null;a.queue.length=a.taskQueue.length=a.runningQueue.length=a.idleQueue.length=0;a.isRunning=!1;a.isIdle=!0},watch:function(){if(this.isRunning&&Ext.now()-this.lastRunTime>=500){this.run()}},run:function(){var a=this,c=a.runningQueue,f,d,e,b,g;a.animationFrameId=null;if(!a.isRunning){return}f=Ext.now();a.lastRunTime=f;a.frameStartTime=f;b=a.queue.length;while(b--){d=a.queue[b];e=d[1]&&d[1].getElement&&d[1].getElement();if(e&&e.destroyed){a.queue.splice(b,1)}}c.push.apply(c,a.queue);for(b=0,g=c.length;b<g;b++){a.invoke(c[b])}c.length=0;if(!a.queue.length){a.stop()}if(a.isRunning){a.doIterate()}},doStart:function(){if(!this.animationFrameId){this.animationFrameId=Ext.raf(this.run)}this.lastRunTime=Ext.now()},doIterate:function(){if(!this.animationFrameId){this.animationFrameId=Ext.raf(this.run)}},doStop:function(){if(this.animationFrameId){Ext.unraf(this.animationFrameId)}this.animationFrameId=null},stop:function(h,f,g){var a=this,d=a.queue,e=d.length,b,c;if(!a.isRunning){return}for(b=0;b<e;b++){c=d[b];if(c[0]===h&&c[1]===f&&c[2]===g){d.splice(b,1);b--;e--}}if(e===0){a.doStop();a.isRunning=!1;if(a.idleQueue.length&&!a.idleTimer){a.idleTimer=Ext.defer(a.whenIdle,100,a)}}},onIdle:function(h,f,g){var a=this,d=a.idleQueue,c,e,b;for(c=0,e=d.length;c<e;c++){b=d[c];if(h===b[0]&&f===b[1]&&g===b[2]){return}}d.push(arguments);if(a.isIdle){a.processIdleQueue()}else if(!a.idleTimer){a.idleTimer=Ext.defer(a.whenIdle,100,a)}},unIdle:function(h,f,g){var a=this,b=a.idleQueue,c,e,d;for(c=0,e=b.length;c<e;c++){d=b[c];if(h===d[0]&&f===d[1]&&g===d[2]){b.splice(c,1);return !0}}if(!b.length&&a.idleTimer){Ext.undefer(a.idleTimer);delete a.idleTimer}if(!b.length&&a.idleQueueTimer){Ext.undefer(a.idleQueueTimer);delete a.idleQueueTimer}return !1},queueTask:function(c,a,b){this.taskQueue.push(arguments);this.processTaskQueue()},dequeueTask:function(g,e,f){var c=this.taskQueue,a,d,b;for(a=0,d=c.length;a<d;a++){b=c[a];if(g===b[0]&&e===b[1]&&f===b[2]){c.splice(a,1);a--;d--}}},invoke:function(b){var a=b[0],c=b[1],d=b[2];a=typeof a==='string'?c[a]:a;if(Ext.isArray(d)){a.apply(c,d)}else {a.call(c,d)}},whenIdle:function(){delete this.idleTimer;this.isIdle=!0;this.processIdleQueue()},processIdleQueue:function(){if(!this.hasOwnProperty('idleQueueTimer')){this.idleQueueTimer=Ext.defer(this.processIdleQueueItem,1,this)}},processIdleQueueItem:function(){var a=this.idleQueue,b;delete this.idleQueueTimer;if(!this.isIdle){return}if(a.length>0){b=a.shift();this.invoke(b);this.processIdleQueue()}},processTaskQueue:function(){if(!this.hasOwnProperty('taskQueueTimer')){this.taskQueueTimer=Ext.defer(this.processTaskQueueItem,15,this)}},processTaskQueueItem:function(){var a=this.taskQueue,b;delete this.taskQueueTimer;if(a.length>0){b=a.shift();this.invoke(b);this.processTaskQueue()}}},1,0,0,0,0,0,[Ext,'AnimationQueue'],0);Ext.cmd.derive('Ext.mixin.Bufferable',Ext.Mixin,function(a){return {mixinConfig:{id:'bufferable',after:{destroy:'cancelAllCalls'},before:{$reap:'cancelAllCalls'},extended:function(e,d,c){var b=c.bufferableMethods;if(b){delete c.bufferableMethods;a.processClass(d,b)}}},afterClassMixedIn:function(b){a.processClass(b)},privates:{cancelAllCalls:function(){var b=this.bufferables,c;if(b){for(c in b){b[c].cancel();delete b[c]}}},cancelBufferedCall:function(e,d){var c=this.bufferables,b=c&&c[e];if(b){b[d?'invoke':'cancel']()}return !!b},flushBufferedCall:function(b){return this.cancelBufferedCall(b,!0)},initBufferables:function(){var b=this,c=b.hasOwnProperty('bufferableMethods')&&b.bufferableMethods,d;if(c){a._canonicalize(c);d=b.self.prototype.bufferableMethods;b.bufferableMethods=Ext.merge(Ext.clone(d),c)}return b.bufferables={}},isCallPending:function(d){var b=this.bufferables,c=b&&b[d];return !!c},statics:{SINGLE:{single:!0},_canonicalize:function(f){var d,b,e,c;for(c in f){e=Ext.String.capitalize(c);b=f[c];d=typeof b;if(d==='number'||d==='string'){f[c]=b={delay:b}}if(typeof (d=b.delay)==='string'){b[d]=!0;delete b.delay}b.capitalized=e;b.name=c;if(!b.fn){b.fn='do'+e}if(!b.flag){b.flag='is'+e+'Pending'}}},_canceller:function(){var b=this,c=b.id;if(c){if(b.delay){Ext.undefer(c)}else if(b.asap){Ext.unasap(c)}else if(b.idle){Ext.un('idle',c,null,a.SINGLE)}else if(b.raf){Ext.unraf(c)}b.id=null}b.args=null;b.target[b.flag]=!1},_invoker:function(){var b=this,d=b.args||Ext.emptyArray,c=b.target;b.cancel();c[b.fn].apply(c,d)},delayCall:function(d,c,i){if(d.destroying){return}var f=d.bufferables||d.initBufferables(),h=c.name,b=f[h]||(f[h]=Ext.apply({args:null,cancel:a._canceller,id:null,target:d,invoke:a._invoker},c)),g=c.delay,e=function(){if(b.id){b.id=null;b.invoke()}};if(b.id){b.cancel()}b.args=i;d[b.flag]=!0;if(g){b.id=Ext.defer(e,g)}else if(c.asap){b.id=Ext.asap(e)}else if(c.idle){b.id=e;Ext.on('idle',e,null,a.SINGLE)}else if(c.raf){b.id=Ext.raf(e)}else {b.invoke()}},processClass:function(g,b){var d=g.prototype,c=d.bufferableMethods,f,e;if(b){a._canonicalize(b);if(c){c=Ext.merge(Ext.clone(c),b)}d.bufferableMethods=c||b}else {b=c;a._canonicalize(b);d.bufferables=null}if(b){for(e in b){if(!d[e]){f=b[e];a.processMethod(d,f,Array.prototype.slice)}}}},processMethod:function(b,d,f){var c=d.name,e=d.capitalized;b[c]=function(){return a.delayCall(this,d,f.call(arguments))};b['cancel'+e]=function(){return this.cancelBufferedCall(c)};b['flush'+e]=function(){return this.flushBufferedCall(c)}}}}}},0,0,0,0,0,0,[Ext.mixin,'Bufferable'],0);Ext.cmd.derive('Ext.ComponentManager',Ext.Base,{alternateClassName:'Ext.ComponentMgr',singleton:!0,count:0,fixReferencesTimer:null,referenceRepairs:0,typeName:'xtype',bufferableMethods:{handleDocumentMouseDown:'asap'},constructor:function(b){var a=this;Ext.apply(a,b);a.all={};a.byInstanceId={};a.holders={};a.onAvailableCallbacks={}},create:function(a,b){if(typeof a==='string'){return Ext.widget(a)}if(a.isComponent){return a}if('xclass' in a){return Ext.create(a.xclass,a)}return Ext.widget(a.xtype||b,a)},get:function(a){return this.all[a]},register:function(a){var b=this,d=a.getId(),c=b.onAvailableCallbacks;b.all[d]=a;b.byInstanceId[a.$iid]=a;if(a.nameHolder||a.referenceHolder){b.holders[d]=a}++b.count;if(!b.hasFocusListener){b.installFocusListener()}c=c&&c[d];if(c&&c.length){b.notifyAvailable(a)}},unregister:function(e){var b=this,f=b.all,d=b.byInstanceId,c=b.holders,a=e.getId();if(a in c){c[a]=null;delete c[a]}f[a]=null;delete f[a];a=e.$iid;d[a]=null;delete d[a];--b.count},markReferencesDirty:function(){var b=this,c=b.holders,a,d;if(!Ext.referencesDirty){for(d in c){a=c[d];a.refs=a.nameRefs=null;if(a.invalidateChildDirty){a.invalidateChildDirty()}}Ext.referencesDirty=!0;b.fixReferencesTimer=Ext.asap(function(){b.fixReferencesTimer=null;b.fixReferences()})}},fixReferences:function(){var c=this,e=c.all,d=c.holders,a,b;if(Ext.referencesDirty){c.fixReferencesTimer=Ext.unasap(c.fixReferencesTimer);Ext.referencesDirty=0;++c.referenceRepairs;for(b in d){a=d[b];if(a.beginSyncChildDirty){a.beginSyncChildDirty()}}for(b in e){e[b]._fixReference()}for(b in d){a=d[b];if(a.finishSyncChildDirty){a.finishSyncChildDirty()}}Ext.referencesDirty=!1}},onAvailable:function(a,f,d){var g=this,b=g.onAvailableCallbacks,e=g.all,c;if(a in e){c=e[a];f.call(d||c,c)}else if(a){if(!Ext.isArray(b[a])){b[a]=[]}b[a].push(function(b){f.call(d||b,b)})}},notifyAvailable:function(a){var b=this.onAvailableCallbacks[a&&a.getId()]||[];while(b.length){b.shift()(a)}},each:function(b,a){Ext.Object.each(this.all,b,a)},getCount:function(){return this.count},getAll:function(){return Ext.Object.getValues(this.all)},getActiveComponent:function(){return Ext.Component.from(Ext.dom.Element.getActiveElement())},onGlobalFocus:function(g){var h=this,d=g.event.chain(),e=Ext.applyIf({event:d},g),c,b,f,a;c=d.toComponent=e.toComponent=Ext.Component.from(g.toElement);b=d.fromComponent=e.fromComponent=Ext.Component.from(g.fromElement);f=h.getCommonAncestor(b,c);if(c!==b){if(b&&!b.destroyed&&!b.isDestructing()){if(b.handleBlurEvent){b.handleBlurEvent(e)}for(a=b;a&&a!==f;a=a.getRefOwner()){if(!(a.destroyed||a.destroying)){d.type='focusleave';a.onFocusLeave(d)}}}if(c&&!c.destroyed&&!c.isDestructing()){if(c.handleFocusEvent){c.handleFocusEvent(e)}for(a=c;a&&a!==f;a=a.getRefOwner()){d.type='focusenter';a.onFocusEnter(d)}}}for(a=f;a;a=a.getRefOwner()){if(!(a.destroying||a.destroyed)){a.onFocusMove(e)}}},getCommonAncestor:function(a,b){if(a===b){return a}while(a&&!(a.isAncestor(b)||a===b)){a=a.getRefOwner()}return a},privates:{doHandleDocumentMouseDown:function(c){var b=Ext.Widget.prototype.floatedSelector,a;if(b){a=Ext.Component.from(c.getTarget(b,Ext.getBody()));if(a&&!a.activeAnimation){a.toFront(!0)}}},installFocusListener:function(){var a=this;Ext.on('focus',a.onGlobalFocus,a);a.hasFocusListener=!0},clearAll:function(){var a=this;a.all={};a.byInstanceId={};a.holders={};a.onAvailableCallbacks={}},from:function(b,c,f){var i=this.all,h=0,a,g,e,d;if(b&&b.isEvent){b=b.target}a=Ext.getDom(b);if(typeof c!=='number'){g=Ext.getDom(c);c=Number.MAX_VALUE}while(a&&a.nodeType===1&&h<c&&a!==g){e=a.getAttribute('data-componentid')||a.id;if(e){d=i[e];if(d&&(!f||Ext.ComponentQuery.is(d,f))){return d}h++}a=a.parentNode}return null}}},1,0,0,0,0,[[Ext.mixin.Bufferable.prototype.mixinId||Ext.mixin.Bufferable.$className,Ext.mixin.Bufferable]],[Ext,'ComponentManager',Ext,'ComponentMgr'],function(a){a.fromElement=a.from;Ext.referencesDirty=!1;Ext.fixReferences=function(){a.fixReferences()};Ext.markReferencesDirty=function(){a.markReferencesDirty()};Ext.getCmp=function(b){return a.get(b)};Ext.iidToCmp=function(b){return a.byInstanceId[b]||null};Ext.doEv=function(f,d){var b,c,e;b=Ext.Component.from(d.target);if(b&&!b.destroying&&!b.destroyed&&b.getEventHandlers){c=b.getEventHandlers()[d.type];if(c&&b[c]){e=new Ext.event.Event(d);return b[c](e)}}return !0}});Ext.ns('Ext.util').Operators={'=':function(a,b){return a==b},'!=':function(a,b){return a!=b},'^=':function(a,b){return a&&a.substr(0,b.length)==b},'$=':function(a,b){return a&&a.substr(a.length-b.length)==b},'*=':function(a,b){return a&&a.indexOf(b)!==-1},'%=':function(a,b){return a%b===0},'|=':function(a,b){return a&&(a==b||a.substr(0,b.length+1)==b+'-')},'~=':function(a,b){return a&&(' '+a+' ').indexOf(' '+b+' ')!=-1}};Ext.cmd.derive('Ext.util.LruCache',Ext.util.HashMap,{config:{maxSize:null},add:function(d,e){var b=this,a,c;b.removeAtKey(d);c=b.last;a={prev:c,next:null,key:d,value:e};if(c){c.next=a}else {b.first=a}b.last=a;Ext.util.HashMap.prototype.add.call(this,d,a);b.prune();return e},insertBefore:function(f,d,a){var c=this,e,b;if(a=this.map[this.findKey(a)]){e=c.findKey(d);if(e){c.unlinkEntry(b=c.map[e])}else {b={prev:a.prev,next:a,key:f,value:d}}if(a.prev){b.prev.next=b}else {c.first=b}b.next=a;a.prev=b;c.prune();return d}else {return c.add(f,d)}},get:function(b){var a=this.map[b];if(a){if(a.next){this.moveToEnd(a)}return a.value}},removeAtKey:function(a){this.unlinkEntry(this.map[a]);return Ext.util.HashMap.prototype.removeAtKey.apply(this,arguments)},clear:function(a){this.first=this.last=null;return Ext.util.HashMap.prototype.clear.call(this,a)},unlinkEntry:function(a){if(a){if(a.next){a.next.prev=a.prev}else {this.last=a.prev}if(a.prev){a.prev.next=a.next}else {this.first=a.next}a.prev=a.next=null}},moveToEnd:function(a){this.unlinkEntry(a);if(a.prev=this.last){this.last.next=a}else {this.first=a}this.last=a},getArray:function(c){var b=[],a=this.first;while(a){b.push(c?a.key:a.value);a=a.next}return b},each:function(f,c,d){var b=this,a=d?b.last:b.first,e=b.length;c=c||b;while(a){if(f.call(c,a.key,a.value,e)===!1){break}a=d?a.prev:a.next}return b},findKey:function(c){var a,b=this.map;for(a in b){if(b.hasOwnProperty(a)&&b[a].value===c){return a}}return undefined},clone:function(){var a=new this.self(this.initialConfig),c=this.map,b;a.suspendEvents();for(b in c){if(c.hasOwnProperty(b)){a.add(b,c[b].value)}}a.resumeEvents();return a},prune:function(){var a=this,c=a.getMaxSize(),b=c?a.length-c:0;if(b>0){for(;a.first&&b;b--){a.removeAtKey(a.first.key)}}}},0,0,0,0,0,0,[Ext.util,'LruCache'],0);Ext.cmd.derive('Ext.ComponentQuery',Ext.Base,{singleton:!0},0,0,0,0,0,0,[Ext,'ComponentQuery'],function(){var a=this,h=Ext.util.Operators,r=/(\d*)n\+?(\d*)/,q=/\D/,d=/^(\s)+/,c=/\\(.)/g,j=new Ext.util.LruCache({maxSize:100}),m=['var r = [],','i = 0,','it = items,','l = it.length,','c;','for (; i < l; i++) {','c = it[i];','if (c.{0}) {','r.push(c);','}','}','return r;'].join(''),b=function(b,a){return a.method.apply(this,[b].concat(a.args))},g=function(d,g){var b=[],c=0,e=d.length,a,f=g!=='>';for(;c<e;c++){a=d[c];if(a.getRefItems){b=b.concat(a.getRefItems(f))}}return b},e=function(d){var c=[],b=0,e=d.length,a;for(;b<e;b++){a=d[b];while(!!(a=a.getRefOwner())){c.push(a)}}return c},i=function(b,e,f){if(e==='*'){return b.slice()}else {var d=[],c=0,g=b.length,a;for(;c<g;c++){a=b[c];if(!a.destroyed&&a.isXType(e,f)){d.push(a)}}return d}},l=function(n,c,f,d){var e=[],o=n.length,j,l,b,a,k,g,i,m;if(c.charAt(0)==='@'){j=!0;c=c.substr(1)}if(c.charAt(0)==='?'){j=!0;l=!0;c=c.substr(1)}for(g=0;g<o;g++){b=n[g];k=b.self&&b.self.getConfigurator&&b.self.$config.configs[c];if(k){a=b[k.names.get]()}else if(j&&!b.hasOwnProperty(c)){continue}else {a=b[c]}if(l){e.push(b)}else if(f==='~='){if(a){if(!Ext.isArray(a)){a=a.split(' ')}for(i=0,m=a.length;i<m;i++){if(h[f](Ext.coerce(a[i],d),d)){e.push(b);break}}}}else if(f==='/='){if(a!=null&&d.test(a)){e.push(b)}}else if(!d?!!a:h[f](Ext.coerce(a,d),d)){e.push(b)}}return e},f=function(e,h,f){var c=[],b=0,g=e.length,a,d;for(;b<g;b++){a=e[b];d=f?a.id:a.getItemId();if(d===h){c.push(a)}}return c},n=function(b,d,c){return a.pseudos[d](b,c)},p=/^(\s?([>\^])\s?|\s|$)/,o=/^(#)?((?:\\\.|[\w\-])+|\*)(?:\((true|false)\))?/,k=[{re:/^\.((?:\\\.|[\w\-])+)(?:\((true|false)\))?/,method:i,argTransform:function(a){if(a[1]!==undefined){a[1]=a[1].replace(c,'$1')}return a.slice(1)}},{re:/^(?:\[((?:[@?$])?[\w\-]*)\s*(?:([\^$*~%!\/]?=)\s*(['"])?((?:\\\]|.)*?)\3)?(?!\\)\])/,method:l,argTransform:function(b){var g=b[0],f=b[1],e=b[2],a=b[4],d;if(a!==undefined){a=a.replace(c,'$1')}if(e==='/='){d=j.get(a);if(d){a=d}else {a=j.add(a,new RegExp(a))}}return [f,e,a]}},{re:/^#((?:\\\.|[\w\-])+)/,method:f},{re:/^:([\w\-]+)(?:\(((?:\{[^\}]+\})|(?:(?!\{)[^\s>\/]*?(?!\})))\))?/,method:n,argTransform:function(a){if(a[2]!==undefined){a[2]=a[2].replace(c,'$1')}return a.slice(1)}},{re:/^(?:\{([^\}]+)\})/,method:m}];a.Query=Ext.extend(Object,{constructor:function(a){a=a||{};Ext.apply(this,a)},execute:function(f){var c=this.operations,b=[],e,a,d;for(a=0,d=c.length;a<d;a++){e=c[a];b=b.concat(this._execute(f,e))}return b},_execute:function(c,h){var f=0,i=h.length,d,a;if(!c){a=Ext.ComponentManager.getAll()}else if(Ext.isIterable(c)){a=c}else if(c.isMixedCollection){a=c.items}for(;f<i;f++){d=h[f];if(d.mode==='^'){a=e(a||[c])}else if(d.mode){a=g(a||[c],d.mode)}else {a=b(a||g([c]),d)}if(f===i-1){return a}}return []},is:function(f,g){var c=this.operations,b=!1,d=c.length,e,a;if(d===0){return !0}for(a=0;a<d;a++){e=c[a];b=this._is(f,g,e);if(b){return b}}return !1},_is:function(o,n,m){var l=m.length,a=[o],i,d,h,c,j,k;for(d=l-1;d>=0;--d){i=m[d];c=i.mode;if(c){if(c==='^'){a=g(a,' ')}else if(c==='>'){j=[];for(h=0,l=a.length;h<l;++h){k=a[h].getRefOwner();if(k){j.push(k)}}a=j}else {a=e(a)}}else {a=b(a,i)}if(a.length===0){return !1}}if(n){if(!c){a=e(a)}if(a.length>0){a=b(a,{method:f,args:[n.id,!0]})}if(a.length===0){return !1}}return !0},getMatches:function(a,d){var e=d.length,c;for(c=0;c<e;++c){a=b(a,d[c]);if(a.length===0){break}}return a},isMultiMatch:function(){return this.operations.length>1}});Ext.apply(a,{cache:new Ext.util.LruCache({maxSize:100}),pseudos:{not:function(d,f){var c=0,g=d.length,e=[],h=-1,b;for(;c<g;++c){b=d[c];if(!a.is(b,f)){e[++h]=b}}return e},first:function(a){var b=[];if(a.length>0){b.push(a[0])}return b},last:function(a){var b=a.length,c=[];if(b>0){c.push(a[b-1])}return c},focusable:function(d){var e=d.length,c=[],b=0,a;for(;b<e;b++){a=d[b];if(a.isFocusable&&a.isFocusable()){c.push(a)}}return c},canfocus:function(d,e){var f=d.length,c=[],b=0,a;for(;b<f;b++){a=d[b];if(a.canFocus&&a.canFocus(!1,e)){c.push(a)}}return c},'nth-child':function(i,a){var e=[],g,f,c,b,h,d;g=r.exec(a==='even'&&'2n'||a==='odd'&&'2n+1'||!q.test(a)&&'n+'+a||a);f=(g[1]||1)-0;b=g[2]-0;for(c=0;h=i[c];c++){d=c+1;if(f===1){if(b===0||d===b){e.push(h)}}else if((d+b)%f===0){e.push(h)}}return e},scrollable:function(d){var e=d.length,c=[],b=0,a;for(;b<e;b++){a=d[b];if(a.scrollable||a._scrollable){c.push(a)}}return c},visible:function(e,a){var f=e.length,d=[],c=0,b;a=a==='true';for(;c<f;c++){b=e[c];if(b.isVisible(a)){d.push(b)}}return d}},query:function(c,j){if(!c){return Ext.ComponentManager.getAll()}var b=[],g=[],h={},d=a.cache.get(c),i,e,f;if(!d){d=a.cache.add(c,a.parse(c))}b=d.execute(j);if(d.isMultiMatch()){i=b.length;for(f=0;f<i;f++){e=b[f];if(!h[e.id]){g.push(e);h[e.id]=!0}}b=g}return b},visitPreOrder:function(c,e,f,d,b){a._visit(!0,c,e,f,d,b)},visitPostOrder:function(c,e,f,d,b){a._visit(!1,c,e,f,d,b)},_visit:function(i,c,b,l,k,e){var j=a.cache.get(c),g=[b],h,m=0,d,f;if(!j){j=a.cache.add(c,a.parse(c))}f=j.is(b);if(b.getRefItems){h=b.getRefItems();m=h.length}if(e){Ext.Array.push(g,e)}if(i){if(f){if(l.apply(k||b,g)===!1){return !1}}}for(d=0;d<m;d++){if(a._visit.call(a,i,c,h[d],l,k,e)===!1){return !1}}if(!i){if(f){if(l.apply(k||b,g)===!1){return !1}}}},is:function(d,b,e){var c;if(!b){return !0}if(typeof b==='function'){return b(d)}else {c=a.cache.get(b);if(!c){c=a.cache.add(b,a.parse(b))}return c.is(d,e)}},parse:function(g){var d=[],c,f,b,e;c=Ext.splitAndUnescape(g,',');for(b=0,e=c.length;b<e;b++){f=Ext.String.trim(c[b]);d.push(a._parse(f))}return new a.Query({operations:d})},_parse:function(a){var h=[],v=Ext.String.trim,t=k.length,r,e,n,s,j,b,m,l,g,u,q;while(a&&r!==a){r=a;e=a.match(o);if(e){s=e[1];n=v(e[2]).replace(c,'$1');if(s==='#'){h.push({method:f,args:[n]})}else {h.push({method:i,args:[n,Boolean(e[3])]})}a=a.replace(e[0],'').replace(d,'$1')}while(!(j=a.match(p))){for(l=0;a&&l<t;l++){g=k[l];b=a.match(g.re);u=g.method;m=g.argTransform;if(b){if(m){q=m(b)}else {q=b.slice(1)}h.push({method:Ext.isString(g.method)?Ext.functionFactory('items',Ext.String.format.apply(Ext.String,[u].concat(b.slice(1)))):g.method,args:q});a=a.replace(b[0],'').replace(d,'$1');break}if(l===t-1){Ext.raise('Invalid ComponentQuery selector: "'+arguments[0]+'"')}}}if(j[1]){h.push({mode:j[2]||j[1]});a=a.replace(j[0],'').replace(d,'')}}return h}});Ext.all=function(){return a.query.apply(a,arguments)};Ext.first=function(){var b=a.query.apply(a,arguments);return b&&b[0]||null}});Ext.cmd.derive('Ext.Evented',Ext.Base,{alternateClassName:'Ext.EventedBase',initialized:!1,constructor:function(a){this.mixins.observable.constructor.call(this,a);this.initialized=!0},onClassExtended:function(f,b){if(!b.hasOwnProperty('eventedConfig')){return}var e=b.config,a=b.eventedConfig,d,c;if(e){Ext.applyIf(e,a)}else {f.addConfig(a)}for(d in a){if(a.hasOwnProperty(d)){c=Ext.Config.get(d);b[c.names.set]=c.eventedSetter||c.getEventedSetter()}}}},1,0,0,0,0,[[Ext.mixin.Observable.prototype.mixinId||Ext.mixin.Observable.$className,Ext.mixin.Observable]],[Ext,'Evented',Ext,'EventedBase'],0);Ext.cmd.derive('Ext.util.Positionable',Ext.Base,{mixinId:'positionable',_positionTopLeft:['position','top','left'],clippedCls:'x-clipped',afterSetPosition:Ext.emptyFn,adjustForConstraints:function(a,c){var b=this.getConstrainVector(c,a);if(b){a[0]+=b[0];a[1]+=b[1]}return a},alignTo:function(e,d,f,b){var a=this,c=a.el;return a.setXY(a.getAlignToXY(e,d,f),c.anim&&!!b?c.anim(b):!1)},calculateAnchorXY:function(c,d,e,b){var a=this.getRegion();a.setPosition(0,0);a.translateBy(d||0,e||0);if(b){a.setWidth(b.width);a.setHeight(b.height)}return a.getAnchorPoint(c)},convertPositionSpec:function(a){return Ext.util.Region.getAlignInfo(a)},getAlignToXY:function(b,c,d){var a=this.getAlignToRegion(b,c,d);return [a.x,a.y]},getAlignToRegion:function(a,c,d,i){var e=this,b,h,f,g;a=Ext.fly(a.el||a);if(!a||!a.dom){}c=e.convertPositionSpec(c);if(c.constrain){if(c.constrain==='!'){b=a}else {b=e.constrainTo||e.container||e.el.parent()}b=Ext.fly(b.el||b).getConstrainRegion()}if(a===Ext.getBody()){f=a.getScroll();g=d&&d.length===2?d:[0,0];d=[f.left+g[0],f.top+g[1]]}h=e.getRegion().alignTo({target:a.getRegion(),inside:b,minHeight:i,offset:d,align:c,axisLock:!0});return h},getAnchorXY:function(g,h,b){var e=this,a=e.getRegion(),c=e.el,f=c.dom.nodeName==='BODY'||c.dom.nodeType===9,d=c.getScroll();if(h){a.setPosition(0,0)}else if(f){a.setPosition(d.left,d.top)}if(b){a.setWidth(b.width);a.setHeight(b.height)}return a.getAnchorPoint(g)},getBox:function(j,k){var a=this,i=k?a.getLocalXY():a.getXY(),e=i[0],f=i[1],d,c,b,g,h;if(a.el.dom.nodeName==='BODY'||a.el.dom.nodeType===9){d=Ext.Element.getViewportWidth();c=Ext.Element.getViewportHeight()}else {d=a.getWidth();c=a.getHeight()}if(j){b=a.getBorderPadding();g=b.beforeX;h=b.beforeY;e+=g;f+=h;d-=g+b.afterX;c-=h+b.afterY}return {x:e,left:e,0:e,y:f,top:f,1:f,width:d,height:c,right:e+d,bottom:f+c}},calculateConstrainedPosition:function(h,c,j,l){var a=this,e,k=a.floatParent,i=k?k.getTargetEl():null,d,g,b,f=!1;if(j&&k){d=i.getXY();g=i.getBorderPadding();d[0]+=g.beforeX;d[1]+=g.beforeY;if(c){b=[c[0]+d[0],c[1]+d[1]]}}else {b=c}h=h||a.constrainTo||i||a.container||a.el.parent();if(j&&b){b=a.reverseTranslateXY(b)}e=(a.constrainHeader&&a.header.rendered?a.header:a).getConstrainVector(h,b,l);if(e){f=c||a.getPosition(j);f[0]+=e[0];f[1]+=e[1]}return f},getConstrainRegion:function(){var k=this,a=k.el,j=a.dom.nodeName==='BODY',h=a.dom,g=a.getBorders(),i=a.getXY(),e=i[0]+g.beforeX,f=i[1]+g.beforeY,c,d,b;if(j){c=a.getScroll();e=c.left;f=c.top;d=Ext.Element.getViewportWidth();b=Ext.Element.getViewportHeight()}else {d=h.clientWidth;b=h.clientHeight}return new Ext.util.Region(f,e+d,f+b,e)},getConstrainVector:function(a,h,i){var e=this,b=e.getRegion(),d=[0,0],g=e.shadow&&e.constrainShadow&&!e.shadowDisabled?e.el.shadow.getShadowSize():undefined,f=!1,c=e.constraintInsets;if(!(a instanceof Ext.util.Region)){a=Ext.get(a.el||a);a=a.getConstrainRegion()}if(c){c=Ext.isObject(c)?c:Ext.Element.parseBox(c);a.adjust(c.top,c.right,c.bottom,c.left)}if(h){b.translateBy(h[0]-b.x,h[1]-b.y)}if(i){b.right=b.left+i[0];b.bottom=b.top+i[1]}if(g){a.adjust(g[0],-g[1],-g[2],g[3])}if(b.right>a.right){f=!0;d[0]=a.right-b.right}if(b.left+d[0]<a.left){f=!0;d[0]=a.left-b.left}if(b.bottom>a.bottom){f=!0;d[1]=a.bottom-b.bottom}if(b.top+d[1]<a.top){f=!0;d[1]=a.top-b.top}return f?d:!1},getOffsetsTo:function(a){var c=this.getXY(),b=a.isRegion?[a.x,a.y]:Ext.fly(a.el||a).getXY();return [c[0]-b[0],c[1]-b[1]]},getRegion:function(b,c){var a=this.getBox(b,c);return new Ext.util.Region(a.top,a.right,a.bottom,a.left)},getClientRegion:function(){var i=this,d=i.el,f=d.dom,b=i.getBox(!0),e=f.offsetHeight>f.clientHeight,c=f.offsetWidth>f.clientWidth,a,g,h;if(e||c){g=Ext.getScrollbarSize();if(c){c=g.width;h=d.getStyle('direction')==='rtl'&&!Ext.supports.rtlVertScrollbarOnRight;if(h){a=d.getPadding('l');b.left-=a+Math.max(a,c)}else {a=d.getPadding('r');b.right+=a-Math.max(a,c)}}if(e){e=g.height;a=d.getPadding('b');b.bottom+=a-Math.max(a,e)}}return new Ext.util.Region(b.top,b.right,b.bottom,b.left)},getViewRegion:function(){var a=this,i=a.el,j=i.dom.nodeName==='BODY',d,f,h,c,b,g,e;if(j){f=i.getScroll();b=f.left;c=f.top;g=Ext.Element.getViewportWidth();e=Ext.Element.getViewportHeight()}else {d=a.getBorderPadding();h=a.getXY();b=h[0]+d.beforeX;c=h[1]+d.beforeY;g=a.getWidth(!0);e=a.getHeight(!0)}return new Ext.util.Region(c,b+g,c+e,b)},move:function(a,b,l){var j=this,k=j.getXY(),c=k[0],d=k[1],i=[c-b,d],g=[c+b,d],f=[c,d-b],e=[c,d+b],h={l:i,left:i,r:g,right:g,t:f,top:f,up:f,b:e,bottom:e,down:e};a=a.toLowerCase();j.setXY([h[a][0],h[a][1]],l)},setBox:function(a){var b=this,c,d;if(a.isRegion){a={x:a.left,y:a.top,width:a.right-a.left,height:a.bottom-a.top}}b.constrainBox(a);c=a.x;d=a.y;b.setXY([c,d]);b.setSize(a.width,a.height);b.afterSetPosition(c,d);return b},constrainBox:function(a){var c=this,b,d,e;if(c.constrain||c.constrainHeader){d='x' in a?a.x:a.left;e='y' in a?a.y:a.top;b=c.calculateConstrainedPosition(null,[d,e],!1,[a.width,a.height]);if(b){a.x=b[0];a.y=b[1]}}},translatePoints:function(b,c){var a=this.translateXY(b,c);return {left:a.x,top:a.y}},translateXY:function(a,g){var f=this,e=f.el,d=e.getStyle(f._positionTopLeft),h=d.position==='relative',b=parseFloat(d.left),c=parseFloat(d.top),i=f.getXY();if(Ext.isArray(a)){g=a[1];a=a[0]}if(isNaN(b)){b=h?0:e.dom.offsetLeft}if(isNaN(c)){c=h?0:e.dom.offsetTop}b=typeof a==='number'?a-i[0]+b:undefined;c=typeof g==='number'?g-i[1]+c:undefined;return {x:b,y:c}},reverseTranslateXY:function(d){var h=d,b=this.el,i=b.dom,a=i.offsetParent,g,c,e,f;if(a){g=b.isStyle('position','relative');c=Ext.fly(a).getXY();e=d[0]+c[0]+a.clientLeft;f=d[1]+c[1]+a.clientTop;if(g){e+=b.getPadding('l');f+=b.getPadding('t')}h=[e,f]}return h},privates:{clipTo:function(h,g){var f,b=this.el,j=b.getRegion(),e,c,a=[],l=this.clippedCls,d,i,k;if(h.isRegion){f=h}else {f=(h.isComponent?h.el:Ext.fly(h)).getConstrainRegion()}if(!g){g=15}if(g&1&&(e=f.top-j.top)>0){a[0]=e;i=!0}else {a[0]=-10000}if(g&2&&(e=j.right-f.right)>0){a[1]=Math.max(0,b.getWidth()-e);i=!0}else {a[1]=10000}if(g&4&&(e=j.bottom-f.bottom)>0){a[2]=Math.max(0,b.getHeight()-e);i=!0}else {a[2]=10000}if(g&8&&(e=f.left-j.left)>0){a[3]=e;i=!0}else {a[3]=-10000}d='rect(';for(c=0;c<4;++c){d+=Ext.Element.addUnits(a[c],'px');d+=c===3?')':','}b.dom.style.clip=d;b.addCls(l);if((k=b.shadow)&&(b=k.el)&&b.dom){a[2]-=k.offsets.y;a[3]-=k.offsets.x;d='rect(';for(c=0;c<4;++c){d+=Ext.Element.addUnits(a[c],'px');d+=c===3?')':','}b.dom.style.clip=d;if(i&&!Ext.supports.CSS3BoxShadow){b.dom.style.display='none'}else {b.dom.style.display='';b.addCls(l)}}},clearClip:function(){var a=this.el,b=this.clippedCls;a.dom.style.clip=Ext.isIE8?'auto':'';a.removeCls(b);if(a.shadow&&a.shadow.el&&a.shadow.el.dom){a.shadow.el.dom.style.clip=Ext.isIE8?'auto':'';if(!Ext.supports.CSS3BoxShadow){a.dom.style.display='';a.removeCls(b)}}}}},0,0,0,0,0,0,[Ext.util,'Positionable'],0);Ext.cmd.derive('Ext.dom.UnderlayPool',Ext.Base,{constructor:function(a){this.elementConfig=a;this.cache=[]},checkOut:function(){var a=this.cache.shift();if(!a){a=Ext.Element.create(this.elementConfig);a.setVisibilityMode(2)}return a},checkIn:function(a){this.cache.push(a);Ext.getDetachedBody().dom.appendChild(a.dom)},reset:function(){var a=this.cache,b=a.length;while(b--){a[b].destroy()}this.cache=[]}},1,0,0,0,0,0,[Ext.dom,'UnderlayPool'],0);Ext.cmd.derive('Ext.dom.Underlay',Ext.Base,{constructor:function(a){Ext.apply(this,a)},beforeShow:Ext.emptyFn,getInsertionTarget:function(){return this.target},getPool:function(){return this.pool||(this.self.prototype.pool=new Ext.dom.UnderlayPool(this.elementConfig))},hide:function(){var b=this,a=b.el;if(a){if(a.dom){a.hide();b.getPool().checkIn(a)}b.el=null}b.hidden=!0},realign:function(d,e,c,b){var h=this,g=h.el,f=h.target,a=h.offsets,i=Math.max;if(g){if(d==null){d=f.getX()}if(e==null){e=f.getY()}if(c==null){c=f.getWidth()}if(b==null){b=f.getHeight()}if(a){d=d+a.x;e=e+a.y;c=i(c+a.w,0);b=i(b+a.h,0)}g.setXY([d,e]);g.setSize(c,b)}},setZIndex:function(a){this.zIndex=a;if(this.el){this.el.setStyle('z-index',a)}},show:function(){var a=this,f=a.target,c=a.zIndex,b=a.el,e=a.getInsertionTarget().dom,d;if(!b){b=a.el=a.getPool().checkOut()}a.beforeShow();if(c==null){c=parseInt(f.getStyle('z-index'),10)}if(c){b.setStyle('z-index',c)}b.setStyle('position',a.fixed?'fixed':'');d=b.dom;if(d.nextSibling!==e){f.dom.parentNode.insertBefore(d,e)}b.show();a.realign();a.hidden=!1}},1,0,0,0,0,0,[Ext.dom,'Underlay'],0);Ext.cmd.derive('Ext.dom.Shadow',Ext.dom.Underlay,{alternateClassName:'Ext.Shadow',mode:'drop',offset:4,cls:'x-'+(!Ext.supports.CSS3BoxShadow?'ie':'css')+'-shadow',constructor:function(f){var d=this,e,c,a,b;Ext.dom.Underlay.prototype.constructor.call(this,f);d.elementConfig={cls:d.cls,role:'presentation'};a=d.offset;b=Math.floor(a/2);d.opacity=50;switch(d.mode.toLowerCase()){case 'drop':e={x:0,y:0,w:a,h:a};if(Ext.supports.CSS3BoxShadow){c={x:a,y:a,h:-a,w:-a}}else {c={x:-b,y:-b,h:-b,w:-b}};break;case 'sides':e={x:-a,y:0,w:a*2,h:a};if(Ext.supports.CSS3BoxShadow){c={x:0,y:a,h:-a,w:0}}else {c={x:1+b-2*a,y:-(1+b),h:-1,w:b-1}};break;case 'frame':e={x:-a,y:-a,w:a*2,h:a*2};if(Ext.supports.CSS3BoxShadow){c={x:0,y:0,h:0,w:0}}else {c={x:1+b-2*a,y:1+b-2*a,h:a-b-1,w:a-b-1}};break;case 'bottom':e={x:-a,y:0,w:a*2,h:a};if(Ext.supports.CSS3BoxShadow){c={x:0,y:a,h:-a,w:0}}else {c={x:0,y:a,h:0,w:0}};break;}d.offsets=c;d.outerOffsets=e},getShadowSize:function(){var b=this,a=b.el?b.offset:0,c=[a,a,a,a],d=b.mode.toLowerCase();if(b.el&&d!=='frame'){c[0]=0;if(d==='drop'){c[3]=0}}return c},boxShadowProperty:function(){var a='boxShadow',b=document.documentElement.style;if(!('boxShadow' in b)){if('WebkitBoxShadow' in b){a='WebkitBoxShadow'}else if('MozBoxShadow' in b){a='MozBoxShadow'}}return a}(),beforeShow:function(){var a=this,b=a.el.dom.style,c=a.shim;if(Ext.supports.CSS3BoxShadow){b[a.boxShadowProperty]='0 0 '+(a.offset+2)+'px #888'}else {b.filter='progid:DXImageTransform.Microsoft.alpha(opacity='+a.opacity+') progid:DXImageTransform.Microsoft.Blur(pixelradius='+a.offset+')'}if(c){c.realign()}},setOpacity:function(a){var b=this.el;if(b){if(Ext.isIE&&!Ext.supports.CSS3BoxShadow){a=Math.floor(a*100/2)/100}this.opacity=a;b.setOpacity(a)}}},1,0,0,0,0,0,[Ext.dom,'Shadow',Ext,'Shadow'],0);Ext.cmd.derive('Ext.dom.Shim',Ext.dom.Underlay,{cls:'x-shim',constructor:function(a){Ext.dom.Underlay.prototype.constructor.call(this,a);this.elementConfig={tag:'iframe',cls:this.cls,role:'presentation',frameBorder:'0',src:Ext.SSL_SECURE_URL,tabindex:'-1'}},getInsertionTarget:function(){var a=this.shadow;return a&&a.el||this.target}},1,0,0,0,0,0,[Ext.dom,'Shim'],0);Ext.cmd.derive('Ext.dom.ElementEvent',Ext.util.Event,{addListener:function(h,f,a,e,d){var b=this,c=!1,g=b.name,j=Ext.event.publisher.Dom.instance.directEvents[g],k,l,i;a=a||{};if(a.delegated===!1||j){if(j&&a.delegate){a.capture=!0}if(a.capture){i=b.directCaptures||(b.directCaptures=new Ext.util.Event(b.observable,g));c=i.addListener(h,f,a,e,d)}else {l=b.directs||(b.directs=new Ext.util.Event(b.observable,g));c=l.addListener(h,f,a,e,d)}}else if(a.capture){k=b.captures||(b.captures=new Ext.util.Event(b.observable,g));c=k.addListener(h,f,a,e,d)}else {c=Ext.util.Event.prototype.addListener.call(this,h,f,a,e,d)}return c},removeListener:function(c,b){var e=this,g=e.captures,h=e.directs,f=e.directCaptures,d=!1,a=e.findListener(c,b);if(a!==-1){d=Ext.util.Event.prototype.removeListener.call(this,c,b,a)}else {if(h){a=h.findListener(c,b)}if(a!==-1){d=h.removeListener(c,b,a)}else {if(g){a=g.findListener(c,b)}if(a!==-1){d=g.removeListener(c,b,a)}else if(f){a=f.findListener(c,b);if(a!==-1){d=f.removeListener(c,b,a)}}}}return d},clearListeners:function(){var a=this,b=a.directCaptures,d=a.directs,c=a.captures;if(b){b.clearListeners()}if(d){d.clearListeners()}if(c){c.clearListeners()}Ext.util.Event.prototype.clearListeners.call(this)},suspend:function(){var a=this,b=a.directCaptures,d=a.directs,c=a.captures;if(b){b.suspend()}if(d){d.suspend()}if(c){c.suspend()}Ext.util.Event.prototype.suspend.call(this)},resume:function(){var a=this,b=a.directCaptures,d=a.directs,c=a.captures;if(b){b.resume()}if(d){d.resume()}if(c){c.resume()}Ext.util.Event.prototype.resume.call(this)}},0,0,0,0,0,0,[Ext.dom,'ElementEvent'],0);Ext.cmd.derive('Ext.event.publisher.Publisher',Ext.Base,{isEventPublisher:!0,$vetoClearingPrototypeOnDestroy:!0,handledEvents:[],statics:{publishers:{},publishersByEvent:{}},constructor:function(){var a=this,b=a.type;a.handles={};a.registerEvents();Ext.event.publisher.Publisher.publishers[b]=a},registerEvents:function(f){var c=this,e=Ext.event.publisher.Publisher.publishersByEvent,d=f||c.handledEvents,g=d.length,b,a;for(a=0;a<g;a++){b=d[a];c.handles[b]=1;e[b]=c}},fire:function(c,b,d){var a;if(c.hasListeners[b]){a=c.events[b];if(a){a.fire.apply(a,d)}}}},1,0,0,0,0,0,[Ext.event.publisher,'Publisher'],0);Ext.cmd.derive('Ext.util.Offset',Ext.Base,{statics:{fromObject:function(a){if(a instanceof this){return a}if(typeof a==='number'){return new this(a,a)}if(a.length){return new this(a[0],a[1])}return new this(a.x,a.y)}},constructor:function(a,b){this.x=a!=null&&!isNaN(a)?a:0;this.y=b!=null&&!isNaN(b)?b:0;return this},copy:function(){return new Ext.util.Offset(this.x,this.y)},copyFrom:function(a){this.x=a.x;this.y=a.y},toString:function(){return 'Offset['+this.x+','+this.y+']'},equals:function(a){return this.x===a.x&&this.y===a.y},add:function(a){this.x+=a.x;this.y+=a.y},round:function(b){var a;if(!isNaN(b)){a=Math.pow(10,b);this.x=Math.round(this.x*a)/a;this.y=Math.round(this.y*a)/a}else {this.x=Math.round(this.x);this.y=Math.round(this.y)}},isZero:function(){return this.x===0&&this.y===0}},3,0,0,0,0,0,[Ext.util,'Offset'],0);Ext.cmd.derive('Ext.util.Region',Ext.Base,function(){var a=Ext.util,j=/([^\?!]*)(!|\?)?$/,p=/^(?:(?:([trbl])(\d+))|(tl|t|tc|tr|l|c|r|bl|b|bc|br))(?:-(?:(?:([trbl])(\d+))|(tl|t|tc|tr|l|c|r|bl|b|bc|br)))?$/i,e={l:0,r:100,t:0,b:100,c:50},f={l:100,r:0,t:0,b:100,c:50},d={b:0,l:1,t:2,r:3},o={'tl-tr':'l0-r0','tl-r':'l0-r50','bl-r':'l100-r50','bl-br':'l100-r100','tr-tl':'r0-l0','tr-l':'r0-l50','br-l':'r100-l50','br-bl':'r100-l100'},l={'tl-tr':'r0-l0','tl-r':'r0-l50','bl-r':'r100-l50','bl-br':'r100-l100','tr-tl':'l0-r0','tr-l':'l0-r50','br-l':'l100-r50','br-bl':'l100-r100'},b=[],m=new a.Offset(0,0),k=function(b){var g=a.Region,h=typeof b,f,d,c,e;if(b==null){return g.EMPTY}if(b.isRegion){return b}if(b.isElement||b.nodeType===1){return this.getRegion(b)}if(h==='string'){b=b.split(' ');switch(b.length){case 1:b[1]=b[2]=b[3]=b[0];break;case 2:b[2]=b[0];b[3]=b[1];break;case 3:b[3]=b[1];}f=parseInt(b[0],10)||0;d=parseInt(b[1],10)||0;c=parseInt(b[2],10)||0;e=parseInt(b[3],10)||0}else if(h==='number'){f=d=c=e=b}else if(typeof b.x==='number'){f=b.y;e=b.x;if(typeof b.right==='number'){d=b.right;c=b.bottom}else {d=e+b.width;c=f+b.height}}return new g(f,d,c,e)},n=[-1,1,1,-1],g=function(c,e,d){if(d!=null&&e){b[0]=b[1]=b[2]=b[3]=0;b[d]=e.y*n[d];c=a.Region.from(c);c.adjust.apply(c,b)}return c},c=function(d,b,i,m,l){var h=Math.ceil(m.x),k=Math.ceil(h/2)+3,g,f,c,e,j,n,o;if(l&&!l.intersect(d)){return}if(i!=null){if(i&1){if(b.getHeight()<h+4){return}g=d.top+k-b.height;f=d.bottom-k-1;b.setPosition(b.x,Math.min(Math.max(b.y,g),f));g=b.top+2;f=b.bottom-(h+2);e=i===3;n=e?b.right:b.left;j=new a.Region(Math.max(b.top,d.top),n,Math.min(b.bottom,d.bottom),n);c=(new a.Region(0,0,0,0)).setWidth(m.y).setHeight(h).alignTo({target:j,align:e?'l-r':'r-l',overlap:!0});c.setPosition(c.x,Math.min(Math.max(c.y,g),f));c.position=e?'right':'left'}else {if(b.getWidth()<h+4){return}g=d.left+k-b.width;f=d.right-k-1;b.setPosition(Math.min(Math.max(b.x,g),f),b.y);g=b.left+2;f=b.right-(h+2);e=i===0;o=e?b.bottom:b.top;j=new a.Region(o,Math.min(b.right,d.right),o,Math.max(b.left,d.left));c=(new a.Region(0,0,0,0)).setWidth(h).setHeight(m.y).alignTo({target:j,align:e?'t-b':'b-t',overlap:!0});c.setPosition(Math.min(Math.max(c.x,g),f),c.y);c.position=e?'bottom':'top'}if(l&&!l.contains(c)){return}b.anchor=c;b.anchor.align=i}},h=function(c,a,e,b){var d;if(c&&b){if(a.top>=e.bottom&&a.bottom>b.bottom){a.setHeight(Math.max(a.getHeight()+b.bottom-a.bottom,c));a.constrainHeight=!0}else if(a.bottom<=e.top&&a.top<b.top){d=Math.max(a.getHeight()+a.top-b.top,c);a.adjust(a.getHeight()-d);a.constrainHeight=!0}else if(a.getHeight()>b.getHeight()){a.setHeight(Math.max(c,b.getHeight()));a.setPosition(a.x,0);a.constrainHeight=!0}}},i=function(c,a,e,b){var d;if(c&&b){if(a.left>=e.right&&a.right>b.right){a.setWidth(Math.max(a.getWidth()+b.right-a.right,c));a.constrainWidth=!0}else if(a.right<=e.left&&a.left<b.left){d=Math.max(a.getWidth()+a.left-b.left,c);a.adjust(0,0,0,a.getWidth()-d);a.constrainWidth=!0}else if(a.getWidth()>b.getWidth()){a.setWidth(Math.max(c,b.getWidth()));a.setPosition(0,a.y);a.constrainWidth=!0}}};return {isRegion:!0,statics:{getRegion:function(a){return Ext.fly(a).getRegion()},from:function(a){return new this(a.top,a.right,a.bottom,a.left)},getAlignInfo:function(a,i){if(typeof a==='object'){return a}a=a?a.indexOf('-')<0?'tl-'+a:a:'tl-bl';g=j.exec(a);a=g[1];a=(i?l:o)[a]||a;var h=i?f:e,g,c=p.exec(a),b;b={myEdge:c[1],myOffset:c[2],otherEdge:c[4],otherOffset:c[5],constrain:g[2]};if(c[3]){b.myEdge=c[3][0];b.myOffset=h[c[3][1]];if(b.myOffset==null){b.myOffset=50}}if(c[6]){b.otherEdge=c[6][0];b.otherOffset=h[c[6][1]];if(b.otherOffset==null){b.otherOffset=50}}b.position=d[b.myEdge];return b}},constructor:function(e,c,b,d){var a=this;a.y=a.top=a[1]=e;a.right=c;a.bottom=b;a.x=a.left=a[0]=d;a.height=a.bottom-a.top;a.width=a.right-a.left},setPosition:function(a,b){if(arguments.length===1){b=a[1];a=a[0]}return this.translateBy(a-this.x,b-this.y)},contains:function(a){var b=this;return a.x>=b.x&&(a.right||a.x)<=b.right&&a.y>=b.y&&(a.bottom||a.y)<=b.bottom},intersect:function(a){var b=this,f=Math.max(b.y,a.y),e=Math.min(b.right,a.right),c=Math.min(b.bottom,a.bottom),d=Math.max(b.x,a.x);if(c>f&&e>d){return new this.self(f,e,c,d)}else {return !1}},union:function(a){var b=this,f=Math.min(b.y,a.y),e=Math.max(b.right,a.right),c=Math.max(b.bottom,a.bottom),d=Math.min(b.x,a.x);return new this.self(f,e,c,d)},constrainTo:function(b){var a=this,c=Ext.Number.constrain;a.top=a.y=c(a.top,b.y,b.bottom);a.bottom=c(a.bottom,b.y,b.bottom);a.left=a.x=c(a.left,b.x,b.right);a.right=c(a.right,b.x,b.right);a.height=a.bottom-a.top;a.width=a.right-a.left;return a},adjust:function(e,c,b,d){var a=this;a.top=a.y+=e||0;a.left=a.x+=d||0;a.right+=c||0;a.bottom+=b||0;a.height=a.bottom-a.top;a.width=a.right-a.left;return a},getOutOfBoundOffset:function(d,b){var c;if(!Ext.isObject(d)){if(d==='x'){return this.getOutOfBoundOffsetX(b)}else {return this.getOutOfBoundOffsetY(b)}}else {b=d;c=new a.Offset();c.x=this.getOutOfBoundOffsetX(b.x);c.y=this.getOutOfBoundOffsetY(b.y);return c}},getOutOfBoundOffsetX:function(a){if(a<=this.x){return this.x-a}else if(a>=this.right){return this.right-a}return 0},getOutOfBoundOffsetY:function(a){if(a<=this.y){return this.y-a}else if(a>=this.bottom){return this.bottom-a}return 0},isOutOfBound:function(b,a){if(!Ext.isObject(b)){if(b==='x'){return this.isOutOfBoundX(a)}else {return this.isOutOfBoundY(a)}}else {a=b;return this.isOutOfBoundX(a.x)||this.isOutOfBoundY(a.y)}},isOutOfBoundX:function(a){return a<this.x||a>this.right},isOutOfBoundY:function(a){return a<this.y||a>this.bottom},restrict:function(d,a,b){var c;if(Ext.isObject(d)){b=a;a=d;if(a.copy){c=a.copy()}else {c={x:a.x,y:a.y}}c.x=this.restrictX(a.x,b);c.y=this.restrictY(a.y,b);return c}else {if(d==='x'){return this.restrictX(a,b)}else {return this.restrictY(a,b)}}},restrictX:function(a,b){if(!b){b=1}if(a<=this.x){a-=(a-this.x)*b}else if(a>=this.right){a-=(a-this.right)*b}return a},restrictY:function(a,b){if(!b){b=1}if(a<=this.y){a-=(a-this.y)*b}else if(a>=this.bottom){a-=(a-this.bottom)*b}return a},alignTo:function(h){var l=this,r=l.self,x=a.Offset,w=Ext.Element,e=k(h.target),p,o=h.rtl,q=h.overlap,f=h.align,i=h.anchorSize,m=h.offset,d=h.inside,j=h.position,t=h.allowXTranslate,u=h.allowYTranslate,n,b,v,s;if(m){m=x.fromObject(m)}if(i){i=x.fromObject(i)}if(d&&!d.isRegion){if(Ext.getDom(d)===document.body){d=new r(0,w.getDocumentWidth(),w.getDocumentHeight(),0)}else {d=Ext.fly(d).getRegion()}}if(j){if(j.length===2){j=new a.Point(j[0],j[1])}b=(new r()).copyFrom(l).setPosition(j.x,j.y)}else {f=l.getAlignInfo(f,o);if(d){if(e.x>=d.right){e.setPosition(d.right-1,e.y);if(f.position!==3){f=l.getAlignInfo('r-l',o)}}else if(e.right<d.x){e.setPosition(d.x-e.getWidth()+1,e.y);if(f.position!==1){f=l.getAlignInfo('l-r',o)}}if(e.y>=d.bottom){e.setPosition(e.x,d.bottom-1);if(f.position!==0){f=l.getAlignInfo('b-t',o)}}else if(e.bottom<d.y){e.setPosition(e.x,d.y-e.getHeight()+1);if(f.position!==2){f=l.getAlignInfo('t-b',o)}}}p=i?g(e,i,f.position):e;b=r.from(l).translateBy(l.getAlignToVector(p,f));q=!!b.intersect(p);if(m&&(q||!i)){b.translateBy(m)}if(i){c(e,b,f.position,i,d)}}if(d){v=b.copy();if(b.left<d.left){b.translateBy(d.left-b.left,0);n=!0}if(b.right>d.right&&b.left>d.left){b.translateBy(d.right-b.right,0);n=!0}if(b.top<d.top){b.translateBy(0,d.top-b.top);n=!0}if(b.bottom>d.bottom&&b.top>d.top){b.translateBy(0,d.bottom-b.bottom);n=!0}if(n&&!q){b.anchor=null;if(h.axisLock){if(f.position&1){u=!1}else {t=!1}}if(j){if(b.contains(j)){j.exclude(b,{inside:d,centerOnSideChange:!1})}}else {s=b.copy();if(b.intersect(p)){f.position=e.exclude(b,{initialPosition:v,defaultPosition:f.position,inside:d,minHeight:h.minHeight,minWidth:h.minWidth,allowX:t,allowY:u,offset:m,anchorHeight:i?i.y:0,centerOnSideChange:!!i})}else if(h.minWidth&&b.getWidth()>d.getWidth()){b.setPosition(0,b.y);b.setWidth(Math.max(d.getWidth(),h.minWidth));b.constrainWidth=!0}else if(h.minHeight&&b.getHeight()>d.getHeight()){b.setPosition(b.x,0);b.setHeight(Math.max(d.getHeight(),h.minHeight));b.constrainHeight=!0}b.align=f;if(d.contains(b)){if(i){c(e,b,f.position,i,d)}}else {b=s}}}}return b},exclude:function(d,e){e=e||{};var j=this,s=e.initialPosition||d,n=e.inside,r=e.defaultPosition,u=e.centerOnSideChange,v=e.minHeight,w=e.minWidth,x=e.allowX!==!1,y=e.allowY!==!1,k=e.anchorHeight,g=e.offset,l=[],c,b,t,f,q,p,o;if(!g){g=m}if(y){l.push([0,j.top-d.bottom-k+g.y,'b-t',0,Math.abs(j.top-s.bottom-k+g.y)]);l.push([0,j.bottom-d.top+k+g.y,'t-b',2,Math.abs(j.bottom-s.top+k+g.y)])}else {u=!1}if(x){l.push([j.left-d.right-k+g.x,0,'r-l',3,Math.abs(j.left-s.right-k+g.x)]);l.push([j.right-d.left+k+g.x,0,'l-r',1,Math.abs(j.right-s.left+k+g.x)])}else {u=!1}Ext.Array.sort(l,function(b,c){var a=b[4]-c[4];if(!a){if(b[3]===r){return -1}if(c[3]===r){return 1}}return a});if(n){for(t=0;t<l.length;t++){b=l[t];c=a.Region.from(d);c.translateBy.apply(c,b);if(n.contains(c)){d.copyFrom(c);o={align:b[2],position:b[3],distance:b[4]};break}if(v){h(v,c,j,n);if(n.contains(c)){if(!f||c.getArea()>f.region.getArea()){f={region:c,align:b[2],position:b[3],distance:b[4]}}}}if(w){i(w,c,j,n);if(n.contains(c)){if(!f||c.getArea()>f.region.getArea()){f={region:c,align:b[2],position:b[3],distance:b[4]}}}}p=n.intersect(c);if(p){p=p.getArea();if(!q||p&&q.area<p){q={region:c,align:b[2],position:b[3],distance:b[4],area:p}}}}if(!o){if(f){d.copyFrom(f.region);o=f;d.constrainWidth=f.region.constrainWidth;d.constrainHeight=f.region.constrainHeight}else if(q){d.copyFrom(q.region);o=q}}if(o){if((o.position&1)!==(r&1)){if(o.distance&&u){b=d.alignTo({align:o.align,target:j,anchorSize:k,offset:g,axisLock:!0,inside:n,minHeight:e.minHeight,minWidth:e.minWidth});if(n.contains(b)){d.setPosition(b.x,b.y)}}}return o.position}}else {d.translateBy.apply(d,l[0]);return l[0][3]}return r},getAlignToXY:function(b,c,d){var a=this.getAlignToVector(b,c,d);return [this.x+a[0],this.y+a[1]]},getAnchorPoint:function(a,b){a=typeof a==='string'?this.getAlignInfo(a+'-tl',b):a;return this['getAnchorPoint_'+a.myEdge](a.myOffset)},getAlignToVector:function(d,a,e){a=typeof a==='string'?this.getAlignInfo(a,e):a;var c=this['getAnchorPoint_'+a.myEdge](a.myOffset),b=d['getAnchorPoint_'+a.otherEdge](a.otherOffset);return [b[0]-c[0],b[1]-c[1]]},getAnchorPoint_t:function(a){return [this.x+Math.round(this.getWidth()*(a/100)),this.y]},getAnchorPoint_b:function(a){return [this.x+Math.round(this.getWidth()*(a/100)),this.bottom]},getAnchorPoint_l:function(a){return [this.x,this.y+Math.round(this.getHeight()*(a/100))]},getAnchorPoint_r:function(a){return [this.right,this.y+Math.round(this.getHeight()*(a/100))]},getAnchorPoint_c:function(){return [this.x+Math.round(this.getWidth()/2),this.y+Math.round(this.getHeight()/2)]},getCenter:function(){return [this.x+this.width/2,this.y+this.height/2]},getHeight:function(){return this.bottom-this.y},getWidth:function(){return this.right-this.x},getArea:function(){return this.getHeight()*this.getWidth()},setHeight:function(a){this.height=a;this.bottom=this.top+a;return this},setWidth:function(a){this.width=a;this.right=this.left+a;return this},getSize:function(){return {width:this.right-this.x,height:this.bottom-this.y}},setSize:function(b,a){if(a===undefined){a=b}this.setWidth(b);return this.setHeight(a)},copy:function(){return new this.self(this.y,this.right,this.bottom,this.x)},copyFrom:function(b){var a=this;a.top=a.y=a[1]=b.y;a.right=b.right;a.bottom=b.bottom;a.left=a.x=a[0]=b.x;return a},toString:function(){return 'Region['+this.top+','+this.right+','+this.bottom+','+this.left+']'},translateBy:function(a,c){var b=this;if(a.length){c=a[1];a=a[0]}else if(arguments.length===1){c=a.y;a=a.x}b.top=b.y+=c;b.right+=a;b.bottom+=c;b.left=b.x+=a;return b},round:function(){var a=this;a.top=a.y=Math.round(a.y);a.right=Math.round(a.right);a.bottom=Math.round(a.bottom);a.left=a.x=Math.round(a.x);return a},equals:function(a){return this.top===a.top&&this.right===a.right&&this.bottom===a.bottom&&this.left===a.left},getOffsetsTo:function(a){return {x:this.x-a.x,y:this.y-a.y}}}},3,0,0,0,0,0,[Ext.util,'Region'],function(a){a.prototype.getAlignInfo=a.getAlignInfo;a.EMPTY=new a(0,0,0,0)});Ext.cmd.derive('Ext.util.Point',Ext.util.Region,{isPoint:!0,radianToDegreeConstant:180/Math.PI,origin:{x:0,y:0},statics:{fromEvent:function(b){var a=b.changedTouches,c=a&&a.length>0?a[0]:b;return this.fromTouch(c)},fromTouch:function(a){return new this(a.pageX,a.pageY)},from:function(a){if(!a){return new this(0,0)}if(!(a instanceof this)){return new this(a.x,a.y)}return a}},constructor:function(a,b){if(a==null){a=0}if(b==null){b=0}Ext.util.Region.prototype.constructor.call(this,b,a,b,a)},clone:function(){return new this.self(this.x,this.y)},copy:function(){return this.clone.apply(this,arguments)},copyFrom:function(a){this.x=a.x;this.y=a.y;return this},toString:function(){return 'Point['+this.x+','+this.y+']'},equals:function(a){return this.x===a.x&&this.y===a.y},isCloseTo:function(b,a){if(typeof a==='number'){return this.getDistanceTo(b)<=a}var e=b.x,f=b.y,c=a.x,d=a.y;return this.x<=e+c&&this.x>=e-c&&this.y<=f+d&&this.y>=f-d},isWithin:function(){return this.isCloseTo.apply(this,arguments)},isContainedBy:function(a){if(!(a instanceof Ext.util.Region)){a=Ext.get(a.el||a).getRegion()}return a.contains(this)},roundedEquals:function(a){if(!a||typeof a!=='object'){a=this.origin}return Math.round(this.x)===Math.round(a.x)&&Math.round(this.y)===Math.round(a.y)},getDistanceTo:function(a){if(!a||typeof a!=='object'){a=this.origin}var b=this.x-a.x,c=this.y-a.y;return Math.sqrt(b*b+c*c)},getAngleTo:function(a){if(!a||typeof a!=='object'){a=this.origin}var b=this.x-a.x,c=this.y-a.y;return Math.atan2(c,b)*this.radianToDegreeConstant}},3,0,0,0,0,0,[Ext.util,'Point'],function(){this.prototype.translate=this.prototype.translateBy});Ext.cmd.derive('Ext.event.Event',Ext.Base,{alternateClassName:'Ext.EventObjectImpl',stopped:!1,claimed:!1,defaultPrevented:!1,isEvent:!0,geckoRelatedTargetEvents:{blur:1,dragenter:1,dragleave:1,focus:1},statics:{resolveTextNode:function(a){return a&&a.nodeType===3?a.parentNode:a},gestureEvents:{},pointerEvents:{pointerdown:1,pointermove:1,pointerup:1,pointercancel:1,pointerover:1,pointerout:1,pointerenter:1,pointerleave:1,MSPointerDown:1,MSPointerMove:1,MSPointerUp:1,MSPointerOver:1,MSPointerOut:1,MSPointerCancel:1,MSPointerEnter:1,MSPointerLeave:1},mouseEvents:{mousedown:1,mousemove:1,mouseup:1,mouseover:1,mouseout:1,mouseenter:1,mouseleave:1},clickEvents:{click:1,dblclick:1},touchEvents:{touchstart:1,touchmove:1,touchend:1,touchcancel:1},focusEvents:{focus:1,focusin:1,focusenter:1},blurEvents:{blur:1,focusout:1,focusleave:1},wheelEvents:{wheel:1},pointerTypeMap:{2:'touch',3:'pen',4:'mouse',touch:'touch',pen:'pen',mouse:'mouse'},keyEventRe:/^key/,keyFlags:{CTRL:'ctrlKey',CONTROL:'ctrlKey',ALT:'altKey',SHIFT:'shiftKey',CMD:'metaKey',COMMAND:'metaKey',CMDORCTRL:Ext.isMac?'metaKey':'ctrlKey',COMMANDORCONTROL:Ext.isMac?'metaKey':'ctrlKey',META:'metaKey'},modifierGlyphs:{ctrlKey:'',altKey:'',metaKey:Ext.isMac?'':'',shiftKey:''},specialKeyGlyphs:{BACKSPACE:'',TAB:'',ENTER:'',RETURN:'',SPACE:'',PAGE_UP:'',PAGE_DOWN:'',END:'',HOME:'',LEFT:'',UP:'',RIGHT:'',DOWN:'',PRINT_SCREEN:'',INSERT:'',DELETE:'',CONTEXT_MENU:''},_hyphenRe:/^[a-z]+\-/i,getKeyId:function(b){if(typeof b==='number'){b=this.keyCodes[b]}else {b=b.toUpperCase()}var c=this,e=c._hyphenRe.test(b)?'-':'+',f=b===e?[e]:b.split(e),g=f.length-1,i=f[g],a=[],h,d;for(d=0;d<g;d++){h=c.keyFlags[f[d]];a[h]=!0}if(a.ctrlKey){a.push(c.modifierGlyphs.ctrlKey)}if(a.altKey){a.push(c.modifierGlyphs.altKey)}if(a.shiftKey){a.push(c.modifierGlyphs.shiftKey)}if(a.metaKey){a.push(c.modifierGlyphs.metaKey)}a.push(this.specialKeyGlyphs[i]||i);return a.join('')},globalTabKeyDown:function(a){if(a.keyCode===9){Ext.event.Event.forwardTab=!a.shiftKey}},globalTabKeyUp:function(a){if(a.keyCode===9){delete Ext.event.Event.forwardTab}}},constructor:function(b){var a=this,c=a.self,g=a.self.resolveTextNode,i=b.changedTouches,f=i?i[0]:b,d=b.type,e,h;a.timeStamp=a.time=Ext.ticks();a.pageX=f.pageX;a.pageY=f.pageY;a.clientX=f.clientX;a.clientY=f.clientY;a.target=a.delegatedTarget=g(b.target);a.currentTarget=g(b.currentTarget);h=b.relatedTarget;if(h){if(Ext.isGecko&&a.geckoRelatedTargetEvents[d]){try{a.relatedTarget=g(h)}catch(j){a.relatedTarget=null}}else {a.relatedTarget=g(h)}}a.browserEvent=a.event=b;a.type=d;a.button=b.button||0;a.shiftKey=b.shiftKey;a.ctrlKey=b.ctrlKey||b.metaKey||!1;a.altKey=b.altKey;a.charCode=b.charCode;a.keyCode=b.keyCode;a.buttons=b.buttons;if(a.button===0&&a.buttons===0){a.buttons=1}if(c.focusEvents[d]||c.blurEvents[d]){if(c.forwardTab!==undefined){a.forwardTab=c.forwardTab}if(c.focusEvents[d]){a.fromElement=b.relatedTarget;a.toElement=b.target}else {a.fromElement=b.target;a.toElement=b.relatedTarget}}else if(d!=='keydown'){delete c.forwardTab}if(c.mouseEvents[d]){e='mouse'}else if(c.clickEvents[d]){e=c.pointerTypeMap[b.pointerType]||(Ext.now()-Ext.event.publisher.Dom.lastTouchEndTime<1000?'touch':'mouse')}else if(c.pointerEvents[d]){e=c.pointerTypeMap[b.pointerType]||'mouse'}else if(c.touchEvents[d]){e='touch'}if(e){a.pointerType=e}a.isMultitouch=b.isPrimary===!1||b.touches&&b.touches.length>1;if(c.wheelEvents[d]){a.getWheelDeltas()}},chain:function(b){var a=Ext.Object.chain(this);a.parentEvent=this;return Ext.apply(a,b)},correctWheelDelta:function(b){var c=this,d=c.browserEvent.deltaMode,a=b;if(d===0){a=b*c.WHEEL_PIXEL_SIZE}else if(d===1){a=b*c.WHEEL_LINE_SIZE}else if(d===2){a=b*c.WHEEL_PAGE_SIZE}return Math.round(a)},getChar:function(){var a=this.which();return String.fromCharCode(a)},getCharCode:function(){return this.charCode||this.keyCode},getKey:function(){return this.keyCode||this.charCode},getKeyName:function(){return this.type==='keypress'?String.fromCharCode(this.getCharCode()):this.keyCodes[this.keyCode]},key:function(){return this.browserEvent.key},which:function(){var c=this,b=c.browserEvent,a=b.which;if(a==null){if(c.self.keyEventRe.test(b.type)){a=b.charCode||b.keyCode}else if((a=b.button)!==undefined){a=a&1?1:a&4?2:a&2?3:0}}return a},getClipboardData:function(a){var b=this.browserEvent.clipboardData,c=Ext.global.clipboardData,d=null,e;a=a||'text/plain';if(b&&b.getData){d=b.getData(a)}else if(c&&c.getData){e=this.ieMimeType[a];if(e){d=c.getData(e)}}return d},getPoint:function(){var b=this,a=b.point,c;if(!a){c=b.getXY();a=b.point=new Ext.util.Point(c[0],c[1])}return a},getRelatedTarget:function(d,e,c){var a=this.relatedTarget,b=null;if(a&&a.nodeType){if(d){b=Ext.fly(a).findParent(d,e,c)}else {b=c?Ext.get(a):a}}return b},getTarget:function(b,c,a){return b?Ext.fly(this.target).findParent(b,c,a):a?Ext.get(this.target):this.target},getTime:function(){return this.time},getWheelDelta:function(){var a=this.getWheelDeltas();return a.y},getWheelDeltas:function(){var a=this,d=a.wheelDeltas,c,e,b;if(!d){c=a.browserEvent;e=a.correctWheelDelta(c.deltaX||0);b=c.deltaY;b=a.correctWheelDelta(b==null?-c.wheelDelta:b);a.deltaX=e;a.deltaY=b;a.wheelDeltas=d={x:e,y:b}}return d},getX:function(){return this.getXY()[0]},getXY:function(){var d=this,c=d.xy;if(!c){c=d.xy=[d.pageX,d.pageY];var g=c[0],e,f,a,b;if(!g&&g!==0){e=d.browserEvent;f=document;a=f.documentElement;b=f.body;c[0]=e.clientX+(a&&a.scrollLeft||b&&b.scrollLeft||0)-(a&&a.clientLeft||b&&b.clientLeft||0);c[1]=e.clientY+(a&&a.scrollTop||b&&b.scrollTop||0)-(a&&a.clientTop||b&&b.clientTop||0)}}return c},getLocalXY:function(f){var e=this.getXY(),d=Ext.fly(this.currentTarget).getXY(),a=e[0]-d[0],b=e[1]-d[1],c;if(f){c=Ext.fly(this.currentTarget).getSize();a=Math.max(0,Math.min(a,c.width));b=Math.max(0,Math.min(b,c.height))}return [a,b]},getY:function(){return this.getXY()[1]},hasModifier:function(){var a=this;return !!(a.ctrlKey||a.altKey||a.shiftKey||a.metaKey)},isNavKeyPress:function(c){var a=this,b=a.keyCode,d=a.type==='keypress';return (!d||Ext.isGecko)&&b>=33&&b<=40||!c&&(b===a.RETURN||b===a.TAB||b===a.ESC)},isSpecialKey:function(){var b=this,a=b.keyCode,d=Ext.isGecko,c=b.type==='keypress';return d&&c&&b.charCode===0||this.isNavKeyPress()||a===b.BACKSPACE||a===b.ENTER||a>=16&&a<=20||(!c||d)&&a>=44&&a<=46},makeUnpreventable:function(){this.browserEvent.preventDefault=Ext.emptyFn},preventDefault:function(){var a=this,b=a.parentEvent;a.defaultPrevented=!0;if(b){b.defaultPrevented=!0}a.browserEvent.preventDefault();return a},setCurrentTarget:function(a){this.currentTarget=this.delegatedTarget=a},stopEvent:function(){return this.preventDefault().stopPropagation()},mousedownEvents:{mousedown:1,pointerdown:1,touchstart:1},mouseupEvents:{mouseup:1,pointerup:1,touchend:1},stopPropagation:function(){var a=this,b=a.browserEvent,c=a.parentEvent;if(a.mousedownEvents[a.type]){Ext.GlobalEvents.fireMouseDown(a)}if(a.mouseupEvents[a.type]){Ext.GlobalEvents.fireMouseUp(a)}a.stopped=!0;if(c&&!a.isGesture){c.stopped=!0}if(!b.stopPropagation){b.cancelBubble=!0;return a}b.stopPropagation();return a},claimGesture:function(){var a=this,b=a.parentEvent;a.claimed=!0;if(b&&!a.isGesture){b.claimGesture()}else {a.preventDefault()}return a},within:function(b,d,c){var a;if(b){a=d?this.getRelatedTarget():this.getTarget()}if(!a||c===!1&&a===Ext.getDom(b)){return !1}return Ext.fly(b).contains(a)},privates:{ieMimeType:{'text/plain':'Text'}},deprecated:{'4.0':{methods:{getPageX:'getX',getPageY:'getY'}}}},1,0,0,0,0,0,[Ext.event,'Event',Ext,'EventObjectImpl'],function(b){var d={BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,RETURN:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,WHEEL_PIXEL_SIZE:1,WHEEL_LINE_SIZE:20,WHEEL_PAGE_SIZE:600},h={},f=b.gestureEvents,c=b.prototype,a,g,i,e;Ext.apply(f,b.mouseEvents);Ext.apply(f,b.pointerEvents);Ext.apply(f,b.touchEvents);Ext.apply(b,d);Ext.apply(c,d);delete d.RETURN;for(g in d){i=d[g];h[i]=g}b.keyCodes=c.keyCodes=h;if(!Ext.isIE9m){document.addEventListener('keydown',b.globalTabKeyDown,!0);document.addEventListener('keyup',b.globalTabKeyUp,!0)}c.getTrueXY=c.getXY;if(typeof KeyboardEvent!=='undefined'&&!('key' in KeyboardEvent.prototype)){c._keys=e={3:'Cancel',6:'Help',8:'Backspace',9:'Tab',12:'Clear',13:'Enter',16:'Shift',17:'Control',18:'Alt',19:'Pause',20:'CapsLock',27:'Escape',28:'Convert',29:'NonConvert',30:'Accept',31:'ModeChange',32:' ',33:'PageUp',34:'PageDown',35:'End',36:'Home',37:'ArrowLeft',38:'ArrowUp',39:'ArrowRight',40:'ArrowDown',41:'Select',42:'Print',43:'Execute',44:'PrintScreen',45:'Insert',46:'Delete',48:['0',')'],49:['1','!'],50:['2','@'],51:['3','#'],52:['4','$'],53:['5','%'],54:['6','^'],55:['7','&'],56:['8','*'],57:['9','('],91:'OS',93:'ContextMenu',144:'NumLock',145:'ScrollLock',181:'VolumeMute',182:'VolumeDown',183:'VolumeUp',186:[';',':'],187:['=','+'],188:[',','<'],189:['-','_'],190:['.','>'],191:['/','?'],192:['`','~'],219:['[','{'],220:['\\','|'],221:[']','}'],222:["'",'"'],224:'Meta',225:'AltGraph',246:'Attn',247:'CrSel',248:'ExSel',249:'EraseEof',250:'Play',251:'ZoomOut'};for(a=1;a<25;++a){e[a+111]='F'+a}for(a=0;a<26;++a){e[a]=[String.fromCharCode(a+97),String.fromCharCode(a+65)]}c.key=function(){var a=e[this.browserEvent.which||this.keyCode];if(a&&typeof a!=='string'){a=a[+this.shiftKey]}return a}}});Ext.cmd.derive('Ext.event.publisher.Dom',Ext.event.publisher.Publisher,{type:'dom',handledDomEvents:[],reEnterCount:0,captureEvents:{animationstart:1,animationend:1,resize:1,focus:1,blur:1},directEvents:{mouseenter:1,mouseleave:1,pointerenter:1,pointerleave:1,MSPointerEnter:1,MSPointerLeave:1,load:1,unload:1,beforeunload:1,error:1,DOMContentLoaded:1,DOMFrameContentLoaded:1,hashchange:1,scroll:1,online:1,offline:1},blockedPointerEvents:{pointerover:1,pointerout:1,pointerenter:1,pointerleave:1,MSPointerOver:1,MSPointerOut:1,MSPointerEnter:1,MSPointerLeave:1},blockedCompatibilityMouseEvents:{mouseenter:1,mouseleave:1},constructor:function(){var a=this,b=Ext.supports.PassiveEventListener;a.listenerOptions=b?{passive:!1}:!1;a.captureOptions=b?{passive:!1,capture:!0}:!0;a.bubbleSubscribers={};a.captureSubscribers={};a.directSubscribers={};a.directCaptureSubscribers={};a.delegatedListeners={};a.initHandlers();Ext.onInternalReady(a.onReady,a);Ext.event.publisher.Publisher.prototype.constructor.call(this);a.registerDomEvents()},registerDomEvents:function(){var c=this,e=Ext.event.publisher.Publisher.publishersByEvent,d=c.handledDomEvents,f=d.length,a,b;for(a=0;a<f;a++){b=d[a];c.handles[b]=1;e[b]=c}},onReady:function(){var a=this,c=a.handledDomEvents,d,b;if(c){for(b=0,d=c.length;b<d;b++){a.addDelegatedListener(c[b])}}Ext.getWin().on('unload',a.destroy,a,{priority:-10000})},initHandlers:function(){var a=this;a.onDelegatedEvent=Ext.bind(a.onDelegatedEvent,a);a.onDirectEvent=Ext.bind(a.onDirectEvent,a);a.onDirectCaptureEvent=Ext.bind(a.onDirectCaptureEvent,a)},addDelegatedListener:function(b){var a=this;a.delegatedListeners[b]=1;a.target.addEventListener(b,a.onDelegatedEvent,a.captureEvents[b]?a.captureOptions:a.listenerOptions)},removeDelegatedListener:function(b){var a=this;delete a.delegatedListeners[b];a.target.removeEventListener(b,a.onDelegatedEvent,a.captureEvents[b]?a.captureOptions:a.listenerOptions)},addDirectListener:function(c,d,b){var a=this;d.dom.addEventListener(c,b?a.onDirectCaptureEvent:a.onDirectEvent,b?a.captureOptions:a.listenerOptions)},removeDirectListener:function(c,d,b){var a=this;d.dom.removeEventListener(c,b?a.onDirectCaptureEvent:a.onDirectEvent,b?a.captureOptions:a.listenerOptions)},subscribe:function(f,b,g,e){var c=this,a,d;if(g&&!c.directEvents[b]){a=e?c.captureSubscribers:c.bubbleSubscribers;if(!c.handles[b]&&!c.delegatedListeners[b]){c.addDelegatedListener(b)}if(a[b]){++a[b]}else {a[b]=1}}else {a=e?c.directCaptureSubscribers:c.directSubscribers;d=f.id;a=a[b]||(a[b]={});if(a[d]){++a[d]}else {a[d]=1;c.addDirectListener(b,f,e)}}},unsubscribe:function(h,b,i,g){var c=this,e,f,a,d;if(i&&!c.directEvents[b]){e=c.captureSubscribers;f=c.bubbleSubscribers;a=g?e:f;if(a[b]){--a[b]}if(!c.handles[b]&&!f[b]&&!e[b]){this.removeDelegatedListener(b)}}else {a=g?c.directCaptureSubscribers:c.directSubscribers;d=h.id;a=a[b];if(a[d]){--a[d]}if(!a[d]){delete a[d];c.removeDirectListener(b,h,g)}}},getPropagatingTargets:function(d){var a=d,c=[],b;while(a){c.push(a);b=a.parentNode;if(!b){b=a.defaultView}a=b}return c},publish:function(a,i,h){var f=this,j=!1,k=!1,c,m,l,e,d,n,b,g;h=h||!1;if(!i){l=a.target;if(f.captureEvents[a.type]){e=Ext.cache[l.id];i=e?[e]:[]}else {i=f.getPropagatingTargets(l)}}c=Ext.Array.from(a);n=i.length;g=c.length;for(d=0;d<g;d++){m=c[d].type;if(!j&&f.captureSubscribers[m]){j=!0}if(!k&&f.bubbleSubscribers[m]){k=!0}}if(j){for(d=n;d--;){e=Ext.cache[i[d].id];if(e){for(b=0;b<g;b++){a=c[b];f.fire(e,a.type,a,!1,!0);if(!h&&a.claimed){h=!0;b=f.filterClaimed(c,a);g=c.length}if(a.stopped){c.splice(b,1);b--;g--}}}}}if(k&&!a.stopped){for(d=0;d<n;d++){e=Ext.cache[i[d].id];if(e){for(b=0;b<g;b++){a=c[b];f.fire(e,a.type,a,!1,!1);if(!h&&a.claimed&&f.filterClaimed){h=!0;b=f.filterClaimed(c,a);g=c.length}if(a.stopped){c.splice(b,1);b--;g--}}}}}},publishDelegatedDomEvent:function(a){this.publish(a)},fire:function(b,d,c,f,e){var a;if(b.hasListeners[d]){a=b.events[d];if(a){if(e&&f){a=a.directCaptures}else if(e){a=a.captures}else if(f){a=a.directs}if(a){c.setCurrentTarget(b.dom);a.fire(c,c.target)}}}},onDelegatedEvent:function(a){if(Ext.elevateFunction){Ext.elevateFunction(this.doDelegatedEvent,this,[a])}else {this.doDelegatedEvent(a)}},doDelegatedEvent:function(b){var a=this,c;b=new Ext.event.Event(b);c=b.time;if(!a.isEventBlocked(b)){a.beforeEvent(b);Ext.frameStartTime=c;a.reEnterCountAdjusted=!1;a.reEnterCount++;a.publishDelegatedDomEvent(b);if(!a.reEnterCountAdjusted){a.reEnterCount--}a.afterEvent(b)}},onDirectEvent:function(a){if(Ext.elevateFunction){Ext.elevateFunction(this.doDirectEvent,this,[a,!1])}else {this.doDirectEvent(a,!1)}},onDirectCaptureEvent:function(a){if(Ext.elevateFunction){Ext.elevateFunction(this.doDirectEvent,this,[a,!0])}else {this.doDirectEvent(a,!0)}},doDirectEvent:function(a,f){var b=this,e=a.currentTarget,d,c;a=new Ext.event.Event(a);d=a.time;if(b.isEventBlocked(a)){return}b.beforeEvent(a);Ext.frameStartTime=d;c=Ext.cache[e.id];if(c){b.reEnterCountAdjusted=!1;b.reEnterCount++;b.fire(c,a.type,a,!0,f);if(!b.reEnterCountAdjusted){b.reEnterCount--}}b.afterEvent(a)},beforeEvent:function(e){var c=e.browserEvent,d=Ext.event.publisher.Dom,a,b;if(c.type==='touchstart'){a=c.touches;if(a.length===1){b=a[0];d.lastTouchStartX=b.pageX;d.lastTouchStartY=b.pageY}}},afterEvent:function(b){var e=b.browserEvent,a=e.type,c=Ext.event.publisher.Dom,d=Ext.GlobalEvents;if(b.self.pointerEvents[a]&&b.pointerType!=='mouse'){c.lastScreenPointerEventTime=Ext.now()}if(a==='touchend'){c.lastTouchEndTime=Ext.now()}if(!this.reEnterCount&&!d.idleEventMask[a]){Ext.fireIdle()}},isEventBlocked:function(a){var d=this,c=a.type,b=Ext.event.publisher.Dom,e=Ext.now();if(Ext.isGecko&&a.type==='click'&&a.button===2){return !0}return d.blockedPointerEvents[c]&&a.pointerType!=='mouse'||d.blockedCompatibilityMouseEvents[c]&&e-b.lastScreenPointerEventTime<1000||Ext.supports.TouchEvents&&a.self.mouseEvents[a.type]&&Math.abs(a.pageX-b.lastTouchStartX)<15&&Math.abs(a.pageY-b.lastTouchStartY)<15&&Ext.now()-b.lastTouchEndTime<1000},destroy:function(){var b=Ext.dom['GarbageCollector'],a;for(a in this.delegatedListeners){this.removeDelegatedListener(a)}Ext.Reaper.flush();if(b){b.collect()}this.callParent()},reset:function(){var a=Ext.event.publisher.Dom;this.reEnterCount=0;a.lastScreenPointerEventTime=a.lastTouchEndTime=a.lastTouchStartX=a.lastTouchStartY=undefined}},1,0,0,0,0,0,[Ext.event.publisher,'Dom'],function(b){var d=document,a=d.defaultView,c=b.prototype;if(Ext.os.is.iOS&&window.self!==window.top||Ext.browser.is.AndroidStock||!(a&&a.addEventListener)){c.target=d}else {c.target=a}b.instance=new b()});Ext.cmd.derive('Ext.event.publisher.Gesture',Ext.event.publisher.Dom,{type:'gesture',isCancelEvent:{touchcancel:1,pointercancel:1,MSPointerCancel:1},isEndEvent:{mouseup:1,touchend:1,pointerup:1,MSPointerUp:1},handledEvents:[],handledDomEvents:[],constructor:function(h){var a=this,c=a.handledDomEvents,g=Ext.supports,f=g.TouchEvents,d=a.onTouchStart,e=a.onTouchMove,b=a.onTouchEnd;a.handlers={touchstart:d,touchmove:e,touchend:b,touchcancel:b,pointerdown:d,pointermove:e,pointerup:b,pointercancel:b,MSPointerDown:d,MSPointerMove:e,MSPointerUp:b,MSPointerCancel:b,mousedown:d,mousemove:e,mouseup:b};a.activeTouchesMap={};a.activeTouches=[];a.changedTouches=[];a.recognizers=[];a.eventToRecognizer={};a.cancelEvents=[];if(f){a.onTargetTouchMove=a.onTargetTouchMove.bind(a);a.onTargetTouchEnd=a.onTargetTouchEnd.bind(a)}if(g.PointerEvents){c.push('pointerdown','pointermove','pointerup','pointercancel');a.mousePointerType='mouse'}else if(g.MSPointerEvents){c.push('MSPointerDown','MSPointerMove','MSPointerUp','MSPointerCancel');a.mousePointerType=4}else if(f){c.push('touchstart','touchmove','touchend','touchcancel')}if(!c.length||f&&Ext.os.is.Desktop){c.push('mousedown','mousemove','mouseup')}a.initConfig(h);return Ext.event.publisher.Dom.prototype.constructor.call(this)},onReady:function(){Ext.event.publisher.Dom.prototype.onReady.call(this);Ext.Array.sort(this.recognizers,function(c,d){var a=c.priority,b=d.priority;return a>b?1:a<b?-1:0})},registerRecognizer:function(b){var a=this,d=b.handledEvents,f=d.length,e,c;b.setOnRecognized(a.onRecognized);b.setCallbackScope(a);for(c=0;c<f;c++){e=d[c];a.handledEvents.push(e);a.eventToRecognizer[e]=b}a.registerEvents(d);a.recognizers.push(b)},onRecognized:function(n,o,b,a,p){var c=this,h=b.touches,d=b.changedTouches,k=d.length,i=c.events,l=!i.length,m=c.cancelEvents,f,g,e,j;a=a||{};a.type=o;a.target=d[0].target;a.stopped=!1;a.claimed=!1;a.isGesture=!0;b=b.chain(a);if(!c.gestureTargets){if(k>1){f=[];for(e=0;e<k;e++){j=d[e];f.push(j.targets)}g=c.getCommonTargets(f)}else {g=d[0].targets}c.gestureTargets=g}if(p&&n.isSingleTouch&&h.length>1){b.target=h[0].target;m.push(b)}else {i.push(b)}if(l){c.publishGestures()}},getCommonTargets:function(e){var d=e[0],h=e.length,a=[],g=1,b,f,c;if(h===1){return d}while(!0){b=d[d.length-g];if(!b){return a}for(c=1;c<h;c++){f=e[c];if(f[f.length-g]!==b){return a}}a.unshift(b);g++}return a},invokeRecognizers:function(d,f){var c=this.recognizers,e=c.length,a,b;if(d==='onStart'){for(a=0;a<e;a++){c[a].isActive=!0}}for(a=0;a<e;a++){b=c[a];if(b.isActive&&b[d].call(b,f)===!1){b.isActive=!1}}},filterClaimed:function(c,j){var i=this,g=i.eventToRecognizer,h=j.type,d=g[h],b,e,f,a;for(a=c.length;a--;){f=c[a].type;if(f===h){b=a}else {e=g[f];if(!d||e&&e!==d){c.splice(a,1);if(b){b--}}}}i.claimRecognizer(d,c[0]);return b},claimRecognizer:function(f,g){var c=this,d=c.recognizers,b,e,a;for(b=0,e=d.length;b<e;b++){a=d[b];if(a!==f){a.isActive=!1;a.cancel(g)}}if(c.events.length){c.publishGestures(!0)}},publishGestures:function(e){var a=this,b=a.cancelEvents,c=a.events,d=a.gestureTargets;if(b.length){a.cancelEvents=[];a.publish(b,a.getPropagatingTargets(b[0].target),!0)}if(c.length){a.events=[];a.gestureTargets=null;a.publish(c,d||a.getPropagatingTargets(c[0].target),e)}},updateTouches:function(e){var d=this,m=e.browserEvent,o=e.type,n=m.changedTouches||[m],h=d.activeTouches,g=d.activeTouchesMap,l=[],b,c,a,i,f,p,j,k;for(f=0,p=n.length;f<p;f++){b=n[f];if('identifier' in b){c=b.identifier}else if('pointerId' in b){c=b.pointerId}else {c=1}a=g[c];if(!a){i=Ext.event.Event.resolveTextNode(b.target);a=g[c]={identifier:c,target:i,targets:d.getPropagatingTargets(i)};h.push(a)}if(d.isEndEvent[o]||d.isCancelEvent[o]){delete g[c];Ext.Array.remove(h,a)}j=Math.round(b.pageX);k=Math.round(b.pageY);a.pageX=j;a.pageY=k;a.point=new Ext.util.Point(j,k);l.push(a)}e.touches=Ext.Array.clone(h);e.changedTouches=l},publishDelegatedDomEvent:function(a){var b=this;if(!a.button||a.button<1){b.events=[a];a.browserEvent.$extHandled=!0;b.handlers[a.type].call(b,a)}else {Ext.event.publisher.Dom.prototype.publishDelegatedDomEvent.call(this,a)}},onTouchStart:function(b){var a=this,d=b.target,c=b.browserEvent.touches;if(b.browserEvent.type==='touchstart'){d.addEventListener('touchmove',a.onTargetTouchMove);d.addEventListener('touchend',a.onTargetTouchEnd);d.addEventListener('touchcancel',a.onTargetTouchEnd)}if(c&&c.length<=a.activeTouches.length){a.removeGhostTouches(c)}a.updateTouches(b);if(!a.isStarted){if(Ext.enableGarbageCollector){Ext.dom.GarbageCollector.pause()}a.isStarted=!0;a.invokeRecognizers('onStart',b)}a.invokeRecognizers('onTouchStart',b);a.publishGestures()},onTouchMove:function(a){var b=this,c=b.mousePointerType,d=b.isStarted;if(d||a.pointerType!=='mouse'){b.updateTouches(a)}if(d){if(c&&a.browserEvent.pointerType===c&&a.buttons===0){a.type=Ext.dom.Element.prototype.eventMap.touchend;a.button=0;b.onTouchEnd(a);return}if(a.changedTouches.length>0){b.invokeRecognizers('onTouchMove',a)}}b.publishGestures()},onTouchEnd:function(b){var a=this,d=a.isStarted,c;if(d||b.pointerType!=='mouse'){a.updateTouches(b)}if(!d){a.publishGestures();return}c=a.activeTouches.length;try{a.invokeRecognizers(a.isCancelEvent[b.type]?'onTouchCancel':'onTouchEnd',b)}finally{try{if(!c){a.isStarted=!1;a.invokeRecognizers('onEnd',b)}}finally{try{a.publishGestures()}finally{if(!c){if(Ext.enableGarbageCollector){Ext.dom.GarbageCollector.resume()}}a.reEnterCountAdjusted=!0;a.reEnterCount--}}}},onTargetTouchMove:function(a){if(Ext.elevateFunction){Ext.elevateFunction(this.doTargetTouchMove,this,[a])}else {this.doTargetTouchMove(a)}},doTargetTouchMove:function(b){var a=this;if(!Ext.getBody().contains(b.target)){a.reEnterCountAdjusted=!1;a.reEnterCount++;this.onTouchMove(new Ext.event.Event(b));if(!a.reEnterCountAdjusted){a.reEnterCount--}}},onTargetTouchEnd:function(a){if(Ext.elevateFunction){Ext.elevateFunction(this.doTargetTouchEnd,this,[a])}else {this.doTargetTouchEnd(a)}},doTargetTouchEnd:function(c){var a=this,b=c.target;b.removeEventListener('touchmove',a.onTargetTouchMove);b.removeEventListener('touchend',a.onTargetTouchEnd);b.removeEventListener('touchcancel',a.onTargetTouchEnd);if(!Ext.getBody().contains(b)){a.reEnterCountAdjusted=!1;a.reEnterCount++;a.onTouchEnd(new Ext.event.Event(c));if(!a.reEnterCountAdjusted){a.reEnterCount--}}},reset:function(){var a=this,d=a.recognizers,e=d.length,b,c;a.activeTouchesMap={};a.activeTouches=[];a.changedTouches=[];a.isStarted=!1;a.gestureTargets=null;a.events=[];a.cancelEvents=[];for(b=0;b<e;b++){c=d[b];c.reset();c.isActive=!1}Ext.event.publisher.Dom.prototype.reset.call(this)},privates:{removeGhostTouches:function(c){var f={},g=c.length,b=this.activeTouches,h=this.activeTouchesMap,a,e,d;for(a=0;a<g;++a){f[c[a].identifier]=!0}a=b.length;while(a--){d=b[a];e=d.identifier;if(!c[e]){Ext.Array.remove(b,d);delete h[e]}}}}},1,0,0,0,0,0,[Ext.event.publisher,'Gesture'],function(a){var c=Event.prototype,b=c.stopPropagation;if(b){c.stopPropagation=function(){var d=this,c=a.instance,f=d.type,e;if(!d.$extHandled&&c.handles[f]){e=new Ext.event.Event(d);c.updateTouches(e);c.invokeRecognizers('onTouchCancel',e);c.reset();c.reEnterCountAdjusted=!0}b.apply(d,arguments)}}a.instance=Ext.$gesturePublisher=new a()});Ext.cmd.derive('Ext.mixin.Templatable',Ext.Mixin,{mixinConfig:{id:'templatable'},referenceAttributeName:'reference',referenceSelector:'[reference]',getElementConfig:function(){return {reference:'element'}},getElementTemplate:function(){var a=document.createDocumentFragment();a.appendChild(Ext.Element.create(this.getElementConfig(),!0));return a},initElement:function(){var a=this.self.prototype;a.elementTemplate=this.getElementTemplate();a.initElement=a.doInitElement;this.initElement.apply(this,arguments)},linkElement:function(a,b){this.link(a,b)},doInitElement:function(){var d=this.referenceAttributeName,e,c,b,g,a,f;e=this.elementTemplate.cloneNode(!0);c=e.querySelectorAll(this.referenceSelector);for(b=0,g=c.length;b<g;b++){a=c[b];f=a.getAttribute(d);a.removeAttribute(d);this.linkElement(f,a)}}},0,0,0,0,0,0,[Ext.mixin,'Templatable'],0);Ext.cmd.derive('Ext.TaskQueue',Ext.Base,{singleton:!0,pending:!1,mode:!0,readQueue:[],writeQueue:[],readRequestId:0,writeRequestId:0,timer:null,constructor:function(){var a=this;a.run=a.run.bind(a);if(Ext.os.is.iOS){a.watchdogTimer=Ext.interval(this.watch,500,this)}},requestRead:function(d,b,c){var a={id:++this.readRequestId,fn:d,scope:b,args:c};this.readQueue.push(a);this.request(!0);return a.id},cancelRead:function(a){this.cancelRequest(this.readQueue,a,!0)},requestWrite:function(e,c,d){var a=this,b={id:++a.writeRequestId,fn:e,scope:c,args:d};a.writeQueue.push(b);a.request(!1);return b.id},cancelWrite:function(a){this.cancelRequest(this.writeQueue,a,!1)},request:function(c,b){var a=this;if(!a.pending){a.pendingTime=Date.now();a.pending=!0;a.mode=c;if(c){a.timer=Ext.defer(a[b]||a.run,1)}else {a.timer=Ext.raf(a[b]||a.run)}}},cancelRequest:function(b,d,c){var a;for(a=0;a<b.length;a++){if(b[a].id===d){b.splice(a,1);break}}if(!b.length&&this.mode===c&&this.timer){Ext.undefer(this.timer)}},watch:function(){if(this.pending&&Date.now()-this.pendingTime>=500){this.run()}},run:function(e,d,m){var b=this,h=null,f,g,i,c,a,k,j,l;e=e||b.readQueue;d=d||b.writeQueue;b.pending=!1;b.pending=b.timer=!1;if(b.mode){f=e;if(d.length>0){h=!1}}else {f=d;if(e.length>0){h=!0}}g=f.slice();f.length=0;for(j=0,l=g.length;j<l;j++){i=g[j];c=i.fn;a=i.scope;k=i.args;if(a&&(a.destroying||a.destroyed)){continue}if(typeof c==='string'){c=a[c]}if(k){c.apply(a,k)}else {c.call(a)}}g.length=0;if(h!==null){b.request(h,m)}},clear:function(){var a=this,b=a.timer;if(b){if(a.mode){Ext.undefer(b)}else {Ext.unraf(b)}}a.readQueue.length=a.writeQueue.length=0;a.pending=a.timer=!1;a.mode=!0}},1,0,0,0,0,0,[Ext,'TaskQueue'],0);Ext.cmd.derive('Ext.util.sizemonitor.Abstract',Ext.Base,{config:{element:null,callback:Ext.emptyFn,scope:null,args:[]},width:null,height:null,contentWidth:null,contentHeight:null,constructor:function(b){var a=this;a.refresh=a.refresh.bind(a);a.info={width:0,height:0,contentWidth:0,contentHeight:0,flag:0};a.initElement();a.initConfig(b);a.bindListeners(!0)},bindListeners:Ext.emptyFn,applyElement:function(a){if(a){return Ext.get(a)}},updateElement:function(a){a.append(this.detectorsContainer,!0);a.addCls('x-size-monitored')},applyArgs:function(a){return a.concat([this.info])},refreshMonitors:Ext.emptyFn,forceRefresh:function(){Ext.TaskQueue.requestRead('refresh',this)},getContentBounds:function(){return this.detectorsContainer.getBoundingClientRect()},getContentWidth:function(){return this.detectorsContainer.clientWidth},getContentHeight:function(){return this.detectorsContainer.clientHeight},refreshSize:function(){var e=this.getElement();if(!e||e.destroyed){return !1}var a=this,j=e.measure(),i=j.width,h=j.height,d=a.getContentWidth(),c=a.getContentHeight(),l=a.contentWidth,k=a.contentHeight,b=a.info,g=!1,f;a.width=i;a.height=h;a.contentWidth=d;a.contentHeight=c;f=(l!==d?1:0)+(k!==c?2:0);if(f>0){b.width=i;b.height=h;b.contentWidth=d;b.contentHeight=c;b.flag=f;g=!0;a.getCallback().apply(a.getScope(),a.getArgs())}return g},refresh:function(){if(this.destroying||this.destroyed){return}this.refreshSize();Ext.TaskQueue.requestWrite('refreshMonitors',this)},destroy:function(){var a=this,b=a.getElement();a.bindListeners(!1);if(b&&!b.destroyed){b.removeCls('x-size-monitored')}delete a._element;a.refresh=null;a.callParent()}},1,0,0,0,0,[[Ext.mixin.Templatable.prototype.mixinId||Ext.mixin.Templatable.$className,Ext.mixin.Templatable]],[Ext.util.sizemonitor,'Abstract'],0);Ext.cmd.derive('Ext.util.sizemonitor.Scroll',Ext.util.sizemonitor.Abstract,{getElementConfig:function(){return {reference:'detectorsContainer',classList:['x-size-monitors','scroll'],children:[{reference:'expandMonitor',className:'expand'},{reference:'shrinkMonitor',className:'shrink'}]}},constructor:function(a){this.onScroll=this.onScroll.bind(this);Ext.util.sizemonitor.Abstract.prototype.constructor.apply(this,arguments)},bindListeners:function(b){var a=b?'addEventListener':'removeEventListener';this.expandMonitor[a]('scroll',this.onScroll,!0);this.shrinkMonitor[a]('scroll',this.onScroll,!0)},onScroll:function(a){if(!this.destroyed){if(this.hasExpandMonitorScrollChanged&&a.target===this.expandMonitor){delete this.hasExpandMonitorScrollChanged}else if(this.hasShrinkMonitorScrollChanged&&a.target===this.shrinkMonitor){delete this.hasShrinkMonitorScrollChanged}else {Ext.TaskQueue.requestRead('refresh',this)}}},refreshMonitors:function(){var a=this.expandMonitor,b=this.shrinkMonitor,c=1000000;if(a&&!a.destroyed){if(Ext.isiOS){this.hasExpandMonitorScrollChanged=!0}a.scrollLeft=c;a.scrollTop=c}if(b&&!b.destroyed){if(Ext.isiOS){this.hasShrinkMonitorScrollChanged=!0}b.scrollLeft=c;b.scrollTop=c}},destroy:function(){this.onScroll=null;Ext.util.sizemonitor.Abstract.prototype.destroy.call(this)}},1,0,0,0,0,0,[Ext.util.sizemonitor,'Scroll'],0);Ext.cmd.derive('Ext.util.SizeMonitor',Ext.Base,{constructor:function(a){return new Ext.util.sizemonitor.Scroll(a)}},1,0,0,0,0,0,[Ext.util,'SizeMonitor'],0);Ext.cmd.derive('Ext.event.publisher.ElementSize',Ext.event.publisher.Publisher,{type:'size',handledEvents:['resize'],constructor:function(){this.monitors={};this.subscribers={};Ext.event.publisher.Publisher.prototype.constructor.apply(this,arguments)},subscribe:function(b){var a=b.id,c=this.subscribers,d=this.monitors;if(c[a]){++c[a]}else {c[a]=1;d[a]=new Ext.util.SizeMonitor({element:b,callback:this.onElementResize,scope:this,args:[b]})}b.on('painted','forceRefresh',d[a]);return !0},unsubscribe:function(b){var a=b.id,d=this.subscribers,e=this.monitors,c;if(d[a]&&!--d[a]){delete d[a];c=e[a];b.un('painted','forceRefresh',c);c.destroy();delete e[a]}if(b.activeRead){Ext.TaskQueue.cancelRead(b.activeRead)}},fireElementResize:function(a,b){delete a.activeRead;this.fire(a,'resize',[a,b])},onElementResize:function(a,b){if(!a.activeRead){a.activeRead=Ext.TaskQueue.requestRead('fireElementResize',this,[a,b])}}},1,0,0,0,0,0,[Ext.event.publisher,'ElementSize'],function(a){a.instance=new a()});Ext.cmd.derive('Ext.util.paintmonitor.Abstract',Ext.Base,{config:{element:null,callback:Ext.emptyFn,scope:null,args:[]},eventName:'',monitorClass:'',constructor:function(a){this.onElementPainted=this.onElementPainted.bind(this);this.initConfig(a)},bindListeners:function(a){this.monitorElement[a?'addEventListener':'removeEventListener'](this.eventName,this.onElementPainted,!0)},applyElement:function(a){if(a){return Ext.get(a)}},updateElement:function(a){this.monitorElement=Ext.Element.create({classList:['x-paint-monitor',this.monitorClass]},!0);a.appendChild(this.monitorElement,!0);a.addCls('x-paint-monitored');this.bindListeners(!0)},onElementPainted:function(){},destroy:function(){var a=this,c=a.monitorElement,d=c.parentNode,b=a.getElement();a.bindListeners(!1);delete a.monitorElement;if(b&&!b.destroyed){b.removeCls('x-paint-monitored');delete a._element}if(d){d.removeChild(c)}a.callParent()}},1,0,0,0,0,0,[Ext.util.paintmonitor,'Abstract'],0);Ext.cmd.derive('Ext.util.paintmonitor.CssAnimation',Ext.util.paintmonitor.Abstract,{eventName:Ext.browser.is.WebKit?'webkitAnimationEnd':'animationend',monitorClass:'cssanimation',onElementPainted:function(a){if(a.animationName==='x-paint-monitor-helper'){this.getCallback().apply(this.getScope(),this.getArgs())}}},0,0,0,0,0,0,[Ext.util.paintmonitor,'CssAnimation'],0);Ext.cmd.derive('Ext.util.PaintMonitor',Ext.Base,{constructor:function(a){return new Ext.util.paintmonitor.CssAnimation(a)}},1,0,0,0,0,0,[Ext.util,'PaintMonitor'],0);Ext.cmd.derive('Ext.event.publisher.ElementPaint',Ext.event.publisher.Publisher,{type:'paint',handledEvents:['painted'],constructor:function(){this.monitors={};this.subscribers={};Ext.event.publisher.Publisher.prototype.constructor.apply(this,arguments)},subscribe:function(d){var b=this,a=d.id,c=b.subscribers;if(c[a]){++c[a]}else {c[a]=1;b.monitors[a]=new Ext.util.PaintMonitor({element:d,callback:b.onElementPainted,scope:b,args:[d]})}},unsubscribe:function(c){var a=c.id,b=this.subscribers,d=this.monitors;if(b[a]&&!--b[a]){delete b[a];d[a].destroy();delete d[a]}if(c.activeRead){Ext.TaskQueue.cancelRead(c.activeRead)}},fireElementPainted:function(a){delete a.activeRead;this.fire(a,'painted',[a])},onElementPainted:function(a){if(!a.activeRead){a.activeRead=Ext.TaskQueue.requestRead('fireElementPainted',this,[a])}}},1,0,0,0,0,0,[Ext.event.publisher,'ElementPaint'],function(a){a.instance=new a()});Ext.cmd.derive('Ext.dom.Element',Ext.Base,function(a){var j=window,b=document,i=b.documentElement,l=j.top,P=[],m,z,x,Q='width',O='height',aa='min-width',Z='min-height',_='max-width',Y='max-height',ao='top',aj='right',af='bottom',am='left',$='visibility',ag='hidden',M='display',C='none',ai='z-index',y='position',ab='relative',ah='static',ae=/\w/g,q=/\s+/,S=/[\s]+/,W=/^(?:transparent|(?:rgba[(](?:\s*\d+\s*[,]){3}\s*0\s*[)]))$/i,U=/\?$/,al=/top/i,ak={},d={t:'border-top-width',r:'border-right-width',b:'border-bottom-width',l:'border-left-width'},h={t:'padding-top',r:'padding-right',b:'padding-bottom',l:'padding-left'},A={t:'margin-top',r:'margin-right',b:'margin-bottom',l:'margin-left'},L={b:'backward',back:'backward',f:'forward'},X=[h.l,h.r,h.t,h.b],I=[d.l,d.r,d.t,d.b],ac=/\d+$/,B=/\d+(px|r?em|%|vh|vw|vmin|vmax|en|ch|ex|pt|in|cm|mm|pc)$/i,J='px',an=/^-ms-/,ad=/(-[a-z])/gi,R=/([a-z0-9\-]+)\s*:\s*([^;\s]+(?:\s*[^;\s]+)*);?/gi,v=/^\d+(?:\.\d*)?px$/i,V=/(%|r?em|auto|vh|vw|vmin|vmax|ch|ex)$/i,H={},F='originalDisplay',T=function(c,b){return b.charAt(1).toUpperCase()},K=function(d,e){var c,b,f;if(d.nodeType===1){d._extData=null;if(e){c=d.childNodes;for(b=0,f=c.length;b<f;++b){K(c[b],e)}}}},e=function(b){return parseFloat(b)||0},p='x-hidden-opacity',n='x-hidden-visibility',k='x-hidden-display',o='x-hidden-offsets',r='x-hidden-clip',G=0,D=0,E=!1,t=!1,w=/text|password|search|tel|url/i,s,c,f,N,g,u;try{m=l.__elementIdCounter__;l.__elementIdCounter__=m}catch(ap){l=j}l.__elementIdCounter__=m=(l.__elementIdCounter__||0)+1;z='ext-window-'+m;x='ext-document-'+m;return {alternateClassName:['Ext.Element'],observableType:'element',isElement:!0,skipGarbageCollection:!0,$applyConfigs:!0,identifiablePrefix:'ext-element-',_selectDir:L,styleHooks:{transform:{set:function(e,b,f){var d='',c;if(typeof b!=='string'){for(c in b){if(d){d+=' '}if(c.indexOf('translate')===0){d+=c+'('+a.addUnits(b[c],'px')+')'}else {d+=c+'('+b[c]+')'}}b=d}e.style.transform=b}}},validIdRe:Ext.validIdRe,blockedEvents:Ext.supports.EmulatedMouseOver?{mouseover:1}:{},longpressEvents:{longpress:1,taphold:1},constructor:function(d){var c=this,e;if(typeof d==='string'){d=b.getElementById(d)}if(!d){return null}c.dom=d;if(!(e=d.id)){d.id=e=c.generateAutoId()}c.id=e;c.el=c;Ext.cache[e]=c;c.longpressListenerCount=0;c.mixins.observable.constructor.call(c)},inheritableStatics:{cache:Ext.cache={},editableSelector:'input,textarea,[contenteditable="true"]',VISIBILITY:1,DISPLAY:2,OFFSETS:3,CLIP:4,OPACITY:5,minKeyboardHeight:100,unitRe:B,useDelegatedEvents:!0,validNodeTypes:{1:1,9:1},namespaceURIs:{html:'http://www.w3.org/1999/xhtml',svg:'http://www.w3.org/2000/svg'},selectableCls:'x-selectable',unselectableCls:'x-unselectable',maxRippleDiameter:75,addUnits:function(b,c){if(typeof b==='number'){return b+(c||J)}if(b===''||b==='auto'||b==null){return b||''}if(ac.test(b)){return b+(c||J)}if(!B.test(b)){return b||''}return b},create:function(d,l,r){var n=this,e,f,o,i,c,g,h,p,m,j;d=d||{};if(d.isElement){return l?d.dom:d}else if('nodeType' in d){return l?d:Ext.get(d)}if(typeof d==='string'){return b.createTextNode(d)}i=d.tag;if(!i){i='div'}j=d.namespace||r;if(j){f=b.createElementNS(n.namespaceURIs[j]||j,i)}else {f=b.createElement(i)}o=f.style;for(g in d){if(g!=='tag'&&g!=='namespace'){c=d[g];switch(g){case 'style':if(typeof c==='string'){f.setAttribute(g,c)}else {for(h in c){o[h]=c[h]}};break;case 'className':case 'cls':m=c.split(q);e=e?e.concat(m):m;break;case 'classList':e=e?e.concat(c):c;break;case 'text':f.textContent=c;break;case 'html':f.innerHTML=c;break;case 'hidden':if(e){e.push(k)}else {e=[k]};break;case 'children':if(c!=null){for(h=0,p=c.length;h<p;h++){f.appendChild(n.create(c[h],!0,j))}};break;default:if(c!=null){f.setAttribute(g,c)};}}}if(e){f.className=e.join(' ')}if(l){return f}else {return n.get(f)}},fly:function(c,b){return Ext.fly(c,b)},fromPoint:function(){var c;if(Ext.isIE||Ext.isEdge){try{c=window.self!==window.top}catch(aq){c=!0}}return function(e,f,g){var d=null;d=b.elementFromPoint(e,f);if(!d&&c){d=b.elementFromPoint(e,f)}return g?d:Ext.get(d)}}(),fromPagePoint:function(d,e,c){var b=Ext.getDoc().getScroll();return a.fromPoint(d-b.left,e-b.top,c)},get:function(c){var m=this,g=Ext.cache,f,i,d,e,l,h,k;if(!c){return null}if(c.isFly){c=c.dom}if(typeof c==='string'){d=c;if(g.hasOwnProperty(d)){e=g[d];if(e.skipGarbageCollection||!Ext.isGarbage(e.dom)){return e}else {e.destroy()}}if(d===z){return a.get(j)}else if(d===x){return a.get(b)}i=Ext.getElementById?Ext.getElementById(d):b.getElementById(d);if(i){return new a(i)}}f=c.nodeType;if(f){l=f===9;k=m.validNodeTypes[f]}else {h=c.window==c}if(k||h){d=c.id;if(c===b){c.id=d=x}else if(c==j){c.id=d=z}if(g.hasOwnProperty(d)){e=g[d];if(e.skipGarbageCollection||c===e.dom||!Ext.isGarbage(e.dom)){return e}else {e.destroy()}}c=new a(c);if(h||l){c.skipGarbageCollection=!0}return c}if(c.isElement){return c}if(c.isComposite){return c}if(Ext.isIterable(c)){return m.select(c)}return null},getActiveElement:function(d){var c=b.activeElement;if(!c||!c.focus){c=b.body}return d?Ext.get(c):c},getDocumentHeight:function(){return Math.max(!Ext.isStrict?b.body.scrollHeight:i.scrollHeight,this.getViewportHeight())},getDocumentWidth:function(){return Math.max(!Ext.isStrict?b.body.scrollWidth:i.scrollWidth,this.getViewportWidth())},getOrientation:function(){if(Ext.supports.OrientationChange){return j.orientation==0?'portrait':'landscape'}return j.innerHeight>j.innerWidth?'portrait':'landscape'},getViewportHeight:function(){var c=a._viewportHeight;if(Ext.isIE9m){return b.documentElement.clientHeight}return c!=null?c:i.clientHeight},getViewportWidth:function(){var c=a._viewportWidth;if(Ext.isIE9m){return b.documentElement.clientWidth}return c!=null?c:i.clientWidth},getViewportScale:function(){var b=l;return (Ext.isiOS||Ext.isAndroid?1:b.devicePixelRatio||b.screen.deviceXDPI/b.screen.logicalXDPI)*this.getViewportTouchScale()},getViewportTouchScale:function(e){var c=1,d=l,b;if(!e){b=this._viewportTouchScale;if(b){return b}}if(Ext.isIE10p||Ext.isEdge||Ext.isiOS){c=i.offsetWidth/j.innerWidth}else if(Ext.isChromeMobile){c=d.outerWidth/d.innerWidth}return c},getViewSize:function(){return {width:a.getViewportWidth(),height:a.getViewportHeight()}},hasUnit:function(b){return !!(b&&B.test(b))},isRelativeUnit:function(b){return !b||V.test(b)},maskIframes:function(){var b=document.getElementsByTagName('iframe'),c=new Ext.dom.Fly();Ext.each(b,function(d){var b;b=c.attach(d.parentNode).mask();b.setStyle('background-color','transparent')})},normalize:function(b){return H[b]||(H[b]=b.replace(an,'ms-').replace(ad,T))},_onWindowFocusChange:function(b){if(Ext.fly(b.target).is(a.editableSelector)){G=new Date();E=b.type==='focusin'||b.type==='pointerup'}},_onWindowResize:function(){var c=i.clientWidth,b=i.clientHeight,g=new Date(),f=1000,d,e;d=c-a._documentWidth;e=b-a._documentHeight;a._documentWidth=c;a._documentHeight=b;if(g-G<f||g-D<f){if(d===0&&(E&&e<=-a.minKeyboardHeight)){t=!0;return}}if(t&&d===0&&e>=a.minKeyboardHeight){t=!1;D=new Date()}if(t){return}a._viewportWidth=c;a._viewportHeight=b},parseBox:function(c){var e,b,d;c=c||0;e=typeof c;if(e==='number'){return {top:c,right:c,bottom:c,left:c}}else if(e!=='string'){return c}b=c.split(' ');d=b.length;if(d===1){b[1]=b[2]=b[3]=b[0]}else if(d===2){b[2]=b[0];b[3]=b[1]}else if(d===3){b[3]=b[1]}return {top:parseFloat(b[0])||0,right:parseFloat(b[1])||0,bottom:parseFloat(b[2])||0,left:parseFloat(b[3])||0}},parseStyles:function(c){var d={},b;if(c){R.lastIndex=0;while(b=R.exec(c)){d[b[1]]=b[2]||''}}return d},select:function(d,c,e){return Ext.fly(e||b).select(d,c)},query:function(c,d,e){return Ext.fly(e||b).query(c,d)},unitizeBox:function(b,d){var c=this;b=c.parseBox(b);return c.addUnits(b.top,d)+' '+c.addUnits(b.right,d)+' '+c.addUnits(b.bottom,d)+' '+c.addUnits(b.left,d)},unmaskIframes:function(){var b=document.getElementsByTagName('iframe'),c=new Ext.dom.Fly();Ext.each(b,function(b){c.attach(b.parentNode).unmask()})},serializeForm:function(l){var m=l.elements||(b.forms[l]||Ext.getDom(l)).elements,n=!1,f=encodeURIComponent,g='',q=m.length,c,h,d,k,o,i,j,p,e;for(i=0;i<q;i++){c=m[i];h=c.name;d=c.type;k=c.options;if(!c.disabled&&h){if(/select-(one|multiple)/i.test(d)){p=k.length;for(j=0;j<p;j++){e=k[j];if(e.selected){o=e.hasAttribute('value');g+=Ext.String.format('{0}={1}&',f(h),f(o?e.value:e.text))}}}else if(!/file|undefined|reset|button/i.test(d)){if(!(/radio|checkbox/i.test(d)&&!c.checked)&&!(d==='submit'&&n)){g+=f(h)+'='+f(c.value)+'&';n=/submit/i.test(d)}}}}return g.substr(0,g.length-1)},getCommonAncestor:function(d,e,c){f=f||new Ext.dom.Fly();f.attach(Ext.getDom(d));while(!f.isAncestor(e)){if(f.dom.parentNode){f.attach(f.dom.parentNode)}else {f.attach(b.body);break}}return c?f.dom:Ext.get(f)}},selectable:function(){var b=this;b.dom.unselectable='';b.removeCls(a.unselectableCls);b.addCls(a.selectableCls);return b},unselectable:function(){var b=this;if(Ext.isOpera){b.dom.unselectable='on'}b.removeCls(a.selectableCls);b.addCls(a.unselectableCls);return b},statics:{tabbableSelector:Ext.supports.CSS3NegationSelector?'a[href],button,iframe,input,select,textarea,[tabindex]:not([tabindex="-1"]),[contenteditable="true"]':'a[href],button,iframe,input,select,textarea,[tabindex],[contenteditable="true"]',naturallyFocusableTags:{BUTTON:!0,IFRAME:!0,EMBED:!0,INPUT:!0,OBJECT:!0,SELECT:!0,TEXTAREA:!0,HTML:Ext.isIE?!0:!1,BODY:Ext.isIE?!1:!0},naturallyTabbableTags:{BUTTON:!0,IFRAME:!0,INPUT:!0,SELECT:!0,TEXTAREA:!0,OBJECT:Ext.isIE8m?!0:!1},inputTags:{INPUT:!0,TEXTAREA:!0},tabbableSavedCounterAttribute:'data-tabindex-counter',tabbableSavedValueAttribute:'data-tabindex-value',splitCls:function(b){if(typeof b==='string'){b=b.split(q)}return b}},_init:function(b){b.tabbableSelector+=',['+b.tabbableSavedCounterAttribute+']'},addCls:function(d,b,c){return this.replaceCls(null,d,b,c)},addClsOnClick:function(c,d,f){var b=this,e=Ext.isFunction(d);b.on('mousedown',function(){if(e&&d.call(f||b,b)===!1){return !1}b.addCls(c);Ext.getDoc().on({mouseup:function(){if(b.dom){b.removeCls(c)}},single:!0})});return b},addClsOnFocus:function(c,d,f){var b=this,e=Ext.isFunction(d);b.on('focus',function(){if(e&&d.call(f||b,b)===!1){return !1}b.addCls(c)});b.on('blur',function(){if(b.dom){b.removeCls(c)}});return b},addClsOnOver:function(c,d,f){var b=this,e=Ext.isFunction(d);b.hover(function(){if(e&&d.call(f||b,b)===!1){return}b.addCls(c)},function(){b.removeCls(c)});return b},addStyles:function(i,h){var g=0,d=(i||'').match(ae),c=[],f=d.length,e,b;if(f===1){g=parseFloat(this.getStyle(h[d[0]]))||0}else if(f){for(b=0;b<f;b++){e=d[b];c.push(h[e])}c=this.getStyle(c);for(b=0;b<f;b++){e=d[b];g+=parseFloat(c[h[e]])||0}}return g},addUnits:function(c,b){return a.addUnits(c,b)},animate:function(b){b=new Ext.fx.Animation(b);b.setElement(this);this._activeAnimation=b;b.on({animationend:this._onAnimationEnd,scope:this});Ext.Animator.run(b);return b},_onAnimationEnd:function(){this._activeAnimation=null},getActiveAnimation:function(){return this._activeAnimation},append:function(){return this.appendChild.apply(this,arguments)},appendChild:function(c,d){var g=this,e,h,f;if(c.nodeType||c.dom||typeof c==='string'){c=Ext.getDom(c);g.dom.appendChild(c);return !d?Ext.get(c):c}else if(c.length){e=Ext.fly(b.createDocumentFragment());h=c.length;for(f=0;f<h;f++){e.appendChild(c[f],d)}c=Ext.Array.toArray(e.dom.childNodes);g.dom.appendChild(e.dom);return d?c:new Ext.dom.CompositeElementLite(c)}else {return g.createChild(c,null,d)}},appendTo:function(b){Ext.getDom(b).appendChild(this.dom);return this},applyStyles:function(b){if(b){if(typeof b==='function'){b=b.call()}if(typeof b==='string'){b=a.parseStyles(b)}if(typeof b==='object'){this.setStyle(b)}}return this},blur:function(){var d=this,c=d.dom;if(c!==b.body){try{c.blur()}catch(aq){}return d}else {return d.focus(undefined,c)}},cacheScrollValues:function(){var i=this,g=[],e=[],f,b,d,h;c=c||new Ext.dom.Fly();f=i.query('*');for(d=0,h=f.length;d<h;d++){b=f[d];if(b.scrollTop>0||b.scrollLeft!==0){e.push(b);g.push(c.attach(b).getScroll())}}return function(){var d,b,f;for(b=0,f=e.length;b<f;b++){d=g[b];c.attach(e[b]);c.setScrollLeft(d.left);c.setScrollTop(d.top)}}},center:function(c){return this.alignTo(c||b,'c-c')},child:function(d,c){var b=this,e;if(Ext.supports.Selectors2){return b.selectNode(':scope>'+d,!!c)}else {e=b.id!=null?b.id:Ext.get(b).id;return b.selectNode(Ext.makeIdSelector(e)+' > '+d,!!c)}},clone:function(c,d){var b=this.dom.cloneNode(c);if(Ext.supports.CloneNodeCopiesExpando){K(b,c)}return d?b:Ext.get(b)},constrainScrollLeft:function(c){var b=this.dom;return Math.max(Math.min(c,b.scrollWidth-b.clientWidth),0)},constrainScrollTop:function(c){var b=this.dom;return Math.max(Math.min(c,b.scrollHeight-b.clientHeight),0)},createChild:function(b,c,d){b=b||{tag:'div'};if(c){return Ext.DomHelper.insertBefore(c,b,d!==!0)}else {return Ext.DomHelper.append(this.dom,b,d!==!0)}},contains:function(b){if(!b){return !1}var d=this,c=Ext.getDom(b);return c===d.dom||d.isAncestor(c)},destroy:function(){var c=this,b=c.dom;if(b&&b.parentNode){b.parentNode.removeChild(b)}if(c.$ripples){c.destroyAllRipples()}c.collect()},detach:function(){var b=this.dom,c=this.component;if(b&&b.parentNode&&b.tagName!=='BODY'){if(c){c.revertFocus()}b.parentNode.removeChild(b)}return this},disableShadow:function(){var b=this.shadow;if(b){b.hide();b.disabled=!0}},disableShim:function(){var b=this.shim;if(b){b.hide();b.disabled=!0}},doReplaceWith:function(c){var b=this.dom;b.parentNode.replaceChild(Ext.getDom(c),b)},doScrollIntoView:function(b,o,d,m,l,n){c=c||new Ext.dom.Fly();var e=this,k=e.dom,i=c.attach(b)[l](),j=b.scrollTop,h=e.getScrollIntoViewXY(b,i,j),f=h.x,g=h.y;if(m){if(d){d=Ext.apply({listeners:{afteranimate:function(){c.attach(k).highlight()}}},d)}else {c.attach(k).highlight()}}if(g!==j){c.attach(b).scrollTo('top',g,d)}if(o!==!1&&f!==i){c.attach(b)[n]('left',f,d)}return e},down:function(c,b){return this.selectNode(c,!!b)},enableShadow:function(f,e){var c=this,b=c.shadow||(c.shadow=new Ext.dom.Shadow(Ext.apply({target:c},f))),d=c.shim;if(d){d.offsets=b.outerOffsets;d.shadow=b;b.shim=d}if(e===!0||e!==!1&&c.isVisible()){b.show()}else {b.hide()}b.disabled=!1},enableShim:function(f,e){var c=this,b=c.shim||(c.shim=new Ext.dom.Shim(Ext.apply({target:c},f))),d=c.shadow;if(d){b.offsets=d.outerOffsets;b.shadow=d;d.shim=b}if(e===!0||e!==!1&&c.isVisible()){b.show()}else {b.hide()}b.disabled=!1;return b},findParent:function(f,c,g){var h=this,b=h.dom,d=i,e=0;if(c||c===0){if(typeof c!=='number'){d=Ext.getDom(c);c=Number.MAX_VALUE}}else {c=50}while(b&&b.nodeType===1&&e<c&&b!==d){if(Ext.fly(b).is(f)){return g?Ext.get(b):b}e++;b=b.parentNode}return null},findParentNode:function(c,e,d){var b=Ext.fly(this.dom.parentNode);return b?b.findParent(c,e,d):null},first:function(c,b){return this.matchNode('nextSibling','firstChild',c,b)},focus:function(d,b){var c=this;b=b||c.dom;if(Number(d)){Ext.defer(c.focus,d,c,[null,b])}else {Ext.fireEvent('beforefocus',b);b.focus()}return c},collect:function(){var b=this,e=b.dom,c=b.shadow,d=b.shim;if(!b.isFly){b.mixins.observable.destroy.call(b);delete Ext.cache[b.id];b.el=null}if(e){e._extData=b.dom=null}if(c){c.hide();b.shadow=null}if(d){d.hide();b.shim=null}},getAnchorToXY:function(e,b,d,c){return e.getAnchorXY(b,d,c)},getAttribute:function(b,d){var c=this.dom;return d?c.getAttributeNS(d,b)||c.getAttribute(d+':'+b):c.getAttribute(b)||c[b]||null},getAttributes:function(){var d=this.dom.attributes,e={},c,b,f;for(b=0,f=d.length;b<f;b++){c=d[b];e[c.name]=c.value}return e},getBottom:function(b){return (b?this.getLocalY():this.getY())+this.getHeight()},getById:function(d,e){var c=b.getElementById(d)||this.dom.querySelector(Ext.makeIdSelector(d));return e?c:c?Ext.get(c):null},getBorderPadding:function(){var c=this.getStyle(X),b=this.getStyle(I);return {beforeX:(parseFloat(b[d.l])||0)+(parseFloat(c[h.l])||0),afterX:(parseFloat(b[d.r])||0)+(parseFloat(c[h.r])||0),beforeY:(parseFloat(b[d.t])||0)+(parseFloat(c[h.t])||0),afterY:(parseFloat(b[d.b])||0)+(parseFloat(c[h.b])||0)}},getBorders:function(){var b=this.getStyle(I);return {beforeX:parseFloat(b[d.l])||0,afterX:parseFloat(b[d.r])||0,beforeY:parseFloat(b[d.t])||0,afterY:parseFloat(b[d.b])||0}},getBorderWidth:function(b){return this.addStyles(b,d)},getClassMap:function(c){var b=this.getData();if(b){b=b.classMap;if(c!==!1){b=Ext.apply({},b)}}return b},getData:function(d){var c=this.dom,b;if(c){b=c._extData||(c._extData={});if(d!==!1&&!b.isSynchronized){this.synchronize()}}return b||null},getFirstChild:function(){return Ext.get(this.dom.firstElementChild)},getLastChild:function(){return Ext.get(this.dom.lastElementChild)},getHeight:function(g,f){var c=this,e=c.dom,h=c.isStyle('display','none'),b,d;if(h){return 0}if(e.nodeName==='BODY'){b=a.getViewportHeight()}else {if(f){b=e.getBoundingClientRect().height}else {b=e.offsetHeight;if(b==null){b=e.getBoundingClientRect().height}}}if(Ext.supports.Direct2DBug){d=c.adjustDirect2DDimension(O);if(f){b+=d}else if(d>0&&d<0.5){b++}}if(g){b-=c.getBorderWidth('tb')+c.getPadding('tb')}return b<0?0:b},getHtml:function(){return this.dom?this.dom.innerHTML:''},getLeft:function(b){return b?this.getLocalX():this.getX()},getLocalX:function(){var d=this,c,b=d.getStyle('left');if(!b||b==='auto'){b=0}else if(v.test(b)){b=parseFloat(b)}else {b=d.getX();c=d.dom.offsetParent;if(c){b-=Ext.fly(c).getX()}}return b},getLocalXY:function(){var e=this,d,f=e.getStyle(['left','top']),b=f.left,c=f.top;if(!b||b==='auto'){b=0}else if(v.test(b)){b=parseFloat(b)}else {b=e.getX();d=e.dom.offsetParent;if(d){b-=Ext.fly(d).getX()}}if(!c||c==='auto'){c=0}else if(v.test(c)){c=parseFloat(c)}else {c=e.getY();d=e.dom.offsetParent;if(d){c-=Ext.fly(d).getY()}}return [b,c]},getLocalY:function(){var d=this,c,b=d.getStyle('top');if(!b||b==='auto'){b=0}else if(v.test(b)){b=parseFloat(b)}else {b=d.getY();c=d.dom.offsetParent;if(c){b-=Ext.fly(c).getY()}}return b},getMargin:function(){var c={t:'top',l:'left',r:'right',b:'bottom'},b=['margin-top','margin-left','margin-right','margin-bottom'];return function(g){var h=this,e,f,d;if(!g){e=h.getStyle(b);d={};if(e&&typeof e==='object'){d={};for(f in A){d[f]=d[c[f]]=parseFloat(e[A[f]])||0}}}else {d=h.addStyles(g,A)}return d}}(),getPadding:function(b){return this.addStyles(b,h)},getParent:function(){return Ext.get(this.dom.parentNode)},getRight:function(b){return (b?this.getLocalX():this.getX())+this.getWidth()},getScroll:function(){var h=this,d=h.dom,g=i,e,f,c=b.body;if(d===b||d===c){e=g.scrollLeft||(c?c.scrollLeft:0);f=g.scrollTop||(c?c.scrollTop:0)}else {e=d.scrollLeft;f=d.scrollTop}return {left:e,top:f}},getScrollIntoViewXY:function(b,h,i,c){var d=this,j=d.dom,g,f,e;c=c||ak;if(b.isRegion){e=b.height;f=b.width}else {b=Ext.getDom(b);e=b.clientHeight;f=b.clientWidth}g=d.getOffsetsTo(b);return {y:d.calcScrollPos(g[1]+i,j.offsetHeight,i,e,c.y),x:d.calcScrollPos(g[0]+h,j.offsetWidth,h,f,c.x)}},calcScrollPos:function(e,h,g,c,b){var i=e+h,j=g+c,d=b&&!U.test(b),f=g;if(!d){if(b){b=b.slice(0,-1)}if(h>c||e<g){b=b||'start';d=!0}else if(i>j){b=b||'end';d=!0}}if(d){if(b==='start'){f=e}else if(b==='center'){f=Math.max(0,e-Math.floor(c/2))}else if(b==='end'){f=Math.max(0,i-c)}}return f},getScrollLeft:function(){var c=this.dom;if(c===b||c===b.body){return this.getScroll().left}else {return c.scrollLeft}},getScrollTop:function(){var c=this.dom;if(c===b||c===b.body){return this.getScroll().top}else {return c.scrollTop}},getSize:function(b){return {width:this.getWidth(b),height:this.getHeight(b)}},getStyle:function(n,i){var k=this,e=k.dom,m=typeof n!=='string',p=k.styleHooks,b=n,j=b,q=1,h,o,f,d,g,c,l;if(m){f={};b=j[0];l=0;if(!(q=j.length)){return f}}if(!e||e.documentElement){return f||''}h=e.style;if(i){c=h}else {c=e.ownerDocument.defaultView.getComputedStyle(e,null);if(!c){i=!0;c=h}}do{d=p[b];if(!d){p[b]=d={name:a.normalize(b)}}if(d.get){g=d.get(e,k,i,c)}else {o=d.name;g=c[o]}if(!m){return g}f[b]=g;b=j[++l]}while(l<q);return f},getStyleValue:function(b){return this.dom.style.getPropertyValue(b)},getCaretPos:function(){var d=this.dom,b,c;if(w.test(d.type)){b=d.selectionStart;c=typeof b!=='number'&&this.getTextSelection();if(c){b=c[0]}}return b},setCaretPos:function(b){this.selectText(b,b)},getTextSelection:function(){var b=this.dom;if(w.test(b.type)){return [b.selectionStart,b.selectionEnd,b.selectionDirection]}else {return []}},selectText:function(c,d,e){var h=this,f,b=h.dom,g;if(b&&w.test(b.type)){c=c||0;g=b.value.length;if(d===undefined){d=g}e=L[e]||e||'forward';if(b.setSelectionRange){b.setSelectionRange(c,d,e)}else if(b.createTextRange){if(c>d){c=d}f=b.createTextRange();f.moveStart('character',c);f.moveEnd('character',-(g-d));f.select()}}return h},getTop:function(b){return b?this.getLocalY():this.getY()},getTouchAction:function(){return Ext.dom.TouchAction.get(this.dom)},getValue:function(c){var b=this.dom.value;return c?parseInt(b,10):b},getViewSize:function(){var c=this.dom;if(c===b||c===b.body){return {width:a.getViewportWidth(),height:a.getViewportHeight()}}else {return {width:c.clientWidth,height:c.clientHeight}}},getVisibilityMode:function(){var d=this,c=d.getData(),b=c.visibilityMode;if(b===undefined){c.visibilityMode=b=a.DISPLAY}return b},getWidth:function(h,f){var c=this,g=c.dom,i=c.isStyle('display','none'),d,b,e;if(i){return 0}if(Ext.supports.BoundingClientRect){d=g.getBoundingClientRect();b=c.vertical&&!Ext.supports.RotatedBoundingClientRect?d.bottom-d.top:d.right-d.left;b=f?b:Math.ceil(b)}else {b=g.offsetWidth}if(Ext.supports.Direct2DBug&&!c.vertical){e=c.adjustDirect2DDimension(Q);if(f){b+=e}else if(e>0&&e<0.5){b++}}if(h){b-=c.getBorderWidth('lr')+c.getPadding('lr')}return b<0?0:b},getX:function(){return this.getXY()[0]},getXY:function(){var f=Math.round,e=this.dom,g=b.body,h=0,i=0,c,d;if(e!==b&&e!==g){try{c=g.getBoundingClientRect();d=e.getBoundingClientRect();h=d.left-c.left;i=d.top-c.top}catch(aq){}}return [f(h),f(i)]},getY:function(){return this.getXY()[1]},getZIndex:function(){return parseInt(this.getStyle('z-index'),10)},hasCls:function(c){var b=this.getClassMap();return b.hasOwnProperty(c)},hide:function(){return this.setVisible(!1)},hover:function(e,f,d,c){var b=this;b.on('mouseenter',e,d||b.dom,c);b.on('mouseleave',f,d||b.dom,c);return b},indexOf:function(c){var b=this.dom,d=c&&Ext.getDom(c);b=b&&b.childNodes;return d&&b?Array.prototype.indexOf.call(b,d):-1},insertAfter:function(b){b=Ext.getDom(b);b.parentNode.insertBefore(this.dom,b.nextSibling);return this},insertBefore:function(b){b=Ext.getDom(b);b.parentNode.insertBefore(this.dom,b);return this},insertFirst:function(b,c){b=b||{};if(b.nodeType||b.dom||typeof b==='string'){b=Ext.getDom(b);this.dom.insertBefore(b,this.dom.firstChild);return !c?Ext.get(b):b}else {return this.createChild(b,this.dom.firstChild,c)}},insertHtml:function(d,e,c){var b=Ext.DomHelper.insertHtml(d,this.dom,e);return c?Ext.get(b):b},insertSibling:function(c,l,g){var e=this,k=Ext.DomHelper,i=(l||'before').toLowerCase()==='after',d,h,j,f;if(Ext.isIterable(c)){j=c.length;h=Ext.fly(b.createDocumentFragment());if(Ext.isArray(c)){for(f=0;f<j;f++){d=h.appendChild(c[f],g)}}else {for(f=0;f<j;f++){h.dom.appendChild(d=c[0])}if(g===!1){d=Ext.get(d)}}e.dom.parentNode.insertBefore(h.dom,i?e.dom.nextSibling:e.dom);return d}c=c||{};if(c.nodeType||c.dom){d=e.dom.parentNode.insertBefore(Ext.getDom(c),i?e.dom.nextSibling:e.dom);if(!g){d=Ext.get(d)}}else {if(i&&!e.dom.nextSibling){d=k.append(e.dom.parentNode,c,!g)}else {d=k[i?'insertAfter':'insertBefore'](e.dom,c,!g)}}return d},is:function(c){var d=this.dom,b;if(!c){b=!0}else if(!d.tagName){b=!1}else if(Ext.isFunction(c)){b=c(d)}else {b=d[Ext.supports.matchesSelector](c)}return b},isAncestor:function(e){var d=!1,c=this.dom,b=Ext.getDom(e);if(c&&b){if(!b.nodeType){return !1}if(c.contains){return c.contains(b)}else if(c.compareDocumentPosition){return !!(c.compareDocumentPosition(b)&16)}else {while(b=b.parentNode){d=b===c||d}}}return d},isPainted:function(){return !Ext.browser.is.IE?function(){var b=this.dom;return Boolean(b&&b.offsetParent)}:function(){var b=this.dom;return Boolean(b&&(b.offsetHeight!==0||b.offsetWidth!==0))}}(),isScrollable:function(){var b=this.dom;return b.scrollHeight>b.clientHeight||b.scrollWidth>b.clientWidth},isStyle:function(b,c){return this.getStyle(b)===c},isVisible:function(f,d){var b=this.dom,c=!0,e;if(!b){return !1}d=d||3;if(!s){s=new Ext.dom.Fly()}for(e=b.ownerDocument.documentElement;b!==e;b=b.parentNode){if(!b||b.nodeType===11){c=!1}if(c){s.attach(b);if(d&1){c=!s.isStyle(M,C)}if(c&&d&2){c=!s.isStyle($,ag)}}if(!c||!f){break}}return c},last:function(c,b){return this.matchNode('previousSibling','lastChild',c,b)},matchNode:function(g,f,c,e){var d=this.dom,b;if(!d){return null}b=d[f];while(b){if(b.nodeType===1&&(!c||Ext.fly(b,'_matchNode').is(c))){return !e?Ext.get(b):b}b=b[g]}return null},measure:function(f){var m=this,g=m.dom,h=f!=='h',j=f!=='w',d=0,c=0,i=!Ext.supports.ComputedSizeIncludesPadding,b,l,k;if(g.nodeName==='BODY'){c=j&&a.getViewportHeight();d=h&&a.getViewportWidth()}else {k=g.offsetParent;b=g.ownerDocument.defaultView.getComputedStyle(g,null);i|=b.boxSizing==='content-box';if(k!==null||b.position==='fixed'){if(j){c=e(b.height);if(i){c+=e(b.paddingTop)+e(b.paddingBottom)+e(b.borderTopWidth)+e(b.borderBottomWidth)}}if(h){d=e(b.width);if(i){d+=e(b.paddingLeft)+e(b.paddingRight)+e(b.borderLeftWidth)+e(b.borderRightWidth)}}}}l=f?null:{width:d,height:c};return f?h?d:c:l},measureContent:function(b){var c=this,g=b!=='h',d=c.measure(b),e=b?d:d.height,f=b?d:d.width;if(b!=='w'){e-=c.getBorderWidth('tb')+c.getPadding('tb')}if(g){f-=c.getBorderWidth('lr')+c.getPadding('lr')}return b?g?f:e:{width:f,height:e}},monitorMouseLeave:function(f,e,g){var b=this,d,c={mouseleave:function(c){if(Ext.isIE9m){c.enableIEAsync()}d=Ext.defer(e,f,g||b,[c])},mouseenter:function(){Ext.undefer(d)},destroy:function(){Ext.undefer(d);if(!b.destroyed){b.un(c)}}};b.on(c);return c},next:function(c,b){return this.matchNode('nextSibling','nextSibling',c,b)},parent:function(c,b){return this.matchNode('parentNode','parentNode',c,b)},peekData:function(){var b=this.dom;return b&&b._extData||null},position:function(c,d,e,f){var b=this;if(b.dom.tagName!=='BODY'){if(!c&&b.isStyle(y,ah)){b.setStyle(y,ab)}else if(c){b.setStyle(y,c)}if(d){b.setStyle(ai,d)}if(e||f){b.setXY([e||!1,f||!1])}}},prev:function(c,b){return this.matchNode('previousSibling','previousSibling',c,b)},query:function(b,e,j){var i=this.dom,g,l,k,h,f,c,d;if(!i){return null}e=e!==!1;b=b.split(',');if(!j){g=[]}for(c=0,l=b.length;c<l;c++){if(typeof b[c]==='string'){if(j){h=i.querySelector(b[c]);return e?h:Ext.get(h)}f=i.querySelectorAll(b[c]);for(d=0,k=f.length;d<k;d++){g.push(e?f[d]:Ext.get(f[d]))}}}return g},radioCls:function(b){var f=this.dom.parentNode.childNodes,d,c,e;b=Ext.isArray(b)?b:[b];for(c=0,e=f.length;c<e;c++){d=f[c];if(d&&d.nodeType===1){Ext.fly(d).removeCls(b)}}return this.addCls(b)},redraw:function(){var c=this.dom,b=c.style;b.display='none';c.offsetHeight;b.display=''},remove:function(){this.destroy()},removeChild:function(b){this.dom.removeChild(Ext.getDom(b));return this},removeCls:function(d,b,c){return this.replaceCls(d,null,b,c)},repaint:function(c,d){var b=this,e,f;if(!c){c='x-repaint';f=!(e=!1)}else if(d!=null){f=d;e=!d}b.toggleCls(c,f);if(!b.repaintTimer){b.repaintTimer=Ext.defer(function(){b.repaintTimer=null;if(b.dom){b.toggleCls(c,e)}},1)}return b},replace:function(b,f){b=Ext.getDom(b);var c=b.parentNode,e=b.id,d=this.dom;if(f!==!1&&e&&Ext.cache[e]){c.insertBefore(d,b);Ext.get(b).destroy()}else {c.replaceChild(d,b)}return this},replaceCls:function(o,e,c,d){var j=this,n=j.dom,p=0,l=0,g=o,m=(e||o)&&j.getData(),h,i,f,k,b;if(m){h=m.classList;i=m.classMap;e=e?typeof e==='string'?e.split(q):e:P;g=g?typeof g==='string'?g.split(q):g:P;c=c||'';if(c&&c[c.length-1]!=='-'){c+='-'}d=d||'';if(d&&d[0]!=='-'){d='-'+d}for(f=0,k=g.length;f<k;f++){if(!(b=g[f])){continue}b=c+b+d;if(i[b]){delete i[b];++l}}for(f=0,k=e.length;f<k;f++){if(!(b=e[f])){continue}b=c+b+d;if(!i[b]){i[b]=!0;if(!l){h.push(b);++p}}}if(l){j.setClassMap(i,!0)}else if(p){h=h.join(' ');if(!Ext.isIE8&&n instanceof SVGElement){n.setAttribute('class',h)}else {n.className=h}}}return j},replaceWith:function(c){var b=this,e=b.dom,f=e.parentNode,g=Ext.cache,d;b.clearListeners();if(c.nodeType||c.dom||typeof c==='string'){c=Ext.get(c);d=f.insertBefore(c.dom,e)}else {d=Ext.DomHelper.insertBefore(e,c)}f.removeChild(e);b.dom=d;if(!b.isFly){delete g[b.id];g[b.id=Ext.id(d)]=b}return b},resolveListenerScope:function(c){var b=this.component;return b?b.resolveListenerScope(c):this},scroll:function(b,e,j){if(!this.isScrollable()){return !1}b=b.charAt(0);var f=this,i=f.dom,h=b==='r'||b==='l'?'left':'top',g=!1,c,d;if(b==='l'||b==='t'||b==='u'){e=-e}if(h==='left'){c=i.scrollLeft;d=f.constrainScrollLeft(c+e)}else {c=i.scrollTop;d=f.constrainScrollTop(c+e)}if(d!==c){this.scrollTo(h,d,j);g=!0}return g},scrollBy:function(b,c,e){var d=this,f=d.dom;if(b.length){e=c;c=b[1];b=b[0]}else if(typeof b!=='number'){e=c;c=b.y;b=b.x}if(b){d.scrollTo('left',d.constrainScrollLeft(f.scrollLeft+b),e)}if(c){d.scrollTo('top',d.constrainScrollTop(f.scrollTop+c),e)}return d},scrollChildIntoView:function(c,b){Ext.fly(c).scrollIntoView(this,b)},scrollIntoView:function(b,e,d,c){b=Ext.getDom(b)||Ext.getBody().dom;return this.doScrollIntoView(b,e,d,c,'getScrollLeft','scrollTo')},scrollTo:function(h,e,d){var i=al.test(h),c=this,f=i?'scrollTop':'scrollLeft',g=c.dom,b;if(!d||!c.anim){g[f]=e;g[f]=e}else {b={to:{}};b.to[f]=e;if(Ext.isObject(d)){Ext.applyIf(b,d)}c.animate(b)}return c},select:function(c,e){var d,b;if(typeof c==='string'){b=this.query(c,!e)}else {b=c;d=!0}return e?new Ext.CompositeElement(b,!d):new Ext.CompositeElementLite(b,!0)},selectNode:function(b,c){return this.query(b,c,!0)},set:function(e,g){var f=this,d=f.dom,b,c;for(b in e){if(e.hasOwnProperty(b)){c=e[b];if(b==='style'){f.applyStyles(c)}else if(b==='cls'){d.className=c}else if(g!==!1){if(c===undefined){d.removeAttribute(b)}else {d.setAttribute(b,c)}}else {d[b]=c}}}return f},setBottom:function(b){this.dom.style[af]=a.addUnits(b);return this},setClassMap:function(b,e){var c=this.getData(!1),d;if(c){b=e&&b||Ext.apply({},b);c.classMap=b;c.classList=d=Ext.Object.getKeys(b);c.isSynchronized=!0;this.dom.className=d.join(' ')}},setCls:function(c){var h=this,e=h.getData(!1),d,g,f,b;if(typeof c==='string'){c=c.split(q)}e.classList=b=c.slice();e.classMap=f={};for(d=0,g=b.length;d<g;d++){f[b[d]]=!0}h.dom.className=b.join(' ')},setDisplayed:function(c){var b=this;if(typeof c==='boolean'){c=c?b._getDisplay():C}b.setStyle(M,c);if(b.shadow||b.shim){b.setUnderlaysVisible(c!==C)}return b},setHeight:function(c){var b=this;b.dom.style[O]=a.addUnits(c);if(b.shadow||b.shim){b.syncUnderlays()}return b},setHtml:function(b){if(this.dom){this.dom.innerHTML=b}return this},setId:function(c){var b=this,d=b.id,e=Ext.cache;if(d){delete e[d]}b.dom.id=c;b.id=c;e[c]=b;return b},setLeft:function(c){var b=this;b.dom.style[am]=a.addUnits(c);if(b.shadow||b.shim){b.syncUnderlays()}return b},setLocalX:function(d){var b=this,c=b.dom.style;c.right='';c.left=d===null?'auto':d+'px';if(b.shadow||b.shim){b.syncUnderlays()}return b},setLocalXY:function(b,e){var d=this,c=d.dom.style;c.right='';if(b&&b.length){e=b[1];b=b[0]}if(b===null){c.left='auto'}else if(b!==undefined){c.left=b+'px'}if(e===null){c.top='auto'}else if(e!==undefined){c.top=e+'px'}if(d.shadow||d.shim){d.syncUnderlays()}return d},setLocalY:function(c){var b=this;b.dom.style.top=c===null?'auto':c+'px';if(b.shadow||b.shim){b.syncUnderlays()}return b},setMargin:function(b){var d=this,c=d.dom.style;if(b||b===0){b=d.self.unitizeBox(b===!0?5:b);c.setProperty('margin',b,'important')}else {c.removeProperty('margin-top');c.removeProperty('margin-right');c.removeProperty('margin-bottom');c.removeProperty('margin-left')}},setMaxHeight:function(b){this.dom.style[Y]=a.addUnits(b);return this},setMaxWidth:function(b){this.dom.style[_]=a.addUnits(b);return this},setMinHeight:function(b){this.dom.style[Z]=a.addUnits(b);return this},setMinWidth:function(b){this.dom.style[aa]=a.addUnits(b);return this},setOpacity:function(c){var b=this;if(b.dom){b.setStyle('opacity',c)}return b},setPadding:function(b){var d=this,c=d.dom.style;if(b||b===0){b=d.self.unitizeBox(b===!0?5:b);c.setProperty('padding',b,'important')}else {c.removeProperty('padding-top');c.removeProperty('padding-right');c.removeProperty('padding-bottom');c.removeProperty('padding-left')}},setRight:function(b){this.dom.style[aj]=a.addUnits(b);return this},setScrollLeft:function(b){this.dom.scrollLeft=b;return this},setScrollTop:function(b){this.dom.scrollTop=b;return this},setSize:function(b,d){var c=this,e=c.dom.style;if(Ext.isObject(b)){d=b.height;b=b.width}if(b!==undefined){e.width=a.addUnits(b)}if(d!==undefined){e.height=a.addUnits(d)}if(c.shadow||c.shim){c.syncUnderlays()}return c},setStyle:function(h,c){var e=this,f=e.dom,g=e.styleHooks,i=f.style,d=h,b;if(typeof d==='string'){b=g[d];if(!b){g[d]=b={name:a.normalize(d)}}c=c==null?'':c;if(b.set){b.set(f,c,e)}else {i[b.name]=c}if(b.afterSet){b.afterSet(f,c,e)}}else {for(d in h){b=g[d];if(!b){g[d]=b={name:a.normalize(d)}}c=h[d];c=c==null?'':c;if(b.set){b.set(f,c,e)}else {i[b.name]=c}if(b.afterSet){b.afterSet(f,c,e)}}}return e},setText:function(b){this.dom.textContent=b},getText:function(){return this.dom.textContent},setTop:function(c){var b=this;b.dom.style[ao]=a.addUnits(c);if(b.shadow||b.shim){b.syncUnderlays()}return b},setTouchAction:function(b){Ext.dom.TouchAction.set(this.dom,b)},setUnderlaysVisible:function(d){var b=this.shadow,c=this.shim;if(b&&!b.disabled){if(d){b.show()}else {b.hide()}}if(c&&!c.disabled){if(d){c.show()}else {c.hide()}}},setVisibility:function(c){var b=this.dom.style;if(c){b.removeProperty('visibility')}else {b.setProperty('visibility','hidden','important')}},setVisibilityMode:function(b){this.getData().visibilityMode=b;return this},setVisible:function(d){var b=this,e=b.getVisibilityMode(),c=d?'removeCls':'addCls';switch(e){case a.DISPLAY:b.removeCls([n,o,r,p]);b[c](k);break;case a.VISIBILITY:b.removeCls([k,o,r,p]);b[c](n);break;case a.OFFSETS:b.removeCls([n,k,r,p]);b[c](o);break;case a.CLIP:b.removeCls([n,k,o,p]);b[c](r);break;case a.OPACITY:b.removeCls([n,k,o,r]);b[c](p);break;}if(b.shadow||b.shim){b.setUnderlaysVisible(d)}if(!d&&b.$ripples){b.destroyAllRipples()}return b},setWidth:function(c){var b=this;b.dom.style[Q]=a.addUnits(c);if(b.shadow||b.shim){b.syncUnderlays()}return b},setX:function(b){return this.setXY([b,!1])},setXY:function(f){var b=this,d=b.translatePoints(f),e=b.dom.style,c;b.position();e.right='';for(c in d){if(!isNaN(d[c])){e[c]=d[c]+'px'}}if(b.shadow||b.shim){b.syncUnderlays()}return b},setY:function(b){return this.setXY([!1,b])},setZIndex:function(c){var b=this;if(b.shadow){b.shadow.setZIndex(c)}if(b.shim){b.shim.setZIndex(c)}return b.setStyle('z-index',c)},show:function(){return this.setVisible(!0)},swallowEvent:function(b,g){var h=this,c,e,d={destroyable:!0},f=function(c){c.stopPropagation();if(g){c.preventDefault()}};if(Ext.isArray(b)){e=b.length;for(c=0;c<e;c++){d[b[c]]=f}}else {d[b]=f}return h.on(d)},swapCls:function(h,g,c,b){if(c===undefined){c=!0}var f=this,e=c?h:g,d=c?g:h;if(d){f.removeCls(b?b+'-'+d:d)}if(e){f.addCls(b?b+'-'+e:e)}return f},synchronize:function(){var e=this,i=e.dom,f={},g=i.className,b,c,j,h,d=e.getData(!1);if(g&&g.length>0){b=i.className.split(S);for(c=0,j=b.length;c<j;c++){h=b[c];f[h]=!0}}else {b=[]}d.classList=b;d.classMap=f;d.isSynchronized=!0;return e},syncUnderlays:function(){var b=this,c=b.shadow,d=b.shim,j=b.dom,e,h,i,g,f;if(b.isVisible()){e=b.getXY();h=e[0];i=e[1];g=j.offsetWidth;f=j.offsetHeight;if(c&&!c.hidden){c.realign(h,i,g,f)}if(d&&!d.hidden){d.realign(h,i,g,f)}}},toggleCls:function(b,c){if(c==null){c=!this.hasCls(b)}return c?this.addCls(b):this.removeCls(b)},toggle:function(){this.setVisible(!this.isVisible());return this},translate:function(){var c='webkitTransform' in b.createElement('div').style?'webkitTransform':'transform';return function(b,d,e){b=Math.round(b);d=Math.round(d);e=Math.round(e);this.dom.style[c]='translate3d('+(b||0)+'px, '+(d||0)+'px, '+(e||0)+'px)'}}(),unwrap:function(){var i=this.dom,f=i.parentNode,e=(u||(u=new Ext.dom.Fly())).attach(Ext.Element.getActiveElement()),d,c,h,j;g=g||new Ext.dom.Fly();c=Ext.cache[e.dom.id];if(c){e=c}if(this.contains(e)){if(c){c.suspendFocusEvents()}h=!0}if(f){d=f.parentNode;if(h){j=d.getAttribute('tabIndex');g.attach(d);g.set({tabIndex:-1});g.suspendFocusEvents();g.focus()}d.insertBefore(i,f);d.removeChild(f)}else {d=b.createDocumentFragment();d.appendChild(i)}if(h){if(c){c.focus();c.resumeFocusEvents()}else {e.focus()}if(g){g.resumeFocusEvents();g.set({tabIndex:j})}}return this},up:function(b,d,c){return this.findParentNode(b,d,!c)},update:function(b){return this.setHtml(b)},wrap:function(m,g,h){var l=this,k=l.dom,j=Ext.DomHelper.insertBefore(k,m||{tag:'div'},!g),c=(N||(N=new Ext.dom.Fly())).attach(Ext.getDom(j)),e=c,d=(u||(u=new Ext.dom.Fly())).attach(Ext.Element.getActiveElement()),b,f,i;b=Ext.cache[d.dom.id];if(b){d=b}if(h){e=c.selectNode(h,g)}if(l.contains(d)){if(b){b.suspendFocusEvents()}i=Ext.getDom(c).getAttribute('tabIndex');c.set({tabIndex:-1});c.suspendFocusEvents();c.focus();f=!0}(e.dom||e).appendChild(k);if(f){if(b){b.focus();b.resumeFocusEvents()}else {d.focus()}c.resumeFocusEvents();c.set({tabIndex:i})}return j},isFocusable:function(e){var b=this.dom,c=!1,d;if(b&&!b.disabled){d=b.nodeName;c=!!Ext.Element.naturallyFocusableTags[d]||(d==='A'||d==='LINK')&&!!b.href||b.getAttribute('tabIndex')!=null||b.contentEditable==='true';if(Ext.isIE8&&d==='INPUT'&&b.type==='hidden'){c=!1}c=c&&(e||this.isVisible(!0))}return c},isInputField:function(){var b=this.dom,c=b.contentEditable;if(Ext.Element.inputTags[b.tagName]&&b.type!=='button'||(c===''||c==='true')){return !0}return !1},isTabbable:function(g){var d=this.dom,b=!1,f,e,c;if(d&&!d.disabled){f=d.nodeName;c=d.getAttribute('tabIndex');e=c!=null;c-=0;if(f==='A'||f==='LINK'){if(d.href){b=e&&c<0?!1:!0}else {if(d.contentEditable==='true'){b=!e||e&&c>=0?!0:!1}else {b=e&&c>=0?!0:!1}}}else if(d.contentEditable==='true'||Ext.Element.naturallyTabbableTags[f]){b=e&&c<0?!1:!0}else {if(e&&c>=0){b=!0}}if(Ext.isIE8&&f==='INPUT'&&d.type==='hidden'){b=!1}b=b&&(g||(!this.component||this.component.isVisible(!0))&&this.isVisible(!0))}return b},ripplingCls:'x-rippling',ripplingTransitionCls:'x-ripple-transition',ripplingUnboundCls:'x-rippling-unbound',rippleBubbleCls:'x-ripple-bubble',rippleContainerCls:'x-ripple-container',rippleWrapperCls:'x-ripple-wrapper',noRippleDisplayMap:{table:1,'table-row':1,'table-row-group':1},noRippleTagMap:{TABLE:1,TR:1,TBODY:1},ripple:function(e,b){if(b===!0||!b){b={}}else if(Ext.isString(b)){b={color:b}}var d=this,c=Ext.isString(b.delegate)?d.down(b.delegate):d,t=Ext.isString(b.measureSelector)?d.down(b.measureSelector):null,J=window.getComputedStyle(c.dom).color,k=b.bound===!1,D=b.position,v=d.ripplingCls,z=d.ripplingTransitionCls,H=d.ripplingUnboundCls,B=d.rippleBubbleCls,l=d.rippleContainerCls,I=d.rippleWrapperCls,j,r,q,f,E,C,A,n,x,F,G,i,h,g,s,u,y,o,p,m,w;if(c){j=c.getXY();r=c.getWidth();q=c.getHeight();w=c.$rippleClearTimeout;if(w){c.$rippleClearTimeout=Ext.undefer(w)}if(t){C=t.getWidth();A=t.getHeight();f=Math.max(C,A)}else {f=r>q?r:q}if(b.diameterLimit===undefined||b.diameterLimit===!0){f=Math.min(f,a.maxRippleDiameter)}else if(b.diameterLimit&&b.diameterLimit!==!1&&b.diameterLimit!==0){f=Math.min(f,b.diameterLimit)}E=[j[0]+r/2,j[1]+q/2];if(k){if(b.fit!==!1){n=f*2.15;o=c.getRegion();o.setPosition(o.getCenter()).setSize(n).translateBy(-n/2,-n/2);p=d.up(function(c){var f=Ext.fly(c,'ripple');return !(c.tagName in d.noRippleTagMap)&&!(f.getStyle('display') in d.noRippleDisplayMap)&&f.getRegion().contains(o)})||Ext.getBody()}else {p=c}}if(Ext.isString(e)){b.color=e;e=null}else if(e&&!e.isEvent){e=new Ext.event.Event(e)}if(e&&e.isEvent){if(e.browserEvent.$preventRipple){return}D=e.getXY();e.browserEvent.$preventRipple=!0}x=!k&&!b.centered&&D||E;F=x[0]-j[0]-f/2;G=x[1]-j[1]-f/2;c.addCls(z);if(!k){c.addCls(v);h=c.child('.'+l)}else {m=p.getData();i=m.rippleWrapper;if(!i){m.rippleWrapper=i=p.insertFirst({style:'position: absolute; top: 0; left: 0',cls:I+' '+v+' '+H})}}if(!h){if(k){h=i.append({cls:l});h.setXY(j)}else {h=c.append({cls:l})}}g=h.append({cls:B});if(b.color!=='default'){g.setStyle('backgroundColor',b.color||J)}g.setWidth(f);g.setHeight(f);g.setTop(G);g.setLeft(F);u=function(){if(!c.destroyed){c.$rippleClearTimeout=Ext.defer(function(){c.removeCls([v,z]);c.$rippleClearTimeout=null},50)}};s=function(){var f,j;g.destroy();if(d.$ripples){delete d.$ripples[g.id]}j=c.$rippleClearTimeout;if(j){c.$rippleClearTimeout=Ext.undefer(j)}if(k){h.destroy();f=i.child('.'+l);if(!f){m.rippleWrapper=null;i.destroy();u()}}else {f=h.child('.'+B);if(!f){h.destroy();u()}}};y=Ext.defer(s,b.destroyTime||1000,d);if(!d.$ripples){d.$ripples={}}d.$ripples[g.id]={timerId:y,destructor:s};g.addCls('x-ripple')}},destroyAllRipples:function(){var c=this,d,b;for(d in c.$ripples){b=c.$ripples[d];Ext.undefer(b.timerId);if(b.destructor){b.destructor()}}c.$ripples=null},privates:{findTabbableElements:function(e){var m,l,b,i,h,f=this.dom,o=Ext.Element.tabbableSavedCounterAttribute,c=[],q=0,j,d,p,g,k,n;if(!f){return c}if(e){m=e.skipSelf;l=e.skipChildren;b=e.excludeRoot;i=e.includeSaved;h=e.includeHidden}b=b&&Ext.getDom(b);if(b&&b.contains(f)){return c}if(!m&&(i&&f.hasAttribute(o)||this.isTabbable(h))){c[q++]=f}if(l){return c}j=f.querySelectorAll(Ext.Element.tabbableSelector);k=j.length;if(!k){return c}p=new Ext.dom.Fly();for(g=0;g<k;g++){d=j[g];n=+d.getAttribute('tabIndex');if((i&&d.hasAttribute(o)||!(n<0)&&p.attach(d).isTabbable(h))&&!(b&&(b===d||b.contains(d)))){c[q++]=d}}return c},saveTabbableState:function(c){var f=Ext.Element.tabbableSavedCounterAttribute,h=Ext.Element.tabbableSavedValueAttribute,g,d,b,e,i;if(!c||c.includeSaved==null){c=Ext.Object.chain(c||null);c.includeSaved=!0}d=this.findTabbableElements(c);for(e=0,i=d.length;e<i;e++){b=d[e];g=+b.getAttribute(f);if(g>0){b.setAttribute(f,++g)}else {if(b.hasAttribute('tabIndex')){b.setAttribute(h,b.getAttribute('tabIndex'))}else {b.setAttribute(h,'none')}b.setAttribute('tabIndex','-1');b.setAttribute(f,'1')}}return d},restoreTabbableState:function(c){var i=this.dom,d=Ext.Element.tabbableSavedCounterAttribute,g=Ext.Element.tabbableSavedValueAttribute,e=[],m=c&&c.skipSelf,l=c&&c.skipChildren,n=c&&c.reset,j,h,b,f,k;if(!i){return this}if(!l){e=Ext.Array.from(i.querySelectorAll('['+d+']'))}if(!m){e.unshift(i)}for(f=0,k=e.length;f<k;f++){b=e[f];if(!b.hasAttribute(d)||!b.hasAttribute(g)){continue}h=+b.getAttribute(d);if(!n&&h>1){b.setAttribute(d,--h);continue}j=b.getAttribute(g);if(j==='none'){b.removeAttribute('tabIndex')}else {b.setAttribute('tabIndex',j)}b.removeAttribute(g);b.removeAttribute(d)}return e},setTabIndex:function(c){var b=this.dom,d=Ext.Element.tabbableSavedValueAttribute;if(b.hasAttribute(d)){if(c==null){b.setAttribute(d,'none');b.removeAttribute('tabIndex')}else {b.setAttribute(d,c)}}else {if(c==null){b.removeAttribute('tabIndex')}else {b.setAttribute('tabIndex',c)}}},doAddListener:function(b,l,k,c,j,i,f){var d=this,m=b,g,h,e;b=Ext.canonicalEventName(b);if(!d.blockedEvents[b]){g=d.mixins.observable.doAddListener;c=c||{};if(a.useDelegatedEvents===!1){c.delegated=c.delegated||!1}if(c.translate!==!1){h=d.additiveEvents[b];if(h){c.type=b;b=h;g.call(d,b,l,k,c,j,i,f)}e=d.eventMap[b];if(e){c.type=c.type||b;if(f){c.managedName=m}b=e}}if(g.call(d,b,l,k,c,j,i,f)){if(d.longpressEvents[b]&&++d.longpressListenerCount===1){d.on('MSHoldVisual','preventMsHoldVisual',d)}}if(f&&e){delete c.managedName}delete c.type}},doRemoveListener:function(c,i,h){var b=this,d,f,g,e;c=Ext.canonicalEventName(c);if(!b.blockedEvents[c]){d=b.mixins.observable.doRemoveListener;g=b.additiveEvents[c];if(g){c=g;d.call(b,c,i,h)}f=b.eventMap[c];if(f){e=d.call(b,f,i,h)}e=d.call(b,c,i,h)||e;if(e){if(b.longpressEvents[c]&&!--b.longpressListenerCount){b.un('MSHoldVisual','preventMsHoldVisual',b)}}}},_initEvent:function(b){return this.events[b]=new Ext.dom.ElementEvent(this,b)},_getDisplay:function(){var c=this.getData(),b=c[F];if(b===undefined){c[F]=b=''}return b},_getPublisher:function(b,e){var d=Ext.event.publisher.Publisher,c=d.publishersByEvent[b],f=e&&!Ext.event.Event.gestureEvents[b];if(f||!c||this.dom===window&&b==='resize'){c=d.publishers.dom}return c},isFocusSuspended:function(){var b=this.peekData();return b&&b.suspendFocusEvents},preventMsHoldVisual:function(b){b.preventDefault()},suspendFocusEvents:function(){if(!this.isFly){this.suspendEvent('focus','blur')}this.getData().suspendFocusEvents=!0},resumeFocusEvents:function(){function resumeFn(){var b;if(!this.destroyed){b=this.getData();if(b){b.suspendFocusEvents=!1}if(!this.isFly){this.resumeEvent('focus','blur')}}}if(!this.destroyed&&this.getData().suspendFocusEvents){if(Ext.isIE&&!this.isFly){this.resumeFocusEventsTimer=Ext.asap(resumeFn,this)}else {resumeFn.call(this)}}}},deprecated:{'5.0':{methods:{getHTML:'getHtml',getPageBox:function(l){var e=this,c=e.dom,d=c.nodeName==='BODY',k=d?a.getViewportWidth():c.offsetWidth,g=d?a.getViewportHeight():c.offsetHeight,b=e.getXY(),j=b[1],i=b[0]+k,f=b[1]+g,h=b[0];if(l){return new Ext.util.Region(j,i,f,h)}else {return {left:h,top:j,width:k,height:g,right:i,bottom:f}}},isTransparent:function(c){var b=this.getStyle(c);return b?W.test(b):!1},purgeAllListeners:'clearListeners',removeAllListeners:'clearListeners',setHTML:'setHtml'}}}}},1,0,0,0,0,[[Ext.util.Positionable.prototype.mixinId||Ext.util.Positionable.$className,Ext.util.Positionable],[Ext.mixin.Observable.prototype.mixinId||Ext.mixin.Observable.$className,Ext.mixin.Observable]],[Ext.dom,'Element',Ext,'Element'],function(b){var e=document,y=e.documentElement,i=b.prototype,n=Ext.supports,o='pointerdown',p='pointermove',q='pointerup',r='pointercancel',s='MSPointerDown',t='MSPointerMove',u='MSPointerUp',v='MSPointerCancel',g='mousedown',h='mousemove',c='mouseup',w='mouseover',x='mouseout',A='mouseenter',B='mouseleave',j='touchstart',k='touchmove',l='touchend',m='touchcancel',E='click',D='dblclick',F='tap',C='doubletap',a=i.eventMap={},d=i.additiveEvents={},z=Ext.id,f;i._init(b);delete i._init;Ext.id=function(c,f){var d=c&&Ext.getDom(c,!0),e,a;if(!d){a=z(c,f)}else if(!(a=d.id)){a=z(null,f||b.prototype.identifiablePrefix);if(Ext.isSandboxed){e=Ext.sandboxPrefix||(Ext.sandboxPrefix=Ext.sandboxName.toLowerCase()+'-');a=e+a}d.id=a}return a};if(n.PointerEvents){a[g]=o;a[h]=p;a[c]=q;a[j]=o;a[k]=p;a[l]=q;a[m]=r;a[w]='pointerover';a[x]='pointerout';a[A]='pointerenter';if(!Ext.isIE11){a[B]='pointerleave'}}else if(n.MSPointerEvents){a[o]=s;a[p]=t;a[q]=u;a[r]=v;a[g]=s;a[h]=t;a[c]=u;a[j]=s;a[k]=t;a[l]=u;a[m]=v;a[w]='MSPointerOver';a[x]='MSPointerOut'}else if(n.TouchEvents){a[o]=j;a[p]=k;a[q]=l;a[r]=m;a[g]=j;a[h]=k;a[c]=l;a[E]=F;a[D]=C;if(Ext.os.is.Desktop){a[j]=g;a[k]=h;a[l]=c;a[m]=c;d[g]=g;d[h]=h;d[c]=c;d[j]=j;d[k]=k;d[l]=l;d[m]=m;d[o]=g;d[p]=h;d[q]=c;d[r]=c}}else {a[o]=g;a[p]=h;a[q]=c;a[r]=c;a[j]=g;a[k]=h;a[l]=c;a[m]=c}if(Ext.isWebKit){a.transitionend=Ext.browser.getVendorProperyName('transitionEnd');a.animationstart=Ext.browser.getVendorProperyName('animationStart');a.animationend=Ext.browser.getVendorProperyName('animationEnd')}if(!Ext.supports.MouseWheel&&!Ext.isOpera){a.mousewheel='DOMMouseScroll'}f=i.$eventOptions=Ext.Object.chain(i.$eventOptions);f.translate=f.capture=f.delegate=f.delegated=f.stopEvent=f.preventDefault=f.stopPropagation=f.element=1;i.styleHooks.opacity={name:'opacity',afterSet:function(e,c,d){var a=d.shadow;if(a){a.setOpacity(c)}}};i.getTrueXY=i.getXY;Ext.getViewportHeight=b.getViewportHeight;Ext.getViewportWidth=b.getViewportWidth;Ext.select=b.select;Ext.query=b.query;Ext.apply(Ext,{get:function(a){return b.get(a)},getDom:function(a){if(!a||!e){return null}return typeof a==='string'?Ext.getElementById(a):'dom' in a?a.dom:a},getBody:function(){if(!Ext._bodyEl){if(!e.body){throw new Error('[Ext.getBody] document.body does not yet exist')}Ext._bodyEl=Ext.get(e.body);Ext._bodyEl.skipGarbageCollection=!0}return Ext._bodyEl},getHead:function(){if(!Ext._headEl){Ext._headEl=Ext.get(e.head||e.getElementsByTagName('head')[0]);Ext._headEl.skipGarbageCollection=!0}return Ext._headEl},getDoc:function(){if(!Ext._docEl){Ext._docEl=Ext.get(e);Ext._docEl.skipGarbageCollection=!0}return Ext._docEl},getWin:function(){if(!Ext._winEl){Ext._winEl=Ext.get(window);Ext._winEl.skipGarbageCollection=!0}return Ext._winEl},removeNode:function(a){a=a.dom||a;var e=a&&a.id,d=Ext.cache[e],c;if(d){d.destroy()}else if(a&&(a.nodeType===3||a.tagName.toUpperCase()!=='BODY')){c=a.parentNode;if(c){c.removeChild(a)}}}});Ext.isGarbage=function(a){return a&&a.nodeType===1&&a.tagName!=='BODY'&&a.tagName!=='HTML'&&(!a.parentNode||a.offsetParent===null&&(Ext.isIE8?e.all[a.id]:e.getElementById(a.id))!==a&&!(Ext.detachedBodyEl&&Ext.detachedBodyEl.isAncestor(a)))};Ext.onInternalReady(function(){var a=[],c;Ext.getDoc().on('selectstart',function(h,a){var g=b.selectableCls,f=b.unselectableCls,c=a&&a.tagName,d=new Ext.dom.Fly();c=c&&c.toLowerCase();if(c==='input'||c==='textarea'){return}while(a&&a.nodeType===1&&a!==e.documentElement){d.attach(a);if(d.hasCls(g)){return}if(d.hasCls(f)){h.stopEvent();return}a=a.parentNode}});if(Ext.os.is.Android||Ext.os.is.Windows&&Ext.supports.Touch){var d=Ext.getWin();b._documentWidth=b._viewportWidth=y.clientWidth;b._documentHeight=b._viewportHeight=y.clientHeight;d.on({focusin:'_onWindowFocusChange',focusout:'_onWindowFocusChange',pointerup:'_onWindowFocusChange',capture:!0,delegated:!1,delay:1,scope:b});d.on({resize:'_onWindowResize',priority:2000,scope:b})}if(n.Touch){a.push('x-touch')}if(Ext.isIE&&Ext.isIE9m){a.push('x-ie','x-ie9m');a.push('x-ie8p');if(Ext.isIE8){a.push('x-ie8')}else {a.push('x-ie9','x-ie9p')}if(Ext.isIE8m){a.push('x-ie8m')}}if(Ext.isIE10){a.push('x-ie10')}if(Ext.isIE10p){a.push('x-ie10p')}if(Ext.isIE11){a.push('x-ie11')}if(Ext.isEdge){a.push('x-edge')}if(Ext.isGecko){a.push('x-gecko')}if(Ext.isOpera){a.push('x-opera')}if(Ext.isOpera12m){a.push('x-opera12m')}if(Ext.isWebKit){a.push('x-webkit')}if(Ext.isSafari){a.push('x-safari')}if(Ext.isSafari9){a.push('x-safari9')}if(Ext.isSafari10){a.push('x-safari10')}if(Ext.isSafari){if(Ext.browser.version.isLessThan(11)){a.push('x-safari10m')}if(Ext.browser.version.isLessThan(9)){a.push('x-safari8m')}}if(Ext.isChrome){a.push('x-chrome')}if(Ext.isChromeMobile){a.push('x-chromemobile')}if(Ext.isMac){a.push('x-mac')}if(Ext.isWindows){a.push('x-windows')}if(Ext.isLinux){a.push('x-linux')}if(!n.CSS3BorderRadius){a.push('x-nbr')}if(!n.CSS3LinearGradient){a.push('x-nlg')}if(n.Touch){a.push('x-touch')}if(Ext.os.deviceType){a.push('x-'+Ext.os.deviceType.toLowerCase())}if(Ext.os.is.BlackBerry){a.push('x-bb');if(Ext.browser.userAgent.match(/Kbd/gi)){a.push('x-bb-keyboard')}}if(Ext.os.is.iOS&&Ext.isSafari){a.push('x-mobile-safari')}if(Ext.os.is.iOS&&Ext.browser.is.WebView&&!Ext.browser.is.Standalone){a.push('x-ios-native')}if(Ext.supports.FlexBoxBasisBug){a.push('x-has-flexbasis-bug')}Ext.getBody().addCls(a);c=Ext.theme;if(c&&c.getDocCls){Ext.fly(document.documentElement).addCls(c.getDocCls())}},null,{priority:1500})});Ext.define('Ext.overrides.dom.Element',{override:'Ext.dom.Element',_positionTopLeft:['position','top','left'],setX:function(b,a){return this.setXY([b,this.getY()],a)},setXY:function(b,a){var c=this;if(!a){c.callParent([b])}else {if(!Ext.isObject(a)){a={}}c.animate(Ext.applyIf({to:{x:b[0],y:b[1]}},a))}return this},setY:function(b,a){return this.setXY([this.getX(),b],a)},translateXY:function(a,g){var f=this,e=f.el,d=e.getStyle(f._positionTopLeft),h=d.position==='relative',b=parseFloat(d.left),c=parseFloat(d.top),i=f.getXY();if(Ext.isArray(a)){g=a[1];a=a[0]}if(isNaN(b)){b=h?0:e.dom.offsetLeft}if(isNaN(c)){c=h?0:e.dom.offsetTop}b=typeof a==='number'?a-i[0]+b:undefined;c=typeof g==='number'?g-i[1]+c:undefined;return {x:b,y:c}},visit:function(b){var m=this,c=m.dom,k=b.skipSelf,f=b.excludeRoot,j=b.callback||b.fn,l=b.scope||this,h=b.reverse,g=b.selector,i=b.include||NodeFilter.SHOW_ELEMENT,d=document.createTreeWalker(c,i,null,!1),e=null,a=c;if(h){for(a=c.lastElementChild;a.lastElementChild;a=a.lastElementChild){}d.currentNode=a}for(;e!==!1&&a;a=h?d.previousNode():d.nextNode()){if(!(f&&f.contains(a))){if(!(a===c&&k)){if(!(g&&!a[Ext.supports.matchesSelector](g))){e=Ext.callback(j,l,[a])}}}}return e}});Ext.define('Ext.overrides.dom.Element',{override:'Ext.dom.Element',rippleShowTimeout:300});Ext.cmd.derive('Ext.GlobalEvents',Ext.mixin.Observable,{alternateClassName:'Ext.globalEvents',observableType:'global',singleton:!0,resizeBuffer:100,idleEventMask:{mousemove:1,touchmove:1,pointermove:1,MSPointerMove:1,unload:1},windowListeners:{resize:{fn:'fireResize'}},constructor:function(){var a=this;a.callParent();Ext.onInternalReady(function(){a.attachListeners()})},setPressedComponent:function(c,d){var a=this,b=a.pressedComponent;if(b&&b.onRelease){b.onRelease(d)}a.pressedComponent=c;if(c){a.pressedScrollStart=Ext.on({scrollstart:function(){a.setPressedComponent(null,d)},destroyable:!0})}else {a.pressedScrollStart=Ext.destroy(a.pressedScrollStart)}},attachListeners:function(){var a=this,c=Ext.getWin(),b=a.windowListeners;a.onlineState=Ext.isOnline();a.curHeight=Ext.Element.getViewportHeight();a.curWidth=Ext.Element.getViewportWidth();c.on({scope:a,online:'handleOnlineChange',offline:'handleOnlineChange'});if(b){b.scope=a;if(Ext.isModern){b.resize.onFrame=!0}else {b.resize.buffer=a.resizeBuffer}c.on(b)}Ext.getDoc().on({touchstart:'fireMouseDown',mousedown:'fireMouseDown',mouseup:'fireMouseUp',touchend:'fireMouseUp',drop:'fireMouseUp',dragend:'fireMouseUp',scope:a})},fireMouseDown:function(a){this.fireEvent('mousedown',a);Ext.ComponentManager.handleDocumentMouseDown(a)},fireMouseUp:function(a){this.fireEvent('mouseup',a);this.setPressedComponent(null,a)},fireResize:function(){var a=this,d=Ext.Element,c=d.getViewportWidth(),b=d.getViewportHeight();if(a.curHeight!==b||a.curWidth!==c){a.curHeight=b;a.curWidth=c;if(a.hasListeners.resize){a.fireEvent('resize',c,b)}}},handleOnlineChange:function(){var a=Ext.isOnline();if(a!==this.onlineState){this.onlineState=a;this.fireEvent('onlinechange',a)}}},1,0,0,0,0,0,[Ext,'GlobalEvents',Ext,'globalEvents'],function(a){Ext.hasListeners=a.hasListeners;Ext.on=function(){return a.addListener.apply(a,arguments)};Ext.un=function(){return a.removeListener.apply(a,arguments)};Ext.fireEvent=function(){return a.fireEvent.apply(a,arguments)};Ext.fireIdle=function(){if(a.hasListeners.idle&&!Ext._suppressIdle){a.fireEventArgs('idle')}Ext._suppressIdle=!1};Ext._suppressIdle=!1});Ext.USE_NATIVE_JSON=!0;Ext.JSON=new function(){var me=this,hasNative=window.JSON&&JSON.toString()==='[object JSON]',useHasOwn=!!{}.hasOwnProperty,pad=function(a){return a<10?'0'+a:a},doDecode=function(json){return eval('('+json+')')},doEncode=function(a,b){if(a===null||a===undefined){return 'null'}else if(Ext.isDate(a)){return me.encodeDate(a)}else if(Ext.isString(a)){if(Ext.isMSDate(a)){return me.encodeMSDate(a)}else {return me.encodeString(a)}}else if(typeof a==='number'){return isFinite(a)?String(a):'null'}else if(Ext.isBoolean(a)){return String(a)}else if(typeof a.toJSON==='function'){return doEncode(a.toJSON())}else if(Ext.isArray(a)){return encodeArray(a,b)}else if(Ext.isObject(a)){return encodeObject(a,b)}else if(typeof a==='function'){return 'null'}return 'undefined'},m={'\b':'\\b','\t':'\\t','\n':'\\n','\f':'\\f','\r':'\\r','"':'\\"','\\':'\\\\','\v':'\\u000b'},charToReplace=/[\\"\x00-\x1f\x7f-\uffff]/g,encodeString=function(a){return '"'+a.replace(charToReplace,function(b){var c=m[b];return typeof c==='string'?c:'\\u'+('0000'+b.charCodeAt(0).toString(16)).slice(-4)})+'"'},encodeMSDate=function(a){return '"'+a+'"'},encodeArrayPretty=function(e,d){var f=e.length,c=d+'   ',g=','+c,a=['[',c],b;for(b=0;b<f;b+=1){a.push(me.encodeValue(e[b],c),g)}a[a.length-1]=d+']';return a.join('')},encodeObjectPretty=function(e,f){var d=f+'   ',g=','+d,b=['{',d],c,a;for(c in e){a=e[c];if(!useHasOwn||e.hasOwnProperty(c)){if(typeof a==='function'||a===undefined||a.isInstance){continue}b.push(me.encodeValue(c)+': '+me.encodeValue(a,d),g)}}b[b.length-1]=f+'}';return b.join('')},encodeArray=function(c,d){if(d){return encodeArrayPretty(c,d)}var a=['[',''],e=c.length,b;for(b=0;b<e;b+=1){a.push(me.encodeValue(c[b]),',')}a[a.length-1]=']';return a.join('')},encodeObject=function(d,e){if(e){return encodeObjectPretty(d,e)}var b=['{',''],c,a;for(c in d){a=d[c];if(!useHasOwn||d.hasOwnProperty(c)){if(typeof a==='function'||a===undefined){continue}b.push(me.encodeValue(c),':',me.encodeValue(a),',')}}b[b.length-1]='}';return b.join('')};me.encodeString=encodeString;me.encodeValue=doEncode;me.encodeDate=function(a){return '"'+a.getFullYear()+'-'+pad(a.getMonth()+1)+'-'+pad(a.getDate())+'T'+pad(a.getHours())+':'+pad(a.getMinutes())+':'+pad(a.getSeconds())+'"'};me.encode=function(a){if(hasNative&&Ext.USE_NATIVE_JSON){return JSON.stringify(a)}return me.encodeValue(a)};me.decode=function(a,b){try{if(hasNative&&Ext.USE_NATIVE_JSON){return JSON.parse(a)}return doDecode(a)}catch(c){if(b){return null}Ext.raise({sourceClass:'Ext.JSON',sourceMethod:'decode',msg:"You're trying to decode an invalid JSON String: "+a})}};me.encodeMSDate=encodeMSDate;if(!Ext.util){Ext.util={}}Ext.util.JSON=me;Ext.encode=me.encode;Ext.decode=me.decode}();Ext.cmd.derive('Ext.mixin.Inheritable',Ext.Mixin,{mixinConfig:{id:'inheritable'},getInherited:function(i){var a=this,b=i&&a.inheritedStateInner||a.inheritedState,h=a.getRefOwner(),f=a.isContainer,d,e,g,c;if(!b||b.invalid){d=a.getRefOwner();c=a.ownerLayout;if(h){g=c?c===h.layout:!0}a.inheritedState=b=Ext.Object.chain(d?d.getInherited(g):Ext.rootInheritedState);if(f){a.inheritedStateInner=e=Ext.Object.chain(b)}a.initInheritedState(b,e);b=f&&i?a.inheritedStateInner:a.inheritedState}return b},getInheritedConfig:function(b,e){var a=this.inheritedState,d,c;if(!a||a.invalid){a=this.getInherited()}c=a[b];if(e&&a.hasOwnProperty(b)){d=c;delete a[b];c=a[b];a[b]=d}return c},resolveListenerScope:function(f,d){var a=this,e=typeof d==='boolean',b=Ext._namedScopes[f],c;if(!b){c=a.getInheritedConfig('defaultListenerScope',e?d:!0)||f||a}else if(b.isController){c=a.getInheritedConfig('controller',e?d:!b.isSelf)}else if(b.isOwner){c=a.getRefOwner()}else if(b.isSelf){c=a.getInheritedConfig('defaultListenerScope',e&&d)||a}else if(b.isThis){c=a}return c||null},resolveSatelliteListenerScope:function(e,d){var c=this,b=Ext._namedScopes[d],a;if(!b){a=c.getInheritedConfig('defaultListenerScope')||d||c}else if(b.isController){a=c.getInheritedConfig('controller')}else if(b.isSelf){a=c.getInheritedConfig('defaultListenerScope')||e}else if(b.isThis){a=e}return a||null},lookupNameHolder:function(a){return this.getInheritedConfig('nameHolder',a!==!1)||null},lookupReferenceHolder:function(a){return this.getInheritedConfig('referenceHolder',a!==!1)||null},getRefOwner:function(){var a=this;return a.ownerCmp||a.ownerCt||a.parent||a.$initParent||a.floatParent},bubble:function(d,b,c){var a;for(a=this;a;a=a.getRefOwner()){if(d.apply(b||a,c||[a])===!1){break}}},isDescendantOf:function(a){return a?a.isAncestor(this):!1},isAncestor:function(a){while(a){if(a.getRefOwner()===this){return !0}a=a.getRefOwner()}return !1},invalidateInheritedState:function(){var a=this.inheritedState;if(a){a.invalid=!0;delete this.inheritedState}},privates:{_fixReference:function(){var b=this,a;if(b.name&&b.nameable){a=b.lookupNameHolder();if(a&&!a.destroyed){a.attachNameRef(b)}}if(b.reference){a=b.lookupReferenceHolder();if(a&&!a.destroyed){a.attachReference(b)}}},onInheritedAdd:function(c,b){var a=this;if(a.inheritedState&&b){a.invalidateInheritedState()}Ext.ComponentManager.markReferencesDirty()},onInheritedRemove:function(b){var a=this;Ext.ComponentManager.markReferencesDirty();if(a.inheritedState&&!b){a.invalidateInheritedState()}}}},0,0,0,0,0,0,[Ext.mixin,'Inheritable'],function(){Ext.rootInheritedState={}});Ext.cmd.derive('Ext.mixin.Bindable',Ext.Base,{mixinId:'bindable',config:{bind:{$value:null,lazy:!0},controller:null,defaultListenerScope:!1,publishes:{$value:null,lazy:!0,merge:function(a,b){return this.mergeSets(a,b)}},session:{$value:null,lazy:!0},twoWayBindable:{$value:null,lazy:!0,merge:function(a,b){return this.mergeSets(a,b)}},viewModel:{$value:null,lazy:!0}},defaultBindProperty:null,nameable:!1,shareableName:!1,reference:null,validRefRe:/^[a-z_][a-z0-9_]*$/i,getReference:function(){return this.reference},initInheritedState:function(b){var a=this,f=a.reference,c=a.getController(),d=a.getConfig('viewModel',!0),e=a.getConfig('session',!0),g=a.getDefaultListenerScope();if(c){b.controller=c}if(g){b.defaultListenerScope=a}else if(c){b.defaultListenerScope=c}if(d){if(!d.isViewModel){d=a}b.viewModel=d}if(e){if(!e.isSession){e=a}b.session=e}if(f){a.referenceKey=(b.referencePath||'')+f;a.viewModelKey=(b.viewModelPath||'')+f}},isBound:function(b){var a=this.getBind();return !!(a&&a[b||this.defaultBindProperty])},lookupController:function(a){return this.getInheritedConfig('controller',a)||null},lookupSession:function(b){var a=b?null:this.getSession();if(!a){a=this.getInheritedConfig('session',b);if(a&&!a.isSession){a=a.getInherited().session=a.getSession()}}return a||null},lookupViewModel:function(b){var a=b?null:this.getViewModel();if(!a){a=this.getInheritedConfig('viewModel',b);if(a&&!a.isViewModel){a=a.getInherited().viewModel=a.getViewModel()}}return a||null},publishState:function(c,a){var b=this,e=b.publishedState,i=b.getBind(),d=i&&c&&i[c],j=0,h,g,k,f;if(d&&!d.syncing&&!d.isReadOnly()){if(d.calls||!(a==null||a===b.getInitialConfig()[c])){d.setValue(a)}}if(!(g=b.getPublishes())){return}if(!(k=b.lookupViewModel())){return}if(!(f=b.viewModelKey)){return}e=e||(b.publishedState={});if(c){if(!g[c]){return}if(!(a&&a.constructor===Object)&&!(a instanceof Array)){if(e[c]===a){return}}f+='.';f+=c}else {for(h in g){++j;e[h]=b.getConfig(h)}if(!j){return}a=e}k.set(f,a)},privates:{applyBind:function(e,c){if(!e){return c}var b=this,j=b.lookupViewModel(),h=b.getTwoWayBindable(),i=b._getBindTemplateScope,a,f,d,g;if(typeof e==='string'){a=e;e={};e[b.defaultBindProperty]=a}for(d in e){g=e[d];a=c&&c[d];if(a){a.destroy();delete c[d]}if(g){if(!a&&h&&h[d]){(f||(f={}))[d]='_onConfigPropChange'}a=j.bind(g,b.onBindNotify,b);a._config=Ext.Config.get(d);a.getTemplateScope=i;(c||(c={}))[d]=a}}if(f){f.scope=b;b.watchConfig(f)}b.$bindings=c;return c},applyController:function(a){if(a){a=Ext.Factory.controller(a);a.setView(this)}this.controller=a;return a},updatePublishes:function(b){var d=this,c,a;if(b&&d.lookupViewModel()){for(c in b){if(b[c]){(a||(a={}))[c]='_onConfigPropChange'}}if(a){a.scope=d;d.watchConfig(a)}}return b},applySession:function(a){var b,c;if(!a){return null}if(!a.isSession){b=this.lookupSession(!0);c=a===!0?{}:a;if(b){a=b.spawn(c)}else {a=new Ext.data['Session'](c)}}return a},applyViewModel:function(a){var c=this,b,d;if(!a){return null}if(!a.isViewModel){b={parent:c.lookupViewModel(!0),view:c};b.session=c.getSession();if(!d&&!b.parent){b.session=c.lookupSession()}if(a){if(a.constructor===Object){Ext.apply(b,a)}else if(typeof a==='string'){b.type=a}}a=Ext.Factory.viewModel(b)}return a},_getBindTemplateScope:function(){return this.scope.resolveListenerScope()},destroyBindable:function(){var a=this,c=a.getConfig('viewModel',!0),b=a.getConfig('session',!0),d=a.getController();if(c&&c.isViewModel){c.destroy();a.setViewModel(null)}if(b&&b.isSession){if(b.getAutoDestroy()){b.destroy()}a.setSession(null)}if(d){a.setController(null);d.destroy()}},initBindable:function(){var a=this,b=a.controller;a.initBindable=Ext.emptyFn;a.getBind();a.getPublishes();if(!a.viewModel){a.getViewModel()}if(b){b.initBindings()}if(a.reference){a.publishState()}},isSyncing:function(d){var b=this.getBind(),c=!1,a;if(b){a=b[d];if(a){c=a.syncing>0}}return c},notifyIf:function(b){var a=this.lookupViewModel(b);if(a){a.notify()}},onBindNotify:function(b,c,a){a.syncing=a.syncing+1||1;this[a._config.names.set](b);--a.syncing},_onConfigPropChange:function(c,b,a){c.publishState(b,a)},removeBindings:function(){var d=this,b=d.$bindings,a,c;if(b){for(c in b){a=b[c];if(a){a.destroy();a._config=a.getTemplateScope=null;b[c]=null}}}},updateSession:function(a){var b=this.getInherited();if(a){b.session=a}else {delete b.session}},updateViewModel:function(a,e){var b=this,d=b.getInherited(),c=b.getController();if(a){b.hasVM=!0;d.viewModel=a;a.setView(b);if(c){c.initViewModel(a)}}else {delete d.viewModel}b.viewModel=a}}},0,0,0,0,0,0,[Ext.mixin,'Bindable'],0);Ext.cmd.derive('Ext.mixin.ComponentDelegation',Ext.Mixin,{mixinConfig:{id:'componentDelegation'},privates:{addDelegatedListener:function(b,k,j,a,d,i,h){var c=this,e,g,f;b=Ext.canonicalEventName(b);d=d||a.order;if(d){f=a&&a.priority;if(!f){a=a?Ext.Object.chain(a):{};a.priority=c.$orderToPriority[d]}}e=c.$delegatedEvents||(c.$delegatedEvents={});g=e[b]||(e[b]=new Ext.util.Event(c,b));if(g.addListener(k,j,a,i,h)){c.$hasDelegatedListeners._incr_(b)}},clearDelegatedListeners:function(){var e=this,a=e.$delegatedEvents,b,c,d;if(a){for(b in a){c=a[b];d=c.listeners.length;c.clearListeners();e.$hasDelegatedListeners._decr_(b,d);delete a[b]}}},doFireDelegatedEvent:function(f,g){var e=this,d=!0,a,b,c;if(e.$hasDelegatedListeners[f]){a=e.getRefOwner();while(a){b=a.$delegatedEvents;if(b){c=b[f];if(c){d=c.fireDelegated(e,g);if(d===!1){break}}}a=a.getRefOwner()}}return d},removeDelegatedListener:function(c,f,e){var d=this,b=d.$delegatedEvents,a;if(b){a=b[c];if(a&&a.removeListener(f,e)){d.$hasDelegatedListeners._decr_(c);if(a.listeners.length===0){delete b[c]}}}},destroyComponentDelegation:function(){if(this.clearPropertiesOnDestroy){this.$delegatedEvents=null}}},onClassMixedIn:function(a){function HasListeners(){}a.prototype.HasListeners=a.HasListeners=HasListeners;HasListeners.prototype=a.hasListeners=new Ext.mixin.ComponentDelegation.HasDelegatedListeners()}},0,0,0,0,0,0,[Ext.mixin,'ComponentDelegation'],function(a){function HasDelegatedListeners(){}a.HasDelegatedListeners=HasDelegatedListeners;HasDelegatedListeners.prototype=a.prototype.$hasDelegatedListeners=new Ext.mixin.Observable.HasListeners()});Ext.cmd.derive('Ext.plugin.Abstract',Ext.Base,{alternateClassName:'Ext.AbstractPlugin',isPlugin:!0,constructor:function(a){if(a){this.cmp=a.cmp;this.pluginConfig=a;this.initConfig(a)}},init:Ext.emptyFn,destroy:function(){var a=this;a.destroy=Ext.emptyFn;a.destroying=!0;a.cmp=a.pluginConfig=null;a.doDestroy();a.callParent()},doDestroy:Ext.emptyFn,clonePlugin:function(a){return new this.self(Ext.apply({},a,this.pluginConfig))},getCmp:function(){return this.cmp},setCmp:function(a){this.cmp=a},getStatefulOwner:function(){return [this.cmp,'plugins']},onClassExtended:function(d,b,e){var a=b.alias,c=d.prototype;if(a&&!b.ptype){if(Ext.isArray(a)){a=a[0]}c.ptype=a.split('plugin.')[1]}},resolveListenerScope:function(b){var a=this,d=a.getCmp(),c;if(d){c=d.resolveSatelliteListenerScope(a,b)}return c||a.mixins.observable.resolveListenerScope.call(a,b)},statics:{decode:function(a,e,f){if(a){var h=Ext.typeOf(a),c,d,b,g;if(h==='string'){b={};b[e]=a;a=[b]}else if(a.isInstance){a=[a]}else if(h==='object'){if(a[e]){a=[a]}else {b=f?Ext.merge(Ext.clone(f),a):a;a=[];for(d in b){if(!(g=b[d])){continue}c={id:d};c[e]=d;Ext.apply(c,g);a.push(c)}Ext.sortByWeight(a)}}else {a=a.slice()}}return a}}},1,0,0,0,0,[[Ext.mixin.Identifiable.prototype.mixinId||Ext.mixin.Identifiable.$className,Ext.mixin.Identifiable]],[Ext.plugin,'Abstract',Ext,'AbstractPlugin'],0);Ext.cmd.derive('Ext.mixin.Pluggable',Ext.Base,function(a){return {mixinId:'pluggable',config:{plugins:null},addPlugin:function(b){var c=this,d=c.getPlugins();if(d){b=c.createPlugin(b);b.init(c);d.push(b)}else {c.setPlugins(b);b=c.getPlugins()[0]}return b},destroyPlugin:function(b){return this.removePlugin(b,!0)},findPlugin:function(f){var d=this.getPlugins(),g=d&&d.length,c,b,e;for(c=0;c<g&&!e;c++){b=d[c];if(b.type===f||b.ptype===f){e=b}}return e||null},getPlugin:function(f){var d=this.getPlugins(),g=d&&d.length,c,b,e;for(c=0;c<g&&!e;c++){b=d[c];if(b.id===f||b.pluginId===f){e=b}}return e||null},removePlugin:function(e,f){var c=this.getPlugins(),d=c&&c.length||0,b;while(d-->0){b=c[d];if(b===e||b.id===e){c.splice(d,1);if(f){if(b.destroy){b.destroy()}}else if(b.detachCmp){b.detachCmp();if(b.setCmp){b.setCmp(null)}}break}b=null}return b},privates:{statics:{idSeed:0},activatePlugin:function(h){var e=this,d=e.initialConfig,b=d&&d.plugins,i=null,f,c,g;if(b){c=e.config.plugins;c=c&&typeof c==='object'?c:null;b=Ext.plugin.Abstract.decode(b,'type',c);for(f=b.length;f-->0;){g=b[f];if(g===h||g.type===h){e.initialConfig=d=Ext.apply({},d);d.plugins=b;b[f]=i=e.createPlugin(g);break}}}return i},applyPlugins:function(c,e){var h=this,g=e&&e.length||0,f,b,d;if(c){c=Ext.plugin.Abstract.decode(c,'type')}for(b=0;b<g;++b){e[b].$dead=!0}f=c&&c.length||0;for(b=0;b<f;++b){c[b]=h.createPlugin(c[b])}for(b=0;b<f;++b){d=c[b];if(d.$dead){delete d.$dead}else {d.init(h)}}for(b=0;b<g;++b){if((d=e[b]).$dead){delete d.$dead;Ext.destroy(d)}}return c},createPlugin:function(b){var c;if(typeof b==='string'){b={type:b}}c=b;if(!b.isInstance){b.cmp=this;c=Ext.factory(b,null,null,'plugin');delete b.cmp}if(!c.id){c.id=++a.idSeed}if(c.setCmp){c.setCmp(this)}return c}}}},0,0,0,0,0,0,[Ext.mixin,'Pluggable'],0);Ext.cmd.derive('Ext.mixin.Keyboard',Ext.Mixin,function(a){return {mixinConfig:{id:'keyboard'},config:{keyMap:{$value:null,cached:!0,merge:function(c,h,j,i){var e,d,f,b,g;if(c===null){return c}e=h&&!j.isInstance?Ext.Object.chain(h):{};for(d in c){if(d!=='scope'){f=d.toUpperCase();if(!i||e[f]===undefined){b=c[d];if(b){if(typeof b==='string'||typeof b==='function'){b={handler:b}}else {b=Ext.apply({handler:b.fn},b)}g=b.scope||c.scope||'self';b.scope=g==='controller'?'self.controller':g}e[f]=b}}}return e}},keyMapEnabled:null},keyMapTarget:'el',applyKeyMap:function(d,c){var b=this,e=b.hasOwnProperty('config');if(e&&c&&c.$owner!==b){c=Ext.apply({},c)}d=d?a.combineKeyMaps(c,d,e&&b):null;if(b._keyMapReady){b.setKeyMapListener(d&&b.getKeyMapEnabled())}return d},initKeyMap:function(){var b=this,c=b.getKeyMapEnabled();b._keyMapReady=!0;if(c===null){b.setKeyMapEnabled(!0)}else {b.setKeyMapListener(c&&b.getKeyMap())}},disableKeyMapGroup:function(b){this.setKeyMapGroupEnabled(b,!1)},enableKeyMapGroup:function(b){this.setKeyMapGroupEnabled(b,!0)},setKeyMapGroupEnabled:function(d,e){var b=this,c=b.disabledKeyMapGroups||(b.disabledKeyMapGroups={});c[d]=!e},updateKeyMapEnabled:function(b){this.setKeyMapListener(b&&this._keyMapReady&&this.getKeyMap())},privates:{_keyMapReady:!1,comparePriorities:function(b,c){return (c.priority||0)-(b.priority||0)},findKeyMapEntries:function(j){var e=this,f=e.disabledKeyMapGroups,g=e.getKeyMap(),b=g&&a.getKeyName(j),h=[],c,i,d;b=b&&g[b];if(b){if(!b.sorted){Ext.Array.sort(b,e.comparePriorities);b.sorted=!0}i=b.length;for(d=0;d<i;d++){c=b[d];if(!f||!f[c.group]){if(a.matchEntry(c,j)){h.push(c)}}}}return h},onKeyMapEvent:function(g){var f=this,c=f.getKeyMapEnabled()?f.findKeyMapEntries(g):null,h=c&&c.length,b,e,d;f.lastKeyMapEvent=g;for(b=0;b<h&&d!==!1;b++){e=c[b];d=Ext.callback(e.handler,e.scope,[g,this],0,this)}return d},setKeyMapListener:function(e){var b=this,d=b._keyMapListener,c;if(d){d.destroy();d=null}if(e){if(e){c=b[b.keyMapTarget];if(typeof c==='function'){c=c.call(b)}d=c.on({destroyable:!0,scope:b,keydown:'onKeyMapEvent',keypress:'onKeyMapEvent'})}}b._keyMapListener=d||null},statics:{_charCodeRe:/^#([\d]+)$/,_keySpecRe:/^(?:(?:(\*)[\+\-])|(?:([a-z\+\-]*)[\+\-]))?(?:([a-z0-9_]+|[\+\-]|(?:#?\d+))(?::([a-z]+))?)$/i,_delimiterRe:/-|\+/,_keyMapEvents:{charCode:'keypress',keyCode:'keydown'},combineKeyMaps:function(d,h,e){var i=h.scope||'controller',f,g,b,c;for(g in h){if(g==='scope'){continue}if(!(b=h[g])){if(!d){continue}}else {if(typeof b==='string'||typeof b==='function'){b={handler:b,scope:i}}else if(b){b=Ext.apply({handler:b.fn,scope:i},b)}d=d||{}}if(a.parseEntry(g,f=b||{})){c=d[f.name];if(c){if(e&&c.$owner!==e){d[f.name]=c=c.slice();c.$owner=e}c.push(b);c.sorted=!1}else {c=d[f.name]=[b];c.$owner=e;c.sorted=!0}}}if(d&&e){d.$owner=e}return d||null},getKeyName:function(b){var c;if(b.isEvent){c=b.keyCode||b.charCode;b=b.browserEvent;if(c===229&&'code' in b){if(Ext.String.startsWith(b.code,'Key')){return b.key.substr(3)}if(Ext.String.startsWith(b.code,'Digit')){return b.key.substr(5)}}}else {c=b}return Ext.event.Event.keyCodes[c]||String.fromCharCode(c)},matchEntry:function(b,d){var c=d.browserEvent,e;if(d.type!==b.event){return !1}if(!(e=b.charCode)){if(b.keyCode!==d.keyCode||!b.ignoreModifiers&&!b.shiftKey!==!c.shiftKey){return !1}}else if(d.getCharCode()!==e){return !1}return b.ignoreModifiers||!b.ctrlKey===!c.ctrlKey&&!b.altKey===!c.altKey&&!b.metaKey===!c.metaKey&&!b.shiftKey===!c.shiftKey},parseEntry:function(i,c){i=i.toUpperCase();var f=this,j=Ext.event.Event,m=j.keyFlags,b=f._keySpecRe.exec(i),h='keyCode',e,d,g,k,l;if(b){e=b[3];if(b[4]){c.group=b[4]}if(!(c.ignoreModifiers=!!b[1])&&b[2]){b=b[2].split(f._delimiterRe);l=b.length;for(g=0;g<l;g++){c[m[b[g]]]=!0}}c.name=e;if(isNaN(d=j[e])){if(!(k=f._charCodeRe.exec(e))){if(e.length===1){d=e.charCodeAt(0)}}else {d=+k[1]}if(d){h='charCode'}else {d=+e}c.name=a.getKeyName(d)}c.event=c.event||f._keyMapEvents[h];return !isNaN(d)&&(c[h]=d)}}}}}},0,0,0,0,0,0,[Ext.mixin,'Keyboard'],0);Ext.cmd.derive('Ext.mixin.Focusable',Ext.Base,{mixinId:'focusable',$isFocusableEntity:!0,focusable:!1,hasFocus:!1,containsFocus:!1,focusCls:'x-focused',focusEl:'el',getFocusEl:function(){var a=this.focusEl;return a&&a.dom?a:null},getFocusClsEl:function(){return this.getFocusEl()},initFocusable:Ext.emptyFn,initFocusableEvents:function(a){this.initFocusableElement(a)},enableFocusable:Ext.emptyFn,disableFocusable:function(){var a=this;if(a.hasFocus){a.revertFocus()}a.removeFocusCls()},destroyFocusable:function(){var a=this;Ext.destroy(a.focusListeners);a.focusListeners=a.focusEnterEvent=a.focusTask=null;a.focusEl=a.ariaEl=null},isFocusable:function(c){var b=this,a;if(!b.focusable&&(!b.isContainer||!c)){return !1}a=b.getFocusEl();if(a&&b.canFocus()){return a&&!a.destroyed&&a.isFocusable(c)}return !1},isDestructing:function(){var a;for(a=this;a;a=a.getRefOwner()){if(a.destroying||a.destroyed){return !0}}return !1},canFocus:function(f,e){var a=this,c=a.ownerFocusableContainer,d=c&&c.allowFocusingDisabledChildren,b;b=!a.destroyed&&a.rendered&&!a.isDestructing()&&(a.isContainer||a.focusable)&&(!a.isDisabled()||d)&&(f||a.isVisible(!0));return b||e&&!!a.findFocusTarget()},focus:function(d){var b=this,a,c;if(!b.focusable&&!b.isContainer||b.destroyed||b.destroying){return !1}if(b.canFocus()&&(a=b.getFocusEl())){if(a.$isFocusableEntity){return a.focus.apply(a,arguments)}c=a.dom;if(c){a.focus();if(d&&(b.selectText||c.select)){if(b.selectText){if(Ext.isArray(d)){b.selectText.apply(b,d)}else {b.selectText()}}else {c.select()}}}else if(a.focus){a.focus()}else {return !1}}else {a=b.findFocusTarget();if(a&&a!==b){return a.focus.apply(a,arguments)}else {return !1}}return !0},onBlur:function(b){var a=this,c=a.ownerFocusableContainer;a.hasFocus=!1;if(a.beforeBlur&&!a.beforeBlur.$emptyFn){a.beforeBlur(b)}if(c){c.beforeFocusableChildBlur(a,b)}a.removeFocusCls(b);if(a.hasListeners.blur){a.fireEvent('blur',a,b)}if(a.postBlur&&!a.postBlur.$emptyFn){a.postBlur(b)}if(c){c.afterFocusableChildBlur(a,b)}},onFocus:function(b){var a=this,c=a.ownerFocusableContainer;if(a.canFocus()){if(a.beforeFocus&&!a.beforeFocus.$emptyFn){a.beforeFocus(b)}if(c){c.beforeFocusableChildFocus(a,b)}a.addFocusCls(b);if(!a.hasFocus){a.hasFocus=!0;a.fireEvent('focus',a,b)}if(a.postFocus&&!a.postFocus.$emptyFn){a.postFocus(b)}if(c){c.afterFocusableChildFocus(a,b)}}},getTabIndex:function(){var c=this,b,a;if(!c.focusable){return}b=c.getFocusEl();if(b){if(b.$isFocusableEntity){a=b.getTabIndex()}else if(b.isElement&&b.dom){a=b.dom.getAttribute('tabIndex');if(a!==null){a-=0}}else {return}}if(typeof a!=='number'){a=c.tabIndex}return a},setTabIndex:function(c,g){var a=this,e=a.ownerFocusableContainer,f=e&&e.allowFocusingDisabledChildren,d=a.focusable,b;if(!d&&!(a.forceTabIndex||c==null)){return}a.tabIndex=c;if(a.destroying||a.destroyed||a.isDisabled()&&!f){return}a.focusable=!0;b=g||a.getFocusEl();a.focusable=d;if(b){if(b.$isFocusableEntity){b.setTabIndex(c)}else if(b.isElement&&b.dom){b.setTabIndex(c)}}},onFocusEnter:function(b){var a=this;if(a.destroying||a.destroyed){return}a.focusEnterEvent=b;a.containsFocus=!0;if(a.hasListeners.focusenter){a.fireEvent('focusenter',a,b)}},onFocusLeave:function(b){var a=this;if(a.destroying||a.destroyed){return}a.focusEnterEvent=null;a.containsFocus=!1;if(a.hasListeners.focusleave){a.fireEvent('focusleave',a,b)}},onFocusMove:Ext.emptyFn,privates:{forceTabIndex:!1,revertFocus:function(){var d=this,c=d.focusEnterEvent,e=Ext.Element.getActiveElement(),a,b,f;if(c&&!d.preventRefocus&&d.el.contains(e)){b=c.fromComponent;if(b&&(b.destroyed||b.isDestructing())){a=document.body}else {a=c.relatedTarget}if(a===document.body){b=d.findFocusTarget();if(b){a=b.getFocusEl()}}if(a&&a.$isFocusableEntity){if(!a.destroyed&&a.isFocusable()){a.focus()}}else if(Ext.getDoc().contains(a)&&Ext.fly(a).isFocusable()){b=Ext.Component.from(a);if(b){b.revertFocusTo(a)}else {a.focus()}}else if(c.fromComponent&&c.fromComponent.focus){f=c.fromComponent.focus();if(!f){e.blur()}}}},revertFocusTo:function(a){a.focus()},findFocusTarget:function(){var g=this,c,a,f,b,d,e;if(g.preventRefocus){return null}for(c=[],a=g.getRefOwner();a;a=a.getRefOwner()){if(!a.isDisabled()){c.unshift(a)}}for(b=0,f=c.length;b<f;b++){a=c[b];if(a.destroying||!a.isVisible()){c.length=b;break}}for(b=c.length-1;b>=0;b--){a=c[b];d=Ext.ComponentQuery.query(':canfocus()',a);if(d.length){e=Ext.Array.indexOf(d,Ext.ComponentManager.getActiveComponent());return d[e+1]||d[e-1]||d[0]}if(a.isFocusable&&a.isFocusable()){return a}}},initFocusableElement:function(d){var b=this,c=b.getTabIndex(),a=b.getFocusEl();if(a&&!a.$isFocusableEntity){if(c!=null&&(d||b.canFocus(!0))){b.setTabIndex(c,a)}if(!a.dom.hasAttribute('data-componentid')){a.dom.setAttribute('data-componentid',b.id)}}},addFocusCls:function(c){var b=this.focusCls,a;a=this.getFocusClsEl();if(b){a=this.getFocusClsEl(c);if(a){a.addCls(b)}}},removeFocusCls:function(c){var b=this.focusCls,a;if(b){a=this.getFocusClsEl(c);if(a){a.removeCls(b)}}},handleFocusEvent:function(c){var b=this,a;if(!b.focusable||b.destroying||b.destroyed){return}if(b.isFocusing(c)){a=new Ext.event.Event(c.event);a.type='focus';a.relatedTarget=c.fromElement;a.target=c.toElement;b.onFocus(a)}},handleBlurEvent:function(b){var c=this,a;if(!c.focusable||c.destroying||c.destroyed){return}if(b.toElement===document.body||c.isBlurring(b)){a=new Ext.event.Event(b.event);a.type='blur';a.target=b.fromElement;a.relatedTarget=b.toElement;c.onBlur(a)}},isFocusing:function(b){var a=this.getFocusEl();if(a){if(a.isFocusing){return a.isFocusing(b)}else {return a.dom===document.activeElement&&b.toElement===a.dom&&b.fromElement!==b.toElement}}return !1},isBlurring:function(b){var a=this.getFocusEl();if(a){if(a.isFocusing){return a.isBlurring(b)}else {return a.dom!==document.activeElement&&b.fromElement===a.dom&&b.fromElement!==b.toElement}}return !1},blur:function(){var a=this,b;if(!a.focusable||!a.canFocus()){return}b=a.getFocusEl();if(b){a.blurring=!0;b.blur();delete a.blurring}},isTabbable:function(){var b=this,a;if(b.focusable){a=b.getFocusEl();if(a&&a.isTabbable()){return a.isTabbable()}}return !1},disableTabbing:function(){var c=this,b=c.el,a;if(c.destroying||c.destroyed){return}if(b){b.saveTabbableState()}a=c.getFocusEl();if(a){if(a.$isFocusableEntity){a.disableTabbing()}else if(a.isElement&&b&&!b.contains(a)){a.saveTabbableState()}}},enableTabbing:function(d){var c=this,b=c.el,a;if(c.destroying||c.destroyed){return}a=c.getFocusEl();if(a){if(a.$isFocusableEntity){a.enableTabbing()}else if(a.isElement&&b&&!b.contains(a)){a.restoreTabbableState()}}if(b){b.restoreTabbableState({reset:d})}}}},0,0,0,0,0,0,[Ext.mixin,'Focusable'],function(){var b='x-keyboard-mode',a=!1;Ext.enableKeyboardMode=Ext.isModern||!Ext.os.is.Desktop;Ext.setKeyboardMode=Ext.setKeyboardMode||function(a){Ext.keyboardMode=a;Ext.getBody().toggleCls(b,a)};Ext.isTouchMode=function(){return Ext.now()-Ext.lastTouchTime<500};Ext.syncKeyboardMode=function(c){var b;if(!Ext.enableKeyboardMode){return}b=c.type;if(b==='pointermove'){a=!1}else {a=b==='keydown';Ext.lastTouchTime=c.pointerType==='touch'&&Ext.now();Ext.setKeyboardMode(a)}};function keyboardModeFocusHandler(){if(a!==Ext.getBody().hasCls(b)){Ext.setKeyboardMode(a)}}Ext.getEnableKeyboardMode=function(){return Ext.enableKeyboardMode};Ext.setEnableKeyboardMode=function(b){var a={pointerdown:Ext.syncKeyboardMode,pointermove:Ext.syncKeyboardMode,keydown:Ext.syncKeyboardMode,capture:!0,delegated:!1};Ext.enableKeyboardMode=!!b;if(Ext.enableKeyboardMode){Ext.getWin().on(a);Ext.on('focus',keyboardModeFocusHandler)}else {Ext.getWin().un(a);Ext.un('focus',keyboardModeFocusHandler)}};Ext.onReady(function(){if(!Ext.enableKeyboardMode){Ext.getBody().addCls(b)}Ext.setEnableKeyboardMode(Ext.enableKeyboardMode)})});Ext.cmd.derive('Ext.mixin.Accessible',Ext.Mixin,{mixinConfig:{id:'accessible'},config:{ariaAttributes:{$value:null,lazy:!0}},ariaEl:'el',privates:{getAriaLabelEl:function(a){var e=[],c,b,f,d;if(a){if(Ext.isFunction(a)){return a.call(this)}else {if(!Ext.isArray(a)){a=[a]}c=this.lookupReferenceHolder();if(c){for(b=0,f=a.length;b<f;b++){d=c.lookupReference(a[b]);if(d){e.push(d.ariaEl.id)}}}}}return e.length?e.join(' '):null}}},0,0,0,0,0,0,[Ext.mixin,'Accessible'],0);Ext.cmd.derive('Ext.Widget',Ext.Evented,{alternateClassName:'Ext.Gadget',isWidget:!0,factoryConfig:{creator:null,defaultProperty:'xtype',defaultType:'component',typeProperty:'xtype'},element:{reference:'element'},observableType:'component',cachedConfig:{cls:null,margin:null,style:null,border:null,touchAction:null,eventHandlers:{focus:'handleFocusEvent',blur:'handleBlurEvent'}},name:null,config:{renderTo:null,ui:null,userCls:null,ripple:null,hideMode:null,instanceCls:null},eventedConfig:{width:null,height:null,hidden:null,disabled:null},template:[],baseCls:null,classCls:null,classClsRoot:!0,classClsList:[],clearPropertiesOnDestroy:'async',focusEl:'element',ariaEl:'element',spaceRe:/\s+/,noBorderCls:'x-noborder-trbl',borderedCls:'x-bordered',disabledCls:'x-disabled',heightedCls:'x-heighted',widthedCls:'x-widthed',constructor:function(b){var a=this,e=a.baseCls,d=b&&b.renderTo,c;a.$iid=++Ext.$nextIid;if(e==null||e===!0){a.baseCls=a.classCls||'x-'+a.xtype}if(b&&b.controller||a.config.controller){a.referenceHolder=!0}a.initId(b);a.initElement();if(d){b=Ext.apply({},b);delete b.renderTo}a.mixins.observable.constructor.call(a,b);if(a.focusable){a.initFocusableEvents(!0)}a.syncUiCls();Ext.ComponentManager.register(a);c=a.getController();if(c){c.init(a)}if(d){a.setRenderTo(d)}},afterCachedConfig:function(){var c=this,j=c.self.prototype,f=c.referenceList,i=c.renderElement,d,h,a,b,g,e;j.renderTemplate=d=document.createDocumentFragment();d.appendChild(i.clone(!0,!0));e=d.querySelectorAll('[id]');for(a=0,b=e.length;a<b;a++){h=e[a];h.removeAttribute('id')}for(a=0,b=f.length;a<b;a++){g=f[a];c[g].dom.removeAttribute('reference')}},applyHidden:function(a){return !!a},applyDisabled:function(a){return !!a},updateDisabled:function(c){var b=this,a=b.ownerFocusableContainer;if(a){if(c){if(!a.beforeFocusableChildDisable.$nullFn){a.beforeFocusableChildDisable(b)}}else {if(!a.beforeFocusableChildEnable.$nullFn){a.beforeFocusableChildEnable(b)}}}b.element.toggleCls(b.disabledCls,c);if(b.focusable){if(c){b.disableFocusable()}else {b.enableFocusable()}}if(a){if(c){if(!a.onFocusableChildDisable.$nullFn){a.onFocusableChildDisable(b)}}else {if(!a.onFocusableChildEnable.$nullFn){a.onFocusableChildEnable(b)}}}},disable:function(){this.setDisabled(!0)},enable:function(){this.setDisabled(!1)},isDisabled:function(){return this.getDisabled()},isEnabled:function(){return !this.getDisabled()},applyTouchAction:function(a,b){if(b!=null){a=Ext.merge({},b,a)}return a},applyWidth:function(a){return this.filterLengthValue(a)},applyHeight:function(a){return this.filterLengthValue(a)},updateBorder:function(a){var b=this;a=a||a===null;b.toggleCls(b.noBorderCls,!a);b.toggleCls(b.borderedCls,!!a)},clearListeners:function(){var a=this;a.mixins.observable.clearListeners.call(a);a.mixins.componentDelegation.clearDelegatedListeners.call(a)},destroy:function(){var a=this;a.isDestroying=a.destroying=!0;a.destroy=Ext.emptyFn;a.doDestroy();a.clearListeners();a.mixins.componentDelegation.destroyComponentDelegation.call(a);Ext.Evented.prototype.destroy.call(this)},doDestroy:function(){var a=this,e=a.referenceList,d=a.ownerFocusableContainer,c,f,b;a.ownerCmp=null;if(d&&!d.onFocusableChildDestroy.$nullFn){d.onFocusableChildDestroy(a)}for(c=0,f=e.length;c<f;c++){b=e[c];if(a.hasOwnProperty(b)){a[b].destroy();a[b]=null}}a.destroyBindable();Ext.ComponentManager.unregister(a)},doFireEvent:function(c,e,f){var a=this,d,b;b=a.mixins.observable.doFireEvent.call(a,c,e,f);if(b!==!1&&!a.destroyed){d=a.events[c];if(!d||!d.suspended){b=a.mixins.componentDelegation.doFireDelegatedEvent.call(a,c,e)}}return b},getBubbleTarget:function(){return this.getRefOwner()},getElementConfig:function(){var b=this,a=b.element;if(!('children' in a)){a=Ext.apply({children:b.getTemplate()},a)}return a},getSize:function(){return this.el.getSize()},getTemplate:function(){return Ext.clone(this.template)},getClassCls:function(){var e=this.self.prototype,a=e,b,c,d,f;while(a){c=a.hasOwnProperty('classCls')?a.classCls:null;if(c){if(c instanceof Array){for(d=0,f=c.length;d<f;d++){(b||(b=[])).push(c[d])}}else {(b||(b=[])).push(c)}}if(a.classClsRoot&&a.hasOwnProperty('classClsRoot')){break}a=a.superclass}if(b){e.classClsList=b}return b},hide:function(){this.setHidden(!0)},initElement:function(){var a=this,i=a.self.prototype,q=a.getId(),s=a.referenceList=a.referenceList=[],k=!i.hasOwnProperty('renderTemplate'),p=i.hasOwnProperty('uiReferences')?i.uiReferences:i.uiReferences={element:''},f,g,o,h,e,d,m,b,c,n,j,l,r;if(k){f=document.createDocumentFragment();o=a.processElementConfig.call(i);g=Ext.Element.create(o,!0);f.appendChild(g);e=f.querySelectorAll('[uiCls]');for(d=0,m=e.length;d<m;d++){b=e[d];c=b.getAttribute('reference');j=b.getAttribute('uiCls');p[c]=j;b.removeAttribute('uiCls')}}else {f=a.renderTemplate.cloneNode(!0);g=f.firstChild}e=f.querySelectorAll('[reference]');for(d=0,m=e.length;d<m;d++){b=e[d];c=b.getAttribute('reference');if(!k){b.removeAttribute('reference')}if(c==='element'){b.id=q;h=a.el=a.addElementReference(c,b);h.dom.setAttribute('data-componentid',q);if(k){n=a.getClassCls();if(n){h.addCls(n)}l=a.baseCls;if(l&&l!==a.classCls){h.addCls(l)}}}else {j=p[c];if(j&&k){r=a.addElementReference(c,b);a.initUiReference(c,j,!1)}else {a.addElementReferenceOnDemand(c,b)}}if(c===a.focusEl){a.addElementReference('focusEl',b)}if(c===a.ariaEl){a.addElementReferenceOnDemand('ariaEl',b)}s.push(c)}if(g===h.dom){a.renderElement=h}else {a.addElementReferenceOnDemand('renderElement',g)}g.setAttribute(a.dataXid,a.$iid)},dataXid:'data-'+'x-'.substr(0,'x-'.length-1)+'id',is:function(a){return Ext.ComponentQuery.is(this,a)},isHidden:function(c){var b=!!this.getHidden(),a;if(!b&&c){a=this.getRefOwner();while(a&&a!==c&&!b){b=!!a.getHidden();a=a.getRefOwner()}}return b},isVisible:function(a){return this.rendered&&!this.destroyed&&!this.isHidden(a)},isXType:function(a,b){return b?Ext.Array.indexOf(this.xtypes,a)!==-1:!!this.xtypesMap[a]},lookupTpl:function(a){return Ext.XTemplate.getTpl(this,a)},owns:function(a){var c=!1,b;if(a.isEvent){a=a.target}else if(a.isElement){a=a.dom}b=Ext.Component.from(a);if(b){c=b===this||!!b.up(this)}return c},render:function(a,d){if(a&&a.isWidget){a=a.el}var e=this.renderElement.dom,c=Ext.getDom(a),b;if(Ext.isNumber(b)){d=c.childNodes[d]}b=Ext.getDom(d);if(c){if(b){c.insertBefore(e,b)}else {c.appendChild(e)}this.setRendered(Ext.getBody().contains(e),!0)}},toggleCls:function(a,b){this.element.toggleCls(a,b);return this},resolveListenerScope:function(a,b){return this.mixins.inheritable.resolveListenerScope.call(this,a,b)},setSize:function(a,b){if(a&&typeof a==='object'){return this.setSize(a.width,a.height)}if(a!==undefined){this.setWidth(a)}if(b!==undefined){this.setHeight(b)}},show:function(){this.setHidden(!1)},addCls:function(c,a,b){if(!this.destroyed){this.el.replaceCls(null,c,a,b)}},applyCls:function(a){return a&&Ext.dom.Element.splitCls(a)},applyUi:function(a){return this.parseUi(a,!0)},removeCls:function(c,a,b){if(!this.destroyed){this.el.replaceCls(c,null,a,b)}},replaceCls:function(b,a,c,d){if(!this.destroyed){this.el.replaceCls(b,a,c,d)}},hasCls:function(a){return this.el.hasCls(a)},updateCls:function(a,b){this.element.replaceCls(b,a)},updateHidden:function(c){var b=this,d=b.renderElement,a=b.ownerFocusableContainer;if(a){if(c){if(!a.beforeFocusableChildHide.$nullFn){a.beforeFocusableChildHide(b)}}else {if(!a.beforeFocusableChildShow.$nullFn){a.beforeFocusableChildShow(b)}}}else if(c){b.revertFocus()}if(d&&!d.destroyed){if(c){d.hide()}else {d.show()}}if(b.focusableContainer&&b.activateFocusableContainer){b.activateFocusableContainer(!c)}if(a){if(c){if(!a.onFocusableChildHide.$nullFn){a.onFocusableChildHide(b)}}else {if(!a.onFocusableChildShow.$nullFn){a.onFocusableChildShow(b)}}}},updateMargin:function(a){this.element.setMargin(a)},updateRipple:function(c){var b=this,a=b.el;if(a){a.un('touchstart','onRippleStart',b);a.un('touchend','onRippleStart',b);a.destroyAllRipples();if(c.release){a.on('touchend','onRippleStart',b)}else {a.on('touchstart','onRippleStart',b)}}},shouldRipple:function(e){var a=this,f=a.getDisabled&&a.getDisabled(),d=a.el,c=!f&&a.getRipple(),b;if(c&&e){b=e.getTarget(a.noRippleSelector);if(b){if(d.dom===b||d.contains(b)){c=null}}}return c},onRippleStart:function(a){var b=this.shouldRipple(a);if(a.button===0&&b){this.el.ripple(a,b)}},applyStyle:function(a,b){if(b&&a===b&&Ext.isObject(b)){a=Ext.apply({},a)}this.element.applyStyles(a);return null},updateRenderTo:function(a){this.render(a)},updateTouchAction:function(b){var c,a,e,d;for(c in b){a=this[c];e=b[c];if(a&&a.isElement){a.setTouchAction(e)}else {d=!0}}if(d){this.el.setTouchAction(b)}},updateUi:function(){if(!this.isConfiguring){this.syncUiCls()}},updateWidth:function(a){var b=this.el;b.setWidth(a);b.toggleCls(this.widthedCls,a!=null&&a!=='auto')},updateHeight:function(a){var b=this.el;b.setHeight(a);b.toggleCls(this.heightedCls,a!=null&&a!=='auto')},isWidthed:function(){var a=this.getWidth();return a!=null&&a!=='auto'},isHeighted:function(){var a=this.getHeight();return a!=null&&a!=='auto'},up:function(c,b){var a=this.getRefOwner(),f=typeof b==='string',g=typeof b==='number',e=b&&b.isComponent,d=0;if(c){for(;a;a=a.getRefOwner()){if(a.destroyed){return null}d++;if(c.isComponent||c.isWidget){if(a===c){return a}}else {if(Ext.ComponentQuery.is(a,c)){return a}}if(f&&a.is(b)){return}if(g&&d===b){return}if(e&&a===b){return}}}return a},updateLayout:Ext.emptyFn,updateInstanceCls:function(c,d){var a=this,m=a.el,l=a.classClsList,k=Ext.Array,h=a.uiReferences,e,g,b,j,f,i;if(d){m.removeCls(d);d=k.from(d);for(b=0,j=d.length;b<j;b++){f=d[b];k.remove(l,f);for(e in h){g=a[e];i=h[e];g.removeCls(f+'-'+i)}}}if(c){m.addCls(c);c=k.from(c);a.classClsList=l.concat(c);for(b=0,j=c.length;b<j;b++){f=c[b];for(e in h){g=a[e];i=h[e];g.addCls(f+'-'+i)}}}if(!a.isConfiguring){a.syncUiCls()}},getBaseCls:function(){return this.baseCls},privates:{_hideModes:{clip:'CLIP',display:'DISPLAY',offsets:'OFFSETS',opacity:'OPACITY',visibility:'VISIBILITY'},noRippleSelector:'.x-no-ripple',addElementReferenceOnDemand:function(a,b){if(this._elementListeners[a]){this.addElementReference(a,b)}else {Ext.Object.defineProperty(this,a,{get:function(){if(this.destroyed){return null}delete this[a];return this.addElementReference(a,b)},configurable:!0})}},addElementReference:function(f,g){var b=this,c=b[f]=Ext.get(g),a=b._elementListeners[f],e,d;c.skipGarbageCollection=!0;c.component=b;if(a){a=Ext.clone(a);for(e in a){d=a[e];if(typeof d==='object'){d.scope=b}}a.scope=b;c.on(a)}return c},detachFromBody:function(){Ext.getDetachedBody().appendChild(this.element,!0);this.isDetached=!0},reattachToBody:function(){var a;if(this.isDetached){a=Ext.getDetachedBody();if(a.contains(this.element)){Ext.getBody().appendChild(this.element,!0)}}this.isDetached=!1},doAddListener:function(f,g,d,a,l,k,j){var e=this,i=a&&a.element,m=a&&a.delegate,b,h,c;if(i){b={};b[f]=g;if(d){b.scope=d}h=Ext.Element.prototype.$eventOptions;for(c in a){if(h[c]){b[c]=a[c]}}e.mon(e[i],b);return}else if(m){e.mixins.componentDelegation.addDelegatedListener.call(e,f,g,d,a,l,k,j);return}Ext.Evented.prototype.doAddListener.call(this,f,g,d,a,l,k,j)},doRemoveListener:function(b,d,c){var a=this;a.mixins.observable.doRemoveListener.call(a,b,d,c);a.mixins.componentDelegation.removeDelegatedListener.call(a,b,d,c)},filterLengthValue:function(a){if(!a&&a!==0){return null}return a},hasHiddenContent:function(){return this.getHidden()},initElementListeners:function(a){var c=this,k=c.self.superclass,d=k._elementListeners,h=a.reference,i=a.children,f,b,g,j,e;if(c.hasOwnProperty('_elementListeners')){f=c._elementListeners}else {f=c._elementListeners=d?Ext.Object.chain(d):{}}if(h){b=a.listeners;if(b){if(d){g=d[h];if(g){b=Ext.Object.chain(g);Ext.apply(b,a.listeners)}}f[h]=b;a.listeners=null}}if(i){for(e=0,j=i.length;e<j;e++){c.initElementListeners(i[e])}}},initId:function(d){var a=this,c=a.config,b=d&&d.id||c&&c.id;if(b){a.setId(b);a.id=b}else {a.getId()}},measure:function(a){return this.element.measure(a)},processElementConfig:function(){var a=this,c=a.self.superclass,b;if(a.hasOwnProperty('_elementConfig')){b=a._elementConfig}else {b=a._elementConfig=a.getElementConfig();if(c.isWidget){a.processElementConfig.call(c)}a.initElementListeners(b)}return b},parseUi:function(a,b){a=Ext.String.splitWords(a);if(b){a=a.join(' ')}return a},addUi:function(a){this.setUi(this.doAddUi(a,this.getUi()))},doAddUi:function(b,a){var g=this,e=null,c,d,f;if(b){b=g.parseUi(b);f=b.length;a=g.parseUi(a);for(c=0;c<f;c++){d=b[c];if(Ext.Array.indexOf(a,d)===-1){a.push(d)}}e=a.join(' ')}return e},removeUi:function(a){this.setUi(this.doRemoveUi(a,this.getUi()))},doRemoveUi:function(b,a){var g=this,e=null,c,h,d,f;if(b){b=g.parseUi(b);f=b.length;a=g.parseUi(a);for(c=0;c<f;c++){h=b[c];d=Ext.Array.indexOf(a,h);if(d!==-1){a.splice(d,1)}}e=a.join(' ')}return e},initUiReference:function(h,b,c){var a=this,j=a[h],f=a.baseCls,e=a.classClsList,g=[],d,i;c=c!==!1;if(c){if(!a.hasOwnProperty('uiReferences')){a.uiReferences=Ext.clone(a.uiReferences)}a.uiReferences[h]=b}b='-'+b;if(f&&f!==a.classCls){g.push(f+b)}if(e){for(d=0,i=e.length;d<i;d++){g.push(e[d]+b)}}j.addCls(g);if(c&&!a.isConfiguring){a.syncUiCls()}},syncUiCls:function(q){var a=this,b=a.getUi(),m=a.currentUiCls||(a.currentUiCls={}),k=a.baseCls,n=q||a.uiReferences,f=a.classClsList,p=f?f.length:0,e,o,c,g,l,d,j,h,i;if(b){b=a.parseUi(b);o=b.length}for(c in n){g=a[c];e=[];if(g){l=m[c];if(l){g.removeCls(l)}if(b){d=n[c];d=d?'-'+d:'';for(h=0;h<o;h++){j='-'+b[h]+d;if(k&&k!==a.classCls){e.push(k+j)}if(f){for(i=0;i<p;i++){e.push(f[i]+j)}}}g.addCls(e);m[c]=e}}}},applyHideMode:function(a){return a||'display'},updateHideMode:function(d){var a=this,c=a.el,b=a.getHidden();if(b){c.show()}a.renderElement.setVisibilityMode(Ext.Element[a._hideModes[d]]);if(b){c.hide()}},updateUserCls:function(a,b){this.element.replaceCls(b,a)}}},1,['widget'],['widget'],{'widget':!0},['widget.widget'],[[Ext.mixin.Inheritable.prototype.mixinId||Ext.mixin.Inheritable.$className,Ext.mixin.Inheritable],[Ext.mixin.Bindable.prototype.mixinId||Ext.mixin.Bindable.$className,Ext.mixin.Bindable],[Ext.mixin.ComponentDelegation.prototype.mixinId||Ext.mixin.ComponentDelegation.$className,Ext.mixin.ComponentDelegation],[Ext.mixin.Pluggable.prototype.mixinId||Ext.mixin.Pluggable.$className,Ext.mixin.Pluggable],[Ext.mixin.Keyboard.prototype.mixinId||Ext.mixin.Keyboard.$className,Ext.mixin.Keyboard],[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable],[Ext.mixin.Focusable.prototype.mixinId||Ext.mixin.Focusable.$className,Ext.mixin.Focusable],[Ext.mixin.Accessible.prototype.mixinId||Ext.mixin.Accessible.$className,Ext.mixin.Accessible]],[Ext,'Widget',Ext,'Gadget'],function(b){var a=b.prototype;(a.$elementEventOptions=Ext.Object.chain(Ext.Element.prototype.$eventOptions)).element=1;(a.$eventOptions=Ext.Object.chain(a.$eventOptions)).delegate=1;Ext.updateWidget=Ext.Factory.widget.update});Ext.cmd.derive('Ext.mixin.Traversable',Ext.Mixin,{mixinConfig:{id:'traversable'},setParent:function(a){this.parent=a;return this},hasParent:function(){return Boolean(this.getParent())},is:function(){return !0},getParent:function(){return this.parent||this.$initParent},getAncestors:function(){var b=[],a=this.getParent();while(a){b.push(a);a=a.getParent()}return b},getAncestorIds:function(){var b=[],a=this.getParent();while(a){b.push(a.getId());a=a.getParent()}return b},previousNode:function(b,h){var d=this,f=d.getRefOwner(),a,g,e,c;if(h&&d.is(b)){return d}if(f){for(g=f.items.items,e=Ext.Array.indexOf(g,d)-1;e>-1;e--){c=g[e];if(c.query){a=c.query(b);a=a[a.length-1];if(a){return a}}if(!b||c.is(b)){return c}}return f.previousNode(b,!0)}return null},previousSibling:function(c){var e=this.getRefOwner(),b,a,d;if(e){b=e.items;a=b.indexOf(this);if(a!==-1){if(c){for(--a;a>=0;a--){if((d=b.getAt(a)).is(c)){return d}}}else {if(a){return b.getAt(--a)}}}}return null},nextNode:function(a,i){var c=this,f=c.getRefOwner(),g,d,h,e,b;if(i&&c.is(a)){return c}if(f){for(d=f.items.items,e=Ext.Array.indexOf(d,c)+1,h=d.length;e<h;e++){b=d[e];if(!a||b.is(a)){return b}if(b.down){g=b.down(a);if(g){return g}}}return f.nextNode(a)}return null},nextSibling:function(c){var e=this.getRefOwner(),b,f,a,d;if(e){b=e.items;a=b.indexOf(this)+1;if(a){if(c){for(f=b.getCount();a<f;a++){if((d=b.getAt(a)).is(c)){return d}}}else {if(a<b.getCount()){return b.getAt(a)}}}}return null}},0,0,0,0,0,0,[Ext.mixin,'Traversable'],0);Ext.cmd.derive('Ext.fx.easing.Abstract',Ext.Base,{config:{startTime:0,startValue:0},isEasing:!0,isEnded:!1,constructor:function(a){this.initConfig(a);return this},applyStartTime:function(a){if(!a){a=Ext.Date.now()}return a},updateStartTime:function(a){this.reset()},reset:function(){this.isEnded=!1},getValue:Ext.emptyFn},1,0,0,0,0,0,[Ext.fx.easing,'Abstract'],0);Ext.cmd.derive('Ext.fx.easing.Linear',Ext.fx.easing.Abstract,{config:{duration:0,endValue:0},updateStartValue:function(a){this.distance=this.getEndValue()-a},updateEndValue:function(a){this.distance=a-this.getStartValue()},getValue:function(){var a=Ext.Date.now()-this.getStartTime(),b=this.getDuration();if(a>b){this.isEnded=!0;return this.getEndValue()}else {return this.getStartValue()+a/b*this.distance}}},0,0,0,0,['easing.linear'],0,[Ext.fx.easing,'Linear'],0);Ext.cmd.derive('Ext.util.translatable.Abstract',Ext.Evented,{factoryConfig:{type:'translatable',defaultType:'csstransform'},config:{easing:null,easingX:{duration:300},easingY:{duration:300},offsetX:0,offsetY:0},x:0,y:0,activeEasingX:null,activeEasingY:null,isAnimating:!1,isTranslatable:!0,constructor:function(a){Ext.Evented.prototype.constructor.call(this,a);this.position={x:0,y:0}},factoryEasing:function(a){return Ext.factory(a,Ext.fx.easing.Linear,null,'easing')},applyEasing:function(a){if(!this.getEasingX()){this.setEasingX(this.factoryEasing(a))}if(!this.getEasingY()){this.setEasingY(this.factoryEasing(a))}},applyEasingX:function(a){return this.factoryEasing(a)},applyEasingY:function(a){return this.factoryEasing(a)},updateOffsetX:function(){var a=this;if(!a.isConfiguring&&!a.isAnimating){a.translateXY(a.x,a.y)}},updateOffsetY:function(){var a=this;if(!a.isConfiguring&&!a.isAnimating){a.translateXY(a.x,a.y)}},translate:function(b,c,d){var a=this;if(d){return a.translateAnimated(b,c,d)}if(a.isAnimating){a.stopAnimation()}if(!isNaN(b)&&typeof b==='number'){a.x=b}else {b=a.x}if(!isNaN(c)&&typeof c==='number'){a.y=c}else {c=a.y}a.translateXY(b,c)},translateXY:function(b,c){var a=this;if(!a.destroyed){a.doTranslate(b+a.getOffsetX(),c+a.getOffsetY());if(a.hasListeners.translate){a.fireEvent('translate',a,b,c)}}},translateAxis:function(e,a,d){var b,c;if(e==='x'){b=a}else {c=a}return this.translate(b,c,d)},getPosition:function(){var b=this,a=b.position;a.x=-b.x;a.y=-b.y;return a},animate:function(b,c){var a=this;a.activeEasingX=b;a.activeEasingY=c;a.isAnimating=!0;if(a.ownerCmp){a.ownerCmp.isTranslating=!0}a.lastX=null;a.lastY=null;Ext.AnimationQueue.start(a.doAnimationFrame,a);a.fireEvent('animationstart',a,a.x,a.y);return a},translateAnimated:function(g,h,a){var b=this,f,e,c,d;if(!Ext.isObject(a)){a={}}if(b.isAnimating){b.stopAnimation()}b.callback=a.callback;b.callbackScope=a.scope;f=Ext.Date.now();e=a.easing;c=typeof g==='number'?a.easingX||e||b.getEasingX()||!0:null;d=typeof h==='number'?a.easingY||e||b.getEasingY()||!0:null;if(c){c=b.factoryEasing(c);c.setStartTime(f);c.setStartValue(b.x);c.setEndValue(g);if('duration' in a){c.setDuration(a.duration)}}if(d){d=b.factoryEasing(d);d.setStartTime(f);d.setStartValue(b.y);d.setEndValue(h);if('duration' in a){d.setDuration(a.duration)}}return b.animate(c,d)},doAnimationFrame:function(){var a=this,d=a.activeEasingX,e=a.activeEasingY,f=Date.now(),b,c;if(!a.isAnimating){return}a.lastRun=f;if(d===null&&e===null){a.stopAnimation();return}if(d!==null){a.x=b=Math.round(d.getValue());if(d.isEnded){a.activeEasingX=null;a.fireEvent('axisanimationend',a,'x',b)}}else {b=a.x}if(e!==null){a.y=c=Math.round(e.getValue());if(e.isEnded){a.activeEasingY=null;a.fireEvent('axisanimationend',a,'y',c)}}else {c=a.y}if(a.lastX!==b||a.lastY!==c){a.translateXY(b,c);a.lastX=b;a.lastY=c}a.fireEvent('animationframe',a,b,c)},stopAnimation:function(){var a=this;if(!a.isAnimating){return}a.activeEasingX=null;a.activeEasingY=null;a.isAnimating=!1;if(a.ownerCmp){a.ownerCmp.isTranslating=!1}Ext.AnimationQueue.stop(a.doAnimationFrame,a);a.fireEvent('animationend',a,a.x,a.y);if(a.callback){a.callback.call(a.callbackScope);a.callback=null}},refresh:function(){this.translate(this.x,this.y)},resolveListenerScope:function(){var a=this.ownerCmp,b=arguments;if(a){return a.resolveListenerScope.apply(a,b)}return Ext.Evented.prototype.resolveListenerScope.apply(this,b)},destroy:function(){var a=this;a.destroying=!0;if(a.isAnimating){a.stopAnimation()}Ext.Evented.prototype.destroy.call(this);a.destroyed=!0}},1,0,0,0,0,[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.util.translatable,'Abstract'],0);Ext.define('Ext.overrides.Widget',{override:'Ext.Widget',mixins:[Ext.mixin.Traversable],statics:{floatInset:8,onModalMaskTap:function(b){var a=this.topModal;if(a&&a.onModalMaskTap&&a.onModalMaskTap(b)){this.topModal=null}},range:document.createRange()},config:{flex:{evented:!0,$value:null},itemId:undefined,floated:null,relative:null,x:null,y:null,shadow:null,shim:null,alwaysOnTop:null,toFrontOnShow:!0,translatable:{lazy:!0,$value:null},constrainAlign:null,alignSelf:null},inheritUi:!1,floatedCls:'x-floated',floatedSelector:'.x-floated',shadowCls:'x-shadow',noShadowCls:'x-no-shadow',floatWrapCls:'x-float-wrap',shimCls:'x-shim',rootCls:'x-root',isInner:!0,clearPropertiesOnDestroy:'async',beforeHide:Ext.emptyFn,afterHide:function(){var a=this,b=a.getParent();if(b&&b.afterItemHide){b.afterItemHide(a)}if(a.getFloated()){a.syncShim()}},beforeShow:Ext.emptyFn,afterShow:function(){var b=this,a=b.getParent();if(a&&a.afterItemShow){a.afterItemShow(b)}},applyItemId:function(a){return a||this.getId()},doDestroy:function(){var a=this,b=a.getParent(),c=a.floatWrap;if(b&&b.remove){b.remove(a,!1)}a.setShim(!1);Ext.destroy(a.getTranslatable());if(c){a.un('resize','syncFloatWrap',a);c.destroy();a.floatWrap=null}a.removeBindings();arguments.callee.$previous.call(this)},isInnerItem:function(){return this.isInner},isCentered:function(){return !1},isDocked:function(){return Boolean(this.getDocked())},isPositioned:function(){return !1},getDocked:function(){return this._docked},isHidden:function(c){var b=this,a;if(b.isConfiguring){a=b.getConfig('hidden',!0);if(b.getConfig('floated',!0)){return a!==!1}else {return !!a}}return arguments.callee.$previous.call(this,c)},onAdded:function(c,d){var a=this,b=a.parent;if(b&&b!==c){b.remove(a,!1)}a.parent=c;a.onInheritedAdd(c,d);a.isDetached=!1;if(a.getFloated()){a.findFloatParent()}if(a.inheritUi){a.doInheritUi()}},onRemoved:function(b){var a=this;if(a.inheritUi&&!b){a.doUninheritUi()}a.onInheritedRemove(b);a.parent=null},setIsInner:function(a){var b;if(a!==this.isInner){this.isInner=a;b=this.initialized&&this.getParent();if(b){b.onItemInnerStateChange(this,a)}}},refreshInnerState:function(){this.setIsInner(!this.getFloated()&&!this.isCentered()&&!this.isPositioned()&&!this.isDocked())},toFront:function(c){var a=this,b;b=a.getFloatParent();if(!a.hasListeners.beforetofront||a.fireEvent('beforetofront',a)!==!1){a.syncAlwaysOnTop(c);if(b&&b.getFloated()){b.toFront(c)}if(a.hasListeners.tofront){a.fireEvent('tofront',a)}}return a},applyTranslatable:function(b,a){return Ext.Factory.translatable.update(a,b,this,'createTranslatable')},createTranslatable:function(b){var c=this,a=b.listeners;b=Ext.apply({type:'cssposition',ownerCmp:c,element:c.renderElement},b);if(a&&a.scope==='this'){b.listeners=a=Ext.apply({},a);a.scope=c}return b},ensureTranslatable:function(){var b=this,a=b.getTranslatable();if(!a){b.setTranslatable(!0);a=b.getTranslatable()}return a},translate:function(){var a=this.ensureTranslatable();a.translate.apply(a,arguments)},getAlignmentInfo:function(b,h){var c=this,a=b.isRegion?b:(b.isWidget?b.renderElement:Ext.fly(b)).getBox(),i=c.renderElement,g=i.getBox(),f={alignToBox:a,alignment:h,top:a.top,left:a.left,alignToWidth:a.width||0,alignToHeight:a.height||0,width:g.width,height:g.height,anchor:!!(c.getAnchor&&c.getAnchor())},e=c.getCurrentAlignmentInfo(),d=!0;if(!Ext.isEmpty(e)){Ext.Object.each(f,function(c,a){if(!Ext.isObject(a)&&e[c]!==a){d=!1;return !1}return !0})}else {d=!1}return {isAligned:d,stats:f}},getCurrentAlignmentInfo:function(){return this.$currentAlignmentInfo},setCurrentAlignmentInfo:function(a){this.$currentAlignmentInfo=Ext.isEmpty(a)?null:Ext.merge({},a.stats?a.stats:a)},alignTo:function(e,d,h){var a=this,c=a.getAlignmentInfo(e,d),i=a.initialConfig,f=!a.getFloated(),k=f?a.setLeft:a.setX,j=f?a.setTop:a.setY,g,b;if(c.isAligned){return}if('unconstrainedWidth' in a){a.setWidth(a.unconstrainedWidth)}if('unconstrainedHeight' in a){a.setHeight(a.unconstrainedHeight)}b=a.getAlignRegion(e,d,h);k.call(a,b.x);j.call(a,b.y);if(b.constrainWidth){a.unconstrainedWidth=i.width||a.self.prototype.width;g=a.el.getHeight();a.setWidth(c.stats.width=b.getWidth());if(b.align.position===0){j.call(a,b.y+(g-a.el.getHeight()))}}if(b.constrainHeight){a.unconstrainedHeight=i.height||a.self.prototype.height;a.setHeight(c.stats.height=b.getHeight())}a.alignToArgs=[e,d,h];a.setCurrentAlignmentInfo(c)},realign:function(c,b,d){var a=this.alignToArgs;if(this.isVisible()){this.alignTo.call(this,c||a[0],b||a[1],d||a[2])}},getAlignRegion:function(d,a,k){var b=this,e=b.getAlignmentInfo(d,a),g,i,f,c,h,j;if(e.isAligned){return}f=e.stats.alignToBox;c=b.getConstrainAlignRegion();h=e.stats.height;j=e.stats.width;if(c&&(!a||a==='auto')){if(c.bottom-f.bottom<h){if(f.top-c.top<h){if(f.left-c.left<j){a='l-r?'}else {a='r-l?'}}else {a='b-t?'}}else {a='t-b?'}}g=a[a.length-1];if(g==='!'){i=d.isRegion?d:(d.isWidget?d.renderElement:Ext.fly(d)).getBox();a=a.substr(0,a.length-1)}else {i=c;if(g==='?'){a=a.substr(0,a.length-1)}}return b.el.getRegion().alignTo(Ext.apply({target:Ext.util.Region.from(e.stats.alignToBox),align:a,inside:i,minWidth:b.getMinWidth&&b.getMinWidth(),minHeight:b.getMinHeight&&b.getMinHeight()},k))},afterRender:Ext.emptyFn,onRender:Ext.emptyFn,applyFloated:function(a){return Boolean(a)},updateFloated:function(b,f){var a=this,e=a.floatWrap,d,c;if(b){a.refreshInnerState=Ext.emptyFn;if(a.isPositioned()){a.resetPositioned()}if(a.isDocked()){a.setDocked(!1)}delete a.refreshInnerState}else {if(e){e.dom.removeChild(a.el.dom);a.un('resize','syncFloatWrap',a);e.destroy();a.floatWrap=null;a.setRendered(!1)}}a.refreshInnerState();a.el.toggleCls(a.floatedCls,b);if(a.hasOwnProperty('_modal')){d=a.getModal&&a.getModal();if(d){a.setModal(!1);if(b){Ext.destroy(d);if(a.isVisible()){a.showModalMask()}}else {c=a.getModalSibling();if(c){c.showModalMask()}else {a.hideModalMask()}}a.setModal(!0)}if(a.getHideOnMaskTap&&a.getHideOnMaskTap()){a.setHideOnMaskTap(!1);a.setHideOnMaskTap(!0)}}a.syncFloatedState(b,f,a.rendered&&f===!1)},applyUi:function(a){var c=this,b=c._inheritedUi;a=arguments.callee.$previous.call(this,a);if(b){a=c.doAddUi(b,a)}return a},updateUi:function(g,f){var d=this,a,c,b,e;arguments.callee.$previous.call(this,g,f);if(d.$inheritUiCount&&!d.destroying){c=d.getRefItems();for(b=0,e=c.length;b<e;b++){a=c[b];if(a.inheritUi){a.doUninheritUi();a.doInheritUi()}}}},updateHidden:function(b,d){var a=Ext.GlobalEvents,c=b?'hide':'show';arguments.callee.$previous.call(this,b,d);if(!this.isConfiguring&&a.hasListeners[c]){a.fireEvent(c,this)}},updateAlignSelf:function(a){this.el.setStyle({'align-self':a})},privates:{setRendered:function(d,h){var a=this,c,b,e,g,f;if(!d&&a.rendered&&a.getFloated()){a.floatWrap.dom.parentNode.removeChild(a.floatWrap.dom)}a.rendered=d;if(!a.destroying&&!a.destroyed){if(d&&a.onRender){a.initBindable();a.initKeyMap();if(!a.onRender.$nullFn){a.onRender()}a.onRender=null;if(!a.afterRender.$nullFn){(Ext._afterRenderQueue||(Ext._afterRenderQueue=[])).push(a)}}e=a.getRefItems&&a.getRefItems();g=e&&e.length;for(f=0;f<g;f++){b=e[f];if(b.setRendered){a.setChildRendered(d,b)}}if(a.focusableContainer&&a.initFocusableContainer){a.initFocusableContainer()}if(h){c=Ext._afterRenderQueue;if(c){while(c.length){b=c.pop();if(!b.destroyed){b.afterRender()}}}}}},setChildRendered:function(a,b){if(!a||!b.getFloated()){b.setRendered(a)}},hideFromModal:function(){this.hide()},owns:function(a){var c=!1,b;if(a.isEvent){a=a.target}else if(a.isElement){a=a.dom}b=Ext.Component.from(a);if(b){c=b===this||!!b.up(this)}return c},doInheritUi:function(){var a=this,c,b;if(a.inheritUi){a._ownUi=a.getUi();c=a.getRefOwner();b=c.getUi();if(b){a.addUi(b);a._inheritedUi=b}c.$inheritUiCount=(c.$inheritUiCount||0)+1}},doUninheritUi:function(){var a=this,d=a.inheritUi,c,b;if(d){b=a.getRefOwner();c=a._ownUi;a._ownUi=null;a._inheritedUi=null;a.setUi(c||null);if(b.$inheritUiCount){--b.$inheritUiCount}}},getBubbleTarget:function(){return this.getParent()},getConstrainAlignRegion:function(){var c=this,f=c.getFloated(),a=c.getConstrainAlign(),b,e,d;if(a!==!1){if(typeof a==='string'){a=b=c.up(a)}if(c.floatParentNode.destroyed&&!c.destroyed){c.findFloatParent()}if(!a){b=f?c.floatParentNode.getData().component:c.getParent()}if(b){if(b.getFloated()&&!b.getRelative()){a=Ext.getBody();e=!0}else {a=b.getRenderTarget?b.getRenderTarget():b.bodyElement||b.element;e=b.isViewport}}else if(!a){if(f){e=!0;a=Ext.getBody()}else {a=c.element.parent()}}if(!a.isRegion){a=Ext.fly(a).getConstrainRegion();if(e){d=Math.round(Ext.Widget.floatInset);a.adjust(d,-d,-d,d)}}return a}},getFloatParent:function(){var a=this.floatParentNode.getData().component;return a&&a.getFloated()?a:null},syncFloatedState:function(d,e,c){var a=this,b=a.isHidden();if(d){if(c){if(a.isCentered()){a.getWidth();a.getHeight();a.center()}else {a.syncXYPosition()}if(!b){a.showModalMask()}}else {if(!b){a.findFloatParent()}else {a.setHidden(!0)}}}else {a.translate(0,0,0)}},findFloatParent:function(c){var b=this,a=b.getRefOwner();while(a&&!a.getFloated()){a=a.getRefOwner()}if(!a){b.floatParentNode=Ext.getFloatRoot()}else {b.floatParentNode=a.getFloatWrap()}b.insertFloatedDom(c)},getFloatWrap:function(){var a=this,b=a.floatWrap;if(!b){a.floatWrap=b=Ext.get(Ext.DomHelper.createDom({cls:a.floatWrapCls,id:a.id+'-floatWrap','data-componentId':a.id}));a.on('resize','syncFloatWrap',a);b.getData().component=a;if(a.isContainer&&(!a.isWidthed()||!a.isHeighted())){a.setAutoSize(!0)}b.dom.appendChild(a.element.dom);b.getData().alwaysOnTop=a.element.getData().alwaysOnTop;a.syncFloatWrap()}return b},syncFloatWrap:function(){var b=this,c=b.floatWrap,d=b.el.getSize(),a;if(b.getRelative()){c.setSize(d)}else {a=c.getData().modalMask;if(a){a.setSize(d)}}},insertFloatedDom:function(c){var a=this,d=a.getFloatWrap(),b=a.floatParentNode;if(d.dom.parentNode!==b.dom){b.dom.appendChild(a.getFloatWrap().dom);if(c){a.setVisibility(!0);a._hidden=!1}a.setRendered(!0,!0);a.syncXYPosition()}},applyShim:function(a){if(a){return Ext.getBody().createChild(Ext.apply({cls:this.shimCls},a))}else {Ext.destroy(this.shim);return null}},updateShim:function(c,b){var a=this;if(c){a.syncShim();if(!b){a.on('resize','syncShim',a)}}else if(b){a.un('resize','syncShim',a)}},hideModalMask:function(){var e=this,d=Ext.getFloatRoot(),c=e.floatParentNode,b,a;if(c){b=c.getData();if(c!==d&&!b.component.getRelative()){b=d.getData()}a=b.modalMask;if(a&&a.dom.parentNode){a=a.dom;Ext.getDetachedBody().appendChild(a)}}if(Ext.Viewport){Ext.Viewport.enableTabbing()}},showModalMask:function(){var c=this,h=Ext.Widget,g=Ext.getFloatRoot(),f=c.getFloatWrap(),d=c.getParent(),a=c.floatParentNode,e=a.getData(),b;if(c.getFloated()&&c.getModal&&c.getModal()){if(a!==g&&!e.component.getRelative()){e=g.getData()}b=e.modalMask;if(b){if(f.dom.parentElement===a.dom){a.dom.insertBefore(b.dom,f.dom)}else {a.dom.appendChild(b.dom)}}else {b=e.modalMask=a.createChild({cls:'x-mask'},f);b.on({tap:h.onModalMaskTap,scope:h});if(Ext.isiOS&&a===g){b.on({touchmove:function(a){a.preventDefault()}})}}h.topModal=c;if(d&&d.getFloated()&&!d.getRelative()){d.syncXYPosition()}if(Ext.Viewport){Ext.Viewport.disableTabbing()}}},syncShim:function(){var b=this,a=b.getShim();if(a){if(b.isVisible(!0)){a.show();b.getFloatWrap().dom.insertBefore(a.dom,b.el.dom);a.setSize(b.getSize())}else {a.hide()}}},updateAlwaysOnTop:function(b){var a=this;a.getFloatWrap().getData().alwaysOnTop=Number(b);if(!a.floatParentNode){a.findFloatParent()}if(!a.isConfiguring){a.syncAlwaysOnTop()}},syncAlwaysOnTop:function(o){var d=this,e=d.getFloatWrap().dom,f=d.floatParentNode,b=f.dom.childNodes,m=b.length,j=Number(d.getAlwaysOnTop()),l=d.statics().range,h=Ext.Mask.prototype.baseCls,a,g,k,c,n,i;g=f===Ext.floatRoot?0:1;n=d.getModal&&d.getModal()&&e.previousSibling&&Ext.fly(e.previousSibling).hasCls(h);if(e.nextSibling){for(a=m-1;a>=g;a--){k=Ext.fly(b[a]);if(!k.hasCls(d.shimCls)&&!k.hasCls(h)&&b[a]!==e){if(j>=(Ext.get(b[a]).getData().alwaysOnTop||0)){c=b[a].nextSibling;break}}}if(c===e){return}if(a<g){c=b[0]}if(d.containsFocus||o){l.setStartAfter(e);l.setEndAfter(c||b[m-1]);f.dom.insertBefore(l.extractContents(),e)}else {f.dom.insertBefore(e,c)}}else if(e.previousSibling){for(a=m-2;a>=g;a--){if(!Ext.fly(b[a]).is('.'+d.shimCls)&&b[a]!==e){i=Ext.get(b[a]).getData().alwaysOnTop;if(j<i){c=b[a];f.dom.insertBefore(c,null);if(b[a-1]&&Ext.fly(b[a-1]).hasCls(h)){f.dom.insertBefore(b[a-1],c);a-=1}j=i}}}}if(n){d.showModalMask()}d.syncShim();if(c&&!Ext.fly(c).hasCls(h)){Ext.Component.from(c).syncShim()}else {return !0}},updateRelative:function(){this.syncXYPosition()},updateShadow:function(a){this.el.toggleCls(this.shadowCls,a);this.el.toggleCls(this.noShadowCls,a===!1)},updateX:function(){if(!this.$updatingXY){this.syncXYPosition()}},updateY:function(){if(!this.$updatingXY){this.syncXYPosition()}},syncXYPosition:function(e){var a=this,c=a.getFloatWrap(),d=e,b,f=a.getX()||0,g=a.getY()||0;if(a.getRelative()){c.translate(f,g,e);c.setWidth(a.el.getWidth());c.setHeight(a.el.getHeight());a.translate(0,0);b=c.getData().modalMask;if(b){b.translate(0,0)}}else {a.translate(f,g,e);b=c.getData().modalMask;if(b){if(d){d=Ext.apply({},d);delete d.callback}b.translate(f,g,d)}}a.syncShim()}}},function(a){this.borrow(Ext.util.Positionable,['clipTo','clearClip']);a.createAlias({prev:'previousSibling',next:'nextSibling'});Ext.getFloatRoot=function(){var b=Ext.floatRoot,d=a.prototype,c=a.range;if(b){if(b.el.dom.nextSibling){if(b.el.contains(document.activeElement)){c.setStartBefore(b.el.dom.nextSibling);c.setEndAfter(b.el.dom.parentNode.lastChild);b.el.dom.parentNode.insertBefore(c.extractContents(),b.el.dom)}else {b.el.dom.parentNode.appendChild(b.dom)}}}else {b=Ext.getBody().createChild({cls:d.floatWrapCls+' '+d.rootCls,id:'ext-global-floatWrap','data-sticky':!0});Ext.floatRoot=b}return b}});Ext.cmd.derive('Ext.util.Bag',Ext.Base,{isBag:!0,constructor:function(){this.items=[];this.map={}},generation:0,length:0,beginUpdate:Ext.emptyFn,endUpdate:Ext.emptyFn,add:function(d){var c=this,h=c.items,k=c.map,l=1,a,g,e,j,b,f,i;if(Ext.isArray(d)){a=f=[];l=d.length}for(g=0;g<l;g++){j=c.getKey(b=a?d[g]:d);e=k[j];if(e===undefined){h.push(b);k[j]=c.length++;if(a){a.push(b)}else {f=b}}else {i=h[e];if(a){a.push(i)}else {f=i}h[e]=b}}++c.generation;return f},clear:function(){var a=this,b=a.generation||a.length,c=b?a.items:[];if(b){a.items=[];a.length=0;a.map={};++a.generation}return c},clone:function(){var a=this,b=new a.self(),c=a.length;if(c){Ext.apply(b.map,a.map);b.items=a.items.slice();b.length=a.length}return b},contains:function(a){var d=!1,c=this.map,b;if(a!=null){b=this.getKey(a);if(b in c){d=this.items[c[b]]===a}}return d},containsKey:function(a){return a in this.map},destroy:function(){this.items=this.map=null;this.callParent()},each:function(f,c){var b=this.items,d=b.length,a,e;if(d){c=c||this;b=b.slice(0);for(a=0;a<d;a++){e=f.call(c,b[a],a,d);if(e===!1){break}}}return e},getAt:function(a){var b=null;if(a<this.length){b=this.items[a]}return b},get:function(a){return this.getByKey(a)},getByKey:function(a){var b=this.map,c=a in b?this.items[b[a]]:null;return c},indexOfKey:function(a){var b=this.map,c=a in b?b[a]:-1;return c},last:function(){return this.items[this.length-1]},updateKey:function(e,a){var c=this,b=c.map,d;if(!e||!a){return}if((d=c.getKey(e))!==a){if(c.getAt(b[a])===e&&!(d in b)){c.generation++;b[d]=b[a];delete b[a]}}},getCount:function(){return this.length},getKey:function(a){return a.id||a.getId()},getRange:function(d,e){var c=this.items,b=c.length,a;if(!b){a=[]}else {a=Ext.Number.clipIndices(b,[d,e]);a=c.slice(a[0],a[1])}return a},remove:function(c){var a=this,h=a.map,f=a.items,i=null,m=1,k,d,e,b,l,g,j;if(Ext.isArray(c)){m=c.length;d=i=[]}if(a.length){for(e=0;e<m;e++){b=h[l=a.getKey(d?c[e]:c)];if(b!==undefined){delete h[l];j=f[b];if(d){d.push(j)}else {i=j}g=f.pop();if(b<--a.length){f[b]=g;h[a.getKey(g)]=b}k=!0}}if(k){++a.generation}}return i},removeByKey:function(b){var a=this.getByKey(b);if(a){this.remove(a)}return a||null},replace:function(a){this.add(a);return a},sort:function(e){var a=this,c=a.items,b=c.length,d;if(b){Ext.Array.sort(c,e);a.map={};while(b-->0){d=c[b];a.map[a.getKey(d)]=b}++a.generation}}},1,0,0,0,0,0,[Ext.util,'Bag'],0);Ext.cmd.derive('Ext.state.Provider',Ext.Base,function(a){return {statics:{get:function(){return a._default},register:function(b){var c=a._default;if(c!==b){a._default=b;if(b){b.global=!0}if(c){c.global=!1}if(Ext.hasListeners.stateproviderchange){Ext.fireEvent('stateproviderchange',b,c)}}}},bufferableMethods:{saveState:50},constructor:function(b){this.queue=new Ext.util.Bag();this.state={};this.initConfig(b)},clear:function(){var b=this;b.cancelSaveState();b.queue.clear();b.state={}},get:function(d,c){var b=this.state[d];return b===undefined?c:b},remove:function(b){return this.set(b,null)},set:function(b,c){var f=this,e=f.state,d=b;if(typeof b==='string'){d={};d[b]=c}for(b in d){c=d[b];if(c==null){delete e[b];c=null}else {e[b]=c}}},decodeValue:function(b){return Ext.decode(b)},encodeValue:function(b){return Ext.encode(b)},privates:{doSave:function(b){b.$saveStatePending=!1;b.persistState()},doSaveState:function(){var b=this,c=b.queue;c.each(b.doSave,b);c.clear()},save:function(b){b.$saveStatePending=!0;this.queue.add(b);this.saveState()}}}},1,0,0,0,0,[[Ext.mixin.Bufferable.prototype.mixinId||Ext.mixin.Bufferable.$className,Ext.mixin.Bufferable]],[Ext.state,'Provider'],function(a){a.register(new a())});Ext.cmd.derive('Ext.state.Stateful',Ext.Mixin,function(a){return {mixinConfig:{id:'state',configs:!0,before:{destroy:'_flushStateful'},mixed:function(b){b.addConfigTransform('transformStatefulConfig',20)}},isStateful:!0,config:{stateful:{$value:null,merge:function(b,c){if(b===!0){return c||b}if(b==null){return b}if(!b){return !1}return this.mergeSets(b,c)}},statefulDefaults:{$value:null,cached:!0,merge:function(b,c){return this.mergeSets(b,c)}},stateId:null},getStatefulOwner:Ext.emptyFn,loadState:function(f,d){var b=d&&f.data,c,e;b=b&&b.$;if(b){for(c in d){if(d[c]&&c in b){(e||(e={}))[c]=b[c]}}}return e},saveState:function(d,b){var e=this,c;if(b){for(c in b){d.save(e,c)}}},applyStateful:function(d,c){var g=this,b=!1,i='onStatefulChange',j=(d||c)&&g.getConfigWatcher(),f=g.isConfiguring,e,h;if(d){if(d===!0){b={};f=!0}else if(typeof d==='string'){b={};b[d]=!0}else if(Ext.isObject(d)){b=d}else {b=Ext.Array.toMap(d)}f=f&&g.getStatefulDefaults();if(f){b=Ext.merge({},f,b)}c=c||{};for(e in b){h=b[e];if(!h!==!c[e]){j[h?'on':'un'](e,i,g);if(h){c[e]=!0}else {delete c[e]}}}b=Ext.Object.isEmpty(c)?!1:c}else if(c){for(e in c){j.un(e,i,g)}}return b},privates:{statics:{_configNames:['stateful','stateId']},_flushStateful:function(){if(this.$saveStatePending){var b=Ext.state.Provider.get();if(b&&b.isSaveStatePending){b.flushSaveState()}}},getStateBuilder:function(f){var d=this,g=d._getStateId(),b=f&&d.$state||null,i=g&&Ext.state.Provider.get(),e,h,c;if(i&&!b){if(!(c=d.getStatefulOwner())){b=new Ext.state.Builder();if(f){b.data=i.get(g)}}else {if(!(h=c).isStateful){h=c[0];e=1}b=h.getStateBuilder(f);if(b){for(;e&&e<c.length;++e){b=b.child(c[e])}b=b.child(g)}}if(b){b.owner=d;b.id=g}d.$state=f?b:null}return b},_getStateId:function(){var b=this,c=b.getStateId();b._getStateId=b.getStateId;if(!c){c=b.id||b.getId();if(b.autoGenId){c=null}else {b.setStateId(c)}}return c},onStatefulChange:function(){var b=this;if(!b.destroying&&b._getStateId()){Ext.state.Provider.get().save(b)}},persistState:function(){var f=this,b=f.getStateBuilder(),e,d,c;if(b){d=Ext.state.Provider.get();c=b.root;e=c.id;if(b.parent){c.data=d.get(e);b.clear()}f.saveState(b,f.getStateful());d.set(e,c.data)}},readStateObject:function(){var c=this,b=c.getStateBuilder(!0),d;if(b){b.getData();d=c.loadState(b,c.getStateful())}return d||null},transformStatefulConfig:function(g,h){var d=this,c=g,f,e,b,i;if(h.hoistConfigs(d,g,a._configNames)){b=d.readStateObject();if(b){i=d.getStateful();f={};for(e in b){if(i[e]){f[e]=!0}else {delete b[e]}}b=Ext.Object.isEmpty(b)?null:b;d.$statefulConfigs=b&&f}if(b){c=h.merge(d,c,b,!0)}else {c=Ext.apply({},c)}delete c.stateful;delete c.stateId}return c}}}},0,0,0,0,0,0,[Ext.state,'Stateful'],0);Ext.cmd.derive('Ext.util.Format',Ext.Base,function(){var a;return {singleton:!0,defaultDateFormat:'m/d/Y',thousandSeparator:',',decimalSeparator:'.',currencyPrecision:2,currencySign:'$',currencySpacer:'',percentSign:'%',currencyAtEnd:!1,stripTagsRe:/<\/?[^>]+>/gi,stripScriptsRe:/(?:<script.*?>)((\n|\r|.)*?)(?:<\/script>)/ig,nl2brRe:/\r?\n/g,hashRe:/#+$/,allHashes:/^#+$/,formatPattern:/[\d,.#]+/,formatCleanRe:/[^\d.#]/g,I18NFormatCleanRe:null,formatFns:{},constructor:function(){a=this},nbsp:function(a,b){b=b!==!1;if(b?a===''||a==null:!a){a='\xa0'}return a},undef:function(a){return a!==undefined?a:''},defaultValue:function(a,b){return a!==undefined&&a!==''?a:b},substr:'ab'.substr(-1)!=='b'?function(d,a,c){var b=String(d);return a<0?b.substr(Math.max(b.length+a,0),c):b.substr(a,c)}:function(c,b,a){return String(c).substr(b,a)},lowercase:function(a){return String(a).toLowerCase()},uppercase:function(a){return String(a).toUpperCase()},usMoney:function(b){return a.currency(b,'$',2)},currency:function(b,g,c,i,d){var e='',f=',0',h=0;b=b-0;if(b<0){b=-b;e='-'}c=Ext.isDefined(c)?c:a.currencyPrecision;f+=c>0?'.':'';for(;h<c;h++){f+='0'}b=a.number(b,f);if(d==null){d=a.currencySpacer}if((i||a.currencyAtEnd)===!0){return Ext.String.format('{0}{1}{2}{3}',e,b,d,g||a.currencySign)}else {return Ext.String.format('{0}{1}{2}{3}',e,g||a.currencySign,d,b)}},date:function(a,b){if(!a){return ''}if(!Ext.isDate(a)){a=new Date(Date.parse(a))}return Ext.Date.dateFormat(a,b||Ext.Date.defaultFormat)},dateRenderer:function(b){return function(c){return a.date(c,b)}},hex:function(c,b){var a=parseInt(c||0,10).toString(16);if(b){if(b<0){b=-b;if(a.length>b){a=a.substring(a.length-b)}}while(a.length<b){a='0'+a}}return a},or:function(b,a){return b||a},pick:function(a,d,c){var b;if(Ext.isNumber(a)){b=arguments[a+1];if(b){return b}}return a?c:d},lessThanElse:function(h,e,g,a,b){var d=Ext.Number.from(h,0),c=Ext.Number.from(e,0),f=!Ext.isDefined(b);return d<c?g:d>c?a:f?a:b},sign:function(e,d,c,b){if(b===undefined){b=c}return a.lessThanElse(e,0,d,c,b)},stripTags:function(b){return !b?b:String(b).replace(a.stripTagsRe,'')},stripScripts:function(b){return !b?b:String(b).replace(a.stripScriptsRe,'')},fileSize:function(){var a=1024,b=1048576,c=1073741824;return function(d){var e;if(d<a){if(d===1){e='1 byte'}else {e=d+' bytes'}}else if(d<b){e=Math.round(d*10/a)/10+' KB'}else if(d<c){e=Math.round(d*10/b)/10+' MB'}else {e=Math.round(d*10/c)/10+' GB'}return e}}(),math:function(){var a={};return function(c,b){if(!a[b]){a[b]=Ext.functionFactory('v','return v '+b+';')}return a[b](c)}}(),round:function(c,a){var b=Number(c);if(typeof a==='number'){a=Math.pow(10,a);b=Math.round(c*a)/a}else if(a===undefined){b=Math.round(b)}return b},number:function(k,c){var h;if(!c){return k}if(isNaN(k)){return ''}h=a.formatFns[c];if(!h){var n=c,o=a.thousandSeparator,g=a.decimalSeparator,d=0,l='',i,e,j,f,b,m;if(c.substr(c.length-2)==='/i'){if(!a.I18NFormatCleanRe||a.lastDecimalSeparator!==g){a.I18NFormatCleanRe=new RegExp('[^\\d\\'+g+'#]','g');a.lastDecimalSeparator=g}c=c.substr(0,c.length-2);i=c.indexOf(o)!==-1;e=c.replace(a.I18NFormatCleanRe,'').split(g)}else {i=c.indexOf(',')!==-1;e=c.replace(a.formatCleanRe,'').split('.')}j=c.replace(a.formatPattern,'');if(e.length>2){}else if(e.length===2){d=e[1].length;f=e[1].match(a.hashRe);if(f){m=f[0].length;l='trailingZeroes=new RegExp(Ext.String.escapeRegex(utilFormat.decimalSeparator) + "*0{0,'+m+'}$")'}}b=['var utilFormat=Ext.util.Format,extNumber=Ext.Number,neg,absVal,fnum,parts'+(i?',thousandSeparator,thousands=[],j,n,i':'')+(j?',formatString="'+c+'",formatPattern=/[\\d,\\.#]+/':'')+',trailingZeroes;return function(v){if(typeof v!=="number"&&isNaN(v=extNumber.from(v,NaN)))return"";neg=v<0;','absVal=Math.abs(v);','fnum=Ext.Number.toFixed(absVal, '+d+');',l,';'];if(i){if(d){b[b.length]='parts=fnum.split(".");';b[b.length]='fnum=parts[0];'}b[b.length]='if(absVal>=1000) {';b[b.length]='thousandSeparator=utilFormat.thousandSeparator;thousands.length=0;j=fnum.length;n=fnum.length%3||3;for(i=0;i<j;i+=n){if(i!==0){n=3;}thousands[thousands.length]=fnum.substr(i,n);}fnum=thousands.join(thousandSeparator);}';if(d){b[b.length]='fnum += utilFormat.decimalSeparator+parts[1];'}}else if(d){b[b.length]='if(utilFormat.decimalSeparator!=="."){parts=fnum.split(".");fnum=parts[0]+utilFormat.decimalSeparator+parts[1];}'}b[b.length]='if(neg&&fnum!=="'+(d?'0.'+Ext.String.repeat('0',d):'0')+'") { fnum="-"+fnum; }';if(f){b[b.length]='if(fnum.indexOf("e+") === -1)fnum=fnum.replace(trailingZeroes,"");'}b[b.length]='return ';if(j){b[b.length]='formatString.replace(formatPattern, fnum);'}else {b[b.length]='fnum;'}b[b.length]='};';h=a.formatFns[n]=Ext.functionFactory('Ext',b.join(''))(Ext)}return h(k)},numberRenderer:function(b){return function(c){return a.number(c,b)}},percent:function(c,b){return a.number(c*100,b||'0')+a.percentSign},repeat:function(a,b,c){return Ext.String.repeat(b,a,c)},attributes:function(a){var c,b;if(typeof a==='object'){c=[];for(b in a){if(a.hasOwnProperty(b)){c.push(b,'="',b==='style'?Ext.DomHelper.generateStyles(a[b],null,!0):Ext.htmlEncode(a[b]),'" ')}}a=c.join('')}return a||''},plural:function(c,a,b){return c+' '+(c===1?a:b?b:a+'s')},nl2br:function(b){return Ext.isEmpty(b)?'':b.replace(a.nl2brRe,'<br/>')},capitalize:Ext.String.capitalize,uncapitalize:Ext.String.uncapitalize,ellipsis:Ext.String.ellipsis,escape:Ext.String.escape,escapeRegex:Ext.String.escapeRegex,htmlDecode:Ext.String.htmlDecode,htmlEncode:Ext.String.htmlEncode,leftPad:Ext.String.leftPad,toggle:Ext.String.toggle,trim:Ext.String.trim,parseBox:function(b){b=b||0;if(typeof b==='number'){return {top:b,right:b,bottom:b,left:b}}var a=b.split(' '),c=a.length;if(c===1){a[1]=a[2]=a[3]=a[0]}else if(c===2){a[2]=a[0];a[3]=a[1]}else if(c===3){a[3]=a[1]}return {top:parseInt(a[0],10)||0,right:parseInt(a[1],10)||0,bottom:parseInt(a[2],10)||0,left:parseInt(a[3],10)||0}},resource:function(b,a){a=a||'';return Ext.resolveResource(a+b)},uri:function(a){return encodeURI(a)},uriCmp:function(a){return encodeURIComponent(a)},wordBreakRe:/[\W\s]+/,word:function(e,c,b){var f=b?typeof b==='string'?new RegExp(b):b:a.wordBreakRe,d=(e||'').split(f);return d[c||0]||''}}},1,0,0,0,0,0,[Ext.util,'Format'],0);Ext.define('Ext.overrides.exporter.util.Format',{override:'Ext.util.Format',decToHex:function(a,d){var c='',b;for(b=0;b<d;b++){c+=String.fromCharCode(a&255);a=a>>>8}return c}});Ext.define('App.overrides.util.Format',{override:'Ext.util.Format',dhMoney:function(a){var c=a/1000000,d='DH',b=0;if(c>=1){d='MMAD';a=c;b=2}return this.currency(a,d,b,!0,' ')},dateDiff:function(e,f,c){if(!Ext.isDate(e)||!Ext.isDate(f)){return}var b,a,d;if(!c||c=='auto'){b=Math.floor(Math.abs(+f-e)/1000);c=b<1?'ms':b<60?'s':b<3600?'mi':b<86400?'h':b<604800?'d':b<2419200?'w':b<31622400?'mo':'y'}switch(c){case 'ms':a='milliseconde';break;case 's':a='seconde';break;case 'mi':a='minute';break;case 'h':a='heure';break;case 'd':a='jour';break;case 'w':a='semaine';break;case 'mo':a='mois';break;case 'y':a='anne';break;default:}d=Ext.Date.diff(e,f,c);if(c==='mo'){return Ext.util.Format.plural(d,a,'mois')}else {return Ext.util.Format.plural(d,a)}},actionIconCls:function(a){switch(a){case 'profile':a='user';break;case 'email':a='envelope';break;default:}return 'x-fa fa-'+a}});Ext.cmd.derive('Ext.Template',Ext.Base,{inheritableStatics:{from:function(a,b){a=Ext.getDom(a);return new this(a.value||a.innerHTML,b||'')}},useEval:Ext.isGecko,constructor:function(g){var d=this,c=arguments,f=[],b=c.length,e,a;d.initialConfig={};if(b===1&&Ext.isArray(g)){c=g;b=c.length}if(b>1){for(e=0;e<b;e++){a=c[e];if(typeof a==='object'){Ext.apply(d.initialConfig,a);Ext.apply(d,a)}else {f.push(a)}}}else {f.push(g)}d.html=f.join('')},isTemplate:!0,disableFormats:!1,tokenRe:/\{(?:(?:(\d+)|([a-z_$][\w\-$]*))(?::([a-z_.]+)(?:\(([^)]*?)?\))?)?)\}/gi,apply:function(b){var a=this;if(a.compiled){if(!a.fn){a.compile()}return a.fn(b).join('')}return a.evaluate(b)},evaluate:function(a){var b=this,e=!b.disableFormats,c=Ext.util.Format,d=b;function fn(i,h,b,g,f){if(b==null||b===''){b=h}if(g&&e){if(f){f=[a[b]].concat(Ext.functionFactory('return ['+f+'];')())}else {f=[a[b]]}if(g.substr(0,5)==='this.'){return d[g.substr(5)].apply(d,f)}else if(c[g]){return c[g].apply(c,f)}else {return i}}else {return a[b]!==undefined?a[b]:''}}return b.html.replace(b.tokenRe,fn)},applyOut:function(c,b){var a=this;if(a.compiled){if(!a.fn){a.compile()}b.push.apply(b,a.fn(c))}else {b.push(a.apply(c))}return b},applyTemplate:function(){return this.apply.apply(this,arguments)},set:function(c,b){var a=this;a.html=c;a.compiled=!!b;a.fn=null;return a},compileARe:/\\/g,compileBRe:/(\r\n|\n)/g,compileCRe:/'/g,compile:function(){var a=this,b;b=a.html.replace(a.compileARe,'\\\\').replace(a.compileBRe,'\\n').replace(a.compileCRe,"\\'").replace(a.tokenRe,a.regexReplaceFn.bind(a));b=(this.disableFormats!==!0?'var fm=Ext.util.Format;':'')+(a.useEval?'$=':'return')+" function(v){return ['"+b+"'];};";a.fn=a.useEval?a.evalCompiled(b):(new Function('Ext',b))(Ext);a.compiled=!0;return a},evalCompiled:function($){eval($);return $},regexReplaceFn:function(d,b,e,a,c){if(b==null||b===''){b='"'+e+'"'}else if(this.stringFormat){b=parseInt(b)+1}if(a&&this.disableFormats!==!0){c=c?','+c:'';if(a.substr(0,5)==='this.'){a=a+'('}else if(Ext.util.Format[a]){a='fm.'+a+'('}else {return d}return "',"+a+'v['+b+']'+c+"),'"}else {return "',v["+b+"] == undefined ? '' : v["+b+"],'"}},insertFirst:function(c,b,a){return this.doInsert('afterBegin',c,b,a)},insertBefore:function(c,b,a){return this.doInsert('beforeBegin',c,b,a)},insertAfter:function(c,b,a){return this.doInsert('afterEnd',c,b,a)},append:function(c,b,a){return this.doInsert('beforeEnd',c,b,a)},doInsert:function(d,e,c,b){var a=Ext.DomHelper.insertHtml(d,Ext.getDom(e),this.apply(c));return b?Ext.get(a):a},overwrite:function(d,c,b){var a=Ext.DomHelper.overwrite(Ext.getDom(d),this.apply(c));return b?Ext.get(a):a}},1,0,0,0,0,0,[Ext,'Template'],function(d){var e=/\{\d+\}/,b=function(a){if(e.test(a)){a=new d(a,c);return function(){return a.apply(arguments)}}else {return function(){return a}}},c={useFormat:!1,compiled:!0,stringFormat:!0},a={};Ext.String.format=Ext.util.Format.format=function(c){var e=a[c]||(a[c]=b(c));return e.apply(this,arguments)};Ext.String.formatEncode=function(){return Ext.String.htmlEncode(Ext.String.format.apply(this,arguments))}});Ext.cmd.derive('Ext.util.XTemplateParser',Ext.Base,{constructor:function(a){Ext.apply(this,a)},doTpl:Ext.emptyFn,parse:function(g){var b=this,q=g.length,s={elseif:'elif'},p=b.topRe,r=b.actionsRe,j,e,d,c,h,n,l,m,i,f,a,k,o;b.level=0;b.stack=e=[];for(j=0;j<q;j=f){p.lastIndex=j;c=p.exec(g);if(!c){b.doText(g.substring(j,q));break}i=c.index;f=p.lastIndex;if(j<i){d=g.substring(j,i);if(!(o&&Ext.String.trim(d)==='')){b.doText(d)}}o=!1;if(c[1]){f=g.indexOf('%}',i+2);b.doEval(g.substring(i+2,f));f+=2}else if(c[2]){f=g.indexOf(']}',i+2);b.doExpr(g.substring(i+2,f));f+=2}else if(c[3]){b.doTag(c[3])}else if(c[4]){a=null;while((m=r.exec(c[4]))!==null){d=m[2]||m[3];if(d){d=Ext.String.htmlDecode(d);h=m[1];h=s[h]||h;a=a||{};n=a[h];if(typeof n==='string'){a[h]=[n,d]}else if(n){a[h].push(d)}else {a[h]=d}}}if(!a){if(b.elseRe.test(c[4])){b.doElse()}else if(b.defaultRe.test(c[4])){b.doDefault()}else {b.doTpl();e.push({type:'tpl'})}}else if(a['if']){b.doIf(a['if'],a);e.push({type:'if'})}else if(a['switch']){b.doSwitch(a['switch'],a);e.push({type:'switch'});o=!0}else if(a['case']){b.doCase(a['case'],a)}else if(a['elif']){b.doElseIf(a['elif'],a)}else if(a['for']){++b.level;if(k=b.propRe.exec(c[4])){a.propName=k[1]||k[2]}b.doFor(a['for'],a);e.push({type:'for',actions:a})}else if(a['foreach']){++b.level;if(k=b.propRe.exec(c[4])){a.propName=k[1]||k[2]}b.doForEach(a['foreach'],a);e.push({type:'foreach',actions:a})}else if(a.exec){b.doExec(a.exec,a);e.push({type:'exec',actions:a})}}else if(c[0].length===5){e.push({type:'tpl'})}else {l=e.pop();b.doEnd(l.type,l.actions);if(l.type==='for'||l.type==='foreach'){--b.level}}}},topRe:/(?:(\{%)|(\{\[)|\{([^{}]+)\})|(?:<tpl([^>]*)>)|(?:<\/tpl>)/g,actionsRe:/\s*(elif|elseif|if|for|foreach|exec|switch|case|eval|between)\s*=\s*(?:(?:"([^"]*)")|(?:'([^']*)'))\s*/g,propRe:/prop=(?:(?:"([^"]*)")|(?:'([^']*)'))/,defaultRe:/^\s*default\s*$/,elseRe:/^\s*else\s*$/},1,0,0,0,0,0,[Ext.util,'XTemplateParser'],0);Ext.cmd.derive('Ext.util.XTemplateCompiler',Ext.util.XTemplateParser,{useEval:Ext.isGecko,useIndex:Ext.isIE8m,useFormat:!0,propNameRe:/^[\w\d$]*$/,compile:function(c){var a=this,b=a.generate(c);return a.useEval?a.evalTpl(b):(new Function('Ext',b))(Ext)},generate:function(d){var a=this,b='var fm=Ext.util.Format,ts=Object.prototype.toString;',c;a.maxLevel=0;a.body=['var c0=values, a0='+a.createArrayTest(0)+', p0=parent, n0=xcount, i0=xindex, k0, v;\n'];if(a.definitions){if(typeof a.definitions==='string'){a.definitions=[a.definitions,b]}else {a.definitions.push(b)}}else {a.definitions=[b]}a.switches=[];a.parse(d);a.definitions.push((a.useEval?'$=':'return')+' function ('+a.fnArgs+') {',a.body.join(''),'}');c=a.definitions.join('\n');a.definitions.length=a.body.length=a.switches.length=0;a.definitions=a.body=a.switches=0;return c},doText:function(a){var b=this,c=b.body;a=a.replace(b.aposRe,"\\'").replace(b.newLineRe,'\\n');if(b.useIndex){c.push("out[out.length]='",a,"'\n")}else {c.push("out.push('",a,"')\n")}},doExpr:function(b){var a=this.body;a.push('if ((v='+b+') != null) out');if(this.useIndex){a.push('[out.length]=v\n')}else {a.push('.push(v)\n')}},doTag:function(b){var a=this.parseTag(b);if(a){this.doExpr(a)}else {this.doText('{'+b+'}')}},doElse:function(){this.body.push('} else {\n')},doEval:function(a){this.body.push(a,'\n')},doIf:function(b,c){var a=this;if(b==='.'){a.body.push('if (values) {\n')}else if(a.propNameRe.test(b)){a.body.push('if (',a.parseTag(b),') {\n')}else {a.body.push('if (',a.addFn(b),a.callFn,') {\n')}if(c.exec){a.doExec(c.exec)}},doElseIf:function(b,c){var a=this;if(b==='.'){a.body.push('else if (values) {\n')}else if(a.propNameRe.test(b)){a.body.push('} else if (',a.parseTag(b),') {\n')}else {a.body.push('} else if (',a.addFn(b),a.callFn,') {\n')}if(c.exec){a.doExec(c.exec)}},doSwitch:function(b){var a=this,c;if(b==='.'||b==='#'){c=b==='.'?'values':'xindex';a.body.push('switch (',c,') {\n')}else if(a.propNameRe.test(b)){a.body.push('switch (',a.parseTag(b),') {\n')}else {a.body.push('switch (',a.addFn(b),a.callFn,') {\n')}a.switches.push(0)},doCase:function(e){var a=this,c=Ext.isArray(e)?e:[e],d=a.switches.length-1,f,b;if(a.switches[d]){a.body.push('break;\n')}else {a.switches[d]++}for(b=0,d=c.length;b<d;++b){f=a.intRe.exec(c[b]);c[b]=f?f[1]:"'"+c[b].replace(a.aposRe,"\\'")+"'"}a.body.push('case ',c.join(': case '),':\n')},doDefault:function(){var a=this,b=a.switches.length-1;if(a.switches[b]){a.body.push('break;\n')}else {a.switches[b]++}a.body.push('default:\n')},doEnd:function(c,d){var a=this,b=a.level-1;if(c==='for'||c==='foreach'){if(d.exec){a.doExec(d.exec)}a.body.push('}\n');a.body.push('parent=p',b,';values=r',b+1,';xcount=n'+b+';xindex=i',b,'+1;xkey=k',b,';\n')}else if(c==='if'||c==='switch'){a.body.push('}\n')}},doFor:function(c,d){var b=this,f,a=b.level,e=a-1,g;if(c==='.'){f='values'}else if(b.propNameRe.test(c)){f=b.parseTag(c)}else {f=b.addFn(c)+b.callFn}if(b.maxLevel<a){b.maxLevel=a;b.body.push('var ')}if(c==='.'){g='c'+a}else {g='a'+e+'?c'+e+'[i'+e+']:c'+e}b.body.push('i',a,'=0,n',a,'=0,c',a,'=',f,',a',a,'=',b.createArrayTest(a),',r',a,'=values,p',a,',k',a,';\n','p',a,'=parent=',g,'\n','if (c',a,'){if(a',a,'){n',a,'=c',a,'.length;}else if (c',a,'.isMixedCollection){c',a,'=c',a,'.items;n',a,'=c',a,'.length;}else if(c',a,'.isStore){c',a,'=c',a,'.data.items;n',a,'=c',a,'.length;}else{c',a,'=[c',a,'];n',a,'=1;}}\n','for (xcount=n',a,';i',a,'<n'+a+';++i',a,'){\n','values=c',a,'[i',a,']');if(d.propName){b.body.push('.',d.propName)}b.body.push('\n','xindex=i',a,'+1\n');if(d.between){b.body.push('if(xindex>1){ out.push("',d.between,'"); } \n')}},doForEach:function(c,d){var b=this,a=b.level,e=a-1,f,g;if(c==='.'){f='values'}else if(b.propNameRe.test(c)){f=b.parseTag(c)}else {f=b.addFn(c)+b.callFn}if(b.maxLevel<a){b.maxLevel=a;b.body.push('var ')}if(c==='.'){g='c'+a}else {g='a'+e+'?c'+e+'[i'+e+']:c'+e}b.body.push('i',a,'=-1,n',a,'=0,c',a,'=',f,',a',a,'=',b.createArrayTest(a),',r',a,'=values,p',a,',k',a,';\n','p',a,'=parent=',g,'\n','for(k',a,' in c',a,'){\n','xindex=++i',a,'+1;\n','xkey=k',a,';\n','values=c',a,'[k',a,'];');if(d.propName){b.body.push('.',d.propName)}if(d.between){b.body.push('if(xindex>1){ out.push("',d.between,'"); } \n')}},createArrayTest:'isArray' in Array?function(a){return 'Array.isArray(c'+a+')'}:function(a){return 'ts.call(c'+a+')==="[object Array]"'},doExec:function(d,e){var a=this,c='f'+a.definitions.length,b=a.guards[a.strict?0:1];a.definitions.push('function '+c+'('+a.fnArgs+') {',b.doTry,' var $v = values; with($v) {','  '+d,' }',b.doCatch,'}');a.body.push(c+a.callFn+'\n')},guards:[{doTry:'',doCatch:''},{doTry:'try { ',doCatch:' } catch(e) {\n}'}],addFn:function(c){var a=this,b='f'+a.definitions.length,d=a.guards[a.strict?0:1];if(c==='.'){a.definitions.push('function '+b+'('+a.fnArgs+') {',' return values','}')}else if(c==='..'){a.definitions.push('function '+b+'('+a.fnArgs+') {',' return parent','}')}else {a.definitions.push('function '+b+'('+a.fnArgs+') {',d.doTry,' var $v = values; with($v) {','  return('+c+')',' }',d.doCatch,'}')}return b},parseTag:function(h){var e=this,f=e.tagRe.exec(h),a,c,d,g,b;if(!f){return null}a=f[1];c=f[2];d=f[3];g=f[4];if(a==='.'){if(!e.validTypes){e.definitions.push('var validTypes={string:1,number:1,boolean:1};');e.validTypes=!0}b='validTypes[typeof values] || ts.call(values) === "[object Date]" ? values : ""'}else if(a==='#'){b='xindex'}else if(a==='$'){b='xkey'}else if(a.substr(0,7)==='parent.'){b=a}else if(isNaN(a)&&a.indexOf('-')===-1&&a.indexOf('.')!==-1){b='values.'+a}else {b="values['"+a+"']"}if(g){b='('+b+g+')'}if(c&&e.useFormat){d=d?','+d:'';if(c.substr(0,5)!=='this.'){c='fm.'+c+'('}else {c+='('}}else {return b}return c+b+d+')'},evalTpl:function($){eval($);return $},newLineRe:/\r\n|\r|\n/g,aposRe:/[']/g,intRe:/^\s*(\d+)\s*$/,tagRe:/^([\w-\.#\$]+)(?::([\w\.]*)(?:\((.*?)?\))?)?(\s?[\+\-\*\/]\s?[\d\.\+\-\*\/\(\)]+)?$/},0,0,0,0,0,0,[Ext.util,'XTemplateCompiler'],function(){var a=this.prototype;a.fnArgs='out,values,parent,xindex,xcount,xkey';a.callFn='.call(this,'+a.fnArgs+')'});Ext.cmd.derive('Ext.XTemplate',Ext.Template,{isXTemplate:!0,emptyObj:{},fn:null,strict:!1,apply:function(c,b,e,d){var a=this.applyOut(c,[],b,e,d);return a.length===1?a[0]:a.join('')},applyOut:function(g,d,f,c,b){var a=this,e;if(!a.fn){e=new Ext.util.XTemplateCompiler({useFormat:a.disableFormats!==!0,definitions:a.definitions,strict:a.strict});a.fn=e.compile(a.html)}c=c||1;b=b||1;if(a.strict){a.fn(d,g,f||a.emptyObj,c,b)}else {try{a.fn(d,g,f||a.emptyObj,c,b)}catch(h){}}return d},compile:function(){return this},statics:{get:function(a,d,c){var b=a;if(a==null){if(d&&c){b=this.getTpl(d,c)}}else if((a||a==='')&&!a.isTemplate){b=new this(a)}return b},getTpl:function(c,d){var b=c[d],a;if(b){if(!b.isTemplate){b=Ext.XTemplate.get(b)}if(!b.owner){if(c.hasOwnProperty(d)){a=c}else {for(a=c.self.prototype;a&&!a.hasOwnProperty(d);a=a.superclass){}}a[d]=b;b.owner=a}}return b||null}}},0,0,0,0,0,0,[Ext,'XTemplate'],0);Ext.cmd.derive('Ext.util.translatable.Dom',Ext.util.translatable.Abstract,{config:{element:null},applyElement:function(a){if(!a){return}return Ext.get(a)},updateElement:function(){this.refresh()},translateXY:function(b,c){var a=this.getElement();if(a&&!a.destroyed){Ext.util.translatable.Abstract.prototype.translateXY.call(this,b,c)}}},0,0,0,0,['translatable.dom'],0,[Ext.util.translatable,'Dom'],0);Ext.cmd.derive('Ext.util.translatable.CssPosition',Ext.util.translatable.Dom,{doTranslate:function(b,c){var a=this.getElement().dom.style;if(typeof b==='number'){a.left=b+'px'}if(typeof c==='number'){a.top=c+'px'}},syncPosition:function(){var a=this.getElement().dom.style;return [this.x=parseFloat(a.left),this.y=parseFloat(a.top)]},destroy:function(){var a=this.getElement().dom.style;a.left=null;a.top=null;Ext.util.translatable.Dom.prototype.destroy.call(this)}},0,0,0,0,['translatable.cssposition'],0,[Ext.util.translatable,'CssPosition'],0);Ext.cmd.derive('Ext.util.translatable.CssTransform',Ext.util.translatable.Dom,{isCssTransform:!0,posRegex:/(\d+)px[^\d]*(\d+)px/,doTranslate:function(a,b){this.getElement().translate(a,b)},syncPosition:function(){var a=this.posRegex.exec(this.getElement().dom.style.tranform);if(a){this.x=parseFloat(a[1]);this.y=parseFloat(a[2])}return [this.x,this.y]},destroy:function(){var a=this.getElement();if(a&&!a.destroyed){a.dom.style.webkitTransform=null}Ext.util.translatable.Dom.prototype.destroy.call(this)}},0,0,0,0,['translatable.csstransform'],0,[Ext.util.translatable,'CssTransform'],0);Ext.cmd.derive('Ext.scroll.Scroller',Ext.Evented,{isScroller:!0,factoryConfig:{defaultType:'native'},bufferableMethods:{onScrollEnd:100},config:{direction:undefined,element:null,size:null,x:!0,y:!0,touchAction:null,translatable:'scrollposition'},constructor:function(b){var a=this;a.position={x:0,y:0};a.configuredSize={x:!1,y:!1};Ext.Evented.prototype.constructor.call(this,b)},destroy:function(){var a=this;a.destroying=!0;a.destroy=Ext.emptyFn;a.doDestroy();Ext.Evented.prototype.destroy.call(this)},doDestroy:function(){var a=this,b,c;a.component=null;b=a._partners;if(b){for(c in b){a.removePartner(b[c].scroller)}}a._partners=null;a.setElement(null);a.setTranslatable(null)},addPartner:function(b,c){var a=this,e=a._partners||(a._partners={}),d=b._partners||(b._partners={});c=a.axisConfigs[c||'both'];e[b.getId()]={scroller:b,axes:c,called:!1,calledPrimary:!1};d[a.getId()]={scroller:a,axes:c,called:!1,calledPrimary:!1}},convertX:function(a){return a},ensureVisible:function(a,b){var c=this,g=c.getPosition(),e,d,f;if(a){if(a&&a.element&&!a.isElement){b=a;a=b.element}b=b||{};e=b.highlight;d=c.getEnsureVisibleXY(a,b);if(d.y!==g.y||d.x!==g.x){if(e){c.on({scrollend:'doHighlight',scope:c,single:!0,args:[a,e]})}f=c.doScrollTo(d.x,d.y,b.animation)}else {if(e){c.doHighlight(a,e)}f=Ext.Deferred.getCachedResolved()}}else {f=Ext.Deferred.getCachedRejected()}return f},getPosition:function(){return this.position},isInView:function(c,h){var f=this,g=f.component,d={x:!1,y:!1},e=f.getElement(),b,a;if(c&&(h===!1||e.contains(c)||g&&g.owns(c))){a=e.getRegion();b=Ext.fly(c).getRegion();d.x=b.right>a.left&&b.left<a.right;d.y=b.bottom>a.top&&b.top<a.bottom}return d},refresh:function(){this.fireEvent('refresh',this);return this},removePartner:function(c){var b=this._partners,a=c._partners;if(b){delete b[c.getId()]}if(a){delete a[this.getId()]}},scrollBy:function(a,b,c){var d=this.getPosition();if(a){if(a.length){c=b;b=a[1];a=a[0]}else if(typeof a!=='number'){c=b;b=a.y;a=a.x}}a=typeof a==='number'?a+d.x:null;b=typeof b==='number'?b+d.y:null;return this.doScrollTo(a,b,c)},scrollIntoView:function(d,c,b,a){return this.ensureVisible(d,{animation:b,highlight:a,x:c})},scrollTo:function(a,b,d){var e=this,c;if(a){if(Ext.isArray(a)){d=b;b=a[1];a=a[0]}else if(typeof a!=='number'){d=b;b=a.y;a=a.x}}if(a<0||b<0){c=e.getMaxPosition();if(a<0){a+=c.x}if(b<0){b+=c.y}}return e.doScrollTo(a,b,d)},applyElement:function(a){if(a){if(!a.isElement){a=Ext.get(a)}}return a},updateElement:function(c,b){var e=this,d=e.scrollerCls,a;if(b&&!b.destroyed){b.removeCls(d)}if(c){if(!this.isConfiguring){a=this.getTouchAction();if(a){c.setTouchAction(a)}}c.addCls(d)}},updateDirection:function(a){var d=this,b,c;if(!a){b=d.getX();c=d.getY();if(b&&c){a=c==='scroll'&&b==='scroll'?'both':'auto'}else if(c){a='vertical'}else if(b){a='horizontal'}d._direction=a}else {if(a==='auto'){b=!0;c=!0}else if(a==='vertical'){b=!1;c=!0}else if(a==='horizontal'){b=!0;c=!1}else if(a==='both'){b='scroll';c='scroll'}d.setX(b);d.setY(c)}},applySize:function(d,a){var f='number',e=this.configuredSize,b,c;if(d==null||typeof d===f){b=c=d}else if(d){b=d.x;c=d.y}if(typeof b===f){e.x=!0}else if(b===null){e.x=!1}if(typeof c===f){e.y=!0}else if(c===null){e.y=!1}if(b===undefined){b=a?a.x:null}if(c===undefined){c=a?a.y:null}return a&&b===a.x&&c===a.y?a:{x:b,y:c}},updateTouchAction:function(b){var a=this.getElement();if(a){a.setTouchAction(b)}},statics:{create:function(a,b){return Ext.Factory.scroller(a,b)},getScrollingElement:function(){return Ext.get(document.scrollingElement||document.documentElement)}},privates:{scrollerCls:'x-scroller',axisConfigs:{x:{x:1,y:0},y:{x:0,y:1},both:{x:1,y:1}},callPartners:function(k,i,j){var l=this,f=l._partners,g,h,b,c,a,d,e;if(!l.suspendSync){for(h in f){b=f[h];a=b.scroller;if(!a.isPrimary&&!b.called){b.called=!0;g=f[h].axes;c=a.position;d=!g.x||i===undefined?c.x:i;e=!g.y||j===undefined?c.y:j;a[k](d,e,d-c.x||0,e-c.y||0);a.callPartners(k,d,e);b.called=!1}}}},contains:function(b){var c=this.getElement(),a=b;while(a&&a!==Ext.Viewport){if(c.contains(a.el)){return !0}a=a.getRefOwner()}return !1},fireScrollStart:function(b,c,e,f){var a=this,d=a.component;a.startX=b-e;a.startY=c-f;if(a.hasListeners.scrollstart){a.fireEvent('scrollstart',a,b,c)}if(d&&d.onScrollStart){d.onScrollStart(b,c)}Ext.GlobalEvents.fireEvent('scrollstart',a,b,c)},fireScroll:function(e,f,c,d){var a=this,b=a.component;if(a.hasListeners.scroll){a.fireEvent('scroll',a,e,f,c,d)}if(b&&b.onScrollMove){b.onScrollMove(e,f,c,d)}Ext.fireEvent('scroll',a,e,f,c,d)},fireScrollEnd:function(b,c){var a=this,d=a.component,e=b-a.startX,f=c-a.startY;if(a.hasListeners.scrollend){a.fireEvent('scrollend',a,b,c,e,f)}if(d&&d.onScrollEnd){d.onScrollEnd(b,c,e,f)}Ext.fireEvent('scrollend',a,b,c,e,f)},getEnsureVisibleXY:function(d,b){var e=this.getPosition(),f=this.component?this.component.getScrollableClientRegion():this.getElement(),c,a;if(d&&d.element&&!d.isElement){b=d;d=b.element}b=b||{};a=b.align;if(a){if(Ext.isString(a)){a={x:b.x===!1?null:a,y:b.y===!1?null:a}}else if(Ext.isObject(a)){if(a.x&&b.x===!1){a.x=null}if(a.y&&b.y===!1){a.y=null}}}c=Ext.fly(d).getScrollIntoViewXY(f,e.x,e.y,a);c.x=b.x===!1?e.x:c.x;c.y=b.y===!1?e.y:c.y;return c},onPartnerScroll:function(a,b){this.doScrollTo(a,b)},onPartnerScrollStart:function(c,d,a,b){this.isScrolling=!0;if(a||b){this.doScrollTo(c,d)}},onPartnerScrollEnd:function(){this.isScrolling=!1},restoreState:Ext.privateFn,resumePartnerSync:function(e){var a=this,d,b,c;if(a.suspendSync){a.suspendSync--}if(!a.suspendSync&&e){d=a.position;b=d.x;c=d.y;a.callPartners('onPartnerScrollStart',undefined,undefined);a.callPartners('fireScrollStart',undefined,undefined);a.callPartners('onPartnerScroll',b,c);a.callPartners('fireScroll',b,c);a.callPartners('onPartnerScrollEnd');a.callPartners('fireScrollEnd',b,c)}},setPrimary:function(c){var a=this,d=a._partners,b,e,f;if(c){for(f in d){b=d[f];e=b.scroller;if(!b.calledPrimary){b.calledPrimary=!0;e.setPrimary(!1);b.calledPrimary=!1}}a.isScrolling=Ext.isScrolling=!0}else if(a.isScrolling){a.cancelOnScrollEnd();a.doOnScrollEnd()}a.isPrimary=c},suspendPartnerSync:function(){this.suspendSync=(this.suspendSync||0)+1},syncWithPartners:function(){var c=this,g=c._partners,d=c.position,m,l,j,k,e,f,a,b,h,i;for(m in g){l=g[m].axes;j=l.x;k=l.y;e=g[m].scroller;f=e.position;e.setPrimary(!0);a=j?d.x:null;b=k?d.y:null;h=i=0;c.onPartnerScrollStart(a,b,0,0);c.fireScrollStart(a,b,0,0);a=j?f.x:null;b=k?f.y:null;h=a===null?0:a-d.x;i=b===null?0:b-d.y;c.onPartnerScroll(a,b);c.fireScroll(a,b,h,i);c.onPartnerScrollEnd();c.fireScrollEnd(a,b);e.setPrimary(null)}},applyTranslatable:function(b,a){return Ext.Factory.translatable.update(a,b,this,'createTranslatable')}},deprecated:{5:{methods:{getScroller:function(){return this}}},'5.1.0':{methods:{scrollToTop:function(a){return this.scrollTo(0,0,a)},scrollToEnd:function(a){return this.scrollTo(Infinity,Infinity,a)}}}}},1,0,0,0,['scroller.scroller'],[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable],[Ext.mixin.Bufferable.prototype.mixinId||Ext.mixin.Bufferable.$className,Ext.mixin.Bufferable]],[Ext.scroll,'Scroller'],0);Ext.cmd.derive('Ext.Component',Ext.Widget,{alternateClassName:['Ext.lib.Component','Ext.Gadget'],cachedConfig:{padding:null,tabIndex:null},eventedConfig:{left:null,top:null,right:null,bottom:null,minWidth:null,minHeight:null,maxWidth:null,maxHeight:null,scrollable:null,docked:null,centered:{lazy:!0,$value:null}},config:{displayed:null,html:null,draggable:null,zIndex:null,tpl:null,enterAnimation:null,exitAnimation:null,showAnimation:null,hideAnimation:null,tplWriteMode:'overwrite',data:null,contentEl:null,record:null,tooltip:null,axisLock:null,modal:{lazy:!0,$value:null},hideOnMaskTap:null,weight:null,userSelectable:null},modelValidation:null,defaultBindProperty:'html',isComponent:!0,positioned:!1,rendered:!1,activeAnimation:null,dockPositions:{top:!0,right:!0,bottom:!0,left:!0},bodyElement:null,classCls:'x-component',floatingCls:'x-floating',hiddenCls:'x-hidden',_scrollableCfg:{x:{x:!0,y:!1},y:{x:!1,y:!0},horizontal:{x:!0,y:!1},vertical:{x:!1,y:!0},both:{x:!0,y:!0},'true':{x:!0,y:!0},'false':{x:!1,y:!1}},statics:{from:function(c,b,a){return Ext.ComponentManager.from(c,b,a)},fromElement:function(c,b,a){return Ext.ComponentManager.from(c,b,a)}},initialConfig:null,$initParent:null,userSelectableClsMap:{'true':'x-user-selectable-auto','false':'x-user-selectable-none',all:'x-user-selectable-all',auto:'x-user-selectable-auto',text:'x-user-selectable-text',none:'x-user-selectable-none'},constructor:function(b){var a=this,g=Ext['Viewport'],f=b&&b.renderTo,d,e,c;a.lastSize={};a.onInitializedListeners=[];if(b){a.initialConfig=b;a.$initParent=b.$initParent}if(f){b=Ext.apply({},b);delete b.renderTo}Ext.Widget.prototype.constructor.call(this,b);c=a.el;if(!a.getRefOwner()){c.addCls(a.rootCls)}a.refreshPositioned=a.doRefreshPositioned;if(a.refreshPositionedOnInitialized){a.refreshPositioned()}a.initialize();a.triggerInitialized();if(a.isCentered()){a.center()}d=a.hasListeners;e=d.resize;if(a.hasListeners.painted){c.on('painted','handleElementPainted',a)}if((e||a.onResize)&&!a.isViewport){if(!e){d._incr_('resize')}c.on({scope:a,resize:'handleElementResize',priority:1000})}if(a.fullscreen&&g){g.setItemFullScreen(a)}a.fireEvent('initialize',a);if(f){a.setRenderTo(f)}},beforeInitConfig:function(a){this.beforeInitialize.apply(this,arguments)},beforeInitialize:Ext.emptyFn,initialize:Ext.emptyFn,center:function(){var a=this,b=a.getParent(),d,f,c,e;if((!b||b.rendered)&&a.shouldRecenter()){f=!!b;b=b?b.bodyElement:Ext.getBody();d=b.getConstrainRegion();e=a.measure();c=[(d.getWidth()-e.width)/2,(d.getHeight()-e.height)/2];a.needsCenter=!1;a._centering=!0;if(a.getFloated()){if(f){c=b.reverseTranslateXY(c)}a.setXY(c)}else {a.setLeft(c[0]);a.setTop(c[1])}a._centering=!1}else {a.needsCenter=!0}return a},shouldRecenter:function(){return this.rendered&&!this.$isShowing&&(this.el.isVisible()||this.el.getVisibilityMode()!==Ext.Element.DISPLAY)},getModalSibling:function(){var d=this,g=Ext.getFloatRoot().dom,b,f,c,a,e;for(b=d.floatParentNode&&d.floatParentNode.dom;b;b=b===g||f.getRelative()?null:b.parentNode){f=Ext.fly(b).getData().component;c=b.childNodes;for(e=c?c.length:0;e-->0;){a=Ext.fly(c[e]);if(a.hasCls(d.floatWrapCls)){a=a.getData().component;if(a&&a!==d&&a.isVisible()&&a.getModal()){return a}}}}return null},triggerInitialized:function(){var e=this.onInitializedListeners,g=e.length,a,c,b,f,d;if(!this.initialized){this.initialized=!0;if(g>0){for(d=0;d<g;d++){a=e[d];c=a.fn;b=a.scope;f=a.args;if(typeof c==='string'){b[c].apply(b,f)}else {c.apply(b,f)}}e.length=0}}},onInitialized:function(d,b,a){var c=this,e=c.onInitializedListeners;if(!b){b=c}if(a){a=a.slice();a.unshift(c)}else {a=[c]}if(c.initialized){if(typeof d==='string'){b[d].apply(b,a)}else {d.apply(b,a)}}else {e.push({fn:d,scope:b,args:a})}},initElement:function(){var a=this;Ext.Widget.prototype.initElement.call(this);if(!a.bodyElement){a.bodyElement=a.element}a.innerElement=a.innerElement||a.bodyElement},initInheritedState:function(a){var b=this;if(b.modelValidation!==null){a.modelValidation=b.modelValidation}Ext.Widget.prototype.initInheritedState.call(this,a)},applyScrollable:function(a,b){var c=this;if(typeof a==='boolean'||typeof a==='string'){a=c._scrollableCfg[a]}return Ext.Factory.scroller.update(b,a,this,'createScrollable')},applyHidden:function(a){if(!a&&this.isConfiguring&&this.getFloated()){this.preprocessShow()}return !!a},createScrollable:function(a){return Ext.apply({component:this,element:this.getScrollerTarget()},a)},getScrollerTarget:function(){return this.bodyElement},getScrollableClientRegion:function(){var d=this,c=d.getScrollerTarget().getClientRegion(),b=d.getScrollable(),a;if(b&&b.isVirtualScroller){a=b.getScrollbarSize();c.adjust(0,-a.width,-a.height,0)}return c},updatePadding:function(a){this.bodyElement.setPadding(a)},updateWeight:function(c,d){var a=this,b=!a.isConfiguring&&a.getRefOwner();a.weight=c;if(b&&b.onItemWeightChange){b.onItemWeightChange(a,c,d)}},applyContentEl:function(a){if(a){return Ext.get(a)}},updateContentEl:function(a,b){if(b){b.hide();Ext.getBody().append(b)}if(a){this.setHtml(a.dom);a.show()}},createTranslatable:function(a){var c=this,b=(arguments.callee.$previous||Ext.Widget.prototype.createTranslatable).call(this,a);if(a&&!a.type&&c.getFloated()){b.type='csstransform'}return b},isCentered:function(){return Boolean(this.getCentered())},isPositioned:function(){return this.positioned},isDocked:function(){return Boolean(this.getDocked())},applyTop:function(a){return this.filterLengthValue(a)},applyRight:function(a){return this.filterLengthValue(a)},applyBottom:function(a){return this.filterLengthValue(a)},applyLeft:function(a){return this.filterLengthValue(a)},applyMinWidth:function(a){return this.filterLengthValue(a)},applyMinHeight:function(a){return this.filterLengthValue(a)},applyMaxWidth:function(a){return this.filterLengthValue(a)},applyMaxHeight:function(a){return this.filterLengthValue(a)},updateTop:function(a){if(!this.$updatingXY){this.element.setTop(a)}this.refreshPositioned()},updateRight:function(a){if(!this.$updatingXY){this.element.setRight(a)}this.refreshPositioned()},updateBottom:function(a){if(!this.$updatingXY){this.element.setBottom(a)}this.refreshPositioned()},updateLeft:function(a){if(!this.$updatingXY){this.element.setLeft(a)}this.refreshPositioned()},onResize:null,updateMinWidth:function(a){this.element.setMinWidth(a)},updateMinHeight:function(a){this.element.setMinHeight(a)},updateMaxWidth:function(a){this.element.setMaxWidth(a)},updateMaxHeight:function(a){this.element.setMaxHeight(a)},applyCentered:function(b){var a=this,c=a.getLeft()===null&&a.getRight()===null&&a.getTop()===null&&a.getBottom()===null;if(c){return !!b}},updateCentered:function(c){var a=this,b;if(a.getFloated()){if(c){a.center();if(!a.centerResizeListener&&!a.needsCenter){b=a.floatParentNode;b=b===Ext.floatRoot?Ext:b;a.centerResizeListener=b.on({resize:'center',scope:a,destroyable:!0})}}else {a.centerResizeListener=Ext.destroy(a.centerResizeListener)}}else {a.el.toggleCls(a.floatingCls,c);if(c){a.refreshInnerState=Ext.emptyFn;if(a.isContainer&&(!a.isWidthed()||!a.isHeighted())){a.setAutoSize(!0)}if(a.isPositioned()){a.resetPositioned()}if(a.isDocked()){a.setDocked(!1)}a.setIsInner(!1);delete a.refreshInnerState}else {a.refreshInnerState()}}},applyDocked:function(b){var a=this;if(!b){return null}a.refreshInnerState=Ext.emptyFn;if(a.isPositioned()){a.resetPositioned()}if(a.isCentered()){a.setCentered(!1)}a.setIsInner(!1);delete a.refreshInnerState;return b},getDisplayed:function(){return !this.getHidden()},setDisplayed:function(a){var b=this,c=b.getHidden()!==!1;if(a===c){b._displayed=a;b.updateDisplayed(a,!a)}return b},updateDisplayed:function(a){this[a?'show':'hide']()},updateDocked:function(b,c){var a=this;if(!a.isConfiguring){a.fireEvent('afterdockedchange',a,b,c);if(!b){a.refreshInnerState()}}},updateUserSelectable:function(b,c){var f=this,e=f.userSelectableClsMap,g=f.el,a,d;if(typeof c==='boolean'||typeof c==='string'){g.removeCls(e[c])}else {for(a in c){d=f[a];d.removeCls(e[c[a]])}}if(typeof b==='boolean'||typeof b==='string'){g.addCls(e[b])}else {for(a in b){d=f[a];d.addCls(e[b[a]])}}},resetPositioned:function(){var a=this;a.setTop(null);a.setRight(null);a.setBottom(null);a.setLeft(null)},refreshPositioned:function(){this.refreshPositionedOnInitialized=!0},doRefreshPositioned:function(){var a=this,b=!a.getConfig('floated',!1,!0)&&(a.getTop()!==null||a.getBottom()!==null||a.getRight()!==null||a.getLeft()!==null);if(b!==this.positioned){a.positioned=b;if(b){a.refreshInnerState=Ext.emptyFn;if(a.isContainer&&(!a.isWidthed()||!a.isHeighted())){a.setAutoSize(!0)}if(a.isCentered()){a.setCentered(!1)}if(a.isDocked()){a.setDocked(!1)}a.setIsInner(!1);delete a.refreshInnerState}a.element.toggleCls(a.floatingCls,b);if(a.initialized){a.fireEvent('floatingchange',a,b);a.fireEvent('positionedchange',a,b)}if(!b){a.refreshInnerState()}}},applyZIndex:function(a){if(!a&&a!==0){a=null}if(a!==null){a=Number(a);if(isNaN(a)){a=null}}return a},updateZIndex:function(c){var b=this.element,d=!this.getFloated()&&this.getModal(),a;if(b&&!b.destroyed){a=b.dom.style;if(c!==null){a.setProperty('z-index',c,'important')}else {a.removeProperty('z-index')}}if(d&&!d.destroyed){d.setZIndex(c-1)}},getInnerHtmlElement:function(){var b=this,a=b.innerHtmlElement;if(!a||!a.dom||!a.dom.parentNode){b.innerHtmlElement=a=Ext.Element.create({cls:'x-innerhtml'});b.getRenderTarget().appendChild(a)}return a},updateHtml:function(b){var a;if(!this.destroyed){a=this.getInnerHtmlElement();if(Ext.isElement(b)){a.setHtml('');a.append(b)}else {a.setHtml(b)}}},updateHidden:function(b,f){var a=this,d=a.renderElement,c=a.getModal(),e;if(a.rendered){if(c&&!c.destroyed){if(a.getFloated()){if(b){c=a.getModalSibling();if(c){c.showModalMask()}else {a.hideModalMask()}}else {a.showModalMask()}}else {if(c!==!0){c.setZIndex(a.getZIndex()-1);if(c.getHidden()!==b){c.setHidden(b)}}}}if(!a.destroying&&d&&!d.destroyed){d.toggleCls(a.hiddenCls,b)}Ext.Widget.prototype.updateHidden.call(this,b,f)}else {d.toggleCls(a.hiddenCls,b);Ext.Widget.prototype.updateHidden.call(this,b,f)}if(!a.isConfiguring&&!a.destroying){e=b?'hide':'show';if(a.hasListeners[e]){a.fireEvent(e,a)}a[b?'afterHide':'afterShow'](a)}},hide:function(b){var a=this,d=a.activeAnimation,c;if(a.isVisible()){if(a.hasListeners.beforehide&&a.fireEvent('beforehide',a)===!1){return}if(a.beforeHide()===!1){return}a.viewportResizeListener=Ext.destroy(a.viewportResizeListener);a.setCurrentAlignmentInfo(null);if(d){d.on({animationend:function(){a.hide(b)},single:!0});return a}if(!a.getHidden()){if(b===undefined||b&&!Ext.isObject(b)){b=a.getHideAnimation()}if(b){a.on({beforehiddenchange:'onBeforeHiddenChange',scope:a,single:!0,args:[b]})}a.setHidden(!0)}if(!a.getFloated()){c=a.getModal();if(c&&c!==!0&&!c.destroyed){c.setHidden(!0)}}}else {a.setHidden(!0)}return a},preprocessShow:function(c,e,f){var a=this,d=a.getHideMode(),b;if(a.isContainer){a.getItems()}a.getHtml();if(a.getFloated()){b=(!d||d==='display')&&a.getHidden();if(a.rendered){if(b){a.setVisibility(!0);a._hidden=!1}}else {b=b!==!1;a.findFloatParent(b)}if(c){a.notifyIf();a.alignTo(c,e,f)}else {if(a.isCentered()){a.notifyIf();a.updateCentered(!0)}else {a.syncXYPosition()}}if(a.getModal()){a.showModalMask()}if(a.getToFrontOnShow()){a.toFront()}else {a.syncAlwaysOnTop()}if(b){a.setVisibility(!1);a._hidden=!0}}},showBy:function(d,c,b){var a=this,e;if(Ext.isArray(b)){e=b;b={offset:e}}if(a.isVisible()){a.alignTo(d,c,b)}else {if(!a.getFloated()){if(!a.getParent()){a.setFloated(!0)}else {a.positioned=!0}}a.alignToArgs=[d,c,b];a.show({animation:!0,alignment:{component:d,alignment:c,options:b}})}},show:function(b,c){var a=this,f=a.getHidden(),g=a.getFloated(),d,e;if(b&&typeof b==='object'&&'animation' in b){c=b;b=c.animation}else {c=Ext.apply({animation:b},c)}if(a.hasListeners.beforeshow&&a.fireEvent('beforeshow',a,c)===!1){return !1}if(a.beforeShow(c)===!1){return}d=c.alignment||{};a.preprocessShow(d.component,d.alignment,d.options);if(a.activeAnimation){if(!a.$isShowing){a.activeAnimation.on({animationend:function(){if(!a.destroying&&!a.destroyed){a.show(b,c)}},single:!0})}return a}if(f||f===null){if(b===undefined||b&&!Ext.isObject(b)){b=a.getShowAnimation()}if(b&&!a.isConfiguring){a.on({beforehiddenchange:'onBeforeHiddenChange',scope:a,single:!0,args:[b]})}a.setHidden(!1)}if(!g){e=a.getModal();if(e&&e.setHidden){e.setHidden(!1)}}return a},onAnimationStart:function(f,g,d){var a=this,e=a.element,b=d.from.transform,c=d.to.transform;if(!f){a.renderElement.show();e.removeCls(a.hiddenCls);if(a.needsCenter){a.center()}}a.$isShowing=!0;if(a.getFloated()&&b&&c&&!(b.translateX|c.translateX|b.translateY|c.translateY)){b.translateX=c.translateX=null;b.translateY=c.translateY=null}},onBeforeHiddenChange:function(b,e,c,f,d){var a=this;if(b&&(!c||c&&a.isPainted())){if(!b.isAnimation){b=c?a.createHideAnimation(b):a.createShowAnimation(b);b=Ext.Factory.animation(b)}a.activeAnimation=b;b.on({animationstart:'onAnimationStart',scope:a,single:!0,args:[c]});if(!Ext.isEmpty(c)){b.setOnEnd(function(){a.activeAnimation=null;a.$isShowing=!1;if(!a.destroyed){d.resume();if(a.destroying||a.destroyed){return}if(a.getFloated()){a.syncXYPosition()}}});if(!c){a._hidden=!1}d.pause()}Ext.Animator.run(b)}},setVisibility:function(a){this.renderElement.setVisible(a)},isRendered:function(){return this.rendered},isPainted:function(){return this.renderElement.isPainted()},applyTpl:function(a){return Ext.XTemplate.get(a)},updateTpl:function(a){if(!this.isConfiguring){if(a){this.doUpdateTpl()}else {this.getInnerHtmlElement().setHtml('')}}},applyData:function(a){if(Ext.isObject(a)){return Ext.apply({},a)}else if(!a){a={}}return a},updateData:function(b){var a=this;if(b){a.doUpdateTpl(b);if(!a.isConfiguring){a.fireEvent('updatedata',a,b)}}},applyRecord:function(a){if(a&&Ext.isObject(a)&&a.isModel){return a}return null},updateRecord:function(b,c){var a=this;if(c){c.unjoin(a)}if(!b){a.updateData('')}else {b.join(a);a.doUpdateTpl(b.getData(!0))}},afterEdit:function(){this.updateRecord(this.getRecord())},afterErase:function(){this.setRecord(null)},getXTypes:function(){return this.xtypesChain.join('/')},applyDraggable:function(a,b){if(b){if(a){b.setConfig(a)}else {b.destroy()}}else if(a){a=this.createDraggable(a);a=new Ext.drag.Source(a);if(this.initDragConstraints){a.on('initdragconstraints','initDragConstraints',this)}}return a},createDraggable:function(a){var c=this,b=a.listeners;a=Ext.apply({autoDestroy:!1,component:c,ownerCmp:c,local:!0},a);if(b&&b.scope==='this'){a.listeners=b=Ext.apply({},b);b.scope=c}return a},updateDraggable:function(b,a){if(a){if(b){a.setConfig(b)}else {a.destroy()}}},onModalMaskTap:function(a){if(this.getHideOnMaskTap()){this.hide()}},translateAxis:function(e,a,d){var b,c;if(e==='x'){b=a}else {c=a}return this.translate(b,c,d)},alignTo:function(c,b,d){var a=this;if(!a.viewportResizeListener){a.viewportResizeListener=Ext.on({resize:'onViewportResize',scope:a,destroyable:!0})}a.aligning=!0;(arguments.callee.$previous||Ext.Widget.prototype.alignTo).call(this,c,b,Ext.apply({axisLock:a.getAxisLock()},d));a.aligning=!1},onViewportResize:function(){if(this.isVisible()){this.realign()}},showAt:function(b,c){var a=this;if(a.getFloated()||a.isPositioned()){if(arguments.length===1){if(b.x){c=b.y;b=b.x}else {c=b[1];b=b[0]}}a.show();if(a.isPositioned()){a.setLeft(b);a.setTop(c)}else {a.setX(b);a.setY(c)}}return a},onAdded:function(c,d){var a=this,b;(arguments.callee.$previous||Ext.Widget.prototype.onAdded).call(this,c,d);if(!a.getFloated()){b=a.getModal();if(b){c.insertBefore(b,a);b.setZIndex(a.getZIndex()-1)}}a.el.removeCls(a.rootCls)},onRemoved:function(a){if(!a){this.el.addCls(this.rootCls)}(arguments.callee.$previous||Ext.Widget.prototype.onRemoved).call(this,a)},applyTooltip:function(a){if(a){if(a.isInstance){a.setTarget(this);return a}else if(typeof a==='string'){a={html:a}}else {a=Ext.merge({},a)}if(a.autoCreate||a.autoHide===!1){delete a.autoCreate;a.target=this;a.xtype=a.xtype||'tooltip';a=Ext.create(a)}else {delete a.xtype}}return a},updateTooltip:function(c,b){var g=this.el,e,a,d,f;if(b){if(b.isInstance){Ext.destroy(b)}else {d=Ext.fly(b.target);e=d&&d.peekData();if(e){delete e.qtip}}}if(c&&!c.isInstance){g.getData().qtip=c;a=Ext['tip'];a=a&&a.Manager;a=a&&a.instance;if(a){f=a.tip;if(f.currentTarget.dom===g.dom){a.onBeforeShow(f)}}}},applyModal:function(b,a){var c;if(this.getFloated()){return !!b}c=this.isVisible();if(b===!1){b=!0;c=!1}a=Ext.factory(b,Ext['Mask'],typeof a==='boolean'?null:a);if(a){a.setVisibility(c);a.on('tap','onModalMaskTap',this)}return a},updateModal:function(b){var a=this,d=a.getParent(),e=(a.floatWrap||a.element).dom,c;if(a.getFloated()){if(b){if(a.isVisible()&&!e.nextSibling){a.showModalMask()}}else {c=a.getModalSibling();if(c){c.showModalMask()}else {a.hideModalMask()}}}else {if(d){if(b){d.insertBefore(b,a);b.setZIndex(a.getZIndex()-1)}else {d.remove(b)}}}},applyHideAnimation:function(b,a){return Ext.Factory.animation.update(a,b,this,'createHideAnimation')},createHideAnimation:function(a){return Ext.apply({type:'fadeOut',element:this.element},a)},applyShowAnimation:function(b,a){return Ext.Factory.animation.update(a,b,this,'createShowAnimation')},createShowAnimation:function(a){return Ext.apply({type:'fadeIn',element:this.element},a)},doDestroy:function(){var a=this,b;if(a.isVisible()){a.revertFocus();if(a.getModal()&&a.getFloated()){b=a.getModalSibling();if(b){b.showModalMask()}else {a.hideModalMask()}}}if(a.hasListeners.destroy){a.fireEvent('destroy',a)}a.destroyMembers('modal','innerHtmlElement','scrollerElement','scrollable','showAnimation','hideAnimation','centerResizeListener','visibleListener');a.setPlugins(null);a.setRecord(null);a.setTooltip(null);Ext.Widget.prototype.doDestroy.call(this)},privates:{preciseWidth:!1,clearWhenVisible:function(c){var a=this,b=a.pendingVisible;if(b){delete b[c];if(Ext.Object.isEmpty(b)){a.pendingVisible=null;a.visibleListener=Ext.destroy(a.visibleListener)}}},convertToLocalXY:function(e){var a=this,d=a.element.getXY(),b=0,c=0;if(a.isPositioned()){b=a.getLeft()||0;c=a.getTop()||0}else {b=a.getX()||0;c=a.getY()||0}return [e[0]-d[0]+b,e[1]-d[1]+c]},doAddListener:function(b,i,h,e,g,f,d){var a=this,c=a.element;if(a.initialized){if(b==='painted'){if(!a.hasListeners.painted){c.on('painted','handleElementPainted',a)}}else if(b==='resize'&&!a.isViewport){if(!a.hasListeners.resize){c.on({scope:a,resize:'handleElementResize',priority:1000})}}}return Ext.Widget.prototype.doAddListener.call(this,b,i,h,e,g,f,d)},doRemoveListener:function(b,f,e){var a=this,d=a.element,c=Ext.Widget.prototype.doRemoveListener.call(this,b,f,e);if(c&&a.initialized){if(b==='painted'){if(!a.hasListeners.painted){d.un('painted','handleElementPainted',a)}}else if(b==='resize'&&!a.isViewport){if(!a.hasListeners.resize){d.un('resize','handleElementResize',a)}}}return c},doUpdateTpl:function(b){var a=this,d=a.getTpl(),c;if(d){c=a.getTplWriteMode();b=b||a.getData()||{};d[c](a.getInnerHtmlElement(),b)}},getRenderTarget:function(){var a=this.getScrollable();return a&&a.isVirtualScroller?a.getInnerElement():this.bodyElement},handleElementPainted:function(a){this.fireEvent('painted',this,a)},handleElementResize:function(i,d){var a=this,h=Math.ceil,e=a.lastSize,g=e.width||null,f=e.height||null,c,b;if(d.flag){c=d.width;b=d.height;if(c===0&&b===0){return}if(!a.preciseWidth){c=h(c);b=h(b)}e.width=c;e.height=b;if(a.onResize){a.onResize(c,b,g,f,d)}if(a.isCentered()){a.center()}a.fireEvent('resize',this,c,b,g,f,d)}},handleGlobalShow:function(a){this.maybeRunWhenVisible(a)},handleGlobalExpand:function(a){this.maybeRunWhenVisible(a)},maybeRunWhenVisible:function(b){var a=this;if((b===a||a.isDescendantOf(b))&&a.canLayoutChildren()){a.runWhenVisible()}},canLayoutChildren:function(){var a=this;while(a){if(!a.isVisible()||a.hasHiddenContent()){return !1}a=a.getRefOwner()}return !0},runWhenVisible:function(){var a=this,c=a.pendingVisible,b;a.pendingVisible=null;a.visibleListener=Ext.destroy(a.visibleListener);for(b in c){a[b].apply(a,c[b])}},whenVisible:function(e,c){var a=this,f=a.visibleListener,b=a.pendingVisible,d=a.canLayoutChildren();c=c||Ext.emptyArray;if(!d&&!f){a.visibleListener=Ext.on({scope:a,show:'handleGlobalShow',expand:'handleGlobalExpand',destroyable:!0})}if(d){if(b){b[e]=c;a.runWhenVisible()}else {a[e].apply(a,c)}}else {if(!b){a.pendingVisible=b={}}b[e]=c}return d},setXY:function(b,c,d){var a=this,e=a.getFloated();if(typeof b!=='number'){d=c;c=b[1];b=b[0]}a.$updatingXY=!0;if(e){if(b!=null){a.setX(b)}if(c!=null){a.setY(c)}}else {if(b!=null){a.setLeft(b)}if(c!=null){a.setTop(c)}}a.$updatingXY=!1;if(e){a.syncXYPosition(d)}else {a.translate(b,c,d)}},syncXYPosition:function(b){var a=this;if(!a.aligning){a.viewportResizeListener=Ext.destroy(a.viewportResizeListener)}(arguments.callee.$previous||Ext.Widget.prototype.syncXYPosition).call(this,b)}},deprecated:{'6.2.0':{methods:{resetFloating:'resetPositioned'}},'6.5':{configs:{styleHtmlCls:null,styleHtmlContent:null}}}},1,['component'],['widget','component'],{'widget':!0,'component':!0},['widget.component'],[[Ext.state.Stateful.prototype.mixinId||Ext.state.Stateful.$className,Ext.state.Stateful]],[Ext,'Component',Ext.lib,'Component',Ext,'Gadget'],function(a){});Ext.cmd.derive('Ext.mixin.Responsive',Ext.Mixin,function(a){return {mixinConfig:{id:'responsive',after:{destroy:'destroy'}},config:{responsiveConfig:{$value:undefined,merge:function(e,f,i,h){var g,b,d,c;if(!e){return f}d=f?Ext.Object.chain(f):{};g=a.context;for(c in e){if(!h||!(c in d)){b=e[c];if(b.fn!==g){b={fn:g,config:b}}d[c]=b}}return d}},responsiveFormulas:{$value:null,merge:function(c,d,e,b){return this.mergeNew(c,d,e,b)}}},destroy:function(){a.unregister(this)},privates:{statics:{active:!1,all:{},_configNames:['responsiveConfig','responsiveFormulas'],context:Ext.Object.chain(Ext.platformTags),count:0,nextId:0,activate:function(){a.active=!0;a.updateContext();Ext.on('resize',a.onResize,a)},deactivate:function(){a.active=!1;Ext.un('resize',a.onResize,a)},notify:function(){var b=a.all,d=a.context,e=a.timer,c;if(e){a.timer=Ext.unasap(e)}a.updateContext();Ext.suspendLayouts();Ext.fireEvent('beforeresponsiveupdate',d);for(c in b){b[c].setupResponsiveContext()}Ext.fireEvent('beginresponsiveupdate',d);for(c in b){b[c].updateResponsiveState()}Ext.fireEvent('responsiveupdate',d);Ext.resumeLayouts(!0)},onResize:function(){if(!a.timer){a.timer=Ext.asap(a.onTimer)}},onTimer:function(){a.timer=null;a.notify()},register:function(b){var c=b.$responsiveId;if(!c){b.$responsiveId=c=++a.nextId;a.all[c]=b;if(++a.count===1){a.activate()}}},unregister:function(b){var c=b.$responsiveId;if(c in a.all){b.$responsiveId=null;delete a.all[c];if(--a.count===0){a.deactivate()}}},updateContext:function(){var e=Ext.Element,d=e.getViewportWidth(),c=e.getViewportHeight(),b=a.context;b.width=d;b.height=c;b.tall=d<c;b.wide=!b.tall;b.landscape=b.portrait=!1;if(!b.platform){b.platform=Ext.platformTags}b[Ext.dom.Element.getOrientation()]=!0}},afterClassMixedIn:function(f){var c=f.prototype,e=c.responsiveConfig,d=c.responsiveFormulas,b;if(e||d){b={};if(e){delete c.responsiveConfig;b.responsiveConfig=e}if(d){delete c.responsiveFormulas;b.responsiveFormulas=d}f.getConfigurator().add(b)}f.addConfigTransform('transformResponsiveConfig',10)},applyResponsiveConfig:function(b){var c;for(c in b){b[c].fn=Ext.createRuleFn(c)}return b},applyResponsiveFormulas:function(c){var b,d,e;if(c){e={};for(d in c){if(Ext.isString(b=c[d])){b=Ext.createRuleFn(b)}e[d]=b}}return e},getResponsiveState:function(){var f=a.context,c=this.getResponsiveConfig(),b,d,e;if(c){d={};for(e in c){b=c[e];if(b.fn.call(this,f)){Ext.merge(d,b.config)}}}return d},setupResponsiveContext:function(){var b=this.getResponsiveFormulas(),d=a.context,c;if(b){for(c in b){d[c]=b[c].call(this,d)}}},transformResponsiveConfig:function(d,f){var c=this,b=d,e;if(f.hoistConfigs(c,d,a._configNames)){a.register(c);c.setupResponsiveContext();e=c.getResponsiveState();if(e){b=Ext.merge({},d,e);delete b.responsiveConfig;delete b.responsiveFormulas}}return b},updateResponsiveState:function(){var b=this.getResponsiveState();this.setConfig(b)}}}},0,0,0,0,0,0,[Ext.mixin,'Responsive'],0);Ext.define('Ext.Stateful',{override:'Ext.Widget',mixins:[Ext.state.Stateful]});Ext.define('Ext.theme.material.Widget',{override:'Ext.Widget',statics:{floatInset:16/(window.devicePixelRatio||1)}});Ext.cmd.derive('Ext.fx.State',Ext.Base,{isAnimatable:{'background-color':!0,'background-image':!0,'background-position':!0,'border-bottom-color':!0,'border-bottom-width':!0,'border-color':!0,'border-left-color':!0,'border-left-width':!0,'border-right-color':!0,'border-right-width':!0,'border-spacing':!0,'border-top-color':!0,'border-top-width':!0,'border-width':!0,'bottom':!0,'color':!0,'crop':!0,'font-size':!0,'font-weight':!0,'height':!0,'left':!0,'letter-spacing':!0,'line-height':!0,'margin-bottom':!0,'margin-left':!0,'margin-right':!0,'margin-top':!0,'max-height':!0,'max-width':!0,'min-height':!0,'min-width':!0,'opacity':!0,'outline-color':!0,'outline-offset':!0,'outline-width':!0,'padding-bottom':!0,'padding-left':!0,'padding-right':!0,'padding-top':!0,'right':!0,'text-indent':!0,'text-shadow':!0,'top':!0,'vertical-align':!0,'visibility':!0,'width':!0,'word-spacing':!0,'z-index':!0,'zoom':!0,'transform':!0},constructor:function(a){this.data={};this.set(a)},setConfig:function(a){this.set(a);return this},setRaw:function(a){this.data=a;return this},clear:function(){return this.setRaw({})},setTransform:function(d,a){var g=this.data,e=Ext.isArray(a),b=g.transform,c,f;if(!b){b=g.transform={translateX:0,translateY:0,translateZ:0,scaleX:1,scaleY:1,scaleZ:1,rotate:0,rotateX:0,rotateY:0,rotateZ:0,skewX:0,skewY:0}}if(typeof d==='string'){switch(d){case 'translate':if(e){c=a.length;if(c===0){break}b.translateX=a[0];if(c===1){break}b.translateY=a[1];if(c===2){break}b.translateZ=a[2]}else {b.translateX=a};break;case 'rotate':if(e){c=a.length;if(c===0){break}b.rotateX=a[0];if(c===1){break}b.rotateY=a[1];if(c===2){break}b.rotateZ=a[2]}else {b.rotate=a};break;case 'scale':if(e){c=a.length;if(c===0){break}b.scaleX=a[0];if(c===1){break}b.scaleY=a[1];if(c===2){break}b.scaleZ=a[2]}else {b.scaleX=a;b.scaleY=a};break;case 'skew':if(e){c=a.length;if(c===0){break}b.skewX=a[0];if(c===1){break}b.skewY=a[1]}else {b.skewX=a};break;default:b[d]=a;}}else {for(f in d){if(d.hasOwnProperty(f)){a=d[f];this.setTransform(f,a)}}}},set:function(b,a){var d=this.data,c;if(typeof b!=='string'){for(c in b){a=b[c];if(c==='transform'){this.setTransform(a)}else {d[c]=a}}}else {if(b==='transform'){this.setTransform(a)}else {d[b]=a}}return this},unset:function(b){var a=this.data;if(a.hasOwnProperty(b)){delete a[b]}return this},getData:function(){return this.data}},1,0,0,0,0,0,[Ext.fx,'State'],0);Ext.cmd.derive('Ext.fx.animation.Abstract',Ext.Evented,{factoryConfig:{type:'animation'},isAnimation:!0,config:{name:'',element:null,before:null,from:{},to:{},after:null,states:{},duration:300,easing:'linear',iteration:1,direction:'normal',delay:0,onBeforeStart:null,callback:null,onEnd:null,onBeforeEnd:null,scope:null,reverse:null,preserveEndState:!1,replacePrevious:!0},STATE_FROM:'0%',STATE_TO:'100%',DIRECTION_UP:'up',DIRECTION_TOP:'top',DIRECTION_DOWN:'down',DIRECTION_BOTTOM:'bottom',DIRECTION_LEFT:'left',DIRECTION_RIGHT:'right',stateNameRegex:/^(?:[\d.]+)%$/,constructor:function(){this.states={};Ext.Evented.prototype.constructor.apply(this,arguments);return this},applyElement:function(a){return Ext.get(a)},applyBefore:function(a,b){if(a){return Ext.factory(a,Ext.fx.State,b)}},applyAfter:function(a,b){if(a){return Ext.factory(a,Ext.fx.State,b)}},setFrom:function(a){return this.setState(this.STATE_FROM,a)},setTo:function(a){return this.setState(this.STATE_TO,a)},getFrom:function(){return this.getState(this.STATE_FROM)},getTo:function(){return this.getState(this.STATE_TO)},setStates:function(b){var c=this.stateNameRegex,a;for(a in b){if(c.test(a)){this.setState(a,b[a])}}return this},getStates:function(){return this.states},updateCallback:function(a){if(a){this.setOnEnd(a)}},end:function(){this.stop()},stop:function(){this.fireEvent('stop',this)},destroy:function(){this.destroying=!0;this.stop();Ext.Evented.prototype.destroy.call(this);this.destroying=!1;this.destroyed=!0},setState:function(c,d){var b=this.getStates(),a;a=Ext.factory(d,Ext.fx.State,b[c]);if(a){b[c]=a}return this},getState:function(a){return this.getStates()[a]},getData:function(){var a=this,b=a.getStates(),d={},e=a.getBefore(),f=a.getAfter(),k=b[a.STATE_FROM],l=b[a.STATE_TO],i=k.getData(),j=l.getData(),h,c,g;for(c in b){if(b.hasOwnProperty(c)){g=b[c];h=g.getData();d[c]=h}}return {before:e?e.getData():{},after:f?f.getData():{},states:d,from:i,to:j,duration:a.getDuration(),iteration:a.getIteration(),direction:a.getDirection(),easing:a.getEasing(),delay:a.getDelay(),onEnd:a.getOnEnd(),onBeforeEnd:a.getOnBeforeEnd(),onBeforeStart:a.getOnBeforeStart(),scope:a.getScope(),preserveEndState:a.getPreserveEndState(),replacePrevious:a.getReplacePrevious()}}},1,0,0,0,0,[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.fx.animation,'Abstract'],0);Ext.cmd.derive('Ext.fx.animation.Slide',Ext.fx.animation.Abstract,{alternateClassName:'Ext.fx.animation.SlideIn',config:{direction:'left',out:!1,offset:0,easing:'auto',containerBox:'auto',elementBox:'auto',isElementBoxFit:!0,useCssTransform:!0},reverseDirectionMap:{up:'down',top:'down',down:'up',bottom:'up',left:'right',right:'left'},applyEasing:function(a){if(a==='auto'){return 'ease-'+(this.getOut()?'in':'out')}return a},getContainerBox:function(){var a=this._containerBox;if(a==='auto'){a=this.getElement().getParent().getBox()}return a},getElementBox:function(){var a=this._elementBox;if(this.getIsElementBoxFit()){return this.getContainerBox()}if(a==='auto'){a=this.getElement().getBox()}return a},getData:function(){var p=this.getElementBox(),c=this.getContainerBox(),a=p?p:c,k=this.getFrom(),n=this.getTo(),d=this.getOut(),b=this.getOffset(),h=this.getDirection(),o=this.getUseCssTransform(),q=this.getReverse(),e=0,f=0,g,i,j,l,m;if(typeof b==='string'){g=!0;b=parseFloat(b)}if(q){h=this.reverseDirectionMap[h]}switch(h){case this.DIRECTION_UP:case this.DIRECTION_TOP:if(g){b=a.height*b/100};if(d){f=c.top-a.top-a.height-b}else {f=c.bottom-a.bottom+a.height+b};break;case this.DIRECTION_DOWN:case this.DIRECTION_BOTTOM:if(g){b=a.height*b/100};if(d){f=c.bottom-a.bottom+a.height+b}else {f=c.top-a.height-a.top-b};break;case this.DIRECTION_RIGHT:if(g){b=a.width*b/100};if(d){e=c.right-a.right+a.width+b}else {e=c.left-a.left-a.width-b};break;case this.DIRECTION_LEFT:if(g){b=a.width*b/100};if(d){e=c.left-a.left-a.width-b}else {e=c.right-a.right+a.width+b};break;}i=d?0:e;j=d?0:f;if(o){k.setTransform({translateX:i,translateY:j})}else {k.set('left',i);k.set('top',j)}l=d?e:0;m=d?f:0;if(o){n.setTransform({translateX:l,translateY:m})}else {n.set('left',l);n.set('top',m)}return Ext.fx.animation.Abstract.prototype.getData.apply(this,arguments)}},0,0,0,0,['animation.slide','animation.slideIn'],0,[Ext.fx.animation,'Slide',Ext.fx.animation,'SlideIn'],0);Ext.cmd.derive('Ext.fx.animation.SlideOut',Ext.fx.animation.Slide,{config:{out:!0}},0,0,0,0,['animation.slideOut'],0,[Ext.fx.animation,'SlideOut'],0);Ext.cmd.derive('Ext.fx.animation.Fade',Ext.fx.animation.Abstract,{alternateClassName:'Ext.fx.animation.FadeIn',config:{out:!1,before:{display:null,opacity:0},after:{opacity:null},reverse:null},updateOut:function(c){var b=this.getTo(),a=this.getFrom();if(c){a.set('opacity',1);b.set('opacity',0)}else {a.set('opacity',0);b.set('opacity',1)}}},0,0,0,0,['animation.fade','animation.fadeIn'],0,[Ext.fx.animation,'Fade',Ext.fx.animation,'FadeIn'],0);Ext.cmd.derive('Ext.fx.animation.FadeOut',Ext.fx.animation.Fade,{config:{out:!0,before:{}}},0,0,0,0,['animation.fadeOut'],0,[Ext.fx.animation,'FadeOut'],0);Ext.cmd.derive('Ext.fx.animation.Flip',Ext.fx.animation.Abstract,{config:{easing:'ease-in',direction:'right',half:!1,out:null},getData:function(){var c=this,k=c.getFrom(),m=c.getTo(),j=c.getDirection(),b=c.getOut(),l=c.getHalf(),a=l?90:180,h=1,i=1,d=0,e=0,f=0,g=0;if(b){i=0.8}else {h=0.8}switch(j){case this.DIRECTION_UP:case this.DIRECTION_TOP:if(b){f=a}else {d=-a};break;case this.DIRECTION_DOWN:case this.DIRECTION_BOTTOM:if(b){f=-a}else {d=a};break;case this.DIRECTION_RIGHT:if(b){g=a}else {e=-a};break;case this.DIRECTION_LEFT:if(b){g=-a}else {e=a};break;}k.setTransform({rotateX:d,rotateY:e,scale:h});m.setTransform({rotateX:f,rotateY:g,scale:i});return Ext.fx.animation.Abstract.prototype.getData.call(this)}},0,0,0,0,['animation.flip'],0,[Ext.fx.animation,'Flip'],0);Ext.cmd.derive('Ext.fx.animation.Pop',Ext.fx.animation.Abstract,{alternateClassName:'Ext.fx.animation.PopIn',config:{out:!1,before:{display:null,opacity:0},after:{opacity:null}},getData:function(){var b=this.getTo(),a=this.getFrom(),c=this.getOut();if(c){a.set('opacity',1);a.setTransform({scale:1});b.set('opacity',0);b.setTransform({scale:0})}else {a.set('opacity',0);a.setTransform({scale:0});b.set('opacity',1);b.setTransform({scale:1})}return Ext.fx.animation.Abstract.prototype.getData.apply(this,arguments)}},0,0,0,0,['animation.pop','animation.popIn'],0,[Ext.fx.animation,'Pop',Ext.fx.animation,'PopIn'],0);Ext.cmd.derive('Ext.fx.animation.PopOut',Ext.fx.animation.Pop,{config:{out:!0,before:{}}},0,0,0,0,['animation.popOut'],0,[Ext.fx.animation,'PopOut'],0);Ext.cmd.derive('Ext.fx.Animation',Ext.Base,{constructor:function(a){var c=Ext.fx.animation.Abstract,b;if(typeof a==='string'){b=a;a={}}else if(a&&a.type){b=a.type}if(b){c=Ext.ClassManager.getByAlias('animation.'+b)}return Ext.factory(a,c)}},1,0,0,0,0,0,[Ext.fx,'Animation'],0);Ext.cmd.derive('Ext.app.EventDomain',Ext.Base,{statics:{instances:{}},isEventDomain:!0,isInstance:!1,constructor:function(){var a=this;if(!a.isInstance){Ext.app.EventDomain.instances[a.type]=a}a.bus={};a.monitoredClasses=[]},dispatch:function(l,h,m){h=Ext.canonicalEventName(h);var j=this,n=j.bus,b=n[h],c,a,i,g,e,k,d,f;if(!b){return !0}for(c in b){if(b.hasOwnProperty(c)&&j.match(l,c,j.controller)){a=b[c];for(i in a){if(a.hasOwnProperty(i)){g=a[i];if(g.controller.isActive()){e=g.list;k=e.length;for(d=0;d<k;d++){f=e[d];if(f.fire.apply(f,m)===!1){return !1}}}}}}}return !0},listen:function(p,e){var i=this,r=i.bus,t=i.idProperty,n=i.monitoredClasses,s=n.length,o=e.getId(),m=i.type==='component',u=m?e.getRefMap():null,j,f,q,a,d,b,h,l,g,c,k;for(a in p){g=p[a];if(m){a=u[a]||a}if(g){if(t){a=a==='*'?a:a.substring(1)}for(c in g){d=null;b=g[c];h=e;c=Ext.canonicalEventName(c);l=new Ext.util.Event(e,c);if(Ext.isObject(b)){d=b;b=d.fn;h=d.scope||e;delete d.fn;delete d.scope}if(typeof b==='string'){b=h[b]}l.addListener(b,h,d);for(j=0;j<s;++j){k=n[j].hasListeners;if(k){k._incr_(c)}}f=r[c]||(r[c]={});f=f[a]||(f[a]={});q=f[o]||(f[o]={controller:e,list:[]});q.list.push(l)}}}},match:function(c,b){var a=this.idProperty;if(a){return b==='*'||c[a]===b}return !1},monitor:function(a){var c=this,b=a.isInstance?a:a.prototype,d=b.doFireEvent;c.monitoredClasses.push(a);b.doFireEvent=function(f,g){var e=this,b;b=d.apply(e,arguments);if(b!==!1&&!e.destroyed&&!e.isSuspended(f)){b=c.dispatch(e,f,g)}return b}},unlisten:function(f){var k=this.bus,l=f,m=this.monitoredClasses,p=m.length,g,a,b,o,j,n,h,c,d,i,e;if(f.isController){l=f.getId()}for(a in k){a=Ext.canonicalEventName(a);if(k.hasOwnProperty(a)&&(h=k[a])){for(n in h){g=h[n];i=g[l];if(i){b=i.list;if(b){for(c=0,o=b.length;c<o;++c){j=b[c];j.clearListeners();for(d=0;d<p;++d){e=m[d].hasListeners;if(e){e._decr_(j.name)}}}delete g[l]}}}}}},destroy:function(){this.monitoredClasses=this.bus=null;this.callParent()}},1,0,0,0,0,0,[Ext.app,'EventDomain'],0);Ext.cmd.derive('Ext.app.domain.Component',Ext.app.EventDomain,{singleton:!0,type:'component',constructor:function(){this.callParent();this.monitor(Ext.Widget)},dispatch:function(c,f,e){var a=c.lookupController(!1),b,d;while(a){b=a.compDomain;if(b){if(b.dispatch(c,f,e)===!1){return !1}}d=a.getView();a=d?d.lookupController(!0):null}return this.callParent([c,f,e])},match:function(b,a){return b.is(a)}},1,0,0,0,0,0,[Ext.app.domain,'Component'],0);Ext.cmd.derive('Ext.app.EventBus',Ext.Base,{singleton:!0,constructor:function(){var a=this,b=Ext.app.EventDomain.instances;a.callParent();a.domains=b;a.bus=b.component.bus},control:function(b,a){return this.domains.component.listen(b,a)},listen:function(b,c){var d=this.domains,a;for(a in b){if(b.hasOwnProperty(a)){d[a].listen(b[a],c)}}},unlisten:function(c){var a=Ext.app.EventDomain.instances,b;for(b in a){a[b].unlisten(c)}}},1,0,0,0,0,0,[Ext.app,'EventBus'],0);Ext.cmd.derive('Ext.app.domain.Global',Ext.app.EventDomain,{singleton:!0,type:'global',constructor:function(){var a=this;a.callParent();a.monitor(Ext.GlobalEvents)},listen:function(b,a){this.callParent([{global:b},a])},match:Ext.returnTrue},1,0,0,0,0,0,[Ext.app.domain,'Global'],0);Ext.cmd.derive('Ext.route.Handler',Ext.Base,{lazy:!1,statics:{fromRouteConfig:function(a,c){var b={action:a.action,before:a.before,lazy:a.lazy,exit:a.exit,scope:c,single:a.single};return new this(b)}},constructor:function(a){Ext.apply(this,a)}},1,0,0,0,0,0,[Ext.route,'Handler'],0);Ext.cmd.derive('Ext.route.Action',Ext.Base,{config:{actions:null,befores:null,urlParams:[]},started:!1,stopped:!1,constructor:function(b){var a=this;a.deferred=new Ext.Deferred();a.resume=a.resume.bind(a);a.stop=a.stop.bind(a);a.initConfig(b);a.callParent([b])},applyActions:function(a){if(a){a=Ext.Array.from(a)}return a},applyBefores:function(a){if(a){a=Ext.Array.from(a)}return a},destroy:function(){this.deferred=null;this.setBefores(null).setActions(null).setUrlParams(null);this.callParent()},resume:function(){return this.next()},stop:function(){this.stopped=!0;return this.done()},next:function(){var a=this,c=a.getActions(),d=a.getBefores(),g=a.getUrlParams(),b,f,e;if(Ext.isArray(g)){e=g.slice()}else {e=[g]}if(a.stopped||(d?!d.length:!0)&&(c?!c.length:!0)){a.done()}else {if(d&&d.length){b=d.shift();e.push(a);f=Ext.callback(b.fn,b.scope,e);if(f&&f.then){f.then(function(b){a.resume(b)},function(b){a.stop(b)})}}else if(c&&c.length){b=c.shift();Ext.callback(b.fn,b.scope,e);a.next()}else {a.next()}}return a},run:function(){var a=this.deferred;if(!this.started){this.next();this.started=!0}return a.promise},done:function(){var a=this.deferred;if(this.stopped){a.reject()}else {a.resolve()}this.destroy();return this},before:function(a,d,e){if(!Ext.isBoolean(a)){e=d;d=a;a=!1}var b=this.getBefores(),c={fn:d,scope:e};if(b){if(a){b.unshift(c)}else {b.push(c)}}else {this.setBefores(c)}return this},action:function(a,d,e){if(!Ext.isBoolean(a)){e=d;d=a;a=!1}var b=this.getActions(),c={fn:d,scope:e};if(b){if(a){b.unshift(c)}else {b.push(c)}}else {this.setActions(c)}return this},then:function(a,b){return this.deferred.then(a,b)}},1,0,0,0,0,0,[Ext.route,'Action'],0);Ext.cmd.derive('Ext.route.Route',Ext.Base,{config:{name:null,url:null,allowInactive:!1,conditions:{},caseInsensitive:!1,handlers:[],types:{cached:!0,$value:{alpha:{re:'([a-zA-Z]+)'},alphanum:{re:'([a-zA-Z0-9]+|[0-9]+(?:\\.[0-9]+)?|[0-9]*(?:\\.[0-9]+){1})',parse:function(a){var b;if(a&&this.numRe.test(a)){b=parseFloat(a);if(!isNaN(b)){a=b}}return a}},num:{re:'([0-9]+(?:\\.[0-9]+)?|[0-9]*(?:\\.[0-9]+){1})',parse:function(a){if(a){a=parseFloat(a)}return a}},'...':{re:'(.+)?',split:'/',parse:function(a){var d,b,c;if(a){d=a.length;for(b=0;b<d;b++){c=parseFloat(a[b]);if(!isNaN(c)){a[b]=c}}}return a}}}}},defaultMatcher:'([%a-zA-Z0-9\\-\\_\\s,]+)',numRe:/^[0-9]*(?:\.[0-9]*)?$/,typeParamRegex:/:{([0-9A-Za-z_]+)(?::?([0-9A-Za-z_]+|.{3})?)}/g,optionalGroupRegex:/\((.+?)\)/g,paramMatchingRegex:/:([0-9A-Za-z_]+)/g,isRoute:!0,constructor:function(c){var a=this,b;this.initConfig(c);b=a.getUrl().replace(a.optionalGroupRegex,function(b,a){return '(?:'+a+')?'});if(b.match(a.typeParamRegex)){a.handleNamedPattern(b)}else {a.handlePositionalPattern(b)}},handlePositionalPattern:function(b){var a=this;a.paramsInMatchString=b.match(a.paramMatchingRegex)||[];a.matcherRegex=a.createMatcherRegex(b);a.mode='positional'},handleNamedPattern:function(g){var a=this,d=a.typeParamRegex,e=a.getConditions(),f=a.getTypes(),c=a.defaultMatcher,b={},h=g.replace(d,function(j,h,d){var i=d&&f[d],a=e[h]||i||c;if(Ext.isObject(a)){a=a.re}b[h]={matcher:a,type:d};return a});a.paramsInMatchString=b;a.matcherRegex=new RegExp('^'+h+'$',a.getCaseInsensitive()?'i':'');a.mode='named'},recognize:function(a){var b=this,j=b.recognizes(a),d,i,e,g,h,f,c;if(j){d=b.getHandlers();i=d.length;for(c=0;c<i;c++){g=d[c];if(g.lastToken!==a){e=!0;break}}if(!e&&a===b.lastToken){return !0}h=b.matchesFor(a);f=b.getUrlParams(a);return Ext.applyIf(h,{historyUrl:a,urlParams:f})}return !1},getUrlParams:function(a){if(this.mode==='named'){return this.getNamedUrlParams(a)}else {return this.getPositionalUrlParams(a)}},getPositionalUrlParams:function(j){var e=[],d=this.getConditions(),h=this.paramsInMatchString,g=j.match(this.matcherRegex),i=h.length,c,b,f,a;g.shift();for(c=0;c<i;c++){b=h[c];a=g[c];if(d[b]){f=d[b]}else if(b[0]===':'){b=b.substr(1);if(d[b]){f=d[b]}}a=this.parseValue(a,f);if(Ext.isDefined(a)&&a!==''){if(Ext.isArray(a)){e.push.apply(e,a)}else {e.push(a)}}}return e},getNamedUrlParams:function(k){var j=this.getConditions(),g=this.getTypes(),e={},i=this.paramsInMatchString,f=k.match(this.matcherRegex),a,d,h,b,c;f.shift();for(a in i){d=i[a];h=f.shift();c=j[a];b=g[d.type];if(c||b){b=Ext.merge({},c,g[d.type])}e[a]=this.parseValue(h,b)}return e},parseValue:function(a,b){if(b){if(a&&b.split){a=a.split(b.split);if(!a[0]){a.shift()}if(!a[a.length-1]){a.pop()}}if(b.parse){a=b.parse.call(this,a)}}if(!a&&Ext.isString(a)){a=undefined}return a},recognizes:function(a){return this.matcherRegex.test(a)},execute:function(h,j){var c=this,n=c.getAllowInactive(),m=c.getHandlers(),d=Ext.route.Router.getQueueRoutes(),o=m.length,l=j&&j.urlParams||[],i,b,e,a,k,g,f;c.lastToken=h;if(!d){k=[]}return new Ext.Promise(function(q,p){if(j===!1){p()}else {if(d){a=new Ext.route.Action({urlParams:l})}for(i=0;i<o;i++){b=m[i];if(h!=null&&b.lastToken===h){continue}e=b.scope;b.lastToken=h;if(!n&&e.isActive&&!e.isActive()){continue}if(!d){a=new Ext.route.Action({urlParams:l})}g=b.single;if(b.before){a.before(b.before,e)}if(b.action){a.action(b.action,e)}if(g){f=Ext.bind(c.removeHandler,c,[null,b]);if(g===!0){if(b.action){a.action(f,c)}else {a.before(function(){f();return Ext.Promise.resolve()},c)}}else {a.before(g==='before',function(){f();return Ext.Promise.resolve()},c)}}if(!d){if(Ext.fireEvent('beforeroute',a,c)===!1){a.destroy()}else {k.push(a.run())}}}if(d){if(Ext.fireEvent('beforeroute',a,c)===!1){a.destroy();p()}else {a.run().then(q,p)}}else {Ext.Promise.all(k).then(q,p)}}})},matchesFor:function(f){var b={},d=this.mode==='named'?Ext.Object.getKeys(this.paramsInMatchString):this.paramsInMatchString,c=f.match(this.matcherRegex),e=d.length,a;c.shift();for(a=0;a<e;a++){b[d[a].replace(':','')]=c[a]}return b},createMatcherRegex:function(c){var e=this,g=e.paramsInMatchString,d=e.getConditions(),h=e.defaultMatcher,j=g.length,i=e.getCaseInsensitive()?'i':'',f,b,a;if(c==='*'){c=c.replace('*','\\*')}else {for(f=0;f<j;f++){b=g[f];if(d[b]){a=d[b]}else if(b[0]===':'&&d[b.substr(1)]){a=d[b.substr(1)]}else {a=h}if(Ext.isObject(a)){a=a.re}c=c.replace(new RegExp(b),a||h)}}return new RegExp('^'+c+'$',i)},addHandler:function(a){var b=this.getHandlers();if(!a.isInstance){a=new Ext.route.Handler(a)}b.push(a);return a.route=this},removeHandler:function(g,e){var d=this.getHandlers(),f=d.length,c=[],b,a;for(b=0;b<f;b++){a=d[b];if(e){if(a!==e){c.push(a)}}else if(a.scope!==g){c.push(a)}}this.setHandlers(c);return this},clearLastTokens:function(){var b=this.getHandlers(),c=b.length,a;for(a=0;a<c;a++){b[a].lastToken=null}this.lastToken=null},onExit:function(){var a=this,f=a.getHandlers(),g=a.getAllowInactive(),h=f.length,c=new Ext.route.Action({urlParams:[a.lastToken]}),e,b,d;a.clearLastTokens();for(e=0;e<h;e++){b=f[e];if(b.exit){d=b.scope;if(!g&&d.isActive&&!d.isActive()){continue}c.action(b.exit,d)}}if(Ext.fireEvent('beforerouteexit',c,a)===!1){c.destroy()}else {c.run()}}},1,0,0,0,0,0,[Ext.route,'Route'],0);Ext.cmd.derive('Ext.util.Observable',Ext.mixin.Observable,{$applyConfigs:!0},0,0,0,0,0,0,[Ext.util,'Observable'],function(a){var b=Ext.mixin.Observable;a.releaseCapture=b.releaseCapture;a.capture=b.capture;a.captureArgs=b.captureArgs;a.observe=a.observeClass=b.observe});Ext.cmd.derive('Ext.util.History',Ext.Base,{singleton:!0,alternateClassName:'Ext.History',useTopWindow:!1,hashRe:/^(#?!?)/,constructor:function(){var a=this;a.ready=!1;a.currentToken=null;a.mixins.observable.constructor.call(a)},getHash:function(){return (this.win.location.hash||'').replace(this.hashRe,'')},setHash:function(a,e){var b=this,c=b.hashRe,d=b.win.location;a=a.replace(c,b.hashbang?'#!':'#');try{if(e){d.replace(a)}else {d.hash=a}b.currentToken=a.replace(c,'')}catch(f){}},handleStateChange:function(a){a=a.replace(this.hashRe,'');this.fireEvent('change',this.currentToken=a)},startUp:function(){var a=this;a.currentToken=a.getHash();Ext.get(a.win).on('hashchange',a.onHashChange,a);a.ready=!0;a.fireEvent('ready',a)},onHashChange:function(){var a=this,b=a.getHash();if(b!==a.hash){a.hash=b;a.handleStateChange(b)}},init:function(b,c){var a=this;if(a.ready){Ext.callback(b,c,[a]);return}if(!Ext.isReady){Ext.onInternalReady(function(){a.init(b,c)});return}a.win=a.useTopWindow?window.top:window;a.hash=a.getHash();if(b){a.on('ready',b,c,{single:!0})}a.startUp()},add:function(a,d){var c=this,b=!1;if(d===!1||c.getToken()!==a){c.setHash(a);b=!0}return b},replace:function(a,c){var d=this,b=!1;if(c===!1||d.getToken()!==a){this.setHash(a,!0);b=!0}return b},back:function(){this.win.history.go(-1)},forward:function(){this.win.history.go(1)},getToken:function(){return this.ready?this.currentToken:this.getHash()}},1,0,0,0,0,[['observable',Ext.util.Observable]],[Ext.util,'History',Ext,'History'],0);Ext.cmd.derive('Ext.route.Router',Ext.Base,{singleton:!0,config:{hashbang:null,multipleToken:'|',queueRoutes:!0},constructor:function(){var a=Ext.util.History;if(!a.ready){a.init()}a.on('change',this.onStateChange,this);this.initConfig();this.clear()},updateHashbang:function(a){Ext.util.History.hashbang=a},onStateChange:function(b){var c=this,e=b.split(c.getMultipleToken()),a,d,f;if(c.isSuspended){a=c.suspendedQueue;d=0;f=e.length;if(a){for(;d<f;d++){b=e[d];if(!Ext.Array.contains(a,b)){a.push(b)}}}}else {c.handleBefore(e)}},handleBefore:function(b){var c=this,a=new Ext.route.Action();if(Ext.fireEvent('beforeroutes',a,b)===!1){a.destroy()}else {a.run().then(c.handleBeforeRoute.bind(c,b),Ext.emptyFn)}},handleBeforeRoute:function(c){var a=this,b=a.getByName('*');if(b){b.execute().then(a.doRun.bind(a,c),Ext.emptyFn)}else {a.doRun(c)}},doRun:function(l){var g=this,m=g.application,k=g.routes,a=0,i=l.length,h={},f=[],c,j,d,b,e;for(;a<i;a++){c=l[a];j=!1;for(d in k){b=k[d];e=b.recognize(c);if(e){j=!0;if(e!==!0){b.execute(c,e).then(null,Ext.bind(g.onRouteRejection,g,[b],0))}Ext.Array.remove(f,b);if(!h[d]){h[d]=1}}else if(!h[d]){f.push(b)}}if(!j){if(m){m.fireEvent('unmatchedroute',c)}Ext.fireEvent('unmatchedroute',c)}}a=0;i=f.length;for(;a<i;a++){f[a].onExit()}},onRouteRejection:function(b,a){Ext.fireEvent('routereject',b,a);if(a){Ext.raise(a)}},connect:function(c,a,m){var j=this.routes,i=this.getMultipleToken(),h=a.name||c,d,b;if(c[0]==='!'){c=c.substr(1);this.setHashbang(!0)}if(Ext.isString(a)){a={action:a}}d=Ext.route.Handler.fromRouteConfig(a,m);b=j[h];if(!b){a.name=h;a.url=c;b=j[h]=new Ext.route.Route(a)}b.addHandler(d);if(d.lazy){var l=Ext.util.History.getToken(),k=l.split(i),n=k.length,g=[],f,e;for(f=0;f<n;f++){e=k[f];if(Ext.Array.indexOf(g,e)===-1&&b.recognize(e)){g.push(e)}}this.onStateChange(g.join(i))}return d},disconnect:function(c,a){var d=this.routes,b,e;if(a){b=a.route||this.getByName(a.name||a.url);if(b){b.removeHandler(c,a)}}else {for(e in d){b=d[e];b.removeHandler(c)}}},recognize:function(i){var g=this.routes,d=[],h,a,b,e,f,c;for(h in g){a=g[h];e=a&&a.length;if(e){b=0;for(;b<e;b++){f=a[b];c=f.recognize(i);if(c){d.push({route:f,urlParams:c})}}}}return d.length?d:!1},draw:function(a){a.call(this,this)},clear:function(){this.routes={}},clearLastTokens:function(c){var b=this.routes,d,a;for(d in b){a=b[d];if(!c||a.recognize(c)){a.clearLastTokens()}}},getByName:function(b){var a=this.routes;if(a){return a[b]}},suspend:function(a){this.isSuspended=!0;if(!this.suspendedQueue&&a!==!1){this.suspendedQueue=[]}},resume:function(d){var a=this,b=a.suspendedQueue,c;if(a.isSuspended){a.isSuspended=!1;a.suspendedQueue=null;if(!d&&b){c=b.join(a.getMultipleToken());a.onStateChange(c)}}}},1,0,0,0,0,0,[Ext.route,'Router'],0);Ext.cmd.derive('Ext.route.Mixin',Ext.Mixin,{mixinConfig:{id:'routerable',before:{destroy:'destroyRouterable'}},config:{routes:null},destroyRouterable:function(){Ext.route.Router.disconnect(this)},applyRoutes:function(b,c){var d=Ext.route.Router,a;if(b){for(a in b){b[a]=d.connect(a,b[a],this)}}if(c){for(a in c){d.disconnect(this,c[a])}}return b},redirectTo:function(b,e){var k=Ext.util.History.getToken(),i=Ext.route.Router,n=i.getMultipleToken(),d=k?k.split(n):[],f=d.length,j,c,m,a,g,h,l;if(b===-1){return Ext.util.History.back()}else if(b===1){return Ext.util.History.forward()}else if(b.isModel){b=b.toUrl()}else if(Ext.isObject(b)){for(m in b){a=b[m];if(!Ext.isObject(a)){a={token:a}}if(f){g=i.getByName(m);if(g){l=!1;for(c=0;c<f;c++){h=d[c];if(g.matcherRegex.test(h)){l=!0;if(a.token){if(a.fn&&a.fn.call(this,h,d,a)===!1){continue}d[c]=a.token;if(a.force){g.lastToken=null}}else {d.splice(c,1);c--;f--;g.lastToken=null}}}if(a&&a.token&&!l){d.push(a.token)}}}else if(a&&a.token){d.push(a.token)}}b=d.join(n)}if(e===!0){j=e;e=null}else if(e){j=e.force}f=d.length;if(j&&f){for(c=0;c<f;c++){h=d[c];i.clearLastTokens(h)}}if(k===b){if(j){i.onStateChange(b)}return !1}if(e&&e.replace){Ext.util.History.replace(b)}else {Ext.util.History.add(b)}return !0},privates:{afterClassMixedIn:function(a){var c=a.prototype,b=c.routes;if(b){delete c.routes;a.getConfigurator().add({routes:b})}}}},0,0,0,0,0,0,[Ext.route,'Mixin'],0);Ext.cmd.derive('Ext.app.BaseController',Ext.Base,{isController:!0,config:{id:undefined,control:null,listen:null},constructor:function(b){var a=this;Ext.apply(a,b);delete a.control;delete a.listen;a.eventbus=Ext.app.EventBus;a.mixins.observable.constructor.call(a,b)},updateId:function(a){this.id=a},applyListen:function(a){if(Ext.isObject(a)){a=Ext.clone(a)}return a},applyControl:function(a){if(Ext.isObject(a)){a=Ext.clone(a)}return a},updateControl:function(a){this.getId();if(a){this.control(a)}},updateListen:function(a){this.getId();if(a){this.listen(a)}},isActive:function(){return !0},control:function(b,c,f){var e=this,d=f,a;if(Ext.isString(b)){a={};a[b]=c}else {a=b;d=c}e.eventbus.control(a,d||e)},listen:function(b,a){this.eventbus.listen(b,a||this)},destroy:function(){var a=this,b=a.eventbus;if(b){b.unlisten(a);a.eventbus=null}a.callParent()}},1,0,0,0,0,[[Ext.mixin.Observable.prototype.mixinId||Ext.mixin.Observable.$className,Ext.mixin.Observable],[Ext.route.Mixin.prototype.mixinId||Ext.route.Mixin.$className,Ext.route.Mixin]],[Ext.app,'BaseController'],0);Ext.cmd.derive('Ext.app.Util',Ext.Base,{},0,0,0,0,0,0,[Ext.app,'Util'],function(){Ext.apply(Ext.app,{namespaces:{Ext:{}},addNamespaces:function(a){var d=Ext.app.namespaces,b,c;if(!Ext.isArray(a)){a=[a]}for(b=0,c=a.length;b<c;b++){d[a[b]]=!0}},clearNamespaces:function(){Ext.app.namespaces={}},getNamespace:function(d){var c=Ext.apply({},Ext.ClassManager.paths,Ext.app.namespaces),b='',a;for(a in c){if(c.hasOwnProperty(a)&&a.length>b.length&&a+'.'===d.substring(0,a.length+1)){b=a}}return b===''?undefined:b},setupPaths:function(e,b,c){var a=Ext.manifest,d;if(e&&b!==null){a=a&&a.paths;if(!a||b!==undefined){Ext.Loader.setPath(e,b===undefined?'app':b)}}if(c){for(d in c){if(c.hasOwnProperty(d)){Ext.Loader.setPath(d,c[d])}}}}});Ext.getNamespace=Ext.app.getNamespace});Ext.cmd.derive('Ext.util.BasicFilter',Ext.Base,{isFilter:!0,config:{id:null,disabled:!1,serializer:null},generation:0,constructor:function(a){this.initConfig(a)},updateDisabled:function(){if(!this.isConfiguring){++this.generation}}},1,0,0,0,0,0,[Ext.util,'BasicFilter'],0);Ext.cmd.derive('Ext.util.Filter',Ext.util.BasicFilter,{config:{property:null,root:null,value:null,filterFn:null,anyMatch:!1,exactMatch:!1,caseSensitive:!1,disableOnEmpty:!1,operator:null,convert:null},scope:null,$configStrict:!1,statics:{createFilterFn:function(a){if(!a){return Ext.returnTrue}return function(f){var e=a.isCollection?a.items:a,g=e.length,d=!0,b,c;for(b=0;d&&b<g;b++){c=e[b];if(!c.getDisabled()){d=c.filter(f)}}return d}},isEqual:function(a,b){if(a.getProperty()!==b.getProperty()){return !1}if(a.getOperator()!==b.getOperator()){return !1}if(a.getValue()===b.getValue()){return !0}if(Ext.isArray(a)&&Ext.isArray(b)){return Ext.Array.equals(a,b)}return !1},isInvalid:function(a){if(!a.filterFn){if(!a.property){return 'A Filter requires either a property or a filterFn to be set'}if(!a.hasOwnProperty('value')&&!a.operator){return 'A Filter requires either a property and value, or a filterFn to be set'}}return !1}},preventConvert:{'in':1,notin:1},filter:function(e){var a=this,d=a._filterFn||a.getFilterFn(),c=a.getConvert(),b=a._value;a._filterValue=b;a.isDateValue=Ext.isDate(b);if(a.isDateValue){a.dateValue=b.getTime()}if(c&&!a.preventConvert[a.getOperator()]){a._filterValue=c.call(a.scope||a,b)}return d.call(a.scope||a,e)},getId:function(){var b=this,a=b._id;if(!a){a=b.getProperty();if(!a){a=Ext.id(null,'ext-filter-')}b._id=a}return a},getFilterFn:function(){var a=this,b=a._filterFn,c;if(!b){c=a.getOperator();if(c){b=a.operatorFns[c]}else {b=a.createRegexFilter()}a._filterFn=b;a.generatedFilterFn=!0}return b},createRegexFilter:function(){var a=this,b=!!a.getAnyMatch(),d=!!a.getExactMatch(),e=a.getValue(),c=Ext.String.createRegex(e,!b,!b&&d,!a.getCaseSensitive());return function(d){var b=a.getPropertyValue(d);return c?c.test(b):b==null}},getPropertyValue:function(a){var b=this._root,c=b==null?a:a[b];return c[this._property]},getState:function(){var c=this.getInitialConfig(),a={},b;for(b in c){if(c.hasOwnProperty(b)){a[b]=this.getConfig(b)}}delete a.root;a.value=this.getValue();return a},getScope:function(){return this.scope},serialize:function(){var a=this.getState(),c=this.getSerializer(),b;delete a.id;delete a.serializer;if(c){b=c.call(this,a);if(b){a=b}}return a},serializeTo:function(d){var a=this,c,b;a.getFilterFn();if(a.generatedFilterFn){d.push(b=a.serialize());c=a.primitiveRe.test(typeof b)}return !c},updateOperator:function(){this.onConfigMutation()},updateConvert:function(){this.onConfigMutation()},updateProperty:function(){this.onConfigMutation()},updateAnyMatch:function(){this.onConfigMutation()},updateExactMatch:function(){this.onConfigMutation()},updateCaseSensitive:function(){this.onConfigMutation()},updateValue:function(a){this.onConfigMutation();if(this.getDisableOnEmpty()){this.setDisabled(Ext.isEmpty(a))}},updateFilterFn:function(a){delete this.generatedFilterFn},onConfigMutation:function(){this.generation++;if(this.generatedFilterFn){this._filterFn=null}},updateDisableOnEmpty:function(a){if(a){this.setDisabled(Ext.isEmpty(this.getValue()))}},privates:{primitiveRe:/string|number|boolean/,getCandidateValue:function(e,f,d){var b=this,c=b._convert,a=b.getPropertyValue(e);if(c){a=c.call(b.scope||b,a)}else if(!d){a=Ext.coerce(a,f)}return a}}},0,0,0,0,0,0,[Ext.util,'Filter'],function(c){var b=c.prototype,a=b.operatorFns={'<':function(b){var a=this._filterValue;return this.getCandidateValue(b,a)<a},'<=':function(b){var a=this._filterValue;return this.getCandidateValue(b,a)<=a},'=':function(a){var b=this,d=b._filterValue;a=b.getCandidateValue(a,d);if(b.isDateValue&&a instanceof Date){a=a.getTime();d=b.dateValue}return a==d},'===':function(a){var b=this,d=b._filterValue;a=b.getCandidateValue(a,d,!0);if(b.isDateValue&&a instanceof Date){a=a.getTime();d=b.dateValue}return a===d},'>=':function(b){var a=this._filterValue;return this.getCandidateValue(b,a)>=a},'>':function(b){var a=this._filterValue;return this.getCandidateValue(b,a)>a},'!=':function(a){var b=this,d=b._filterValue;a=b.getCandidateValue(a,d);if(b.isDateValue&&a instanceof Date){a=a.getTime();d=b.dateValue}return a!=d},'!==':function(a){var b=this,d=b._filterValue;a=b.getCandidateValue(a,d,!0);if(b.isDateValue&&a instanceof Date){a=a.getTime();d=b.dateValue}return a!==d},'in':function(b){var a=this._filterValue;return Ext.Array.contains(a,this.getCandidateValue(b,a))},notin:function(b){var a=this._filterValue;return !Ext.Array.contains(a,this.getCandidateValue(b,a))},like:function(b){var a=this._filterValue;return a&&this.getCandidateValue(b,a).toLowerCase().indexOf(a.toLowerCase())>-1},'/=':function(d){var a=this,b=a._filterValue;d=a.getCandidateValue(d,b);if(b!==a.lastRegExpSource){a.lastRegExpSource=b;try{a.regex=new RegExp(b,'i')}catch(e){a.regex=null}}return a.regex?a.regex.test(d):!1},empty:function(b){var d=this._filterValue,a=this.getCandidateValue(b,d,!0);return a==null||a===''},nempty:function(b){var d=this._filterValue,a=this.getCandidateValue(b,d,!0);return a!=null&&a!==''}};a['==']=a['='];a.gt=a['>'];a.ge=a['>='];a.lt=a['<'];a.le=a['<='];a.eq=a['='];a.ne=a['!=']});Ext.cmd.derive('Ext.util.AbstractMixedCollection',Ext.Base,{isMixedCollection:!0,generation:0,indexGeneration:0,constructor:function(b,c){var a=this;if(arguments.length===1&&Ext.isObject(b)){a.initialConfig=b;Ext.apply(a,b)}else {a.allowFunctions=b===!0;if(c){a.getKey=c}a.initialConfig={allowFunctions:a.allowFunctions,getKey:a.getKey}}a.items=[];a.map={};a.keys=[];a.indexMap={};a.length=0;a.mixins.observable.constructor.call(a)},destroy:function(){var a=this;a.items=a.map=a.keys=a.indexMap=null;a.callParent()},allowFunctions:!1,add:function(b,d){var c=this.length,a;if(arguments.length===1){a=this.insert(c,b)}else {a=this.insert(c,b,d)}return a},getKey:function(a){return a.id},replace:function(b,c){var a=this,d,e;if(arguments.length===1){c=arguments[0];b=a.getKey(c)}d=a.map[b];if(typeof b==='undefined'||b===null||typeof d==='undefined'){return a.add(b,c)}a.generation++;e=a.indexOfKey(b);a.items[e]=c;a.map[b]=c;if(a.hasListeners.replace){a.fireEvent('replace',b,d,c)}return c},reorder:function(e){var b=this,f=b.items,a=0,h=f.length,c=[],g=[],d;b.suspendEvents();for(d in e){c[e[d]]=f[d]}for(a=0;a<h;a++){if(e[a]==undefined){g.push(f[a])}}for(a=0;a<h;a++){if(c[a]==undefined){c[a]=g.shift()}}b.clear();b.addAll(c);b.resumeEvents()},updateKey:function(b,c){var a=this,e=a.map,d=a.indexOfKey(b),f=a.indexMap,g;if(d>-1){g=e[b];delete e[b];delete f[b];e[c]=g;f[c]=d;a.keys[d]=c;a.indexGeneration=++a.generation}},addAll:function(a){var c=this,b;if(arguments.length>1||Ext.isArray(a)){c.insert(c.length,arguments.length>1?arguments:a)}else {for(b in a){if(a.hasOwnProperty(b)){if(c.allowFunctions||typeof a[b]!=='function'){c.add(b,a[b])}}}}},each:function(f,e){var c=Ext.Array.push([],this.items),a=0,d=c.length,b;for(;a<d;a++){b=c[a];if(f.call(e||b,b,a,d)===!1){break}}},eachKey:function(f,e){var b=this.keys,d=this.items,a=0,c=b.length;for(;a<c;a++){f.call(e||window,b[a],d[a],a,c)}},findBy:function(f,c){var d=this.keys,b=this.items,a=0,e=b.length;for(;a<e;a++){if(f.call(c||window,b[a],d[a])){return b[a]}}return null},insert:function(c,b,d){var a;if(Ext.isIterable(b)){a=this.doInsert(c,b,d)}else {if(arguments.length>2){a=this.doInsert(c,[b],[d])}else {a=this.doInsert(c,[b])}a=a[0]}return a},doInsert:function(f,e,d){var b=this,c,i,a,g=e.length,j=g,o=b.hasListeners.add,k,h={},l,n,m;if(d!=null){b.useLinearSearch=!0}else {d=e;e=new Array(g);for(a=0;a<g;a++){e[a]=this.getKey(d[a])}}b.suspendEvents();for(a=0;a<g;a++){c=e[a];i=b.indexOfKey(c);if(i!==-1){if(i<f){f--}b.removeAt(i)}if(c!=null){if(h[c]!=null){l=!0;j--}h[c]=a}}b.resumeEvents();if(l){n=e;m=d;e=new Array(j);d=new Array(j);a=0;for(c in h){e[a]=n[h[c]];d[a]=m[h[c]];a++}g=j}k=f===b.length&&b.indexGeneration===b.generation;Ext.Array.insert(b.items,f,d);Ext.Array.insert(b.keys,f,e);b.length+=g;b.generation++;if(k){b.indexGeneration=b.generation}for(a=0;a<g;a++,f++){c=e[a];if(c!=null){b.map[c]=d[a];if(k){b.indexMap[c]=f}}if(o){b.fireEvent('add',f,d[a],c)}}return d},remove:function(d){var a=this,c,b;if(!a.useLinearSearch&&(c=a.getKey(d))){b=a.indexOfKey(c)}else {b=Ext.Array.indexOf(a.items,d)}return b===-1?!1:a.removeAt(b)},removeAll:function(b){var a=this,c;if(b||a.hasListeners.remove){if(b){for(c=b.length-1;c>=0;--c){a.remove(b[c])}}else {while(a.length){a.removeAt(0)}}}else {a.length=a.items.length=a.keys.length=0;a.map={};a.indexMap={};a.generation++;a.indexGeneration=a.generation}},removeAt:function(b){var a=this,d,c;if(b<a.length&&b>=0){a.length--;d=a.items[b];Ext.Array.erase(a.items,b,1);c=a.keys[b];if(typeof c!=='undefined'){delete a.map[c]}Ext.Array.erase(a.keys,b,1);if(a.hasListeners.remove){a.fireEvent('remove',d,c)}a.generation++;return d}return !1},removeRange:function(c,b){var a=this,i,f,d,e,g,h;if(c<a.length&&c>=0){if(!b){b=1}e=Math.min(c+b,a.length);b=e-c;h=e===a.length;g=h&&a.indexGeneration===a.generation;for(d=c;d<e;d++){f=a.keys[d];if(f!=null){delete a.map[f];if(g){delete a.indexMap[f]}}}i=a.items[d-1];a.length-=b;a.generation++;if(g){a.indexGeneration=a.generation}if(h){a.items.length=a.keys.length=a.length}else {a.items.splice(c,b);a.keys.splice(c,b)}return i}return !1},removeAtKey:function(d){var b=this,c=b.keys,a;if(d==null){for(a=c.length-1;a>=0;a--){if(c[a]==null){b.removeAt(a)}}}else {return b.removeAt(b.indexOfKey(d))}},getCount:function(){return this.length},indexOf:function(b){var a=this,c;if(b!=null){if(!a.useLinearSearch&&(c=a.getKey(b))){return this.indexOfKey(c)}return Ext.Array.indexOf(a.items,b)}return -1},indexOfKey:function(a){if(!this.map.hasOwnProperty(a)){return -1}if(this.indexGeneration!==this.generation){this.rebuildIndexMap()}return this.indexMap[a]},rebuildIndexMap:function(){var b=this,d=b.indexMap={},c=b.keys,e=c.length,a;for(a=0;a<e;a++){d[c[a]]=a}b.indexGeneration=b.generation},get:function(a){var b=this,d=b.map[a],c=d!==undefined?d:typeof a==='number'?b.items[a]:undefined;return typeof c!=='function'||b.allowFunctions?c:null},getAt:function(a){return this.items[a]},getByKey:function(a){return this.map[a]},contains:function(a){var c=this,b;if(a!=null){if(!c.useLinearSearch&&(b=c.getKey(a))){return this.map[b]!=null}return Ext.Array.indexOf(this.items,a)!==-1}return !1},containsKey:function(a){return this.map.hasOwnProperty(a)},clear:function(){var a=this;if(a.generation){a.length=0;a.items=[];a.keys=[];a.map={};a.indexMap={};a.generation++;a.indexGeneration=a.generation}if(a.hasListeners.clear){a.fireEvent('clear')}},first:function(){return this.items[0]},last:function(){return this.items[this.length-1]},sum:function(f,h,c,a){var d=this.extractValues(f,h),g=d.length,e=0,b;c=c||0;a=a||a===0?a:g-1;for(b=c;b<=a;b++){e+=d[b]}return e},collect:function(h,j,g){var e=this.extractValues(h,j),i=e.length,f={},d=[],a,c,b;for(b=0;b<i;b++){a=e[b];c=String(a);if((g||!Ext.isEmpty(a))&&!f[c]){f[c]=!0;d.push(a)}}return d},extractValues:function(c,b){var a=this.items;if(b){a=Ext.Array.pluck(a,b)}return Ext.Array.pluck(a,c)},hasRange:function(b,a){return a<this.length},getRange:function(b,a){var h=this,f=h.items,c=[],d=f.length,g,e;if(d<1){return c}if(b>a){e=!0;g=b;b=a;a=g}if(b<0){b=0}if(a==null||a>=d){a=d-1}c=f.slice(b,a+1);if(e&&c.length){c.reverse()}return c},filter:function(a,e,d,c){var b=[];if(Ext.isString(a)){b.push(new Ext.util.Filter({property:a,value:e,anyMatch:d,caseSensitive:c}))}else if(Ext.isArray(a)||a instanceof Ext.util.Filter){b=b.concat(a)}return this.filterBy(Ext.util.Filter.createFilterFn(b))},filterBy:function(h,g){var a=this,c=new a.self(a.initialConfig),e=a.keys,d=a.items,f=d.length,b;c.getKey=a.getKey;for(b=0;b<f;b++){if(h.call(g||a,d[b],e[b])){c.add(e[b],d[b])}}c.useLinearSearch=a.useLinearSearch;return c},findIndex:function(d,a,e,c,b){if(Ext.isEmpty(a,!1)){return -1}a=this.createValueMatcher(a,c,b);return this.findIndexBy(function(f){return f&&a.test(f[d])},null,e)},findIndexBy:function(h,d,e){var b=this,f=b.keys,c=b.items,a=e||0,g=c.length;for(;a<g;a++){if(h.call(d||b,c[a],f[a])){return a}}return -1},createValueMatcher:function(a,e,c,d){var b;if(!a.exec){b=Ext.String.escapeRegex;a=String(a);if(e===!0){a=b(a)}else {a='^'+b(a);if(d===!0){a+='$'}}a=new RegExp(a,c?'':'i')}return a},clone:function(){var a=this,b=new a.self(a.initialConfig);b.add(a.keys,a.items);b.useLinearSearch=a.useLinearSearch;return b}},1,0,0,0,0,[['observable',Ext.util.Observable]],[Ext.util,'AbstractMixedCollection'],0);Ext.cmd.derive('Ext.util.Sorter',Ext.Base,{isSorter:!0,config:{property:null,sorterFn:null,root:null,transform:null,direction:'ASC',id:undefined},statics:{createComparator:function(b,a){a=a||0;return function(f,g){var e=b.isCollection?b.items:b,h=e.length,d,c;for(c=0;c<h;++c){d=e[c].sort(f,g);if(d){return d}}return a&&a(f,g)}}},multiplier:1,constructor:function(a){this.initConfig(a)},getId:function(){var a=this._id;if(!a){a=this.getProperty();if(!a){a=Ext.id(null,'ext-sorter-')}this._id=a}return a},sort:function(a,b){return this.multiplier*this.sortFn(a,b)},sortFn:function(d,e){var g=this,c=g._transform,f=g._root,h=g._property,a,b;if(f){d=d[f];e=e[f]}a=d[h];b=e[h];if(c){a=c(a);b=c(b)}return a>b?1:a<b?-1:0},applyDirection:function(a){return a?a:'ASC'},updateDirection:function(a){this.multiplier=a.toUpperCase()==='DESC'?-1:1},updateProperty:function(a){if(a){delete this.sortFn}},updateSorterFn:function(a){this.sortFn=a},toggle:function(){this.setDirection(Ext.String.toggle(this.getDirection(),'ASC','DESC'))},getState:function(){var a=this,b={root:a.getRoot(),property:a.getProperty(),direction:a.getDirection()};if(a._id){b.id=a._id}return b},serialize:function(){return {property:this.getProperty(),direction:this.getDirection()}}},1,0,0,0,0,0,[Ext.util,'Sorter'],0);Ext.cmd.derive('Ext.util.Sortable',Ext.Base,{isSortable:!0,$configPrefixed:!1,$configStrict:!1,config:{sorters:null},defaultSortDirection:'ASC',multiSortLimit:3,statics:{createComparator:function(a){return a&&a.length?function(d,e){var c=a[0].sort(d,e),f=a.length,b=1;for(;!c&&b<f;b++){c=a[b].sort.call(a[b],d,e)}return c}:function(){return 0}}},applySorters:function(b){var c=this,a;a=c.getSorters()||new Ext.util.MixedCollection(!1,Ext.returnId);if(b){a.addAll(c.decodeSorters(b))}return a},sort:function(a,f,e,h){var b=this,d,g,c=b.getSorters();if(!c){b.setSorters(null);c=b.getSorters()}if(Ext.isArray(a)){h=e;e=f}else if(Ext.isObject(a)){a=[a];h=e;e=f}else if(Ext.isString(a)){d=c.get(a);if(!d){d={property:a,direction:f}}else if(f==null){d.toggle()}else {d.setDirection(f)}a=[d]}if(a&&a.length){a=b.decodeSorters(a);switch(e){case 'multi':c.insert(0,a[0]);g=c.getCount()-b.multiSortLimit;if(g>0){c.removeRange(b.multiSortLimit,g)};break;case 'prepend':c.insert(0,a);break;case 'append':c.addAll(a);break;case undefined:case null:case 'replace':c.clear();c.addAll(a);break;default:}}if(h!==!1){b.fireEvent('beforesort',b,a);b.onBeforeSort(a);if(b.getSorterCount()){b.doSort(b.generateComparator())}}return a},getSorterCount:function(){return this.getSorters().items.length},generateComparator:function(){var a=this.getSorters().getRange();return a.length?this.createComparator(a):this.emptyComparator},emptyComparator:function(){return 0},onBeforeSort:Ext.emptyFn,decodeSorters:function(b){if(!Ext.isArray(b)){if(b===undefined){b=[]}else {b=[b]}}var g=b.length,f=Ext.util.Sorter,e=this.getModel?this.getModel():this.model,d,a,c;for(c=0;c<g;c++){a=b[c];if(!(a instanceof f)){if(Ext.isString(a)){a={property:a}}Ext.applyIf(a,{root:this.sortRoot,direction:'ASC'});if(a.fn){a.sorterFn=a.fn}if(typeof a==='function'){a={sorterFn:a}}if(e&&!a.transform){d=e.getField(a.property);a.transform=d&&d.sortType!==Ext.identityFn?d.sortType:undefined}b[c]=new Ext.util.Sorter(a)}}return b},getFirstSorter:function(){var c=this.getSorters().items,d=c.length,b=0,a;for(;b<d;++b){a=c[b];if(!a.isGrouper){return a}}return null}},0,0,0,0,0,0,[Ext.util,'Sortable'],function(){this.prototype.createComparator=this.createComparator});Ext.cmd.derive('Ext.util.MixedCollection',Ext.util.AbstractMixedCollection,{constructor:function(){this.initConfig();Ext.util.AbstractMixedCollection.prototype.constructor.apply(this,arguments)},doSort:function(a){this.sortBy(a)},_sort:function(h,j,g){var b=this,a,d,k=String(j).toUpperCase()==='DESC'?-1:1,c=[],i=b.keys,f=b.items,e;g=g||function(a,b){return a-b};for(a=0,d=f.length;a<d;a++){c[c.length]={key:i[a],value:f[a],index:a}}Ext.Array.sort(c,function(a,b){return g(a[h],b[h])*k||(a.index<b.index?-1:1)});for(a=0,d=c.length;a<d;a++){e=c[a];f[a]=e.value;i[a]=e.key;b.indexMap[e.key]=a}b.generation++;b.indexGeneration=b.generation;b.fireEvent('sort',b)},sortBy:function(h){var b=this,c=b.items,d,g=b.keys,e,f=c.length,a;for(a=0;a<f;a++){c[a].$extCollectionIndex=a}Ext.Array.sort(c,function(a,b){return h(a,b)||(a.$extCollectionIndex<b.$extCollectionIndex?-1:1)});for(a=0;a<f;a++){d=c[a];e=b.getKey(d);g[a]=e;b.indexMap[e]=a;delete d.$extCollectionIndex}b.generation++;b.indexGeneration=b.generation;b.fireEvent('sort',b,c,g)},findInsertionIndex:function(h,d){var g=this,f=g.items,b=0,e=f.length-1,a,c;if(!d){d=g.generateComparator()}while(b<=e){a=b+e>>1;c=d(h,f[a]);if(c>=0){b=a+1}else if(c<0){e=a-1}}return b},reorder:function(a){Ext.util.AbstractMixedCollection.prototype.reorder.call(this,a);this.fireEvent('sort',this)},sortByKey:function(a,b){this._sort('key',a,b||function(e,f){var c=String(e).toUpperCase(),d=String(f).toUpperCase();return c>d?1:c<d?-1:0})}},1,0,0,0,0,[['sortable',Ext.util.Sortable]],[Ext.util,'MixedCollection'],0);Ext.cmd.derive('Ext.util.CollectionKey',Ext.Base,{isCollectionKey:!0,observerPriority:-200,config:{collection:null,keyFn:null,property:null,rootProperty:null,unique:!0},generation:0,map:null,mapRebuilds:0,constructor:function(a){this.initConfig(a)},get:function(a){var b=this.map||this.getMap();return b[a]||null},clear:function(){this.map=null},getRootProperty:function(){var b=this,a=(arguments.callee.$previous||Ext.Base.prototype.getRootProperty).call(this);return a!==null?a:b.getCollection().getRootProperty()},indexOf:function(i,b){var j=this.map||this.getMap(),c=j[i],e=this.getCollection(),h=e.length,d,a,f,g;if(!c){return -1}if(b===undefined){b=-1}if(c instanceof Array){f=c;a=h;for(g=f.length;g-->0;){d=e.indexOf(f[g]);if(d<a&&d>b){a=d}}if(a===h){return -1}}else {a=e.indexOf(c)}return a>b?a:-1},updateKey:function(e,d){var f=this,c=f.map,a,b;if(c){a=c[d];if(a instanceof Array){b=Ext.Array.indexOf(a,e);if(b>=0){if(a.length>2){a.splice(b,1)}else {c[d]=a[1-b]}}}else if(a){delete c[d]}f.add([e])}},onCollectionAdd:function(b,a){if(this.map){this.add(a.items)}},onCollectionItemChange:function(a,b){this.map=null},onCollectionRefresh:function(){this.map=null},onCollectionRemove:function(g,h){var a=this,f=a.map,d=h.items,c=d.length,b,e;if(f){if(a.getUnique()&&c<g.length/2){for(b=0;b<c;++b){e=a.getKey(d[b]);delete f[e]}}else {a.map=null}}},add:function(i){var f=this,c=f.map,b,d,e,a,g,h;g=i.length;h=f.getUnique();for(d=0;d<g;++d){a=f.getKey(e=i[d]);if(h||!(a in c)){c[a]=e}else {if(!((b=c[a]) instanceof Array)){c[a]=b=[b]}b.push(e)}}},applyKeyFn:function(a){if(Ext.isString(a)){this.getKey=function(b){return b[a]()}}else {this.getKey=a}},updateProperty:function(b){var a=this.getRootProperty();this.getKey=function(c){return (a?c[a]:c)[b]}},getMap:function(){var a=this,b=a.map;if(!b){a.map=b={};a.keysByItemKey={};++a.mapRebuilds;a.add(a.getCollection().items)}return b},updateCollection:function(b,a){if(b){b.addObserver(this)}if(a){a.removeObserver(this)}},clone:function(){return new Ext.util.CollectionKey(this.getCurrentConfig())},destroy:function(){this.clear();this.getCollection().removeObserver(this);this.destroyed=!0}},1,0,0,0,0,[[Ext.mixin.Identifiable.prototype.mixinId||Ext.mixin.Identifiable.$className,Ext.mixin.Identifiable]],[Ext.util,'CollectionKey'],0);Ext.cmd.derive('Ext.util.Grouper',Ext.util.Sorter,{isGrouper:!0,config:{groupFn:null,sortProperty:null,formatter:!1,blankValue:''},_eventToMethodMap:{propertychange:'onGrouperPropertyChange',directionchange:'onGrouperDirectionChange'},constructor:function(a){Ext.util.Sorter.prototype.constructor.apply(this,arguments)},getGroupString:function(a){return a.$collapsedGroupPlaceholder?a.$groupKey:this.getGroupValue(a).toString()},getGroupValue:function(b){var a=b.$collapsedGroupPlaceholder?b.$groupValue:this._groupFn(b);return a!=null&&a!==''?a:this.getBlankValue()},sortFn:function(d,e){var c=this,a=c.getGroupValue(d),b=c.getGroupValue(e),g=c._sortProperty,i=c._root,h=c._sorterFn,f=c._transform;if(a===b||Ext.Date.isEqual(a,b)){return 0}if(g||h){if(h){return h.call(this,d,e)}if(i){d=d[i];e=e[i]}a=d[g];b=e[g];if(f){a=f(a);b=f(b)}}return a>b?1:a<b?-1:0},standardGroupFn:function(d){var a=this,e=a._root,c=a._formatter,b=(e?d[e]:d)[a._property];if(c){b=c(b,a)}return b},updateSorterFn:function(){},updateProperty:function(c,b){var a=this;if(!a.getGroupFn()){a.setGroupFn(a.standardGroupFn)}a.notify('propertychange',[c,b])},updateDirection:function(b,a){Ext.util.Sorter.prototype.updateDirection.call(this,b,a);this.notify('directionchange',[b,a])},applyFormatter:function(c){var a,b;if(!c){return null}a=Ext.app.bind.Parser.fly(c);b=a.compileFormat();a.release();return function(d,a){return b(d,a)}},addObserver:function(c){var b=this,a=b.observers;if(!a){b.observers=a=[]}if(!Ext.Array.contains(a,c)){if(b.notifying){b.observers=a=a.slice(0)}a[a.length]=c}b.dirtyObservers=!0},prioritySortFn:function(c,d){var a=+c.observerPriority,b=+d.observerPriority;if(isNaN(a)){a=0}if(isNaN(b)){b=0}return a-b},removeObserver:function(b){var a=this.observers;if(a){Ext.Array.remove(a,b);this.dirtyObservers=!0}},clearObservers:function(){this.observers=null},notify:function(i,d){var a=this,b=a.observers,f=a._eventToMethodMap[i],j=0,c,h,e,g;d=d||[];if(b&&f){a.notifying=!0;if(a.dirtyObservers&&b.length>1){Ext.Array.sort(b,a.prioritySortFn);a.dirtyObservers=!1}for(c=0,h=b.length;c<h;++c){e=(g=b[c])[f];if(e){if(!j++){d.unshift(a)}e.apply(g,d)}}a.notifying=!1}}},1,0,0,0,0,0,[Ext.util,'Grouper'],0);Ext.cmd.derive('Ext.util.Collection',Ext.Base,{isCollection:!0,config:{autoFilter:!0,autoSort:!0,autoGroup:!0,decoder:null,extraKeys:null,filters:null,grouper:null,groupers:null,groups:null,groupConfig:null,rootProperty:null,sorters:null,multiSortLimit:3,defaultSortDirection:'ASC',source:null,trackGroups:!0},generation:0,indices:null,indexRebuilds:0,updating:0,grouped:!1,sorted:!1,filtered:!1,$endUpdatePriority:1001,manageSorters:!0,constructor:function(b){var a=this;a.items=[];a.map={};a.length=0;if(b&&b.keyFn){a.getKey=b.keyFn}a.mixins.observable.constructor.call(a,b)},destroy:function(){var a=this,d=a._filters,e=a._sorters,c=a._groupers,b=a.lastMonitoredGroupers;if(d){d.destroy();a._filters=null}if(e){a.grouped=a.sorted=!1;a.setSorters(null);if(a.manageSorters){e.destroy()}}if(b){b.removeGroupersObserver(a)}if(c){c.destroy();a._groupers=null}a.setGroups(null);a.setSource(null);a.observers=a.items=a.map=null;a.callParent()},add:function(d){var b=this,a=b.decodeItems(arguments,0),c=a;if(a.length){b.splice(b.length,0,a);c=a.length===1?a[0]:a}return c},replaceAll:function(){var b=this,c,a;a=b.decodeItems(arguments,0);c=a;if(a.length){b.splice(0,b.length,a);c=a.length===1?a[0]:a}else {b.removeAll()}return c},aggregate:function(d,c,e,g,f){var a=this,b=Ext.Array.slice(arguments);b.unshift(a.items);return a.aggregateItems.apply(a,b)},aggregateByGroup:function(b,a,d){var c=this.getGroups();return this.aggregateGroups(c,b,a,d)},aggregateItems:function(a,m,b,c,d,p){var e=this,o=Ext.Number.clipIndices(a.length,[c,d]),k=c!==0&&d!==a.length,f,g,n,j,i,h,l;c=o[0];d=o[1];if(!Ext.isFunction(b)){b=e._aggregators[b];return b.call(e,a,c,d,m,e.getRootProperty())}j=e.getRootProperty();h=new Array(n);l=k?new Array(n):a;for(f=c,g=0;f<d;++f,g++){if(k){l[g]=i=a[f]}h[g]=(j?i[j]:i)[m]}return b.call(p||e,a,h,0)},aggregateGroups:function(i,e,c,j){var f=i.items,k=f.length,h=!Ext.isFunction(c),g={},b,a,d;for(b=0;b<k;++b){a=f[b];if(!h){d=this.aggregateItems(a.items,e,c,null,null,j)}else {d=a[c](e)}g[a.getGroupKey()]=d}return g},beginUpdate:function(){if(!this.updating++){this.notify('beginupdate')}},clear:function(){var a=this,c=a.generation,e=c?a.items:[],b,d;if(c){a.items.length=a.length=0;a.map={};a.indices={};a.generation++;b=a.getExtraKeys();if(b){for(d in b){b[d].clear()}}}return e},clone:function(){var a=this,b=new a.self(a.initialConfig);b.add(a.items);return b},collect:function(i,e,h){var d=this.items,j=d.length,f={},g=[],b,c,a;for(b=0;b<j;++b){a=d[b];a=(e?a[e]:a)[i];c=String(a);if((h||!Ext.isEmpty(a))&&!f[c]){f[c]=1;g.push(a)}}return g},contains:function(a){var c=!1,b;if(a!=null){b=this.getKey(a);c=this.map[b]===a}return c},containsAll:function(b){var c=Ext.isArray(b)?b:arguments,a;for(a=c.length;a-->0;){if(!this.contains(c[a])){return !1}}return !0},containsKey:function(a){return a in this.map},createFiltered:function(a,j,n,l,m){var d=this,k=new d.self(Ext.applyIf({source:null},d.initialConfig)),h=d.getRootProperty(),g=d.items,e,b,c,i,f;if(Ext.isFunction(a)){i=a;f=j}else {if(Ext.isString(a)){c=[new Ext.util.Filter({property:a,value:j,root:h,anyMatch:n,caseSensitive:l,exactMatch:m})]}else if(a instanceof Ext.util.Filter){c=[a];a.setRoot(h)}else if(Ext.isArray(a)){c=a.slice(0);for(b=0,e=c.length;b<e;++b){c[b].setRoot(h)}}i=Ext.util.Filter.createFilterFn(c)}f=f||d;for(b=0,e=g.length;b<e;b++){if(i.call(f,g[b])){k.add(g[b])}}return k},filterBy:function(b,a){return this.createFiltered(b,a)},each:function(f,c){var b=this.items,d=b.length,a,e;if(d){c=c||this;b=b.slice(0);for(a=0;a<d;a++){e=f.call(c,b[a],a,d);if(e===!1){break}}}return e},eachKey:function(i,c){var f=this,b=f.items,d=b.length,a,g,h,e;if(d){c=c||f;b=b.slice(0);for(a=0;a<d;a++){h=f.getKey(g=b[a]);e=i.call(c,h,g,a,d);if(e===!1){break}}}return e},endUpdate:function(){if(!--this.updating){this.notify('endupdate')}},find:function(g,c,h,e,f,d){var b,a;if(Ext.isEmpty(c,!1)){return null}b=Ext.String.createRegex(c,e,f,d);a=this.getRootProperty();return this.findBy(function(i){return i&&b.test((a?i[a]:i)[g])},null,h)},findBy:function(i,c,g){var d=this,b=d.items,h=b.length,a,e,f;c=c||d;for(a=g||0;a<h;a++){f=d.getKey(e=b[a]);if(i.call(c,e,f)){return b[a]}}return null},findIndex:function(e,g,f,c,d,b){var a=this.find(e,g,f,c,d,b);return a?this.indexOf(a):-1},findIndexBy:function(d,b,c){var a=this.findBy(d,b,c);return a?this.indexOf(a):-1},first:function(b){var a=b?this.getGroups():undefined;return a?this.aggregateGroups(a,null,'first'):this.items[0]},last:function(b){var a=b?this.getGroups():undefined;return a?this.aggregateGroups(a,null,'last'):this.items[this.length-1]},get:function(a){return this.map[a]},getAt:function(a){return this.items[a]},getByKey:function(a){return this.map[a]},getCount:function(){return this.length},getKey:function(b){var a=b.id;return a===0||a?a:(a=b._id)===0||a?a:b.getId()},getRange:function(d,e){var c=this.items,b=c.length,a;if(!b){a=[]}else {a=Ext.Number.clipIndices(b,[d,e]);a=c.slice(a[0],a[1])}return a},getValues:function(h,f,i,c){var d=this.items,e=Ext.Number.clipIndices(d.length,[i,c]),g=[],b,a;for(b=e[0],c=e[1];b<c;++b){a=d[b];a=(f?a[f]:a)[h];g.push(a)}return g},indexOf:function(a){var b;if(!a){return -1}b=this.getKey(a);return this.indexOfKey(b)},indexOfKey:function(c){var b=this,a=b.indices;if(c in b.map){if(!a){a=b.getIndices()}return a[c]}return -1},insert:function(d,e){var c=this,a=c.decodeItems(arguments,1),b=a;if(a.length){c.splice(d,0,a);b=a.length===1?a[0]:a}return b},itemChanged:function(c,p,h,u){var a=this,j=h!==undefined,s=a.filtered&&a.getAutoFilter(),n=!1,g=0,i=a.items,t=a.length-1,v=a.sorted&&t>0&&a.getAutoSort(),r=a.getSource(),q=0,f=!1,o=!1,d,l,k,m,b,e;if(r&&!r.updating){a.sourceUpdating=!0;r.itemChanged(c,p,h,u);a.sourceUpdating=!1}else {l=a.getKey(c);if(s){b=a.indexOfKey(j?h:l);o=b<0;f=a.isItemFiltered(c);n=o!==f}if(n){if(f){q=[c];e=-1}else {m=[c];e=a.length}}else if(v&&!f){if(!s){b=a.indexOfKey(j?h:l)}k=a.getSortFn();if(b!==-1){if(b&&k(i[b-1],i[b])>0){g=-1;e=Ext.Array.binarySearch(i,c,0,b,k)}else if(b<t&&k(i[b],i[b+1])>0){g=1;e=Ext.Array.binarySearch(i,c,b+1,k)}if(g){m=[c]}}}d={item:c,key:l,index:e,filterChanged:n,keyChanged:j,indexChanged:!!g,filtered:f,oldIndex:b,newIndex:e,wasFiltered:o,meta:u};if(j){d.oldKey=h}if(p){d.modified=p}++a.generation;a.beginUpdate();a.notify('beforeitemchange',[d]);if(j){a.updateKey(c,h,d)}if(m||q){a.splice(e,q,m)}if(g>0){d.newIndex--}else if(g<0){d.oldIndex++}a.notify(f?'filtereditemchange':'itemchange',[d]);a.endUpdate()}},remove:function(d){var a=this,c=a.decodeRemoveItems(arguments,0),b=a.length;a.splice(0,c);return b-a.length},removeAll:function(){var a=this,b=a.length;if(a.generation&&b){a.splice(0,b)}return a},removeAt:function(j,f){var a=this,e=a.length,i=Ext.Number,g=i.clipIndices(e,[j,f===undefined?1:f],i.Clip.COUNT),c=g[0],d=g[1]-c,h=d===1&&a.getAt(c),b;a.splice(c,d);b=a.length-e;return h&&b?h:b},removeByKey:function(b){var a=this.getByKey(b);if(!a||!this.remove(a)){return !1}return a},replace:function(a){var b=this.indexOf(a);if(b===-1){this.add(a)}else {this.insert(b,a)}},splice:function(F,E,L){var b=this,D=b.sorted&&b.getAutoSort(),G=b.map,o=b.items,r=b.length,n=E instanceof Array?b.decodeRemoveItems(E):null,H=!n,K=Ext.Number,J=K.clipIndices(r,[F,H?E:0],K.Clip.COUNT),m=J[0],z=J[1],w=z-m,p=b.decodeItems(arguments,2),h=p?p.length:0,c,A,C,d=m,k=b.indices||(h||n?b.getIndices():null),e=null,i=w?[m]:null,l=null,t=b.getSource(),j,B,y,a,u,g,v,f,s,q,x,I;if(t&&!t.updating){if(H){n=[];for(a=0;a<w;++a){n.push(o[m+a])}}if(m<r){a=t.indexOf(o[m])}else {a=t.length}b.requestedIndex=F;t.splice(a,n,p);delete b.requestedIndex;return b}if(h){c=p;l=[];A={};if(D){I=b.getSorters();if(h>1){if(!c.$cloned){p=c=c.slice(0)}b.sortData(c)}}for(a=0;a<h;++a){f=b.getKey(u=p[a]);if((v=A[f])!==undefined){(x||(x={}))[v]=1}else {g=k[f];if(g<m||z<=g){(i||(i=[])).push(g)}}A[f]=a;l.push(f)}if(x){s=l;c=[];l=[];c.$cloned=!0;for(a=0;a<h;++a){if(!x[a]){u=p[a];c.push(u);l.push(s[a])}}h=c.length}e={items:c,keys:l}}for(a=n?n.length:0;a-->0;){f=b.getKey(n[a]);if((g=k[f])!==undefined){(i||(i=[])).push(g)}}if(!e&&!i){return b}b.beginUpdate();if(i){j=null;y=[];C={};if(i.length>1){i.sort(Ext.Array.numericSortFn)}for(a=0,q=i.length;a<q;++a){f=b.getKey(u=o[g=i[a]]);if(!(f in G)){continue}delete G[f];if(!j||g>j.at+B.length){y.push(j={at:g,items:B=[],keys:s=[],map:C,next:j,replacement:e});if(e){e.replaced=j}}B.push(C[f]=u);s.push(f);if(g<d){--d}if(w>1&&g===m){--w;i[a--]=++m}}if(e){e.at=d}for(v=y.length;v-->0;){j=y[v];a=j.at;q=j.items.length;if(a+q<r){b.indices=k=null}b.length=r-=q;o.splice(a,q);if(k){s=j.keys;for(a=0;a<q;++a){delete k[s[a]]}}++b.generation;b.notify('remove',[j])}}if(e){if(D&&h>1&&r){b.spliceMerge(c,l)}else {if(D){if(h>1){d=0;b.indices=k=null}else {d=I.findInsertionIndex(e.items[0],o,b.getSortFn(),F)}}if(d===r){z=d;for(a=c.length-1;a>=0;--a){o[z+a]=c[a]}k=b.indices;if(k){for(a=0;a<h;++a){k[l[a]]=d+a}}}else {b.indices=null;Ext.Array.insert(o,d,c)}for(a=0;a<h;++a){G[l[a]]=c[a]}b.length+=h;e.at=d;e.atItem=d===0?null:o[d-1];++b.generation;b.notify('add',[e])}}b.endUpdate();return b},update:function(c,b){var a=this;a.beginUpdate();try{return c.call(b||a,a)}catch(d){throw d}finally{a.endUpdate()}},updateKey:function(d,b,h){var a=this,f=a.map,e=a.indices,g=a.getSource(),c;if(g&&!g.updating){g.updateKey(d,b)}else if((c=a.getKey(d))!==b){if(f[b]===d&&!(c in f)){delete f[b];a.updating++;a.generation++;f[c]=d;if(e){e[c]=e[b];delete e[b]}a.notify('updatekey',[Ext.apply({item:d,newKey:c,oldKey:b},h)]);a.updating--}}},findInsertIndex:function(g,e){var d=this.getSource(),f=d.items,b=d.indexOf(g)-1,c,a;while(b>-1){c=f[b];a=this.indexOf(c);if(a>-1){return a+1}--b}return e},onCollectionAdd:function(l,h){var a=this,j=h.atItem,e=a.transformItems(h.items),i=a.requestedIndex,d,b,f,g,c,k;if(i!==undefined){b=i}else {c=j||l.items[1];b=c?a.indexOf(c):-1;if(b>-1){if(j){++b}}else if(!a.sorted){b=a.findInsertIndex(e[0],h.at?a.length:0)}}if(a.getAutoFilter()&&a.filtered){for(g=0,k=e.length;g<k;++g){c=e[g];if(a.isItemFiltered(c)){if(!f){f=e.slice(0,g)}if(!d){d=[]}d.push(c)}else if(f){f.push(c)}}}a.splice(b<0?a.length:b,0,f||e);if(d){a.notify('filteradd',[d])}},onCollectionBeforeItemChange:function(c,b){var a=this;a.onCollectionUpdateKey=null;if(!a.sourceUpdating){a.notify('beforeitemchange',[b])}},onCollectionBeginUpdate:function(){this.beginUpdate()},onCollectionEndUpdate:function(){this.endUpdate()},onCollectionItemChange:function(b,a){delete this.onCollectionUpdateKey;this.itemChanged(a.item,a.modified,a.oldKey,a.meta)},onCollectionFilteredItemChange:function(){delete this.onCollectionUpdateKey},onCollectionRefresh:function(l){var a=this,j={},h={},c=a.items,d=a.transformItems(l.items),k=a.getFilterFn(),b,i,g,e,f;if(a.filtered&&a.getAutoFilter()){for(b=0,f=0,e=d.length;b<e;b++){if(k(d[b])){c[f++]=d[b]}}c.length=f}else {c.length=0;c.push.apply(c,d)}if(a.sorted){a.sortData(c)}a.length=e=c.length;a.map=j;a.indices=h;for(b=0;b<e;++b){g=a.getKey(i=c[b]);j[g]=i;h[g]=b}++a.generation;a.notify('refresh')},onCollectionRemove:function(b,a){this.splice(0,a.items)},onCollectionUpdateKey:function(b,a){this.updateKey(a.item,a.oldKey,a)},_aggregators:{average:function(e,a,b,d,f){var c=b-a;return c&&this._aggregators.sum.call(this,e,a,b,d,f)/c},bounds:function(h,g,i,f,e){var a,c,d,b;for(b=g;b<i;++b){a=h[b];a=(e?a[e]:a)[f];if(!(a<c)){c=a}if(!(a>d)){d=a}}return [d,c]},count:function(a){return a.length},extremes:function(k,j,l,i,f){var e=null,d=null,c,b,g,h,a;for(c=j;c<l;++c){b=k[c];a=(f?b[f]:b)[i];if(!(a<g)){g=a;e=b}if(!(a>h)){h=a;d=b}}return [d,e]},max:function(c,b,e,a,d){var f=this._aggregators.bounds.call(this,c,b,e,a,d);return f[1]},maxItem:function(c,b,e,a,d){var f=this._aggregators.extremes.call(this,c,b,e,a,d);return f[1]},min:function(c,b,e,a,d){var f=this._aggregators.bounds.call(this,c,b,e,a,d);return f[0]},minItem:function(c,b,e,a,d){var f=this._aggregators.extremes.call(this,c,b,e,a,d);return f[0]},sum:function(g,f,h,e,d){var a,c,b;for(c=0,b=f;b<h;++b){a=g[b];a=(d?a[d]:a)[e];c+=a}return c}},_eventToMethodMap:{add:'onCollectionAdd',beforeitemchange:'onCollectionBeforeItemChange',beginupdate:'onCollectionBeginUpdate',endupdate:'onCollectionEndUpdate',itemchange:'onCollectionItemChange',filtereditemchange:'onCollectionFilteredItemChange',refresh:'onCollectionRefresh',remove:'onCollectionRemove',beforesort:'beforeCollectionSort',sort:'onCollectionSort',beforegroup:'onCollectionBeforeGroup',group:'onCollectionGroup',filter:'onCollectionFilter',filteradd:'onCollectionFilterAdd',updatekey:'onCollectionUpdateKey'},addObserver:function(c){var b=this,a=b.observers;if(!a){b.observers=a=[]}if(b.notifying){b.observers=a=a.slice(0)}a.push(c);if(a.length>1){Ext.Array.sort(a,b.prioritySortFn)}},prioritySortFn:function(a,b){var c=a.observerPriority||0,d=b.observerPriority||0;return c-d},applyExtraKeys:function(e,g){var d=this,f=g||{},b,c,a;for(c in e){a=e[c];if(!a.isCollectionKey){b={collection:d};if(Ext.isString(a)){b.property=a}else {b=Ext.apply(b,a)}a=new Ext.util.CollectionKey(b)}else {a.setCollection(d)}f[c]=d[c]=a;a.name=c}return f},applyGrouper:function(a){if(a&&!a.isGrouper){a=this.getGroupers(!0).decodeGrouper(a)}return a},decodeItems:function(e,d){var g=this,a=d===undefined?e:e[d],b,f,c;if(!a||!a.$cloned){b=e.length>d+1||!Ext.isIterable(a);if(b){a=Ext.Array.slice(e,d);if(a.length===1&&a[0]===undefined){a.length=0}}f=g.getDecoder();if(f){if(!b){a=a.slice(0);b=!0}for(c=a.length;c-->0;){if((a[c]=f.call(g,a[c]))===!1){a.splice(c,1)}}}if(b){a.$cloned=!0}}return a},getIndices:function(){var a=this,c=a.indices,d=a.items,f=d.length,b,e;if(!c){a.indices=c={};++a.indexRebuilds;for(b=0;b<f;++b){e=a.getKey(d[b]);c[e]=b}}return c},notify:function(d,b){var a=this,e=a.observers,g=a._eventToMethodMap[d],j=0,c,i,f,h;b=b||[];if(e&&g){a.notifying=!0;for(c=0,i=e.length;c<i;++c){f=(h=e[c])[g];if(f){if(!j++){b.unshift(a)}f.apply(h,b)}}a.notifying=!1}if(!a.hasListeners){return}if(a.hasListeners[d]){if(!j){b.unshift(a)}a.fireEventArgs(d,b)}},getFilterFn:function(){return this.getFilters().getFilterFn()},getFilters:function(b){var a=this._filters;if(!a&&b!==!1){a=new Ext.util.FilterCollection();this.setFilters(a)}return a},isItemFiltered:function(a){return !this.getFilters().filterFn(a)},onFilterChange:function(f){var a=this,b=a.getSource(),c,d,e;if(!b){c=a.getExtraKeys();if(c){d={};for(e in c){d[e]=c[e].clone(a)}}b=new Ext.util.Collection({keyFn:a.getKey,extraKeys:d,rootProperty:a.getRootProperty()});if(a.length){b.add(a.items)}a.setSource(b);a.autoSource=b}else {if(b.destroyed){return}if(b.length||a.length){a.onCollectionRefresh(b)}}a.notify('filter')},applyFilters:function(b,a){if(!b||b.isFilterCollection){return b}if(b){if(!a){a=this.getFilters()}a.splice(0,a.length,b)}return a},updateFilters:function(b,c){var a=this;if(c){c.un('endupdate','onEndUpdateFilters',a)}if(b){b.on({endupdate:'onEndUpdateFilters',scope:a,priority:a.$endUpdatePriority});b.$filterable=a}a.onEndUpdateFilters(b)},onEndUpdateFilters:function(a){var b=this,d=b.filtered,c=!!a&&a.getFilterCount()>0;if(d||c){b.filtered=c;b.onFilterChange(a)}},getSortFn:function(){return this._sortFn||this.createSortFn()},getSorters:function(b){var a=this._sorters;if(!a&&b!==!1){a=new Ext.util.SorterCollection();this.setSorters(a)}return a},onSortChange:function(){if(this.sorted){this.sortItems()}},sort:function(c,b,d){var a=this.getSorters();a.addSort.apply(a,arguments);return this},sortData:function(a){Ext.Array.sort(a,this.getSortFn());return a},sortItems:function(b){var a=this;if(a.sorted){b=a.getSortFn()}a.indices=null;a.notify('beforesort',[a.getSorters(!1)]);if(a.length){Ext.Array.sort(a.items,b)}a.notify('sort')},sortBy:function(a){return this.sortItems(a)},findInsertionIndex:function(d,c,a,b){return Ext.Array.findInsertionIndex(d,c||this.items,a||this.getSortFn(),b)},applySorters:function(b,a){if(!b||b.isSorterCollection){return b}if(b){if(!a){a=this.getSorters()}a.splice(0,a.length,b)}return a},createSortFn:function(){var d=this,a=d.getGroupers(!1),c=d.getSorters(!1),b=c?c.getSortFn():null,e=a?a.getSortFn():null;if(!a){return b}return function(c,d){var a=e(c,d);if(!a&&b){a=b(c,d)}return a}},getGrouper:function(){var a=this.getGroupers(!1);return a&&a.length?a.getAt(0):null},updateGrouper:function(b){var a=this.getGroupers(!1);if(b){if(!a){a=this.getGroupers(!0)}a.clear();a.add(b)}else {this.setGroupers(null)}},updateSorters:function(b,c){var a=this;if(c&&!c.destroyed){c.un('endupdate','onEndUpdateSorters',a)}if(b){b.on({endupdate:'onEndUpdateSorters',scope:a,priority:a.$endUpdatePriority});if(a.manageSorters){b.$sortable=a}}a.onSorterChange();a.onEndUpdateSorters(b)},onSorterChange:function(){this._sortFn=null},onEndUpdateSorters:function(b){var a=this,d=a.sorted,c=a.grouped&&a.getAutoGroup()||b&&b.length>0;if(d||c){a.sorted=!!c;a.onSortChange(b)}},getGroupers:function(b){var a=this._groupers;if(!a&&b!==!1){a=new Ext.util.GrouperCollection({rootProperty:this.getRootProperty()});this.setGroupers(a)}return a},applyGroupers:function(a,b){if(a==null||a&&a.isGrouperCollection){return a}if(a){if(!b){b=this.getGroupers()}b.splice(0,b.length,a)}return b},updateGroupers:function(c,d){var a=this,b=a.getGroups(),f=a.getSorters(),e;if(d){d.un('endupdate','onEndUpdateGroupers',a)}if(c){if(a.getTrackGroups()){if(!b){b=new Ext.util.GroupCollection({itemRoot:a.getRootProperty(),autoGroup:a.getAutoGroup(),autoSort:a.getAutoSort(),groupConfig:a.getGroupConfig()});a.setGroups(b)}e=!0}c.on('endupdate','onEndUpdateGroupers',a,{prepend:!0})}else {a.setGroups(null)}a.onEndUpdateGroupers(c);if(!f.updating){a.onEndUpdateSorters(f)}if(e){b.onCollectionRefresh(a)}},onEndUpdateGroupers:function(b){var a=this,e=a.grouped,c=a.getSorters(),d=b&&b.length>0;if(a.lastMonitoredGroupers){a.lastMonitoredGroupers.removeGroupersObserver(a);a.lastMonitoredGroupers=null}if(e||d){a.grouped=!!d;a.onSorterChange();if(c&&!c.updating){a.onEndUpdateSorters(b)}a.onGroupChange(b);if(b){a.lastMonitoredGroupers=b;b.addGroupersObserver(a)}}},onGrouperDirectionChange:function(){var a=this;a.onEndUpdateSorters(a.getSorters());a.notify('group',[a.getGroupers(!1)])},onGroupChange:function(c){var a=this,b=a.getGroups();if(b){b.onCollectionGroupersChanged(a);a.groupItems()}else {a.notify('group',[c])}},groupItems:function(){var a=this,b=a.getGroupers(!1),c=a.getGroups();a.notify('beforegroup',[b]);if(a.length&&c){c.onCollectionRefresh(a)}a.notify('group',[b])},removeObserver:function(b){var a=this.observers;if(a){Ext.Array.remove(a,b)}},spliceMerge:function(i,q){var f=this,r=f.map,k=i.length,g=0,n=f.items,m=n.length,h=[],c=0,a=[],p=f.getSortFn(),l,j,d,b,o,e;f.items=a;for(e=0;e<k;e=j){b=i[e];for(;g<m;++g){if(p(b,o=n[g])<0){break}a.push(o)}if(g===m){h[c++]={at:a.length,itemAt:a[a.length-1],items:l=[]};if(c>1){h[c-2].next=h[c-1]}for(;e<k;++e){l.push(b=i[e]);a.push(b)}break}h[c++]={at:a.length,itemAt:a[a.length-1],items:l=[b]};if(c>1){h[c-2].next=h[c-1]}a.push(b);for(j=e+1;j<k;++j){if(p(b=i[j],o)>=0){break}a.push(b);l.push(b)}}for(;g<m;++g){a.push(n[g])}for(d=0;d<k;++d){r[q[d]]=i[d]}f.length=a.length;++f.generation;f.indices=null;for(d=0;d<c;++d){f.notify('add',[h[d]])}},transformItems:Ext.identityFn,getGroups:function(){return (arguments.callee.$previous||Ext.Base.prototype.getGroups).call(this)||null},updateAutoGroup:function(b){var a=this.getGroups();if(a){a.setAutoGroup(b)}this.onEndUpdateSorters(this._sorters)},updateGroups:function(b,a){if(a){this.removeObserver(a);a.destroy()}if(b){this.addObserver(b)}},updateSource:function(b,c){var a=this,d=a.autoSource;if(c){if(!c.destroyed){c.removeObserver(a)}if(c===d){d.destroy();a.autoSource=null}}if(b){b.addObserver(a);if(b.length||a.length){a.onCollectionRefresh(b)}}}},1,0,0,0,0,[[Ext.mixin.Observable.prototype.mixinId||Ext.mixin.Observable.$className,Ext.mixin.Observable]],[Ext.util,'Collection'],function(){var a=this.prototype;a.removeAtKey=a.removeByKey;a.decodeRemoveItems=a.decodeItems;Ext.Object.each(a._aggregators,function(b){a[b]=function(a,c,d){return this.aggregate(a,b,c,d)};a[b+'ByGroup']=function(a){return this.aggregateByGroup(a,b)}})});Ext.define('App.overrides.util.Collection',{override:'Ext.util.Collection',_aggregators:{average:function(e,a,b,d,f){var c=b-a;return c&&this._aggregators.sum.call(this,e,a,b,d,f)/c},bounds:function(h,g,i,f,e){var a,c,d,b;for(b=g;b<i;++b){a=h[b];a=(e?a[e]:a)[f];if(!(a<c)){c=a}if(!(a>d)){d=a}}return [d,c]},count:function(a){return a.length},extremes:function(k,j,l,i,f){var e=null,d=null,c,b,g,h,a;for(c=j;c<l;++c){b=k[c];a=(f?b[f]:b)[i];if(!(a<g)){g=a;e=b}if(!(a>h)){h=a;d=b}}return [d,e]},max:function(c,b,e,a,d){var f=this._aggregators.bounds.call(this,c,b,e,a,d);return f[1]},maxItem:function(c,b,e,a,d){var f=this._aggregators.extremes.call(this,c,b,e,a,d);return f[1]},min:function(c,b,e,a,d){var f=this._aggregators.bounds.call(this,c,b,e,a,d);return f[0]},minItem:function(c,b,e,a,d){var f=this._aggregators.extremes.call(this,c,b,e,a,d);return f[0]},sum:function(g,f,h,e,d){var a,b,c;for(b=0,c=f;c<h;++c){a=g[c];a=(d?a[d]:a)[e];if(typeof a==='object'){try{if(a instanceof math.Matrix){b=math.add(b,a)}}catch(i){console.log(i)}}else {b+=a}}return b}}},function(){var a=this.prototype;a.removeAtKey=a.removeByKey;a.decodeRemoveItems=a.decodeItems;Ext.Object.each(a._aggregators,function(b){a[b]=function(a,c,d){return this.aggregate(a,b,c,d)};a[b+'ByGroup']=function(a){return this.aggregateByGroup(a,b)}})});Ext.cmd.derive('Ext.data.Range',Ext.Base,{isDataRange:!0,begin:0,buffer:0,end:0,length:0,store:null,waitTimeout:10000,activeWait:null,constructor:function(b){var a=this,c,d;Ext.apply(a,b);d=a.store;if(!(c=d.activeRanges)){d.activeRanges=c=[]}c.push(a);a.refresh();if('begin' in b){a.begin=a.end=0;a['goto'](b.begin,b.end)['catch'](function(){})}},destroy:function(){var a=this,c=a.store,b=c&&c.activeRanges;Ext.destroy(a.storeListeners);if(b){Ext.Array.remove(b,a)}a.cancelActiveWait();a.callParent()},'goto':function(b,d){var a=this,f=a.buffer,c=a.task,e;a.begin=b;a.end=d;a.length=d-b;a.cancelActiveWait();a.activeWait=a.setupWait(b,d);e=a.activeWait.promise;a.resolveWaitIfSatisfied();if(f>0){if(!c){a.task=c=new Ext.util.DelayedTask(a.doGoto,a)}c.delay(f)}else {a.doGoto()}return e},privates:{lastBegin:0,lastEnd:0,cancelActiveWait:function(){this.resolveWait(null)},doGoto:Ext.privateFn,refresh:function(){this.records=this.store.getData().items},resolveWait:function(a){var b=this.activeWait;if(b){b.deferred.resolve(a);this.activeWait=null}return a},resolveWaitIfSatisfied:function(){this.resolveWait(this)},setupWait:function(e,f){var d=this,c=d.waitTimeout,b=new Ext.Deferred(),a=b.promise;if(c){a=Ext.Deferred.timeout(a,c)['catch'](function(){return d.resolveWait(null)})}return {deferred:b,promise:a}}}},1,0,0,0,0,0,[Ext.data,'Range'],0);Ext.cmd.derive('Ext.util.ObjectTemplate',Ext.Base,{isObjectTemplate:!0,excludeProperties:{},valueRe:/^[{][a-z.]+[}]$/i,statics:{create:function(a,b){return a.isObjectTemplate?a:new Ext.util.ObjectTemplate(a,b)}},constructor:function(a,b){Ext.apply(this,b);this.template=a},apply:function(b){var a=this;delete a.apply;a.apply=a.compile(a.template);return a.apply(b)},privates:{compile:function(a){var e=this,g=e.excludeProperties,d,b,f,c;if(Ext.isString(a)){if(a.indexOf('{')<0){c=function(){return a}}else if(e.valueRe.test(a)){a=a.substring(1,a.length-1).split('.');c=function(d){var b,c;for(b=d,c=0;b&&c<a.length;++c){b=b[a[c]]}return b}}else {a=new Ext.XTemplate(a);c=function(b){return a.apply(b)}}}else if(!a||Ext.isPrimitive(a)||Ext.isFunction(a)){c=function(){return a}}else if(a instanceof Array){d=[];for(b=0,f=a.length;b<f;++b){d[b]=e.compile(a[b])}c=function(e){var c=[],b;for(b=0;b<f;++b){c[b]=d[b](e)}return c}}else {d={};for(b in a){if(!g[b]){d[b]=e.compile(a[b])}}c=function(f){var e={},b,c;for(b in a){c=g[b]?a[b]:d[b](f);if(c!==undefined){e[b]=c}}return e}}return c}}},1,0,0,0,0,0,[Ext.util,'ObjectTemplate'],0);Ext.cmd.derive('Ext.data.schema.Role',Ext.Base,{isRole:!0,left:!0,owner:!1,side:'left',isMany:!1,defaultReaderType:'json',_internalReadOptions:{recordsOnly:!0,asRoot:!0},constructor:function(c,d){var a=this,b=d.extra;Ext.apply(a,d);if(b){b=Ext.apply({},b);delete b.type;Ext.apply(a,b);delete a.extra}a.association=c;if(c.owner===a.side){c.owner=a;a.owner=!0}},processUpdate:function(){Ext.raise('Only the "many" for an association may be processed. "'+this.role+'" is not valid.')},processLoad:function(d,b,a,c){return a},checkMembership:Ext.emptyFn,adoptAssociated:function(c,b){var a=this.getAssociatedItem(c);if(a){b.adopt(a)}},$roleFilterId:'$associationRoleFilter',createAssociationStore:function(d,k,i,l){var a=this,g=a.association,e=g.getFieldName(),j=g.isManyToMany,h=a.storeConfig,f=k.getId(),c={asynchronousLoad:!1,model:a.cls,role:a,session:d,associatedEntity:k,disableMetaChangeEvent:!0,pageSize:null,remoteFilter:!0,trackRemoved:!d},b;if(j){c.filters=[{id:a.$roleFilterId,property:a.inverse.field,value:f,exactMatch:!0}]}else if(e){c.filters=[{id:a.$roleFilterId,property:e,value:f,exactMatch:!0}];c.foreignKeyName=e}if(h){Ext.apply(c,h)}b=Ext.Factory.store(c);a.onStoreCreate(b,d,f);if(!j||d){b.on({scope:a,add:'onAddToMany',remove:'onRemoveFromMany',clear:'onRemoveFromMany'})}if(i){b.loadData(i)}b.complete=!!l;return b},onStoreCreate:Ext.emptyFn,getAssociatedStore:function(f,b,d,a,v){var k=this,o=k.getStoreName(),c=f[o],w=c,i=f.session,p=b&&b.reload,j=f.$source,h=!1,t=!1,s,e,l,u,q,r,g,m,n;if(!c){if(i){if(j){t=j.phantom}if(!a&&j){g=j[o];if(g&&!g.isLoading()){a=[];q=g.getData().items;for(l=0,u=q.length;l<u;++l){r=q[l];a.push(i.getRecord(r.self,r.id))}h=!!g.complete;s=!0}}if(!s){m=!!a;a=k.findRecords(i,f,a,v);if(!m&&(!a||!a.length)){a=null}h=t||m}}else {h=!!a}c=k.createAssociationStore(i,f,a,h||f.phantom);c.$source=g;if(!a&&(k.autoLoad||b)){p=!0}f[o]=c}if(b){if(p||c.isLoading()){c.on('load',function(h,i,c,g){e=[h,g];d=d||b.scope||f;if(c){Ext.callback(b.success,d,e)}else {Ext.callback(b.failure,d,e)}e.push(c);Ext.callback(b,d,e);Ext.callback(b.callback,d,e)},null,{single:!0})}else {e=[c,null];d=d||b.scope||f;Ext.callback(b.success,d,e);e.push(!0);Ext.callback(b,d,e);Ext.callback(b.callback,d,e)}}n=c.isLoading();if(p){if(!n){c.load()}}else if(w&&a&&!n){c.loadData(a)}return c},getAssociatedItem:function(b){var a=this.isMany?this.getStoreName():this.getInstanceName();return b[a]||null},onDrop:Ext.emptyFn,onIdChanged:Ext.emptyFn,getReaderRoot:function(){var a=this;return a.associationKey||(a.associationKey=a.association.schema.getNamer().readerRoot(a.role))},getReader:function(){var b=this,a=b.reader,d=b.cls,c=!b.associationKey,e=this.getReaderRoot();if(a&&!a.isReader){if(Ext.isString(a)){a={type:a}}Ext.applyIf(a,{model:d,rootProperty:e,useSimpleAccessors:c,type:b.defaultReaderType});a=b.reader=Ext.createByAlias('reader.'+a.type,a)}return a},getInstanceName:function(){var a=this;return a.instanceName||(a.instanceName=a.association.schema.getNamer().instanceName(a.role))},getOldInstanceName:function(){return this.oldInstanceName||(this.oldInstanceName='$old'+this.getInstanceName())},getStoreName:function(){var a=this;return a.storeName||(a.storeName=a.association.schema.getNamer().storeName(a.role))},constructReader:function(h){var b=this,a=b.getReader(),e=b.cls,g=!b.associationKey,f=b.getReaderRoot(),c,d;if(!a){d=e.getProxy();if(d){c=d.getReader();a=new c.self();a.copyFrom(c);a.setRootProperty(f)}else {a=new h.self({model:e,useSimpleAccessors:g,rootProperty:f})}b.reader=a}return a},read:function(h,i,g,a){var c=this.constructReader(g),e=c.getRoot(i),b=this.inverse,d=b&&!b.isMany&&b.getInstanceName(),f=a&&a.recordCreator||c.defaultRecordCreator;if(d){a=Ext.applyIf({recordCreator:function(b,c){if(!b.$parentRecordRef){b.$parentRecordRef=[d,h]}return f(b,c)}},a)}if(e){return c.readRecords(e,a,this._internalReadOptions)}},getCallbackOptions:function(a,c,b){if(typeof a==='function'){a={callback:a,scope:c||b}}else if(a){a=Ext.apply({},a);a.scope=c||a.scope||b}return a},doGetFK:function(d,b,f){var i=this,l=i.cls,j=i.association.getFieldName(),h=i.getInstanceName(),a=d[h],m=b&&b.reload,e=a!==undefined&&!m,k=d.session,c,g;if(!e){if(k){c=d.get(j);if(c||c===0){e=k.peekRecord(l,c,!0)&&!m;a=k.getRecord(l,c,!1)}else {e=!0;d[h]=a=null}}else if(j){c=d.get(j);if(!c&&c!==0){e=!0;d[h]=a=null}else {if(!a){a=l.createWithId(c)}}}else {e=!0;a=null}}else if(a){e=!a.isLoading()}if(e){if(b){g=[a,null];f=f||b.scope||d;Ext.callback(b.success,f,g);g.push(!0);Ext.callback(b,f,g);Ext.callback(b.callback,f,g)}}else {d[h]=a;b=i.getCallbackOptions(b,f,d);a.load(b)}return a},doSetFK:function(a,c,e,l){var f=this,i=f.association.getFieldName(),h=f.getInstanceName(),b=a[h],d=f.inverse,j=d.setterName,k,g;if(c&&c.isEntity){if(b!==c){g=f.getOldInstanceName();a[g]=b;a[h]=c;if(b&&b.isEntity){b[d.getInstanceName()]=undefined}if(i){a.set(i,c.getId())}delete a[g];a.onAssociatedRecordSet(c,f);if(j){c[j](a)}}}else {k=a.changingKey&&!d.isMany||a.set(i,c);if(k&&b&&b.isEntity&&!b.isEqual(b.getId(),c)){a[h]=undefined;if(!d.isMany){b[d.getInstanceName()]=undefined}}}if(e){if(Ext.isFunction(e)){e={callback:e,scope:l||a}}return a.save(e)}}},1,0,0,0,0,0,[Ext.data.schema,'Role'],0);Ext.cmd.derive('Ext.data.schema.Association',Ext.Base,{isOneToOne:!1,isManyToOne:!1,isManyToMany:!1,owner:null,field:null,constructor:function(d){var a=this,c,b;Ext.apply(a,d);a.left=c=new a.Left(a,a.left);a.right=b=new a.Right(a,a.right);c.inverse=b;b.inverse=c},hasField:function(){return !!this.field},getFieldName:function(){var a=this.field;return a?a.name:''}},1,0,0,0,0,0,[Ext.data.schema,'Association'],0);Ext.cmd.derive('Ext.data.schema.OneToOne',Ext.data.schema.Association,{isOneToOne:!0,isToOne:!0,kind:'one-to-one',Left:Ext.define(null,{extend:'Ext.data.schema.Role',onDrop:function(a,c){var b=this.getAssociatedItem(a);a[this.getInstanceName()]=null;if(b){b[this.inverse.getInstanceName()]=null}},onIdChanged:function(a,e,d){var b=this.getAssociatedItem(a),c=this.association.getFieldName();if(!a.session&&b&&c){b.set(c,d)}},createGetter:function(){var a=this;return function(){return a.doGet(this)}},createSetter:function(){var a=this;return function(b){return a.doSet(this,b)}},doGet:function(a){var c=this.getInstanceName(),b=a[c],d=a.session;if(!b&&d){}return b||null},doSet:function(a,b){var d=this.getInstanceName(),e=a[d],c=this.inverse.setterName;if(e!==b){a[d]=b;if(c){b[c](a)}a.onAssociatedRecordSet(b,this)}return e},read:function(a,g,f,e){var c=this,d=c.callParent([a,g,f,e]),b;if(d){b=d[0];if(b){b[c.inverse.getInstanceName()]=a;a[c.getInstanceName()]=b;delete a.data[c.role]}}}}),Right:Ext.define(null,{extend:'Ext.data.schema.Role',left:!1,side:'right',createGetter:function(){var a=this;return function(b,c){return a.doGetFK(this,b,c)}},createSetter:function(){var a=this;return function(d,b,c){return a.doSetFK(this,d,b,c)}},onDrop:function(c,f){var b=this,d=b.association.field,a=b.getAssociatedItem(c),e;if(b.inverse.owner){if(f&&d){e=c.get(d.name);if(e||e===0){a=f.getEntry(b.cls,e).record;if(a){a.drop()}}}else {if(a){a.drop()}}}if(d){c.set(d.name,null)}c[b.getInstanceName()]=null;if(a){a[b.inverse.getInstanceName()]=null}},onValueChange:function(b,f,c){var a=this,e=b[a.getOldInstanceName()]||a.getAssociatedItem(b),h=c||c===0,d=a.getInstanceName(),g=a.cls;b.changingKey=!0;a.doSetFK(b,c);if(!h){b[d]=null}else if(f&&g){b[d]=f.peekRecord(g,c)||undefined}if(a.inverse.owner&&e){a.association.schema.queueKeyCheck(e,a)}b.changingKey=!1},checkKeyForDrop:function(a){var b=this.inverse.getAssociatedItem(a);if(!b){a.drop()}},read:function(a,o,n,m){var f=this,l=f.callParent([a,o,n,m]),b,d,g,c,k,h,j,i,e;if(l){b=l[0];d=f.association.field;if(d){g=d.name}c=a.session;e=a.data;if(b){if(c){k=c.getRefs(b,this.inverse,!0);i=k&&k[a.id]||e[g]===undefined}else {i=!0}if(i){if(d){j=e[g];h=b.id;if(j!==h){e[g]=h;if(c){c.updateReference(a,d,h,j)}}}b[f.inverse.getInstanceName()]=a;a[f.getInstanceName()]=b}delete e[f.role]}}}})},0,0,0,0,0,0,[Ext.data.schema,'OneToOne'],0);Ext.cmd.derive('Ext.data.schema.ManyToOne',Ext.data.schema.Association,{isManyToOne:!0,isToOne:!0,kind:'many-to-one',Left:Ext.define(null,{extend:'Ext.data.schema.Role',isMany:!0,onDrop:function(d,f){var b=this,e=b.getAssociatedItem(d),a,g,c,h;if(e){a=e.removeAll();if(a&&b.inverse.owner){for(c=0,g=a.length;c<g;++c){a[c].drop()}}e.destroy();d[b.getStoreName()]=null}else if(f){a=f.getRefs(d,b);if(a){for(h in a){a[h].drop()}}}},onIdChanged:function(e,i,g){var f=this.association.getFieldName(),d=this.getAssociatedItem(e),b,a,h,c;if(d){c=d.getFilters().get(this.$roleFilterId);if(c){c.setValue(g)}if(!e.session&&f){b=d.getDataSource().items;for(a=0,h=b.length;a<h;++a){b[a].set(f,g)}}}},processUpdate:function(f,i){var d=this,h=d.inverse.cls,g=i.R,c,a,b,e;if(g){for(c in g){a=f.peekRecord(h,c);if(a){e=f.getEntityList(d.cls,g[c]);b=d.getAssociatedItem(a);if(b){b.loadData(e);b.complete=!0}else {a[d.getterName](null,null,e)}}else {f.onInvalidAssociationEntity(h,c)}}}},findRecords:function(l,h,e,k){var d=e,b=l.getRefs(h,this,!0),j=this.association.field,i,a,c,g,m,f;if(j&&(b||k)){i=j.name;d=[];if(e){f={};for(g=0,m=e.length;g<m;++g){a=e[g];c=a.id;if(b&&b[c]){d.push(a)}else if(k&&a.data[i]===undefined){d.push(a);a.data[i]=h.id;l.updateReference(a,j,h.id,undefined)}f[c]=!0}}if(b){for(c in b){if(!f||!f[c]){d.push(b[c])}}}}return d},processLoad:function(e,d,c,a){var b=c;if(a){b=this.findRecords(a,d,c,!0)}this.onLoadMany(d,b,a);return b},adoptAssociated:function(f,d){var c=this.getAssociatedItem(f),b,a,e;if(c){c.setSession(d);b=c.getData().items;for(a=0,e=b.length;a<e;++a){d.adopt(b[a])}}},createGetter:function(){var a=this;return function(c,d,b){return a.getAssociatedStore(this,c,d,b,!0)}},createSetter:null,onAddToMany:function(c,a){var b=c.getAssociatedEntity();if(this.association.field){this.syncFK(a,b,!1)}else {this.setInstances(b,a)}},onLoadMany:function(b,a,c){this.setInstances(b,a,c)},onRemoveFromMany:function(b,a){if(this.association.field){this.syncFK(a,b.getAssociatedEntity(),!0)}else {this.setInstances(null,a)}},read:function(b,j,i,h){var c=this,g=c.inverse.getInstanceName(),a=c.callParent([b,j,i,h]),e,f,d;if(a){e=b[c.getterName](null,null,a);delete b.data[c.role];a=e.getData().items;for(d=0,f=a.length;d<f;++d){a[d][g]=b}}},setInstances:function(c,i,j){var k=this.inverse.getInstanceName(),h=c?c.getId():null,d=this.association.field,l=i.length,b,a,e,f,g;for(b=0;b<l;++b){a=i[b];a[k]=c;if(d){g=d.name;f=a.data;e=f[g];if(e!==h){f[g]=h;if(j){j.updateReference(a,d,h,e)}}}}},syncFK:function(c,d,f){var i=this.association.getFieldName(),g=this.inverse,k=g.setterName,j=g.getInstanceName(),h=c.length,l=d.getId(),e,a,b;while(h-->0){a=c[h];e=!a.isEqual(l,a.get(i));b=f?null:d;if(e!==f){a.changingKey=!0;a[k](b);a.changingKey=!1}else {a[j]=b}}}}),Right:Ext.define(null,{extend:'Ext.data.schema.Role',left:!1,side:'right',onDrop:function(a,c){var b=this.association.field;if(b){a.set(b.name,null)}a[this.getInstanceName()]=null},createGetter:function(){var a=this;return function(b,c){return a.doGetFK(this,b,c)}},createSetter:function(){var a=this;return function(b,c,d){return a.doSetFK(this,b,c,d)}},checkMembership:function(d,b){var c=this.association.field,a;if(c){a=this.getSessionStore(d,b.get(c.name));if(a&&!a.contains(b)){a.add(b)}}},onValueChange:function(b,f,d,l){var c=this,j=c.getInstanceName(),m=c.cls,i,g,a,h,e,k;if(!b.changingKey){i=d||d===0;if(!i){b[j]=null}if(f){a=c.getSessionStore(f,l);if(a){a.remove(b)}if(i){a=c.getSessionStore(f,d);if(a&&!a.isLoading()){a.add(b)}if(m){k=f.peekRecord(m,d)}b[j]=k||undefined}}else {g=b.joined;if(g){for(h=g.length-1;h>=0;h--){a=g[h];if(a.isStore){e=a.getAssociatedEntity();if(e&&e.self===c.cls&&e.getId()===l){a.remove(b)}}}}}}if(c.owner&&d===null){c.association.schema.queueKeyCheck(b,c)}},checkKeyForDrop:function(a){var b=this.association.field;if(a.get(b.name)===null){a.drop()}},getSessionStore:function(c,d){var b=this.cls,a;if(b){a=c.peekRecord(b,d);if(a){return this.inverse.getAssociatedItem(a)}}},read:function(b,f,e,d){var c=this.callParent([b,f,e,d]),a;if(c){a=c[0];if(a){b[this.getInstanceName()]=a;delete b.data[this.role]}}}})},0,0,0,0,0,0,[Ext.data.schema,'ManyToOne'],0);Ext.cmd.derive('Ext.data.schema.ManyToMany',Ext.data.schema.Association,{isManyToMany:!0,isToMany:!0,kind:'many-to-many',Left:Ext.define(null,{extend:'Ext.data.schema.Role',isMany:!0,digitRe:/^\d+$/,findRecords:function(i,k,f){var l=i.getMatrixSlice(this.inverse,k.id),g=l.members,h=[],m=this.cls,d,e,j,a,c,b;if(f){d={};for(e=0,j=f.length;e<j;++e){b=f[e];a=b.id;c=g[a];if(!(c&&c[2]===-1)){h.push(b)}d[a]=!0}}for(a in g){c=g[a];if(!d||!d[a]&&(c&&c[2]!==-1)){b=i.peekRecord(m,a);if(b){h.push(b)}}}return h},onIdChanged:function(b,d,c){var a=this.getAssociatedItem(b);if(a){a.getFilters().get(this.$roleFilterId).setValue(c)}},processLoad:function(e,d,b,c){var a=b;if(c){a=this.findRecords(c,d,b);this.onAddToMany(e,a,!0)}return a},processUpdate:function(b,f){var a=this,i=a.inverse.cls,h=f.R,e,c,d,g;if(h){for(e in h){c=b.peekRecord(i,e);if(c){g=b.getEntityList(a.cls,h[e]);d=a.getAssociatedItem(c);if(d){d.loadData(g);d.complete=!0}else {c[a.getterName](null,null,g)}}else {b.onInvalidAssociationEntity(i,e)}}}a.processMatrixBlock(b,f.C,1);a.processMatrixBlock(b,f.D,-1)},checkMembership:function(l,i){var d=l.getMatrix(this.association,!0),g,j,k,f,e,h,c,m,b,a;if(!d){return}g=this.left?d.right:d.left;j=g.inverse.role.cls;k=this.inverse;e=g.slices;if(e){f=e[i.id];if(f){c=f.members;for(h in c){m=c[h];if(m[2]!==-1){b=l.peekRecord(j,h);if(b){a=k.getAssociatedItem(b);if(a){a.matrixUpdate=1;a.add(i);a.matrixUpdate=0}}}}}}},onStoreCreate:function(d,c,e){var b=this,a;if(c){a=c.getMatrixSlice(b.inverse,e);a.attach(d);a.notify=b.onMatrixUpdate;a.scope=b}},processMatrixBlock:function(f,b,g){var e=this.inverse,d=this.digitRe,c,a;if(b){for(a in b){if(d.test(a)){a=parseInt(a,10)}c=f.getMatrixSlice(e,a);c.update(b[a],g)}}},createGetter:function(){var a=this;return function(c,d,b){return a.getAssociatedStore(this,c,d,b,!1)}},onAddToMany:function(a,b,c){if(!a.matrixUpdate){a.matrixUpdate=1;a.matrix.update(b,c===!0?0:1);a.matrixUpdate=0}},onRemoveFromMany:function(a,b){if(!a.matrixUpdate){a.matrixUpdate=1;a.matrix.update(b,-1);a.matrixUpdate=0}},read:function(a,f,e,d){var b=this,c=b.callParent([a,f,e,d]);if(c){a[b.getterName](null,null,c);delete a.data[b.role]}},onMatrixUpdate:function(f,e,g){var a=f.store,b,c,d;if(a&&!a.loading&&!a.matrixUpdate){a.matrixUpdate=1;b=a.indexOfId(e);if(g<0){if(b>=0){a.remove([b])}}else if(b<0){d=a.getSession().getEntry(this.type,e);c=d&&d.record;if(c){a.add(c)}}a.matrixUpdate=0}},adoptAssociated:function(e,d){var a=this.getAssociatedItem(e),c,b,f;if(a){a.setSession(d);this.onStoreCreate(a,d,e.getId());c=a.getData().items;for(b=0,f=c.length;b<f;++b){d.adopt(c[b])}}}},function(){var a=this;Ext.ClassManager.onCreated(function(){Ext.data.schema.ManyToMany.prototype.Right=Ext.define(null,{extend:a,left:!1,side:'right'})},null,'Ext.data.schema.ManyToMany')})},0,0,0,0,0,0,[Ext.data.schema,'ManyToMany'],0);Ext.cmd.derive('Ext.util.Inflector',Ext.Base,{singleton:!0,plurals:[[/(quiz)$/i,'$1zes'],[/^(ox)$/i,'$1en'],[/([m|l])ouse$/i,'$1ice'],[/(matr|vert|ind)ix|ex$/i,'$1ices'],[/(x|ch|ss|sh)$/i,'$1es'],[/([^aeiouy]|qu)y$/i,'$1ies'],[/(hive)$/i,'$1s'],[/(?:([^f])fe|([lr])f)$/i,'$1$2ves'],[/sis$/i,'ses'],[/([ti])um$/i,'$1a'],[/(buffal|tomat|potat)o$/i,'$1oes'],[/(bu)s$/i,'$1ses'],[/(alias|status|sex)$/i,'$1es'],[/(octop|vir)us$/i,'$1i'],[/(ax|test)is$/i,'$1es'],[/^(p)erson$/i,'$1eople'],[/^(m)an$/i,'$1en'],[/(.*)(child)(ren)?$/i,'$1$2ren'],[/s$/i,'s'],[/$/,'s']],singulars:[[/(address)$/i,'$1'],[/(quiz)zes$/i,'$1'],[/(matr)ices$/i,'$1ix'],[/(vert|ind)ices$/i,'$1ex'],[/^(ox)en/i,'$1'],[/(alias|status)es$/i,'$1'],[/(octop|vir)i$/i,'$1us'],[/(cris|ax|test)es$/i,'$1is'],[/(shoe)s$/i,'$1'],[/(o)es$/i,'$1'],[/(bus)es$/i,'$1'],[/([m|l])ice$/i,'$1ouse'],[/(x|ch|ss|sh)es$/i,'$1'],[/(m)ovies$/i,'$1ovie'],[/(s)eries$/i,'$1eries'],[/([^aeiouy]|qu)ies$/i,'$1y'],[/([lr])ves$/i,'$1f'],[/(tive)s$/i,'$1'],[/(hive)s$/i,'$1'],[/([^f])ves$/i,'$1fe'],[/(^analy)ses$/i,'$1sis'],[/((a)naly|(b)a|(d)iagno|(p)arenthe|(p)rogno|(s)ynop|(t)he)ses$/i,'$1$2sis'],[/([ti])a$/i,'$1um'],[/(n)ews$/i,'$1ews'],[/(p)eople$/i,'$1erson'],[/s$/i,'']],uncountable:['sheep','fish','series','species','money','rice','information','equipment','grass','mud','offspring','deer','means'],singular:function(b,a){this.singulars.unshift([b,a])},plural:function(b,a){this.plurals.unshift([b,a])},clearSingulars:function(){this.singulars=[]},clearPlurals:function(){this.plurals=[]},isTransnumeral:function(a){return Ext.Array.indexOf(this.uncountable,a)!==-1},pluralize:function(a){if(this.isTransnumeral(a)){return a}var e=this.plurals,f=e.length,d,b,c;for(c=0;c<f;c++){d=e[c];b=d[0];if(b==a||b.test&&b.test(a)){return a.replace(b,d[1])}}return a},singularize:function(a){if(this.isTransnumeral(a)){return a}var e=this.singulars,f=e.length,d,b,c;for(c=0;c<f;c++){d=e[c];b=d[0];if(b==a||b.test&&b.test(a)){return a.replace(b,d[1])}}return a},classify:function(a){return Ext.String.capitalize(this.singularize(a))},ordinalize:function(a){var c=parseInt(a,10),d=c%10,b=c%100;if(11<=b&&b<=13){return a+'th'}else {switch(d){case 1:return a+'st';case 2:return a+'nd';case 3:return a+'rd';default:return a+'th';}}}},0,0,0,0,0,0,[Ext.util,'Inflector'],function(){var a,b={alumnus:'alumni',cactus:'cacti',focus:'foci',nucleus:'nuclei',radius:'radii',stimulus:'stimuli',ellipsis:'ellipses',paralysis:'paralyses',oasis:'oases',appendix:'appendices',index:'indexes',beau:'beaux',bureau:'bureaux',tableau:'tableaux',woman:'women',child:'children',man:'men',corpus:'corpora',criterion:'criteria',curriculum:'curricula',genus:'genera',memorandum:'memoranda',phenomenon:'phenomena',foot:'feet',goose:'geese',tooth:'teeth',antenna:'antennae',formula:'formulae',nebula:'nebulae',vertebra:'vertebrae',vita:'vitae'};for(a in b){if(b.hasOwnProperty(a)){this.plural(a,b[a]);this.singular(b[a],a)}}});Ext.cmd.derive('Ext.data.schema.Namer',Ext.Base,{isNamer:!0,capitalize:function(a){return Ext.String.capitalize(a)},fieldRole:function(a){var b=a.match(this.endsWithIdRe,'');if(b){a=a.substr(0,a.length-(b[1]||b[2]).length)}return this.apply('uncapitalize',a)},idField:function(a){return this.apply('uncapitalize,singularize',a)+'Id'},instanceName:function(a){return this.apply('underscore',a)},multiRole:function(a){return this.apply('undotted,uncapitalize,pluralize',a)},pluralize:function(a){return Ext.util.Inflector.pluralize(a)},readerRoot:function(a){return this.apply('uncapitalize',a)},singularize:function(a){return Ext.util.Inflector.singularize(a)},storeName:function(a){return this.apply('underscore',a)},uncapitalize:function(a){return Ext.String.uncapitalize(a)},underscore:function(a){return '_'+a},uniRole:function(a){return this.apply('undotted,uncapitalize,singularize',a)},undotted:function(c){var a,b;if(c.indexOf('.')<0){return c}a=c.split('.');b=a.length;while(b-->1){a[b]=this.apply('capitalize',a[b])}return a.join('')},getterName:function(a){var b=a.role;if(a&&a.isMany){return b}return 'get'+this.apply('capitalize',b)},inverseFieldRole:function(e,f,c,d){var a=this,b=a.apply(f?'uniRole':'multiRole',e),g=a.apply('pluralize',c),h=a.apply('undotted,pluralize',d);if(g.toLowerCase()!==h.toLowerCase()){b=c+a.apply('capitalize',b)}return b},manyToMany:function(c,e,d){var b=this,a=b.apply('undotted,capitalize,singularize',e)+b.apply('undotted,capitalize,pluralize',d);if(c){a=b.apply('capitalize',c+a)}return a},manyToOne:function(d,b,a,c){return this.apply('capitalize,singularize',a)+this.apply('capitalize',b)},matrixRole:function(a,c){var b=this.apply(a?'multiRole,capitalize':'multiRole',c);return a?a+b:b},oneToOne:function(d,b,a,c){return this.apply('undotted,capitalize,singularize',a)+this.apply('capitalize',b)},setterName:function(a){return 'set'+this.apply('capitalize',a.role)},endsWithIdRe:/(?:(_id)|[^A-Z](Id))$/,cache:{},apply:function(b,c){var e=this,h=e.cache,i=h[c]||(h[c]={}),a=i[b],d,g,f;if(!a){if(b.indexOf(',')<0){a=e[b](c)}else {g=(f=b.split(',')).length;a=c;for(d=0;d<g;++d){a=e.apply(f[d],a)}}i[b]=a}return a}},0,0,0,0,['namer.default'],[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.data.schema,'Namer'],0);Ext.cmd.derive('Ext.data.schema.Schema',Ext.Base,{aliasPrefix:'schema.',isSchema:!0,type:'default',statics:{instances:{},get:function(a){var f=this,g=f.instances,c='default',e=a&&Ext.isString(a),b,d;if(a){if(a.isSchema){return a}c=e?a:a.id||c}if(!(b=g[c])){g[c]=b=f.create(a);b.id=c}else if(a&&!e){d=Ext.merge({},b.config);Ext.merge(d,a);b.setConfig(d);b.config=d}return b},lookupEntity:function(b){var a=null,e=this.instances,c,d,f;if(b){if(b.isEntity){a=b.self}else if(Ext.isFunction(b)){a=b}else if(Ext.isString(b)){a=Ext.ClassManager.get(b);if(a&&(!a.prototype||!a.prototype.isEntity)){a=null}if(!a){for(d in e){f=e[d];c=f.getEntity(b);if(c){if(a){Ext.raise('Ambiguous entity name "'+b+'". Defined by schema "'+a.schema.type+'" and "'+d+'"')}a=c}}}if(!a){Ext.raise('No such Entity "'+b+'".')}}}return a}},assocCount:0,entityCount:0,config:{defaultIdentifier:null,keyCheckDelay:10,namer:'default',namespace:null,proxy:{type:'ajax',url:'{prefix}/{entityName}'},urlPrefix:''},onClassExtended:function(c,b){var a=b.alias;if(a&&!b.type){if(!Ext.isString(a)){a=a[0]}c.prototype.type=a.substring(this.prototype.aliasPrefix.length)}},constructor:function(a){this.initConfig(a);this.clear()},applyDefaultIdentifier:function(a){return a&&Ext.Factory.dataIdentifier(a)},applyNamer:function(b){var a=Ext.data.schema.Namer.create(b);a.schema=this;return a},applyNamespace:function(a){var b;if(a){b=a.length-1;if(a.charAt(b)!=='.'){a+='.'}}return a},applyProxy:function(a){return Ext.util.ObjectTemplate.create(a)},eachAssociation:function(d,c){var b=this.associations,a;for(a in b){if(b.hasOwnProperty(a)){if(d.call(c,a,b[a])===!1){break}}}},eachEntity:function(d,c){var b=this.entities,a;for(a in b){if(b.hasOwnProperty(a)){if(d.call(c,a,b[a].cls)===!1){break}}}},getAssociation:function(b){var a=this.associations[b];return a||null},getEntity:function(b){var a=this.entityClasses[b]||this.entities[b];return a&&a.cls||null},getEntityName:function(c){var d=this.getNamespace(),b,a;if(typeof c==='string'){a=c}else {a=c.$className||null}if(a){if(d){b=d.length;if(a.substring(0,b)!==d){return a}}if(b){a=a.substring(b)}}return a},hasAssociations:function(a){a=a.entityName||a;return !!this.associationEntityMap[a]},hasEntity:function(b){var a=this.getEntityName(b);return !!(this.entities[a]||this.entityClasses[a])},addMatrix:function(n,k,l,j,i){var a=this,h=a.getNamer(),m=a.associations,g=a.entities,c=j.type,b=i.type,p=j.field||h.apply('idField',c),o=i.field||h.apply('idField',b),r=j.role||h.matrixRole(l,c),q=i.role||h.matrixRole(l,b),d,f,e;f=g[c]||(g[c]={cls:null,name:c,associations:{}});e=g[b]||(g[b]={cls:null,name:b,associations:{}});++a.assocCount;m[k]=d=new Ext.data.schema.ManyToMany({name:k,schema:a,definedBy:n,left:{cls:f.cls,type:c,role:r,field:p,associationKey:j.associationKey},right:{cls:e.cls,type:b,role:q,field:o,associationKey:i.associationKey}});f.associations[d.right.role]=d.right;e.associations[d.left.role]=d.left;if(f.cls){a.associationEntityMap[f.cls.entityName]=!0}if(e.cls){a.associationEntityMap[e.cls.entityName]=!0}a.decorateModel(d)},addReference:function(g,d,c,n,p){var f=this,j=f.getNamer(),q=f.entities,k=f.associations,l=g.entityName,a=c.association,s=c.child,r=c.parent,b=c.role,e=c.type||r||s,m=c.inverse,o=Ext.isString(m)?{role:m}:m,h=o&&o.role,i,t;if(!b){if(!d||c.legacy){b=j.apply('uncapitalize',e)}else {b=j.apply('fieldRole',d.name)}}if(!h){h=j.inverseFieldRole(l,n,b,e)}if(!a){if(n){a=j.oneToOne(g,h,e,b)}else {a=j.manyToOne(g,h,e,b)}}if(p&&a in k){if(p(k[a],a,h,b)!==!1){return}}i=q[e]||(q[e]={cls:null,name:e,associations:{}});t=n?Ext.data.schema.OneToOne:Ext.data.schema.ManyToOne;a=new t({name:a,owner:s?'left':r?'right':null,definedBy:g,schema:f,field:d,nullable:d?!!d.allowBlank:!0,left:{cls:g,type:l,role:h,extra:o},right:{cls:i.cls,type:e,role:b,extra:c},meta:c});g.associations[b]=a.right;i.associations[h]=a.left;if(d){d.reference=a.right;g.references.push(d)}++f.assocCount;f.associationEntityMap[l]=!0;if(i.cls){f.associationEntityMap[i.cls.entityName]=!0}k[a.name]=a;if(a.right.cls){f.decorateModel(a)}},privates:{addEntity:function(a){var c=this,i=c.entities,e=a.entityName,b=i[e],j=a.fields,d,g,f,k,h;if(!b){i[e]=b={name:e,associations:{}}}else {d=b.associations;for(h in d){d[h].inverse.cls=a;c.associationEntityMap[e]=!0;c.decorateModel(d[h].association)}}b.cls=a;a.prototype.associations=a.associations=b.associations;c.entityClasses[a.$className]=b;++c.entityCount;for(f=0,k=j.length;f<k;++f){g=j[f];if(g.reference){c.addReferenceDescr(a,g)}}},addMatrices:function(c,a){var e=this,b,f,d;if(Ext.isString(a)){e.addMatrixDescr(c,null,a)}else if(a[0]){for(b=0,f=a.length;b<f;++b){e.addMatrixDescr(c,null,a[b])}}else {for(d in a){e.addMatrixDescr(c,d,a[d])}}},addMatrixDescr:function(i,f,a){var h=this,d=i.entityName,k=h.associations,e=h.getNamer(),c=a.left,b=a.right,j,g;if(Ext.isString(a)){if(a.charAt(0)==='#'){c={type:d};b={type:a.substring(1)}}else if(a.charAt(j=a.length-1)==='#'){c={type:a.substring(0,j)};b={type:d}}else if(e.apply('multiRole',d)<e.apply('multiRole',a)){c={type:d};b={type:a}}else {c={type:a};b={type:d}}}else {g=a.relation;if(c||!b&&e.apply('multiRole',d)<e.apply('multiRole',a.type)){if(!c||c===!0){c={type:d}}else {c=Ext.apply({type:d},c)}b=a}else {if(!b||b===!0){b={type:d}}else {b=Ext.apply({type:d},b)}c=a}}if(!f){f=e.manyToMany(g,c.type,b.type)}if(!(f in k)){h.addMatrix(i,f,g,c,b)}},addReferenceDescr:function(c,b){var d=this,a=b.$reference;if(Ext.isString(a)){a={type:a}}else {a=Ext.apply({},a)}d.addReference(c,b,a,b.unique)},addBelongsTo:function(a,b){this.addKeylessSingle(a,b,!1)},addHasOne:function(a,b){this.addKeylessSingle(a,b,!0)},addKeylessSingle:function(c,a,e){var d,b;a=Ext.apply({},this.checkLegacyAssociation(c,a));a.type=this.getEntityName(a.child||a.parent||a.type);d=a.foreignKey||a.type.toLowerCase()+'_id';b=c.getField(d);a.fromSingle=!0;if(b){b.$reference=a;b.unique=!0;a.legacy=!0}this.addReference(c,b,a,e)},addHasMany:function(f,a){var i=this,m=i.entities,g=i.pending,e,b,d,h,k,c,l,j;a=Ext.apply({},this.checkLegacyAssociation(f,a));a.type=this.getEntityName(a.child||a.parent||a.type);b=a.type;h=m[b];e=h&&h.cls;if(e){b=f.entityName;k=a.foreignKey||b.toLowerCase()+'_id';delete a.foreignKey;j=Ext.apply({},a.inverse);delete a.inverse;c=Ext.apply({},a);delete c.type;a=Ext.apply({type:b,inverse:c},j);l=c.child;if(l){delete c.child;a.parent=b}d=e.getField(k);if(d){d.$reference=a;a.legacy=!0}i.addReference(e,d,a,!1)}else {if(!g[b]){g[b]=[]}g[b].push([f,a])}},checkLegacyAssociation:function(c,a){var b;if(Ext.isString(a)){a={type:a}}else {a=Ext.apply({},a)}if(a.model){a.type=a.model;delete a.model}b=a.associatedName||a.name;if(b){delete a.associatedName;delete a.name;a.role=b}return a},afterKeylessAssociations:function(f){var c=this.pending,d=f.entityName,b=c[d],a,e;if(b){for(a=0,e=b.length;a<e;++a){this.addHasMany.apply(this,b[a])}delete c[d]}},clear:function(c){var a=this,b=a.timer;delete a.setConfig;if(b){window.clearTimeout(b);a.timer=null}a.associations={};a.associationEntityMap={};a.entities={};a.entityClasses={};a.pending={};a.assocCount=a.entityCount=0;if(c){a.setNamespace(null)}},constructProxy:function(c){var b=this,a=Ext.Object.chain(c),d=b.getProxy();a.schema=b;a.prefix=b.getUrlPrefix();return d.apply(a)},applyDecoration:function(a){var g=this,f=a.inverse.cls,e=g.getNamer(),b,c,d;if(f&&!a.decorated){a.decorated=!0;d=f.prototype;if(!(b=a.getterName)){a.getterName=b=e.getterName(a)}d[b]=a.createGetter();if(a.createSetter){if(!(c=a.setterName)){a.setterName=c=e.setterName(a)}d[c]=a.createSetter()}}},decorateModel:function(a){this.applyDecoration(a.left);this.applyDecoration(a.right)},processKeyChecks:function(g){var a=this,b=a.keyCheckQueue,e=a.timer,f,c,d;if(e){window.clearTimeout(e);a.timer=null}if(!b){return}do{b=a.keyCheckQueue;a.keyCheckQueue=[];for(c=0,f=b.length;c<f;++c){d=b[c];d.role.checkKeyForDrop(d.record)}}while(g&&a.keyCheckQueue.length)},queueKeyCheck:function(d,e){var a=this,b=a.keyCheckQueue,c=a.timer;if(!b){a.keyCheckQueue=b=[]}b.push({record:d,role:e});if(!c){a.timer=c=Ext.defer(a.processKeyChecks,a.getKeyCheckDelay(),a)}},rankEntities:function(){var d=this,e=d.entities,b=Ext.Object.getKeys(e),f=b.length,c,a;d.nextRank=1;b.sort();for(a=0;a<f;++a){c=e[b[a]].cls;if(!c.rank){d.rankEntity(c)}}},rankEntity:function(d){var c=d.associations,b,a,e;for(e in c){a=c[e];if(!a.left&&a.association.field){b=a.cls;if(!b.rank){this.rankEntity(b)}}}d.rank=this.nextRank++}}},1,0,0,0,['schema.default'],[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.data.schema,'Schema'],0);Ext.cmd.derive('Ext.data.AbstractStore',Ext.Base,{factoryConfig:{defaultType:'store',type:'store'},$configPrefixed:!1,$configStrict:!1,config:{filters:null,autoDestroy:undefined,storeId:null,statefulFilters:!1,sorters:null,remoteSort:{lazy:!0,$value:!1},remoteFilter:{lazy:!0,$value:!1},remoteSummary:{lazy:!0,$value:!1},groupField:undefined,groupDir:'ASC',grouper:null,groupers:undefined,pageSize:25,autoSort:null,reloadOnClearSorters:!1,autoLoadOnFilterEnd:undefined},currentPage:1,loading:!1,isStore:!0,updating:0,observerPriority:0,constructor:function(c){var a=this,b;a.isInitializing=!0;a.mixins.observable.constructor.call(a,c);a.isInitializing=!1;b=a.getStoreId();if(!b&&(c&&c.id)){a.setStoreId(b=c.id)}if(b){Ext.data.StoreManager.register(a)}},createActiveRange:function(a){var b=Ext.apply({store:this},a);return new Ext.data.Range(b)},syncActiveRanges:function(){var b=this.activeRanges,c=b&&b.length,a;for(a=0;a<c;a++){b[a].refresh()}},getCount:function(){var a=this.getData();return a?a.getCount():0},rangeCached:function(a,b){return this.getData().getCount()>=Math.max(a,b)},find:function(g,h,d,e,b,c){var a=!e,f=!!(a&&c);return this.getData().findIndex(g,h,d,a,f,!b)},findRecord:function(){var a=this,b=a.find.apply(a,arguments);return b!==-1?a.getAt(b):null},findExact:function(b,c,a){return this.getData().findIndexBy(function(d){return d.isEqual(d.get(b),c)},this,a)},findBy:function(c,a,b){return this.getData().findIndexBy(c,a,b)},getAt:function(a){return this.getData().getAt(a)||null},getRange:function(d,b,a){var c=this.getData().getRange(d,Ext.isNumber(b)?b+1:b);if(a&&a.callback){a.callback.call(a.scope||this,c,d,b,a)}return c},getFilters:function(b){var c=this,a=(arguments.callee.$previous||Ext.Base.prototype.getFilters).call(this);if(!a&&b!==!1){c.setFilters([]);a=(arguments.callee.$previous||Ext.Base.prototype.getFilters).call(this)}return a},applyFilters:function(b,a){var c=this,d=!a;if(d){a=c.createFiltersCollection()}if(b!==a){if(b&&b.isCollection){b=b.items.slice()}a.add(b);if(d){c.onRemoteFilterSet(a,c.getRemoteFilter())}}return a},getSorters:function(b){var c=this,a=(arguments.callee.$previous||Ext.Base.prototype.getSorters).call(this);if(!a&&b!==!1){c.setSorters([]);a=(arguments.callee.$previous||Ext.Base.prototype.getSorters).call(this)}return a},applySorters:function(d,a){var b=this,c;if(!a){a=b.createSortersCollection();c=!0}a.add(d);if(c){b.onRemoteSortSet(a,b.getRemoteSort())}return a},filter:function(a,c,b){if(Ext.isString(a)){a={property:a,value:c}}this.suppressNextFilter=!!b;this.getFilters().add(a);this.suppressNextFilter=!1},removeFilter:function(a,d){var b=this,c=b.getFilters();b.suppressNextFilter=!!d;if(a instanceof Ext.util.Filter){c.remove(a)}else {c.removeByKey(a)}b.suppressNextFilter=!1},updateAutoSort:function(a){this.getData().setAutoSort(a)},updateRemoteSort:function(a){this.onRemoteSortSet(this.getSorters(!1),a)},updateRemoteFilter:function(a){this.onRemoteFilterSet(this.getFilters(!1),a)},addFilter:function(b,a){this.suppressNextFilter=!!a;this.getFilters().add(b);this.suppressNextFilter=!1},filterBy:function(b,a){this.getFilters().add({filterFn:b,scope:a||this})},clearFilter:function(c){var b=this,a=b.getFilters(!1);if(!a||a.getCount()===0){return}b.suppressNextFilter=!!c;a.removeAll();b.suppressNextFilter=!1},isFiltered:function(){return this.getFilters().getCount()>0},isSorted:function(){var a=this.getSorters(!1);return !!(a&&a.length>0)||this.isGrouped()},addFieldTransform:function(b){if(b.getTransform()){return}var e=b.getProperty(),d=this.getModel(),c,a;if(d){c=d.getField(e);a=c?c.getSortType():null}if(a&&a!==Ext.identityFn){b.setTransform(a)}},beginUpdate:function(){if(!this.updating++&&this.hasListeners.beginupdate){this.fireEvent('beginupdate')}},endUpdate:function(){if(this.updating&&!--this.updating){if(this.hasListeners.endupdate){this.fireEvent('endupdate')}this.onEndUpdate()}},getState:function(){var b=this,f=[],i=b.getFilters(),g=b.getGrouper(),e=[],h=b.getGroupers(!1),c,d,a;b.getSorters().each(function(a){f[f.length]=a.getState();d=!0});if(b.statefulFilters&&b.saveStatefulFilters){d=!0;c=[];i.each(function(a){c[c.length]=a.getState()})}if(g){d=!0}else if(h){h.each(function(a){e[e.length]=a.getState();d=!0})}if(d){a={};if(f.length){a.sorters=f}if(c){a.filters=c}if(g){a.grouper=g.getState()}else if(e.length){a.groupers=e}}return a},applyState:function(b){var a=this,f=b.sorters,d=b.filters,e=b.grouper,c=b.groupers;if(f){a.getSorters().replaceAll(f)}if(d){a.saveStatefulFilters=!0;a.getFilters().replaceAll(d)}if(e){a.setGrouper(e)}else if(c){a.setGroupers(c)}},hasPendingLoad:Ext.emptyFn,isLoaded:Ext.emptyFn,isLoading:Ext.emptyFn,destroy:function(){var a=this;if(a.hasListeners.beforedestroy){a.fireEvent('beforedestroy',a)}a.destroying=!0;if(a.getStoreId()){Ext.data.StoreManager.unregister(a)}a.doDestroy();if(a.hasListeners.destroy){a.fireEvent('destroy',a)}a.callParent()},doDestroy:Ext.emptyFn,sort:function(c,b,d){var a=this;if(arguments.length===0){if(a.getRemoteSort()){a.load()}else {a.forceLocalSort()}}else {a.getSorters().addSort(c,b,d)}},onBeforeCollectionSort:function(b,a){if(a){this.fireEvent('beforesort',this,a.getRange())}},onSorterEndUpdate:function(){var a=this,d=!0,b=a.getSorters(!1),c;if(a.settingGroups||!b){return}b=b.getRange();c=b.length;if(a.getRemoteSort()){if((a.isLoaded()||a.getAutoLoad())&&(b.length||a.getReloadOnClearSorters())){d=!1;a.load({callback:function(){a.fireEvent('sort',a,b)}})}}else if(c){a.fireEvent('datachanged',a);a.fireEvent('refresh',a)}if(d){a.fireEvent('sort',a,b)}},onFilterEndUpdate:function(){var a=this,b=a.suppressNextFilter,c=a.getFilters(!1);if(!c){return}if(a.getRemoteFilter()){a.currentPage=1;if(!b&&(a.isLoaded()||a.getAutoLoad()||a.getAutoLoadOnFilterEnd())){a.load()}}else if(!b){a.fireEvent('datachanged',a);a.fireEvent('refresh',a)}if(a.trackStateChanges){a.saveStatefulFilters=!0}a.fireEvent('filterchange',a,a.getFilters().getRange())},updateGroupField:function(a){if(a){this.setGrouper({property:a,direction:this.getGroupDir()})}else {this.setGrouper(null)}},getGrouper:function(){return this.getData().getGrouper()},setGrouper:function(b){var a=this,c=!a.isConfiguring||a.isConfiguring&&b;if(c){a.usesGroupers=!1;a.group(b)}},getGroupers:function(b){var a=this.getData();return a&&a.isCollection?a.getGroupers(b):null},setGroupers:function(b){var a=this,c=!a.isConfiguring||a.isConfiguring&&b;if(c){a.usesGroupers=!0;a.group(b)}},group:function(a,f){var b=this,g=b.getData(),e,d,c;if(b.usesGroupers){b.fireEvent('beforegroupschange',b)}b.settingGroups=!0;e=g.getGroupers();if(a){if(Ext.isArray(a)){c=a}else if(Ext.isObject(a)){c=[a]}else if(Ext.isString(a)){d=e.get(a);if(!d){d={property:a,direction:f||b.getGroupDir()};c=[d]}else if(f===undefined){d.toggle()}else {d.setDirection(f)}}if(c&&c.length){e.replaceAll(c)}}else {g.setGrouper(null);g.setGroupers(null)}delete b.settingGroups},fireGroupChange:function(b){var a=this;if(!a.isConfiguring&&!a.destroying&&!a.destroyed){if(a.usesGroupers){a.fireEvent('groupschange',a,a.getGroupers(!1))}else {a.fireGroupChangeEvent(b||a.getGrouper())}}},fireGroupChangeEvent:function(a){this.fireEvent('groupchange',this,a)},clearGrouping:function(){this.group(null)},getGroupField:function(){var a=this.getGroupers(!1),b='';if(a&&a.length){b=a.getAt(0).getProperty()}return b},isGrouped:function(){var a=this.getGroupers(!1);return !!(a&&a.length>0)},getGroups:function(){return this.getData().getGroups()},onGroupersEndUpdate:function(){var a=this,d=a.getData(),b=d.getGroupers(!1),c=a.getSorters(!1);if(b){b.addGroupersObserver(a)}if(b&&b.length||c&&c.length){if(a.getRemoteSort()){if(!a.isInitializing){a.load({scope:a,callback:function(){a.fireGroupChange()}})}}else {a.fireEvent('datachanged',a);a.fireEvent('refresh',a);a.fireGroupChange()}}else {a.fireGroupChange()}},onGrouperDirectionChange:function(){var a=this;a.fireEvent('beforegroupschange',a);if(a.getRemoteSort()){if(!a.isInitializing){a.load({scope:a,callback:function(){a.fireGroupChange()}})}}else {Ext.asap(a.delayedDirectionChange,a)}},delayedDirectionChange:function(){if(this.destroyed){return}this.fireGroupChange()},onEndUpdate:Ext.emptyFn,privates:{_metaProperties:{count:'getCount',first:'first',last:'last',loading:'hasPendingLoad',totalCount:'getTotalCount'},interpret:function(c){var b=this,a=b._metaProperties[c];return a&&b[a]()},loadsSynchronously:Ext.privateFn,onRemoteFilterSet:function(a,b){if(a){a[b?'on':'un']('endupdate','onFilterEndUpdate',this)}},onRemoteSortSet:function(d,c){var b=this,a;if(d){d[c?'on':'un']('endupdate','onSorterEndUpdate',b);a=b.getData();if(a){a[c?'un':'on']('beforesort','onBeforeCollectionSort',b)}}}},deprecated:{5:{methods:{destroyStore:function(){this.destroy()}}}}},1,0,0,0,0,[[Ext.mixin.Observable.prototype.mixinId||Ext.mixin.Observable.$className,Ext.mixin.Observable],[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.data,'AbstractStore'],0);Ext.cmd.derive('Ext.data.Error',Ext.Base,{isError:!0,$configPrefixed:!1,config:{field:null,message:''},constructor:function(a){this.initConfig(a);this.msg=this.message}},1,0,0,0,0,0,[Ext.data,'Error'],0);Ext.cmd.derive('Ext.data.ErrorCollection',Ext.util.MixedCollection,{alternateClassName:'Ext.data.Errors',init:function(d){var b=this,h=d.fields,k=d.data,g,a,c,i,f,j,e;for(c=0,i=h.length;c<i;++c){a=h[c];e=a.name;j=k[e];if(a.validate&&!a.validate.$nullFn){g=b.length;f=a.validate(j,null,b,d);if(g===b.length&&f!==!0){b.add(e,f)}}}return b},add:function(b,f){var e=this,d=Ext.data.field.Field.defaultInvalidMessage,a=b,c;if(Ext.isString(b)){a=new Ext.data.Error({field:b,message:f||d})}else {if(!a.isError){a=new Ext.data.Error({field:a.field||a.name,message:a.error||a.message||a.msg||d})}b=a.field}c=e.get(b);if(c){if(Ext.isArray(c)){c.push(a);return c}e.removeAtKey(b);a=[c,a];a.field=b;a=[a]}return Ext.util.MixedCollection.prototype.add.call(this,a)},getKey:function(a){return a.field},isValid:function(){return this.length===0},getByField:function(b){var a=this.get(b);if(a&&!Ext.isArray(a)){a=[a]}return a||[]}},0,0,0,0,0,0,[Ext.data,'ErrorCollection',Ext.data,'Errors'],0);Ext.cmd.derive('Ext.data.operation.Operation',Ext.Base,{alternateClassName:'Ext.data.Operation',isOperation:!0,config:{synchronous:!1,url:'',params:undefined,callback:undefined,scope:undefined,resultSet:null,response:null,request:null,records:null,id:undefined,proxy:null,batch:null,recordCreator:null,internalCallback:null,internalScope:null},order:0,foreignKeyDirection:1,started:!1,running:!1,complete:!1,success:undefined,exception:!1,error:undefined,idPrefix:'ext-operation-',constructor:function(a){var b=a&&a.scope;this.initConfig(a);if(a){a.scope=b}if(b){this.setScope(b);this.initialConfig.scope=b}this._internalId=Ext.id(this,this.idPrefix)},getAction:function(){return this.action},execute:function(){var a=this,b;delete a.error;delete a.success;a.complete=a.exception=!1;a.setStarted();a.request=b=a.doExecute();if(b){b.setOperation(a)}return b},doExecute:Ext.emptyFn,abort:function(){var a=this,c=a.request,b;a.aborted=!0;if(a.running&&c){b=a.getProxy();if(b&&!b.destroyed){b.abort(c)}a.request=null}a.running=!1},process:function(c,e,d,b){var a=this;b=b!==!1;a.setResponse(d);a.setResultSet(c);if(c.getSuccess()){a.doProcess(c,e,d);a.setSuccessful(b)}else if(b){a.setException(c.getMessage())}},_commitSetOptions:{convert:!0,commit:!0},doProcess:function(l,n,m){var j=this,i=j._commitSetOptions,e=j.getRecords(),k=e.length,g=e[0].clientIdProperty,f=l.getRecords(),h=f?f.length:0,d,c,b,a;if(h&&g){d=Ext.Array.toValueMap(e,'id');for(a=0;a<h;++a){c=f[a];b=d[c[g]];if(b){delete d[b.id];delete c[g];b.set(c,i)}}for(a in d){d[a].commit()}}else {for(a=0;a<k;++a){b=e[a];if(h===0||!(c=f[a])){b.commit()}else {b.set(c,i)}}}},setStarted:function(){this.started=this.running=!0},setCompleted:function(){var a=this,b;a.complete=!0;a.running=!1;if(!a.destroying){a.triggerCallbacks()}if(a.destroyed){return}b=a.getProxy();if(b&&!b.destroyed){b.completeOperation(a)}},setSuccessful:function(a){this.success=!0;if(a){this.setCompleted()}},setException:function(b){var a=this;a.exception=!0;a.success=a.running=!1;a.error=b;a.setCompleted()},triggerCallbacks:function(){var a=this,b=a.getInternalCallback();if(b){b.call(a.getInternalScope()||a,a);if(a.destroyed){return}a.setInternalCallback(null);a.setInternalScope(null)}b=a.getCallback();if(b){b.call(a.getScope()||a,a.getRecords(),a,a.wasSuccessful());if(a.destroyed){return}a.setCallback(null);a.setScope(null)}},hasException:function(){return this.exception},getError:function(){return this.error},getRecords:function(){var a;return this._records||((a=this.getResultSet())?a.getRecords():null)},isStarted:function(){return this.started},isRunning:function(){return this.running},isComplete:function(){return this.complete},wasSuccessful:function(){return this.isComplete()&&this.success===!0},allowWrite:function(){return !0},destroy:function(){var a=this;a.destroying=!0;if(a.running){a.abort()}a._params=a._callback=a._scope=a._resultSet=a._response=null;a.request=a._request=a._records=a._proxy=a._batch=null;a._recordCreator=a._internalCallback=a._internalScope=null;a.callParent()}},1,0,0,0,0,0,[Ext.data.operation,'Operation',Ext.data,'Operation'],0);Ext.cmd.derive('Ext.data.operation.Create',Ext.data.operation.Operation,{action:'create',isCreateOperation:!0,order:10,config:{recordCreator:Ext.identityFn},doExecute:function(){return this.getProxy().create(this)}},0,0,0,0,['data.operation.create'],0,[Ext.data.operation,'Create'],0);Ext.cmd.derive('Ext.data.operation.Destroy',Ext.data.operation.Operation,{action:'destroy',isDestroyOperation:!0,order:30,foreignKeyDirection:-1,doProcess:function(){var b=this.getRecords(),c=b.length,a;for(a=0;a<c;++a){b[a].setErased()}},doExecute:function(){return this.getProxy().erase(this)},getRecordData:function(a,e){var b={},d=a.idField,c=this.getNameProperty()||'name';b[d[c]]=a.id;return b}},0,0,0,0,['data.operation.destroy'],0,[Ext.data.operation,'Destroy'],0);Ext.cmd.derive('Ext.data.operation.Read',Ext.data.operation.Operation,{action:'read',isReadOperation:!0,config:{filters:undefined,sorters:undefined,groupers:undefined,summaries:undefined,grouper:undefined,start:undefined,limit:undefined,page:undefined,addRecords:!1},doExecute:function(){return this.getProxy().read(this)},doProcess:Ext.emptyFn,allowWrite:function(){return !1}},0,0,0,0,['data.operation.read'],0,[Ext.data.operation,'Read'],0);Ext.cmd.derive('Ext.data.operation.Update',Ext.data.operation.Operation,{action:'update',isUpdateOperation:!0,order:20,config:{recordCreator:Ext.identityFn},doExecute:function(){return this.getProxy().update(this)}},0,0,0,0,['data.operation.update'],0,[Ext.data.operation,'Update'],0);Ext.cmd.derive('Ext.data.SortTypes',Ext.Base,function(){var a;return {singleton:!0,constructor:function(){a=this},none:Ext.identityFn,stripCommasRe:/,/g,stripTagsRE:/<\/?[^>]+>/gi,asText:function(b){return b!=null?String(b).replace(a.stripTagsRE,''):'\x00'},asUCText:function(b){return b!=null?String(b).toUpperCase().replace(a.stripTagsRE,''):'\x00'},asUCString:function(a){return a!=null?String(a).toUpperCase():'\x00'},asDate:function(a){if(!a){return 0}if(Ext.isDate(a)){return a.getTime()}return Date.parse(String(a))},asFloat:function(c){var b=parseFloat(String(c).replace(a.stripCommasRe,''));return isNaN(b)?0:b},asInt:function(c){var b=parseInt(String(c).replace(a.stripCommasRe,''),10);return isNaN(b)?0:b}}},1,0,0,0,0,0,[Ext.data,'SortTypes'],0);Ext.cmd.derive('Ext.data.validator.Validator',Ext.Base,{isValidator:!0,factoryConfig:{cacheable:!0},type:'base',constructor:function(a){if(typeof a==='function'){this.fnOnly=!0;this.validate=a}else {this.initConfig(a)}},validate:function(){return !0},clone:function(){var a=this;if(a.fnOnly){return new Ext.data.validator.Validator(a.validate)}return new a.self(a.getCurrentConfig())}},1,0,0,0,['data.validator.base'],[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.data.validator,'Validator'],function(a){Ext.Factory.validator=Ext.Factory.dataValidator});Ext.cmd.derive('Ext.data.summary.Base',Ext.Base,{isAggregator:!0,factoryConfig:{defaultType:'base',cacheable:!0},text:'Custom',constructor:function(a){var b=a&&a.calculate;if(b){a=Ext.apply({},a);delete a.calculate;this.calculate=b}this.initConfig(a)},extractValue:function(a,d,b){var c;if(a){if(b){a=a[b]}c=a[d]}return c}},1,0,0,0,['data.summary.base'],[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.data.summary,'Base'],function(){Ext.Factory.on('dataSummary',function(b,a){if(typeof a==='function'){return b({calculate:a})}})});Ext.cmd.derive('Ext.data.field.Field',Ext.Base,{alternateClassName:'Ext.data.Field',aliasPrefix:'data.field.',type:'auto',factoryConfig:{defaultProperty:'name'},isDataField:!0,isField:!0,allowBlank:!0,allowNull:!1,critical:!1,defaultInvalidMessage:'This field is invalid',defaultValue:undefined,definedBy:null,depends:null,dependents:null,mapping:null,name:null,ordinal:undefined,persist:null,reference:null,summary:null,summaryField:'',unique:!1,rank:null,stripRe:/[$,%]/g,calculated:!1,evil:!1,identifier:!1,onClassExtended:function(g,d){var e=d.sortType,c=g.prototype,f=c.validators,a=d.validators,b=d.alias;if(b){if(typeof b!=='string'){b=b[0]}if(b){c.type=b.substr(b.lastIndexOf('.')+1)}}if(e&&Ext.isString(e)){c.sortType=Ext.data.SortTypes[e]}if(a){if(!Ext.isArray(a)){a=[a]}delete d.validators;if(f){a=f.concat(a)}c.validators=a}},argumentNamesRe:/^function\s*\(\s*([^,\)\s]+)/,calculateRe:/[^.a-z0-9_]([a-z_][a-z_0-9]*)\.([a-z_][a-z_0-9]*)/gi,constructor:function(d){var a=this,n=a.calculateRe,c,l,f,h,b,j,e,m,k,i,g;if(d){if(Ext.isString(d)){a.name=d}else {g=d.validators;if(g){delete d.validators;a.instanceValidators=g}Ext.apply(a,d)}}if(!a.allowNull){a.allowNull=!!a.reference}c=a.calculate;b=a.depends;if(c){a.convert=a.doCalculate;if(!b){if(!(b=c.$depends)){j={};k=Ext.Function.toCode(c);c.$depends=b=[];e=a.argumentNamesRe.exec(k);m=e?e[1]:'data';while(e=n.exec(k)){if(m===e[1]&&!j[i=e[2]]){j[i]=1;b.push(i)}}}a.depends=b}}f=a.defaultValue;if(a.convert){a.calculated=l=a.convert.length>1;a.evil=l&&!b}if(a.persist===null){a.persist=!c}h=a.sortType;if(!a.sortType){a.sortType=Ext.data.SortTypes.none}else if(Ext.isString(h)){a.sortType=Ext.data.SortTypes[h]}if(b&&typeof b==='string'){a.depends=[b]}a.cloneDefaultValue=f!==undefined&&(Ext.isDate(f)||Ext.isArray(f)||Ext.isObject(f))},setModelValidators:function(a){this._validators=null;this.modelValidators=a},constructValidators:function(a){var g,f,d,b,c,e;if(a){if(!(a instanceof Array)){a=[a]}g=this._validators;for(d=0,f=a.length;d<f;++d){b=a[d];if(b.fn){b=b.fn}c=Ext.Factory.dataValidator(b);if(!c.isPresence){g.push(c)}else {e=c}}if(e){this.presence=[e]}}},collate:function(d,e){var c=this,a=d,b=e;if(c.sortType){a=c.sortType(a);b=c.sortType(b)}return a===b?0:a<b?-1:1},compare:function(a,b){return a===b?0:a<b?-1:1},isEqual:function(a,b){return this.compare(a,b)===0},convert:null,serialize:null,validate:function(a,e,f,g){var d=this,h=d.getValidators(),c,b;b=this.presence;if(b&&(a==null||a==='')){c=d.validateGroup(b,a,e,f,g);if(c!==!0){return c}}return d.validateGroup(h,a,e,f,g)},validateGroup:function(e,j,f,c,i){var b='',g,h,d,a;for(d=0,h=e.length;d<h;++d){g=e[d];a=g.validate(j,i);if(a!==!0){a=a||this.defaultInvalidMessage;if(c){if(c.isMixedCollection){c.add(this.name,a)}else if(c.isCollection){c.add(a)}else {c.push(a)}b=b||a}else if(f){if(b){b+=f}b+=a}else {b=a;break}}}return b||!0},doCalculate:function(b,a){return a?this.calculate(a.data):b},getName:function(){return this.name},getAllowBlank:function(){return this.allowBlank},getAllowNull:function(){return this.allowNull},getConvert:function(){return this.convert},getDefaultValue:function(){return this.defaultValue},getDepends:function(){return this.depends},getMapping:function(){return this.mapping},hasMapping:function(){var a=this.mapping;return !!(a||a===0)},getPersist:function(){return this.persist},getSortType:function(){return this.sortType},getSummary:function(){var b=this,c=b.doneSummary,a=b.summary;if(!c){b.doneSummary=!0;if(a){b.summary=a=Ext.Factory.dataSummary(a)}}return a||null},getType:function(){return 'auto'},privates:{getValidators:function(){var a=this,b=a._validators;if(!b){a._validators=b=[];a.constructValidators(a.validators);a.constructValidators(a.modelValidators);a.constructValidators(a.instanceValidators)}return b}},deprecated:{'5.1':{methods:{getSortDir:function(){return this.sortDir}}}}},1,0,0,0,['data.field.auto'],[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.data.field,'Field',Ext.data,'Field'],0);Ext.cmd.derive('Ext.data.field.Array',Ext.data.field.Field,{isArrayField:!0,itemType:{type:'auto'},getType:function(){return 'array'},collate:function(a,b){return this.collateOrCompare(a,b,'collate')},compare:function(a,b){return this.collateOrCompare(a,b,'compare')},convert:function(a){return this.doForEach((a||a===0)&&!Ext.isArray(a)?[a]:a,'convert')},serialize:function(a){return this.doForEach(a,'serialize')},getItemField:function(){var b=this,a=b.itemType;if(!b.itemField){if(typeof a==='string'){a={type:a}}else if(!(a&&a.isDataField)){a=Ext.apply({type:'auto'},a)}b.itemField=Ext.data.field.Field.create(a)}return b.itemField},doForEach:function(b,f){if(!b){return this.allowNull?null:[]}var d=b.length,e=Array(d),c=this.getItemField(),a;for(a=0;a<d;++a){e[a]=c[f]?c[f](b[a]):b[a]}return e},collateOrCompare:function(a,b,i){var h=this.getItemField(),c,d,e,g,f;if(!a&&!b||a===b){return 0}if(!a||!b){return a?1:-1}d=a.length;e=b.length;g=Math.min(d,e);for(c=0;c<g;++c){f=h[i](a[c],b[c]);if(f!==0){return f}}return d===e?0:d<e?-1:1}},0,0,0,0,['data.field.array'],0,[Ext.data.field,'Array'],0);Ext.cmd.derive('Ext.data.field.Boolean',Ext.data.field.Field,{isBooleanField:!0,trueRe:/^\s*(?:true|yes|on|1)\s*$/i,convert:function(a){if(typeof a==='boolean'){return a}if(this.allowNull&&(a===undefined||a===null||a==='')){return null}return this.trueRe.test(String(a))},getType:function(){return 'bool'}},0,0,0,0,['data.field.bool','data.field.boolean'],0,[Ext.data.field,'Boolean'],0);Ext.cmd.derive('Ext.data.field.Date',Ext.data.field.Field,{sortType:'asDate',isDateField:!0,dateFormat:null,dateReadFormat:null,dateWriteFormat:null,compare:function(d,e){var b=d instanceof Date,c=e instanceof Date,a;if(c&&b){a=d.getTime()-e.getTime();if(a===0){a=0}else {a=a<0?-1:1}}else if(b===c){a=0}else {a=b?1:-1}return a},convert:function(a){if(!a){return null}if(a instanceof Date){return a}var c=this.dateReadFormat||this.dateFormat,b;if(c){return Ext.Date.parse(a,c,this.useStrict)}b=Date.parse(a);return b?new Date(b):null},serialize:function(b){var c=null,a;if(Ext.isDate(b)){a=this.getDateWriteFormat();c=a?Ext.Date.format(b,a):b}return c},getDateFormat:function(){return this.dateFormat},getDateReadFormat:function(){return this.dateReadFormat},getDateWriteFormat:function(){var a=this;if(a.hasOwnProperty('dateWriteFormat')){return a.dateWriteFormat}if(a.hasOwnProperty('dateFormat')){return a.dateFormat}return a.dateWriteFormat||a.dateFormat||'timestamp'},getType:function(){return 'date'}},0,0,0,0,['data.field.date'],0,[Ext.data.field,'Date'],0);Ext.cmd.derive('Ext.data.field.Integer',Ext.data.field.Field,{isNumeric:!0,isIntegerField:!0,numericType:'int',convert:function(b){if(typeof b==='number'){return this.getNumber(b)}var d=b==null||b==='',c=this.allowNull,a;if(d){a=c?null:0}else {a=this.parse(b);if(c&&isNaN(a)){a=null}}return a},getNumber:function(a){return parseInt(a,10)},getType:function(){return this.numericType},parse:function(a){return parseInt(String(a).replace(this.stripRe,''),10)},sortType:function(a){if(a==null){a=Infinity}return a}},0,0,0,0,['data.field.int','data.field.integer'],0,[Ext.data.field,'Integer'],0);Ext.cmd.derive('Ext.data.field.Number',Ext.data.field.Integer,{isIntegerField:!1,isNumberField:!0,numericType:'float',getNumber:Ext.identityFn,parse:function(a){return parseFloat(String(a).replace(this.stripRe,''))}},0,0,0,0,['data.field.float','data.field.number'],0,[Ext.data.field,'Number'],0);Ext.cmd.derive('Ext.data.field.String',Ext.data.field.Field,{sortType:'asUCString',isStringField:!0,convert:function(a){var b=this.allowNull?null:'';return a===undefined||a===null?b:String(a)},getType:function(){return 'string'}},0,0,0,0,['data.field.string'],0,[Ext.data.field,'String'],0);Ext.cmd.derive('Ext.data.identifier.Generator',Ext.Base,{'abstract':!0,factoryConfig:{defaultType:'sequential'},isGenerator:!0,config:{id:null},constructor:function(c){var b=this,a;b.initConfig(c);a=b.getId();if(a){Ext.data.identifier.Generator.all[a]=b}},privates:{clone:function(b){var a=this.getInitialConfig();a=b?Ext.apply({},b,a):a;return new this.self(a)},statics:{all:{}}}},1,0,0,0,['data.identifier.default'],[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.data.identifier,'Generator'],function(){var b=this,a=Ext.Factory,c=a.dataIdentifier;a.dataIdentifier=function(a){var d=Ext.isString(a)?a:a&&a.id,e=d&&b.all[d];return e||c(a)}});Ext.cmd.derive('Ext.data.identifier.Sequential',Ext.data.identifier.Generator,{config:{increment:1,prefix:null,seed:1},generate:function(){var a=this,c=a._seed,b=a._prefix;a._seed+=a._increment;return b!==null?b+c:c}},0,0,0,0,['data.identifier.sequential'],0,[Ext.data.identifier,'Sequential'],0);Ext.cmd.derive('Ext.data.Model',Ext.Base,{alternateClassName:'Ext.data.Record',isEntity:!0,isModel:!0,validIdRe:null,erasing:!1,loadOperation:null,loadCount:0,observableType:'record',crudState:'R',crudStateWas:null,constructor:function(b,g,q){var a=this,c=a.self,f=c.identifier,o=Ext.data.Model,l=o.identifier,m=a.idField.name,k,d,h,n,p,e,j,i;a.data=a.data=b||(b={});a.internalId=n=l.generate();if(b.$parentRecordRef){i=b.$parentRecordRef;delete b.$parentRecordRef;a[i[0]]=i[1]}if((k=b) instanceof Array){a.data=b={};j=a.getFields();p=Math.min(j.length,k.length);for(e=0;e<p;++e){b[j[e].name]=k[e]}}if(!(h=c.initializeFn)){c.initializeFn=h=o.makeInitializeFn(c)}if(!h.$nullFn){c.initializeFn(a)}if(!a.isSummaryModel){if(!(a.id=d=b[m])&&d!==0){if(g){f=g.getIdentifier(c);d=f.generate()}else if(l===f){d=n}else {d=f.generate()}b[m]=a.id=d;a.phantom=!0;a.crudState='C'}if(g&&!q){g.add(a)}if(a.phantom){a.crudStateWas='C'}}if(a.init&&Ext.isFunction(a.init)){a.init()}},editing:!1,dirty:!1,session:null,dropped:!1,erased:!1,clientIdProperty:null,evented:!1,phantom:!1,idProperty:'id',manyToMany:null,identifier:null,previousValues:undefined,proxy:undefined,schema:'default',summary:null,versionProperty:null,generation:1,validationSeparator:null,convertOnSet:!0,beginEdit:function(){var a=this,c=a.modified,b=a.previousValues;if(!a.editing){a.editing=!0;a.editMemento={dirty:a.dirty,data:Ext.apply({},a.data),generation:a.generation,modified:c&&Ext.apply({},c),previousValues:b&&Ext.apply({},b)}}},calculateSummary:function(f){var g=this.getFields(),j=g.length,i=f.length,d,a,e,h,c,b;for(d=0;d<j;++d){b=g[d];e=b.getSummary();a=a||{};c=b.name;h=b.summaryField||c;if(c!=='id'){a[c]=e?e.calculate(f,h,'data',0,i):undefined}}if(a){this.set(a,this._commitOptions)}},cancelEdit:function(){var a=this,c=a.editMemento,b=a.validation;if(c){a.editing=!1;Ext.apply(a,c);a.editMemento=null;if(b&&b.syncGeneration!==a.generation){b.syncGeneration=0}}},endEdit:function(d,b){var a=this,c=a.editMemento;if(c){a.editing=!1;a.editMemento=null;a.previousValues=c.previousValues;if(!d){if(!b){b=a.getModifiedFieldNames(c.data)}if(a.dirty||b&&b.length){a.callJoined('afterEdit',[b])}}}},getField:function(a){return this.self.getField(a)},getFields:function(){return this.self.getFields()},getFieldsMap:function(){return this.fieldsMap},getIdProperty:function(){return this.idProperty},getId:function(){return this.id},getObservableId:function(){return this.internalId},setId:function(b,a){this.set(this.idProperty,b,a)},getPrevious:function(b){var a=this.previousValues;return a&&a[b]},isModified:function(b){var a=this.modified;return !!(a&&a.hasOwnProperty(b))},getModified:function(a){var b;if(this.isModified(a)){b=this.modified[a]}return b},get:function(a){return this.data[a]},_singleProp:{},_rejectOptions:{convert:!1,silent:!0},set:function(i,A,K){var a=this,G=a.self,v=a.data,f=a.modified,B=a.previousValues,u=a.session,n=Ext.isString(i),e=n?K:A,y=e?e.convert!==!1:a.convertOnSet,J=a.fieldsMap,E=e&&e.silent,D=e&&e.commit,I=!(e&&e.refs===!1)&&u,F=!(e&&e.dirty===!1&&!D),k=null,d=0,r=a.associations,j,b,z,H,c,q,p,w,s,x,t,o,l,m,h,g,C;if(n){g=a._singleProp;g[i]=A}else {g=i}if(!(l=G.rankedFields)){l=G.rankFields()}t=l.length;do{for(c in g){h=g[c];j=v[c];p=a;b=J[c];if(b){if(y&&b.convert){h=b.convert(h,a)}p=b;m=b.reference}else {m=null}if(p.isEqual(j,h)){continue}v[c]=h;(k||(k=[])).push(c);(B||(a.previousValues=B={}))[c]=j;if(m&&m.cls){if(I){u.updateReference(a,b,h,j)}m.onValueChange(a,u,h,j)}x=(s=b&&b.dependents)&&s.length;while(x-->0){(w=s[x]).dirty=!0;d=d?Math.min(d,w.rank):w.rank}if(!b||b.persist){if(f&&f.hasOwnProperty(c)){if(!F||p.isEqual(f[c],h)){delete f[c];a.dirty=-1}}else if(F){if(!f){a.modified=f={}}a.dirty=!0;f[c]=j}}if(c===a.idField.name){z=!0;q=j;o=h}}if(!d){break}b=l[d-1];b.dirty=!1;if(n){delete g[i]}else {g=a._singleProp;n=!0}i=b.name;g[i]=v[i];y=!0;for(;d<t;++d){if(l[d].dirty){break}}if(d<t){++d}else {d=0}}while(1);if(a.dirty<0){a.dirty=!1;for(H in f){if(f.hasOwnProperty(H)){a.dirty=!0;break}}}if(n){delete g[i]}++a.generation;if(z){a.id=o;a.onIdChanged(o,q);a.callJoined('onIdChanged',[q,o]);if(r){for(C in r){r[C].onIdChanged(a,q,o)}}}if(D){a.commit(E,k)}else if(!E&&!a.editing&&k){a.callJoined('afterEdit',[k])}return k},reject:function(c){var a=this,b=a.modified;if(b){a.set(b,a._rejectOptions)}a.dropped=!1;a.clearState();if(!c){a.callJoined('afterReject')}},commit:function(f,e){var a=this,b=a.versionProperty,d=a.data,c;a.clearState();if(b&&!a.phantom&&!isNaN(d[b])){++d[b]}a.phantom=!1;if(a.dropped){a.erased=c=!0}if(!f){if(c){a.callJoined('afterErase')}else {a.callJoined('afterCommit',[e])}}},clearState:function(){var a=this;a.dirty=a.editing=!1;a.editMemento=a.modified=null},drop:function(d){var a=this,b=a.associations,e=a.session,c;if(a.erased||a.dropped){return}a.dropped=!0;if(b&&d!==!1){for(c in b){b[c].onDrop(a,e)}}a.callJoined('afterDrop');if(a.phantom){a.setErased()}},join:function(b){var c=this,a=c.joined;if(!a){a=c.joined=[b]}else if(!a.length){a[0]=b}else {Ext.Array.include(a,b)}if(b.isStore&&!c.store){c.store=b}},unjoin:function(b){var c=this,a=c.joined,e=a&&a.length,d=c.store,f;if(b===c.session){c.session=null}else {if(e===1&&a[0]===b){a.length=0}else if(e){Ext.Array.remove(a,b)}if(d===b){d=null;if(a){for(f=0,e=a.length;f<e;++f){b=a[f];if(b.isStore){d=b;break}}}c.store=d}}},clone:function(d){var a=this,c=a.modified,b=a.copy(a.id,d);if(c){b.modified=Ext.apply({},c)}b.dirty=a.dirty;b.dropped=a.dropped;b.phantom=a.phantom;return b},copy:function(a,e){var c=this,b=Ext.apply({},c.data),d=c.idProperty,f=c.self;if(a||a===0){b[d]=a}else if(a===null){delete b[d]}return new f(b,e)},getProxy:function(){return this.self.getProxy()},getValidation:function(c){var b=this,a=b.validation;if(!a){b.validation=a=new Ext.data.Validation();a.attach(b)}if(c===!0||c!==!1&&a.syncGeneration!==b.generation){a.refresh(c)}return a},validate:function(){return (new Ext.data.ErrorCollection()).init(this)},isValid:function(){return this.getValidation().isValid()},toUrl:function(){var a=this.$className.split('.'),b=a[a.length-1].toLowerCase();return b+'/'+this.getId()},erase:function(b){var a=this;a.erasing=!0;a.drop();a.erasing=!1;return a.save(b)},setErased:function(){this.erased=!0;this.callJoined('afterErase')},getChanges:function(){return this.getData(this._getChangesOptions)},getCriticalFields:function(){var a=this.self,b=a.criticalFields;if(!b){a.rankFields();b=a.criticalFields}return b},getAssociatedData:function(g,a){var c=this,n=c.associations,i,j,b,m,f,o,e,p,l,d,h,k;g=g||{};c.$gathering=1;if(a){a=Ext.apply({},a)}for(l in n){p=n[l];b=p.getAssociatedItem(c);if(!b||b.$gathering){continue}if(b.isStore){b.$gathering=1;m=b.getData().items;o=m.length;f=[];for(j=0;j<o;++j){e=m[j];i=!e.$gathering;e.$gathering=1;if(a){k=a.associated;if(k===undefined){a.associated=i;h=!0}else if(!i){a.associated=!1;h=!0}d=a}else {d=i?c._getAssociatedOptions:c._getNotAssociatedOptions}f.push(e.getData(d));if(h){a.associated=k;h=!1}delete e.$gathering}delete b.$gathering}else {d=a||c._getAssociatedOptions;if(a&&a.associated===undefined){d.associated=!0}f=b.getData(d)}g[l]=f}delete c.$gathering;return g},getData:function(n){var a=this,f={},e=n===!0?a._getAssociatedOptions:n||f,h=a.data,j=e.associated,l=e.changes,p=l&&e.critical,m=l?a.modified:h,o=a.fieldsMap,q=e.persist,k=e.serialize,g,b,i,d,c;if(m){for(d in m){c=h[d];b=o[d];if(b){if(q&&!b.persist){continue}if(k&&b.serialize){c=b.serialize(c,a)}}f[d]=c}}if(p){g=a.self.criticalFields||a.getCriticalFields();for(i=g.length;i-->0;){d=(b=g[i]).name;if(!(d in f)){c=h[d];if(k&&b.serialize){c=b.serialize(c,a)}f[d]=c}}}if(j){if(typeof j==='object'){a.getNestedData(e,f)}else {a.getAssociatedData(f,e)}}return f},getNestedData:function(a,e){var m=this,n=m.associations,g=a.associated,f,b,h,c,j,k,l,d,i;e=e||{};for(d in g){l=n[d];i=g[d];if(i===!0){delete a.associated}else {a.associated=i}b=l.getAssociatedItem(m);if(!b){continue}if(b.isStore){h=b.getData().items;j=h.length;c=[];for(f=0;f<j;++f){k=h[f];c.push(k.getData(a))}}else {c=b.getData(a)}e[d]=c}a.associated=g;return e},getTransientFields:function(){var a=this.self,b=a.transientFields;if(!b){a.rankFields();b=a.transientFields}return b},isLoading:function(){return !!this.loadOperation},abort:function(){var a=this.loadOperation;if(a){a.abort()}},load:function(a){a=Ext.apply({},a);var b=this,d=a.scope||b,g=b.getProxy(),f=a.callback,c=b.loadOperation,h=b.getId(),e;if(c){e=c.extraCalls;if(!e){e=c.extraCalls=[]}e.push(a);return c}a.id=h;a.recordCreator=function(e,f,c){var d=b.session;if(c){c.recordCreator=d?d.recordCreator:null}b.set(e,b._commitOptions);return b};a.internalCallback=function(e){var h=e.wasSuccessful()&&e.getRecords().length>0,l=b.loadOperation,i=l.extraCalls,c=[b,e],j=[b,e,h],g,k;b.loadOperation=null;++b.loadCount;if(h){Ext.callback(a.success,d,c)}else {Ext.callback(a.failure,d,c)}Ext.callback(f,d,j);if(i){for(g=0,k=i.length;g<k;++g){a=i[g];if(h){Ext.callback(a.success,d,c)}else {Ext.callback(a.failure,d,c)}Ext.callback(a.callback,d,j)}}b.callJoined('afterLoad')};delete a.callback;b.loadOperation=c=g.createOperation('read',a);c.execute();return c},mergeData:function(a){if(!this.dirty){this.set(a,this._commitOptions)}},save:function(a){a=Ext.apply({},a);var b=this,f=b.phantom,e=b.dropped,h=e?'destroy':f?'create':'update',d=a.scope||b,g=a.callback,i=b.getProxy(),c;a.records=[b];a.internalCallback=function(e){var c=[b,e],f=e.wasSuccessful();if(f){Ext.callback(a.success,d,c)}else {Ext.callback(a.failure,d,c)}c.push(f);Ext.callback(g,d,c)};delete a.callback;c=i.createOperation(h,a);if(e&&f){c.setResultSet(Ext.data.reader.Reader.prototype.nullResultSet);b.setErased();c.setSuccessful(!0)}else {c.execute()}return c},statics:{defaultProxy:'memory'},inheritableStatics:{_associatedReadOptions:{recordsOnly:!0,asRoot:!0},loadData:function(b,a){var c;if(b){c=this.getProxy().getReader().readRecords([b],a?{recordCreator:a.recordCreator}:undefined,this._associatedReadOptions)[0]}else {c=new this(b,a)}return c},getSummaryModel:function(){var b=this,c=b.prototype,a=b.summaryModel;if(!a){a=Ext.define(null,{extend:b,fields:c.summaryFields||[],isSummaryModel:!0});a.isSummaryModel=!0;b.summaryModel=a}return a||null},setSummaryField:function(c,a){var b=this.getField(c);if(!b){this.addFields([{name:c,type:'auto',summary:a,doneSummary:a&&a.isAggregator}])}else {if(b.doneSummary&&a&&a.isAggregator){b.summary=a}else {b.summary=a;b.doneSummary=!1}}},addFields:function(a){this.replaceFields(a)},replaceFields:function(k,i){var c=this,n=c.prototype,o=Ext.data.field.Field,d=c.fields,j=c.fieldsMap,f=c.fieldOrdinals,e,a,h,g,b,m,l;if(i===!0){d.length=0;c.fieldsMap=j={};c.fieldOrdinals=f={};l=!0}else if(i){for(a=i.length;a-->0;){b=i[a];if(b in f){delete f[b];delete j[b]}}for(a=0,g=d.length;a<g;++a){b=(e=d[a]).name;if(b in f){f[b]=a}else {d.splice(a,1);--a;--g}}}for(a=0,g=k?k.length:0;a<g;a++){b=(e=k[a]).name;if(!(b in f)){f[b]=m=d.length;d.push(e=o.create(e));j[b]=e;e.ordinal=m;e.definedBy=e.owner=this}}if(!l){for(a=0,g=d.length;a<g;++a){d[a].rank=null}}c.idField=n.idField=h=j[n.idProperty];if(h){h.allowNull=h.critical=h.identifier=!0;h.defaultValue=null}c.initializeFn=c.rankedFields=c.transientFields=c.criticalFields=null},removeFields:function(a){this.replaceFields(null,a)},getIdFromData:function(b){var c=this,a=c.idField,d=a.calculated?(new c(b)).id:b[a.name];return d},createWithId:function(c,b,e){var a=b,d=this;if(c||c===0){a={};if(b){Ext.apply(a,b)}a[d.idField.name]=c}return new d(a,e)},getFields:function(){return this.fields},getFieldsMap:function(){return this.fieldsMap},getField:function(a){return this.fieldsMap[a]||null},getProxy:function(){var b=this,a=b.proxy,d=b.defaultProxy,c;if(!a){a=b.proxyConfig;if(!a&&d){a=d}if(!a||!a.isProxy){if(typeof a==='string'){a={type:a}}c=Ext.merge(b.schema.constructProxy(b),a);if(a&&a.type){a=a.schema===!1?a:c}else {a=c}}a=b.setProxy(a)}return a},setProxy:function(a){var b=this,c;if(a){if(!a.isProxy){a=Ext.Factory.proxy(a)}else {c=a.getModel();if(c&&c!==b){a=a.clone()}}a.setModel(b)}return b.prototype.proxy=b.proxy=a},load:function(d,e,b){var c={},a;if(b){a=b.peekRecord(this,d)}if(!a){c[this.prototype.idProperty]=d;a=new this(c,b)}a.load(e);return a}},deprecated:{5:{methods:{hasId:null,markDirty:null,setDirty:null,eachStore:function(c,d){var f=this,b=f.stores,e=b.length,a;for(a=0;a<e;++a){c.call(d,b[a])}},join:function(b){var a=this,d=a.stores,c=a.joined;if(!c){c=a.joined=[b]}else {c.push(b)}if(b.isStore){a.store=a.store||b;if(!d){d=a.stores=[]}d.push(b)}},unjoin:function(b){var c=this,d=c.stores,a=c.joined;if(a.length===1){a.length=0}else {Ext.Array.remove(a,b)}if(b.isStore){Ext.Array.remove(d,b);c.store=d[0]||null}}},properties:{persistenceProperty:null},inheritableStatics:{methods:{setFields:null}}}},privates:{_commitOptions:{commit:!0},_getChangesOptions:{changes:!0},_getAssociatedOptions:{associated:!0},_getNotAssociatedOptions:{associated:!1},_metaProperties:{dirty:'isDirty',phantom:'isPhantom',valid:'isValid'},copyFrom:function(c){var a=this,i=a.fields,k=i.length,g=[],l=a.idProperty,f=0,j,e,h,b,d;if(c){e=a.data;h=c.data;for(;f<k;f++){j=i[f];b=j.name;if(b!==l){d=h[b];if(d!==undefined&&!a.isEqual(e[b],d)){e[b]=d;g.push(b)}}}if(a.phantom&&!c.phantom){a.beginEdit();a.setId(c.getId());a.endEdit(!0);a.commit(!0)}}return g},callJoined:function(h,b){var a=this,e=a.joined,d=a.session,i=a.dropped?'D':a.phantom?'C':a.dirty?'U':'R',g,j,c,f;a.crudState=i;if(e||d){if(b){b.unshift(a)}else {b=[a]}c=d&&d[h];if(c){c.apply(d,b)}if(e){for(g=0,j=e.length;g<j;++g){f=e[g];if(f&&(c=f[h])){c.apply(f,b)}}}}a.crudStateWas=i},hasPendingLoad:function(){return this.isLoading()},interpret:function(b){var c=this,a=c._metaProperties[b];if(!a){a=c.associations;a=a&&a[b]&&a[b].getterName}if(a){return c[a]()}return c.data[b]},isDirty:function(){return this.dirty},isPhantom:function(){return this.phantom},onAssociatedRecordSet:function(a,b){this.callJoined('afterAssociatedRecordSet',[a,b])},onIdChanged:Ext.privateFn,setSession:function(a){this.session=a;if(a){a.add(this)}},getModifiedFieldNames:function(f){var c=this,b=c.data,d=[],e=f||c.editMemento.data,a;for(a in b){if(b.hasOwnProperty(a)){if(!c.isEqual(b[a],e[a],a)){d.push(a)}}}return d},isEqual:function(b,c,a){var d;if(a){d=a.isField?a:this.fieldsMap[a];if(d){return d.isEqual(b,c)}}if(b instanceof Date&&c instanceof Date){return b.getTime()===c.getTime()}return b===c},statics:{EDIT:'edit',REJECT:'reject',COMMIT:'commit',rankFields:function(){var d=this,g=d.prototype,h=d.fields,f=h.length,c=[],j=[],i=[],e,a,b;d.rankedFields=g.rankedFields=c;d.criticalFields=g.criticalFields=j;d.transientFields=g.transientFields=i;for(b=0;b<f;++b){a=h[b];if(a.critical){j.push(a)}if(!a.persist){i.push(a)}if(a.evil){(e||(e=[])).push(a)}else if(!a.depends){c.push(a);a.rank=c.length}}for(b=0;b<f;++b){if(!(a=h[b]).rank&&!a.evil){d.topoAdd(a)}}if(e){for(b=0,f=e.length;b<f;++b){c.push(a=e[b]);a.rank=c.length}}return c},topoAdd:function(b){var d=this,e=b.depends,g=e?e.length:0,f=d.rankedFields,c,a;for(c=0;c<g;++c){a=d.fieldsMap[e[c]];(a.dependents||(a.dependents=[])).push(b);if(!a.rank){d.topoAdd(a)}}f.push(b);b.rank=f.length},initFields:function(u,g,k){var t=Ext.data.field.Field,q=u.fields,e=[],h={},f={},w=[],r=k.fields,p=u.versionProperty||k.versionProperty,m=g.idProperty,d,a,b,o,i,c,n,j,l,v,s;g.fields=k.fields=e;g.fieldOrdinals=k.fieldOrdinals=h;g.fieldsMap=k.fieldsMap=f;g.references=k.references=w;if(r){for(b=0,o=r.length;b<o;++b){e[b]=a=Ext.Object.chain(r[b]);a.dependents=null;a.owner=g;h[i=a.name]=b;f[i]=a;a.rank=null;if(a.generated){j=a;l=a.name}}}delete u.fields;if(q){for(b=0,o=q.length;b<o;++b){a=q[b];n=a.reference;if(n&&typeof n!=='string'){n=Ext.merge({},n)}a.$reference=n;a=t.create(q[b]);i=a.name;c=h[i];if(c===undefined){h[i]=c=e.length}f[i]=a;e[c]=a;a.definedBy=a.owner=g;a.ordinal=c;if(i===m){s=a}if(i===l){v=!0}}}d=f[m];if(!d){if(j&&j.generated){c=j.ordinal}else {c=e.length}delete f[l];delete h[l];d=new t(m);e[c]=d;h[m]=c;f[m]=d;d.definedBy=g;d.ordinal=c;d.generated=!0}else if(s&&!v&&j&&j.generated){Ext.Array.remove(e,j);delete f[l];delete h[l];f[m]=s;for(b=0,o=e.length;b<o;++b){a=e[b];e.ordinal=b;h[a.name]=b}}d.allowNull=d.critical=d.identifier=!0;d.defaultValue=null;g.idField=k.idField=d;if(p){a=f[p];if(!a){c=e.length;a=new t({name:p,type:'int'});e[c]=a;h[p]=c;f[p]=a;a.definedBy=g;a.ordinal=c;a.generated=!0}a.defaultValue=1;a.critical=!0}},initSummaries:function(p,q,j){var g=p.summary,o=j.fields,l=j.summaryFields,b,n,c,i,h,k,f,d,e,a,m;if(l){d=[];e={};for(c=0,k=l.length;c<k;++c){a=l[c];d.push(a);e[a.name]=c}}for(c=0,k=o.length;c<k;++c){b=o[c];if(b.summary&&b.definedBy===q){h=h||{};h[b.name]=b.summary}}if(h){g=Ext.apply(h,g)}if(g){delete p.summary;d=d||[];e=e||{};for(f in g){m=typeof (a=g[f]);if(m==='function'||m==='string'){a={summary:a}}i=e[f];a=Ext.apply({name:f},a);b=a.field;if(b){delete a.field;a.summaryField=b}n=a.summaryField;b=j.fieldsMap[n||f];if(b&&!a.type){a.type=b.type}if(i===undefined){i=d.length;e[f]=i}d[i]=a}}if(d){j.summaryFields=d}},initValidators:function(k,n,m){var i=m.validators,b,e,g,c,h,l,d,a,j,f;if(i){b={};for(e in i){b[e]=Ext.Array.clone(i[e])}}c=k.validators||k.validations;if(c){delete k.validators;b=b||{};if(Ext.isArray(c)){g={};for(h=0,l=c.length;h<l;++h){f=c[h];a=f.field;if(!g[a]){g[a]=[]}f=f.fn||f;g[a].push(f)}c=g}for(a in c){d=c[a];if(!Ext.isArray(d)){d=[d]}j=b[a];if(j){Ext.Array.push(j,d)}else {b[a]=d}}}if(b){for(a in b){e=n.getField(a);if(e){e.setModelValidators(b[a])}}}n.validators=m.validators=b},initAssociations:function(d,b,e){var f=b.associations,g=b.belongsTo,h=b.hasMany,i=b.hasOne,l=b.manyToMany,a,c,k,j;delete b.associations;delete b.belongsTo;delete b.hasMany;delete b.hasOne;delete b.manyToMany;if(l){d.addMatrices(e,l)}if(f){f=Ext.isArray(f)?f:[f];for(a=0,c=f.length;a<c;++a){k=f[a];j=Ext.apply({},k);delete j.type;switch(k.type){case 'belongsTo':d.addBelongsTo(e,j);break;case 'hasMany':d.addHasMany(e,j);break;case 'hasOne':d.addHasOne(e,j);break;}}}if(g){g=Ext.isArray(g)?g:[g];for(a=0,c=g.length;a<c;++a){d.addBelongsTo(e,g[a])}}if(h){h=Ext.isArray(h)?h:[h];for(a=0,c=h.length;a<c;++a){d.addHasMany(e,h[a])}}if(i){i=Ext.isArray(i)?i:[i];for(a=0,c=i.length;a<c;++a){d.addHasOne(e,i[a])}}d.afterKeylessAssociations(e)},initIdentifier:function(d,e,f){var a=d.identifier||d.idgen,b=f.identifier||e.schema._defaultIdentifier,c;if(a){delete d.identifier;delete d.idgen;a=Ext.Factory.dataIdentifier(a)}else if(b){if(b.clone&&!b.getId()){a=b.clone()}else if(b.isGenerator){a=b}else {a=Ext.Factory.dataIdentifier(b)}}e.identifier=f.identifier=a;if(!a){c=e.entityName;if(!c){c=Ext.id(null,'extModel')}e.identifier=Ext.Factory.dataIdentifier({type:'sequential',prefix:c+'-'})}},findValidator:function(f,g,d){var h=d.type||d,b=f[g],e,a,c;if(b){for(a=0,e=b.length;a<e;++a){c=b[a];if(c.type===h){return c}}}return null},makeInitializeFn:function(o){var a=['var '],g=['\nreturn function (e) {\n    var data = e.data, v;\n'],n=0,i,j,h,b,l,f,e,d,k,c,m;if(!(e=o.rankedFields)){e=o.rankFields()}for(c=0,m=e.length;c<m;++c){f=e[c];d='f'+c;h=f.convert;if(c){a.push(',  \n    ')}a.push(d,' = $fields['+c+']');if((k=f.defaultValue!==undefined)||h){b='data["'+f.name+'"]';++n;i=j='';if(f.cloneDefaultValue){i='Ext.clone(';j=')'}g.push('\n');if(h&&k){g.push('    v = ',b,';\n    if (v !== undefined) {\n        v = ',d,'.convert(v, e);\n    }\n    if (v === undefined) {\n        v = ',i,d,'.defaultValue',j,';\n    }\n    ',b,' = v;')}else if(h){g.push('    v = ',d,'.convert(',b,',e);\n    if (v !== undefined) {\n        ',b,' = v;\n    }\n')}else if(k){g.push('    if (',b,' === undefined) {\n        ',b,' = ',i,d,'.defaultValue',j,';\n    }\n')}}}if(!n){return Ext.emptyFn}a.push(';\n');a.push.apply(a,g);a.push('}');a=a.join('');l=new Function('$fields','Ext',a);return l(e,Ext)}}}},1,0,0,0,0,0,[Ext.data,'Model',Ext.data,'Record'],function(){var a=this,b=a.prototype,c=Ext.data.schema.Schema,d;a.proxyConfig=b.proxy;delete b.proxy;a.fields=[];a.fieldsMap=b.fieldsMap={};a.schema=b.schema=c.get(b.schema);b.idField=new Ext.data.field.Field(b.idProperty);a.identifier=new Ext.data.identifier.Sequential();a.onExtended(function(b,e){var f=b.prototype,k=e.schema,j=f.superclass.self,g,h,i;b.idProperty=e.idProperty||f.idProperty;if(k){delete e.schema;g=c.get(k)}else if(!(g=f.schema)){g=d||(d=c.get('default'))}b.rankFields=a.rankFields;b.topoAdd=a.topoAdd;f.schema=b.schema=g;if(!(h=e.entityName)){f.entityName=h=g.getEntityName(b)}b.entityName=h;b.fieldExtractors={};a.initIdentifier(e,b,f);a.initFields(e,b,f);a.initValidators(e,b,f);if(!e.isSummaryModel){a.initSummaries(e,b,f)}b.fields.items=b.fields;if(h){g.addEntity(b);a.initAssociations(g,e,b)}i=e.proxy;if(i){delete e.proxy}else if(j!==a){i=j.proxyConfig||j.proxy}b.proxyConfig=i})});Ext.cmd.derive('Ext.data.ResultSet',Ext.Base,{isResultSet:!0,$configPrefixed:!1,config:{loaded:!0,count:null,total:null,remoteTotal:null,success:!1,records:null,message:null,metadata:null,groupData:null,summaryData:null},constructor:function(a){this.initConfig(a)},getCount:function(){var b=(arguments.callee.$previous||Ext.Base.prototype.getCount).call(this),a;if(!b){a=this.getRecords();if(a){b=a.length}}return b}},1,0,0,0,0,0,[Ext.data,'ResultSet'],0);Ext.cmd.derive('Ext.data.reader.Reader',Ext.Base,{alternateClassName:['Ext.data.Reader','Ext.data.DataReader'],factoryConfig:{defaultType:null},config:{groupRootProperty:'',implicitIncludes:!0,keepRawData:null,messageProperty:'',model:null,proxy:null,readRecordsOnFailure:!0,rootProperty:'',successProperty:'success',summaryRootProperty:'',totalProperty:'total',transform:null,typeProperty:''},isReader:!0,constructor:function(a){var b=this;if(a&&a.hasOwnProperty('root')){a=Ext.apply({},a);a.rootProperty=a.root;delete a.root}b.duringInit=1;b.mixins.observable.constructor.call(b,a);--b.duringInit;b.buildExtractors()},forceBuildExtractors:function(){if(!this.duringInit){this.buildExtractors(!0)}},updateGroupRootProperty:function(){this.forceBuildExtractors()},updateMessageProperty:function(){this.forceBuildExtractors()},applyModel:function(a){return Ext.data.schema.Schema.lookupEntity(a)},updateSuccessProperty:function(){this.forceBuildExtractors()},updateSummaryRootProperty:function(){this.forceBuildExtractors()},updateTotalProperty:function(){this.forceBuildExtractors()},applyTransform:function(a){if(a){if(Ext.isFunction(a)){a={fn:a}}else if(a.charAt){a={fn:this[a]}}return a.fn.bind(a.scope||this)}return a},read:function(a,e){var d,b,c;if(a){c=a.responseText;if(a.responseType||c){b=this.getResponseData(a);if(b&&b.__$isError){return new Ext.data.ResultSet({total:0,count:0,records:[],success:!1,message:b.msg})}else {d=this.readRecords(b,e)}}else if(c!==''){d=this.readRecords(a,e)}}return d||this.nullResultSet},getNullResultSet:function(){return this.nullResultSet},createReadError:function(a){return {__$isError:!0,msg:a}},readRecords:function(b,q,h){var a=this,r=h&&h.recordsOnly,s=h&&h.asRoot,o=null,f=null,j,i,g,c,n,m,d,p,l,k,e;k=a.getMeta?a.getMeta(b):b.metaData;if(k){a.onMetaChange(k)}l=a.getTransform();if(l){b=l(b)}a.buildExtractors();if(a.getKeepRawData()){a.rawData=b}if(a.hasListeners.rawdata){a.fireEventArgs('rawdata',[b])}b=a.getData(b);j=!0;i=0;g=[];if(a.getSuccessProperty()){d=a.getSuccess(b);if(d===!1||d==='false'){j=!1}}if(a.getMessageProperty()){p=a.getMessage(b)}if(j||a.getReadRecordsOnFailure()){c=s||Ext.isArray(b)?b:a.getRoot(b);if(c){m=c.length}if(a.getTotalProperty()){d=parseInt(a.getTotal(b),10);if(!isNaN(d)){n=m=d}}if(c){g=a.extractData(c,q);i=g.length}if(a.getGroupRootProperty()){c=a.getGroupRoot(b);if(c){e={includes:!1,model:a.getModel().getSummaryModel()};o=a.extractData(c,e)||null}}if(a.getSummaryRootProperty()){c=a.getSummaryRoot(b);if(c){e=e||{includes:!1,model:a.getModel().getSummaryModel()};f=a.extractData(c,e)||null;if(f){f=f[0]}}}}return r?g:new Ext.data.ResultSet({total:m||i,remoteTotal:n,metadata:k,count:i,records:g,success:j,message:p,groupData:o,summaryData:f})},extractData:function(f,b){var c=this,h=b&&b.model?Ext.data.schema.Schema.lookupEntity(b.model):c.getModel(),k=h.schema,o=b&&'includes' in b?b.includes:k.hasAssociations(h)&&c.getImplicitIncludes(),n=c.getFieldExtractorInfo(h),i=f.length,m=new Array(i),l=c.getTypeProperty(),j,e,d,a,g;if(!i&&Ext.isObject(f)){f=[f];i=1}for(g=0;g<i;g++){a=f[g];if(!a.isModel){e=a;if(l&&(d=c.getChildType(k,e,l))){j=d.getProxy().getReader();a=j.extractRecord(e,b,d,k.hasAssociations(d)&&j.getImplicitIncludes(),j.getFieldExtractorInfo(d))}else {a=c.extractRecord(e,b,h,o,n)}if(a.isModel&&a.isNode){a.raw=e}}if(a.onLoad){a.onLoad()}m[g]=a}return m},getChildType:function(d,c,a){var b;switch(typeof a){case 'string':return d.getEntity(c[a]);case 'object':b=a.namespace;return d.getEntity((b?b+'.':'')+c[a.name]);case 'function':return d.getEntity(a(c));}},extractRecordData:function(d,a){var b=a&&a.model?Ext.data.schema.Schema.lookupEntity(a.model):this.getModel(),c=this.getFieldExtractorInfo(b);return this.extractRecord(d,a,b,!1,c)},extractRecord:function(e,b,g,i,f){var a=this,h=b&&b.recordCreator||a.defaultRecordCreator,d,c;d=a.extractModelData(e,f);c=h.call(a,d,g||a.getModel(),b);if(i&&c.isModel){a.readAssociated(c,e,b)}return c},getFieldExtractorInfo:function(d){var b=d.fieldExtractors,c,a;if(!b){return}c=this.$className;a=b[c];if(a===undefined){b[c]=a=this.buildFieldExtractors(d)}return a},buildFieldExtractors:function(j){var f=j.getFields(),k=f.length,c=[],e=[],i=null,h=0,d,g,a,b;for(a=0;a<k;++a){d=f[a];b=this.createFieldAccessor(d);if(b){g=d.name;c.push('val = extractors['+h+"](raw, self); if (val !== undefined) { data['"+g+"'] = val; }");e.push(b);++h}}if(c.length){i={extractors:e,fn:new Function('raw','data','extractors','self','var val;'+c.join('\n'))}}return i},defaultRecordCreator:function(b,a){return new a(b)},defaultRecordCreatorFromServer:function(c,b){var a=new b(c);a.phantom=!1;return a},getModelData:function(a){return {}},extractModelData:function(c,a){var b=this.getModelData(c),d;if(a){d=a.fn;d(c,b,a.extractors,this)}return b},readAssociated:function(b,g,a){var f=this,c=b.associations,e,d;for(e in c){if(c.hasOwnProperty(e)){d=c[e];if(!b.phantom&&a&&!a.recordCreator){Ext.apply(a,{recordCreator:f.defaultRecordCreatorFromServer})}if(d.cls){d.read(b,g,f,a)}}}},getData:Ext.identityFn,getRoot:Ext.identityFn,getResponseData:function(a){},onMetaChange:function(a){var b=this,g=a.fields,e,d,c,f;b.metaData=a;if(a.root){b.setRootProperty(a.root)}if(a.totalProperty){b.setTotalProperty(a.totalProperty)}if(a.successProperty){b.setSuccessProperty(a.successProperty)}if(a.messageProperty){b.setMessageProperty(a.messageProperty)}c=a.clientIdProperty;if(g){d=Ext.define(null,{extend:'Ext.data.Model',fields:g,clientIdProperty:c});b.setModel(d);f=b.getProxy();if(f){f.setModel(d)}}else if(c){e=b.getModel();if(e){e.self.prototype.clientIdProperty=c}}},buildExtractors:function(e){var a=this,d,c,b;if(e||!a.hasExtractors){d=a.getTotalProperty();c=a.getSuccessProperty();b=a.getMessageProperty();if(d){a.getTotal=a.getAccessor(d)}if(c){a.getSuccess=a.getAccessor(c)}if(b){a.getMessage=a.getAccessor(b)}a.hasExtractors=!0;return !0}},getAccessor:function(c){var d=this,e=d.extractorCache,a,b;if(typeof c==='string'){b=d.getAccessorKey(c);if(b){a=e.get(b)}if(!a){a=d.createAccessor(c);if(b){e.add(b,a)}}}else {a=d.createAccessor(c)}return a},getAccessorKey:function(b){var a=this.$className;return a?a+b:''},createAccessor:Ext.emptyFn,createFieldAccessor:Ext.emptyFn,destroy:function(){var a=this;a.model=a.getTotal=a.getSuccess=a.getMessage=a.rawData=null;a.onMetaChange=null;a.transform=null;a.callParent()},privates:{copyFrom:function(b){var a=this;b.buildExtractors();a.getTotal=b.getTotal;a.getSuccess=b.getSuccess;a.getMessage=b.getMessage;++a.duringInit;a.setConfig(b.getConfig());--a.duringInit;a.hasExtractors=!0}}},1,0,0,0,['reader.base'],[[Ext.mixin.Observable.prototype.mixinId||Ext.mixin.Observable.$className,Ext.mixin.Observable],[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.data.reader,'Reader',Ext.data,'Reader',Ext.data,'DataReader'],function(b){var a=b.prototype;Ext.apply(a,{nullResultSet:new Ext.data.ResultSet({total:0,count:0,records:[],success:!0,message:''})});a.extractorCache=new Ext.util.LruCache()});Ext.cmd.derive('Ext.data.writer.Writer',Ext.Base,{alternateClassName:['Ext.data.DataWriter','Ext.data.Writer'],factoryConfig:{defaultType:null},isWriter:!0,config:{clientIdProperty:null,allDataOptions:{persist:!0},partialDataOptions:{changes:!0,critical:!0},writeAllFields:!1,dateFormat:null,nameProperty:'name',writeRecordId:!0,transform:null},constructor:function(a){this.initConfig(a)},applyTransform:function(a){if(a){if(Ext.isFunction(a)){a={fn:a}}return a.fn.bind(a.scope||this)}return a},write:function(d){var b=d.getOperation(),c=b.getRecords()||[],f=c.length,e=[],a;for(a=0;a<f;a++){e.push(this.getRecordData(c[a],b))}return this.writeRecords(d,e)},writeRecords:Ext.emptyFn,getRecordData:function(f,p){var d=this,j=d.getNameProperty(),l=j!=='name',e=f.self.idField,b=e?e[j]||e.name:'id',a=f.id,q=d.getWriteAllFields(),c,k,n,m,i,o,g,h;if(e&&e.serialize){a=e.serialize(a)}if(!q&&p&&p.isDestroyOperation){c={};c[b]=a}else {k=d.getDateFormat();n=f.phantom;m=n||q?d.getAllDataOptions():d.getPartialDataOptions();i=n&&d.getClientIdProperty();o=f.getFieldsMap();m.serialize=!1;g=f.getData(m);c=l?{}:g;if(i){c[i]=a;delete g[b]}else if(!d.getWriteRecordId()){delete g[b]}for(b in g){a=g[b];if(!(h=o[b])){if(l){c[b]=a}}else {if(h.isDateField&&k&&Ext.isDate(a)){a=Ext.Date.format(a,k)}else if(h.serialize){a=h.serialize(a,f)}if(l){b=h[j]||b}c[b]=a}}}return c}},1,0,0,0,['writer.base'],[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.data.writer,'Writer',Ext.data,'DataWriter',Ext.data,'Writer'],0);Ext.cmd.derive('Ext.data.proxy.Proxy',Ext.Base,{$configPrefixed:!1,alternateClassName:['Ext.data.DataProxy','Ext.data.Proxy'],config:{batchOrder:'create,update,destroy',batchActions:!0,model:undefined,reader:{type:'json'},writer:{type:'json'}},isProxy:!0,isSynchronous:!1,constructor:function(a){this.mixins.observable.constructor.call(this,a);this.pendingOperations={}},applyModel:function(a){return Ext.data.schema.Schema.lookupEntity(a)},updateModel:function(b){var a;if(b){a=this.getReader();if(a&&!a.getModel()){a.setModel(b)}}},applyReader:function(a){if(this.isSynchronous){a=a||{};a.keepRawData=!0}return Ext.Factory.reader(a)},updateReader:function(b){var c=this,a;if(b){a=c.getModel();if(!a){a=b.getModel();if(a){c.setModel(a)}}else {b.setModel(a)}if(b.responseType!=null){c.responseType=b.responseType}}},applyWriter:function(b){var a=this.getReader();b=Ext.Factory.writer(b);if(b.getRecord&&!b.getRecord()&&a&&a.getRecord){a=a.getRecord();if(a){b.setRecord(a)}}return b},abort:Ext.emptyFn,onMetaChange:function(a){this.fireEvent('metachange',this,a)},create:Ext.emptyFn,read:Ext.emptyFn,update:Ext.emptyFn,erase:Ext.emptyFn,batch:function(a,l){var c=this,m=c.getBatchActions(),b,d,h,j,e,f,g,k,i;if(a.operations===undefined){a={operations:a,listeners:l}}if(a.batch){if(Ext.isDefined(a.batch.runOperation)){b=Ext.applyIf(a.batch,{proxy:c,listeners:{}})}}else {a.batch={proxy:c,listeners:a.listeners||{}}}if(!b){b=new Ext.data.Batch(a.batch)}b.on('complete',Ext.bind(c.onBatchComplete,c,[a],0),null,{single:!0,priority:1000});b.$destroyOwner=a.$destroyOwner;h=c.getBatchOrder().split(',');j=h.length;for(f=0;f<j;f++){e=h[f];d=a.operations[e];if(d){if(m){b.add(c.createOperation(e,{records:d,params:a.params}))}else {k=d.length;for(g=0;g<k;g++){i=d[g];b.add(c.createOperation(e,{records:[i],params:a.params}))}}}}b.start();return b},onBatchComplete:function(a,b){var c=a.scope||this;if(b.hasException()){if(Ext.isFunction(a.failure)){Ext.callback(a.failure,c,[b,a])}}else if(Ext.isFunction(a.success)){Ext.callback(a.success,c,[b,a])}if(Ext.isFunction(a.callback)){Ext.callback(a.callback,c,[b,a])}if(!b.$destroyOwner){b.destroy()}},createOperation:function(b,c){var a=Ext.createByAlias('data.operation.'+b,c);a.setProxy(this);this.pendingOperations[a._internalId]=a;return a},completeOperation:function(a){delete this.pendingOperations[a._internalId]},clone:function(){return new this.self(this.getInitialConfig())},destroy:function(){var c=this.pendingOperations,b,a;for(b in c){a=c[b];if(a&&a.isRunning()){a.abort()}a.destroy()}this.pendingOperations=null;this.callParent()}},1,0,0,0,['proxy.proxy'],[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable],[Ext.mixin.Observable.prototype.mixinId||Ext.mixin.Observable.$className,Ext.mixin.Observable]],[Ext.data.proxy,'Proxy',Ext.data,'DataProxy',Ext.data,'Proxy'],0);Ext.cmd.derive('Ext.data.proxy.Client',Ext.data.proxy.Proxy,{alternateClassName:'Ext.data.ClientProxy',isSynchronous:!0,clear:function(){}},0,0,0,0,0,0,[Ext.data.proxy,'Client',Ext.data,'ClientProxy'],0);Ext.cmd.derive('Ext.data.proxy.Memory',Ext.data.proxy.Client,{alternateClassName:'Ext.data.MemoryProxy',isMemoryProxy:!0,config:{enablePaging:null,data:{$value:null,merge:function(a,b,d,c){return a?Ext.clone(a):a}},clearOnRead:null},finishOperation:function(b){var c=b.getRecords(),d=c.length,a;for(a=0;a<d;a++){c[a].dropped=!!b.isDestroyOperation;c[a].commit()}b.setSuccessful(!0)},create:function(a){this.finishOperation(a)},update:function(a){this.finishOperation(a)},erase:function(a){this.finishOperation(a)},read:function(b){var e=this,k=e.getReader(),c=k.read(e.getData(),{recordCreator:k.defaultRecordCreatorFromServer}),d=c.getRecords(),a=b.getSorters(),f=b.getGroupers(),j=b.getGrouper(),h=b.getFilters(),g=b.getStart(),l=b.getLimit(),i;if(b.process(c,null,null,!1)!==!1){if(b.success&&e.getClearOnRead()){this.setData(null)}if(h&&h.length){c.setRecords(d=Ext.Array.filter(d,Ext.util.Filter.createFilterFn(h)));c.setTotal(d.length)}if(f&&f.length){a=a?f.concat(a):f}else if(j){a=a?a.concat(j):a}if(a&&a.length){c.setRecords(d=Ext.Array.sort(d,Ext.util.Sortable.createComparator(a)))}if(e.getEnablePaging()&&g!==undefined&&l!==undefined){if(g>=c.getTotal()){c.setConfig({success:!1,records:[],total:0})}else {c.setRecords(Ext.Array.slice(d,g,g+l))}}b.setCompleted();i=c.getMetadata();if(i){e.onMetaChange(i)}}},clear:Ext.emptyFn},0,0,0,0,['proxy.memory'],0,[Ext.data.proxy,'Memory',Ext.data,'MemoryProxy'],0);Ext.cmd.derive('Ext.data.ProxyStore',Ext.data.AbstractStore,{config:{model:undefined,fields:null,proxy:undefined,autoLoad:undefined,autoSync:!1,batchUpdateMode:'operation',sortOnLoad:!0,trackRemoved:!0,asynchronousLoad:undefined},onClassExtended:function(e,d,b){var c=d.model,a;if(typeof c==='string'){a=b.onBeforeCreated;b.onBeforeCreated=function(){var g=this,f=arguments;Ext.require(c,function(){a.apply(g,f)})}}},implicitModel:'Ext.data.Model',autoSyncSuspended:0,removed:null,constructor:function(b){var a=this;Ext.data.AbstractStore.prototype.constructor.apply(this,arguments);if(a.getAsynchronousLoad()===!1){a.flushLoad()}},doDestroy:function(){var a=this,b=a.getProxy();a.clearLoadTask();Ext.destroy(a.getData());a.data=null;a.setProxy(null);if(b.autoCreated){b.destroy()}a.setModel(null);Ext.data.AbstractStore.prototype.doDestroy.call(this)},applyAsynchronousLoad:function(a){if(a==null){a=!this.loadsSynchronously()}return a},updateAutoLoad:function(a){this.getData();if(a){this.load(Ext.isObject(a)?a:undefined)}},getTotalCount:function(){return this.totalCount||0},applyFields:function(a){if(a){this.createImplicitModel(a)}},applyModel:function(a){if(a){a=Ext.data.schema.Schema.lookupEntity(a)}else if(!this.destroying){this.getFields();a=this.getModel()||this.createImplicitModel()}return a},applyProxy:function(a){var b=this.getModel();if(a!==null){if(a){if(a.isProxy){a.setModel(b)}else {if(Ext.isString(a)){a={type:a,model:b}}else if(!a.model){a=Ext.apply({model:b},a)}a=Ext.createByAlias('proxy.'+a.type,a);a.autoCreated=!0}}else if(b){a=b.getProxy();this.useModelProxy=!0}if(!a){a=Ext.createByAlias('proxy.memory');a.autoCreated=!0}}return a},applyState:function(b){var a=this;Ext.data.AbstractStore.prototype.applyState.call(this,b);if((a.getAutoLoad()||a.isLoaded())&&(a.getRemoteSort()||a.getRemoteFilter())){a.load()}},updateProxy:function(b,a){this.proxyListeners=Ext.destroy(this.proxyListeners)},updateTrackRemoved:function(a){this.cleanRemoved();this.removed=a?[]:null},onMetaChange:function(b,a){this.fireEvent('metachange',this,a)},create:function(f,a){var b=this,e=b.getModel(),d=new e(f),c;a=Ext.apply({},a);if(!a.records){a.records=[d]}a.internalScope=b;a.internalCallback=b.onProxyWrite;c=b.createOperation('create',a);return c.execute()},read:function(){return this.load.apply(this,arguments)},update:function(a){var b=this,c;a=Ext.apply({},a);if(!a.records){a.records=b.getUpdatedRecords()}a.internalScope=b;a.internalCallback=b.onProxyWrite;c=b.createOperation('update',a);return c.execute()},onProxyWrite:function(a){var b=this,c=a.wasSuccessful(),d=a.getRecords();switch(a.getAction()){case 'create':b.onCreateRecords(d,a,c);break;case 'update':b.onUpdateRecords(d,a,c);break;case 'destroy':b.onDestroyRecords(d,a,c);break;}if(c){b.fireEvent('write',b,a);b.fireEvent('datachanged',b)}},onCreateRecords:Ext.emptyFn,onUpdateRecords:Ext.emptyFn,onDestroyRecords:function(c,b,a){if(a){this.cleanRemoved()}},erase:function(a){var b=this,c;a=Ext.apply({},a);if(!a.records){a.records=b.getRemovedRecords()}a.internalScope=b;a.internalCallback=b.onProxyWrite;c=b.createOperation('destroy',a);return c.execute()},onBatchOperationComplete:function(b,a){return this.onProxyWrite(a)},onBatchComplete:function(c,f){var a=this,d=c.operations,e=d.length,b;if(a.batchUpdateMode!=='operation'){a.suspendEvents();for(b=0;b<e;b++){a.onProxyWrite(d[b])}a.resumeEvents()}a.isSyncing=!1;if(c.$destroyOwner===a){c.destroy()}a.fireEvent('datachanged',a)},onBatchException:function(b,a){},filterNew:function(a){return a.phantom&&a.isValid()},getNewRecords:function(){return []},getUpdatedRecords:function(){return []},getModifiedRecords:function(){return [].concat(this.getNewRecords(),this.getUpdatedRecords())},filterUpdated:function(a){return a.dirty&&!a.phantom&&a.isValid()},getRemovedRecords:function(){var a=this.getRawRemovedRecords();return a?Ext.Array.clone(a):[]},sync:function(d){var a=this,b={},f=a.getNewRecords(),g=a.getUpdatedRecords(),e=a.getRemovedRecords(),c=!1;a.needsSync=!1;if(f.length>0){b.create=f;c=!0}if(g.length>0){b.update=g;c=!0}if(e.length>0){b.destroy=e;c=!0}if(c&&a.fireEvent('beforesync',b)!==!1){a.isSyncing=!0;d=d||{};a.proxy.batch(Ext.apply(d,{operations:b,listeners:a.getBatchListeners(),$destroyOwner:a}))}return a},getBatchListeners:function(){var a=this,b={scope:a,exception:a.onBatchException,complete:a.onBatchComplete};if(a.batchUpdateMode==='operation'){b.operationcomplete=a.onBatchOperationComplete}return b},save:function(){return this.sync.apply(this,arguments)},load:function(b){var a=this;if(typeof b==='function'){b={callback:b}}else {b=b?Ext.Object.chain(b):{}}a.pendingLoadOptions=b;if(a.getAsynchronousLoad()){if(!a.loadTimer){a.loadTimer=Ext.asap(a.flushLoad,a)}}else {a.flushLoad()}return a},flushLoad:function(){var a=this,c=a.pendingLoadOptions,b;if(a.destroying||a.destroyed){return}a.clearLoadTask();if(!c){return}a.setLoadOptions(c);if(a.getRemoteSort()&&c.sorters){a.fireEvent('beforesort',a,c.sorters)}b=Ext.apply({internalScope:a,internalCallback:a.onProxyLoad,scope:a},c);a.lastOptions=b;b=a.createOperation('read',b);if(a.fireEvent('beforeload',a,b)!==!1){a.onBeforeLoad(b);a.loading=!0;if(a.hasListeners.beginload){a.fireEvent('beginload',a,b)}b.execute()}else {if(a.getAsynchronousLoad()){b.abort()}b.setCompleted()}},reload:function(a){return this.load(Ext.apply({},a,this.lastOptions))},onEndUpdate:function(){var a=this;if(a.needsSync&&a.autoSync&&!a.autoSyncSuspended){a.sync()}},afterReject:function(b){var a=this;if(a.contains(b)){a.onUpdate(b,Ext.data.Model.REJECT,null);a.fireEvent('update',a,b,Ext.data.Model.REJECT,null);a.fireEvent('datachanged',a)}},afterCommit:function(c,b){var a=this;if(!b){b=null}if(a.contains(c)){a.onUpdate(c,Ext.data.Model.COMMIT,b);a.fireEvent('update',a,c,Ext.data.Model.COMMIT,b);a.fireEvent('datachanged',a)}},afterErase:function(a){this.onErase(a)},onErase:Ext.emptyFn,onUpdate:Ext.emptyFn,hasPendingLoad:function(){return !!this.pendingLoadOptions||this.isLoading()},isLoading:function(){return !!this.loading},isLoaded:function(){return this.loadCount>0},suspendAutoSync:function(){++this.autoSyncSuspended},resumeAutoSync:function(b){var a=this;if(a.autoSyncSuspended&&!--a.autoSyncSuspended){if(b){a.sync()}}},removeAll:Ext.emptyFn,clearData:Ext.emptyFn,privates:{getRawRemovedRecords:function(){return this.removed},onExtraParamsChanged:function(){},clearLoadTask:function(){this.pendingLoadOptions=this.loadTimer=Ext.unasap(this.loadTimer)},cleanRemoved:function(){var a=this.getRawRemovedRecords(),c,b;if(a){for(b=0,c=a.length;b<c;++b){a[b].unjoin(this)}a.length=0}},createOperation:function(e,d){var a=this,c=a.getProxy(),b;if(!a.proxyListeners){b={scope:a,destroyable:!0,beginprocessresponse:a.beginUpdate,endprocessresponse:a.endUpdate};if(!a.disableMetaChangeEvent){b.metachange=a.onMetaChange}a.proxyListeners=c.on(b)}return c.createOperation(e,d)},createImplicitModel:function(e){var b=this,d={extend:b.implicitModel,statics:{defaultProxy:'memory'}},c,a;if(e){d.fields=e}a=Ext.define(null,d);b.setModel(a);c=b.getProxy();if(c){a.setProxy(c)}else {b.setProxy(a.getProxy())}},loadsSynchronously:function(){return this.getProxy().isSynchronous},onBeforeLoad:Ext.privateFn,removeFromRemoved:function(b){var a=this.getRawRemovedRecords();if(a){Ext.Array.remove(a,b);b.unjoin(this)}},setLoadOptions:function(d){var c=this,a,b;if(c.getRemoteFilter()){a=c.getFilters(!1);if(a&&a.getCount()){d.filters=a.getRange()}}if(c.getRemoteSort()){b=c.getSorters(!1);if(b&&b.getCount()){d.sorters=b.getRange()}}}}},1,0,0,0,0,0,[Ext.data,'ProxyStore'],0);Ext.cmd.derive('Ext.util.Group',Ext.util.Collection,{isGroup:!0,config:{level:1,path:null,data:null,grouper:null,label:null,groupKey:null,groupValue:null,parent:null},pathSeparator:'<||>',$endUpdatePriority:2001,manageSorters:!1,constructor:function(a){Ext.util.Collection.prototype.constructor.call(this,a);this.on('remove','onGroupItemsRemove',this)},destroy:function(){var a=this.getParent(),b;if(a){if(a.isGroup){b=a.getGroups()}else if(a.isGroupCollection){b=a}if(b){b.remove(this)}}Ext.util.Collection.prototype.destroy.call(this)},clear:function(){var a=this.getGroups(),c,b,d;d=Ext.util.Collection.prototype.clear.call(this);if(a){c=a.length;for(b=0;b<c;b++){a.items[b].clear()}a.clear()}return d},getData:function(){var a=this._data;if(!a){a={};this.setData(a)}return a},setCustomData:function(a,b){this.getData()[a]=b},getCustomData:function(a){return this.getData()[a]},updateLabel:function(c){var a=this,b=a.getGrouper();if(b){a.setCustomData(b.getProperty(),c)}else {a.setData({})}a.setGroupValue(c)},getGrouper:function(){return this._grouper},updateGrouper:Ext.emptyFn,updateSorters:function(c,e){var b=this.getGroups(),d,a;Ext.util.Collection.prototype.updateSorters.call(this,c,e);if(!b||this.ejectTime){return}d=b.length;for(a=0;a<d;a++){b.items[a].setSorters(c)}},updateGroupKey:function(){this.refreshPath()},updateParent:function(){this.refreshPath()},refreshPath:function(){var a=this,d=1,b,c;if(!a.refreshingPath){a.refreshingPath=!0;b=a.getParent();c=a.getGroupKey();if(b&&b.isGroup){d+=b.getLevel();c=b.getPath()+a.pathSeparator+c}a.setLevel(d);a.setPath(c);a.refreshingPath=!1}},isFirst:function(){var a=this.getParent(),b=a?a.isGroup?a.getGroups():a:null,c=!1;if(b){c=b.indexOf(this)===0}return c},isLast:function(){var a=this.getParent(),b=a?a.isGroup?a.getGroups():a:null,c=!1;if(b){c=b.indexOf(this)===b.length-1}return c},groupItems:function(){if(!this.ejectTime){return Ext.util.Collection.prototype.groupItems.call(this)}},sortItems:function(){if(!this.ejectTime){return Ext.util.Collection.prototype.sortItems.call(this)}},eject:function(){var a=this;a.ejectTime=Ext.now();a.setConfig({sorters:null,groupers:null,parent:null,grouper:null,groups:null})},privates:{canOwnItem:function(a){return this.getGroupKey()===this.getGrouper().getGroupString(a)},removeItems:function(e){var a=this.getGroups(),f=a?a.length:0,d=[],c,b;for(c=0;c<f;++c){b=a.items[c];b.remove(e);if(!b.length){d.push(b)}}if(d.length){a.remove(d)}},onGroupItemsRemove:function(b,a){this.removeItems(a.items)}}},1,0,0,0,0,0,[Ext.util,'Group'],0);Ext.cmd.derive('Ext.data.Group',Ext.util.Group,{isDataGroup:!0,store:null,isCollapsed:!1,updateParent:function(a,b){if(!this.isCollapsed&&a&&a.isGroup){this.isCollapsed=a.isCollapsed}Ext.util.Group.prototype.updateParent.call(this,a,b)},expand:function(a){this.doExpandCollapse(!0,a)},collapse:function(a){this.doExpandCollapse(!1,a)},doExpandCollapse:function(d,c){var b=this.getGroups(),e,a;this.isCollapsed=!d;if(c&&b){e=b.length;for(a=0;a<e;a++){b.items[a].doExpandCollapse(d,c)}}},toggleCollapsed:function(){this.doExpandCollapse(this.isCollapsed)},getGroupRecord:function(){var a=this.getNewSummaryRecord('groupRecord',!0);a.isGroup=!0;return a},getSummaryRecord:function(){var a=this.getNewSummaryRecord('summaryRecord',!0);a.isSummary=!0;return a},getNewSummaryRecord:function(g,i){var b=this,a=b[g],c=b.store,e=c.getData().generation,d,h,f;if(!a){d=c.getModel();h=d.getSummaryModel();b[g]=a=new h();f=d.idField.name;a.data[f]=a.id=d.identifier.generate();a.group=b;a.commit()}if(!c.getRemoteSummary()&&!a.isRemote&&a.summaryGeneration!==e&&i===!0){a.calculateSummary(b.items);a.summaryGeneration=e}else if(c.getRemoteSummary()&&a.isRemote){b.fixRemoteSummary(a)}a.isNonData=!0;return a},fixRemoteSummary:function(c){var g=c.getFields(),h=g.length,b,a,f,e,d;for(b=0;b<h;++b){d=g[b];f=d.getSummary();a=a||{};e=d.name;if(e!=='id'&&!f){a[e]=null}}if(a){c.set(a,c._commitOptions)}},recalculateSummaries:function(){var a=this.items;this.getGroupRecord().calculateSummary(a);this.getSummaryRecord().calculateSummary(a)},eject:function(){var a=this;Ext.util.Group.prototype.eject.call(this);if(a.groupRecord){a.groupRecord.summaryGeneration=0}if(a.summaryRecord){a.summaryRecord.summaryGeneration=0}}},0,0,0,0,0,0,[Ext.data,'Group'],0);Ext.cmd.derive('Ext.data.LocalStore',Ext.Mixin,{mixinConfig:{id:'localstore',after:{fireGroupChangeEvent:'onGrouperChange'}},config:{extraKeys:null},applyExtraKeys:function(a){var b,c=this.getData();c.setExtraKeys(a);a=c.getExtraKeys();for(b in a){this[b]=a[b]}},add:function(a){return this.insert(this.getCount(),arguments.length===1?a:arguments)},constructDataCollection:function(){var a=new Ext.util.Collection({rootProperty:'data',groupConfig:{xclass:'Ext.data.Group',store:this}});a.addObserver(this);return a},createModel:function(a){var c=this.getSession(),b;if(!a.isModel){b=this.getModel();a=new b(a,c)}return a},createFiltersCollection:function(){return this.getData().getFilters()},createSortersCollection:function(){var a=this.getData().getSorters();a.setSorterConfigure(this.addFieldTransform,this);return a},getSummaryRecord:function(){var b=this,a=b.summaryRecord,f=b.getData(),d=f.generation,c,g,e;if(!a){c=b.getModel();g=c.getSummaryModel();b.summaryRecord=a=new g();e=c.idField.name;a.data[e]=a.id=c.identifier.generate();a.commit();a.isNonData=!0}if(!a.isRemote&&a.summaryGeneration!==d){a.calculateSummary(f.items);a.summaryGeneration=d}return a},onCollectionBeginUpdate:function(){this.beginUpdate()},onCollectionEndUpdate:function(){this.endUpdate()},onCollectionSort:function(){this.onSorterEndUpdate()},onCollectionFilter:function(){this.onFilterEndUpdate()},onCollectionGroup:function(){this.onGroupersEndUpdate()},onGrouperChange:function(a){this.callObservers('GrouperChange',[a])},notifySorterChange:function(){this.getData().onSorterChange()},forceLocalSort:function(){var a=this.getSorters();a.beginUpdate();a.endUpdate()},contains:function(a){return this.indexOf(a)>-1},each:function(h,g,c){var a=this.getData(),f=c,e,d,b;if(typeof c==='object'){f=c.filtered}if(f&&a.filtered){a=a.getSource()}a=a.items.slice(0);e=a.length;for(b=0;b<e;++b){d=a[b];if(h.call(g||d,d,b,e)===!1){break}}},collect:function(e,a,d){var f=this,c=a,b=f.getData();if(typeof a==='object'){d=a.filtered;c=a.allowNull}if(d&&b.filtered){b=b.getSource()}return b.collect(e,'data',c)},getById:function(b){var a=this.getData();if(a.filtered){a=a.getSource()}return a.get(b)||null},getByInternalId:function(c){var a=this.getData(),b;if(a.filtered){if(!a.$hasExtraKeys){b=this.makeInternalKeyCfg();a.setExtraKeys(b);a.$hasExtraKeys=!0}a=a.getSource()}if(!a.$hasExtraKeys){a.setExtraKeys(b||this.makeInternalKeyCfg());a.$hasExtraKeys=!0}return a.byInternalId.get(c)||null},getDataSource:function(){var a=this.getData();return a.getSource()||a},indexOf:function(a){return this.getData().indexOf(a)},indexOfId:function(a){return this.indexOf(this.getById(a))},insert:function(e,a){var d=this,c,b;if(a){if(!Ext.isIterable(a)){a=[a]}else {a=Ext.Array.clone(a)}c=a.length}if(!c){return []}for(b=0;b<c;++b){a[b]=d.createModel(a[b])}d.getData().insert(e,a);return a},queryBy:function(c,b){var a=this.getData();return (a.getSource()||a).createFiltered(c,b)},query:function(e,f,d,b,c){var a=this.getData();return (a.getSource()||a).createFiltered(e,f,d,b,c)},first:function(a){return this.getData().first(a)||null},last:function(a){return this.getData().last(a)||null},sum:function(a,c){var b=this.getData();return c&&this.isGrouped()?b.sumByGroup(a):b.sum(a)},count:function(b){var a=this.getData();return b&&this.isGrouped()?a.countByGroup():a.count()},min:function(a,c){var b=this.getData();return c&&this.isGrouped()?b.minByGroup(a):b.min(a)},max:function(a,c){var b=this.getData();return c&&this.isGrouped()?b.maxByGroup(a):b.max(a)},average:function(a,c){var b=this.getData();return c&&this.isGrouped()?b.averageByGroup(a):b.average(a)},aggregate:function(i,g,j,f){var a=this,c,h,e,d,b;if(j&&a.isGrouped()){c=a.getGroups().items;h=c.length;e={};for(b=0;b<h;++b){d=c[b];e[d.getGroupKey()]=a.getAggregate(i,g||a,d.items,f)}return e}else {return a.getAggregate(i,g,a.getData().items,f)}},getAggregate:function(g,e,b,d){var c=[],f=b.length,a;for(a=0;a<f;++a){c[a]=b[a].get(d)}return g.call(e||this,b,c)},addObserver:function(b){var a=this.observers;if(!a){this.observers=a=new Ext.util.Collection()}a.add(b)},removeObserver:function(b){var a=this.observers;if(a){a.remove(b)}},callObservers:function(h,a){var f=this.observers,g,e,c,d,b;if(f){e=f.items;if(a){a.unshift(this)}else {a=[this]}for(c=0,g=e.length;c<g;++c){b=e[c];d='onSource'+h;if(b[d]){b[d].apply(b,a)}}}},queryRecordsBy:function(g,d){var a=this.getData(),e=[],f,b,c;a=(a.getSource()||a).items;d=d||this;for(b=0,f=a.length;b<f;++b){c=a[b];if(g.call(d,c)===!0){e.push(c)}}return e},queryRecords:function(f,g){var a=this.getData(),d=[],e,b,c;a=(a.getSource()||a).items;for(b=0,e=a.length;b<e;++b){c=a[b];if(c.get(f)===g){d.push(c)}}return d},privates:{isLast:function(a){return a===this.last()},makeInternalKeyCfg:function(){return {byInternalId:{property:'internalId',rootProperty:''}}}}},0,0,0,0,0,0,[Ext.data,'LocalStore'],0);Ext.cmd.derive('Ext.data.proxy.Server',Ext.data.proxy.Proxy,{alternateClassName:'Ext.data.ServerProxy',isRemote:!0,config:{url:'',pageParam:'page',startParam:'start',limitParam:'limit',groupParam:'group',summaryParam:'summary',groupDirectionParam:'groupDir',sortParam:'sort',filterParam:'filter',directionParam:'dir',idParam:'id',simpleSortMode:!1,simpleGroupMode:!1,noCache:!0,cacheString:'_dc',timeout:30000,api:{create:undefined,read:undefined,update:undefined,destroy:undefined},extraParams:{}},create:function(){return this.doRequest.apply(this,arguments)},read:function(){return this.doRequest.apply(this,arguments)},update:function(){return this.doRequest.apply(this,arguments)},erase:function(){return this.doRequest.apply(this,arguments)},setExtraParam:function(c,b){var a=this.getExtraParams();a[c]=b;this.fireEvent('extraparamschanged',a)},updateExtraParams:function(a,b){this.fireEvent('extraparamschanged',a)},buildRequest:function(a){var c=this,g=Ext.apply({},a.getParams()),d=Ext.applyIf(g,c.getExtraParams()||{}),b,e,f;Ext.applyIf(d,c.getParams(a));e=a.getId();f=c.getIdParam();if(e!==undefined&&d[f]===undefined){d[f]=e}b=new Ext.data.Request({params:d,action:a.getAction(),records:a.getRecords(),url:a.getUrl(),operation:a,proxy:c});b.setUrl(c.buildUrl(b));a.setRequest(b);return b},processResponse:function(j,b,i,c){var a=this,g,f,e,h,d;if(a.destroying||a.destroyed){return}a.fireEvent('beginprocessresponse',a,c,b);if(j===!0){f=a.getReader();if(c.status===204){e=f.getNullResultSet()}else {e=f.read(a.extractResponseData(c),{recordCreator:b.getRecordCreator()||f.defaultRecordCreatorFromServer})}if(!b.$destroyOwner){b.$destroyOwner=a;d=!0}b.process(e,i,c);g=!b.wasSuccessful()}else {a.setException(b,c);g=!0}if(a.destroyed){if(!b.destroyed&&d&&b.$destroyOwner===a){b.destroy()}return}if(g){a.fireEvent('exception',a,c,b)}else {h=e.getMetadata();if(h){a.onMetaChange(h)}}if(a.destroyed){if(!b.destroyed&&d&&b.$destroyOwner===a){b.destroy()}return}a.afterRequest(i,j);a.fireEvent('endprocessresponse',a,c,b);if(!b.destroyed&&d&&b.$destroyOwner===a){b.destroy()}},setException:function(b,a){b.setException({status:a.status,statusText:a.statusText,response:a})},extractResponseData:Ext.identityFn,applyEncoding:function(a){return this.getParamsAsJson&&this.getParamsAsJson()?a:Ext.encode(a)},encodeSorters:function(c,d){var b=[],e=c.length,a;for(a=0;a<e;a++){b[a]=c[a].serialize()}return this.applyEncoding(d?b[0]:b)},encodeFilters:function(c){var b=[],e=c.length,d,a;for(a=0;a<e;a++){d|=c[a].serializeTo(b)}return d?this.applyEncoding(b):b},getParams:function(e){if(!e.isReadOperation){return {}}var b=this,a={},f=e.getGroupers(),j=e.getGrouper(),g=e.getSorters(),n=e.getFilters(),w=e.getPage(),o=e.getStart(),v=e.getLimit(),y=b.getSimpleSortMode(),x=b.getSimpleGroupMode(),u=b.getPageParam(),t=b.getStartParam(),s=b.getLimitParam(),d=b.getGroupParam(),i=b.getGroupDirectionParam(),h=b.getSortParam(),q=b.getFilterParam(),l=b.getDirectionParam(),m=e.getSummaries(),p=b.getSummaryParam(),k,r,c;if(u&&w){a[u]=w}if(t&&(o||o===0)){a[t]=o}if(s&&v){a[s]=v}if(p&&m&&m.length>0){a[p]=b.encodeFields(m)}k=d&&j;r=d&&f&&f.length;if(k||r){if(x){if(k){a[d]=j.getProperty();if(i===d){a[d]+=' '+j.getDirection()}else {a[i]=j.getDirection()}}else {for(c=0;c<f.length;c++){if(i===d){a[d]=Ext.Array.push(a[d]||[],f[c].getProperty()+' '+f[c].getDirection())}else {a[d]=Ext.Array.push(a[d]||[],f[c].getProperty());a[i]=Ext.Array.push(a[i]||[],f[c].getDirection())}}}}else {a[d]=k?b.encodeSorters([j],!0):b.encodeSorters(f)}}if(h&&g&&g.length>0){if(y){for(c=0;c<g.length;c++){if(l===h){a[h]=Ext.Array.push(a[h]||[],g[c].getProperty()+' '+g[c].getDirection())}else {a[h]=Ext.Array.push(a[h]||[],g[c].getProperty());a[l]=Ext.Array.push(a[l]||[],g[c].getDirection())}}}else {a[h]=b.encodeSorters(g)}}if(q&&n&&n.length>0){a[q]=b.encodeFilters(n)}return a},encodeFields:function(e){var f=[],g=e.length,b,d,c,a;for(b=0;b<g;b++){d=e[b];c={name:d.getName()};a=d.getSummary();if(a&&a.isAggregator){c.summary=a.type;f.push(c)}}return this.applyEncoding(f)},buildUrl:function(c){var b=this,a=b.getUrl(c);if(b.getNoCache()){a=Ext.urlAppend(a,Ext.String.format('{0}={1}',b.getCacheString(),Ext.Date.now()))}return a},getUrl:function(a){var b;if(a){b=a.getUrl()||this.getApi()[a.getAction()]}return b?b:(arguments.callee.$previous||Ext.data.proxy.Proxy.prototype.getUrl).call(this)},doRequest:function(a,b,c){},afterRequest:Ext.emptyFn,destroy:function(){var a=this;a.destroying=!0;a.reader=a.writer=Ext.destroy(a.reader,a.writer);Ext.data.proxy.Proxy.prototype.destroy.call(this);a.destroyed=!0}},0,0,0,0,['proxy.server'],0,[Ext.data.proxy,'Server',Ext.data,'ServerProxy'],0);Ext.cmd.derive('Ext.data.proxy.Ajax',Ext.data.proxy.Server,{alternateClassName:['Ext.data.HttpProxy','Ext.data.AjaxProxy'],isAjaxProxy:!0,defaultActionMethods:{create:'POST',read:'GET',update:'POST',destroy:'POST'},config:{binary:!1,headers:undefined,paramsAsJson:!1,withCredentials:!1,useDefaultXhrHeader:!0,username:null,password:null,actionMethods:{create:'POST',read:'GET',update:'POST',destroy:'POST'}},doRequest:function(e){var a=this,g=a.getWriter(),b=a.buildRequest(e),f=a.getMethod(b),c,d;if(g&&e.allowWrite()){b=g.write(b)}b.setConfig({binary:a.getBinary(),headers:a.getHeaders(),timeout:a.getTimeout(),scope:a,callback:a.createRequestCallback(b,e),method:f,useDefaultXhrHeader:a.getUseDefaultXhrHeader(),disableCaching:!1});if(a.responseType!=null&&Ext.supports.XHR2){b.setResponseType(a.responseType)}if(f.toUpperCase()!=='GET'&&a.getParamsAsJson()){d=b.getParams();if(d){c=b.getJsonData();if(c){c=Ext.Object.merge({},c,d)}else {c=d}b.setJsonData(c);b.setParams(undefined)}}if(a.getWithCredentials()){b.setWithCredentials(!0);b.setUsername(a.getUsername());b.setPassword(a.getPassword())}return a.sendRequest(b)},sendRequest:function(a){a.setRawRequest(Ext.Ajax.request(a.getCurrentConfig()));this.lastRequest=a;return a},abort:function(a){a=a||this.lastRequest;if(a){Ext.Ajax.abort(a.getRawRequest())}},getMethod:function(d){var a=this.getActionMethods(),b=d.getAction(),c;if(a){c=a[b]}return c||this.defaultActionMethods[b]},createRequestCallback:function(a,b){return function(f,e,d){var c=this;if(a===c.lastRequest){c.lastRequest=null}if(!c.destroying&&!c.destroyed){c.processResponse(e,b,a,d)}}},destroy:function(){this.lastRequest=null;Ext.data.proxy.Server.prototype.destroy.call(this)}},0,0,0,0,['proxy.ajax'],0,[Ext.data.proxy,'Ajax',Ext.data,'HttpProxy',Ext.data,'AjaxProxy'],0);Ext.cmd.derive('Ext.data.reader.Json',Ext.data.reader.Reader,{alternateClassName:'Ext.data.JsonReader',config:{record:null,metaProperty:'metaData',useSimpleAccessors:!1,preserveRawData:!1},responseType:'json',updateRootProperty:function(){this.forceBuildExtractors()},updateMetaProperty:function(){this.forceBuildExtractors()},getResponseData:function(a){var b;if(typeof a.responseJson==='object'){return a.responseJson}try{return Ext.decode(a.responseText)}catch(c){b=this.createReadError(c.message);Ext.Logger.warn('Unable to parse the JSON returned by the server');this.fireEvent('exception',this,a,b);return b}},buildExtractors:function(c){var a=this,b=Ext.emptyFn;if(Ext.data.reader.Reader.prototype.buildExtractors.call(this,c)){a.getRoot=a.setupExtractor(a.getRootProperty(),Ext.identityFn);a.getGroupRoot=a.setupExtractor(a.getGroupRootProperty(),b);a.getSummaryRoot=a.setupExtractor(a.getSummaryRootProperty(),b);a.getMeta=a.setupExtractor(a.getMetaProperty(),b)}},extractData:function(a,f){var e=this.getRecord(),d=[],c,b;if(e){c=a.length;if(!c&&Ext.isObject(a)){c=1;a=[a]}for(b=0;b<c;b++){d[b]=a[b][e]}}else {d=a}return Ext.data.reader.Reader.prototype.extractData.call(this,d,f)},getModelData:function(a){return this.getPreserveRawData()?Ext.apply({},a):a},createAccessor:function(){var a=/[\[\.]/;return function(c){var o=this.getUseSimpleAccessors(),n,f,j,m,b,e,p,l,g,k,d,h,i,q;if(!(c||c===0)){return}if(typeof c==='function'){return c}if(!o){n=String(c).search(a)}if(o===!0||n<0){f=function(a){return a==null?null:a[c]}}else {j='raw';m=[];b='';e=0;q=c.length;for(h=0;h<=q;++h){d=c[h];p=d==='.';l=d==='[';g=d===']';k=p||l||g||!d;if(!k||e>1||e&&!g){b+=d}else if(k){i=!1;if(l){++e}else if(g){--e;i=!0}if(b){if(i){b='['+b+']'}else {b='.'+b}j+=b;m.push(''+j);b=''}}}f=m.join(' && ');f=Ext.functionFactory('raw','return '+f)}return f}}(),createFieldAccessor:function(b){var e=this,a=b.mapping,c=a||a===0,d=c?a:b.name;if(c){if(typeof d==='function'){return function(c,a){return b.mapping(c,a)}}else {return e.createAccessor(d)}}},getAccessorKey:function(b){var a=this.getUseSimpleAccessors()?'simple':'';return Ext.data.reader.Reader.prototype.getAccessorKey.call(this,a+b)},privates:{copyFrom:function(a){Ext.data.reader.Reader.prototype.copyFrom.call(this,a);this.getRoot=a.getRoot},getGroupRoot:function(a){this.buildExtractors();return this.getGroupRoot(a)},getSummaryRoot:function(a){this.buildExtractors();return this.getSummaryRoot(a)},setupExtractor:function(a,b){return a?this.getAccessor(a):b}}},0,0,0,0,['reader.json'],0,[Ext.data.reader,'Json',Ext.data,'JsonReader'],0);Ext.cmd.derive('Ext.data.writer.Json',Ext.data.writer.Writer,{alternateClassName:'Ext.data.JsonWriter',config:{rootProperty:undefined,encode:!1,allowSingle:!0,expandData:!1},getExpandedData:function(f){var i=f.length,g=0,a,c,b,d,e,h;h=function(c,b){var a={};a[c]=b;return a};for(;g<i;g++){a=f[g];for(c in a){if(a.hasOwnProperty(c)){b=c.split('.');d=b.length-1;if(d>0){e=a[c];for(;d>0;d--){e=h(b[d],e)}a[b[0]]=a[b[0]]||{};Ext.Object.merge(a[b[0]],e);delete a[c]}}}}return f},writeRecords:function(b,a){var c=this,e=c.getRootProperty(),d,g,f;if(c.getExpandData()){a=c.getExpandedData(a)}if(c.getAllowSingle()&&a.length===1){a=a[0];g=!0}f=this.getTransform();if(f){a=f(a,b)}if(c.getEncode()){if(e){b.setParam(e,Ext.encode(a))}else {}}else if(g||a&&a.length){d=b.getJsonData()||{};if(e){d[e]=a}else {d=a}b.setJsonData(d)}return b}},0,0,0,0,['writer.json'],0,[Ext.data.writer,'Json',Ext.data,'JsonWriter'],0);Ext.cmd.derive('Ext.util.SorterCollection',Ext.util.Collection,{isSorterCollection:!0,$sortable:null,sortFn:null,config:{sorterOptionsFn:null,sorterOptionsScope:null},constructor:function(b){var a=this;a.sortFn=Ext.util.Sorter.createComparator(a);Ext.util.Collection.prototype.constructor.call(this,b);a.setDecoder(a.decodeSorter)},addSort:function(b,c,d){var a=this,f,j,k,g,h,i,e;if(!b){a.beginUpdate();a.endUpdate()}else {g=a.getOptions();if(b instanceof Array){e=b;d=c;c=null}else if(Ext.isString(b)){if(!(i=a.get(b))){e=[{property:b,direction:c||g.getDefaultSortDirection()}]}else {e=[i]}}else if(Ext.isFunction(b)){e=[{sorterFn:b,direction:c||g.getDefaultSortDirection()}]}else {e=[b];d=c;c=null}d=a._sortModes[d||'replace'];h=a.getAt(0);f=a.length;j=d.append?f:0;a.beginUpdate();a.splice(j,d.replace?f:0,e);if(d.multi){f=a.length;k=g.getMultiSortLimit();if(f>k){a.removeAt(k,f)}}if(i&&c){i.setDirection(c)}else if(j===0&&h&&h===a.getAt(0)){h.toggle()}a.endUpdate()}},clear:function(){this.beginUpdate();Ext.util.Collection.prototype.clear.call(this);this.endUpdate(this.items)},getSortFn:function(){return this.sortFn},getByProperty:function(d){var c=this.items,e=c.length,a,b;for(a=0;a<e;++a){b=c[a];if(b.getProperty()===d){return b}}return null},_sortModes:{append:{append:1},multi:{multi:1},prepend:{prepend:1},replace:{replace:1}},decodeSorter:function(a,i){var c=this,g=c.getOptions(),h=g.getRootProperty(),f=c.getSorterOptionsFn(),d,b,e;if(a.isSorter){if(!a.getRoot()){a.setRoot(h)}}else {b={direction:g.getDefaultSortDirection(),root:h};e=typeof a;if(e==='string'){d=c.get(a);if(d){return d}b.property=a}else if(e==='function'){b.sorterFn=a}else {b=Ext.apply(b,a);if(b.fn){b.sorterFn=b.fn;delete b.fn}}a=Ext.create(i||Ext.util.Sorter,b)}if(f){f.call(c.getSorterOptionsScope()||c,a)}return a},setSorterConfigure:function(b,a){this.setSorterOptionsFn(b);this.setSorterOptionsScope(a)},decodeRemoveItems:function(e,d){var k=this,b=d===undefined?e:e[d];if(!b||!b.$cloned){if(e.length>d+1||!Ext.isIterable(b)){b=Ext.Array.slice(e,d)}var j=k.items,l=b.length,c=[],f,g,i,a,h;for(f=0;f<l;f++){a=b[f];if(a&&a.isSorter){c.push(a)}else {h=typeof a;if(h==='string'){a=k.get(a);if(a){c.push(a)}}else if(h==='function'){for(i=j.length;i-->0;){g=j[i];if(g.getSorterFn()===a){c.push(g)}}}}}b=c;b.$cloned=!0}return b},getOptions:function(){return this.$sortable||this}},1,0,0,0,0,0,[Ext.util,'SorterCollection'],0);Ext.cmd.derive('Ext.util.FilterCollection',Ext.util.Collection,{isFilterCollection:!0,$filterable:null,filterFn:null,constructor:function(b){var a=this;a.filterFn=Ext.util.Filter.createFilterFn(a);Ext.util.Collection.prototype.constructor.call(this,b);a.setDecoder(a.decodeFilter)},filterData:function(a){return this.filtered?Ext.Array.filter(a,this.filterFn):a},getFilterFn:function(){return this.filterFn},isItemFiltered:function(a){return !this.filterFn(a)},getFilterCount:function(){var c=this.items,b=c.length,a;for(a=b-1;a>=0;a--){if(c[a].getDisabled()){b--}}return b},decodeFilter:function(b){var d=this.getOptions(),c=d.getRootProperty(),a;if(b.isFilter){if(b.setRoot&&!b.getRoot()){b.setRoot(c)}}else {a={root:c};if(Ext.isFunction(b)){a.filterFn=b}else {a=Ext.apply(a,b);if(a.fn){a.filterFn=a.fn;delete a.fn}if(Ext.util.Filter.isInvalid(a)){return !1}}b=new Ext.util.Filter(a)}return b},decodeRemoveItems:function(f,e){var p=this,b=e===undefined?f:f[e];if(!b.$cloned){if(f.length>e+1||!Ext.isIterable(b)){b=Ext.Array.slice(f,e)}var k=p.items,o=b.length,h=[],a,g,l,n,m,c,d,j,i;for(g=0;g<o;g++){a=b[g];if(a&&a.isFilter){h.push(a)}else {i=typeof a;l=i==='function';n=a.property!==undefined&&a.value!==undefined;m=i==='string';for(j=k.length;j-->0;){c=k[j];d=!1;if(m){d=c.getProperty()===a}else if(l){d=c.getFilterFn()===a}else if(n){d=c.getProperty()===a.property&&c.getValue()===a.value}if(d){h.push(c)}}}}b=h;b.$cloned=!0}return b},getOptions:function(){return this.$filterable||this}},1,0,0,0,0,0,[Ext.util,'FilterCollection'],0);Ext.cmd.derive('Ext.util.GrouperCollection',Ext.util.SorterCollection,{isGrouperCollection:!0,constructor:function(a){Ext.util.SorterCollection.prototype.constructor.call(this,a);this.setDecoder(this.decodeGrouper)},decodeGrouper:function(a){var b=a;if(typeof a==='function'){b={groupFn:a}}return this.decodeSorter(b,'Ext.util.Grouper')},addGroupersObserver:function(c){var b=this.items,d=b.length,a;for(a=0;a<d;a++){b[a].addObserver(c)}},removeGroupersObserver:function(c){var b=this.items,d=b.length,a;for(a=0;a<d;a++){b[a].removeObserver(c)}}},1,0,0,0,0,0,[Ext.util,'GrouperCollection'],0);Ext.cmd.derive('Ext.util.GroupCollection',Ext.util.Collection,{isGroupCollection:!0,config:{grouper:null,groupConfig:null,itemRoot:null},observerPriority:-100,emptyGroupRetainTime:300000,rootProperty:'_data',constructor:function(a){this.emptyGroups={};Ext.util.Collection.prototype.constructor.call(this,a);this.on('remove','onGroupRemove',this)},getItemGroup:function(d){var a=this.lastMonitoredGrouper,c,b;if(!a&&this.items.length){a=this.items[0].getGrouper()}if(a){c=a.getGroupString(d);b=this.get(c)}return b},getByPath:function(d){var e=d?String(d).split(Ext.util.Group.prototype.pathSeparator):[],f=e.length,b=this,a=!1,c;if(!f){a=b.get(d)}for(c=0;c<f;c++){if(!b||b.length===0){break}a=b.get(e[c]);if(a){b=a.getGroups()}}return a||!1},getGroupsByItem:function(e){var f=this,a=[],g=f.items.length,c,b,d;if(e){for(c=0;c<g;c++){b=f.items[c];if(b.indexOf(e)>=0){a.push(b);d=b.getGroups();if(d){return Ext.Array.insert(a,a.length,d.getGroupsByItem(e))}}}}return a},onCollectionAdd:function(b,a){if(!this.isConfiguring){this.addItemsToGroups(b,a.items,a.at)}},onCollectionBeforeItemChange:function(b,a){this.changeDetails=a},onCollectionBeginUpdate:function(){this.beginUpdate()},onCollectionEndUpdate:function(){this.endUpdate()},onCollectionItemChange:function(b,a){if(!a.indexChanged){this.syncItemGrouping(b,a)}this.changeDetails=null},onCollectionRefresh:function(d){if(d.generation){var b=this,j=b.itemGroupKeys={},g,a,h,e,i,c,f;b.groupersChanged=!0;g=b.createEntries(d,d.items);a=g.entries;for(e=0,i=a.length;e<i;++e){c=a[e];c.group.splice(0,1.0E99,c.items);for(f=0;f<c.items.length;f++){j[d.getKey(c.items[f])]=c.group}}a=null;for(h in b.map){if(!(h in g.groups)){(a||(a=[])).push(b.map[h])}}if(a){b.remove(a)}b.sortItems();b.groupersChanged=!1}},onCollectionRemove:function(d,k){var a=this,n=d.getGroupers(),j=a.changeDetails,m=a.itemGroupKeys||(a.itemGroupKeys={}),f,g,e,b,i,h,c,l;if(!n||!n.length){return}if(d.getCount()){if(j){l=j.item||j.items[0];f=a.createEntries(d,[l],!1).entries;f[0].group=m['oldKey' in k?k.oldKey:d.getKey(l)]}else {f=a.createEntries(d,k.items,!1).entries}for(b=0,i=f.length;b<i;++b){e=(g=f[b]).group;if(e){e.remove(g.items)}for(h=0;h<g.items.length;h++){delete m[d.getKey(g.items[h])]}if(e&&!e.length){(c||(c=[])).push(e)}}}else {a.itemGroupKeys={};c=a.items;for(b=0,i=c.length;b<i;++b){c[b].clear()}}if(c){a.remove(c)}},onCollectionSort:function(g){var f=this,c=g.getSorters(!1),e,d,b,a;if(c){e=f.items;d=f.length;for(b=0;b<d;++b){a=e[b];if(a.getSorters()===c){a.sortItems()}else {a.setSorters(c)}}}},onCollectionUpdateKey:function(b,a){if(!a.indexChanged){a.oldIndex=b.indexOf(a.item);this.syncItemGrouping(b,a)}},onCollectionGroupersChanged:function(d){var a=this,c=d.getGroupers(),b;if(c.length>0){b=c.items[0];a.changeSorterFn(b);if(a.lastMonitoredGrouper){a.lastMonitoredGrouper.removeObserver(a)}a.lastMonitoredGrouper=b;b.addObserver(a)}else {a.removeAll()}},onGrouperDirectionChange:function(a){this.changeSorterFn(a);this.onEndUpdateSorters(this.getSorters())},onEndUpdateSorters:function(b){var a=this,d=a.sorted,c=a.grouped&&a.getAutoGroup()||a.getAutoSort()&&b&&b.length>0;if(d||c){a.sorted=!!c;a.onSortChange(b)}},changeSorterFn:function(b){var d=this,c=d.getSorters(),a={root:d.getRootProperty()};a.direction=b.getDirection();if(b){a.id=b.getProperty();if(b.initialConfig.sorterFn){a.sorterFn=b.initialConfig.sorterFn}else {a.property=b.getSortProperty()||b.getProperty()}}if(a.property||a.sorterFn){if(c.length===0){c.add(a)}else {c.items[0].setConfig(a)}}else {c.clear()}},addItemsToGroups:function(c,n,d,f){var e=this,p=e.itemGroupKeys||(e.itemGroupKeys={}),k=e.createEntries(c,n).entries,g=-1,m,a,h,o,i,b,j,l;for(h=0,o=k.length;h<o;++h){a=k[h];b=a.group;if(f||f===0){l=n[0];if(b.getCount()>0&&c.getSorters().getCount()===0){j=c.indexOf(b.items[0]);if(f<j){g=0}else {g=f-j}}if(g===-1){b.add(l)}else {b.insert(g,l)}}else {if(e.length>1&&d){m=c.indexOf(k[0].group.getAt(0));d=Math.max(d-m,0)}a.group.insert(d!=null?d:b.items.length,a.items);for(i=0;i<a.items.length;i++){p[c.getKey(a.items[i])]=a.group}}}e.sortItems()},createEntries:function(i,k,m){var n=this,e={},h=[],a=i.getGroupers().getRange(),d,f,j,c,b,g,l;if(a.length){d=a.shift();a=a.length?Ext.clone(a):null;for(b=0,l=k.length;b<l;++b){c=d.getGroupString(g=k[b]);if(!(f=e[c])){j=n.getGroup(i,g,d,a,m);h.push(e[c]=f={group:j,items:[]})}f.items.push(g)}}return {groups:e,entries:h}},syncItemGrouping:function(i,b){var f=this,j=f.itemGroupKeys||(f.itemGroupKeys={}),d=b.item,c=i.getGroupers().getRange(),k,h,g,a,e;if(!c.length){return}k=c.shift();c=c.length?Ext.clone(c):null;g=i.getKey(d);h='oldKey' in b?b.oldKey:g;a=j[h];e=f.getGroup(i,d,k,c);b.group=e;b.oldGroup=a;b.groupChanged=e!==a;if(e===a){a.itemChanged(d,b.modified,b.oldKey,b)}else {if(a){a.updateKey(d,h,g);a.remove(d);if(!a.length){f.remove(a)}}f.addItemsToGroups(i,[d],null,b.oldIndex)}delete j[h];j[g]=e},getGroup:function(c,f,d,i,l){var b=this,e=d.getGroupString(f),g=d.getSortProperty(),k=d.getRoot(),a=b.get(e),h=b.getAutoSort(),j;if(a){a.setSorters(c.getSorters());if(b.groupersChanged){j=a.getLabel();a.setLabel(null);a.setGroupers(i);a.setGrouper(d);a.setParent(c.isGroup?c:b);a.setLabel(j)}}else if(l!==!1){a=b.emptyGroups[e];if(a&&a.destroyed){delete b.emptyGroups[e];a=null}if(a){a.setLabel(null)}else {a=Ext.create(Ext.apply({xclass:'Ext.util.Group',groupConfig:b.getGroupConfig()},b.getGroupConfig()))}b.setAutoSort(!1);a.setConfig({groupKey:e,grouper:d,groupers:i,label:e,rootProperty:b.getItemRoot(),sorters:c.getSorters(),autoSort:h,autoGroup:b.getAutoGroup(),parent:c.isGroup?c:b});a.ejectTime=null;b.add(a);b.setAutoSort(h);if(g){a.setCustomData(g,(k?f[k]:f)[g])}}return a},getKey:function(a){return a.getGroupKey()},createSortFn:function(){return this.getSorters().getSortFn()},getGrouper:function(){return this.lastMonitoredGrouper},updateGrouper:Ext.emptyFn,updateAutoGroup:function(b){var c=this.length,a;this.setAutoSort(b);for(a=0;a<c;a++){this.items[a].setAutoGroup(b)}this.onEndUpdateSorters(this._sorters)},destroy:function(){var a=this,b=a.lastMonitoredGrouper;if(b){b.removeObserver(a)}a.$groupable=null;a.destroyGroups(a.items);Ext.undefer(a.checkRemoveQueueTimer);Ext.util.Collection.prototype.destroy.call(this)},privates:{destroyGroups:function(b){var c=b.length,a;for(a=c-1;a>=0;a--){b[a].destroy()}},onGroupRemove:function(h,g){var e=this,a=g.items,f=e.emptyGroups,d,b,c;a=Ext.Array.from(a);for(c=0,d=a.length;c<d;c++){b=a[c];b.eject();f[b.getGroupKey()]=b}e.checkRemoveQueue()},checkRemoveQueue:function(){var a=this,c=a.emptyGroups,d,b,e;for(d in c){b=c[d];if(!b||b.destroyed){delete c[d]}else if(!b.length&&Ext.now()-b.ejectTime>a.emptyGroupRetainTime){Ext.destroy(b);delete c[d]}else {e=!0}}if(e){Ext.undefer(a.checkRemoveQueueTimer);a.checkRemoveQueueTimer=Ext.defer(a.checkRemoveQueue,a.emptyGroupRetainTime,a)}}}},1,0,0,0,0,0,[Ext.util,'GroupCollection'],0);Ext.cmd.derive('Ext.data.Store',Ext.data.ProxyStore,{config:{data:undefined,clearRemovedOnLoad:!0,clearOnPageLoad:!0,associatedEntity:null,role:null,session:null},addRecordsOptions:{addRecords:!0},loadCount:0,complete:!1,moveMapCount:0,constructor:function(a){var c=this,b;if(a){if(a.buffered){return new Ext.data['BufferedStore'](a)}}Ext.data.ProxyStore.prototype.constructor.call(this,a);b=c.inlineData;if(b){delete c.inlineData;c.loadInlineData(b)}},applyData:function(a,c){var b=this;b.getFields();b.getModel();if(a&&a.isCollection){a.setRootProperty('data');c=a;c.addObserver(this);if(a.getCount()){b.afterLoadRecords(a.items);if(b.hasListeners.load){b.fireEvent('load',b,a.items,!0)}}}else {if(!c){c=b.constructDataCollection()}if(a){if(b.isInitializing){b.inlineData=a}else {b.loadData(a)}}}return c},loadInlineData:function(c){var a=this,b=a.getProxy();if(b&&b.isMemoryProxy){b.setData(c);a.suspendEvents();a.read();a.resumeEvents()}else {a.removeAll(!0);a.suspendEvents();a.loadData(c);a.resumeEvents()}},onCollectionAdd:function(b,a){this.loadCount=this.loadCount||1;this.onCollectionAddItems(b,a.items,a)},onCollectionFilterAdd:function(a,b){this.onCollectionAddItems(a,b)},onCollectionAddItems:function(n,g,b){var a=this,m=g.length,k=b?!b.next:!1,h=a.removed,j=a.ignoreCollectionAdd,l=a.getSession(),e=b&&b.replaced,f,i,c,d;if(a.activeRanges){a.syncActiveRanges()}for(f=0;f<m;++f){c=g[f];if(l){l.adopt(c)}if(!j){c.join(a);if(h&&h.length){Ext.Array.remove(h,c)}i=i||c.phantom||c.dirty}}if(j){return}if(e){d=[];do{Ext.Array.push(d,e.items);e=e.next}while(e);a.setMoving(d,!0)}if(b){if(b.replaced){if(k){a.fireEvent('datachanged',a);a.fireEvent('refresh',a)}}else {a.fireEvent('add',a,g,b.at);if(k){a.fireEvent('datachanged',a)}}}if(d){a.setMoving(d,!1)}a.needsSync=a.needsSync||i},onCollectionBeforeItemChange:function(e,a){var c=a.item,b=a.modified||null,d=a.meta;this.fireEvent('beforeupdate',this,c,d,b,a)},onCollectionFilteredItemChange:function(){this.onCollectionItemChange.apply(this,arguments)},onCollectionItemChange:function(f,b){var a=this,c=b.item,d=b.modified||null,e=b.meta;if(a.fireChangeEvent(c)){a.onUpdate(c,e,d,b);a.fireEvent('update',a,c,e,d,b);a.fireEvent('datachanged',a)}},afterChange:function(b,a,c){this.getData().itemChanged(b,a||null,undefined,c)},afterCommit:function(b,a){this.afterChange(b,a,Ext.data.Model.COMMIT)},afterEdit:function(a,b){this.needsSync=this.needsSync||a.dirty;this.afterChange(a,b,Ext.data.Model.EDIT)},afterReject:function(a){this.afterChange(a,null,Ext.data.Model.REJECT)},afterDrop:function(a){this.getData().remove(a)},afterErase:function(a){this.removeFromRemoved(a)},addSorted:function(c){var a=this,d=a.getRemoteSort(),b=a.getData(),e;if(d){b.setSorters(a.getSorters())}e=b.findInsertionIndex(c);if(d){b.setSorters(null)}return a.insert(e,c)},remove:function(c,h,i){var f=this,e=f.getDataSource(),d,g,b,a;if(c){if(c.isModel){if(e.indexOf(c)>-1){b=[c];d=1}else {d=0}}else {b=[];for(g=0,d=c.length;g<d;++g){a=c[g];if(a&&a.isEntity){if(!e.contains(a)){continue}}else if(!(a=e.getAt(a))){continue}b.push(a)}d=b.length}}if(!d){return []}f.removeIsMove=h===!0;f.removeIsSilent=i;e.remove(b);f.removeIsSilent=!1;return b},onCollectionRemove:function(n,f){var a=this,g=a.removed,e=f.items,m=e.length,i=f.at,b=f.replacement,h=a.removeIsMove||b&&Ext.Array.equals(e,b.items),k=a.removeIsSilent,j=!f.next,l=a.getDataSource(),d,c;if(a.ignoreCollectionRemove){return}if(b){a.setMoving(b.items,!0)}for(d=m-1;d>=0;d--){c=e[d];if(!l.contains(c)){if(g&&!h&&!c.phantom&&!c.erasing){c.removedFrom=i+d;g.push(c);a.needsSync=!0}else {c.unjoin(a)}}}if(!k){if(!b||!b.items.length){a.fireEvent('remove',a,e,i,h);if(j){a.fireEvent('datachanged',a)}}}if(b){a.setMoving(b.items,!1)}},onFilterEndUpdate:function(){var a=this;if(a.destroying||a.destroyed){return}if(a.activeRanges){a.syncActiveRanges()}Ext.data.ProxyStore.prototype.onFilterEndUpdate.apply(this,arguments);a.callObservers('Filter')},removeAt:function(a,b){var c=this.getData();a=Math.max(a,0);if(a<c.length){if(arguments.length===1){b=1}else if(!b){return}c.removeAt(a,b)}},removeAll:function(d){var a=this,b=a.getData(),c=b.getRange();if(b.length){a.removeIsSilent=!0;a.callObservers('BeforeRemoveAll');b.removeAll();a.removeIsSilent=!1;if(!d){a.fireEvent('clear',a,c);a.fireEvent('datachanged',a)}a.callObservers('AfterRemoveAll',[!!d])}return c},setRecords:function(a){var b=this.getCount();++this.loadCount;if(b){this.getData().splice(0,b,a)}else {this.add(a)}},splice:function(b,a,c){return this.getData().splice(b,a,c)},onProxyLoad:function(b){var a=this,e=b.getResultSet(),c=b.getRecords(),d=b.wasSuccessful();if(a.destroyed){return}if(e){a.totalCount=e.getTotal()}if(d){c=a.processAssociation(c);a.loadRecords(c,b.getAddRecords()?{addRecords:!0}:undefined);a.attachSummaryRecord(e)}else {a.loading=!1}if(a.hasListeners.load){a.fireEvent('load',a,c,d,b)}a.callObservers('AfterLoad',[c,d,b])},onProxyWrite:function(a){if(a.wasSuccessful()){this.attachSummaryRecord(a.getResultSet())}Ext.data.ProxyStore.prototype.onProxyWrite.call(this,a)},filterDataSource:function(f){var c=this.getDataSource(),b=c.items,e=b.length,d=[],a;for(a=0;a<e;a++){if(f.call(c,b[a])){d.push(b[a])}}return d},getNewRecords:function(){return this.filterDataSource(this.filterNew)},getRejectRecords:function(){return this.filterDataSource(this.filterRejects)},getUpdatedRecords:function(){return this.filterDataSource(this.filterUpdated)},loadData:function(d,e){var b=this,f=d.length,a=[],c;for(c=0;c<f;c++){a.push(b.createModel(d[c]))}a=b.processAssociation(a);b.loadRecords(a,e?b.addRecordsOptions:undefined)},loadRawData:function(g,f){var a=this,e=a.getSession(),b,d,c;b=a.getProxy().getReader().read(g,e?{recordCreator:e.recordCreator}:undefined);d=b.getRecords();c=b.getSuccess();if(c){a.totalCount=b.getTotal();a.loadRecords(d,f?a.addRecordsOptions:undefined)}return c},loadRecords:function(f,e){var a=this,b=a.getData(),c,d;if(e){c=e.addRecords}if(!a.getRemoteSort()&&!a.getSortOnLoad()){d=!0;b.setAutoSort(!1)}if(!c){a.clearData(!0)}a.loading=!1;a.ignoreCollectionAdd=!0;a.callObservers('BeforePopulate');b.add(f);a.ignoreCollectionAdd=!1;if(d){b.setAutoSort(!0)}a.afterLoadRecords(f)},afterLoadRecords:function(c){var a=this,d=c.length,b;for(b=0;b<d;b++){c[b].join(a)}if(!a.isEmptyStore){++a.loadCount;a.complete=!0}if(a.hasListeners.datachanged){a.fireEvent('datachanged',a)}if(a.hasListeners.refresh){a.fireEvent('refresh',a)}a.callObservers('AfterPopulate')},loadPage:function(c,b){var a=this,d=a.getPageSize();a.currentPage=c;b=Ext.apply({page:c,start:(c-1)*d,limit:d,addRecords:!a.getClearOnPageLoad()},b);a.read(b)},nextPage:function(a){this.loadPage(this.currentPage+1,a)},previousPage:function(a){this.loadPage(this.currentPage-1,a)},clearData:function(h){var a=this,b=a.removed,f=a.getDataSource(),g=a.getClearRemovedOnLoad(),j=b&&h&&!g,d,e,c,i;if(f){d=f.items;for(c=0,i=d.length;c<i;++c){e=d[c];if(j&&Ext.Array.contains(b,e)){continue}e.unjoin(a)}a.ignoreCollectionRemove=!0;a.callObservers('BeforeClear');f.removeAll();a.ignoreCollectionRemove=!1;a.callObservers('AfterClear')}if(b&&(!h||g)){b.length=0}},onIdChanged:function(b,a,c){this.getData().updateKey(b,a);this.fireEvent('idchanged',this,b,a,c)},commitChanges:function(){var a=this,c=a.getModifiedRecords(),d=c.length,b=0;Ext.suspendLayouts();a.beginUpdate();for(;b<d;b++){c[b].commit()}a.cleanRemoved();a.endUpdate();Ext.resumeLayouts(!0);a.fireEvent('commit',a)},filterNewOnly:function(a){return a.phantom===!0},filterRejects:function(a){return a.phantom||a.dirty},rejectChanges:function(){var a=this,c=a.getRejectRecords(),f=c.length,b,d,e,g,h,i;Ext.suspendLayouts();a.beginUpdate();for(b=0;b<f;b++){d=c[b];if(d.phantom){e=e||[];e.push(d)}else {d.reject()}}if(e){a.remove(e);for(b=0,f=e.length;b<f;++b){e[b].reject()}}c=a.getRawRemovedRecords();if(c){f=c.length;g=!a.getRemoteSort()&&a.isSorted();if(g){h=a.getData();i=h.getAutoSort();h.setAutoSort(!1)}for(b=f-1;b>=0;b--){d=c[b];d.reject();if(!g){a.insert(d.removedFrom||0,d)}}if(g){h.setAutoSort(i);a.add(c)}c.length=0}a.endUpdate();Ext.resumeLayouts(!0);a.fireEvent('reject',a)},doDestroy:function(){var a=this,c=a.loadTask,d=a.getData(),b=d.getSource();a.clearData();a.setSession(null);a.observers=null;if(c){c.cancel();a.loadTask=null}if(b){b.destroy()}Ext.data.ProxyStore.prototype.doDestroy.call(this)},setFieldsSummaries:function(c){var a=this,d=a.model.getSummaryModel(),b;if(!d||a.isDestroyed){return}for(b in c){d.setSummaryField(b,c[b])}if(a.getRemoteSummary()){a.reload()}else {a.getSummaryRecord().calculateSummary(a.getData().items);a.recalculateSummaries(a.getGroups());a.fireEvent('summarieschanged',a);a.fireEvent('datachanged',a)}},setFieldSummary:function(d,c){var a=this,b=a.model.getSummaryModel();if(!b||a.isDestroyed){return}b.setSummaryField(d,c);if(a.getRemoteSummary()){a.reload()}else {a.getSummaryRecord().calculateSummary(a.getData().items);a.recalculateSummaries(a.getGroups());a.fireEvent('summarieschanged',a);a.fireEvent('datachanged',a)}},recalculateSummaries:function(b){var d=b?b.length:0,a,c;for(a=0;a<d;a++){c=b.items[a];c.recalculateSummaries();this.recalculateSummaries(c.getGroups())}},privates:{commitOptions:{commit:!0},attachSummaryRecord:function(j){if(!j){return}var c=this,b=j.getSummaryData(),l=c.getGroupers(),a=c.summaryRecord,i=c.commitOptions,k=!1,m,n,h,e,d,f,g;if(b){k=!0;if(a){a.data={};a.set(b.data,i)}else {c.summaryRecord=b;b.isRemote=!0}}if(l&&l.length){k=!0;b=j.getGroupData();if(b){m=c.getGroups();for(h=0,n=b.length;h<n;++h){e=b[h];d=m.getItemGroup(e);if(d){f=d.getGroups();while(f){g=f.getItemGroup(e);if(g){if(Ext.isDefined(e.data[g.getGrouper().getProperty()])){d=g;f=d.getGroups()}else {f=null}}else {f=null}}delete e.data.id;a=d.getGroupRecord();a.set(e.data,i);a.isRemote=!0;a=d.getSummaryRecord();a.set(e.data,i);a.isRemote=!0}}}}if(k){if(c.hasListeners.remotesummarieschanged){c.fireEvent('remotesummarieschanged',c)}}},fetch:function(b){var c=this,a;b=Ext.apply({},b);this.setLoadOptions(b);a=Ext.apply({internalScope:c,internalCallback:c.onFetch,scope:c},b);a=this.createOperation('read',a);a.execute()},onFetch:function(b){var a=this,d=b.getRecords(),c=b.wasSuccessful();if(a.destroyed){return}if(a.hasListeners.load){a.fireEvent('load',a,d,c,b)}},fireChangeEvent:function(a){return this.getDataSource().contains(a)},onBeforeLoad:function(a){this.callObservers('BeforeLoad',[a])},onRemoteFilterSet:function(a,b){if(a){this.getData().setFilters(b?null:a)}Ext.data.ProxyStore.prototype.onRemoteFilterSet.call(this,a,b)},onRemoteSortSet:function(b,a){var c=this.getData();if(b){c.setSorters(a?null:b)}c.setAutoGroup(!a);Ext.data.ProxyStore.prototype.onRemoteSortSet.call(this,b,a)},isMoving:function(a,f){var c=this.moveMap,b=0,e,d;if(c){if(a){if(Ext.isArray(a)){for(d=0,e=a.length;d<e;++d){b+=c[a[d].id]?1:0}}else if(c[a.id]){++b}}else {b=f?c:this.moveMapCount}}return b},setLoadOptions:function(a){var b=this,e=b.getPageSize(),j=[],c=b.getGroupers(!1),g,f,k,h,i,l,d;if(b.getRemoteSort()||b.getRemoteSummary()){if(!a.grouper){f=b.getGrouper();if(f){a.grouper=f}}else if(!a.groupers){if(c&&c.length){a.groupers=c.getRange()}}}if(b.getRemoteSummary()){k=b.getModel().getSummaryModel();h=k.getFields();l=h.length;for(d=0;d<l;d++){i=h[d];if(c&&!c.get(i.name)){j.push(i)}}a.summaries=j}if(e||'start' in a||'limit' in a||'page' in a){a.page=a.page!=null?a.page:b.currentPage;a.start=a.start!==undefined?a.start:(a.page-1)*e;a.limit=a.limit!=null?a.limit:e;b.currentPage=a.page}a.addRecords=a.addRecords||!1;if(!a.recordCreator){g=b.getSession();if(g){a.recordCreator=g.recordCreator}}Ext.data.ProxyStore.prototype.setLoadOptions.call(this,a)},setMoving:function(e,f){var b=this,c=b.moveMap||(b.moveMap={}),g=e.length,d,a;for(d=0;d<g;++d){a=e[d].id;if(f){if(c[a]){++c[a]}else {c[a]=1;++b.moveMapCount}}else {if(--c[a]===0){delete c[a];--b.moveMapCount}}}if(b.moveMapCount===0){b.moveMap=null}},processAssociation:function(b){var a=this,c=a.getAssociatedEntity();if(c){b=a.getRole().processLoad(a,c,b,a.getSession())}return b}}},1,0,0,0,['store.store'],[[Ext.data.LocalStore.prototype.mixinId||Ext.data.LocalStore.$className,Ext.data.LocalStore]],[Ext.data,'Store'],0);Ext.cmd.derive('Ext.data.reader.Array',Ext.data.reader.Json,{alternateClassName:'Ext.data.ArrayReader',config:{totalProperty:undefined,successProperty:undefined},createFieldAccessor:function(a){var b=a.mapping,d=a.hasMapping()?b:a.ordinal,c;a.mapping=d;c=Ext.data.reader.Json.prototype.createFieldAccessor.apply(this,arguments);a.mapping=b;return c},getModelData:function(a){return {}}},0,0,0,0,['reader.array'],0,[Ext.data.reader,'Array',Ext.data,'ArrayReader'],0);Ext.cmd.derive('Ext.data.ArrayStore',Ext.data.Store,{alternateClassName:['Ext.data.SimpleStore'],config:{proxy:{type:'memory',reader:'array'}},loadData:function(a,d){if(this.expandData){var c=[],b=0,e=a.length;for(;b<e;b++){c[c.length]=[a[b]]}a=c}Ext.data.Store.prototype.loadData.call(this,a,d)}},0,0,0,0,['store.array'],0,[Ext.data,'ArrayStore',Ext.data,'SimpleStore'],0);Ext.cmd.derive('Ext.data.StoreManager',Ext.util.MixedCollection,{alternateClassName:['Ext.StoreMgr','Ext.data.StoreMgr','Ext.StoreManager'],singleton:!0,register:function(){var a,b;for(a=0;b=arguments[a];a++){this.add(b)}},unregister:function(){var a,b;for(a=0;b=arguments[a];a++){this.remove(this.lookup(b))}},lookup:function(a,h){var d,c,f,g,b,e;if(Ext.isArray(a)){d=a[0];c=a;if(Ext.isObject(d)){a={data:c}}else {f=Ext.isArray(d);g=['field1'];if(f){for(b=2,e=d.length;b<=e;++b){g.push('field'+b)}}else {c=[];for(b=0,e=a.length;b<e;++b){c.push([a[b]])}}return new Ext.data.ArrayStore({data:c,fields:g,autoDestroy:!0,autoCreated:!0,expanded:!f})}}if(Ext.isString(a)){return this.get(a)}else {return Ext.Factory.store(a,h)}},getKey:function(a){return a.storeId},addEmptyStore:function(){var a=this.$emptyStore,b={destroy:Ext.emptyFn};if(!a){a=this.$emptyStore=Ext.regStore('ext-empty-store',{proxy:'memory',useModelWarning:!1});a.isEmptyStore=!0;a.on=a.addListener=function(){return b};a.un=a.removeListener=Ext.emptyFn}this.add(a)},clear:function(){this.callParent();this.addEmptyStore()}},0,0,0,0,0,0,[Ext.data,'StoreManager',Ext,'StoreMgr',Ext.data,'StoreMgr',Ext,'StoreManager'],function(){Ext.regStore=function(b,a){var c;if(Ext.isObject(b)){a=b}else {if(Ext.data.StoreManager.containsKey(b)){return Ext.data.StoreManager.lookup(b)}a.storeId=b}if(a instanceof Ext.data.Store){c=a}else {c=new Ext.data.Store(a)}Ext.data.StoreManager.register(c);return c};Ext.getStore=function(a){return Ext.data.StoreManager.lookup(a)};Ext.data.StoreManager.addEmptyStore()});Ext.cmd.derive('Ext.app.domain.Store',Ext.app.EventDomain,{singleton:!0,type:'store',prefix:'store.',idMatchRe:/^#/,constructor:function(){var a=this;a.callParent();a.monitor(Ext.data.AbstractStore)},match:function(c,a){var b=!1,d=c.alias;if(a==='*'){b=!0}else if(this.idMatchRe.test(a)){b=c.getStoreId()===a.substring(1)}else if(d){b=Ext.Array.indexOf(d,this.prefix+a)>-1}return b}},1,0,0,0,0,0,[Ext.app.domain,'Store'],0);Ext.cmd.derive('Ext.app.Controller',Ext.app.BaseController,{statics:{strings:{model:{getter:'getModel',upper:'Model'},view:{getter:'getView',upper:'View'},controller:{getter:'getController',upper:'Controller'},store:{getter:'getStore',upper:'Store'},profile:{getter:'getProfile',upper:'Profiles'}},controllerRegex:/^(.*)\.controller\./,profileRegex:/^(.*)\.profile\./,createGetter:function(a,b){return function(){return this[a](b)}},getGetterName:function(f,d){var b='get',c=f.split('.'),e=c.length,a;for(a=0;a<e;a++){b+=Ext.String.capitalize(c[a])}b+=d;return b},resolveNamespace:function(g,f){var c=Ext.app.Controller,b,a,d,e;b=g.prototype.isProfile?c.profileRegex:c.controllerRegex;a=Ext.getClassName(g);d=f.$namespace||f.namespace||Ext.app.getNamespace(a)||(e=b.exec(a))&&e[1];return d},processDependencies:function(m,p,o,f,a,n){if(!a||!a.length){return}var c=this,k=c.strings[f],h,i,j,g,b,l,d,e;if(!Ext.isArray(a)){a=[a]}for(b=0,l=a.length;b<l;b++){g=a[b];h=c.getFullName(g,f,o,n);a[b]=i=h.absoluteName;j=h.shortName;p.push(i);d=c.getGetterName(j,k.upper);if(!m[d]){m[d]=e=c.createGetter(k.getter,g)}if(e&&f!=='controller'){e['Ext.app.getter']=!0}}},getFullName:function(a,g,d,f){var c=a,e,b;if((e=a.indexOf('@'))>0){c=a.substring(0,e);b=a.substring(e+1)+'.'+c}else if(a.indexOf('.')>0&&(Ext.ClassManager.isCreated(a)||this.hasRegisteredPrefix(a))){b=a;c=a.replace(d+'.'+g+'.','')}else {if(d){b=d+'.'+g+'.'+(f?f+'.'+a:a);c=a}else {b=a}}return {absoluteName:b,shortName:c}},hasRegisteredPrefix:function(a){var c=Ext.ClassManager,b=c.getPrefix(a);return b&&b!==a}},models:null,views:null,stores:null,controllers:null,config:{application:null,refs:null,active:!0,moduleClassName:null},onClassExtended:function(d,c,a){var b=a.onBeforeCreated;a.onBeforeCreated=function(j,i){var g=Ext.app.Controller,h=[],e,f;f=j.prototype;e=g.resolveNamespace(j,i);if(e){f.$namespace=e}g.processDependencies(f,h,e,'model',i.models);g.processDependencies(f,h,e,'view',i.views);g.processDependencies(f,h,e,'store',i.stores);g.processDependencies(f,h,e,'controller',i.controllers);Ext.require(h,Ext.Function.pass(b,arguments,this))}},constructor:function(a){this.initAutoGetters();Ext.app.BaseController.prototype.constructor.call(this,a)},normalizeRefs:function(a){var c=this,b=[];if(a){if(Ext.isObject(a)){Ext.Object.each(a,function(d,c){if(Ext.isString(c)){c={selector:c}}c.ref=d;b.push(c)})}else if(Ext.isArray(a)){b=Ext.Array.merge(b,a)}}a=c.refs;if(a){c.refs=null;a=c.normalizeRefs(a);if(a){b=Ext.Array.merge(b,a)}}return b},getRefMap:function(){var e=this,a=e._refMap,b,d,f,c;if(!a){b=e.getRefs();a=e._refMap={};if(b){for(c=0,f=b.length;c<f;c++){d=b[c];a[d.ref]=d.selector}}}return a},applyId:function(a){return a||Ext.app.Controller.getFullName(this.$className,'controller',this.$namespace).shortName},applyRefs:function(a){return this.normalizeRefs(Ext.clone(a))},updateRefs:function(a){if(a){this.ref(a)}},initAutoGetters:function(){var b=this.self.prototype,c,a;for(c in b){a=b[c];if(a&&a['Ext.app.getter']){a.call(this)}}},doInit:function(b){var a=this;if(!a._initialized){a.init(b);a._initialized=!0}},finishInit:function(f){var c=this,a=c.controllers,d,b,e;if(c._initialized&&a&&a.length){for(b=0,e=a.length;b<e;b++){d=c.getController(a[b]);d.finishInit(f)}}},init:Ext.emptyFn,onLaunch:Ext.emptyFn,activate:function(){this.setActive(!0)},deactivate:function(){this.setActive(!1)},isActive:function(){return this.getActive()},ref:function(b){var a=this,f=0,g=b.length,d,c,e;b=Ext.Array.from(b);a.references=a.references||[];for(;f<g;f++){d=b[f];c=d.ref;e='get'+Ext.String.capitalize(c);if(!a[e]){a[e]=Ext.Function.pass(a.getRef,[c,d],a)}a.references.push(c.toLowerCase())}},addRef:function(a){this.ref(a)},getRef:function(d,a,e){var f=this,c=f.refCache||(f.refCache={}),b=c[d];a=a||{};e=e||{};Ext.apply(a,e);if(a.forceCreate){return Ext.ComponentManager.create(a,'component')}if(!b){if(a.selector){c[d]=b=Ext.ComponentQuery.query(a.selector)[0]}if(!b&&a.autoCreate){c[d]=b=Ext.ComponentManager.create(a,'component')}if(b){b.on('destroy',function(){c[d]=null})}}return b},hasRef:function(b){var a=this.references;return a&&Ext.Array.indexOf(a,b.toLowerCase())!==-1},getController:function(b){var a=this.getApplication();if(b===this.getId()){return this}return a&&a.getController(b)},getStore:function(a){var c,b;c=a.indexOf('@')===-1?a:a.split('@')[0];b=Ext.StoreManager.get(c);if(!b){a=Ext.app.Controller.getFullName(a,'store',this.$namespace);if(a){b=Ext.create(a.absoluteName,{id:c})}}return b},getModel:function(b){var c=Ext.app.Controller.getFullName(b,'model',this.$namespace),a=Ext.ClassManager.get(c.absoluteName);if(!a){a=Ext.data.schema.Schema.lookupEntity(b)}return a},getProfile:function(a){a=Ext.app.Controller.getFullName(a,'profile',this.$namespace);return a},getView:function(b){var a=Ext.app.Controller.getFullName(b,'view',this.$namespace);return a&&Ext.ClassManager.get(a.absoluteName)},destroy:function(e,f){var b=this,d=b.application,a,c;if(!f&&d){d.unregister(b)}b.application=null;if(e){a=b.refCache;for(c in a){if(a.hasOwnProperty(c)){Ext.destroy(a[c])}}}Ext.app.BaseController.prototype.destroy.call(this)}},1,0,0,0,0,0,[Ext.app,'Controller'],0);Ext.cmd.derive('Ext.app.Application',Ext.app.Controller,{isApplication:!0,scope:undefined,namespaces:[],paths:null,config:{name:'',appProperty:'app',profiles:[],currentProfile:null,mainView:{$value:null,lazy:!0},defaultToken:null,glyphFontFamily:null,quickTips:!0,router:null},onClassExtended:function(d,a,f){var h=Ext.app.Controller,g=d.prototype,c=[],e,b;b=a.name||d.superclass.name;if(b){a.$namespace=b;Ext.app.addNamespaces(b)}if(a.namespaces){Ext.app.addNamespaces(a.namespaces)}if(a['paths processed']){delete a['paths processed']}else {Ext.app.setupPaths(b,'appFolder' in a?a.appFolder:d.superclass.appFolder,a.paths)}h.processDependencies(g,c,b,'profile',a.profiles);g.getDependencies(d,a,c);if(c.length){e=f.onBeforeCreated;f.onBeforeCreated=function(h,g){var b=Ext.Array.clone(arguments);Ext.require(c,function(){return e.apply(this,b)})}}},getDependencies:Ext.emptyFn,constructor:function(c){var a=this,b=Ext.app.Application;Ext.route.Router.application=a;if(!b.instance){b.instance=a}Ext.app.Controller.prototype.constructor.call(this,c);a.doInit(a);Ext.on('appupdate',a.onAppUpdate,a,{single:!0});this.onProfilesReady()},applyId:function(a){return a||this.$className},updateRouter:function(a){if(a){Ext.route.Router.setConfig(a)}},onAppUpdate:Ext.emptyFn,onProfilesReady:function(){var a=this,e=a.getProfiles(),f=e.length,b,c,d;for(c=0;c<f;c++){d=Ext.create(e[c],{application:a});if(d.isActive()&&!b){b=d;a.setCurrentProfile(b)}}if(b){b.init()}a.initControllers();a.onBeforeLaunch();a.finishInitControllers();Ext.fireEvent('applaunch',a)},doInit:function(a){this.initNamespace(a);Ext.app.Controller.prototype.doInit.call(this,a)},initNamespace:function(a){var c=a.getAppProperty(),b=Ext.namespace(a.getName());if(b){b.getApplication=function(){return a};if(c){if(!b[c]){b[c]=a}}}},initControllers:function(){var c=this,b=Ext.Array.from(c.controllers),e=c.getCurrentProfile(),a,d;c.controllers=new Ext.util.MixedCollection();for(a=0,d=b.length;a<d;a++){c.getController(b[a])}if(e){b=e.getControllers();for(a=0,d=b.length;a<d;a++){c.getController(b[a])}}},finishInitControllers:function(){var c=this,b,a,d;b=c.controllers.getRange();for(a=0,d=b.length;a<d;a++){b[a].finishInit(c)}},launch:Ext.emptyFn,onBeforeLaunch:function(){var a=this,b=Ext.util.History,e=a.getDefaultToken(),g=a.getCurrentProfile(),f,d,i,h,c;a.initMainView();if(g){g.launch()}a.launch.call(a.scope||a);a.launched=!0;a.fireEvent('launch',a);f=a.controllers.items;i=f.length;for(d=0;d<i;d++){h=f[d];h.onLaunch(a)}if(!b.ready){b.init()}c=b.getToken();if(c||c===e){Ext.route.Router.onStateChange(c)}else if(e){b.replace(e)}if(Ext.Microloader&&Ext.Microloader.appUpdate&&Ext.Microloader.appUpdate.updated){Ext.Microloader.fireAppUpdate()}if(!a.cnsTimer){a.cnsTimer=Ext.defer(Ext.ClassManager.clearNamespaceCache,2000,Ext.ClassManager)}},getModuleClassName:function(b,a){return Ext.app.Controller.getFullName(b,a,this.getName()).absoluteName},initMainView:function(){var b=this,c=b.getCurrentProfile(),a;if(c){a=c.getMainView()}if(a){b.setMainView(a)}else {b.getMainView()}},applyMainView:function(a){var b=this.getView(a);return b.create({$initParent:this.viewport})},createController:function(a){return this.getController(a)},destroyController:function(a){if(typeof a==='string'){a=this.getController(a,!0)}Ext.destroy(a)},getController:function(f,j){var c=this,e=c.controllers,b,a,i,d,h,g;a=e.get(f);if(!a){g=e.items;for(d=0,i=g.length;d<i;++d){h=g[d];b=h.getModuleClassName();if(b&&b===f){a=h;break}}}if(!a&&!j){b=c.getModuleClassName(f,'controller');a=Ext.create(b,{application:c,moduleClassName:b});e.add(a);if(c._initialized){a.doInit(c)}}return a},unregister:function(a){this.controllers.remove(a)},getApplication:function(){return this},destroy:function(d){var a=this,c=a.controllers,b=Ext.namespace(a.getName()),e=a.getAppProperty();Ext.undefer(a.cnsTimer);Ext.un('appupdate',a.onAppUpdate,a);Ext.destroy(a.viewport);if(c){c.each(function(a){a.destroy(d,!0)})}a.controllers=null;Ext.app.Controller.prototype.destroy.call(this,d,!0);if(b&&b[e]===a){delete b[e]}if(Ext.route.Router.application===a){Ext.route.Router.application=null}if(Ext.app.Application.instance===a){Ext.app.Application.instance=null}},updateGlyphFontFamily:function(a){Ext.setGlyphFontFamily(a)},applyProfiles:function(a){var b=this;return Ext.Array.map(a,function(c){return b.getModuleClassName(c,'profile')})}},1,0,0,0,0,0,[Ext.app,'Application'],function(){Ext.getApplication=function(){return Ext.app.Application.instance}});Ext.application=function(a){var b=function(b){Ext.onReady(function(){var c=Ext.viewport;c=c&&c['Viewport'];if(c&&c.setup){c.setup(b.prototype.config.viewport)}Ext.app.Application.instance=new b()})};if(typeof a==='string'){Ext.require(a,function(){b(Ext.ClassManager.get(a))})}else {a=Ext.apply({extend:'Ext.app.Application'},a);Ext.app.setupPaths(a.name,a.appFolder,a.paths);a['paths processed']=!0;Ext.define(a.name+'.$application',a,function(){b(this)})}};Ext.cmd.derive('Ext.util.ItemCollection',Ext.util.MixedCollection,{alternateClassName:'Ext.ItemCollection',getKey:function(a){return a.getItemId&&a.getItemId()},has:function(a){return this.map.hasOwnProperty(a.getId())}},0,0,0,0,0,0,[Ext.util,'ItemCollection',Ext,'ItemCollection'],0);Ext.cmd.derive('Ext.mixin.Queryable',Ext.Base,{mixinId:'queryable',isQueryable:!0,query:function(a){a=a||'*';return Ext.ComponentQuery.query(a,this.getQueryRoot())},queryBy:function(g,e){var d=[],c=this.getQueryRoot().getRefItems(!0),b=0,f=c.length,a;for(;b<f;++b){a=c[b];if(g.call(e||a,a)!==!1){d.push(a)}}return d},queryById:function(a){return this.down(Ext.makeIdSelector(a))},child:function(b){var a=this.getQueryRoot().getRefItems();if(b&&b.isComponent){return this.matchById(a,b.getItemId())}if(b){a=Ext.ComponentQuery.query(b,a)}if(a.length){return a[0]}return null},down:function(a){if(a&&a.isComponent){return this.matchById(this.getRefItems(!0),a.getItemId())}a=a||'';return this.query(a)[0]||null},visitPreOrder:function(b,d,c,a){Ext.ComponentQuery._visit(!0,b,this.getQueryRoot(),d,c,a)},visitPostOrder:function(b,d,c,a){Ext.ComponentQuery._visit(!1,b,this.getQueryRoot(),d,c,a)},getRefItems:function(){return []},getQueryRoot:function(){return this},privates:{matchById:function(c,e){var d=c.length,a,b;for(a=0;a<d;++a){b=c[a];if(b.getItemId()===e){return b}}return null}}},0,0,0,0,0,0,[Ext.mixin,'Queryable'],0);Ext.cmd.derive('Ext.mixin.Container',Ext.Mixin,{mixinConfig:{id:'container'},isContainer:!0,nameHolder:!1,referenceHolder:!1,getNamedItems:function(){if(Ext.referencesDirty){Ext.fixReferences()}return this.nameRefs||null},getReferences:function(){if(Ext.referencesDirty){Ext.fixReferences()}return this.refs||null},lookup:function(b){var a=this.getReferences();return a&&a[b]||null},lookupName:function(b){var a=this.getNamedItems();return a&&a[b]||null},lookupReference:function(a){return this.lookup(a)},privates:{attachNameRef:function(a){var c=this,e=a.name||a._name,b,d;if(e&&!c.destroying&&!c.destroyed){d=c.nameRefs||(c.nameRefs={});b=d[e];if(!b){b=a.shareableName?[a]:a}else if(!b.isInstance){b.push(a)}d[e]=b}},attachReference:function(b){var a=this,d,c;if(!a.destroying&&!a.destroyed){c=a.refs||(a.refs={});d=b.referenceKey;c[d]=b}},containerOnAdded:function(a,b){Ext.ComponentManager.markReferencesDirty()},containerOnRemoved:function(a){if(!a){Ext.ComponentManager.markReferencesDirty()}},initContainerInheritedState:function(b,h){var a=this,d=a.getController(),f=a.getSession(),g=a.getConfig('viewModel',!0),e=a.reference,c=a.referenceHolder;if(a.nameHolder){b.nameHolder=a}if(d){b.referenceHolder=d;c=!0}else if(c){b.referenceHolder=a}if(c){b.referencePath=''}else if(e&&a.isParentReference){b.referencePath=a.referenceKey+'.'}if(f){b.session=f}if(g){b.viewModelPath=''}else if(e&&a.isParentReference){b.viewModelPath=a.viewModelKey+'.'}},setupReference:function(a){var b;if(a&&a.charAt(b=a.length-1)==='>'){this.isParentReference=!0;a=a.substring(0,b)}return a}}},0,0,0,0,0,0,[Ext.mixin,'Container'],0);Ext.cmd.derive('Ext.util.KeyMap',Ext.Base,{alternateClassName:'Ext.KeyMap',eventName:'keydown',constructor:function(b){var a=this;Ext.apply(a,b);a.bindings=[];if(!a.target.isComponent){a.target=Ext.get(a.target)}if(a.binding){a.addBinding(a.binding)}else if(b.key){a.addBinding(b)}a.enable()},addBinding:function(b){var a=this,e=b.key,c,d;if(a.processing){a.bindings=a.bindings.slice(0)}if(Ext.isArray(b)){for(c=0,d=b.length;c<d;c++){a.addBinding(b[c])}return}a.bindings.push(Ext.apply({keyCode:a.processKeys(e)},b))},removeBinding:function(b){var c=this,e=c.bindings,g=e.length,d,a,f;if(c.processing){c.bindings=e.slice(0)}f=c.processKeys(b.key);for(d=0;d<g;d++){a=e[d];if((a.fn||a.handler)===(b.fn||b.handler)&&a.scope===b.scope){if(b.alt===a.alt&&b.ctrl===a.ctrl&&b.shift===a.shift){if(Ext.Array.equals(a.keyCode,f)){Ext.Array.erase(c.bindings,d,1);return}}}}},processKeys:function(a){var g=!1,f,e,d,c,b;if(a.test){return a}if(Ext.isString(a)){e=[];d=a.toUpperCase();for(b=0,c=d.length;b<c;b++){e.push(d.charCodeAt(b))}a=e;g=!0}if(!Ext.isArray(a)){a=[a]}if(!g){for(b=0,c=a.length;b<c;b++){f=a[b];if(Ext.isString(f)){a[b]=f.toUpperCase().charCodeAt(0)}}}return a},handleTargetEvent:function(b){var a=this,d,c,f,e;if(a.enabled){d=a.bindings;b=a.processEvent.apply(a.processEventScope||a,arguments);if(b){a.lastKeyEvent=b;if(a.ignoreInputFields&&Ext.fly(b.target).isInputField()){return}if(!b.getKey){return b}a.processing=!0;for(c=0,f=d.length;c<f;c++){e=a.processBinding(d[c],b);if(e===!1){a.processing=!1;return e}}a.processing=!1}}},processEvent:Ext.identityFn,processBinding:function(c,b){if(this.checkModifiers(c,b)){var g=b.getKey(),h=c.fn||c.handler,i=c.scope||this,d=c.keyCode,e=c.defaultEventAction,f,j,a;if(d.test){if(d.test(String.fromCharCode(b.getCharCode()))){a=h.call(i,g,b);if(a!==!0&&e){b[e]()}if(a===!1){return a}}}else if(d.length){for(f=0,j=d.length;f<j;f++){if(g===d[f]){a=h.call(i,g,b);if(a!==!0&&e){b[e]()}if(a===!1){return a}break}}}}},checkModifiers:function(f,g){var d=['shift','ctrl','alt'],a,e,c,b;for(a=0,e=d.length;a<e;a++){b=d[a];c=f[b];if(!(c===undefined||c===g[b+'Key'])){return !1}}return !0},on:function(a,g,f){var b,c,d,e;if(Ext.isObject(a)&&!Ext.isArray(a)){b=a.key;c=a.shift;d=a.ctrl;e=a.alt}else {b=a}this.addBinding({key:b,shift:c,ctrl:d,alt:e,fn:g,scope:f})},un:function(a,g,f){var b,c,d,e;if(Ext.isObject(a)&&!Ext.isArray(a)){b=a.key;c=a.shift;d=a.ctrl;e=a.alt}else {b=a}this.removeBinding({key:b,shift:c,ctrl:d,alt:e,fn:g,scope:f})},isEnabled:function(){return !!this.enabled},enable:function(){var a=this;if(!a.enabled){a.target.on(a.eventName,a.handleTargetEvent,a,{capture:a.capture,priority:a.priority});a.enabled=!0}},disable:function(){var a=this;if(a.enabled){if(!a.target.destroyed){a.target.removeListener(a.eventName,a.handleTargetEvent,a)}a.enabled=!1}},setDisabled:function(a){if(a){this.disable()}else {this.enable()}},destroy:function(b){var a=this,c=a.target;a.bindings=[];a.disable();a.target=null;if(b){c.destroy();Ext.raise('Using removeTarget argument in KeyMap destructor is not supported.')}a.callParent()}},1,0,0,0,0,0,[Ext.util,'KeyMap',Ext,'KeyMap'],0);Ext.cmd.derive('Ext.util.KeyNav',Ext.Base,{alternateClassName:'Ext.KeyNav',disabled:!1,defaultEventAction:!1,forceKeyDown:!1,eventName:'keypress',statics:{keyOptions:{left:37,right:39,up:38,down:40,space:32,pageUp:33,pageDown:34,del:46,backspace:8,home:36,end:35,enter:13,esc:27,tab:9}},constructor:function(a){var b=this,c,d;a=a||{};c={target:a.target,ignoreInputFields:a.ignoreInputFields,eventName:b.getKeyEvent('forceKeyDown' in a?a.forceKeyDown:b.forceKeyDown,a.eventName),capture:a.capture};if(b.map){b.map.destroy()}b.initConfig(a);if(a.processEvent){c.processEvent=a.processEvent;c.processEventScope=a.processEventScope||b}if(a.priority){c.priority=a.priority}if(a.keyMap){d=b.map=a.keyMap}else {d=b.map=new Ext.util.KeyMap(c);b.destroyKeyMap=!0}b.addBindings(a);d.disable();if(!a.disabled){d.enable()}},addBindings:function(d){var c=this,i=c.map,g=Ext.util.KeyNav.keyOptions,h=Ext.event.Event,f=d.scope||c,a,b,e;for(b in d){a=d[b];e=b.length===1?b.charCodeAt(0):g[b]||h[b.toUpperCase()];if(e!=null){b=e}if(a&&(b.length===1||!isNaN(b=parseInt(b,10)))){if(typeof a==='function'){a={handler:a,defaultEventAction:d.defaultEventAction!==undefined?d.defaultEventAction:c.defaultEventAction}}i.addBinding({key:b,ctrl:a.ctrl,shift:a.shift,alt:a.alt,handler:Ext.Function.bind(c.handleEvent,a.scope||f,[a.handler||a.fn,c],!0),defaultEventAction:a.defaultEventAction!==undefined?a.defaultEventAction:c.defaultEventAction})}}},handleEvent:function(d,a,b,c){c.lastKeyEvent=a;return b.call(this,a)},destroy:function(b){var a=this;if(b){Ext.raise('removeEl argument in KeyNav destructor is not supported anymore.')}if(a.destroyKeyMap){a.map.destroy(b)}a.map=null;a.callParent()},enable:function(){if(this.map){this.map.enable();this.disabled=!1}},disable:function(){if(this.map){this.map.disable()}this.disabled=!0},setDisabled:function(a){this.map.setDisabled(a);this.disabled=a},isEnabled:function(){return !this.disabled},getKeyEvent:function(b,a){if(b||Ext.supports.SpecialKeyDownRepeat&&!a){return 'keydown'}else {return a||this.eventName}}},1,0,0,0,0,0,[Ext.util,'KeyNav',Ext,'KeyNav'],0);Ext.cmd.derive('Ext.mixin.FocusableContainer',Ext.Mixin,{mixinConfig:{id:'focusablecontainer'},isFocusableContainer:!0,focusableContainer:!1,resetFocusPosition:!1,activeChildTabIndex:0,inactiveChildTabIndex:-1,allowFocusingDisabledChildren:!1,focusableContainerEl:'el',privates:{initFocusableContainer:function(a){var c,b,d;if(this.focusableContainer){a=a!=null?a:!0;this.doInitFocusableContainer(a)}else {c=this.getFocusables();for(b=0,d=c.length;b<d;b++){c[b].ownerFocusableContainer=null}}},doInitFocusableContainer:function(d){var a=this,c=a.focusableContainerEl,b;if(!c.isElement){c=a.focusableContainerEl=a[c]}if(a.initFocusableContainerKeyNav){a.initFocusableContainerKeyNav(c)}if(d){a.clearFocusables();if(!a.isDisabled()){b=a.findNextFocusableChild({step:1})||a.findNextFocusableChild({beforeRender:!0});if(b){a.activateFocusable(b)}}}b=a.findNextFocusableChild({firstTabbable:!0});a.activateFocusableContainer(!!b&&!a.isDisabled())},initFocusableContainerKeyNav:function(b){var a=this;if(!a.focusableKeyNav){b=b||a.focusableContainerEl;a.focusableKeyNav=new Ext.util.KeyNav({target:b,disabled:!0,eventName:'keydown',processEvent:a.processFocusableContainerKeyEvent,processEventScope:a,scope:a,tab:a.onFocusableContainerTabKey,enter:{handler:a.onFocusableContainerEnterKey,ctrl:!1,shift:!1,alt:!1},space:{handler:a.onFocusableContainerSpaceKey,ctrl:!1,shift:!1,alt:!1},up:{handler:a.onFocusableContainerUpKey,ctrl:!1,shift:!1,alt:!1},down:{handler:a.onFocusableContainerDownKey,ctrl:!1,shift:!1,alt:!1},left:{handler:a.onFocusableContainerLeftKey,ctrl:!1,shift:!1,alt:!1},right:{handler:a.onFocusableContainerRightKey,ctrl:!1,shift:!1,alt:!1}})}},destroyFocusableContainer:function(){this.focusableKeyNav=Ext.destroy(this.focusableKeyNav)},activateFocusableContainer:function(b){var a=this.focusableKeyNav;if(a){a.setDisabled(!b)}},isFocusableContainerActive:function(){var a=this.focusableKeyNav;return a?!a.disabled:!1},getFocusables:function(){return this.items.items},initDefaultFocusable:function(){var e=this,f=!1,b,a,c,d;b=e.getFocusables();d=b.length;if(!d){return}for(c=0;c<d;c++){a=b[c];if(!a.isDisabled()&&a.isFocusable()){f=!0;break}}if(!f){return}a=e.findNextFocusableChild({items:b,step:!0});if(a){e.activateFocusable(a)}return a},clearFocusables:function(f){var d=this,c=d.getFocusables(),e=c.length,a,b;for(b=0;b<e;b++){a=c[b];if(!a.destroyed&&a.focusable&&a.isTabbable()){d.deactivateFocusable(a)}}},processFocusableContainerKeyEvent:function(a){if(!Ext.fly(a.target).isInputField()){return a}},activateFocusable:function(a){a.setTabIndex(this.activeChildTabIndex)},deactivateFocusable:function(a){a.setTabIndex(this.inactiveChildTabIndex)},onFocusableContainerTabKey:function(){return !0},onFocusableContainerEnterKey:function(){return !0},onFocusableContainerSpaceKey:function(){return !0},onFocusableContainerUpKey:function(a){a.preventDefault();return this.moveChildFocus(a,!1)},onFocusableContainerDownKey:function(a){a.preventDefault();return this.moveChildFocus(a,!0)},onFocusableContainerLeftKey:function(a){a.preventDefault();return this.moveChildFocus(a,!1)},onFocusableContainerRightKey:function(a){a.preventDefault();return this.moveChildFocus(a,!0)},getFocusableFromEvent:function(b){var a=Ext.Component.from(b);return a},moveChildFocus:function(a,b){var c=this.getFocusableFromEvent(a);return this.focusChild(c,b,a)},focusChild:function(c,b){var a=this.findNextFocusableChild({child:c,step:b});if(a){a.focus()}return a},findNextFocusableChild:function(e){var k=e.beforeRender,j=e.firstTabbable,g,a,i,c,d,b,f,h;g=e.items||this.getFocusables();c=e.step!=null?e.step:1;i=e.child;h=!!this.allowFocusingDisabledChildren;d=Ext.Array.indexOf(g,i);c=c===!0?1:c===!1?-1:c;f=g.length;b=c>0?d<f?d+c:0:d>0?d+c:f-1;for(;;b+=c){if(d<0&&(b>=f||b<0)){return null}else if(b>=f){b=-1;continue}else if(b<0){b=f;continue}else if(b===d){return null}a=g[b];if(!a||!a.focusable||a.isDisabled()&&!h){continue}if(j){if(a.isTabbable&&a.isTabbable()){return a}}else if(k||a.isFocusable&&a.isFocusable()){return a}}return null},onFocusEnter:function(d){var b=this,c=d.toComponent,a;if(c===b){a=b.initDefaultFocusable();if(a){a.focus()}}b.activateFocusableContainer(!0)},onFocusLeave:function(b){var a=this;if(a.resetFocusPosition){a.clearFocusables();a.initDefaultFocusable()}},beforeFocusableChildBlur:Ext.privateFn,afterFocusableChildBlur:Ext.privateFn,beforeFocusableChildFocus:function(b){var a=this;if(!a.focusableContainer||a.destroying||a.destroyed){return}a.clearFocusables();a.activateFocusable(b)},afterFocusableChildFocus:function(b){var a=this;if(!a.focusableContainer||a.destroying||a.destroyed){return}a.lastFocusedChild=b},onFocusableChildAdd:function(a){var b=this;if(a.focusable){a.ownerFocusableContainer=b}},onFocusableChildRemove:function(a){var c=this,b;a.ownerFocusableContainer=null;if(a===c.lastFocusedChild){c.lastFocusedChild=null;b=c.initDefaultFocusable();if(a.hasFocus){b=b||a.findFocusTarget();if(b){b.focus()}}}a=b||c.findNextFocusableChild({step:1,beforeRender:!0});if(!a){c.activateFocusableContainer(!1)}},beforeFocusableChildEnable:Ext.privateFn,onFocusableChildEnable:function(b){var a=this,c;if(!a.focusableContainer||a.destroying||a.destroyed){return}if(a.containsFocus){c=Ext.ComponentManager.getActiveComponent();a.clearFocusables();a.activateFocusable(c)}else if(a.resetFocusPosition||a.lastFocusedChild==null){a.clearFocusables();if(b.hasFocus){a.activateFocusable(b);c=b}}else {a.deactivateFocusable(b);if(b===a.lastFocusedChild){a.clearFocusables();a.activateFocusable(b)}c=a.findNextFocusableChild({firstTabbable:!0})}if(!c){a.initDefaultFocusable()}a.activateFocusableContainer(!0)},beforeFocusableChildDisable:function(b){var a=this,c;if(!a.focusableContainer||a.destroying||a.destroyed){return}if(b.hasFocus){c=a.findNextFocusableChild({child:b})||b.findFocusTarget();if(c){c.focus()}}},onFocusableChildDisable:function(c){var a=this,b;if(!a.focusableContainer||a.destroying||a.destroyed){return}b=a.findNextFocusableChild({firstTabbable:!0});if(!b){b=a.initDefaultFocusable()}if(!b){a.activateFocusableContainer(!1)}},beforeFocusableChildHide:function(a){return this.beforeFocusableChildDisable(a)},onFocusableChildHide:function(a){return this.onFocusableChildDisable(a)},beforeFocusableChildShow:function(a){return this.beforeFocusableChildEnable(a)},onFocusableChildShow:function(a){return this.onFocusableChildEnable(a)},onFocusableChildMasked:Ext.privateFn,onFocusableChildDestroy:Ext.privateFn,onFocusableChildUpdate:Ext.privateFn},deprecated:{7:{configs:{enableFocusableContainer:'focusableContainer'}}}},0,0,0,0,0,0,[Ext.mixin,'FocusableContainer'],0);Ext.cmd.derive('Ext.Container',Ext.Component,{alternateClassName:['Ext.lib.Container','Ext.container.Container'],isContainer:!0,eventedConfig:{activeItem:0},config:{activeItemIndex:null,autoSize:null,bodyCls:null,layout:'auto',control:null,defaults:null,items:null,autoDestroy:!0,defaultType:null,defaultFocus:{$value:null,lazy:!0},innerCls:null,masked:null},weighted:!1,manageBorders:!1,classCls:'x-container',managedBordersCls:'x-managed-borders',template:[{reference:'bodyElement',cls:'x-body-el',uiCls:'body-el'}],constructor:function(b){var a=this;a._items=a.items=new Ext.util.ItemCollection();a.innerItems=[];a.getReferences=a.getFirstReferences;a.onItemAdd=a.onFirstItemAdd;Ext.Component.prototype.constructor.apply(this,arguments);delete a.getReferences},initialize:function(){var a=this;a.reference=a.setupReference(a.reference);Ext.Component.prototype.initialize.call(this);if(a.manageBorders){a.addCls(a.managedBordersCls)}a.getLayout()},applyMasked:function(a){var c=!0,b;if(a===!1){a=!0;c=!1}else if(Ext.isString(a)){a={xtype:'loadmask',message:a}}else if(a&&!a.isComponent&&a.hidden){c=!1}b=Ext.factory(a,Ext['Mask'],this.getMasked());if(b){b.sender=this;b.setHidden(!c);b.render(this.el)}return b},mask:function(a){this.setMasked(a||!0)},unmask:function(){this.setMasked(!1)},initInheritedState:function(b,a){Ext.Component.prototype.initInheritedState.call(this,b,a);this.initContainerInheritedState(b,a)},onAdded:function(b,a){Ext.Component.prototype.onAdded.call(this,b,a);this.containerOnAdded(b,a)},onRemoved:function(a){this.containerOnRemoved(a);Ext.Component.prototype.onRemoved.call(this,a)},afterItemShow:function(b){var a;if(b.getDocked()){a=this.getLayout();this.items.generation++;a.handleDockedItemBorders()}},afterItemHide:function(b){var a;if(b.getDocked()){a=this.getLayout();this.items.generation++;a.handleDockedItemBorders()}},applyBodyCls:function(a){return a&&Ext.dom.Element.splitCls(a)},updateBodyCls:function(a,b){this.bodyElement.replaceCls(b,a)},applyItems:function(b,d){var a=this,c;if(b){a.getDefaultType();a.getDefaults();if(a.initialized&&d.length>0){a.removeAll()}if(a.weighted&&!b.isWidget&&!b.xtype){b=Ext.convertKeyedItems(b)}a.add(b);if(a.initialized){c=a.initialConfig.activeItem||a.config.activeItem||0;a.setActiveItem(c)}}},applyControl:function(c){var b,e,d,a;for(b in c){a=c[b];for(e in a){d=a[e];if(Ext.isObject(d)){d.delegate=b}}a.delegate=b;this.addListener(a)}return c},updateDisabled:function(b){var a=this;Ext.Component.prototype.updateDisabled.call(this,b);if(a.focusableContainer){a.getItems();if(b){a.element.saveTabbableState()}else {a.element.restoreTabbableState()}a.activateFocusableContainer(!b);if(!b){a.initDefaultFocusable()}}},onFirstItemAdd:function(b){var a=this;delete a.onItemAdd;if(b.isInner&&a.innerHtmlElement&&!a.getHtml()&&!a.getTpl()){a.innerHtmlElement.destroy();delete a.innerHtmlElement}return a.onItemAdd.apply(a,arguments)},applyLayout:function(a,b){if(typeof a==='string'){a={type:a}}if(b){if(a){if(!a.isLayout){b.setConfig(a)}}return b}if(!(a&&a.isLayout)){a=Ext.Factory.layout(Ext.apply({container:this},a),Ext.layout.Auto)}this.link('layout',a);return a},updateDefaultType:function(a){this.defaultItemClass=Ext.ClassManager.getByAlias('widget.'+a)},factoryItem:function(a){var b=this;a=b.applyItemDefaults(a);if(!a.isComponent){if(!b.$hasCachedDefaultItemClass){b.getDefaultType();b.$hasCachedDefaultItemClass=!0}a=Ext.factory(a,b.defaultItemClass)}return a},add:function(c){var a=this,j=a.getItems(),k=a.weighted,i=!0,f=[],h,e,g,b,d;if(!Ext.isArray(c)){c=[c];i=!1}if(k){if(j.length){h=!0}else {Ext.sortByWeight(c)}}for(e=0,g=c.length;e<g;e++){b=c[e];if(b){d=b.isWidget;if(!d){b.$initParent=a}b=a.factoryItem(b);if(h){a.doInsert(j.findInsertionIndex(b,Ext.weightSortFn),b,d)}else {a.doAdd(b,d)}delete b.$initParent;if(a.focusableContainer){a.onFocusableChildAdd(b)}f.push(b)}}if((a.isConfiguring||!a.getActiveItem())&&a.innerItems.length>0){a.setActiveItem(a.initialConfig.activeItem||0)}if(a.rendered&&g&&a.focusableContainer){a.initFocusableContainer()}return i?f:f[0]},onItemWeightChange:function(a){var c=this.getItems(),d=c.indexOf(a),b;c.remove(a);b=c.findInsertionIndex(a,Ext.weightSortFn);c.insert(b,a);this.insertInner(a,b);this.onItemMove(a,b,d)},doAdd:function(a,e){var b=this,d=b.getItems(),c;if(!d.has(a)){c=d.length;d.add(a);if(a.isInnerItem()){b.insertInner(a,c)}a.onAdded(b,!!e);if(b.focusableContainer){b.onFocusableChildAdd(a)}b.onItemAdd(a,c)}},remove:function(f,d){var a=this,c=a.getComponent(f),h,b,e,g,i;if(d===undefined){d=a.getAutoDestroy()}if(!c){h=a.getActiveItem();for(b=0;b<f.length;++b){g=a.getComponent(f[b]);if(g===h){i=!0}else if(g){a.remove(g,d)}}if(i){a.remove(h,d)}return f}b=a.indexOf(c);e=a.getInnerItems();if(b!==-1){if(!a.removingAll&&e.length>1&&c===a.getActiveItem()){a.on({activeitemchange:'doRemove',scope:a,single:!0,order:'after',args:[c,b,d]});a.doResetActiveItem(e.indexOf(c))}else {a.doRemove(c,b,d);if(e.length===0){a.setActiveItem(null)}}}return c},doResetActiveItem:function(a){if(a===0){this.setActiveItem(1)}else {this.setActiveItem(0)}},doRemove:function(a,d,c){var b=this;if(!b.destroying){b.items.remove(a);if(a.isInnerItem()){b.removeInner(a)}b.onItemRemove(a,d,c)}if(!a.destroyed){a.onRemoved(a.destroying||c)}if(b.focusableContainer&&!b.destroying&&!b.destroyed){b.onFocusableChildRemove(a,c)}if(c&&!a.destroyed){a.destroy()}},removeAll:function(e,i){var a=this,d=a.destroying,g=a.items,f=d?null:[],h=g.length,b,c;if(typeof e!=='boolean'){e=this.getAutoDestroy()}a.removingAll=!0;for(b=0;b<h;b++){c=g.getAt(b);if(c&&(i||c.isInnerItem())){a.doRemove(c,b,e);if(!d){b--;h--}}if(f){f.push(c)}}if(!d){a.setActiveItem(null)}a.removingAll=!1;return f},getAt:function(a){return this.items.getAt(a)},getInnerAt:function(a){return this.innerItems[a]},removeAt:function(c,b){var a=this.getAt(c);if(a){this.remove(a,b)}return a},removeInnerAt:function(b){var a=this.getInnerItems()[b];if(a){this.remove(a)}return a},has:function(a){return this.getItems().indexOf(a)!==-1},hasInnerItem:function(a){return this.innerItems.indexOf(a)!==-1},indexOf:function(a){return this.getItems().indexOf(a)},innerIndexOf:function(a){return this.innerItems.indexOf(a)},insertInner:function(e,f){var g=this.getItems().items,a=this.innerItems,d=a.indexOf(e),b=-1,c;if(d!==-1){a.splice(d,1)}if(typeof f==='number'){do{c=g[++f]}while(c&&!c.isInnerItem());if(c){b=a.indexOf(c);a.splice(b,0,e)}}if(b===-1){a.push(e);b=a.length-1}if(d!==-1){this.onInnerItemMove(e,b,d)}return this},onInnerItemMove:Ext.emptyFn,removeInner:function(a){Ext.Array.remove(this.innerItems,a);return this},insert:function(e,a){var b=this,d,c;if(Ext.isArray(a)){for(c=a.length-1;c>=0;c--){b.insert(e,a[c])}return b}d=a.isWidget;if(!d){a.$initParent=b}a=b.factoryItem(a);b.doInsert(e,a,d);delete a.$initParent;return a},doInsert:function(b,a,h){var d=this,e=d.items,g=e.length,c,f;f=a.isInnerItem();if(b>g){b=g}if(e[b-1]===a){return}c=d.indexOf(a);if(c!==-1){e.removeAt(c)}e.insert(b,a);if(c===-1){a.onAdded(d,!!h)}if(f){d.insertInner(a,b)}if(c!==-1){d.onItemMove(a,b,c)}else {d.onItemAdd(a,b)}},insertFirst:function(a){return this.insert(0,a)},insertLast:function(a){return this.insert(this.getItems().length,a)},insertBefore:function(c,e){var f=this.getItems(),d,a,b;if(e===null){d=this.add(c)}else {a=f.indexOf(e);b=f.indexOf(c);if(b!==-1&&b<a){--a}d=this.insert(a,c)}return d},insertAfter:function(c,b){var a=this.indexOf(b);if(a!==-1){this.insert(a+1,c)}return this},onItemAdd:function(b,c){var a=this;a.doItemLayoutAdd(b,c);if(a.initialized){if(b.hasListeners.added){b.fireEvent('added',b,a,c)}if(a.hasListeners.add){a.fireEvent('add',a,b,c)}}},doItemLayoutAdd:function(a,c){var b=this.getLayout();if(this.rendered&&!a.rendered){a.fireAction('renderedchange',[this,a,!0],'onItemAdd',b,{args:[a,c]})}else {b.onItemAdd(a,c)}},onItemRemove:function(a,c,d){var b=this;b.doItemLayoutRemove(a,c,d);if(a.hasListeners.removed){a.fireEvent('removed',a,b,c)}if(b.hasListeners.remove){b.fireEvent('remove',b,a,c)}},doItemLayoutRemove:function(a,d,b){var c=this.getLayout();if(a.rendered){a.setRendered(!1);a.fireAction('renderedchange',[this,a,!1],'onItemRemove',c,{args:[a,d,b]})}else {c.onItemRemove(a,d,b)}},onItemMove:function(a,d,c){var b=this;b.doItemLayoutMove(a,d,c);if(a.hasListeners.moved){a.fireEvent('moved',a,b,d,c)}if(b.hasListeners.move){b.fireEvent('move',b,a,d,c)}},doItemLayoutMove:function(c,b,a){this.getLayout().onItemMove(c,b,a)},onItemInnerStateChange:function(a,c){var b=this.getLayout();if(c){this.insertInner(a,this.items.indexOf(a))}else {this.removeInner(a)}b.onItemInnerStateChange.apply(b,arguments)},onItemFloatedChange:function(c,a){var b=this.getLayout();b.onItemFloatedChange(c,a)},getInnerItems:function(){return this.innerItems},getDockedItems:function(){var d=this.getItems().items,c=[],e=d.length,b,a;for(a=0;a<e;a++){b=d[a];if(b.isDocked()){c.push(b)}}return c},applyActiveItem:function(a,f){var b=this,d=b.getInnerItems(),e=b.initialConfig,g=e.activeItem||a,c;b.getItems();if(b.isConfiguring&&!e.activeItem){a=g}if(!a&&d.length===0){return 0}else if(typeof a==='number'){a=Math.max(0,Math.min(a,d.length-1));a=d[a];if(a){return a}else if(f){return null}}else if(a){if(typeof a==='string'){c=b.child(a)}else if(a.isComponent){c=a}else {a=Ext.apply({$initParent:b},a);c=b.factoryItem(a)}if(!c){return null}b.pendingActiveItem=c;if(!b.has(c)){b.add(c)}delete c.$initParent;return c}},animateActiveItem:function(d,a){var c=this.getLayout(),b;if(this.activeItemAnimation){this.activeItemAnimation.destroy()}this.activeItemAnimation=a=new Ext.Factory.layoutCardFx(a);if(a&&c.isCard){a.setLayout(c);b=c.getAnimation();if(b){b.disable()}a.on('animationend',function(){if(b){b.enable()}a.destroy()},this)}return this.setActiveItem(d)},updateActiveItem:function(a,b){delete this.pendingActiveItem;if(b&&!b.destroyed){b.fireEvent('deactivate',b,this,a)}if(a){a.fireEvent('activate',a,this,b)}this.setActiveItemIndex(this.innerItems.indexOf(a))},updateActiveItemIndex:function(a){this.setActiveItem(this.innerItems[a])},getRefItems:function(f){var b=this.getItems().items,a,e,d,c;if(b){if(f){a=[];for(d=0,e=b.length;d<e;d++){c=b[d];a[a.length]=c;if(c.getRefItems){a.push.apply(a,c.getRefItems(!0))}}}else {a=b.slice()}}return a||[]},getComponent:function(a){if(typeof a==='number'){return this.getItems().getAt(a)}if(Ext.isObject(a)){a=a.getItemId()}return this.getItems().get(a)},getDockedComponent:function(a){var b,e,d,c;if(Ext.isObject(a)){a=a.getItemId()}b=this.getDockedItems();e=b.length;if(Ext.isNumber(a)){return b[a]}for(c=0;c<e;c++){d=b[c];if(d.id===a){return d}}return !1},doDestroy:function(){var a=this;if(a.focusableContainer){a.destroyFocusableContainer()}a.removeAll(!0,!0);Ext.destroy(a.items,a.getMasked());a.items=null;if(a._layout){a._layout=Ext.destroy(a._layout)}Ext.Component.prototype.doDestroy.call(this)},getFocusEl:function(){var a=this.findDefaultFocus();if(a){return a.isWidget?a.getFocusEl():a}else if(this.focusable){return this.focusEl}return undefined},findDefaultFocus:function(){var a=this.getDefaultFocus();if(a&&!a.isWidget){a=this.down(a);if(a&&!a.canFocus()){return}}return a},onFocusEnter:function(b){var a=this;Ext.Component.prototype.onFocusEnter.call(this,b);if(a.focusableContainer&&!a.destroying&&!a.destroyed){a.mixins.focusablecontainer.onFocusEnter.call(a,b)}},onFocusLeave:function(b){var a=this;Ext.Component.prototype.onFocusLeave.call(this,b);if(a.focusableContainer&&!a.destroying&&!a.destroyed){a.mixins.focusablecontainer.onFocusLeave.call(a,b)}},updateInnerCls:function(a,b){var c=this.getRenderTarget();c.replaceCls(b,a)},updateAutoSize:function(c){var a=this,b=a.bodySizerElement;if(c===!1){if(!b){a.bodySizerElement=a.bodyElement.wrap({cls:'x-body-sizer-el'})}}else if(b){a.bodyElement.unwrap();b.destroy();a.bodySizerElement=null}},updateMaxHeight:function(a,c){var b=this;Ext.Component.prototype.updateMaxHeight.call(this,a,c);if(Ext.isIE11&&a!=null&&b.getAutoSize()!==!1){b.getMaxHeightElement().setMaxHeight(a);b.addCls('x-max-height-wrapped')}},privates:{getFirstReferences:function(){var a=this;delete a.getReferences;a.getItems();return a.getReferences.apply(a,arguments)},getPositionedItemTarget:function(){return this.getRenderTarget()},applyItemDefaults:function(a){var b=this.getDefaults();if(b&&!a.ignoreDefaults){if(a.isComponent){if(a.isInnerItem()&&!this.has(a)){if(Ext.isFunction(b)){b=b(a)}a.setConfig(b,null,{defaults:!0})}}else {if(Ext.isFunction(b)){b=b(a)}a=Ext.merge({},b,a)}}return a},setChildRendered:function(b,a){if(a.isInnerItem()){this.getLayout().renderInnerItem(a)}else if(!b||!a.getFloated()){a.setRendered(b)}},getMaxHeightElement:function(){var e=this.el,a=this.maxHeightElement,g='.x-dock,.x-panelheader,.x-body-el,.x-body-wrap-el,.x-tab-guard-el',c,d,b,f;if(!a){this.maxHeightElement=a=e.insertFirst({cls:'x-max-height-el'});c=Ext.Array.clone(e.dom.childNodes);for(b=1,f=c.length;b<f;b++){d=c[b];if(Ext.fly(d).is(g)){a.appendChild(d)}}}return a}}},1,['container'],['widget','component','container'],{'widget':!0,'component':!0,'container':!0},['widget.container'],[[Ext.mixin.Queryable.prototype.mixinId||Ext.mixin.Queryable.$className,Ext.mixin.Queryable],[Ext.mixin.Container.prototype.mixinId||Ext.mixin.Container.$className,Ext.mixin.Container],[Ext.mixin.FocusableContainer.prototype.mixinId||Ext.mixin.FocusableContainer.$className,Ext.mixin.FocusableContainer]],[Ext,'Container',Ext.lib,'Container',Ext.container,'Container'],function(){this.prototype.defaultItemClass=this});Ext.cmd.derive('Ext.mixin.Hookable',Ext.Mixin,{mixinConfig:{id:'hookable'},bindHook:function(e,a,c,b,d){e.afterMethod(a,c||a,this,b,d);return this},unbindHook:function(c,a,b){c.removeMethodListener(a,b||a,this);return this}},0,0,0,0,0,0,[Ext.mixin,'Hookable'],0);Ext.cmd.derive('Ext.util.Wrapper',Ext.Base,{constructor:function(b,a){var c=this.link('element',Ext.Element.create(b));if(a){c.insertBefore(a);this.wrap(a)}},bindSize:function(c){var a=this.wrappedElement,b;this.boundSizeName=c;this.boundMethodName=b=c==='width'?'setWidth':'setHeight';this.bindHook(a,b,'onBoundSizeChange');a[b].call(a,a.getStyleValue(c))},onBoundSizeChange:function(a,c){var b=this.element;if(typeof a==='string'&&a.substr(-1)==='%'){c[0]='100%'}else {a=''}b[this.boundMethodName].call(b,a)},wrap:function(b){var c=this.element,a;this.wrappedElement=b;a=c.dom;while(a.firstElementChild!==null){a=a.firstElementChild}a.appendChild(b.dom)},destroy:function(){var a=this,g=a.element,e=g.dom,b=a.wrappedElement,c=a.boundMethodName,f=e.parentNode,d;if(c){a.unbindHook(b,c,'onBoundSizeChange');d=g.getStyle(a.boundSizeName);if(d){b[c].call(b,d)}}if(f){if(!b.destroyed){f.replaceChild(e.firstElementChild,e)}delete a.wrappedElement}a.callParent()}},1,0,0,0,0,[[Ext.mixin.Hookable.prototype.mixinId||Ext.mixin.Hookable.$className,Ext.mixin.Hookable]],[Ext.util,'Wrapper'],0);Ext.cmd.derive('Ext.layout.wrapper.BoxDock',Ext.Base,{config:{direction:'horizontal',element:{className:'x-dock'},innerWrapper:null,container:null,manageBorders:null},positionMap:{top:'start',left:'start',bottom:'end',right:'end'},managedBordersCls:'x-managed-borders',constructor:function(a){this.items={start:[],end:[]};this.itemsCount=0;this.initConfig(a)},addItems:function(b){var a,d,c;for(a=0,d=b.length;a<d;a++){c=b[a];this.addItem(c)}},addItem:function(a){var k=a.getDocked(),h=this.positionMap[k],j=a.$dockWrapper,g=this.getContainer(),m=g.indexOf(a),i=a.element,n=this.items,d=n[h],c,l,e,b,f;if(j){j.removeItem(a)}a.$dockWrapper=this;a.addCls('x-dock-item');a.addCls('x-docked-'+k);for(c=0,l=d.length;c<l;c++){e=d[c];f=g.indexOf(e);if(f>m){b=e.element;d.splice(c,0,a);break}}if(!b){d.push(a);b=this.getInnerWrapper().getElement()}this.itemsCount++;if(h==='start'){i.insertBefore(b)}else {i.insertAfter(b)}},removeItem:function(a,d){var b=this,c=d||a.getDocked(),e=b.items[b.positionMap[c]];Ext.Array.remove(e,a);a.element.detach();delete a.$dockWrapper;a.removeCls('x-dock-item');a.removeCls('x-docked-'+c);if(--b.itemsCount===0){b.destroy()}},getItemsSlice:function(g){var f=this.getContainer(),h=this.items,e=[],b,a,d,c;for(b=h.start,a=0,d=b.length;a<d;a++){c=b[a];if(f.indexOf(c)>g){e.push(c)}}for(b=h.end,a=0,d=b.length;a<d;a++){c=b[a];if(f.indexOf(c)>g){e.push(c)}}return e},applyElement:function(a){return Ext.Element.create(a)},updateElement:function(a){a.addCls('x-dock-'+this.getDirection())},updateInnerWrapper:function(a,b){if(b){a.getElement().replace(b.getElement(),!1);b.$outerWrapper=null}else {this.getElement().append(a.getElement())}a.setManageBorders(this.getManageBorders());a.$outerWrapper=this},updateManageBorders:function(b){var a=this,c=a.getInnerWrapper();a.getElement().toggleCls(a.managedBordersCls,b);if(c){c.setManageBorders(b)}},destroy:function(){var a=this,b=a.getInnerWrapper(),d=a.$outerWrapper,c;if(b){if(d){d.setInnerWrapper(b)}else {c=b.getElement();if(!c.destroyed){c.replace(a.getElement())}delete b.$outerWrapper}}delete a.$outerWrapper;a.unlink(['_element']);a.callParent()}},1,0,0,0,0,0,[Ext.layout.wrapper,'BoxDock'],0);Ext.cmd.derive('Ext.layout.wrapper.Inner',Ext.Base,{config:{container:null,manageBorders:null},constructor:function(a){this.initConfig(a)},getElement:function(){var a=this.getContainer();return a.boxScrollerElement||a.bodySizerElement||a.bodyElement},setInnerWrapper:Ext.emptyFn,getInnerWrapper:Ext.emptyFn},1,0,0,0,0,0,[Ext.layout.wrapper,'Inner'],0);Ext.cmd.derive('Ext.layout.Auto',Ext.Base,{alternateClassName:'Ext.layout.Default',factoryConfig:{type:'layout',defaultType:'auto',instanceProp:'isLayout'},isLayout:!0,config:{animation:null,container:null},centerCls:'x-center',cls:'x-layout-auto',itemCls:'x-layout-auto-item',spaceRe:/\s+/,positionMap:{top:'start',left:'start',middle:'center',bottom:'end',right:'end'},positionDirectionMap:{top:'vertical',bottom:'vertical',left:'horizontal',right:'horizontal'},constructor:function(a){this.mixins.observable.constructor.call(this,a)},updateContainer:function(a,c){var b=this;b.dockedItems=[];a.getRenderTarget().addCls(b.cls);if(a.initialized){b.onContainerInitialized(a)}else {a.onInitialized('onContainerInitialized',b)}},onContainerInitialized:function(b){var a=this;a.handleDockedItemBorders();b.on({delegate:'> component',beforecenteredchange:'onItemCenteredChange',positionedchange:'onItemPositionedChange',afterdockedchange:'onAfterItemDockedChange',scope:a})},onItemAdd:function(a){var b=this,d=b.getContainer(),c=a.getFloated();if(a.getDocked()!=null){b.dockItem(a)}else if(a.isCentered()){b.onItemCenteredChange(a,!0)}else if(a.isPositioned()){b.onItemPositionedChange(a,!0)}else if(!c){b.onItemInnerStateChange(a,!0)}if(d.rendered&&!c){if(a.isInnerItem()){b.renderInnerItem(a,!0)}else {a.setRendered(!0,!0)}}},onItemInnerStateChange:function(a,c,d){var b=this.itemCls;if(c){this.insertInnerItem(a,this.getContainer().innerIndexOf(a));a.addCls(b)}else {this.removeInnerItem(a);a.removeCls(b)}},insertInnerItem:function(e,d){var f=e.element.dom,c=this.getContainer(),b=c.getRenderTarget(e),a=null;if(d!==-1){if(b===c.getRenderTarget()){a=c.getInnerAt(d+1);a=a?a.element.dom:null}else {a=b.dom.childNodes[d]}}b.dom.insertBefore(f,a)},insertPositionedItem:function(a){var b=this,c=b.getContainer().getPositionedItemTarget(a).dom;if(a.getZIndex()===null){a.setZIndex((b.getContainer().indexOf(a)+1)*2)}c.insertBefore(a.element.dom,c.firstChild);return b},removeInnerItem:function(a){a.element.detach()},removePositionedItem:function(a){a.setZIndex(null);a.element.detach()},onItemRemove:function(a,d,c){var b=this;if(a.getDocked()){b.undockItem(a)}else if(a.isCentered()){b.onItemCenteredChange(a,!1)}else if(a.isPositioned()){b.onItemPositionedChange(a,!1)}else if(!a.getFloated()){b.onItemInnerStateChange(a,!1,c)}},onItemMove:function(a,b,c){if(a.isCentered()||a.isPositioned()){a.setZIndex((b+1)*2)}else if(a.isInnerItem()){this.insertInnerItem(a,this.getContainer().innerIndexOf(a))}else {this.undockItem(a);this.dockItem(a)}},onItemCenteredChange:function(a,c){var b='$centerWrapper';if(a.getFloated()){a.center()}else {if(c){this.insertPositionedItem(a);a.link(b,new Ext.util.Wrapper({className:this.centerCls},a.element))}else {a.unlink([b]);this.removePositionedItem(a)}}},onItemPositionedChange:function(a,b){if(b){this.insertPositionedItem(a)}else {this.removePositionedItem(a)}},onAfterItemDockedChange:function(a,c,b){if(a.initialized){if(b){this.undockItem(a,b)}if(c){this.dockItem(a)}}},dockItem:function(d){var g=this,p=Ext.layout.wrapper.BoxDock,f=g.dockedItems,q=f.length,c=g.getContainer(),v=c.indexOf(d),r=g.positionDirectionMap,o=r[d.getDocked()],h=g.dockInnerWrapper,s=!h,m,j,n,w,u,l,i,t,b,a,e,k;if(s){h=new Ext.layout.wrapper.Inner({container:c})}if(q===0){f.push(d);a=new p({container:c,direction:o,manageBorders:c.manageBorders});a.getElement().replace(h.getElement(),!1);a.setInnerWrapper(h);a.addItem(d)}else {for(j=0;j<q;j++){n=f[j];w=c.indexOf(n);if(w>v){i=u||f[0];f.splice(j,0,d);break}u=n}if(!i){i=f[q-1];f.push(d)}t=i.getDocked();b=i.$dockWrapper;m=r[t];if(o===m){b.addItem(d)}else {l=b.getItemsSlice(v);a=new p({container:c,direction:o});if(l.length>0){if(l.length===b.itemsCount){e=b;a.getElement().replace(e.getElement(),!1);a.setInnerWrapper(e)}else {e=new p({container:c,direction:m});k=b.getInnerWrapper();a.setInnerWrapper(e);b.setInnerWrapper(a);e.setInnerWrapper(k);e.addItems(l)}}else {k=b.getInnerWrapper();b.setInnerWrapper(a);a.setInnerWrapper(k)}a.addItem(d)}}if(a){g.link('dockOuterWrapper',a)}if(s){g.link('dockInnerWrapper',h)}if(c.initialized){g.handleDockedItemBorders()}},getDockWrapper:function(){var a=this.dockedItems;if(a.length>0){return a[0].$dockWrapper}return null},undockItem:function(a,g){var b=this,f=b.dockedItems,d,c,e=a.$dockWrapper;if(e){e.removeItem(a,g)}if(b.getContainer().initialized){d=a.lastBorderMask;c=a.lastBorderCollapse;if(d){a.lastBorderMask=0;a.removeCls(b.noBorderClassTable[d])}if(c){a.lastBorderCollapse=0;a.removeCls(b.getBorderCollapseTable()[c])}b.handleDockedItemBorders()}Ext.Array.remove(f,a)},destroy:function(){this.dockedItems=null;Ext.destroy(this.getAnimation());this.callParent()},noBorderClassTable:[0,'x-noborder-l','x-noborder-b','x-noborder-bl','x-noborder-r','x-noborder-rl','x-noborder-rb','x-noborder-rbl','x-noborder-t','x-noborder-tl','x-noborder-tb','x-noborder-tbl','x-noborder-tr','x-noborder-trl','x-noborder-trb','x-noborder-trbl'],edgeMasks:{top:8,right:4,bottom:2,left:1},handleDockedItemBorders:function(B){var e=this,j=0,p=8,o=4,m=2,n=1,i=e.getContainer(),t=i.getBodyBorder&&i.getBodyBorder(),k=i.getBorder(),z=e.collapsed,A=e.edgeMasks,l=e.noBorderClassTable,w=i.items.generation,x=i.boxScrollerElement||i.bodyElement,a,r,s,b,u,y,d,q,h,c,g,f,v;if(!B&&e.initializedBorders===w||!i.manageBorders){return}g=[];f=[];r=e.getBorderCollapseTable();l=e.getBorderClassTable?e.getBorderClassTable():l;e.initializedBorders=w;e.collapsed=!1;s=i.getDockedItems();e.collapsed=z;v=i.getHeader&&i.getHeader();if(v){s=[v].concat(s)}for(u=0,y=s.length;u<y;u++){d=s[u];if(d.getHidden()){continue}q=d.isPanelHeader?d.getPosition():d.getDocked();c=b=0;g.length=0;f.length=0;if(q!=='bottom'){if(j&p){a=d.border}else {a=k;if(a!==!1){b+=p}}if(a===!1){c+=p}}if(q!=='left'){if(j&o){a=d.border}else {a=k;if(a!==!1){b+=o}}if(a===!1){c+=o}}if(q!=='top'){if(j&m){a=d.border}else {a=k;if(a!==!1){b+=m}}if(a===!1){c+=m}}if(q!=='right'){if(j&n){a=d.border}else {a=k;if(a!==!1){b+=n}}if(a===!1){c+=n}}if((h=d.lastBorderMask)!==c){d.lastBorderMask=c;if(h){f[0]=l[h]}if(c){g[0]=l[c]}}if((h=d.lastBorderCollapse)!==b){d.lastBorderCollapse=b;if(h){f.push.apply(f,r[h])}if(b){g.push.apply(g,r[b])}}if(f.length){d.removeCls(f)}if(g.length){d.addCls(g)}j|=A[q]}c=b=0;g.length=0;f.length=0;if(j&p){a=t}else {a=k;if(a!==!1){b+=p}}if(a===!1){c+=p}if(j&o){a=t}else {a=k;if(a!==!1){b+=o}}if(a===!1){c+=o}if(j&m){a=t}else {a=k;if(a!==!1){b+=m}}if(a===!1){c+=m}if(j&n){a=t}else {a=k;if(a!==!1){b+=n}}if(a===!1){c+=n}if((h=e.lastBodyBorderMask)!==c){e.lastBodyBorderMask=c;if(h){f[0]=l[h]}if(c){g[0]=l[c]}}if((h=e.lastBodyBorderCollapse)!==b){e.lastBodyBorderCollapse=b;if(h){f.push.apply(f,r[h])}if(b){g.push.apply(g,r[b])}}if(f.length){x.removeCls(f)}if(g.length){x.addCls(g)}},borderCollapseMap:{},getBorderCollapseTable:function(){var k=this,e=k.borderCollapseMap,j=k.getContainer(),f=j.classCls,c=j.getUi(),m=c||'default',d,a,i,b,l,g,o,h,n;e=e[f]||(e[f]={});a=e[m];if(!a){i=j.classClsList;e[m]=a=[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]];d=[0];if(c){d=d.concat(c.split(k.spaceRe))}n=d.length;for(g=0,o=i.length;g<o;g++){f=i[g];for(h=0;h<n;h++){c=d[h];l=c?'-'+c:'';b=f+l+'-outer-border-';a[1].push(b+'l');a[2].push(b+'b');a[3].push(b+'bl');a[4].push(b+'r');a[5].push(b+'rl');a[6].push(b+'rb');a[7].push(b+'rbl');a[8].push(b+'t');a[9].push(b+'tl');a[10].push(b+'tb');a[11].push(b+'tbl');a[12].push(b+'tr');a[13].push(b+'trl');a[14].push(b+'trb');a[15].push(b+'trbl')}}}return a},setConfig:function(b,e,c){var a=b,d=this.alias,f=a.type;if(b){if(typeof b==='string'){a={};a[b]=e}else {c=e}if(!f||d&&d.indexOf('layout.'+f)>-1){this.callParent([a,c])}}return this},privates:{renderInnerItem:function(b,a){b.setRendered(!0,a)}}},1,0,0,0,['layout.auto','layout.default'],[[Ext.mixin.Observable.prototype.mixinId||Ext.mixin.Observable.$className,Ext.mixin.Observable],[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.layout,'Auto',Ext.layout,'Default'],0);Ext.cmd.derive('Ext.Indicator',Ext.Component,{config:{activeIndex:null,count:null,direction:'horizontal',tapMode:'direction'},activeCls:'x-indicator-active',baseCls:'x-indicator',itemCls:'x-indicator-item',defaultBindProperty:'activeIndex',twoWayBindable:['activeIndex'],isIndicator:!0,constructor:function(a){this.indicators=[];Ext.Component.prototype.constructor.call(this,a)},initialize:function(){Ext.Component.prototype.initialize.call(this);this.element.on({tap:'onTap',scope:this})},doDestroy:function(){Ext.destroy(this.indicators);Ext.Component.prototype.doDestroy.call(this)},updateActiveIndex:function(f,e){var d=this.activeCls,c=this.indicators,a=c[e],b=c[f];if(a){a.removeCls(d)}if(b){b.addCls(d)}},updateCount:function(b){var a=this.indicators;while(a.length<b){this.doAdd()}while(a.length>b){this.doRemove()}},updateDirection:function(a,b){this.element.replaceCls(b,a,this.baseCls)},sync:function(b,a){if(Ext.isNumber(b)){this.setCount(b)}if(Ext.isNumber(a)){this.setActiveIndex(a)}return this},add:function(){var a=this.getCount();return this.setCount(++a)},removeAll:function(){return this.setCount(0)},remove:function(){var a=this.getCount();return this.setCount(--a)},doAdd:function(){var a=this.indicators;a.push(this.element.createChild({tag:'span',cls:this.itemCls}));return this},doRemove:function(){var b=this.indicators,a=b.pop();if(a){a.destroy()}return this},onTap:function(a){var b=this.getTapMode();if(b==='item'){this.onTapItem(a)}else {this.onTapDirection(a)}},onTapItem:function(d){var a=this,c=d.getTarget('.'+a.itemCls,1,!0),b;if(c){b=a.indicators.indexOf(c);if(b!==-1){a.fireEvent('indicatortap',a,b,c)}}else {a.onTapDirection(d)}},onTapDirection:function(h){var b=this,c=b.getDirection(),d=h.touch,a=b.element.getBox(),e=a.left+a.width/2,f=a.top+a.height/2,g=c==='horizontal'&&d.pageX>=e||c==='vertical'&&d.pageY>=f?'next':'previous';b.fireEvent(g,b)}},1,['indicator'],['widget','component','indicator'],{'widget':!0,'component':!0,'indicator':!0},['widget.indicator'],0,[Ext,'Indicator'],0);Ext.cmd.derive('Ext.layout.card.fx.Abstract',Ext.Evented,{isAnimation:!0,config:{direction:null,duration:null,reverse:null,layout:null},updateLayout:function(a){if(a){this.enable()}},enable:function(){var a=this.getLayout();if(a){a.on('beforeactiveitemchange','onActiveItemChange',this)}},disable:function(){var a=this.getLayout();if(this.isAnimating){this.stopAnimation()}if(a){a.un('beforeactiveitemchange','onActiveItemChange',this)}},onActiveItemChange:Ext.emptyFn,destroy:function(){var a=this,b=a.getLayout();if(a.isAnimating){a.stopAnimation()}if(b){b.un('beforeactiveitemchange','onActiveItemChange',this)}a.setLayout(null);if(a.observableId){a.fireEvent('destroy',this)}Ext.Evented.prototype.destroy.call(this)}},0,0,0,0,['layout.card.fx.abstract'],[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.layout.card.fx,'Abstract'],0);Ext.cmd.derive('Ext.layout.card.fx.Style',Ext.layout.card.fx.Abstract,{config:{inAnimation:{before:{visibility:null},preserveEndState:!1,replacePrevious:!0},outAnimation:{preserveEndState:!1,replacePrevious:!0}},isAnimating:!1,constructor:function(c){var b,a;Ext.layout.card.fx.Abstract.prototype.constructor.call(this,c);this.endAnimationCounter=0;b=this.getInAnimation();a=this.getOutAnimation();b.on('animationend','incrementEnd',this);a.on('animationend','incrementEnd',this)},updateDirection:function(a){this.getInAnimation().setDirection(a);this.getOutAnimation().setDirection(a)},updateDuration:function(a){this.getInAnimation().setDuration(a);this.getOutAnimation().setDuration(a)},updateReverse:function(a){this.getInAnimation().setReverse(a);this.getOutAnimation().setReverse(a)},incrementEnd:function(){this.endAnimationCounter++;if(this.endAnimationCounter>1){this.endAnimationCounter=0;this.fireEvent('animationend',this)}},applyInAnimation:function(b,a){return Ext.factory(b,Ext.fx.Animation,a)},applyOutAnimation:function(b,a){return Ext.factory(b,Ext.fx.Animation,a)},updateInAnimation:function(a){a.setScope(this)},updateOutAnimation:function(a){a.setScope(this)},onActiveItemChange:function(i,b,f,g){var c=this,e,h,d,a;if(b&&f&&f.isPainted()){d=c.getInAnimation();a=c.getOutAnimation();e=b.renderElement;h=f.renderElement;d.setElement(e);a.setElement(h);a.setOnEnd(function(){c.isAnimating=!1;g.resume()});e.dom.style.setProperty('visibility','hidden','important');b.show();i.renderInnerItem(b,!0);c.isAnimating=!0;Ext.Animator.run([a,d]);g.pause()}},destroy:function(){Ext.destroy(this.getInAnimation(),this.getOutAnimation());Ext.layout.card.fx.Abstract.prototype.destroy.call(this)}},1,0,0,0,0,0,[Ext.layout.card.fx,'Style'],0);Ext.cmd.derive('Ext.layout.card.fx.Cover',Ext.layout.card.fx.Style,{config:{reverse:null,inAnimation:{before:{'z-index':100},after:{'z-index':0},type:'slide',easing:'ease-out'},outAnimation:{easing:'ease-out',from:{opacity:0.99},to:{opacity:1},out:!0}}},0,0,0,0,['layout.card.fx.cover'],0,[Ext.layout.card.fx,'Cover'],0);Ext.cmd.derive('Ext.layout.card.fx.Cube',Ext.layout.card.fx.Style,{config:{reverse:null,inAnimation:{type:'cube'},outAnimation:{type:'cube',out:!0}}},0,0,0,0,['layout.card.fx.cube'],0,[Ext.layout.card.fx,'Cube'],0);Ext.cmd.derive('Ext.layout.card.fx.Serial',Ext.layout.card.fx.Style,{duration:500,updateDuration:function(d){var a=d/2,b=this.getInAnimation(),c=this.getOutAnimation();b.setDelay(a);b.setDuration(a);c.setDuration(a)}},0,0,0,0,0,0,[Ext.layout.card.fx,'Serial'],0);Ext.cmd.derive('Ext.layout.card.fx.Fade',Ext.layout.card.fx.Serial,{config:{reverse:null,inAnimation:{type:'fade',easing:'ease-out'},outAnimation:{type:'fade',easing:'ease-out',out:!0}}},0,0,0,0,['layout.card.fx.fade'],0,[Ext.layout.card.fx,'Fade'],0);Ext.cmd.derive('Ext.layout.card.fx.Flip',Ext.layout.card.fx.Serial,{config:{inAnimation:{type:'flip',half:!0,easing:'ease-out',before:{'backface-visibility':'hidden'},after:{'backface-visibility':null}},outAnimation:{type:'flip',half:!0,easing:'ease-in',before:{'backface-visibility':'hidden'},after:{'backface-visibility':null},out:!0}},onActiveItemChange:function(c,b,e,d){var a=b.element.getParent();a.addCls('x-layout-card-perspective');this.on('animationend',function(){a.removeCls('x-layout-card-perspective')},this,{single:!0});Ext.layout.card.fx.Serial.prototype.onActiveItemChange.apply(this,arguments)}},0,0,0,0,['layout.card.fx.flip'],0,[Ext.layout.card.fx,'Flip'],0);Ext.cmd.derive('Ext.layout.card.fx.Pop',Ext.layout.card.fx.Serial,{config:{inAnimation:{type:'pop',easing:'ease-out'},outAnimation:{type:'pop',easing:'ease-in',out:!0}}},0,0,0,0,['layout.card.fx.pop'],0,[Ext.layout.card.fx,'Pop'],0);Ext.cmd.derive('Ext.layout.card.fx.Reveal',Ext.layout.card.fx.Style,{config:{inAnimation:{easing:'ease-out',from:{opacity:0.99},to:{opacity:1}},outAnimation:{before:{'z-index':100},after:{'z-index':0},type:'slide',easing:'ease-out',out:!0}}},0,0,0,0,['layout.card.fx.reveal'],0,[Ext.layout.card.fx,'Reveal'],0);Ext.cmd.derive('Ext.layout.card.fx.Scroll',Ext.layout.card.fx.Abstract,{config:{duration:150},getEasing:function(){var a=this.easing;if(!a){this.easing=a=new Ext.fx.easing.Linear()}return a},updateDuration:function(a){this.getEasing().setDuration(a)},onActiveItemChange:function(l,e,j,k){var f=this.getDirection(),g=this.getEasing(),b,i,h,d,c,a;if(e&&j){if(this.isAnimating){this.stopAnimation()}e.setWidth('100%');e.setHeight('100%');b=this.getLayout().container.bodyElement;d=b.getWidth();c=b.getHeight();i=e.renderElement;h=j.renderElement;this.oldItem=j;this.newItem=e;this.containerElement=b;this.currentEventController=k;this.isReverse=a=this.getReverse();e.show();if(f==='right'){f='left';this.isReverse=a=!a}else if(f==='down'){f='up';this.isReverse=a=!a}if(f==='left'){if(a){g.setConfig({startValue:d,endValue:0});b.dom.scrollLeft=d;h.setLeft(d)}else {g.setConfig({startValue:0,endValue:d});i.setLeft(d)}}else {if(a){g.setConfig({startValue:c,endValue:0});b.dom.scrollTop=c;h.setTop(c)}else {g.setConfig({startValue:0,endValue:c});i.setTop(c)}}this.startAnimation();k.pause()}},startAnimation:function(){this.isAnimating=!0;this.getEasing().setStartTime(Date.now());Ext.AnimationQueue.start(this.doAnimationFrame,this)},doAnimationFrame:function(){var b=this.getEasing(),a=this.getDirection(),c='scrollTop',d;if(a==='left'||a==='right'){c='scrollLeft'}if(b.isEnded){this.stopAnimation()}else {d=b.getValue();this.containerElement.dom[c]=d}},stopAnimation:function(){var a=this,e=a.getDirection(),d='setTop',c=a.oldItem,b=a.newItem;if(e==='left'||e==='right'){d='setLeft'}a.currentEventController.resume();if(a.isReverse&&c&&c.renderElement&&c.renderElement.dom){c.renderElement[d](null)}else if(b&&b.renderElement&&b.renderElement.dom){b.renderElement[d](null)}Ext.AnimationQueue.stop(this.doAnimationFrame,this);a.isAnimating=!1;a.fireEvent('animationend',a)}},0,0,0,0,['layout.card.fx.scroll'],0,[Ext.layout.card.fx,'Scroll'],0);Ext.cmd.derive('Ext.layout.card.fx.ScrollCover',Ext.layout.card.fx.Scroll,{onActiveItemChange:function(j,b,i,h){var d,e,c,g,a,f;this.currentEventController=h;this.inItem=b;if(b&&i){d=this.getLayout().container.bodyElement;e=d.getSize();c=this.calculateXY(e);g={easing:this.getEasing(),duration:this.getDuration()};b.renderElement.dom.style.setProperty('visibility','hidden','important');a=b.setTranslatable(!0).getTranslatable();f=i.setTranslatable(!0).getTranslatable();f.translate({x:0,y:0});a.translate({x:c.left,y:c.top});a.getWrapper().dom.style.setProperty('z-index','100','important');b.show();a.on({animationstart:'onInAnimationStart',animationend:'onInAnimationEnd',scope:this});a.translateAnimated({x:0,y:0},g);h.pause()}},onInAnimationStart:function(){this.inItem.renderElement.dom.style.removeProperty('visibility')},onInAnimationEnd:function(){var a;if(!this.destroyed){a=this.inItem.getTranslatable().getWrapper();a.dom.style.removeProperty('z-index');this.currentEventController.resume()}}},0,0,0,0,['layout.card.fx.scrollcover'],0,[Ext.layout.card.fx,'ScrollCover'],0);Ext.cmd.derive('Ext.layout.card.fx.ScrollReveal',Ext.layout.card.fx.Scroll,{onActiveItemChange:function(j,b,c,i){var e,f,d,h,a,g;this.currentEventController=i;this.outItem=c;this.inItem=b;if(b&&c){e=this.getLayout().container.bodyElement;f=e.getSize();d=this.calculateXY(f);h={easing:this.getEasing(),duration:this.getDuration()};a=c.setTranslatable(!0).getTranslatable();g=b.setTranslatable(!0).getTranslatable();a.getWrapper().dom.style.setProperty('z-index','100','important');a.translate({x:0,y:0});g.translate({x:0,y:0});b.show();a.on({animationend:'onOutAnimationEnd',scope:this});a.translateAnimated({x:d.x,y:d.y},h);i.pause()}},onOutAnimationEnd:function(){var a;if(!this.destroyed){a=this.outItem.getTranslatable().getWrapper();a.dom.style.removeProperty('z-index');this.currentEventController.resume()}}},0,0,0,0,['layout.card.fx.scrollreveal'],0,[Ext.layout.card.fx,'ScrollReveal'],0);Ext.cmd.derive('Ext.layout.card.fx.Slide',Ext.layout.card.fx.Style,{config:{inAnimation:{type:'slide',easing:'ease-out'},outAnimation:{type:'slide',easing:'ease-out',out:!0}}},0,0,0,0,['layout.card.fx.slide'],0,[Ext.layout.card.fx,'Slide'],0);Ext.cmd.derive('Ext.layout.Card',Ext.layout.Auto,{type:'card',isCard:!0,config:{indicator:{lazy:!0,$value:{xtype:'indicator',flex:1}}},deferRender:!0,cls:'x-layout-card',itemCls:'x-layout-card-item',applyAnimation:function(a){return a?new Ext.Factory.layoutCardFx(a):null},updateAnimation:function(a,d){var c=this,b;c.autoDirection=null;if(a&&a.isAnimation){a.setLayout(c);b=a.getDirection();if(!b||c.autoDirectionMap[b]){c.autoDirection=b||'horizontal';a.setDirection(null)}}if(d){d.destroy()}},applyIndicator:function(b,a){return Ext.updateWidget(a,b,this,'createIndicator')},createIndicator:function(a){return Ext.apply({ownerCmp:this.getContainer()},a)},updateIndicator:function(d){var b,a,c;if(d){b=this.getContainer();a=b.getInnerItems();c=b.getActiveItem();d.sync(a.length,a.indexOf(c)).on({indicatortap:'onIndicatorTap',next:'next',previous:'previous',scope:this})}},onContainerInitialized:function(a){var e=this,c=a.getInnerAt(0),b=a.getActiveItem(),d=a.getMinHeight();if(Ext.isIE&&d!=null&&a.getHeight()==null){a.setHeight(d)}Ext.layout.Auto.prototype.onContainerInitialized.call(this,a);if(b){b.show();if(c&&c!==b){c.hide()}}a.on('activeitemchange','onContainerActiveItemChange',e)},onContainerActiveItemChange:function(k,h,i){var a=this,e=k.getInnerItems(),f=e.indexOf(h),g=e.indexOf(i),j=a.getAnimation(),b=a.autoDirection,d=b&&b==='horizontal',c;if(b&&f!==-1&&g!==-1){if(f<g){c=d?'right':'up'}else {c=d?'left':'down'}j.setDirection(c)}a.fireEventedAction('activeitemchange',[a,h,i],'doActiveItemChange',a)},onItemInnerStateChange:function(a,e,d){var b,c;Ext.layout.Auto.prototype.onItemInnerStateChange.call(this,a,e,d);b=this.getContainer();c=b.getActiveItem();if(e){if(c!==b.innerIndexOf(a)&&c!==a&&a!==b.pendingActiveItem){a.hide()}}else {if(!d&&!a.destroyed&&a.destroying!==!0){a.show()}}},doActiveItemChange:function(f,a,b){var e=f.getConfig('indicator',null,!0),d,c;if(b&&!b.destroyed){b.hide()}if(a&&!a.destroyed){f.showItem(a);if(e){d=this.getContainer();c=d.getInnerItems();e.setActiveIndex(c.indexOf(a))}}},onItemAdd:function(c,d){var a,b;Ext.layout.Auto.prototype.onItemAdd.call(this,c,d);if(c.isInnerItem()){a=this.getConfig('indicator',null,!0);if(a){a.add()}b=c.element.dom.style;b.width=b.height=''}},onItemRemove:function(a,f,e){var b,d,c;Ext.layout.Auto.prototype.onItemRemove.call(this,a,f,e);if(a.isInnerItem()){b=this.getConfig('indicator',null,!0);if(b){b.remove()}d=a.getWidth();c=a.getHeight();a.setWidth(null).setWidth(d);a.setHeight(null).setHeight(c)}},next:function(){var b=this.getContainer(),a=b.getActiveItem(),c=b.getInnerItems(),d=c.indexOf(a);a=c[d+1];if(a){b.setActiveItem(a)}},previous:function(){var b=this.getContainer(),a=b.getActiveItem(),c=b.getInnerItems(),d=c.indexOf(a);a=c[d-1];if(a){b.setActiveItem(a)}},onIndicatorTap:function(c,b){var a=this.getContainer();a.setActiveItem(b)},destroy:function(){Ext.destroy(this.getAnimation(),this.getIndicator());Ext.layout.Auto.prototype.destroy.call(this)},privates:{autoDirectionMap:{horizontal:1,vertical:1},renderInnerItem:function(a,b){if(!this.deferRender||this.getContainer().getActiveItem()===a){Ext.layout.Auto.prototype.renderInnerItem.call(this,a,b)}},showItem:function(a){a.show();if(this.getContainer().rendered){a.setRendered(!0,!0)}}}},0,0,0,0,['layout.card'],0,[Ext.layout,'Card'],0);Ext.cmd.derive('Ext.util.InputBlocker',Ext.Base,{singleton:!0,blockInputs:function(){if(Ext.browser.is.ie){Ext.select('.x-field-text .x-input:not(.x-item-disabled) .x-input-el, .x-field-textarea .x-input:not(.x-item-disabled) .x-input-el, .x-field-search .x-input:not(.x-item-disabled) .x-input-el').each(function(a){if(a.dom.offsetWidth>0){a.dom.setAttribute('disabled',!0);a.dom.setAttribute('overlayfix',!0)}})}},unblockInputs:function(){if(Ext.browser.is.ie){Ext.select('[overlayfix]').each(function(a){a.dom.removeAttribute('disabled');a.dom.removeAttribute('overlayfix')})}}},0,0,0,0,0,0,[Ext.util,'InputBlocker'],0);Ext.cmd.derive('Ext.viewport.Default',Ext.Container,function(){var d=1,a=2,c=4,b=8,f={top:d,right:a,bottom:c,left:b},g={1:c,2:b,4:d,8:a},e={left:'right',right:'left',top:'bottom',bottom:'top',up:'bottom',down:'top'};return {PORTRAIT:'portrait',LANDSCAPE:'landscape',nameHolder:!0,config:{autoMaximize:!1,autoBlurInput:!0,preventZooming:!1,autoRender:!0,layout:'card',width:'100%',height:'100%',menus:{},orientation:null,swipeThreshold:30},classCls:'x-viewport',getTemplate:function(){var a=Ext.Container.prototype.getTemplate.call(this);if(!Ext.feature.has.MatchMedia){a.unshift({reference:'orientationElement',className:'x-orientation-inspector',children:[{className:'x-orientation-inspector-landscape'}]})}return a},isReady:!1,isViewport:!0,isMaximizing:!1,id:'ext-viewport',isInputRegex:/^(input|textarea|select|a)$/i,isInteractiveWebComponentRegEx:/^(audio|video)$/i,notScalableRe:/user-scalable=no/,focusable:!1,focusEl:null,ariaEl:null,allSidesCls:['x-top','x-right','x-bottom','x-left'],sideClsMap:{top:'x-top',right:'x-right',bottom:'x-bottom',left:'x-left'},hasViewportCls:'x-has-viewport',fixedCls:'x-fixed-viewport',fullscreenItemCls:'x-fullscreen',constructor:function(c){var a=this,b;a.doPreventPanning=a.doPreventPanning.bind(a);a.doPreventZooming=a.doPreventZooming.bind(a);a.maximizeOnEvents=['ready','orientationchange'];window.devicePixelRatio=window.devicePixelRatio||1;Ext.Container.prototype.constructor.call(this,c);a.updateSize();a.windowOuterHeight=a.getWindowOuterHeight();b=a.getScrollable();if(!b){b=Ext.getViewportScroller().setConfig({x:!1,y:!1});b.component=a}Ext.setViewportScroller(b);Ext.getBody().setStyle('overflow','hidden');Ext.get(document.documentElement).addCls(a.hasViewportCls);a.stretchHeights=a.stretchHeights||{};if(Ext.feature.has.OrientationChange){a.addWindowListener('orientationchange',a.onOrientationChange.bind(a))}if(!Ext.os.is.iOS||!a.isScalable()){Ext.get(document.documentElement).addCls(a.fixedCls)}Ext.GlobalEvents.on('resize','onWindowResize',a,{priority:1000});Ext.onDocumentReady(a.onDomReady,a);return a},initialize:function(){var a=this;a.addMeta('apple-mobile-web-app-capable','yes');a.addMeta('apple-touch-fullscreen','yes');Ext.Container.prototype.initialize.call(this)},getRefItems:function(e){var c=this.getMenus(),b=Ext.Container.prototype.getRefItems.call(this,e),d,a;for(d in c){a=c[d];if(a){Ext.Array.include(b,a)}}return b},initInheritedState:function(c,d){var b=this,a=Ext.rootInheritedState;if(c!==a){b.initInheritedState(b.inheritedState=a,b.inheritedStateInner=Ext.Object.chain(a))}else {Ext.Container.prototype.initInheritedState.call(this,c,d)}},onAppLaunch:function(){var a=this;if(!a.isReady){a.onDomReady()}},onDomReady:function(){var a=this;if(a.isReady){return}a.isReady=!0;a.updateSize();a.onReady();a.fireEvent('ready',a);Ext.GlobalEvents.fireEvent('viewportready',a)},onReady:function(){if(this.getAutoRender()){this.render()}},render:function(){var a=this,b=Ext.getBody();if(!a.rendered){Ext.Container.prototype.render.call(this,b,Ext.floatRoot);a.setOrientation(a.determineOrientation());Ext.getBody().addCls('x-'+a.getOrientation())}},applyAutoMaximize:function(a){return Ext.browser.is.WebView?!1:a},updateAutoMaximize:function(b){var a=this;if(b){a.on('ready','doAutoMaximizeOnReady',a,{single:!0});a.on('orientationchange','doAutoMaximizeOnOrientationChange',a)}else {a.un('ready','doAutoMaximizeOnReady',a);a.un('orientationchange','doAutoMaximizeOnOrientationChange',a)}},updatePreventPanning:function(a){this.toggleWindowListener(a,'touchmove',this.doPreventPanning,!1)},updatePreventZooming:function(a){var b=Ext.feature.has.TouchEvents?'touchstart':'mousedown';this.toggleWindowListener(a,b,this.doPreventZooming,!1)},doAutoMaximizeOnReady:function(){var a=this;a.isMaximizing=!0;a.on('maximize',function(){a.isMaximizing=!1;a.updateSize();a.fireEvent('ready',a)},a,{single:!0});a.maximize()},doAutoMaximizeOnOrientationChange:function(){var a=this;a.isMaximizing=!0;a.on('maximize',function(){a.isMaximizing=!1;a.updateSize()},a,{single:!0});a.maximize()},doPreventPanning:function(a){var d=this,b=a.target,c;if(d.isInteractiveWebComponentRegEx.test(b.tagName)&&a.touches&&a.touches.length>0){c=a.touches[0];if(c&&c.target&&d.isInputRegex.test(c.target.tagName)){return}}if(b&&b.nodeType===1&&!d.isInputRegex.test(b.tagName)){a.preventDefault()}},doPreventZooming:function(a){if('button' in a&&a.button!==0){return}var b=a.target,d=this.isInputRegex,c;if(this.isInteractiveWebComponentRegEx.test(b.tagName)&&a.touches&&a.touches.length>0){c=a.touches[0];if(c&&c.target&&d.test(c.target.tagName)){return}}if(b&&b.nodeType===1&&!d.test(b.tagName)){a.preventDefault()}},addWindowListener:function(b,c,a){window.addEventListener(b,c,Boolean(a))},removeWindowListener:function(b,c,a){window.removeEventListener(b,c,Boolean(a))},supportsOrientation:function(){return Ext.feature.has.Orientation},supportsMatchMedia:function(){return Ext.feature.has.MatchMedia},onOrientationChange:function(){this.setOrientation(this.determineOrientation())},determineOrientation:function(){var a=this,c=a.orientationElement,b,d;if(a.supportsOrientation()){b=a.getWindowOrientation();if(Math.abs(b)===90||b===270){return a.LANDSCAPE}return a.PORTRAIT}if(a.supportsMatchMedia()){return window.matchMedia('(orientation : landscape)').matches?a.LANDSCAPE:a.PORTRAIT}if(c){d=c.first().isVisible();return d?a.LANDSCAPE:a.PORTRAIT}return null},updateOrientation:function(b,a){if(a){this.fireOrientationChangeEvent(b,a)}},fireOrientationChangeEvent:function(b,d){var a=this,c=a.updateSize();Ext.getBody().replaceCls('x-'+d,'x-'+b);a.fireEvent('orientationchange',a,b,c.width,c.height)},onWindowResize:function(b,c){var a=this,e=a.lastSize.width,d=a.lastSize.height;a.updateSize(b,c);a.setOrientation(a.determineOrientation());if(b!=null){a.fireEvent('resize',this,b,c,e,d)}},updateSize:function(c,b){var a=this.lastSize;a.width=c!==undefined?c:this.getWindowWidth();a.height=b!==undefined?b:this.getWindowHeight();return a},waitUntil:function(g,d,e,a,b){var c=this,f=0;if(!a){a=50}if(!b){b=2000}Ext.defer(function repeat(){f+=a;if(g.call(c)===!0){if(d){d.call(c)}}else {if(f>=b){if(e){e.call(c)}}else {Ext.defer(repeat,a)}}},a)},maximize:function(){this.fireMaximizeEvent()},fireMaximizeEvent:function(){this.updateSize();this.fireEvent('maximize',this)},updateHeight:function(a,b){Ext.getBody().setHeight(a);Ext.Container.prototype.updateHeight.call(this,a,b)},updateWidth:function(a,b){Ext.getBody().setWidth(a);Ext.Container.prototype.updateWidth.call(this,a,b)},scrollToTop:function(){window.scrollTo(0,-1)},getWindowWidth:function(){return window.innerWidth},getWindowHeight:function(){return window.innerHeight},getWindowOuterHeight:function(){return window.outerHeight},getWindowOrientation:function(){return window.orientation},getSize:function(){return this.lastSize},setItemFullScreen:function(a){a.addCls(this.fullscreenItemCls);a.setTop(0);a.setRight(0);a.setBottom(0);a.setLeft(0);this.add(a)},setMenu:function(b,f){var a=this,e,d,c;f=f||{};if(Ext.os.is.iOS&&!a.hasiOSOrientationFix){a.hasiOSOrientationFix=!0;a.on('orientationchange',function(){window.scrollTo(0,0)},a)}d=a.getMenus();if(!a.addedSwipeListener){a.attachSwipeListeners();a.addedSwipeListener=!0}b=a.configureMenu(b,f);e=b.getSide();c=d[e];if(c&&!c.destroyed&&c!==b){a.hideMenu(e);c.setSide(null)}d[e]=b;a.setMenus(d);return b},attachSwipeListeners:function(){var a=this;a.element.on({tap:a.onTap,swipestart:a.onSwipeStart,edgeswipestart:a.onEdgeSwipeStart,edgeswipe:a.onEdgeSwipe,edgeswipeend:a.onEdgeSwipeEnd,scope:a})},configureMenu:function(a,b){var c=a.isComponent,h=c&&!('reveal' in b)?a.getReveal():!!b.reveal,d=(c&&!('cover' in b)?a.getCover():b.cover)!==!1&&!h,f=c&&!('side' in b)?a.getSide():b.side,g;b={hideAnimation:null,showAnimation:null,hidden:!0,floated:d,zIndex:d?null:5,reveal:h,cover:d,side:f};b[e[f]]=null;if(c){g=a.getFloated();if(b.floated!==g){if(a.rendered){if(g){this.remove(a,!1)}else {a.el.dom.parentNode.removeChild(a.el.dom);a.setRendered(!1)}}a.setConfig({top:null,right:null,bottom:null,left:null})}a.setConfig(b,null,{strict:!1})}else {b.xtype='actionsheet';a=Ext.create(Ext.apply(b,a))}b={left:0,right:0,top:0,bottom:0};b[e[f]]=null;a.setConfig(b);a.toggleCls(a.floatingCls,!a.getFloated());a.removeCls(this.getLayout().itemCls);a.toggleCls('x-menu-cover',d);a.toggleCls('x-menu-reveal',h);a.replaceCls(this.allSidesCls,this.sideClsMap[f]);a.isViewportMenu=!0;return a},removeMenu:function(a,e){var b=this,c=b.getMenus()||{},d=c[a];if(d){b.hideMenu(a,e);d.removeCls(b.sideClsMap[a])}delete c[a];b.setMenus(c)},showMenu:function(k,l){var j=this,h=f[k],e=j.getMenus()[k],g={translateX:0,translateY:0},i;if(!e||!e.isHidden()){return}if(l===!1){e.show(!1,{side:null});return}j.beforeMenuAnimate(e);i=e.element.measure(h&(b|a)?'w':'h');if(h===b){g.translateX=i}else if(h===a){g.translateX=-i}else if(h===d){g.translateY=i}else if(h===c){g.translateY=-i}e.translate(0,0,{duration:200});if(!e.getFloated()){j.translate(g.translateX,g.translateY,{duration:200})}},hideMenu:function(k,j){var l=this,h=f[k],e=l.getMenus()[k],g={translateX:0,translateY:0},i;j=j!==!1;if(!e||e.isHidden()){return}i=e.element.measure(h&(b|a)?'w':'h');if(h===b){g.translateX=-i}else if(h===a){g.translateX=i}else if(h===d){g.translateY=-i}else if(h===c){g.translateY=i}if(j){e.revertFocus();e.translate(g.translateX,g.translateY,{duration:200,callback:function(){if(!e.destroyed){e.translate(0,0);e.setHidden(!0)}}})}else {e.getTranslatable().stopAnimation();e.setHidden(!0)}if(!e.getFloated()){l.translate(0,0,j?{duration:200}:null)}},hideAllMenus:function(b){var c=this.getMenus(),a;for(a in c){this.hideMenu(a,b)}},hideOtherMenus:function(d,b){var c=this.getMenus(),a;for(a in c){if(d!==a){this.hideMenu(a,b)}}},toggleMenu:function(c){var b=this.getMenus(),a;if(b[c]){a=b[c];a.setDisplayed(a.isHidden())}},applyScrollable:function(a){return Ext.Container.prototype.applyScrollable.call(this,a,Ext.getViewportScroller())},doDestroy:function(){var a=this,c=Ext.get(document.documentElement),b=a._scrollable;c.removeCls(a.hasViewportCls);c.removeCls(a.fixedCls);if(b){b.setConfig({x:!0,y:!0});a._scrollable=null}Ext.un('resize','onWindowResize',a);Ext.Container.prototype.doDestroy.call(this);Ext.Viewport=null},privates:{addMeta:function(c,b){var a=document.createElement('meta');a.setAttribute('name',c);a.setAttribute('content',b);Ext.getHead().append(a)},beforeMenuAnimate:function(e){var k=this,l=e.getSide(),h=f[l],g={translateX:0,translateY:0},j,i;k.hideOtherMenus(l);if(e.getFloated()){k.add(e)}else {Ext.getBody().insertFirst(e.element);if(!e.rendered){e.setRendered(!0)}i=e.getModal();if(i){Ext.getBody().insertFirst(i.element);if(!i.rendered){i.setRendered(!0)}}k.translate(0,0)}e.removeCls(k.getLayout().itemCls);e.show(!1,{side:null});j=e.element.measure(h&(b|a)?'w':'h');if(h===b){g.translateX=-j}else if(h===a){g.translateX=j}else if(h===d){g.translateY=-j}else if(h===c){g.translateY=j}e.translate(g.translateX,g.translateY)},disableTabbing:function(){if(this.tabbingDisabled){return}this.tabbingDisabled=!0;Ext.Container.prototype.disableTabbing.call(this)},enableTabbing:function(a){if(!this.tabbingDisabled){return}this.tabbingDisabled=!1;Ext.Container.prototype.enableTabbing.call(this,a)},doAddListener:function(b,d,c,f,h,g,e){var a=this;if(b==='ready'&&a.isReady&&!a.isMaximizing){d.call(c);return a}Ext.Container.prototype.doAddListener.call(this,b,d,c,f,h,g,e)},isScalable:function(){var e=this,b=document.querySelectorAll('meta[name="viewport"]'),d=b.length&&b[b.length-1],c=!0,a;if(d){a=d.getAttribute('content');c=!(a&&e.notScalableRe.test(a))}return c},onTap:function(a){},onSwipeStart:function(c){var b=this.sideForSwipeDirection(c.direction),a=this.getMenus()[b];if(a&&!a.owns(c)){this.hideMenu(b)}},onEdgeSwipeStart:function(g){var c=this,a=c.getMenus(),b=a[e[g.direction]],f,d;if(!b||!b.isHidden()){return}g.claimGesture();for(f in a){d=a[f];if(d.isVisible()){return}}c.$swiping=!0;c.beforeMenuAnimate(b)},onEdgeSwipe:function(g){var f=this,l=f.sideForDirection(g.direction),m=f.getMenus()[e[g.direction]],n,i,h,k,j;if(!m||!f.$swiping){return}g.claimGesture();if(g.distance!==f.lastSwipeDistance){f.reverseSwiping=g.distance<f.lastSwipeDistance}f.lastSwipeDistance=g.distance;n=m.element.measure(l&(b|a)?'w':'h');k=Math.min(g.distance-n,0);j=Math.min(g.distance,n);i={translateX:0,translateY:0};h={translateX:0,translateY:0};if(l===b){i.translateX=k;h.translateX=j}else if(l===a){i.translateX=-k;h.translateX=-j}else if(l===d){i.translateY=k;h.translateY=j}else if(l===c){i.translateY=-k;h.translateY=-j}m.translate(i.translateX,i.translateY);if(!m.getFloated()){f.translate(h.translateX,h.translateY)}},onEdgeSwipeEnd:function(o){var j=this,f=j.sideForDirection(o.direction),n=j.getMenus()[e[o.direction]],g=j.reverseSwiping||o.distance<j.getSwipeThreshold(),i={translateX:0,translateY:0},h={translateX:0,translateY:0},p,m,l,k;if(!n){return}p=n.element.measure(f&(b|a)?'w':'h');m=o.flick?o.flick.velocity:0;if(f===a){if(m.x>0){g=!0}}else if(f===b){if(m.x<0){g=!0}}else if(f===d){if(m.y<0){g=!0}}else if(f===c){if(m.y>0){g=!0}}l=g?p:0;k=g?0:-p;if(f===b){i.translateX=-l;h.translateX=-k}else if(f===a){i.translateX=l;h.translateX=k}else if(f===d){i.translateY=-l;h.translateY=-k}else if(f===c){i.translateY=l;h.translateY=k}n.translate(i.translateX,i.translateY,{duration:200,callback:function(){if(g){n.setHidden(!0)}}});if(!n.getFloated()){j.translate(h.translateX,h.translateY,{duration:200})}j.$swiping=!1},sideForDirection:function(a){if(a==='up'){a='top'}else if(a==='down'){a='bottom'}return g[f[a]]},sideForSwipeDirection:function(a){if(a==='up'){return 'top'}if(a==='down'){return 'bottom'}return a},toggleWindowListener:function(d,b,c,a){if(d){this.addWindowListener(b,c,a)}else {this.removeWindowListener(b,c,a)}}}}},1,['viewport'],['widget','component','container','viewport'],{'widget':!0,'component':!0,'container':!0,'viewport':!0},['widget.viewport'],0,[Ext.viewport,'Default'],0);Ext.cmd.derive('Ext.viewport.Ios',Ext.viewport.Default,{isFullscreen:function(){return this.isHomeScreen()},isHomeScreen:function(){return window.navigator.standalone===!0},constructor:function(){Ext.viewport.Default.prototype.constructor.apply(this,arguments);document.documentElement.style.overflow='hidden'},maximize:function(){var b,c,d,a;if(this.isFullscreen()){return Ext.viewport.Default.prototype.maximize.call(this)}b=this.stretchHeights;c=this.getOrientation();d=this.getWindowHeight();a=b[c];if(window.scrollY>0){this.scrollToTop();if(!a){b[c]=a=this.getWindowHeight()}this.setHeight(a);this.fireMaximizeEvent()}else {if(!a){a=this.getScreenHeight()}this.setHeight(a);this.waitUntil(function(){this.scrollToTop();return d!==this.getWindowHeight()},function(){if(!b[c]){a=b[c]=this.getWindowHeight();this.setHeight(a)}this.fireMaximizeEvent()},function(){a=b[c]=this.getWindowHeight();this.setHeight(a);this.fireMaximizeEvent()},50,1000)}},getScreenHeight:function(){return window.screen[this.getOrientation()===this.PORTRAIT?'height':'width']},scrollToTop:function(){window.scrollTo(0,0)}},1,0,['widget','component','container','viewport'],{'widget':!0,'component':!0,'container':!0,'viewport':!0},0,0,[Ext.viewport,'Ios'],function(){if(!Ext.os.is.iOS){return}if(Ext.os.version.lt('3.2')){this.override({constructor:function(){var a=this.stretchHeights={};a[this.PORTRAIT]=416;a[this.LANDSCAPE]=268;return this.callOverridden(arguments)}})}if(Ext.os.version.lt('5')){this.override({fieldMaskClsTest:'-field-mask',doPreventZooming:function(b){var a=b.target;if(a&&a.nodeType===1&&!this.isInputRegex.test(a.tagName)&&a.className.indexOf(this.fieldMaskClsTest)===-1){b.preventDefault()}}})}if(Ext.os.is.iPad){this.override({isFullscreen:function(){return !0}})}if(Ext.os.version.gtEq('7')&&Ext.os.version.lt('8')){if(Ext.os.deviceType==='Tablet'||!Ext.browser.is.Safari||window.navigator.standalone){this.override({constructor:function(){var a={},b={},f=this.determineOrientation(),c=window.screen.height,d=window.screen.width,e=f===this.PORTRAIT?c-window.innerHeight:d-window.innerHeight;a[this.PORTRAIT]=c-e;a[this.LANDSCAPE]=d-e;b[this.PORTRAIT]=d;b[this.LANDSCAPE]=c;this.stretchHeights=a;this.stretchWidths=b;this.callOverridden(arguments);this.on('ready',this.setViewportSizeToAbsolute,this);this.on('orientationchange',this.setViewportSizeToAbsolute,this)},getWindowHeight:function(){return this.stretchHeights[this.getOrientation()]},getWindowWidth:function(){return this.stretchWidths[this.getOrientation()]},setViewportSizeToAbsolute:function(){this.setWidth(this.getWindowWidth());this.setHeight(this.getWindowHeight())}})}if(Ext.os.deviceType==='Tablet'){this.override({constructor:function(){this.callOverridden(arguments);window.addEventListener('scroll',function(){if(window.scrollX!==0){window.scrollTo(0,window.scrollY)}},!1)},setViewportSizeToAbsolute:function(){window.scrollTo(0,0);this.callOverridden(arguments)},onElementBlur:function(){this.callOverridden(arguments);if(window.scrollY!==0){window.scrollTo(0,0)}}})}}});Ext.cmd.derive('Ext.viewport.Android',Ext.viewport.Default,{config:{translatable:{type:'csstransform'}},preventPullRefresh:!0,constructor:function(){var a=this;Ext.viewport.Default.prototype.constructor.apply(this,arguments);a.on({orientationchange:'hideKeyboardIfNeeded',scope:a,priority:1001});if(a.preventPullRefresh){Ext.getBody().setStyle({overflow:'hidden'})}},getWindowWidth:function(){return this.element.getWidth()},getWindowHeight:function(){return this.element.getHeight()},getDummyInput:function(){var a=this.dummyInput,c=this.focusedElement,b=Ext.fly(c).getBox();if(!a){this.dummyInput=a=document.createElement('input');a.style.position='absolute';a.style.opacity='0';a.style.pointerEvents='none';document.body.appendChild(a)}a.style.left=b.left+'px';a.style.top=b.top+'px';a.style.display='';return a},doBlurInput:function(d){var c=d.target,b=this.focusedElement,a;if(b&&!this.isInputRegex.test(c.tagName)){a=this.getDummyInput();delete this.focusedElement;a.focus();Ext.defer(function(){a.style.display='none'},100)}},hideKeyboardIfNeeded:function(){var a=this.focusedElement;if(a){delete this.focusedElement;if(Ext.os.version.lt('4')){a.style.display='none'}else {a.blur()}Ext.defer(function(){a.style.display=''},1000)}},doFireOrientationChangeEvent:function(){this.orientationChanging=!0;this.waitUntil(function(){return this.getWindowOuterHeight()!==this.windowOuterHeight},function(){this.windowOuterHeight=this.getWindowOuterHeight();this.updateSize();this.orientationChanging=!1},function(){});return this},getActualWindowOuterHeight:function(){return Math.round(this.getWindowOuterHeight()/window.devicePixelRatio)},maximize:function(){var c=this.stretchHeights,d=this.orientation,b,a;a=c[d];if(!a){c[d]=a=this.getActualWindowOuterHeight()}if(!this.addressBarHeight){this.addressBarHeight=a-this.getWindowHeight()}this.setHeight(a);b=this.isHeightMaximized.bind(this,a);this.scrollToTop();this.waitUntil(b,this.fireMaximizeEvent,this.fireMaximizeEvent)},isHeightMaximized:function(a){this.scrollToTop();return this.getWindowHeight()===a},doPreventZooming:function(b){var a;if('button' in b&&b.button!==0){return}a=b.target;if(a&&a.nodeType===1&&!this.isInputRegex.test(a.tagName)&&!this.focusedElement){b.preventDefault()}}},1,0,['widget','component','container','viewport'],{'widget':!0,'component':!0,'container':!0,'viewport':!0},0,0,[Ext.viewport,'Android'],function(){var a,b,c;if(!Ext.os.is.Android){return}a=Ext.os.version;b=Ext.browser.userAgent;c=/(htc|desire|incredible|ADR6300)/i.test(b)&&a.lt('2.3');if(c){this.override({constructor:function(a){if(!a){a={}}a.autoMaximize=!1;this.watchDogTick=this.watchDogTick.bind(this);Ext.interval(this.watchDogTick,1000);return this.callParent([a])},watchDogTick:function(){this.watchDogLastTick=Ext.Date.now()},doPreventPanning:function(){var c=Ext.Date.now(),b=this.watchDogLastTick,a=c-b;if(a>=2000){return}return this.callParent(arguments)},doPreventZooming:function(){var c=Ext.Date.now(),b=this.watchDogLastTick,a=c-b;if(a>=2000){return}return this.callParent(arguments)}})}if(a.match('2')){this.override({onReady:function(){this.addWindowListener('resize',this.onWindowResize.bind(this));this.callParent(arguments)},scrollToTop:function(){document.body.scrollTop=100},onWindowResize:function(){var c=this.windowWidth,a=this.windowHeight,d=this.getWindowWidth(),b=this.getWindowHeight();if(this.getAutoMaximize()&&!this.isMaximizing&&!this.orientationChanging&&window.scrollY===0&&c===d&&b<a&&(b>=a-this.addressBarHeight||!this.focusedElement)){this.scrollToTop()}}})}else if(a.gtEq('3.1')){this.override({isHeightMaximized:function(a){this.scrollToTop();return this.getWindowHeight()===a-1}})}else if(a.match('3')){this.override({isHeightMaximized:function(){this.scrollToTop();return !0}})}if(a.gtEq('4')){this.override({doBlurInput:Ext.emptyFn})}});Ext.cmd.derive('Ext.viewport.WindowsPhone',Ext.viewport.Default,{alternateClassName:'Ext.viewport.WP',config:{translatable:{type:'csstransform'}},initialize:function(){var a=function(c){var b=c.srcElement.nodeName.toUpperCase(),a=['INPUT','TEXTAREA'];if(a.indexOf(b)===-1){return !1}};document.body.addEventListener('onselectstart',a);this.addMeta('msapplication-tap-highlight','no');Ext.viewport.Default.prototype.initialize.call(this)},supportsOrientation:function(){return !1},onWindowResize:function(b,a){Ext.viewport.Default.prototype.onWindowResize.call(this,b,a);this.waitUntil(function(){var f=this.windowWidth,e=this.windowHeight,h=this.getWindowWidth(),g=this.getWindowHeight(),c=this.getOrientation(),d=this.determineOrientation();return f!==h&&e!==g&&c!==d},function(){var c=this.getOrientation(),d=this.determineOrientation();this.fireOrientationChangeEvent(d,c)},Ext.emptyFn,250)}},0,0,['widget','component','container','viewport'],{'widget':!0,'component':!0,'container':!0,'viewport':!0},0,0,[Ext.viewport,'WindowsPhone',Ext.viewport,'WP'],0);Ext.cmd.derive('Ext.viewport.Viewport',Ext.Base,{singleton:!0,setup:function(b){var c=Ext.os.name,a;switch(c){case 'Android':a=Ext.browser.name==='ChromeMobile'?'Default':'Android';break;case 'iOS':a='Ios';break;case 'Windows':a=Ext.browser.name==='IE'?'WindowsPhone':'Default';break;case 'WindowsPhone':a='WindowsPhone';break;default:a='Default';break;}return Ext.Viewport=Ext.create('Ext.viewport.'+a,b)}},0,0,0,0,0,0,[Ext.viewport,'Viewport'],0);Ext.define('Ext.overrides.app.Application',{override:'Ext.app.Application',config:{viewport:null},quickTips:!1,destroy:function(){this.setQuickTips(!1);(arguments.callee.$previous||Ext.app.Controller.prototype.destroy).call(this)},initMainView:function(){var c=this,b=c.viewport=Ext.Viewport,a;arguments.callee.$previous.call(this);a=c.getMainView();b.onAppLaunch();if(a){b.add(a)}},applyQuickTips:function(a){a=a||null;if(a){if(a===!0){a={}}a=new Ext.tip['Manager'](a)}return a},updateQuickTips:function(b,a){if(a){a.destroy()}}});Ext.cmd.derive('Ext.app.Profile',Ext.Base,{isProfile:!0,config:{mainView:{$value:null,lazy:!0},application:null,controllers:[],models:[],views:[],stores:[]},constructor:function(a){this.initConfig(a);this.mixins.observable.constructor.apply(this,arguments)},isActive:function(){return !1},init:function(){var a=this.getViews(),b;if(a&&!(a instanceof Array)){for(b in a){Ext.ClassManager.setXType(a[b],b)}}},launch:Ext.emptyFn,onClassExtended:function(d,c,a){var b=a.onBeforeCreated;a.onBeforeCreated=function(j,f){var h=Ext.app.Controller,m=j.$className,g=[],k=j.prototype,l=f.views,e,i;e=f.name;if(e){delete f.name}else {e=m.split('.');e=e[e.length-1]}j._name=e;j._namespace=e=(f.namespace||e).toLowerCase();delete f.namespace;i=h.resolveNamespace(j,f);h.processDependencies(k,g,i,'model',f.models,e);h.processDependencies(k,g,i,'store',f.stores,e);h.processDependencies(k,g,i,'controller',f.controllers,e);if(l){if(l instanceof Array){h.processDependencies(k,g,i,'view',l,e)}else {Ext.app.Profile.processViews(m,l,g)}}Ext.require(g,Ext.Function.pass(b,arguments,this))}},getName:function(){return this.self._name},getNamespace:function(){return this.self._namespace},privates:{statics:{processViews:function(f,c,g){var d,a,e,b;for(b in c){a=c[b];if(typeof a!=='string'){e=a.xclass;d=Ext.apply({extend:e},a);delete d.xclass;Ext.define(c[b]=f+'$'+b,d);a=e}g.push(a)}}}}},1,0,0,0,0,[[Ext.mixin.Observable.prototype.mixinId||Ext.mixin.Observable.$className,Ext.mixin.Observable]],[Ext.app,'Profile'],0);Ext.cmd.derive('Ext.app.domain.View',Ext.app.EventDomain,{isInstance:!0,constructor:function(a){Ext.app.EventDomain.prototype.constructor.call(this,a);this.controller=a;this.monitoredClasses=[Ext.Widget]},match:function(c,b,d){var a=!1;if(b==='#'){a=d===c.getController()}else {a=c.is(b)}return a},destroy:function(){this.controller=null;Ext.app.EventDomain.prototype.destroy.call(this)}},1,0,0,0,0,0,[Ext.app.domain,'View'],0);Ext.cmd.derive('Ext.app.ViewController',Ext.app.BaseController,{isViewController:!0,factoryConfig:{type:'controller'},config:{bindings:{$value:null,lazy:!0},closeViewAction:'destroy'},view:null,constructor:function(a){this.compDomain=new Ext.app.domain.View(this);Ext.app.BaseController.prototype.constructor.call(this,a)},beforeInit:Ext.emptyFn,init:Ext.emptyFn,initViewModel:Ext.emptyFn,destroy:function(){var a=this,b=a.compDomain,c,d,e;if(a.$hasBinds){c=a.getBindings();for(e in c){d=c[e];if(d){d.destroy()}}}if(b){b.unlisten(a);b.destroy()}a.compDomain=a.view=null;Ext.app.BaseController.prototype.destroy.call(this)},closeView:function(){var b=this.getView(),a;if(b){a=this.getCloseViewAction();b[a]()}},control:function(a,c){var b=a;if(Ext.isString(a)){b={};b[a]=c}this.compDomain.listen(b,this)},listen:function(a,c){var b=a.component;if(b){a=Ext.apply({},a);delete a.component;this.control(b)}this.callParent([a,c])},applyId:function(a){if(!a){a=Ext.id(null,'controller-')}return a},getReferences:function(){var a=this.view;return a&&a.getReferences()},getView:function(){return this.view},lookup:function(b){var a=this.view;return a&&a.lookup(b)},lookupReference:function(a){return this.lookup(a)},getSession:function(){var a=this.view;return a&&a.lookupSession()},getViewModel:function(){var a=this.view;return a&&a.lookupViewModel()},getStore:function(b){var a=this.getViewModel();return a?a.getStore(b):null},fireViewEvent:function(e,d){var a=this.view,c=!1,b=arguments;if(a){if(a!==d){b=Ext.Array.slice(b);b.splice(1,0,a)}c=a.fireEvent.apply(a,b)}return c},applyBindings:function(a){if(!a){return null}var c=this,g=c.getViewModel(),f=c.getBindTemplateScope(),d,b,e;c.$hasBinds=!0;for(b in a){e=a[b];d=null;if(e){d=g.bind(e,b,c);d.getTemplateScope=f}a[b]=d}return a},privates:{view:null,attachReference:function(b){var a=this.view;if(a){a.attachReference(b)}},getBindTemplateScope:function(){return this.scope},initBindings:function(){this.getBindings()},setView:function(a){this.view=a;if(!this.beforeInit.$nullFn){this.beforeInit(a)}}}},1,0,0,0,['controller.controller'],[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.app,'ViewController'],0);Ext.cmd.derive('Ext.util.Scheduler',Ext.Base,{busyCounter:0,lastBusyCounter:0,destroyed:!1,firing:null,notifyIndex:-1,nextId:0,orderedItems:null,passes:0,scheduledCount:0,validIdRe:null,config:{cycleLimit:5,preSort:null,tickDelay:5},suspendOnNotify:!0,constructor:function(a){this.mixins.observable.constructor.call(this,a);this.items=new Ext.util.Bag()},destroy:function(){var a=this,b=a.timer;if(b){window.clearTimeout(b);a.timer=null}a.items.destroy();a.items=a.orderedItems=null;a.callParent()},add:function(c){var a=this,b=a.items;if(b===a.firing){a.items=b=b.clone()}c.id=c.id||++a.nextId;c.scheduler=a;b.add(c);if(!a.sortMap){a.orderedItems=null}},remove:function(c){var a=this,b=a.items;if(a.destroyed){return}if(b===a.firing){a.items=b=b.clone()}if(c.scheduled){a.unscheduleItem(c);c.scheduled=!1}b.remove(c);a.orderedItems=null},sort:function(){var a=this,b=a.items,f={},e=a.getPreSort(),c,d;a.orderedItems=[];a.sortMap=f;if(e){b.sort(e)}b=b.items;for(c=0;c<b.length;++c){d=b[c];if(!f[d.id]){a.sortItem(d)}}a.sortMap=null},sortItem:function(a){var b=this,d=b.sortMap,e=b.orderedItems,c;if(!a.scheduler){b.add(a)}c=a.id;if(!(c in d)){d[c]=0;if(!a.sort.$nullFn){a.sort()}d[c]=1;a.order=b.orderedItems.length;e.push(a)}return b},sortItems:function(a){var b=this,c=b.sortItem;if(a){if(a instanceof Array){Ext.each(a,c,b)}else {Ext.Object.eachValue(a,c,b)}}return b},applyPreSort:function(e){if(typeof e==='function'){return e}var b=e.split(','),d=[],g=b.length,c,a,f;for(a=0;a<g;++a){d[a]=1;f=b[a];if((c=f.charAt(0))==='-'){d[a]=-1}else if(c!=='+'){c=0}if(c){b[a]=f.substring(1)}}return function(j,k){var f=0,a,c,h,i;for(a=0;!f&&a<g;++a){c=b[a];h=j[c];i=k[c];f=d[a]*(h<i?-1:i<h?1:0)}return f}},notify:function(){var a=this,k=a.timer,h=a.getCycleLimit(),f=Ext.GlobalEvents,j=a.suspendOnNotify,g,b,d,e,c,i;if(k){window.clearTimeout(k);a.timer=null}if(!a.firing&&a.scheduledCount){if(j){Ext.suspendLayouts()}while(a.scheduledCount){if(h){--h}else {a.firing=null;break}if(!i){i=!0;if(f.hasListeners.beforebindnotify){f.fireEvent('beforebindnotify',a)}}++a.passes;if(!(c=a.orderedItems)){a.sort();c=a.orderedItems}e=c.length;if(e){a.firing=a.items;for(b=0;b<e;++b){d=c[b];if(d.scheduled){d.scheduled=!1;--a.scheduledCount;a.notifyIndex=b;d.react();if(!a.scheduledCount){break}}}}}a.firing=null;a.notifyIndex=-1;if(j){Ext.resumeLayouts(!0)}}if((g=a.busyCounter)!==a.lastBusyCounter){if(!(a.lastBusyCounter=g)){a.fireEvent('idle',a)}}},onTick:function(){this.timer=null;this.notify()},scheduleItem:function(b){var a=this;++a.scheduledCount;if(!a.timer&&!a.firing){a.scheduleTick()}},scheduleTick:function(){var a=this;if(!a.destroyed&&!a.timer){a.timer=Ext.defer(a.onTick,a.getTickDelay(),a)}},unscheduleItem:function(a){if(this.scheduledCount){--this.scheduledCount}},adjustBusy:function(c){var a=this,b=a.busyCounter+c;a.busyCounter=b;if(b){if(!a.lastBusyCounter){a.lastBusyCounter=b;a.fireEvent('busy',a)}}else if(a.lastBusyCounter&&!a.timer){a.scheduleTick()}},isBusy:function(){return !this.isIdle()},isIdle:function(){return !(this.busyCounter+this.lastBusyCounter)}},1,0,0,0,0,[[Ext.mixin.Observable.prototype.mixinId||Ext.mixin.Observable.$className,Ext.mixin.Observable]],[Ext.util,'Scheduler'],0);Ext.cmd.derive('Ext.data.Batch',Ext.Base,{config:{pauseOnException:!1},current:-1,total:0,running:!1,complete:!1,exception:!1,constructor:function(b){var a=this;a.mixins.observable.constructor.call(a,b);a.operations=[];a.exceptions=[]},add:function(a){var b=this,c,d;if(Ext.isArray(a)){for(c=0,d=a.length;c<d;++c){b.add(a[c])}}else {b.total++;a.setBatch(b);b.operations.push(a)}return b},sort:function(){this.operations.sort(this.sortFn)},sortFn:function(b,e){var f=b.order-e.order;if(f){return f}var a=b.entityType,d=e.entityType,c;if(!a||!d){return 0}if(!(c=a.rank)){a.schema.rankEntities();c=a.rank}return (c-d.rank)*b.foreignKeyDirection},start:function(b){var a=this;if(a.destroyed||!a.operations.length||a.running){return a}a.exceptions.length=0;a.exception=!1;a.running=!0;return a.runOperation(Ext.isDefined(b)?b:a.current+1)},abort:function(){var a=this,b;if(a.running){b=a.getCurrent();if(!b.destroyed){b.abort()}}a.running=!1;a.aborted=!0;a.current=undefined},retry:function(){return this.start(this.current)},runNextOperation:function(){var a=this;if(a.running){a.runOperation(a.current+1)}return a},pause:function(){this.running=!1;return this},getOperations:function(){return this.operations},getExceptions:function(){return this.exceptions},getCurrent:function(){var b=null,a=this.current;if(!(a===-1||this.complete)){b=this.operations[a]}return b},getTotal:function(){return this.total},isRunning:function(){return this.running},isComplete:function(){return this.complete},hasException:function(){return this.exception},runOperation:function(d){var a=this,c=a.operations,b=c[d];if(b===undefined){a.running=!1;a.complete=!0;a.fireEvent('complete',a,c[c.length-1])}else {a.current=d;b.setInternalCallback(a.onOperationComplete);b.setInternalScope(a);b.execute()}return a},onOperationComplete:function(b){var a=this,c=b.hasException();if(c){a.exception=!0;a.exceptions.push(b);a.fireEvent('exception',a,b)}if(c&&a.getPauseOnException()){a.pause()}else {a.fireEvent('operationcomplete',a,b);a.runNextOperation()}},destroy:function(){var a=this,e=a.operations,b,c,d;if(a.running){a.abort()}for(c=0,d=a.operations.length;c<d;c++){b=e[c];if(b){if(!b.destroyed&&!b.$destroyOwner){b.destroy()}b[c]=null}}a.operations=a.exceptions=null;a.callParent()}},1,0,0,0,0,[['observable',Ext.mixin.Observable]],[Ext.data,'Batch'],0);Ext.cmd.derive('Ext.data.matrix.Slice',Ext.Base,{constructor:function(a,b){this.id=b;this.side=a;this.members={}},attach:function(b){var a=this;a.store=b;b.matrix=a;b.on('load',a.onStoreLoad,a,{single:!0})},commit:function(){var a=this.members,b;for(b in a){a[b][2]=0}},onStoreLoad:function(a){this.update(a.getData().items,0)},update:function(l,d){var e=this,p=Ext.data.matrix.Slice,o=e.side,q=o.index,r=l.length,i=e.id,k=e.members,m=o.inverse,g=m.slices,c,f,j,h,b,a,n;for(j=0;j<r;++j){f=n=null;h=l[j];b=h.isEntity?(n=h).id:h;c=k[b];if(d<0&&c&&c[2]===1){delete k[b];a=g[b];if(a){delete a.members[i]}f=1}else {if(!c){c=[b,b,d];c[q]=i;k[b]=c;a=g[b];if(!a){g[b]=a=new p(m,b)}a.members[i]=c;f=1}else if(d!==c[2]&&d!==0&&!(d===1&&c[2]===0)){c[2]=d;a=g[b];f=1}}if(f){if(e.notify){e.notify.call(e.scope,e,b,d)}if(a&&a.notify){a.notify.call(a.scope,a,i,d)}}}},updateId:function(b){var g=this,c=g.id,f=g.side,e=f.slices,j=e[c],h=j.members,l=f.index,k=f.inverse.slices,i,d,a;g.id=b;e[b]=j;delete e[c];for(d in h){i=h[d];i[l]=b;a=k[d].members;a[b]=a[c];delete a[c]}},destroy:function(){var a=this,b=a.store;if(b){b.matrix=null;b.un('load',a.onStoreLoad,a)}a.notify=a.scope=a.store=a.side=a.members=null;a.callParent()}},1,0,0,0,0,0,[Ext.data.matrix,'Slice'],0);Ext.cmd.derive('Ext.data.matrix.Side',Ext.Base,{constructor:function(b,c,d){var a=this;a.matrix=b;a.index=c;a.role=d;a.slices={}},commit:function(){var a=this.slices,b;for(b in a){a[b].commit()}},get:function(a,b){var e=this,c=e.slices,d=c[a]||(c[a]=new Ext.data.matrix.Slice(e,a));return b||b===0?d.members[b]:d},update:function(c,d,b){var a=this.get(c);return a.update(d,b)},updateId:function(c,b){var a=this.get(c);if(a){a.updateId(b)}},destroy:function(){var a=this,b=a.slices,c;for(c in b){b[c].destroy()}a.inverse=a.matrix=a.role=a.slices=null;a.callParent()}},1,0,0,0,0,0,[Ext.data.matrix,'Side'],0);Ext.cmd.derive('Ext.data.matrix.Matrix',Ext.Base,{constructor:function(f,c){var a=this,b=c.isManyToMany?c:f.getSchema().getAssociation(c),g=Ext.data.matrix.Side,e=new g(a,0,b.left),d=new g(a,1,b.right);a.association=b;a.session=f;a.left=e;a.right=d;e.inverse=d;d.inverse=e},commit:function(){this.left.commit();this.right.commit()},update:function(b,c,a){return this.left.update(b,c,a)},updateId:function(e,g,f){var c=e.self,d=this.left,b=this.right,a;if(c===d.role.cls){a=d}if(c===b.role.cls){a=b}if(a){a.updateId(g,f)}},destroy:function(){var a=this;a.left.destroy();a.right.destroy();a.association=a.session=a.left=a.right=null;a.callParent()}},1,0,0,0,0,0,[Ext.data.matrix,'Matrix'],0);Ext.cmd.derive('Ext.data.session.ChangesVisitor',Ext.Base,{constructor:function(c){var a=this,b;a.session=c;b=c.getCrudProperties();a.result=null;a.writerOptions={};a.createKey=b.create;a.readKey=b.read;a.updateKey=b.update;a.dropKey=b.drop},onDirtyRecord:function(b){var c=this,j=c.crud,h=b.phantom,f=b.dropped,m=b.$className,k=h||f?'allDataOptions':'partialDataOptions',d=c.writerOptions,l=b.entityName,a,e,g,i;if(h&&f){return !1}j=h?c.createKey:f?c.dropKey:c.updateKey;d=d[m]||(d[m]={});if(f){if(!(a=d.drop)){d.drop=a={all:b.getProxy().getWriter().getWriteAllFields()}}if(!a.all){g=b.id}}if(!g){if(!(a=d[k])){a=b.getProxy().getWriter().getConfig(k);d[k]=a=Ext.Object.chain(a);c.setupOptions(a)}g=b.getData(a)}i=c.result||(c.result={});e=i[l]||(i[l]={});e=e[j]||(e[j]=[]);e.push(g)},setupOptions:function(a){a.serialize=!0},onMatrixChange:function(d,h,j,i){var b=this,g=d.left.type,e=d.right.role,f=i<0?b.dropKey:b.createKey,a,c;c=b.result||(b.result={});a=c[g]||(c[g]={});a=a[e]||(a[e]={});a=a[f]||(a[f]={});a=a[h]||(a[h]=[]);a.push(j)}},1,0,0,0,0,0,[Ext.data.session,'ChangesVisitor'],0);Ext.cmd.derive('Ext.data.session.ChildChangesVisitor',Ext.data.session.ChangesVisitor,{constructor:function(){this.seen={};Ext.data.session.ChangesVisitor.prototype.constructor.apply(this,arguments)},setupOptions:function(a){Ext.data.session.ChangesVisitor.prototype.setupOptions.call(this,a);a.serialize=!1},onDirtyRecord:function(a){if(Ext.data.session.ChangesVisitor.prototype.onDirtyRecord.apply(this,arguments)!==!1){if(!a.$source&&(a.dropped||!a.phantom)){this.readEntity(a)}}},readEntity:function(b){var c=this,f=c.readKey,e=b.entityName,i=b.id,h=c.seen,g=e+i,d,a;if(h[g]){return}h[g]=!0;d=c.result||(c.result={});a=d[e]||(d[e]={});a=a[f]||(a[f]=[]);a.push(Ext.apply({},b.modified,b.data))}},1,0,0,0,0,0,[Ext.data.session,'ChildChangesVisitor'],0);Ext.cmd.derive('Ext.data.session.BatchVisitor',Ext.Base,{map:null,constructor:function(a){this.batch=a},getBatch:function(m){var i=this.map,a=this.batch,c,e,k,b,d,f,j,h,l,g;if(i){if(!a){a=new Ext.data.Batch()}for(k in i){c=i[k];e=c.entity;f=e.getProxy();j=f.getBatchActions();delete c.entity;for(d in c){if(j){b=f.createOperation(d,{records:c[d]});b.entityType=e;a.add(b)}else {h=c[d];for(g=0,l=h.length;g<l;++g){b=f.createOperation(d,{records:[h[g]]});b.entityType=e;a.add(b)}}}}}if(a&&m!==!1){a.sort()}return a},onDirtyRecord:function(a){var f=this,c=a.phantom?'create':a.dropped?'destroy':'update',d=a.$className,e=f.map||(f.map={}),b=e[d]||(e[d]={entity:a.self});b=b[c]||(b[c]=[]);b.push(a)}},1,0,0,0,0,0,[Ext.data.session,'BatchVisitor'],0);Ext.cmd.derive('Ext.mixin.Dirty',Ext.Base,{mixinId:'dirty',config:{dirty:{$value:!1,lazy:!0}},dirty:!1,_dirtyRecordCount:0,ignoreDirty:!1,recordStateIsDirtyState:!0,isDirty:function(){return this.getDirty()},applyDirty:function(a){return this.ignoreDirty?!1:a},updateDirty:function(b){var a=this;a.dirty=b;if(a.fireEvent&&!a.isDirtyInitializing){a.fireDirtyChange()}},clearRecordStates:function(){var b=this,a=b._crudCounters;if(a){a.C=a.U=a.D=0}b._dirtyRecordCount=0;if(b.recordStateIsDirtyState){b.setDirty(!1)}},fireDirtyChange:function(){var a=this;if(!a.ignoreDirty&&a.hasListeners.dirtychange){a.fireEvent('dirtychange',a,a.dirty)}},trackRecordState:function(f,h){var a=this,b=a._crudCounters||(a._crudCounters={C:0,R:0,U:0,D:0}),i=a._dirtyRecordCount,g=f.crudState,d=f.crudStateWas,e,c;if(h||g!==d){if(!h&&d){--b[d]}if(!(f.phantom&&g==='D')){++b[g]}a._dirtyRecordCount=c=b.C+b.U+b.D;e=!c!==!i;if(e&&a.recordStateIsDirtyState){a.setDirty(c>0)}}return e},untrackRecordState:function(e){var b=this,a=b._crudCounters,g=b._dirtyRecordCount,f=e.crudState,d,c;if(a&&f!=='D'&&!e.erased){--a[f];b._dirtyRecordCount=c=a.C+a.U+a.D;d=!c!==!g;if(d&&b.recordStateIsDirtyState){b.setDirty(c>0)}}return d}},0,0,0,0,0,0,[Ext.mixin,'Dirty'],0);Ext.cmd.derive('Ext.data.Session',Ext.Base,{isSession:!0,config:{schema:'default',parent:null,autoDestroy:!0,crudProperties:{create:'C',read:'R',update:'U',drop:'D'}},crudOperations:[{type:'R',entityMethod:'readEntities'},{type:'C',entityMethod:'createEntities'},{type:'U',entityMethod:'updateEntities'},{type:'D',entityMethod:'dropEntities'}],crudKeys:{C:1,R:1,U:1,D:1},statics:{nextId:1},constructor:function(b){var a=this;a.data={};a.matrices={};a.id=Ext.data.Session.nextId++;a.identifierCache={};a.recordCreator=a.recordCreator.bind(a);a.mixins.observable.constructor.call(a,b)},destroy:function(){var a=this,f=a.matrices,g=a.data,e,d,b,c;for(c in f){f[c].destroy()}for(e in g){d=g[e];for(c in d){b=d[c].record;if(b){b.$source=null;b.unjoin(a)}}}a.identifierCache=a.recordCreator=a.matrices=a.data=null;a.setSchema(null);a.callParent()},adopt:function(a){var c=this,b=a.associations,d;if(a.session!==c){c.add(a);if(b){for(d in b){b[d].adoptAssociated(a,c)}}}},commit:function(){var a=this,g=a.data,f=a.matrices,h=a.getDirty(),e,c,b,d;a.suspendEvent('dirtychange');for(e in g){c=g[e];for(b in c){d=c[b].record;if(d){d.commit()}}}for(b in f){f[b].commit()}a.clearRecordStates();a.resumeEvent('dirtychange');if(a.getDirty()!==h){a.fireDirtyChange()}},createRecord:function(c,b,f){var a=c.$isClass?c:this.getSchema().getEntity(c),e=this.getParent(),d;if(b&&e){d=a.getIdFromData(b);if(e.peekRecord(a,d)){Ext.raise('A parent session already contains an entry for '+a.entityName+': '+d)}}return new a(b,f?null:this)},getChanges:function(){var a=new Ext.data.session.ChangesVisitor(this);this.visitData(a);return a.result},getChangesForParent:function(){var a=new Ext.data.session.ChildChangesVisitor(this);this.visitData(a);return a.result},getRecord:function(b,f,g){var c=this,d=b.isModel,a,i,h,e;if(d){d=b;f=b.id;b=b.self}a=c.peekRecord(b,f);if(!a){i=b.$isClass?b:c.getSchema().getEntity(b);h=c.getParent();if(h){e=h.peekRecord(i,f)}if(e){if(e.isLoading()){d=!1}else {a=e.copy(undefined,c);a.$source=e}}if(!a){if(d){a=d;c.adopt(a)}else {a=i.createWithId(f,null,c);if(g!==!1){a.load(Ext.isObject(g)?g:undefined)}}}}return a},getSaveBatch:function(b){var a=new Ext.data.session.BatchVisitor();this.visitData(a);return a.getBatch(b)},onInvalidAssociationEntity:function(a,b){Ext.raise('Unable to read association entity: '+this.getModelIdentifier(a,b))},onInvalidEntityCreate:function(a,b){Ext.raise('Cannot create, record already not exists: '+this.getModelIdentifier(a,b))},onInvalidEntityDrop:function(a,b){Ext.raise('Cannot drop, record does not exist: '+this.getModelIdentifier(a,b))},onInvalidEntityRead:function(a,b){Ext.raise('Cannot read, record already not exists: '+this.getModelIdentifier(a,b))},onInvalidEntityUpdate:function(a,b,c){if(c){Ext.raise('Cannot update, record dropped: '+this.getModelIdentifier(a,b))}else {Ext.raise('Cannot update, record does not exist: '+this.getModelIdentifier(a,b))}},peekRecord:function(b,f,e){var h=b.$isClass?b:this.getSchema().getEntity(b),g=h.entityName,a=this.data[g],c,d;a=a&&a[f];c=a&&a.record;if(!c&&e){d=this.getParent();c=d&&d.peekRecord(b,f,e)}return c||null},save:function(){var a=this,c=a.getParent(),b;if(c){b=new Ext.data.session.ChildChangesVisitor(a);a.visitData(b);c.update(b.result);a.commit()}},spawn:function(){return new this.self({schema:this.getSchema(),parent:this})},update:function(e){var a=this,n=a.getSchema(),l=a.crudOperations,q=l.length,o=a.crudKeys,p=a.getDirty(),b,d,c,f,g,h,m,j,i,k;a.suspendEvent('dirtychange');a.getSchema().processKeyChecks(!0);for(b in e){d=n.getEntity(b);c=e[b];for(f=0;f<q;++f){g=l[f];h=c[g.type];if(h){a[g.entityMethod](d,h)}}}for(b in e){d=n.getEntity(b);m=d.associations;c=e[b];for(j in c){if(o[j]){continue}i=m[j];k=c[i.role];i.processUpdate(a,k)}}a.resumeEvent('dirtychange');if(a.getDirty()!==p){a.fireDirtyChange()}},afterCommit:function(a){this.trackRecordState(a)},afterDrop:function(a){this.trackRecordState(a)},afterEdit:function(a){this.trackRecordState(a)},afterErase:function(a){this.evict(a)},afterReject:function(a){this.trackRecordState(a)},privates:{add:function(a){var b=this,f=a.id,e=b.getEntry(a.self,f),c,d;a.session=b;e.record=a;b.trackRecordState(a,!0);b.registerReferences(a);c=a.associations;for(d in c){c[d].checkMembership(b,a)}},applySchema:function(a){return Ext.data.schema.Schema.get(a)},createEntities:function(b,g){var c=this,h=g.length,d,e,a,f;for(d=0;d<h;++d){e=g[d];f=b.getIdFromData(e);a=c.peekRecord(b,f);if(!a){a=c.createRecord(b,e,!0);a.phantom=!0;a.crudState='C';c.add(a);a.crudStateWas='C'}else {c.onInvalidEntityCreate(b,f)}}},dropEntities:function(c,d){var g=d.length,b,e,a,f;if(g){f=Ext.isObject(d[0])}for(b=0;b<g;++b){a=d[b];if(f){a=c.getIdFromData(a)}e=this.peekRecord(c,a);if(e){e.drop()}else {this.onInvalidEntityDrop(c,a)}}},evict:function(a){var c=this,e=a.entityName,b=c.data[e],d=a.id;if(b&&b[d]){c.untrackRecordState(a);a.unjoin(c);delete b[d]}},getEntityList:function(e,a){var g=a.length,b,d,c,f;for(b=0;b<g;++b){d=a[b];c=this.peekRecord(e,d);if(c){a[b]=c}else {f=!0;a[b]=null;this.onInvalidAssociationEntity(e,d)}}if(f){a=Ext.Array.clean(a)}return a},getEntry:function(a,c){if(a.isModel){c=a.getId();a=a.self}var f=a.$isClass?a:this.getSchema().getEntity(a),d=f.entityName,e=this.data,b;b=e[d]||(e[d]={});b=b[c]||(b[c]={});return b},getRefs:function(h,d,i){var a=this.getEntry(h),c=a&&a.refs&&a.refs[d.role],g=i&&this.getParent(),b,f,e;if(g){b=g.getRefs(h,d);if(b){for(f in b){e=b[f];if(!c||!c[f]){this.getRecord(e.self,e.id)}}c=a&&a.refs&&a.refs[d.role]}}return c||null},getIdentifier:function(c){var f=this.getParent(),d,b,e,a;if(f){a=f.getIdentifier(c)}else {d=this.identifierCache;b=c.identifier;e=b.getId()||c.entityName;a=d[e];if(!a){if(b.clone){a=b.clone({id:null})}else {a=b}d[e]=a}}return a},getMatrix:function(a,e){var d=a.isManyToMany?a.name:a,c=this.matrices,b;b=c[d];if(!b&&!e){b=c[d]=new Ext.data.matrix.Matrix(this,a)}return b||null},getMatrixSlice:function(a,d){var b=this.getMatrix(a.association),c=b[a.side];return c.get(d)},getModelIdentifier:function(a,b){return b+'@'+a.entityName},onIdChanged:function(a,b,l){var c=this,j=c.matrices,q=a.entityName,s=a.id,g=c.data[q],k=g[b],p=a.associations,h=k.refs,r=c._setNoRefs,d,i,m,n,e,f,o;delete g[b];g[l]=k;for(o in j){j[o].updateId(a,b,l)}if(h){for(e in h){f=h[e];n=p[e];d=n.association;if(!d.isManyToMany){i=d.field.name;for(m in f){f[m].set(i,s,r)}}}}c.registerReferences(a,b)},processManyBlock:function(f,e,d,i){var c=this,b,a,g,h;if(d){for(b in d){a=c.peekRecord(f,b);if(a){g=c.getEntityList(e.cls,d[b]);h=e.getAssociatedItem(a);c[i](e,h,a,g)}else {c.onInvalidAssociationEntity(f,b)}}}},processManyCreate:function(d,b,c,a){if(b){b.add(a)}else {c[d.getterName](null,null,a)}},processManyDrop:function(d,a,c,b){if(a){a.remove(b)}},processManyRead:function(d,b,c,a){if(b){b.setRecords(a)}else {c[d.getterName](null,null,a)}},readEntities:function(b,g){var c=this,h=g.length,d,e,a,f;for(d=0;d<h;++d){e=g[d];f=b.getIdFromData(e);a=c.peekRecord(b,f);if(!a){a=c.createRecord(b,e,!0)}else {c.onInvalidEntityRead(b,f)}a.phantom=!1;c.add(a)}},recordCreator:function(c,b){var d=this,e=b.getIdFromData(c),a=d.peekRecord(b,e,!0);if(!a){a=new b(c,d)}else {a=d.getRecord(b,e);a.mergeData(c)}return a},registerReferences:function(c,h){var k=c.entityName,n=c.id,l=c.data,m=h||h===0,g,e,d,j,a,i,b,f;j=(i=c.references).length;for(e=0;e<j;++e){a=i[e];d=l[a.name];if(d||d===0){a=a.reference;k=a.type;f=a.inverse.role;g=this.getEntry(a.cls,d);b=g.refs||(g.refs={});b=b[f]||(b[f]={});b[n]=c;if(m){delete b[h]}}}},updateEntities:function(c,d){var h=d.length,f,e,a,b,g;if(Ext.isArray(d)){for(f=0;f<h;++f){e=d[f];b=c.getIdFromData(e);a=this.peekRecord(c,b);if(a){a.set(e)}else {this.onInvalidEntityUpdate(c,b)}}}else {for(b in d){e=d[b];a=this.peekRecord(c,b);if(a&&!a.dropped){g=a.set(e)}else {this.onInvalidEntityUpdate(c,b,!!a)}}}},updateReference:function(h,j,b,c){var g=j.reference,f=g.type,d=g.inverse.role,i=h.id,e,a;if(c||c===0){a=this.getEntry(f,c).refs[d];delete a[i]}if(b||b===0){e=this.getEntry(f,b);a=e.refs||(e.refs={});a=a[d]||(a[d]={});a[i]=h}},visitData:function(b){var j=this,n=j.data,k=j.matrices,i,l,d,o,f,e,c,a,m,g,h;j.getSchema().processKeyChecks(!0);for(c in n){i=n[c];for(d in i){a=i[d].record;if(a){if(a.phantom||a.dirty||a.dropped){if(b.onDirtyRecord){b.onDirtyRecord(a)}}else if(b.onCleanRecord){b.onCleanRecord(a)}}}}if(b.onMatrixChange){for(c in k){f=k[c].left;g=f.slices;l=f.role.association;for(d in g){m=g[d];e=m.members;for(o in e){h=(a=e[o])[2];if(h){b.onMatrixChange(l,a[0],a[1],h)}}}}}return b},_setNoRefs:{refs:!1}}},1,0,0,0,0,[[Ext.mixin.Dirty.prototype.mixinId||Ext.mixin.Dirty.$className,Ext.mixin.Dirty],[Ext.mixin.Observable.prototype.mixinId||Ext.mixin.Observable.$className,Ext.mixin.Observable]],[Ext.data,'Session'],0);Ext.cmd.derive('Ext.util.Schedulable',Ext.Base,{'abstract':!0,isSchedulable:!0,scheduled:!1,constructor:function(){this.getScheduler().add(this)},destroy:function(){var a=this,b=a.getScheduler();if(b&&!b.destroyed){b.remove(a)}a.scheduler=null;a.schedule=a.react=Ext.emptyFn;a.callParent()},getFullName:function(){return this.name||this.id},privates:{getScheduler:function(){return this.scheduler},schedule:function(){var a=this,b;if(!a.scheduled){b=a.getScheduler();if(b){a.scheduled=!0;if(a.onSchedule){a.onSchedule()}b.scheduleItem(a)}}},unschedule:function(){var b=this,a;if(b.scheduled){a=b.getScheduler();if(a&&!a.destroyed){a.unscheduleItem(b)}b.scheduled=!1}},sort:function(){}}},1,0,0,0,0,0,[Ext.util,'Schedulable'],0);Ext.cmd.derive('Ext.app.bind.BaseBinding',Ext.util.Schedulable,{isBinding:!0,calls:0,kind:20,defaultOptions:{},lastValue:undefined,constructor:function(d,c,e,b){var a=this;a.options=b;a.owner=d;a.scope=e;a.callback=c;a.lateBound=Ext.isString(c);if(b&&b.deep){a.deep=!0}Ext.util.Schedulable.prototype.constructor.call(this)},destroy:function(){var a=this,b=a.owner;if(b){b.onBindDestroy(a)}Ext.util.Schedulable.prototype.destroy.call(this);a.scope=a.callback=a.owner=null},isReadOnly:function(){return !0},privates:{getScheduler:function(){var a=this.owner;return a&&a.getScheduler()},getSession:function(){var a=this.owner;return a.isSession?a:a.getSession()},notify:function(b){var a=this,d=a.options||a.defaultOptions,c=a.lastValue;if(!a.calls||a.deep||a.valueChanged(b,c)){++a.calls;a.lastValue=b;if(a.lateBound){a.scope[a.callback](b,c,a)}else {a.callback.call(a.scope,b,c,a)}if(d.single){a.destroy()}}},valueChanged:function(a,b){var c=!0;if(b!==a){if(a&&b&&a instanceof Date&&b instanceof Date){c=a.getTime()!==b.getTime()}}else {c=Ext.isArray(a)}return c}}},1,0,0,0,0,0,[Ext.app.bind,'BaseBinding'],0);Ext.cmd.derive('Ext.app.bind.Binding',Ext.app.bind.BaseBinding,{constructor:function(a,c,e,d){var b=this;Ext.app.bind.BaseBinding.prototype.constructor.call(this,a.owner,c,e,d);b.stub=a;b.depth=a.depth;if(a.isAvailable()&&!a.scheduled){b.schedule()}},destroy:function(c){var a=this,b=a.stub;if(b&&!c){b.unbind(a);a.stub=null}Ext.app.bind.BaseBinding.prototype.destroy.call(this)},bindValidation:function(b,c){var a=this.stub;return a&&a.bindValidation(b,c)},bindValidationField:function(b,c){var a=this.stub;return a&&a.bindValidationField(b,c)},getFullName:function(){return this.fullName||(this.fullName='@('+this.stub.getFullName()+')')},getValue:function(){var b=this,a=b.stub;return a&&a.getValue()},isAvailable:function(){var a=this.stub;return a&&a.isAvailable()},isLoading:function(){var a=this.stub;return a&&a.isLoading()},isReadOnly:function(){var b=this.stub,a=this.options,c=!0;if(!(a&&a.twoWay===!1)){if(b){c=b.isReadOnly()}}return c},refresh:function(){},setValue:function(a){this.stub.set(a)},privates:{getDataObject:function(){var a=this.stub;return a&&a.getDataObject()},getRawValue:function(){var b=this,a=b.stub;return a&&a.getRawValue()},isDescendantOf:function(b){var a=this.stub;return a?b===a||a.isDescendantOf(b):!1},react:function(){this.notify(this.getValue())},schedule:function(){if(!this.stub.scheduled){Ext.app.bind.BaseBinding.prototype.schedule.call(this)}},sort:function(){var a=this.stub;a.scheduler.sortItem(a)}}},1,0,0,0,0,0,[Ext.app.bind,'Binding'],0);Ext.cmd.derive('Ext.app.bind.AbstractStub',Ext.util.Schedulable,{children:null,depth:0,generation:1,kind:10,parent:null,constructor:function(b,c){var a=this;a.owner=b;a.name=c;Ext.util.Schedulable.prototype.constructor.call(this)},destroy:function(){var a=this,d=a.children,c=a.bindings,f,b,e;if(c){for(b=0,f=c.length;b<f;++b){c[b].destroy(!0)}}for(e in d){d[e].destroy()}if(a.scheduled){a.unschedule()}Ext.util.Schedulable.prototype.destroy.call(this)},add:function(a){var b=this;(b.children||(b.children={}))[a.name]=a;a.depth=b.depth+1;a.parent=b},getChild:function(b){var a=Ext.isString(b)?b.split('.'):b;if(a&&a.length){return this.descend(a,0)}return this},getFullName:function(){var b=this,a=b.fullName,d=b.parent,c;if(!a){a=b.name||b.id;if(d&&(c=d.getFullName())){a=(c.charAt(c.length-1)!==':'?c+'.':c)+a}b.fullName=a}return a},getSession:function(){var a=this.owner;return a.isSession?a:a.getSession()},bind:function(d,f,e){var a=this,b=new Ext.app.bind.Binding(a,d,f,e),c=a.bindings||(a.bindings=[]);b.depth=a.depth;c.push(b);return b},getValue:function(){return this.isAvailable()?this.getRawValue():null},graft:function(b){var a=this,c=a.bindings,e=a.name,d;a.parent=a.bindings=null;a.destroy();b.depth=a.depth;b.bindings=c;b.generation=a.generation+1;b.name=e;b.id=a.id;b.path=a.path;if(c){for(d=c.length;d-->0;){c[d].stub=b}}return b},isDescendantOf:function(b){var a;for(a=this;a=a.parent;){if(a===b){return !0}}return !1},isAvailable:function(){return !0},isLoading:function(){return !1},onSchedule:function(){var d,e,c,b,a;for(a=this.parent;a;a=a.parent){b=a.bindings;if(b){for(d=0,e=b.length;d<e;++d){c=b[d];if(c.deep&&!c.scheduled){c.schedule()}}}}},react:function(){var b=this.bindings,c,a,d;if(b){for(a=0,d=b.length;a<d;++a){c=b[a];if(!c.scheduled){c.schedule()}}}},unbind:function(b){var a=this.bindings;if(a&&a.length){Ext.Array.remove(a,b)}},privates:{collect:function(){var a=this.children,f=this.bindings,b=0,d=0,c,e;if(a){for(e in a){c=a[e];d=c.collect();if(d===0){c.destroy();delete a[e]}b+=d}}if(f){b+=f.length}return b},getScheduler:function(){var a=this.owner;return a&&a.getScheduler()},sort:function(){var a=this.parent;if(a){this.scheduler.sortItem(a)}}}},1,0,0,0,0,0,[Ext.app.bind,'AbstractStub'],0);Ext.cmd.derive('Ext.app.bind.Stub',Ext.app.bind.AbstractStub,{isStub:!0,dirty:!0,formula:null,validationKey:'validation',constructor:function(e,c,a){var b=this,d=c;Ext.app.bind.AbstractStub.prototype.constructor.call(this,e,c);b.boundValue=null;if(a){a.add(b);if(!a.isRootStub){d=a.path+'.'+c}b.checkHadValue()}b.path=d},destroy:function(){var a=this,c=a.formula,b=a.storeBinding;if(c){c.destroy()}if(b){b.destroy()}a.detachBound();Ext.app.bind.AbstractStub.prototype.destroy.call(this)},bindValidation:function(b,c){var a=this.parent;return a&&a.descend([this.validationKey,this.name]).bind(b,c)},bindValidationField:function(a,c){var b=this.parent,f=this.name,e=typeof a==='string',d;if(b){d=b.bind(function(b){var d=null;if(b&&b.isModel){d=b.getField(f)}if(e){c[a](d,b,this)}else {a.call(c,d,b,this)}})}return d||null},descend:function(c,g){var b=this,f=b.children||(b.children={}),d=g||0,e=c[d++],a;if(!(a=f[e])){a=new Ext.app.bind.Stub(b.owner,e,b)}if(d<c.length){a=a.descend(c,d)}return a},getChildValue:function(b){var d=this,c=d.name,g=d.bindMappings,f=g.store,e=g.model,a;if(!b&&!Ext.isString(b)){a=d.hadValue?null:undefined}else {a=d.inspectValue(b);if(!a){if(b.isEntity){if(e[c]){a=b[e[c]]()}else {a=b.data[c]}}else if(b.isStore&&f[c]){a=b[f[c]]()}else {a=b[c];if(a===undefined&&d.hadValue){a=null}}}}return a},getDataObject:function(){var d=this,a=d.parent.getDataObject(),c=d.name,b=a?a[c]:null,f=d.bindMappings.store,e;if(!b){if(a&&a.isEntity){e=a.associations;if(e&&c in e){b=a[e[c].getterName]()}}}else if(a.isStore&&c in f){b=a[f[c]]()}if(!b||!(b.$className||Ext.isObject(b))){a[c]=b={};d.hadValue=!0;d.invalidate(!0,!0)}return b},getRawValue:function(){return this.getChildValue(this.getParentValue())},graft:function(a){var c=this,d=c.parent,b=c.children,g=c.name,f,e;a.parent=d;a.children=b;if(d){d.children[g]=a}if(b){for(f in b){b[f].parent=a}}c.children=null;a.checkHadValue();e=Ext.app.bind.AbstractStub.prototype.graft.call(this,a);e.invalidate(!0,!0);return e},isAvailable:function(){return this.checkAvailability()},isLoading:function(){return !this.checkAvailability(!0)},invalidate:function(d,c){var a=this,b=a.children,e;a.dirty=!0;a.checkHadValue();if(!c&&a.isAvailable()){if(!a.scheduled){a.schedule()}}if(d&&b){for(e in b){b[e].invalidate(d,c)}}},isReadOnly:function(){var a=this.formula;return !!(a&&!a.set)},set:function(b,j){var c=this,k=c.parent,e=c.name,d=c.formula,a,f,i,g,h;if(d&&!d.settingValue&&d.set){d.setValue(b);return}else if(c.isLinkStub){g=c.getLinkFormulaStub();d=g?g.formula:null;if(d){d.setValue(b);return}}a=k.getDataObject();if(a.isEntity){f=a.associations;if(f&&e in f){i=f[e];h=i.setterName;if(h){a[h](b)}c.invalidate(!0)}else {a.set(e,b)}}else if(b&&b.constructor===Object||!(b===a[e]&&a.hasOwnProperty(e))){if(j||!c.setByLink(b)){if(b===undefined){delete a[e]}else {a[e]=b}c.inspectValue(a);c.invalidate(!0)}}},onStoreDataChanged:function(){this.invalidate(!0)},afterLoad:function(a){this.invalidate(!0)},afterCommit:function(a){this.afterEdit(a,null)},afterEdit:function(i,f){var b=this.children,j=f&&f.length,h=i.associations,k=this.bindMappings.model,d,e,a,g,c;if(b){if(j){for(e=0;e<j;++e){g=f[e];a=b[g];if(!a){c=i.fieldsMap[g];c=c&&c.reference;a=c&&b[c.role]}if(a){a.invalidate(!0)}}}else {for(d in b){if(!(h&&d in h)){b[d].invalidate(!0)}}}for(d in k){a=b[d];if(a){a.invalidate()}}}this.invalidate()},afterReject:function(a){this.afterEdit(a,null)},afterAssociatedRecordSet:function(e,d,c){var a=this.children,b=c.role;if(a&&b in a){a[b].invalidate(!0)}},setByLink:function(j){var i=this,g=0,h=!1,f,b,c,a,e,d;for(a=i;a;a=a.parent){if(a.isLinkStub){b=a;if(g){for(c=[],f=0,a=i;a!==b;a=a.parent){++f;c[g-f]=a.name}}break}++g}a=null;if(b){e=b.parent;d=b.name;if(!e.shouldClimb(d)){a=e.insertChild(d)}else {a=b.getTargetStub()}}if(a){if(c){a=a.descend(c)}a.set(j);h=!0}return h},setFormula:function(c){var a=this,b=a.formula;if(b){b.destroy()}a.formula=new Ext.app.bind.Formula(a,c)},react:function(){var b=this,a=this.boundValue,d=b.children,c;if(a){if(a.isValidation){a.refresh();c=a.generation;if(b.lastValidationGeneration===c){return}b.lastValidationGeneration=c}else if(a.isModel){if(d&&d[b.validationKey]){a.isValid()}}}Ext.app.bind.AbstractStub.prototype.react.call(this)},privates:{bindMappings:{store:{count:'getCount',first:'first',last:'last',loading:'hasPendingLoad',totalCount:'getTotalCount'},model:{dirty:'isDirty',phantom:'isPhantom',valid:'isValid'}},checkAvailability:function(j){var b=this,f=b.parent,i=b.bindMappings,g=b.name,a=!!(f&&f.checkAvailability(j)),h,c,d,e;if(a){c=b.getParentValue();d=b.inspectValue(c);if(d){if(j){a=!d.hasPendingLoad()}else {if(d.isStore){a=!0}else {a=!d.isLoading()||d.loadCount>0}}}else {if(c){if(c.isModel){if(i.model[g]){a=!f.isLoading();e=!0}else {h=c.associations;if(!(h&&g in h)){a=!0;e=!0}}}else if(c.isStore&&i.store[g]&&g!=='loading'){a=!f.isLoading();e=!0}}if(!e){a=b.hadValue||b.getRawValue()!==undefined}}}return a},checkHadValue:function(){if(!this.hadValue){this.hadValue=this.getRawValue()!==undefined}},collect:function(){var a=this,d=Ext.app.bind.AbstractStub.prototype.collect.call(this),b=a.storeBinding?1:0,c=a.formula?1:0;return d+b+c},getLinkFormulaStub:function(){var a=this;while(a.isLinkStub){a=a.binding.stub}return a.formula?a:null},getParentValue:function(){var a=this;if(a.dirty){a.parentValue=a.parent.getValue();a.dirty=!1}return a.parentValue},setStore:function(a){this.storeBinding=a},inspectValue:function(c){var b=this,f=b.name,i=b.boundValue,a=null,e,d,h,g;if(c&&c.isEntity){e=c.associations;if(e&&f in e){a=c[e[f].getterName]()}else if(f===b.validationKey){a=c.getValidation();b.lastValidationGeneration=null}}else if(c){d=c[f];if(d&&(d.isModel||d.isStore)){a=d}}h=i!==a;if(h){if(i){b.detachBound()}if(a){if(a.isModel){a.join(b)}else {g=a.associatedEntity;if(g&&a.autoLoad!==!1&&!a.complete&&!a.hasPendingLoad()){a.load()}a.on({scope:b,beginload:'onStoreDataChanged',load:'onStoreDataChanged',datachanged:'onStoreDataChanged',destroy:'onDestroyBound'})}}b.boundValue=a}return a},detachBound:function(){var b=this,a=b.boundValue;if(a&&!a.destroyed){if(a.isModel){a.unjoin(b)}else {a.un({scope:b,beginload:'onStoreDataChanged',load:'onStoreDataChanged',datachanged:'onStoreDataChanged',destroy:'onDestroyBound'})}}},onDestroyBound:function(){if(!this.owner.destroying){this.set(null)}},sort:function(){var a=this,d=a.formula,c=a.scheduler,b=a.storeBinding;Ext.app.bind.AbstractStub.prototype.sort.call(this);if(b){c.sortItem(b)}if(d){c.sortItem(d)}}}},1,0,0,0,0,0,[Ext.app.bind,'Stub'],0);Ext.cmd.derive('Ext.app.bind.LinkStub',Ext.app.bind.Stub,{isLinkStub:!0,binding:null,destroy:function(){var a=this,b=a.binding,c=a.owner;if(b){a.binding=null;b.destroy();if(c){delete c.linkData[a.name]}}a.target=null;Ext.app.bind.Stub.prototype.destroy.call(this)},getFullName:function(){var a=this;return a.fullName||(a.fullName='('+Ext.app.bind.Stub.prototype.getFullName.call(this)+' -> '+a.binding.getFullName()+')')},getDataObject:function(){var e=this.binding,c=this.parent,b=this.name,a,d;if(c.isRootStub&&!c.shouldClimb(b)){a=c.owner.getData();if(!a.hasOwnProperty(b)){a[b]=d={}}}else {d=e&&e.getDataObject()}return d},getRawValue:function(){var a=this.binding;return a&&a.getRawValue()},getValue:function(){var a=this.binding;return a&&a.getValue()},getTargetStub:function(){var a=this.binding;return a&&a.stub},isAvailable:function(){var a=this.binding;return a?a.isAvailable():!1},isLoading:function(){var a=this.binding;return a?a.isLoading():!1},link:function(c,b){var a=this,d=a.binding;if(d){d.destroy()}b=a.target=b||a.owner;a.linkDescriptor=c;a.binding=b.bind(c,a.onChange,a);a.binding.deep=!0},onChange:function(){this.invalidate(!0)},react:function(){var a=this,b=a.owner.linkData;b[a.name]=a.getValue();Ext.app.bind.Stub.prototype.react.call(this)},privates:{collect:function(){var c=this,b=Ext.app.bind.Stub.prototype.collect.call(this),a=c.binding?1:0;return b+a},sort:function(){var a=this.binding;if(a){this.scheduler.sortItem(a)}}}},0,0,0,0,0,0,[Ext.app.bind,'LinkStub'],0);Ext.cmd.derive('Ext.app.bind.RootStub',Ext.app.bind.AbstractStub,{isRootStub:!0,depth:0,createRootChild:function(a,j){var e=this,c=e.owner,i=c.getData(),g=e.children,d=g&&g[a],f=d?null:e,h,b;if(j||i.hasOwnProperty(a)||!(h=c.getParent())){b=new Ext.app.bind.Stub(c,a,f)}else {b=new Ext.app.bind.LinkStub(c,a,f);b.link('{'+a+'}',h)}if(d){d.graft(b)}return b},createStubChild:function(a){return this.createRootChild(a,!0)},descend:function(a,g){var f=this,d=f.children,b=g||0,e=a[b++],c=d&&d[e]||f.createRootChild(e);if(b<a.length){c=c.descend(a,b)}return c},getFullName:function(){return this.fullName||(this.fullName=this.owner.id+':')},getDataObject:function(){return this.owner.data},getRawValue:function(){return this.owner.data},getValue:function(){return this.owner.data},isDescendantOf:function(){return !1},set:function(f,k){var c=this,i=c.children||(c.children={}),e=c.owner,g=e.data,l=e.getParent(),a,h,b,d,j;for(b in f){h=f[b];if(h!==undefined){a=i[b];d=k||!c.shouldClimb(b);if(!a){a=c.createRootChild(b,d);j=!0}else if(d&&a.isLinkStub&&!a.getLinkFormulaStub()){a=c.insertChild(b)}if(!j||!g.hasOwnProperty(f)){e.invalidateChildLinks(b)}a.set(h,d)}else if(g.hasOwnProperty(b)){delete g[b];a=i[b];if(a){if(!a.isLinkStub&&l){a=c.createRootChild(b)}e.invalidateChildLinks(b,!0);a.invalidate(!0)}}}},schedule:Ext.emptyFn,unschedule:Ext.emptyFn,privates:{checkAvailability:function(){return !0},insertChild:function(a){return this.createRootChild(a,!0)},invalidateChildLink:function(b,d){var c=this.children,a=c&&c[b];if(a&&a.isLinkStub&&!a.getLinkFormulaStub()){a=this.createRootChild(b);if(d){a.invalidate(!0)}this.owner.invalidateChildLinks(b,d)}},shouldClimb:function(b){var a=this.owner.getParent();while(a){if(a.getData().hasOwnProperty(b)){return !0}a=a.getParent()}return !1}}},0,0,0,0,0,0,[Ext.app.bind,'RootStub'],0);Ext.cmd.derive('Ext.app.bind.Multi',Ext.app.bind.BaseBinding,{isMultiBinding:!0,missing:1,deep:!0,constructor:function(b,f,e,g,c){var a=this,d=c&&c.trackStatics;Ext.app.bind.BaseBinding.prototype.constructor.call(this,f,e,g,c);a.bindings=[];a.literal=b.$literal;if(b.constructor===Object){if(d){a.staticKeys=[]}a.addObject(b,a.lastValue={},a.staticKeys)}else {a.addArray(b,a.lastValue=[])}if(!--a.missing&&!a.scheduled){a.schedule()}},destroy:function(){var a=this;a.bindings=Ext.destroy(a.bindings);Ext.app.bind.BaseBinding.prototype.destroy.call(this)},add:function(d,i,f){var a=this,h=a.owner,e=a.bindings,g=a.literal?d.reference?'bindEntity':'bindExpression':'bind',b,c;++a.missing;b=h[g](d,function(c){i[f]=c;if(b.calls===1){--a.missing}if(!a.missing&&!a.scheduled){a.schedule()}},a,null);c=b.depth;if(!e.length||c<a.depth){a.depth=c}e.push(b);return !this.isBindingStatic(b)},addArray:function(g,d){var f=this,h=g.length,e=!1,c,a,b;for(b=0;b<h;++b){a=g[b];if(a&&(a.reference||Ext.isString(a))){c=f.add(a,d,b)}else if(Ext.isArray(a)){c=f.addArray(a,d[b]=[])}else if(a&&a.constructor===Object){c=f.addObject(a,d[b]={})}else {d[b]=a;c=!1}e=e||c}return e},addObject:function(g,d,h){var f=this,e=!1,c,a,b;for(b in g){a=g[b];if(a&&(a.reference||Ext.isString(a))){c=f.add(a,d,b)}else if(Ext.isArray(a)){c=f.addArray(a,d[b]=[])}else if(a&&a.constructor===Object){c=f.addObject(a,d[b]={})}else {d[b]=a;c=!1}if(h&&!c){h.push(b)}e=e||c}return e},getFullName:function(){var c=this,a=c.fullName,d=c.bindings,e=d.length,b;if(!a){a='@[';for(b=0;b<e;++b){if(b){a+=','}a+=d[b].getFullName()}a+=']';c.fullName=a}return a},getRawValue:function(){return this.lastValue},isDescendantOf:function(){return !1},isLoading:function(){var a=this.bindings,b=a.length;for(;b-->0;){if(a[b].isLoading()){return !0}}return !1},isAvailable:function(){var a=this.bindings,b=a.length;for(;b-->0;){if(a[b].isAvailable()){return !0}}return !1},isBindingStatic:function(a){return a.isTemplateBinding&&a.isStatic},isStatic:function(){var b=this.bindings,d=b.length,a,c;for(a=0;a<d;++a){c=b[a];if(!this.isBindingStatic(c)){return !1}}return !0},pruneStaticKeys:function(){var b=Ext.apply({},this.lastValue),c=this.staticKeys,d=c.length,a;for(a=0;a<d;++a){delete b[c[a]]}return b},react:function(){this.notify(this.lastValue)},refresh:function(){},privates:{sort:function(){this.scheduler.sortItems(this.bindings)}}},1,0,0,0,0,0,[Ext.app.bind,'Multi'],0);Ext.cmd.derive('Ext.app.bind.Formula',Ext.util.Schedulable,{statics:{getFormulaParser:function(c){var b=this.formulaCache,a,d;if(!b){b=this.formulaCache=new Ext.util.LruCache({maxSize:20})}a=b.get(c);if(!a){d='[^\\.a-z0-9_]'+Ext.String.escapeRegex(c)+'\\(\\s*([\'"])(.*?)\\1\\s*\\)';a=new RegExp(d,'gi');b.add(c,a)}return a}},isFormula:!0,calculation:null,explicit:!1,set:null,single:!1,fnKeywordArgumentNamesRe:/^function\s*[^\(]*\(\s*([^,\)\s]+)/,fnKeywordRe:/^\s*function/,replaceParenRe:/[\(\)]/g,constructor:function(h,c){var a=this,g=h.owner,f,b,d,e;a.owner=g;a.stub=h;Ext.util.Schedulable.prototype.constructor.call(this);if(c instanceof Function){a.get=d=c}else {a.get=d=c.get;a.set=c.set;b=c.bind;if(c.single){a.single=c.single}if(b){f=b.bindTo;if(f){e=Ext.apply({},b);delete e.bindTo;b=f}}}if(b){a.explicit=!0}else {b=d.$expressions||a.parseFormula(d)}a.binding=g.bind(b,a.onChange,a,e)},destroy:function(){var a=this,b=a.binding,c=a.stub;if(b){b.destroy();a.binding=null}if(c){c.formula=null}Ext.util.Schedulable.prototype.destroy.call(this);a.getterFn=a.owner=null},getFullName:function(){return this.fullName||(this.fullName=this.stub.getFullName()+'='+Ext.util.Schedulable.prototype.getFullName.call(this)+')')},getRawValue:function(){return this.calculation},onChange:function(){if(!this.scheduled){this.schedule()}},parseFormula:function(g){var d=Ext.Function.toCode(g),h='get',c={$literal:!0},a,b,f,e;if(this.fnKeywordRe.test(d)){a=this.fnKeywordArgumentNamesRe.exec(d);if(a){b=a[1]}}else {a=d.split('=>')[0];if(a){a=Ext.String.trim(a.replace(this.replaceParenRe,'')).split(',');b=a[0]}}b=b||h;f=Ext.app.bind.Formula.getFormulaParser(b);while(a=f.exec(d)){e=a[2];c[e]=e}c.$literal=!0;g.$expressions=c;return c},react:function(){var a=this,c=a.owner,d=a.binding.lastValue,b;if(a.explicit){b=d}else {b=c.getFormulaFn(d)}a.settingValue=!0;a.stub.set(a.calculation=a.get.call(c,b));a.settingValue=!1;if(a.single){a.destroy()}},setValue:function(a){this.set.call(this.stub.owner,a)},privates:{getScheduler:function(){var a=this.owner;return a&&a.getScheduler()},sort:function(){var b=this,a=b.binding;if(!a.destroyed){b.scheduler.sortItem(a)}}}},1,0,0,0,0,0,[Ext.app.bind,'Formula'],0);Ext.cmd.derive('Ext.util.Fly',Ext.Base,{inheritableStatics:{flyPoolSize:2,fly:function(){var b=this,c=b.flyweights||(b.flyweights=[]),a=c.length?c.pop():new b();a.reset.apply(a,arguments);return a}},release:function(){var a=this,b=a.self,c=b.flyweights||(b.flyweights=[]);a.reset();if(c.length<b.flyPoolSize){c.push(a)}},reset:Ext.emptyFn},0,0,0,0,0,0,[Ext.util,'Fly'],0);Ext.cmd.derive('Ext.parse.Tokenizer',Ext.util.Fly,function(c){var b=c.flyweights=[],a={literal:!0,'boolean':!0,type:'boolean'},f={error:!0},g={ident:!0},i={literal:!0},h={literal:!0,nil:!0},d={literal:!0,number:!0,type:'number'},e={literal:!0,string:!0,type:'string'};return {isTokenizer:!0,statics:{BOOLEAN:a,ERROR:f,IDENT:g,LITERAL:i,NULL:h,NUMBER:d,STRING:e},config:{keywords:{'null':{type:'literal',is:h,value:null},'false':{type:'literal',is:a,value:!1},'true':{type:'literal',is:a,value:!0}},operators:{'+':'plus','-':'minus','*':'multiply','/':'divide','!':'not',',':'comma',':':'colon','[':'arrayOpen',']':'arrayClose','{':'curlyOpen','}':'curlyClose','(':'parenOpen',')':'parenClose'},patterns:null},error:null,index:-1,constructor:function(a){this.operators={};this.patterns=[];this.initConfig(a)},next:function(){var a=this.peek();this.head=undefined;return a},peek:function(){var a=this,d=a.error,b=a.head;if(d){return d}if(b===undefined){a.head=b=a.advance()}return b},release:function(){this.reset();if(b.length<c.flyPoolSize){b.push(this)}},reset:function(b,e,d){var a=this;a.error=null;a.head=undefined;a.index=-1;a.text=b||null;a.pos=e||0;a.end=b&&d==null?b.length:d;return a},privates:{digitRe:/[0-9]/,identFirstRe:/[a-z_$]/i,identRe:/[0-9a-z_$]/i,spaceRe:/[ \t]/,end:0,head:undefined,pos:0,text:null,applyOperators:function(i){var j=this.operators,a,f,g,e,h,d,b;for(b in i){a=j;d=i[b];h=b.length;for(e=0;e<h;++e){f=b.charAt(e);a=a[f]||(a[f]={})}if(d){a.token=g={type:'operator',name:d,value:b,is:{operator:!0}};g.is[d]=!0}else {a.token=null}}},applyPatterns:function(e){var g=this.patterns,a,d,b,f;for(b in e){a=e[b];d=a.extract;f=a.re;delete a.extract;delete a.re;g.push({name:b,re:f,extract:d,token:a})}},advance:function(){var a=this,d=a.spaceRe,f=a.text,e=a.end,b;while(a.pos<e){b=f.charAt(a.pos);if(d.test(b)){++a.pos;continue}a.index=a.pos;return a.parse(b)}return null},parse:function(d){var a=this,i=a.digitRe,j=a.text,k=a.end,h=a.patterns,g,e,f,b;if(d==='.'&&a.pos+1<k){if(i.test(j.charAt(a.pos+1))){b=a.parseNumber()}}if(!b){for(g=0;g<h.length;++g){f=h[g];f.re.lastIndex=a.pos;e=f.re.exec(j);if(e&&e.index===a.pos){b=Ext.apply({value:f.extract?f.extract(e):e[0]},f.token);a.pos+=e[0].length;break}}}if(!b&&a.operators[d]){b=a.parseOperator(d)}if(!b){if(d==='"'||d==="'"){b=a.parseString()}else if(i.test(d)){b=a.parseNumber()}else if(a.identFirstRe.test(d)){b=a.parseIdent()}else {b=a.syntaxError('Unexpected character')}}return b},parseIdent:function(){var a=this,l=a.identRe,h=a.getKeywords(),k=!a.operators['.'],j=a.text,i=a.pos,b=i,m=a.end,f=0,d,e;while(b<m){d=j.charAt(b);if(k&&d==='.'){if(f==='.'){return a.syntaxError(b,'Unexpected dot operator')}++b}else if(l.test(d)){++b}else {break}f=d}if(f==='.'){return a.syntaxError(b-1,'Unexpected dot operator')}e=j.substring(i,a.pos=b);return h&&h[e]||{type:'ident',is:g,value:e}},parseNumber:function(){var a=this,j=a.digitRe,h=a.text,g=a.pos,k=a.end,b,f,i,e;while(a.pos<k){b=h.charAt(a.pos);if(b==='-'||b==='+'){if(a.pos!==g){break}++a.pos}else if(b==='.'){if(f){break}f=!0;++a.pos}else if(b==='e'||b==='E'){if(i){break}f=i=!0;b=h.charAt(++a.pos);if(b==='-'||b==='+'){++a.pos}}else if(j.test(b)){++a.pos}else {break}}e={type:'literal',is:d,value:+h.substring(g,a.pos)};if(!isFinite(e.value)){e=a.syntaxError(g,'Invalid number')}return e},parseOperator:function(g){var a=this,b=a.operators,j=a.text,i=a.end,d=a.pos,e,h,f;while(b[g]){b=b[g];f=b.token;++d;if(f){e=f;h=d}if(d<i){g=j.charAt(d)}else {break}}if(e){a.pos=h}return e},parseString:function(){var b=this,f=b.text,a=b.pos,k=a,h=b.end,j='',d,g,i;i=f.charAt(a++);while(a<h){d=f.charAt(a++);if(d===i){g=!0;break}if(d==='\\'&&a<h){d=f.charAt(a++)}j+=d}b.pos=a;if(!g){return b.syntaxError(k,'Unterminated string')}return {type:'literal',is:e,value:j}},syntaxError:function(a,d){if(typeof a==='string'){d=a;a=this.pos}var e=a==null?'':' (at index '+a+')',b=new Error(d+e);b.type='error';b.is=f;if(e){b.at=a}return this.error=b}}}},1,0,0,0,0,0,[Ext.parse,'Tokenizer'],0);Ext.cmd.derive('Ext.parse.Symbol',Ext.Base,{priority:0,constructor:function(d,a){var b=this,c=b.defaultProperty;if(a&&typeof a==='object'){Ext.apply(b,a)}else if(a!==undefined&&c){b[c]=a}b.id=d},led:function(){this.parser.syntaxError(this.at,'Missing operator')},nud:function(){this.parser.syntaxError(this.at,'Undefined')},update:function(a){if(a&&typeof a==='object'){var b=this,c=a.priority,d=a.led,e=a.nud;if(b.priority<=c){b.priority=c}if(d){b.led=d}if(e){b.nud=e}}}},1,0,0,0,0,0,[Ext.parse,'Symbol'],0);Ext.cmd.derive('Ext.parse.symbol.Constant',Ext.parse.Symbol,{arity:'literal',isLiteral:!0,defaultProperty:'value',constructor:function(b,a){Ext.parse.Symbol.prototype.constructor.call(this,b,a);this._value=this.value},nud:function(){var a=this;a.value=a._value;a.arity='literal';a.isLiteral=!0;return a}},1,0,0,0,0,0,[Ext.parse.symbol,'Constant'],0);Ext.cmd.derive('Ext.parse.symbol.Infix',Ext.parse.Symbol,{arity:'binary',isBinary:!0,defaultProperty:'priority',led:function(b){var a=this;a.lhs=b;a.rhs=a.parser.parseExpression(a.priority);a.arity='binary';a.isBinary=!0;return a}},0,0,0,0,0,0,[Ext.parse.symbol,'Infix'],0);Ext.cmd.derive('Ext.parse.symbol.InfixRight',Ext.parse.symbol.Infix,{led:function(b){var a=this;a.lhs=b;a.rhs=a.parser.parseExpression(a.priority-1);a.arity='binary';a.isBinary=!0;return a}},0,0,0,0,0,0,[Ext.parse.symbol,'InfixRight'],0);Ext.cmd.derive('Ext.parse.symbol.Paren',Ext.parse.Symbol,{arity:'binary',isBinary:!0,priority:80,led:function(d){var b=this,e=[],c=b.parser,a=d.id,f=d.arity;if(a!=='.'&&a!=='['){if((f!=='unary'||a!=='function')&&f!=='ident'&&a!=='('&&a!=='&&'&&a!=='||'&&a!=='?'){c.syntaxError(d.at,'Expected a variable name.')}}b.arity='invoke';b.isInvoke=!0;b.operand=d;b.args=e;while(c.token.id!==')'){if(e.length){c.advance(',')}e.push(c.parseExpression())}c.advance(')');return b},nud:function(){var a=this.parser,b=a.parseExpression();a.advance(')');return b}},0,0,0,0,0,0,[Ext.parse.symbol,'Paren'],0);Ext.cmd.derive('Ext.parse.symbol.Prefix',Ext.parse.Symbol,{arity:'unary',isUnary:!0,priority:70,nud:function(){var a=this;a.operand=a.parser.parseExpression(a.priority);a.arity='unary';a.isUnary=!0;return a}},0,0,0,0,0,0,[Ext.parse.symbol,'Prefix'],0);Ext.cmd.derive('Ext.parse.Parser',Ext.util.Fly,function(){var a=function(){return this};return {isParser:!0,config:{constants:{'null':null,'false':!1,'true':!0},infix:{'===':40,'!==':40,'==':40,'!=':40,'<':40,'<=':40,'>':40,'>=':40,'+':50,'-':50,'*':60,'/':60},infixRight:{'&&':30,'||':30},prefix:{'!':0,'-':0,'+':0},symbols:{':':0,',':0,')':0,'[':0,']':0,'{':0,'}':0,'(end)':0,'(ident)':{arity:'ident',isIdent:!0,nud:a},'(literal)':{arity:'literal',isLiteral:!0,nud:a},'(':{xclass:'Ext.parse.symbol.Paren'}},tokenizer:{keywords:null}},token:null,constructor:function(a){this.symbols={};this.initConfig(a)},advance:function(i){var b=this,g=b.tokenizer,c=g.peek(),d=b.symbols,j=g.index,f,h,a,e;if(b.error){throw b.error}if(i){b.expect(i)}if(!c){return b.token=d['(end)']}g.next();f=c.is;e=c.value;if(f.ident){a=d[e]||d['(ident)']}else if(f.operator){if(!(a=d[e])){b.syntaxError(c.at,'Unknown operator "'+e+'"')}h=c.name}else if(f.literal){a=d['(literal)']}else {b.syntaxError(c.at,'Unexpected token')}b.token=a=Ext.Object.chain(a);a.at=j;a.is=f;a.value=e;if(!a.arity){a.arity=c.type}if(h){a.name=h}return a},expect:function(a){var b=this.token;if(a!==b.id){this.syntaxError(b.at,'Expected "'+a+'"')}return this},parseExpression:function(c){var b=this,d=b.token,a;c=c||0;b.advance();a=d.nud();while(c<(d=b.token).priority){b.advance();a=d.led(a)}return a},reset:function(b,d,c){var a=this;a.error=a.token=null;a.tokenizer.reset(b,d,c);a.advance();return a},syntaxError:function(a,c){if(typeof a==='string'){c=a;a=this.pos}var d=a==null?'':' (at index '+a+')',b=new Error(c+d);b.type='error';if(d){b.at=a}throw this.error=b},privates:{error:null,addSymbol:function(g,a,d,c){var h=this.symbols,b=h[g],f,i,e;if(b){if(typeof a==='object'){f=a}else if(c&&d){c=Ext.Array.from(c);i=c.length;f={};for(e=0;e<i;e++){f[c[e]]=d.prototype[c[e]]}}else {return b}b.update(f)}else {if(a&&a.xclass){d=Ext.ClassManager.get(a.xclass)}else {d=d||Ext.parse.Symbol}h[g]=b=new d(g,a);b.parser=this}return b},addSymbols:function(b,d,c){var a;for(a in b){this.addSymbol(a,b[a],d,c)}},applyConstants:function(a){this.addSymbols(a,Ext.parse.symbol.Constant,'nud')},applyInfix:function(a){this.addSymbols(a,Ext.parse.symbol.Infix,'led')},applyInfixRight:function(a){this.addSymbols(a,Ext.parse.symbol.InfixRight,'led')},applyPrefix:function(a){this.addSymbols(a,Ext.parse.symbol.Prefix,'nud')},applySymbols:function(a){this.addSymbols(a)},applyTokenizer:function(a){var b=a;if(a&&!a.isTokenizer){b=new Ext.parse.Tokenizer(a)}this.tokenizer=b}}}},1,0,0,0,0,0,[Ext.parse,'Parser'],0);Ext.cmd.derive('Ext.app.bind.Parser',Ext.parse.Parser,{infix:{':':{priority:70,led:function(b){var a=this;a.arity='formatter';a.operand=b;a.fmt=a.parser.parseFmt();return a}},'?':{priority:20,led:function(e){var a=this,b=a.parser,c=b.symbols[':'],d;a.condition=e;d=c.priority;c.priority=0;a.tv=b.parseExpression(0);a.parser.advance(':');c.priority=d;a.fv=b.parseExpression(0);a.arity='ternary';return a}}},symbols:{'(':{nud:function(){var a=this.parser,b=a.symbols[':'],d,c;c=b.priority;b.priority=70;d=a.parseExpression();a.advance(')');b.priority=c;return d}}},prefix:{'@':0},tokenizer:{operators:{'@':'at','?':'qmark','===':'feq','!==':'fneq','==':'eq','!=':'neq','<':'lt','<=':'lte','>':'gt','>=':'gte','&&':'and','||':'or'}},compileExpression:function(d,c){var a=this,e,b;a.tokens=d;a.tokensMap=c;b=a.parseSlot(a.parseExpression(),e);a.tokens=a.tokensMap=null;return b},compileFormat:function(){var a=this,b;b=a.parseSlot({arity:'formatter',fmt:a.parseFmt(),operand:{arity:'ident',value:'dummy'}});a.expect('(end)');return b},privates:{useEval:Ext.isGecko,escapeRe:/(["'\\])/g,parseFmt:function(){var b=this,c=[],d=b.symbols[':'].priority,a;do{if(c.length){b.advance()}a=b.parseExpression(d);if(a.isIdent||a.isInvoke){c.push(a)}else {b.syntaxError(a.at,'Expected formatter name')}}while(b.token.id===':');return c},parseSlot:function(j,k){var a=this,e=[],b=[],h=a.tokens||[],i,c,d,g,f;a.definitions=e;a.body=b;b.push('return '+a.compile(j)+';');g=h.length;c='var fm = Ext.util.Format,\nme,';f='var a = Ext.Array.from(values);\nme = scope;\n';if(h.length){for(d=0;d<g;d++){c+='v'+d+(d===g-1?';':',');f+='v'+d+' = a['+d+']; '}}else {c+='v0;';f+='v0 = a[0];'}e=Ext.Array.insert(e,0,[c]);b=Ext.Array.insert(b,0,[f]);b=b.join('\n');e.push((a.useEval?'$=':'return')+' function (values, scope) {',b,'}');c=e.join('\n');i=a.useEval?a.evalFn(c):(new Function('Ext',c))(Ext);a.definitions=a.body=null;return i},compile:function(a){var b=this,c;switch(a.arity){case 'ident':return b.addToken(a.value);case 'literal':c=a.value;return typeof c==='string'?'"'+String(c).replace(b.escapeRe,'\\$1')+'"':c;case 'unary':return b.compileUnary(a);case 'binary':return b.compileBinary(a);case 'ternary':return b.compileTernary(a);case 'formatter':return b.compileFormatter(a);}return this.syntaxError(a.at,'Compile error! Unknown symbol')},compileUnary:function(b){var a=b.value,c=b.operand;if(a==='!'||a==='-'||a==='+'){return a+'('+this.compile(c)+')'}else if(a==='@'){if(!c.isIdent){return this.syntaxError(b.at,'Compile error! Unexpected symbol')}return c.value}return ''},compileBinary:function(a){return '('+this.compile(a.lhs)+' '+a.value+' '+this.compile(a.rhs)+')'},compileTernary:function(a){return '('+this.compile(a.condition)+' ? '+this.compile(a.tv)+' : '+this.compile(a.fv)+')'},compileFormatter:function(e){var c=this,b=e.fmt,f=b.length,a=['var ret;'],d;if(b.length){a.push('ret = '+c.compileFormatFn(b[0],c.compile(e.operand))+';');for(d=1;d<f;d++){a.push('ret = '+c.compileFormatFn(b[d],'ret')+';')}}a.push('return ret;');return c.addFn(a.join('\n'))},compileFormatFn:function(b,g){var a,d=[],e='',f,c;if(b.isIdent){a=b.value}else if(b.isInvoke){a=b.operand.value;d=b.args}if(a.substring(0,5)==='this.'){a='me.'+a.substring(5)}else {if(!(a in Ext.util.Format)){return this.syntaxError(b.at,'Compile error! Invalid format specified "'+a+'"')}a='fm.'+a}e+=g;f=d.length;for(c=0;c<f;c++){e+=', '+this.compile(d[c])}return a+'('+e+')'},addFn:function(c){var a=this.definitions,b='f'+a.length;a.push('function '+b+'() {',c,'}');return b+'()'},evalFn:function($){eval($);return $},addToken:function(b){var a=this.tokensMap,c=this.tokens,d=0;if(a&&c){if(b in a){d=a[b]}else {a[b]=d=c.length;c.push(b)}}return 'v'+d}}},0,0,0,0,0,0,[Ext.app.bind,'Parser'],0);Ext.cmd.derive('Ext.app.bind.Template',Ext.Base,{escapes:!1,buffer:null,slots:null,tokens:null,constructor:function(d){var b=this,c=b._initters,a;b.text=d;for(a in c){b[a]=c[a]}},_initters:{apply:function(a,b){return this.parse().apply(a,b)},getTokens:function(){return this.parse().getTokens()}},apply:function(g,h){var d=this,e=d.slots,c=d.buffer,f=e.length,a,b;for(a=0;a<f;++a){b=e[a];if(b){c[a]=b(g,h)}}if(b&&d.single){return c[0]}return c.join('')},getText:function(){return this.buffer.join('')},getTokens:function(){return this.tokens},isStatic:function(){var a=this.getTokens(),b=this.slots;return a.length===0&&b.length===0},privates:{literalChar:'~',escapeChar:'\\',parse:function(){var a=this,e=a.text,i=Ext.app.bind.Parser.fly(),h=a.buffer=[],p=a.slots=[],o=e.length,f=0,n=a.escapes,b='',c=0,q=a.escapeChar,m=a.literalChar,g,j,d,k,l;for(l in a._initters){delete a[l]}a.tokens=[];a.tokensMap={};while(c<o){d=e[c];j=g;g=n&&d===q;if(g){d=e[c+1];++c}else if(d===m&&k===m&&!j){b=b.slice(0,-1);b+=e.substring(c+1);break}else if(d==='{'){if(b){h[f++]=b;b=''}i.reset(e,c+1);c=a.parseExpression(i,f);++f;continue}b+=d;++c;k=d}if(b){h[f]=b}i.release();a.single=h.length===0&&p.length===1;return a},parseExpression:function(a,c){var b;this.slots[c]=a.compileExpression(this.tokens,this.tokensMap);b=a.token.at+1;a.expect('}');return b}}},1,0,0,0,0,0,[Ext.app.bind,'Template'],0);Ext.cmd.derive('Ext.app.bind.TemplateBinding',Ext.app.bind.BaseBinding,{isTemplateBinding:!0,lastValue:undefined,value:undefined,constructor:function(f,d,e,h,g){var a=this,b=new Ext.app.bind.Template(f),c=b.getTokens();Ext.app.bind.BaseBinding.prototype.constructor.call(this,d,e,h,g);a.tpl=b;a.tokens=c;c.$literal=!0;if(!b.isStatic()){a.multiBinding=new Ext.app.bind.Multi(c,d,a.onBindData,a)}else {a.isStatic=!0;a.onData(b.getText())}},destroy:function(){var a=this;Ext.destroy(a.multiBinding);a.tpl=a.multiBinding=null;Ext.app.bind.BaseBinding.prototype.destroy.call(this)},getFullName:function(){var a=this.multiBinding;return this.fullName||(this.fullName='$'+(a?a.getFullName():Ext.app.bind.BaseBinding.prototype.getFullName.call(this)))},getRawValue:function(){return this.value},getTemplateScope:function(){return null},isAvailable:function(){var a=this.multiBinding;return a?a.isAvailable():!1},isDescendantOf:function(){return !1},isLoading:function(){var a=this.multiBinding;return a?a.isLoading():!1},onBindData:function(a){this.onData(this.tpl.apply(a,this.getTemplateScope()))},onData:function(c){var a=this,b=a.value;if(b!==(a.value=c)){a.lastValue=b;a.schedule()}},react:function(){this.notify(this.value)},refresh:function(){var a=this.multiBinding;if(a){a.refresh()}},privates:{sort:function(){var a=this.multiBinding;if(a){this.scheduler.sortItem(a)}}}},1,0,0,0,0,0,[Ext.app.bind,'TemplateBinding'],0);Ext.cmd.derive('Ext.data.ChainedStore',Ext.data.AbstractStore,{isChainedStore:!0,config:{source:null,remoteFilter:!1,remoteSort:!1},syncSourceGrouping:!1,remove:function(){var a=this.getSource();return a.remove.apply(a,arguments)},removeAll:function(){var a=this.getSource();return a.removeAll()},getData:function(){var b=this,a=b.data;if(!a){b.data=a=b.constructDataCollection()}return a},getTotalCount:function(){return this.getCount()},getSession:function(){return this.getSourceValue('getSession',null)},applySource:function(a){if(a){a=Ext.data.StoreManager.lookup(a)}return a},updateSource:function(b,c){var a=this,d;if(c&&!c.destroyed){c.removeObserver(a)}if(b){d=a.getData();d.setSource(b.getData());if(a.syncSourceGrouping){a.setGrouper(b.getGrouper())}if(!a.isInitializing){a.fireEvent('refresh',a);a.fireEvent('datachanged',a)}b.addObserver(a)}},getModel:function(){return this.getSourceValue('getModel',null)},getProxy:function(){return null},onCollectionAdd:function(e,b){var a=this,d=b.items,c=!b.next;if(a.activeRanges){a.syncActiveRanges()}if(a.ignoreCollectionAdd){return}a.fireEvent('add',a,d,b.at);if(c){a.fireEvent('datachanged',a)}},onCollectionItemChange:function(f,a){var b=this,d=a.item,c=a.modified||null,e=a.meta;if(b.activeRanges&&a.newIndex!==a.oldIndex){b.syncActiveRanges()}b.onUpdate(d,e,c,a);b.fireEvent('update',b,d,e,c,a);b.fireEvent('datachanged',b)},onCollectionUpdateKey:function(b,a){this.fireEvent('idchanged',this,a.item,a.oldKey,a.newKey)},onUpdate:Ext.emptyFn,lastCollectionRefesh:null,onCollectionRefresh:function(c){var a=this,b=c.generation;if(!a.isConfiguring&&a.lastCollectionRefesh!==b){a.lastCollectionRefesh=b;a.fireEvent('datachanged',a);a.fireEvent('refresh',a)}},onCollectionRemove:function(e,b){var a=this,d=b.items,c=!b.next;if(a.ignoreCollectionRemove){return}a.fireEvent('remove',a,d,b.at,!1);if(c){a.fireEvent('datachanged',a)}},onSourceBeforeLoad:function(b,a){this.fireEvent('beforeload',this,a);this.callObservers('BeforeLoad',[a])},onSourceAfterLoad:function(d,c,a,b){this.fireEvent('load',this,c,a,b);this.callObservers('AfterLoad',[c,a,b])},onFilterEndUpdate:function(){var a=this;if(a.getData().generation===a.lastCollectionRefesh&&!a.getRemoteFilter()){a.suppressNextFilter=!0}Ext.data.AbstractStore.prototype.onFilterEndUpdate.apply(this,arguments);a.callObservers('Filter')},onSourceBeforePopulate:function(){this.ignoreCollectionAdd=!0;this.callObservers('BeforePopulate')},onSourceAfterPopulate:function(){var a=this;a.ignoreCollectionAdd=!1;a.fireEvent('datachanged',a);a.fireEvent('refresh',a);this.callObservers('AfterPopulate')},onSourceBeforeClear:function(){this.ignoreCollectionRemove=!0;this.callObservers('BeforeClear')},onSourceAfterClear:function(){this.ignoreCollectionRemove=!1;this.callObservers('AfterClear')},onSourceBeforeRemoveAll:function(){this.ignoreCollectionRemove=!0;this.callObservers('BeforeRemoveAll')},onSourceAfterRemoveAll:function(c,b){var a=this;a.ignoreCollectionRemove=!1;if(!b){a.fireEvent('clear',a);a.fireEvent('datachanged',a)}this.callObservers('AfterRemoveAll',[b])},onSourceFilter:function(){var a=this,b=a.getData().generation;if(a.lastCollectionRefesh!==b){a.lastCollectionRefesh=b;a.fireEvent('refresh',a);a.fireEvent('datachanged',a)}},onSourceGrouperChange:function(b,a){if(this.syncSourceGrouping){this.setGrouper(a)}},hasPendingLoad:function(){return this.getSourceValue('hasPendingLoad',!1)},isLoaded:function(){return this.getSourceValue('isLoaded',!1)},isLoading:function(){return this.getSourceValue('isLoading',!1)},doDestroy:function(){var a=this;a.observers=null;a.setSource(null);a.getData().destroy(!0);a.data=null;Ext.data.AbstractStore.prototype.doDestroy.call(this)},privates:{getSourceValue:function(d,c){var a=this.getSource(),b=c;if(a&&!a.destroyed){b=a[d]()}return b},isMoving:function(){var a=this.getSource();return a.isMoving?a.isMoving.apply(a,arguments):!1},loadsSynchronously:function(){return this.getSource().loadsSynchronously()}}},0,0,0,0,['store.chained'],[[Ext.data.LocalStore.prototype.mixinId||Ext.data.LocalStore.$className,Ext.data.LocalStore]],[Ext.data,'ChainedStore'],0);Ext.cmd.derive('Ext.app.ViewModel',Ext.Base,{isViewModel:!0,factoryConfig:{name:'viewModel'},collectTimeout:100,expressionRe:/^(?:\{(?:(\d+)|([a-z_][\w.]*))\})$/i,statics:{escape:function(a){var b=a,c;if(typeof a==='string'){b='~~'+a}else if(a&&a.constructor===Object){b={};for(c in a){b[c]=this.escape(a[c])}}return b}},$configStrict:!1,config:{data:!0,formulas:{$value:null,merge:function(c,a,d,b){return this.mergeNew(c,a,d,b)}},links:null,parent:null,root:!0,scheduler:null,schema:'default',session:null,stores:null,view:null},constructor:function(a){this.bindings={};this.initConfig(a)},destroy:function(){var a=this,d=a._scheduler,g=a.storeInfo,j=a.getParent(),k=a.collectTask,f=a.children,i=a.bindings,b,c,e,h;a.destroying=!0;if(k){k.cancel();a.collectTask=null}if(f){for(b in f){f[b].destroy()}}if(g){for(b in g){c=g[b];h=c.$binding;e=c.autoDestroy;if(e||!c.$wasInstance&&e!==!1){c.destroy()}Ext.destroy(h)}}if(j){j.unregisterChild(a)}a.getRoot().destroy();for(b in i){i[b].destroy()}if(d&&d.$owner===a){d.$owner=null;d.destroy()}a.children=a.storeInfo=a._session=a._view=a._scheduler=a.bindings=a._root=a._parent=a.formulaFn=a.$formulaData=null;a.callParent()},bind:function(a,f,e,c){var d=this,g=!0,b;e=e||d;if(!c&&a.bindTo!==undefined&&!Ext.isString(a)){c=a;a=c.bindTo}if(!Ext.isString(a)){b=new Ext.app.bind.Multi(a,d,f,e,c)}else if(d.expressionRe.test(a)){a=a.substring(1,a.length-1);b=d.bindExpression(a,f,e,c);g=!1}else {b=new Ext.app.bind.TemplateBinding(a,d,f,e,c)}if(g){d.bindings[b.id]=b}return b},getSession:function(){var b=this,a=b._session,c;if(!a&&(c=b.getParent())){b.setSession(a=c.getSession())}return a||null},getStore:function(c){var a=this.storeInfo,b;if(a){b=a[c]}return b||null},linkTo:function(i,a){var e=this,b,d,h,f,g,c;if(a.isModel){a={type:a.entityName,id:a.id}}f=a.type||a.reference;d=a.create;if(f){h=a.id;if(d){h=undefined}c=e.getRecord(f,h);if(Ext.isObject(d)){c.set(d);c.commit();c.phantom=!0}b=e.getRoot().createStubChild(i);b.set(c)}else {b=e.getStub(i);if(!b.isLinkStub){g=new Ext.app.bind.LinkStub(e,b.name);b.graft(g);b=g}b.link(a)}},notify:function(){var a=this.getScheduler();if(!a.firing){a.notify()}},get:function(a){return this.getStub(a).getValue()},set:function(a,b){var d=this,e,c;d.getData();if(b===undefined&&a&&a.constructor===Object){c=d.getRoot();b=a}else if(a&&a.indexOf('.')<0){e={};e[a]=b;b=e;c=d.getRoot()}else {c=d.getStub(a)}c.set(b)},privates:{registerChild:function(b){var a=this.children;if(!a){this.children=a={}}a[b.getId()]=b},unregisterChild:function(b){var a=this.children;if(!this.destroying&&a){delete a[b.getId()]}},getRecord:function(d,e){var c=this.getSession(),b=d,f=e!==undefined,a;if(c){if(f){a=c.getRecord(d,e)}else {a=c.createRecord(d)}}else {if(!b.$isClass){b=this.getSchema().getEntity(b)}if(f){a=b.createWithId(e);a.load()}else {a=new b()}}return a},bindExpression:function(a,b,d,c){var e=this.getStub(a);return e.bind(b,d,c)},applyScheduler:function(a){if(a&&!a.isInstance){if(a===!0){a={}}if(!('preSort' in a)){a=Ext.apply({preSort:'kind,-depth'},a)}a=new Ext.util.Scheduler(a);a.$owner=this}return a},getScheduler:function(){var b=this,a=b._scheduler,c;if(!a){if(!(c=b.getParent())){a=new Ext.util.Scheduler({preSort:'kind,-depth'});a.$owner=b}else {a=c.getScheduler()}b.setScheduler(a)}return a},getStub:function(a){var b=this.getRoot();return a?b.getChild(a):b},collect:function(){var a=this,c=a.getParent(),b=a.collectTask;if(c){c.collect();return}if(!b){b=a.collectTask=new Ext.util.DelayedTask(a.doCollect,a)}if(a.collectTimeout===0){a.doCollect()}else {b.delay(a.collectTimeout)}},doCollect:function(){var a=this.children,b;if(a){for(b in a){a[b].doCollect()}}this.getRoot().collect()},invalidateChildLinks:function(d,c){var a=this.children,b;if(a){for(b in a){a[b].getRoot().invalidateChildLink(d,c)}}},onBindDestroy:function(c,d){var a=this,b;if(a.destroying){return}if(!d){delete a.bindings[c.id]}b=a.getParent();if(b){b.onBindDestroy(c,!0)}else {a.collect()}},applyData:function(b,e){var a=this,d,c;a.getSession();if(!e){c=a.getParent();a.linkData=d=c?Ext.Object.chain(c.getData()):{};a.data=a._data=Ext.Object.chain(d)}if(b&&b.constructor===Object){a.getRoot().set(b,!0)}},applyParent:function(a){if(a){a.registerChild(this)}return a},applyStores:function(f){var b=this,h=b.getRoot(),d,a,c,g,e;b.storeInfo={};b.listenerScopeFn=function(){return b.getView().getInheritedConfig('defaultListenerScope')};for(d in f){a=f[d];if(a.isStore){a.$wasInstance=!0;b.setupStore(a,d);continue}else if(Ext.isString(a)){a={source:a}}else {a=Ext.apply({},a)}e=a.listeners;delete a.listeners;c=b.bind(a,b.onStoreBind,b,{trackStatics:!0});if(c.isStatic()){c.destroy();b.createStore(d,a,e)}else {c.$storeKey=d;c.$listeners=e;g=h.createStubChild(d);g.setStore(c)}}},onStoreBind:function(a,g,c){var f=this.storeInfo,e=c.$storeKey,d=f[e],b;if(!d){this.createStore(e,a,c.$listeners,c)}else {a=Ext.merge({},c.pruneStaticKeys());b=a.proxy;delete a.type;delete a.model;delete a.fields;delete a.proxy;delete a.listeners;if(b){delete b.reader;delete b.writer;d.getProxy().setConfig(b)}d.setConfig(a)}},createStore:function(f,a,c,d){var e=this.getSession(),b;a=Ext.apply({},a);if(a.session){a.session=e}if(a.source){a.type=a.type||'chained'}a.listeners=c;a.resolveListenerScope=this.listenerScopeFn;b=Ext.Factory.store(a);b.$binding=d;this.setupStore(b,f)},setupStore:function(b,c){var a=this,d={};a.getData();b.resolveListenerScope=a.listenerScopeFn;a.storeInfo[c]=b;d[c]=b;a.setData(d)},applyFormulas:function(b){var c=this,e=c.getRoot(),a,d;c.getData();for(a in b){e.createStubChild(a);d=c.getStub(a);d.setFormula(b[a])}return b},applyLinks:function(a){var b;for(b in a){this.linkTo(b,a[b])}return a},applySchema:function(a){return Ext.data.schema.Schema.get(a)},applyRoot:function(){var b=new Ext.app.bind.RootStub(this),a=this.getParent();if(a){b.depth=a.getRoot().depth-1000}return b},getFormulaFn:function(c){var a=this,b=a.formulaFn;if(!b){b=a.formulaFn=function(b){return a.$formulaData[b]}}a.$formulaData=c;return b}}},1,0,0,0,['viewmodel.default'],[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable],[Ext.mixin.Identifiable.prototype.mixinId||Ext.mixin.Identifiable.$className,Ext.mixin.Identifiable]],[Ext.app,'ViewModel'],0);Ext.cmd.derive('Ext.app.domain.Controller',Ext.app.EventDomain,{singleton:!0,type:'controller',prefix:'controller.',idMatchRe:/^#/,constructor:function(){var a=this;a.callParent();a.monitor(Ext.app.BaseController)},match:function(c,a){var b=!1,d=c.alias;if(a==='*'){b=!0}else if(a==='#'){b=!!c.isApplication}else if(this.idMatchRe.test(a)){b=c.getId()===a.substring(1)}else if(d){b=Ext.Array.indexOf(d,this.prefix+a)>-1}return b}},1,0,0,0,0,0,[Ext.app.domain,'Controller'],0);Ext.cmd.derive('Ext.direct.Manager',Ext.Base,{singleton:!0,exceptions:{TRANSPORT:'xhr',PARSE:'parse',DATA:'data',LOGIN:'login',SERVER:'exception'},providerClasses:{},remotingMethods:{},config:{varName:'Ext.REMOTING_API'},apiNotFoundError:'Ext Direct API was not found at {0}',constructor:function(){var a=this;a.mixins.observable.constructor.call(a);a.transactions=new Ext.util.MixedCollection();a.providers=new Ext.util.MixedCollection()},addProvider:function(a){var b=this,d=arguments,f=b.relayers||(b.relayers={}),c,e;if(d.length>1){for(c=0,e=d.length;c<e;++c){b.addProvider(d[c])}return}if(!a.isProvider){a=Ext.create('direct.'+a.type+'provider',a)}b.providers.add(a);a.on('data',b.onProviderData,b);if(a.relayedEvents){f[a.id]=b.relayEvents(a,a.relayedEvents)}if(!a.isConnected()){a.connect()}return a},loadProvider:function(a,d,e){var c=this,i=c.providerClasses,h,b,j,g,f,k;if(Ext.isArray(a)){for(f=0,k=a.length;f<k;f++){c.loadProvider(a[f],d,e)}return}h=a.type;b=a.url;if(i[h]&&i[h].checkConfig(a)){g=c.addProvider(a);c.fireEventArgs('providerload',[b,g]);Ext.callback(d,e,[b,g]);return}j=a.varName||c.getVarName();delete a.varName;delete a.url;Ext.Loader.loadScript({url:b,scope:c,onLoad:function(){this.onApiLoadSuccess({url:b,varName:j,config:a,callback:d,scope:e})},onError:function(){this.onApiLoadFailure({url:b,callback:d,scope:e})}})},getProvider:function(a){return a.isProvider?a:this.providers.get(a)},removeProvider:function(a){var c=this,e=c.providers,d=c.relayers,b;a=a.isProvider?a:e.get(a);if(a){a.un('data',c.onProviderData,c);b=a.id;if(d[b]){d[b].destroy();delete d[b]}e.remove(a);return a}return null},addTransaction:function(a){this.transactions.add(a);return a},removeTransaction:function(a){var b=this;a=b.getTransaction(a);b.transactions.remove(a);return a},getTransaction:function(a){return typeof a==='object'?a:this.transactions.get(a)},onProviderData:function(d,a){var b=this,c,e;if(Ext.isArray(a)){for(c=0,e=a.length;c<e;++c){b.onProviderData(d,a[c])}return}if(a.name&&a.name!=='event'&&a.name!=='exception'){b.fireEvent(a.name,a)}else if(a.status===!1){b.fireEvent('exception',a)}b.fireEvent('event',a,d)},parseMethod:function(c){var b=Ext.global,e=0,a,d,f;if(Ext.isFunction(c)){a=c}else if(Ext.isString(c)){a=this.remotingMethods[c];if(!a){d=c.split('.');f=d.length;while(b&&e<f){b=b[d[e]];++e}a=Ext.isFunction(b)?b:null}}return a||null},resolveApi:function(b,g){var a,c,d,f,e;a=b&&b.prefix;if(a&&a.substr(a.length-1)!=='.'){a+='.'}for(c in b){d=b[c];if(c!=='prefix'&&typeof d!=='function'){f=(a||'')+d;e=this.parseMethod(f);if(typeof e==='function'){b[c]=e}}}return b},privates:{addProviderClass:function(a,b){this.providerClasses[a]=b},onApiLoadSuccess:function(options){var me=this,url=options.url,varName=options.varName,api,provider,error;try{api=Ext.apply(options.config,eval(varName));provider=me.addProvider(api)}catch(b){error=b+''}if(error){me.fireEventArgs('providerloaderror',[url,error]);Ext.callback(options.callback,options.scope,[url,error])}else {me.fireEventArgs('providerload',[url,provider]);Ext.callback(options.callback,options.scope,[url,provider])}},onApiLoadFailure:function(a){var c=a.url,b;b=Ext.String.format(this.apiNotFoundError,c);this.fireEventArgs('providerloaderror',[c,b]);Ext.callback(a.callback,a.scope,[c,b])},registerMethod:function(b,a){this.remotingMethods[b]=a},clearAllMethods:function(){this.remotingMethods={}}}},1,0,0,0,0,[[Ext.mixin.Observable.prototype.mixinId||Ext.mixin.Observable.$className,Ext.mixin.Observable]],[Ext.direct,'Manager'],function(){Ext.Direct=Ext.direct.Manager});Ext.cmd.derive('Ext.direct.Provider',Ext.Base,{isProvider:!0,$configPrefixed:!1,$configStrict:!1,config:{headers:undefined},subscribers:0,constructor:function(b){var a=this;a.mixins.observable.constructor.call(a,b);a.requests={};if(a.id==null){a.id=Ext.id(null,'provider-')}},destroy:function(){var a=this;a.disconnect(!0);a.callParent()},isConnected:function(){return this.subscribers>0},connect:function(){var a=this;if(a.subscribers===0){a.doConnect();a.fireEventArgs('connect',[a])}a.subscribers++},doConnect:Ext.emptyFn,disconnect:function(b){var a=this;if(a.subscribers>0||b){if(b){a.subscribers=0}else {a.subscribers--}if(a.subscribers===0){a.doDisconnect();a.fireEventArgs('disconnect',[a])}}},doDisconnect:function(){var a=this.requests,b,c;for(c in a){b=a[c];b.abort()}this.requests={}},sendAjaxRequest:function(b){var a=Ext.Ajax.request(b);if(a&&a.id){this.requests[a.id]=a}return a},onData:function(b,c,a){if(a&&a.request){delete this.requests[a.request.id]}},inheritableStatics:{checkConfig:Ext.returnFalse},onClassExtended:function(b,a,c){if(a.type){Ext.direct.Manager.addProviderClass(a.type,b)}}},1,0,0,0,['direct.provider'],[[Ext.mixin.Observable.prototype.mixinId||Ext.mixin.Observable.$className,Ext.mixin.Observable]],[Ext.direct,'Provider'],0);Ext.cmd.derive('Ext.data.proxy.Direct',Ext.data.proxy.Server,{alternateClassName:'Ext.data.DirectProxy',config:{paramOrder:undefined,paramsAsHash:!0,directFn:undefined,api:undefined,metadata:undefined},paramOrderRe:/[\s,|]/,constructor:function(a){Ext.data.proxy.Server.prototype.constructor.call(this,a);this.canceledOperations={}},applyParamOrder:function(a){if(Ext.isString(a)){a=a.split(this.paramOrderRe)}return a},updateApi:function(){this.methodsResolved=!1},updateDirectFn:function(){this.methodsResolved=!1},resolveMethods:function(){var a=this,c=a.getDirectFn(),b=a.getApi(),d;if(c){a.setDirectFn(d=Ext.direct.Manager.parseMethod(c));if(!Ext.isFunction(d)){Ext.raise('Cannot resolve directFn '+c)}}if(b){b=Ext.direct.Manager.resolveApi(b,a);a.setApi(b)}a.methodsResolved=!0},doRequest:function(e){var a=this,d,b,f,g,h,i,c;if(!a.methodsResolved){a.resolveMethods()}b=a.buildRequest(e);f=b.getAction();i=a.getApi();if(i){c=i[f]}c=c||a.getDirectFn();d=a.getWriter();if(d&&e.allowWrite()){b=d.write(b)}if(f==='read'){g=b.getParams()}else {g=b.getJsonData()}h=c.directCfg.method.getArgs({params:g,allowSingle:d.getAllowSingle(),paramOrder:a.getParamOrder(),paramsAsHash:a.getParamsAsHash(),paramsAsArray:!0,metadata:a.getMetadata(),callback:a.createRequestCallback(b,e),scope:a});b.setConfig({args:h,directFn:c});c.apply(window,h);return b},abort:function(a){var b;if(a&&a.isDataRequest){a=a.getOperation()}if(a&&a.isOperation){b=a.id}if(b!=null){this.canceledOperations[b]=!0}},applyEncoding:Ext.identityFn,createRequestCallback:function(c,a){var b=this;return function(e,d){if(!b.canceledOperations[a.id]){b.processResponse(d.status,a,c,d)}delete b.canceledOperations[a.id]}},extractResponseData:function(a){return Ext.isDefined(a.result)?a.result:a.data},setException:function(a,b){a.setException(b.message)},buildUrl:function(){return ''}},1,0,0,0,['proxy.direct'],0,[Ext.data.proxy,'Direct',Ext.data,'DirectProxy'],0);Ext.define('App.overrides.data.proxy.Direct',{override:'Ext.data.proxy.Direct',update:function(a){(arguments.callee.$previous||Ext.data.proxy.Server.prototype.update).apply(this,arguments)}});Ext.cmd.derive('Ext.data.JsonP',Ext.Base,{singleton:!0,requestCount:0,requests:{},timeout:30000,disableCaching:!0,disableCachingParam:'_dc',callbackKey:'callback',request:function(a){a=Ext.apply({},a);var b=this,l=Ext.isDefined(a.disableCaching)?a.disableCaching:b.disableCaching,h=a.disableCachingParam||b.disableCachingParam,f=++b.requestCount,e=a.callbackName||'callback'+f,g=a.callbackKey||b.callbackKey,i=Ext.isDefined(a.timeout)?a.timeout:b.timeout,d=Ext.apply({},a.params),k=a.url,m=Ext.name,c,j;if(l&&!d[h]){d[h]=Ext.Date.now()}a.params=d;d[g]=m+'.data.JsonP.'+e;j=b.createScript(k,d,a);b.requests[f]=c={url:k,params:d,script:j,id:f,scope:a.scope,success:a.success,failure:a.failure,callback:a.callback,callbackKey:g,callbackName:e};if(i>0){c.timeout=Ext.defer(b.handleTimeout,i,b,[c])}b.setupErrorHandling(c);b[e]=b.bindResponse(c);b.loadScript(c);return c},bindResponse:function(a){var b=this;return function(c){Ext.elevate(function(){b.handleResponse(c,a)})}},abort:function(a){var d=this,b=d.requests,c;if(a){if(!a.id){a=b[a]}d.handleAbort(a)}else {for(c in b){if(b.hasOwnProperty(c)){d.abort(b[c])}}}},setupErrorHandling:function(a){a.script.onerror=Ext.bind(this.handleError,this,[a])},handleAbort:function(a){a.errorType='abort';this.handleResponse(null,a)},handleError:function(a){a.errorType='error';this.handleResponse(null,a)},cleanupErrorHandling:function(a){a.script.onerror=null},handleTimeout:function(a){a.errorType='timeout';this.handleResponse(null,a)},handleResponse:function(c,a){var b=!0;Ext.undefer(a.timeout);delete this[a.callbackName];delete this.requests[a.id];this.cleanupErrorHandling(a);Ext.fly(a.script).destroy();if(a.errorType){b=!1;Ext.callback(a.failure,a.scope,[a.errorType])}else {Ext.callback(a.success,a.scope,[c])}Ext.callback(a.callback,a.scope,[b,c,a.errorType])},createScript:function(c,b,d){var a=document.createElement('script');a.setAttribute('src',Ext.urlAppend(c,Ext.Object.toQueryString(b)));a.setAttribute('async',!0);a.setAttribute('type','text/javascript');return a},loadScript:function(a){Ext.getHead().appendChild(a.script)}},0,0,0,0,0,0,[Ext.data,'JsonP'],0);Ext.cmd.derive('Ext.data.NodeInterface',Ext.Base,{statics:{decorate:function(f){var a=Ext.data.schema.Schema.lookupEntity(f),e=a.prototype,c,b,d;if(!a.prototype.isObservable){a.mixin(Ext.mixin.Observable.prototype.mixinId,Ext.mixin.Observable)}if(e.isNode){return}c=e.idProperty;b=a.getField(c);d=b.type;a.override(this.getPrototypeBody());a.addFields([{name:'parentId',type:d,defaultValue:null,allowNull:b.allowNull},{name:'index',type:'int',defaultValue:-1,persist:!1,convert:null},{name:'depth',type:'int',defaultValue:0,persist:!1,convert:null},{name:'expanded',type:'bool',defaultValue:!1,persist:!1,convert:null},{name:'expandable',type:'bool',defaultValue:!0,persist:!1,convert:null},{name:'checked',type:'auto',defaultValue:null,persist:!1,convert:null},{name:'leaf',type:'bool',defaultValue:!1},{name:'cls',type:'string',defaultValue:'',persist:!1,convert:null},{name:'iconCls',type:'string',defaultValue:'',persist:!1,convert:null},{name:'icon',type:'string',defaultValue:'',persist:!1,convert:null},{name:'glyph',type:'string',defaultValue:'',persist:!1,convert:null},{name:'root',type:'boolean',defaultValue:!1,persist:!1,convert:null},{name:'isLast',type:'boolean',defaultValue:!1,persist:!1,convert:null},{name:'isFirst',type:'boolean',defaultValue:!1,persist:!1,convert:null},{name:'allowDrop',type:'boolean',defaultValue:!0,persist:!1,convert:null},{name:'allowDrag',type:'boolean',defaultValue:!0,persist:!1,convert:null},{name:'loaded',type:'boolean',defaultValue:!1,persist:!1,convert:null},{name:'loading',type:'boolean',defaultValue:!1,persist:!1,convert:null},{name:'href',type:'string',defaultValue:'',persist:!1,convert:null},{name:'hrefTarget',type:'string',defaultValue:'',persist:!1,convert:null},{name:'qtip',type:'string',defaultValue:'',persist:!1,convert:null},{name:'qtitle',type:'string',defaultValue:'',persist:!1,convert:null},{name:'qshowDelay',type:'int',defaultValue:0,persist:!1,convert:null},{name:'children',type:'auto',defaultValue:null,persist:!1,convert:null},{name:'visible',type:'boolean',defaultValue:!0,persist:!1},{name:'text',type:'string',persist:!1}])},getPrototypeBody:function(){var a={idchanged:!0,append:!0,remove:!0,move:!0,insert:!0,beforeappend:!0,beforeremove:!0,beforemove:!0,beforeinsert:!0,expand:!0,collapse:!0,beforeexpand:!0,beforecollapse:!0,sort:!0},b={silent:!0};return {isNode:!0,firstChild:null,lastChild:null,parentNode:null,previousSibling:null,nextSibling:null,constructor:function(){var a=this;a.mixins.observable.constructor.call(a);a.callParent(arguments);a.childNodes=[];return a},createNode:function(a){var b=this,j=b.childType,h,f,g,c,d,e,i=b.self;if(!a.isModel){if(j){i=b.schema.getEntity(j)}else {h=b.getTreeStore();f=h&&h.getProxy().getReader();g=b.getProxy();c=g?g.getReader():null;d=!f||c&&c.initialConfig.typeProperty?c:f;if(d){e=d.getTypeProperty();if(e){i=d.getChildType(b.schema,a,e)}}}a=new i(a)}if(!a.childNodes){a.firstChild=a.lastChild=a.parentNode=a.previousSibling=a.nextSibling=null;a.childNodes=[]}return a},isLeaf:function(){return this.get('leaf')===!0},setFirstChild:function(a){this.firstChild=a},setLastChild:function(a){this.lastChild=a},updateInfo:function(b,c){var a=this,i=a.phantom,h,g,e,f,d;b={silent:!0,commit:b};if(c.depth!=null&&c.depth!==a.data.depth){g={depth:c.depth+1};e=a.childNodes;f=e.length;for(d=0;d<f;d++){e[d].updateInfo(b,g)}}h=a.set(c,b);a.phantom=i;return h},isLast:function(){return this.get('isLast')},isFirst:function(){return this.get('isFirst')},hasChildNodes:function(){return !this.isLeaf()&&this.childNodes.length>0},isExpandable:function(){var a=this;if(a.get('expandable')){return !(a.isLeaf()||a.isLoaded()&&!a.phantom&&!a.hasChildNodes())}return !1},triggerUIUpdate:function(){this.callJoined('afterEdit',[])},appendChild:function(b,h,m){var a=this,d=a.getTreeStore(),g=d&&d.bulkUpdate,l={isLast:!0,parentId:a.getId(),depth:(a.data.depth||0)+1},e,f,k,c,i,j,n;Ext.suspendLayouts();if(Ext.isArray(b)){n=b.length;i=new Array(n);a.callTreeStore('beginFill');for(j=0;j<n;j++){i[j]=a.appendChild(b[j],h,m)}a.callTreeStore('endFill',[i])}else {b=a.createNode(b);if(h!==!0&&a.fireBubbledEvent('beforeappend',[a,b])===!1){Ext.resumeLayouts(!0);return !1}c=a.childNodes.length;e=b.parentNode;if(e){if(h!==!0&&b.fireBubbledEvent('beforemove',[b,e,a,c])===!1){Ext.resumeLayouts(!0);return !1}if(e.removeChild(b,!1,h,e.getTreeStore()===d)===!1){Ext.resumeLayouts(!0);return !1}}if(d){d.beginUpdate()}c=a.childNodes.length;if(c===0){a.setFirstChild(b)}a.childNodes[c]=b;b.parentNode=a;b.nextSibling=null;a.setLastChild(b);f=a.childNodes[c-1];if(f){b.previousSibling=f;f.nextSibling=b;f.updateInfo(m,{isLast:!1});if(!g){f.triggerUIUpdate()}}else {b.previousSibling=null}l.isFirst=c===0;l.index=c;k=b.updateInfo(m,l);if(a.isLeaf()){a.set('leaf',!1)}if(!a.isLoaded()){if(g){a.data.loaded=!0}else {a.set('loaded',!0)}}else if(a.childNodes.length===1&&!g){a.triggerUIUpdate()}if(c&&a.childNodes[c-1].isExpanded()&&!g){a.childNodes[c-1].cascade(a.triggerUIUpdate)}if(d){d.registerNode(a,!g);if(g){d.registerNode(b)}}if(h!==!0){a.fireBubbledEvent('append',[a,b,c]);if(e){b.fireBubbledEvent('move',[b,e,a,c])}}a.callTreeStore('onNodeAppend',[b,c]);if(k){b.callJoined('afterEdit',[k])}i=b;if(d){d.endUpdate()}}Ext.resumeLayouts(!0);return i},getOwnerTree:function(){var a=this.getTreeStore();return a&&a.ownerTree},getTreeStore:function(){var a=this;while(a&&!a.treeStore){a=a.parentNode}return a&&a.treeStore},removeChild:function(a,n,i,f){var c=this,h=c.indexOf(a),g,m,d,e=c.getTreeStore(),l=e&&e.bulkUpdate,j,k=[];if(h===-1||i!==!0&&c.fireBubbledEvent('beforeremove',[c,a,!!f])===!1){return !1}Ext.suspendLayouts();if(e){e.beginUpdate()}Ext.Array.erase(c.childNodes,h,1);if(c.firstChild===a){c.setFirstChild(a.nextSibling)}if(c.lastChild===a){c.setLastChild(a.previousSibling)}d=a.previousSibling;if(d){a.previousSibling.nextSibling=a.nextSibling}if(a.nextSibling){a.nextSibling.previousSibling=a.previousSibling;if(h===0){a.nextSibling.updateInfo(!1,{isFirst:!0})}for(g=h,m=c.childNodes.length;g<m;g++){c.childNodes[g].updateInfo(!1,{index:g})}}else if(d){d.updateInfo(!1,{isLast:!0});if(!l){if(d.isExpanded()){d.cascade(c.triggerUIUpdate)}else {d.triggerUIUpdate()}}}if(!c.childNodes.length&&!l){c.triggerUIUpdate()}Ext.resumeLayouts(!0);if(i!==!0){j={parentNode:a.parentNode,previousSibling:a.previousSibling,nextSibling:a.nextSibling};c.callTreeStore('beforeNodeRemove',[[a],!!f,k]);a.previousSibling=a.nextSibling=a.parentNode=null;c.fireBubbledEvent('remove',[c,a,!!f,j]);c.callTreeStore('onNodeRemove',[[a],!!f,k])}if(n){a.erase(!0)}else {a.clear()}if(!f){a.set({parentId:null,lastParentId:c.getId()},b)}if(e){e.endUpdate()}return a},copy:function(g,a,f){var b=this,d,e=[g],h=b.childNodes?b.childNodes.length:0,c;if(a&&a.isSession){e.push(a)}else if(arguments.length<3){f=a}d=b.callParent(e);if(f){for(c=0;c<h;c++){d.appendChild(b.childNodes[c].copy(undefined,!0))}}return d},clear:function(c,b){var a=this;a.parentNode=a.previousSibling=a.nextSibling=null;if(c){a.firstChild=a.lastChild=a.childNodes=null}if(b){a.firstChild=a.lastChild=null;a.childNodes.length=0;if(a.data){a.data.children=null}}},drop:function(){var a=this,d=a.childNodes,f=a.parentNode,b=a.getTreeStore(),e,c,g;a.callParent();if(f){f.removeChild(a)}else if(a.get('root')){b.setRoot(null)}if(b){b.beginUpdate()}for(c=0,g=d?d.length:0;c<g;c++){e=d[c];e.clear();e.drop()}if(b){b.endUpdate()}},erase:function(e){var a=this,c=a.childNodes,f=c&&c.length,b,d;a.remove();a.clear(!0);a.callParent([e]);for(b=0;b<f;b++){d=c[b];d.parentNode=null;d.erase(e)}},insertBefore:function(b,e,i){var a=this,n=a.indexOf(e),f=b.parentNode,d=n,o,h,g,c=a.getTreeStore(),l=c&&c.bulkUpdate,k,m,j;if(!e){return a.appendChild(b)}if(b===e){return !1}b=a.createNode(b);if(i!==!0&&a.fireBubbledEvent('beforeinsert',[a,b,e])===!1){return !1}if(f===a&&a.indexOf(b)<n){d--}if(f){if(i!==!0&&b.fireBubbledEvent('beforemove',[b,f,a,n,e])===!1){return !1}if(f.removeChild(b,!1,i,f.getTreeStore()===c)===!1){return !1}}if(c){c.beginUpdate()}if(d===0){a.setFirstChild(b)}Ext.Array.splice(a.childNodes,d,0,b);b.parentNode=a;b.nextSibling=e;e.previousSibling=b;h=a.childNodes[d-1];if(h){b.previousSibling=h;h.nextSibling=b}else {b.previousSibling=null}k=b.updateInfo(!1,{parentId:a.getId(),index:d,isFirst:d===0,isLast:!1,depth:(a.data.depth||0)+1});for(g=d+1,o=a.childNodes.length;g<o;g++){m=a.childNodes[g];j=m.updateInfo(!1,{index:g});if(j){m.callJoined('afterEdit',[j])}}if(!a.isLoaded()){if(l){a.data.loaded=!0}else {a.set('loaded',!0)}}else if(a.childNodes.length===1&&!l){a.triggerUIUpdate()}if(c){c.registerNode(a,!l)}if(i!==!0){a.fireBubbledEvent('insert',[a,b,e]);if(f){b.fireBubbledEvent('move',[b,f,a,d,e])}}a.callTreeStore('onNodeInsert',[b,d]);if(k){b.callJoined('afterEdit',[k])}if(c){c.endUpdate()}return b},insertChild:function(c,b){var a=this.childNodes[c];if(a){return this.insertBefore(b,a)}else {return this.appendChild(b)}},isLastVisible:function(){var b=this,c=b.data.isLast,a=b.nextSibling;if(!c&&b.getTreeStore().isFiltered()){while(a){if(a.data.visible){return !1}a=a.nextSibling}return !0}return c},remove:function(c,d){var a=this,b=a.parentNode;if(b){b.removeChild(a,c,d)}else if(c){a.erase(!0)}return a},removeAll:function(j,i,f){var a=this,d=a.childNodes,h=d.length,c,b,e,g=[];if(!h){return a}if(!f){b=a.getTreeStore();if(b){b.beginUpdate();b.suspendEvent('remove');a.callTreeStore('beforeNodeRemove',[d,!1,g])}}for(e=0;e<h;++e){c=d[e];c.previousSibling=c.nextSibling=c.parentNode=null;a.fireBubbledEvent('remove',[a,c,!1]);if(j){c.erase(!0)}else {c.removeAll(!1,i,!0)}}if(!f&&b){b.resumeEvent('remove');a.callTreeStore('onNodeRemove',[d,!1,g]);b.endUpdate()}a.firstChild=a.lastChild=null;d.length=0;if(!f){a.triggerUIUpdate()}return a},getChildAt:function(a){return this.childNodes[a]},replaceChild:function(c,a,b){var d=a?a.nextSibling:null;this.removeChild(a,!1,b);this.insertBefore(c,d,b);return a},indexOf:function(a){return Ext.Array.indexOf(this.childNodes,a)},indexOfId:function(d){var b=this.childNodes,c=b.length,a=0;for(;a<c;++a){if(b[a].getId()===d){return a}}return -1},getPath:function(c,a){c=c||this.idProperty;a=a||'/';var d=[this.get(c)],b=this.parentNode;while(b){d.unshift(b.get(c));b=b.parentNode}return a+d.join(a)},getDepth:function(){return this.get('depth')},bubble:function(d,b,c){var a=this;while(a){if(d.apply(b||a,c||[a])===!1){break}a=a.parentNode}},cascade:function(a,g,h,f){var b=this,e=a,d,i,c;if(arguments.length===1&&!Ext.isFunction(a)){f=a.after;g=a.scope;h=a.args;e=a.before}if(!e||e.apply(g||b,h||[b])!==!1){d=b.childNodes;for(c=0,i=d.length;c<i;c++){d[c].cascade.call(d[c],e,g,h,f)}if(f){f.apply(g||b,h||[b])}}},cascadeBy:function(){return this.cascade.apply(this,arguments)},eachChild:function(f,d,e){var b=this.childNodes,c=b.length,a;for(a=0;a<c;a++){if(f.apply(d||this,e||[b[a]])===!1){break}}},findChild:function(a,b,c){return this.findChildBy(function(){return this.get(a)==b},null,c)},findChildBy:function(h,d,e){var g=this.childNodes,b,f,a,c;for(b=0,f=g.length;b<f;b++){a=g[b];if(h.call(d||a,a)===!0){return a}else if(e){c=a.findChildBy(h,d,e);if(c!==null){return c}}}return null},contains:function(a){return a.isAncestor(this)},isAncestor:function(b){var a=this.parentNode;while(a){if(a===b){return !0}a=a.parentNode}return !1},sort:function(e,i,h){var c=this,a=c.childNodes,g=a.length,f={isFirst:!0},b,d;if(g>0){if(!e){e=c.getTreeStore().getSortFn()}Ext.Array.sort(a,e);c.setFirstChild(a[0]);c.setLastChild(a[g-1]);for(b=0;b<g;b++){d=a[b];d.previousSibling=a[b-1];d.nextSibling=a[b+1];f.isLast=b===g-1;f.index=b;d.updateInfo(!1,f);f.isFirst=!1;if(i&&!d.isLeaf()){d.sort(e,!0,!0)}}if(h!==!0){c.fireBubbledEvent('sort',[c,a]);c.callTreeStore('onNodeSort',[a])}}},isExpanded:function(){return this.get('expanded')},isLoaded:function(){return this.get('loaded')},isBranchLoaded:function(){var a=!this.isLeaf()&&this.isLoaded();if(a){this.cascade(function(b){if(!b.isLeaf()){a=a||b.isBranchLoaded()}return a})}return a},isLoading:function(){return this.get('loading')},isRoot:function(){return !this.parentNode},isVisible:function(){var a=this.parentNode;while(a){if(!a.isExpanded()){return !1}a=a.parentNode}return !0},expand:function(e,c,d){var a=this,b,f;if(!a.isLeaf()){if(a.isLoading()){a.on('expand',function(){a.expand(e,c,d)},a,{single:!0})}else {if(!a.isExpanded()){if(a.fireBubbledEvent('beforeexpand',[a])!==!1){if(e){if(a.parentNode&&a.parentNode.isSynchronousRecursiveExpand){a.isSynchronousRecursiveExpand=!0}else {b=a.getTreeStore();if(b.getProxy().isSynchronous||a.isBranchLoaded()){a.isSynchronousRecursiveExpand=!0;b.suspendEvent('add','datachanged');f=!0}}}a.callTreeStore('onBeforeNodeExpand',[a.onChildNodesAvailable,a,[e,c,d]]);if(f){b.resumeEvent('add','datachanged');b.fireEvent('datachanged',b);b.fireEvent('refresh',b)}a.isSynchronousRecursiveExpand=!1}}else if(e){a.expandChildren(!0,c,d)}else {Ext.callback(c,d||a,[a.childNodes])}}}else {Ext.callback(c,d||a)}},onChildNodesAvailable:function(h,j,g,i){var b=this,e=b.getTreeStore(),f=e&&e.bulkUpdate,a,c,d;Ext.suspendLayouts();for(a=b.parentNode;a;a=a.parentNode){if(!a.isExpanded()){(c||(c=[])).unshift(a)}}if(f||!e.isVisible(b)){b.data.expanded=!0}else {b.set('expanded',!0)}if(c){for(d=1;d<c.length;d++){a=c[d];if(f||!e.isVisible(a)){a.data.expanded=!0}else {a.set('expanded',!0)}}c[0].expand();for(d=1;d<c.length;d++){a=c[d];a.fireBubbledEvent('expand',[a,a.childNodes])}}else {b.callTreeStore('onNodeExpand',[h,!1])}b.fireBubbledEvent('expand',[b,h]);if(j){b.expandChildren(!0,g,i)}else {Ext.callback(g,i||b,[b.childNodes])}Ext.resumeLayouts(!0)},expandChildren:function(l,d,i,b){var g=this,k,a,e,c,f,j,h;if(Ext.isBoolean(d)){k=d;d=i;i=b;b=k}if(b===undefined){h=g.getTreeStore();b=h&&h.singleExpand}e=g.childNodes;c=[];f=b?Math.min(e.length,1):e.length;for(a=0;a<f;++a){j=e[a];if(!j.isLeaf()){c[c.length]=j}}f=c.length;for(a=0;a<f;++a){c[a].expand(l)}if(d){Ext.callback(d,i||g,[g.childNodes])}},collapse:function(f,b,d){var a=this,j=a.isExpanded(),g=a.getTreeStore(),i=g&&g.bulkUpdate,h=a.childNodes.length,c,e;if(!a.isLeaf()&&(!j&&f||a.fireBubbledEvent('beforecollapse',[a])!==!1)){Ext.suspendLayouts();if(a.isExpanded()){if(f){e=function(){for(c=0;c<h;c++){a.childNodes[c].setCollapsed(!0)}};if(b){b=Ext.Function.createSequence(e,Ext.Function.bind(b,d,[a.childNodes]))}else {b=e}}else if(b){b=Ext.Function.bind(b,d,[a.childNodes])}if(i||!g.contains(a)){a.data.expanded=!1}else {a.set('expanded',!1)}a.callTreeStore('onNodeCollapse',[a.childNodes,b,d]);a.fireBubbledEvent('collapse',[a,a.childNodes]);b=null}else if(f){for(c=0;c<h;c++){a.childNodes[c].setCollapsed(!0)}}Ext.resumeLayouts(!0)}Ext.callback(b,d||a,[a.childNodes])},setCollapsed:function(c){var a=this,d=a.childNodes.length,b;if(!a.isLeaf()&&a.fireBubbledEvent('beforecollapse',[a])!==!1){a.data.expanded=!1;a.fireBubbledEvent('collapse',[a,a.childNodes]);if(c){for(b=0;b<d;b++){a.childNodes[b].setCollapsed(!0)}}}},collapseChildren:function(e,g,h){var i=this,f=i.childNodes,c=f.length,d=[],b,a;for(a=0;a<c;++a){b=f[a];if(!b.isLeaf()&&b.isLoaded()&&b.isExpanded()){d.push(b)}}c=d.length;if(c){for(a=0;a<c;++a){b=d[a];if(a===c-1){b.collapse(e,g,h)}else {b.collapse(e)}}}else {Ext.callback(g,h)}},fireEvent:function(a){return this.fireBubbledEvent(a,Ext.Array.slice(arguments,1))},fireBubbledEvent:function(c,f){var d,b,e;if(a[c]){for(b=this;d!==!1&&b;b=(e=b).parentNode){d=b.fireEventArgs.call(b,c,f)}if(d!==!1){b=e.getTreeStore();if(b&&b.hasListeners&&b.hasListeners[c='node'+c]){d=b.fireEventArgs(c,f)}}return d}else {return this.fireEventArgs.apply(this,arguments)}},serialize:function(g){var e=g||new Ext.data.writer.Json({writeAllFields:!0}),d=e.getRecordData(this),b=this.childNodes,f=b.length,c,a;if(f>0){d.children=c=[];for(a=0;a<f;a++){c.push(b[a].serialize(e))}}return d},callTreeStore:function(e,a){var c=this,b=c.getTreeStore(),d=b&&b[e];if(b&&d){a=a||[];if(a[0]!==c){a.unshift(c)}d.apply(b,a)}},addCls:function(a){this.replaceCls(null,a)},removeCls:function(a){this.replaceCls(a)},replaceCls:function(d,c){var a=this._parseCls(this.data.cls),b=this._parseCls(d);if(b.length){a=Ext.Array.difference(a,b)}b=this._parseCls(c);if(b.length){a=Ext.Array.unique(a.concat(b))}this.set('cls',a.join(' '))},toggleCls:function(e,f){var a,d,g,b,c;if(f===undefined){a=this._parseCls(this.data.cls);d=this._parseCls(e);for(b=0,g=d.length;b<g;++b){c=d[b];if(Ext.Array.contains(a,c)){Ext.Array.remove(a,c)}else {a.push(c)}}this.set('cls',a.join(' '))}else if(f){this.addCls(e)}else {this.removeCls(e)}},privates:{_noCls:[],spacesRe:/\s+/,join:function(a){if(a.isTreeStore){if(this.isRoot()){this.treeStore=this.store=a}}else {this.callParent([a])}},callJoined:function(a,b){this.callParent([a,b]);this.callTreeStore(a,b)},_parseCls:function(a){if(!a){return this._noCls}if(typeof a==='string'){return a.split(this.spacesRe)}return a}}}}}},0,0,0,0,0,0,[Ext.data,'NodeInterface'],0);Ext.cmd.derive('Ext.data.TreeModel',Ext.data.Model,{getRefItems:function(){return this.childNodes},getRefOwner:function(){return this.parentNode},statics:{defaultProxy:'memory'}},0,0,0,0,0,[[Ext.mixin.Queryable.prototype.mixinId||Ext.mixin.Queryable.$className,Ext.mixin.Queryable]],[Ext.data,'TreeModel'],function(){Ext.data.NodeInterface.decorate(this)});Ext.cmd.derive('Ext.data.NodeStore',Ext.data.Store,{isNodeStore:!0,config:{node:null,recursive:!1,rootVisible:!1,folderSort:!1},implicitModel:'Ext.data.TreeModel',getTotalCount:function(){return this.getCount()},updateFolderSort:function(b){var a=this.getData();a.setTrackGroups(!1);if(b){a.setGrouper({groupFn:this.folderSortFn})}else {a.setGrouper(null)}},folderSortFn:function(a){return a.data.leaf?1:0},afterReject:function(b){var a=this;if(a.contains(b)){a.onUpdate(b,Ext.data.Model.REJECT,null);a.fireEvent('update',a,b,Ext.data.Model.REJECT,null)}},afterCommit:function(c,a){var b=this;if(!a){a=null}if(b.contains(c)){b.onUpdate(c,Ext.data.Model.COMMIT,a);b.fireEvent('update',b,c,Ext.data.Model.COMMIT,a)}},onNodeAppend:function(b,a){if(b===this.getNode()){this.add([a].concat(this.retrieveChildNodes(a)))}},onNodeInsert:function(c,b,d){var a=this;if(c===a.getNode()){a.insert(0,[b].concat(a.retrieveChildNodes(b)))}},onNodeRemove:function(b,a){if(b===this.getNode()){this.remove([a].concat(this.retrieveChildNodes(a)))}},onNodeExpand:function(b,a){if(b===this.getNode()){this.loadRecords(a)}},applyNode:function(a){if(a){if(!a.isModel){a=new (this.getModel())(a)}if(!a.isNode){Ext.data.NodeInterface.decorate(a)}}return a},updateNode:function(b,d){var a=this,c;if(d&&!d.destroyed){d.un({append:'onNodeAppend',insert:'onNodeInsert',remove:'onNodeRemove',scope:a});d.unjoin(a)}if(b){b.on({scope:a,append:'onNodeAppend',insert:'onNodeInsert',remove:'onNodeRemove'});b.join(a);c=[];if(b.childNodes.length){c=c.concat(a.retrieveChildNodes(b))}if(a.getRootVisible()){c.push(b)}else if(b.isLoaded()||b.isLoading()){b.set('expanded',!0)}a.getData().clear();a.fireEvent('clear',a);a.suspendEvents();if(a.isInitializing){a.inlineData=c}else {a.add(c)}a.resumeEvents();if(c.length===0){a.loaded=b.loaded=!0}a.fireEvent('refresh',a,a.data)}},isVisible:function(b){var a=b.parentNode;if(!this.getRecursive()&&a!==this.getNode()){return !1}while(a){if(!a.isExpanded()){return !1}if(a===this.getNode()){break}a=a.parentNode}return !0},privates:{retrieveChildNodes:function(b){var e=this.getNode(),d=this.getRecursive(),c=[],a=b;if(!b.childNodes.length||!d&&b!==e){return c}if(!d){return b.childNodes}while(a){if(a._added){delete a._added;if(a===b){break}else {a=a.nextSibling||a.parentNode}}else {if(a!==b){c.push(a)}if(a.firstChild){a._added=!0;a=a.firstChild}else {a=a.nextSibling||a.parentNode}}}return c}}},0,0,0,0,['store.node'],0,[Ext.data,'NodeStore'],0);Ext.cmd.derive('Ext.data.query.Compiler',Ext.Base,{compile:function(){var a=this,e=a.ast,b,d,c;a.error=null;if(!e){a.fn=Ext.returnTrue}else {b=['return function (item) {','\tvar rec = item.isEntity && item;','\treturn '];c=[];a.query=a;a.assemble(b,c,'\t',e);b.push('}');b=c.concat(b).join('\n');try{d=new Function('Ext','O','F',b);a.fn=d(Ext,a.operators,a.getFunctions());a.fn.generation=a.generation}catch(f){a.error=f;f.message='Failed to compile: '+f.message;throw f}finally{a.query=null}}},privates:{asmOps:{'>':'gt','<':'lt','==':'eq','>=':'ge','<=':'le','!=':'ne'},assemblers:{binary:function(d,a,l,g,k,j,e){var b=d.operatorTypeMap[k.type][1],h=d.asmOps[b],f=k.on,i='',c;if(h){a[j]+='O.'+h+'(';b=', ';i=')'}else {b=' '+b+' '}a[j]+='(';for(c=0;c<f.length;++c){if(c){a.push(g+')'+b+'(')}a.push(e);d.assemble(a,l,e,f[c])}a.push(g+')'+i)},between:function(i,a,h,f,g,c,d){var e=g.on,b;a[c]+='O.between(';for(b=0;b<3;++b){if(b){c=a.length-1;a[c]+=', '}i.assemble(a,h,d,e[b])}a.push(f+')')},fn:function(j,a,k,h,i,d,g){var f=i.fn.toLowerCase(),c=j.query.getFunctions(),e,b;c=c[f];if(c.vargs){a[d]+='F.'+f+'.fn(['}else {a[d]+='F.'+f+'.fn('}e=i.args;for(b=0;b<e.length;++b){if(b){d=a.length-1;a[d]+=', '}a.push(g);j.assemble(a,k,g,e[b])}if(c.vargs){a.push(h+'])')}else {a.push(h+')')}},id:function(i,c,e,h,f,d,g){var a=f.value,b=a.split('.');if(b.length===1){c[d]+='rec ? rec.interpret('+Ext.JSON.encode(a)+') : item.'+a}else {a='p'+e.length;e.push('var '+a+' = '+Ext.JSON.encode(b)+';');c[d]+='O.dots(item, '+a+')'}},'in':function(f,a,e,g,h,b,c){var d=h.on;a[b]+='O.in(';f.assemble(a,e,c,d[0]);b=a.length-1;a[b]+=', ';f.assemble(a,e,c,d[1]);a.push(g+')')},like:function(g,a,f,i,h,c,d){var e=h.on,b;a[c]+='O.like(';g.assemble(a,f,d,e[0]);c=a.length-1;a[c]+=', ';b=e[1];if(b.re){b={type:'regexp',value:b.re,flags:b.flags}}g.assemble(a,f,d,b);c=a.length-1;a[c]+=') '},list:function(i,a,h,f,g,c,d){a[c]+='[';for(var b=0,e=g.value;b<e.length;++b){if(b){c=a.length-1;a[c]+=', '}a.push(d);i.assemble(a,h,d,e[b])}a.push(f+']')},string:'regexp',regexp:function(g,d,b,f,a,e){var c='re'+b.length;b.push('var '+c+' = /'+(a.re||a.value)+'/'+(a.flags||'')+';');d[e]+=c},unary:function(d,a,h,f,c,g,b){var i=d.operatorTypeMap[c.type][1],e=c.on;a[g]+=i+'(';a.push(b);d.assemble(a,h,b,e);a.push(f+')')}},operators:{between:function(a,c,b){return c<=a&&a<=b},dots:function(d,c){var b,a;if(d.isEntity){for(a=d,b=0;b<c.length;++b){if(!a||!a.interpret){a=undefined;break}a=a.interpret(c[b])}}else {for(a=d,b=0;b<c.length;++b){if(!a){a=undefined;break}a=a[c[b]]}}return a},'in':function(b,a){return Ext.Array.contains(a,b)},like:function(a,b){a=String(a);if(typeof b==='string'){return !!a&&a.toLowerCase().indexOf(b.toLowerCase())>-1}return b.test(a)},eq:function(a,b){if(a&&b&&(a instanceof Date||b instanceof Date)){return !Ext.Date.compare(a,b)}return a==b},ge:function(a,b){if(a&&b&&(a instanceof Date||b instanceof Date)){return Ext.Date.compare(a,b)>=0}return a>=b},gt:function(a,b){if(a&&b&&(a instanceof Date||b instanceof Date)){return Ext.Date.compare(a,b)>0}return a>b},le:function(a,b){if(a&&b&&(a instanceof Date||b instanceof Date)){return Ext.Date.compare(a,b)<=0}return a<=b},lt:function(a,b){if(a&&b&&(a instanceof Date||b instanceof Date)){return Ext.Date.compare(a,b)<0}return a<b},ne:function(a,b){if(a&&b&&(a instanceof Date||b instanceof Date)){return !!Ext.Date.compare(a,b)}return a!=b}},assemble:function(a,l,h,b){var f=this,d=f.assemblers,g=typeof b,i=a.length-1,k=h+'\t',j=b.type,e,c;if(g==='boolean'||g==='number'){a[i]+=b}else if(g==='string'){a[i]+=Ext.JSON.encode(b)}else {e=f.operatorTypeMap[j];c=d[j]||e&&d[e[0]];if(typeof c==='string'){c=d[c]}c(f,a,l,h,b,a.length-1,k)}}}},0,0,0,0,0,0,[Ext.data.query,'Compiler'],0);Ext.cmd.derive('Ext.data.query.Converter',Ext.Base,{getFilters:function(){var f=this,e=f.ast,m=f.exprToFilter,p=f.operatorTypeMap,j=f.fn,k=e&&e.on,b,n,h,d,a,l,g,c,o,i;if(e){if(j.hasOwnProperty('$filters')){c=j.$filters}else {if(e.type==='and'&&k){h=[];for(d=0,l=k.length;d<l;++d){b=k[d];a=b.on;if(!a||a.length!==2){break}o=a[1];a=a[0];if(a.type!=='id'){break}if(!(i=m[b.type])){g=p[b.type];if(!g||!(i=m[g[0]])){break}}if(!(n=i(b,a.value,o,g))){break}h.push(n)}if(d===l){c=h}}j.$filters=c}}else {c=null}return c},setFilters:function(d){var b=this,f=null,i=d&&d.length,e,a,c,h,g;if(i){f={type:'and',on:[]};for(c=0;c<i;++c){a=d[c];if(!(g=b.filterToExpr[h=a.operator])){e={type:b.getOperatorType(h),on:[{type:'id',value:a.property},a.value]}}else {e=g(a)}f.on.push(e)}}b.ast=f;b.refresh()},privates:{exprToFilter:{binary:function(d,b,a,c){return Ext.isPrimitive(a)&&{property:b,operator:c[1],value:a}},'in':function(e,d,c){var b=0,a=c.value;if(c.type==='list'&&Ext.isArray(a)){for(b=a.length;b-->0;){if(!Ext.isPrimitive(a[b])){break}}}return b<0&&{property:d,operator:'in',value:a}},like:function(c,b,a){if(a.type==='regexp'){return {property:b,operator:'/=',value:a.value}}return a.type==='string'&&{property:b,operator:'like',value:a.value}}},filterToExpr:{'/=':function(a){return {type:'like',on:[{type:'id',value:a.property},{type:'regexp',value:a.value}]}},'in':function(a){return {type:'in',on:[{type:'id',value:a.property},{type:'list',value:a.value}]}},like:function(a){return {type:'like',on:[{type:'id',value:a.property},{type:'string',value:a.value,re:Ext.String.escapeRegex(a.value),flags:'i'}]}}}}},0,0,0,0,0,0,[Ext.data.query,'Converter'],0);Ext.cmd.derive('Ext.data.query.Stringifier',Ext.Base,{stringify:function(b){var d=this,g=typeof b,f=b.type,h=d.operatorTypeMap,i=d.getPriority(b),e=d.stringifiers,c,a;if(g==='boolean'||g==='number'){return String(b)}if(g==='string'){return Ext.JSON.encode(b)}a=e[f];if(!a&&f in h){c=h[f];a=e[c[0]];c=c[2]||c[1]}if(typeof a==='string'){a=e[a]}return a(d,b,i,c)},privates:{getPriority:function(f){var c=this.symbols,d=this.operatorTypeMap,a=f.type,b=1000000000,e;if(a==='between'){b=0;b=c[a].priority}else if(a==='and'||a==='or'||a==='in'||a==='like'){b=c[a].priority}else if(a in d){e=d[a];b=c[e[1]].priority}return b},stringifiers:{and:'or',or:function(f,e,h){var i=e.type==='or'?' or ':' and ',c='',g=e.on,b,a,d;for(b=0;b<g.length;++b){if(c){c+=i}a=g[b];d=f.getPriority(a)<h;a=f.stringify(a);if(d){a='('+a+')'}c+=a}return c},between:function(d,j,f){var h=j.on,b=h[0],i=d.getPriority(b)<f,c,g,a,e;b=d.stringify(b);if(i){b='('+b+')'}e=b+' between ';f=d.symbols.and.priority;for(c=0;c<2;++c){if(c){e+=' and '}a=h[c+1];g=c?a.type!=='id'&&!Ext.isPrimitive(a):d.getPriority(a)<f;a=d.stringify(a);if(g){a='('+a+')'}e+=a}return e},binary:function(c,h,d,i){var e=h.on,a=e[0],b=e[1],f=c.getPriority(a)<d,g=c.getPriority(b)<d;a=c.stringify(a);b=c.stringify(b);if(f){a='('+a+')'}if(g){b='('+b+')'}return a+' '+i+' '+b},fn:function(b,a){return a.fn+'('+b.stringifyArray(a.args)+')'},id:function(b,a){return a.value},list:function(b,a){return '('+b.stringifyArray(a.value)+')'},regexp:function(b,a){return '/'+a.value+'/'+(a.flags||'')},string:function(b,a){return Ext.JSON.encode(a.value)},unary:function(e,d,g,f){var c=d.on,a=e.stringify(c),b=c.type;if(b!=='fn'&&b!=='id'&&b!=='unary'){a='('+a+')'}return f+a}},stringifyArray:function(d){var c='',b,a;for(b=0;b<d.length;++b){if(c){c+=', '}a=d[b];a=this.stringify(a);c+=a}return c}}},0,0,0,0,0,0,[Ext.data.query,'Stringifier'],0);Ext.cmd.derive('Ext.data.query.Parser',Ext.parse.Parser,function(a){var b={list:!0,literal:!0,type:'list'};return {tokenizer:{keywords:{and:{type:'operator',name:'and',value:'&&',is:{operator:!0}},or:{type:'operator',name:'or',value:'||',is:{operator:!0}},not:{type:'operator',name:'not',value:'!',is:{operator:!0}},between:{type:'operator',name:'between',value:'between',is:{operator:!0}},like:{type:'operator',name:'like',value:'like',is:{operator:!0}},'in':{type:'operator',name:'in',value:'in',is:{operator:!0}}},operators:{'=':'eq','==':'seq','===':'seq','!==':'sne','!=':'neq','<>':'neq','<':'lt','<=':'lte','>':'gt','>=':'gte','&&':'and','||':'or',',':'comma'},patterns:{regex:{type:'literal',is:{literal:!0,regexp:!0,type:'regexp'},re:/\/(?!\/)((?:\[.+?]|\\.|[^/\\\r\n])+)\/([gimyu]{0,5})/g,extract:function(c){var d=c[1],b=c[2];return b?[d,b]:d}}}},infix:{'=':40,'<>':40,like:40,between:{priority:70,led:function(d){var b=this,c=b.parser;b.arity='between';b.operand=d;b.low=c.parseExpression(c.symbols.and.priority);c.advance('&&');b.high=c.parseExpression(80);return b}},'in':{priority:40,led:function(e){var c=this,d=c.parser;d.advance('(');c.arity='binary';c.lhs=e;c.rhs={arity:'literal',value:d.parseList(),is:b};d.advance(')');return c}}},infixRight:{'and':30,'or':30},prefix:{not:0},parse:function(){var b=this.parseExpression();return this.convert(b)},privates:{opCodes:{binary:{'=':'eq','>':'gt','<':'lt','>=':'ge','<=':'le','!=':'ne','<>':'ne','+':'add','/':'div','*':'mul','-':'sub'},unary:{'-':'neg','!':'not'}},convert:function(c){var d=this,l=c.arity,g=c.is,f=c.name,k=d.opCodes,e=c.value,h,j,i,b;switch(l){case 'between':b={type:'between',on:[d.convert(c.operand),d.convert(c.low),d.convert(c.high)]};break;case 'ident':b={type:'id',value:e};break;case 'invoke':b={type:'fn',fn:c.operand.value,args:d.convertArray(c.args)};break;case 'unary':b={type:k.unary[e],on:d.convert(c.operand)};break;case 'binary':if(f==='and'||f==='or'){j=d.convert(c.lhs);i=d.convert(c.rhs);if(i.type===f){h=i.on;h.unshift(j)}else {h=[j,i]}b={type:f,on:h}}else {if(e==='or'){e='||'}b={type:k.binary[e]||f,on:[d.convert(c.lhs),d.convert(c.rhs)]};if(f==='like'){b.on[1]=d.likeToRe(b.on[1],c.rhs.at)}};break;case 'literal':if(g.string||g.number||g['boolean']){b=e}else {b={type:g.type,value:e};if(g.list){b.value=d.convertArray(e)}else if(g.regexp&&typeof e!=='string'){b.value=e[0];b.flags=e[1]}};break;}if(b&&typeof b==='object'&&!b.type){b.type=l}return b},convertArray:function(c){var d=[],b=c.length;for(;b-->0;){d[b]=this.convert(c[b])}return d},likeToRe:function(c,l){if(typeof c==='string'){c={type:'string',value:c}}else if(c.type==='regexp'){return c}var k=this.specialChars||(a.prototype.specialChars=Ext.Array.toMap('.+*?^$=!|:-<>[](){}\\'.split(''))),h=c.value,j=h.length,d='',g=!0,e,b,f,i;m: for(f=0;f<j;++f){b=h[f];if(!e){if(b==='\\'){e=b;continue}if(b==='*'||b==='%'){d+='.*';g=!1;continue}if(b==='?'||b==='_'){d+='.';g=!1;continue}if(b==='['){d+=b;g=!1;i=f;while(++f<j){b=h[f];if(e){d+=e+b;e=0}else if(b==='\\'){e=b}else {d+=b;if(b===']'){continue m}}}this.syntaxError(i+(c.at||l||0),'Incomplete character set')}}e=0;if(k[b]){d+='\\'}d+=b}c.re=d||'.*';if(g){c.flags='i'}else {c.re='^'+d+'$'}return c},parseList:function(){var c=this,b=[];do{if(b.length){c.advance()}b.push(c.parseExpression())}while(c.token.id===',');return b}}}},0,0,0,0,0,0,[Ext.data.query,'Parser'],0);Ext.cmd.derive('Ext.data.Query',Ext.util.BasicFilter,{config:{format:'ast',functions:{cached:!0,$value:{abs:function(a){return Math.abs(a)},'avg...':function(c){var a=0,d=0,e=c.length,b;for(;e-->0;){b=c[e];if(b!=null){d+=b;++a}}return a?d/a:0},date:function(a){return a instanceof Date?a:Ext.Date.parse(a)},lower:function(a){return a==null?'':String(a).toLowerCase()},'max...':function(c){var a=null,d=c.length,b;for(;d-->0;){b=c[d];if(b!=null){a=a===null?b:a<b?b:a}}return a},'min...':function(c){var a=null,d=c.length,b;for(;d-->0;){b=c[d];if(b!=null){a=a===null?b:a<b?a:b}}return a},'sum...':function(c){var a=null,d=c.length,b;for(;d-->0;){b=c[d];if(b!=null){a=a===null?b:a+b}}return a===null?0:a},upper:function(a){return a==null?'':String(a).toUpperCase()}}},source:''},ast:null,error:null,generation:0,identifiablePrefix:'ext-data-query-',constructor:function(a){var b=this;if(typeof a==='string'){a={source:a}}b.id=a&&a.id||b.generateAutoId();var c=Ext.data.query.Parser.fly();b.symbols=c.symbols;c.release();Ext.util.BasicFilter.prototype.constructor.call(this,a)},filter:function(c){var b=this,a=b.error;if(a){throw a}return !!b.fn(c)},refresh:function(){++this.generation;this.compile()},serialize:function(){var b=this,e=b.getFormat(),d=b.getSerializer(),a,c;switch(e){case 'ast':a=b.ast;if(d){a=Ext.clone(a)};break;case 'filters':a=b.getFilters()||null;break;case 'query':a=b.toString();break;}if(a&&d){c=d.call(this,a);if(c){a=c}}return a},serializeTo:function(b){var a=this.serialize(),c;if(a&&a.length){b.push.apply(b,a);c=!0}return c},sync:function(){var a=this,b=a.fn;if(!b||b.generation!==a.generation){a.compile()}},toString:function(){var a=this.ast;return a?this.stringify(a):''},applyFunctions:function(d){var e={},f=this.vargsRe,c,a,b;for(a in d){c={fn:d[b=a],vargs:f.test(a)};if(c.vargs){b=a.substr(0,a.length-3)}e[b.toLowerCase()]=c}return e},applySource:function(a){if(a){return a}++this.generation;this.ast=null;this.compile()},updateSource:function(c){var a=this,b=Ext.data.query.Parser.fly(c);++a.generation;try{a.error=a.fn=null;a.ast=b.parse()}catch(d){a.error=d;d.message='Failed to parse: '+d.message;throw d}finally{b.release()}a.compile()},privates:{operatorTypeMap:{and:['binary','&&','and'],or:['binary','||','or'],eq:['binary','==','='],ge:['binary','>=',null],gt:['binary','>',null],le:['binary','<=',null],lt:['binary','<',null],ne:['binary','!=',null],add:['binary','+',null],div:['binary','/',null],mul:['binary','*',null],sub:['binary','-',null],'in':['binary',null,'in'],like:['binary',null,'like'],seq:['binary','===','=='],sne:['binary','!==',null],neg:['unary','-',null],not:['unary','!',null]},vargsRe:/\.\.\.$/,getOperatorType:function(c){var b=this.operatorTypeMap,a;for(a in b){if(b[a][1]===c||b[a][2]===c){return a}}return null}}},3,0,0,0,['query.default'],[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable],[Ext.data.query.Compiler.prototype.mixinId||Ext.data.query.Compiler.$className,Ext.data.query.Compiler],[Ext.data.query.Converter.prototype.mixinId||Ext.data.query.Converter.$className,Ext.data.query.Converter],[Ext.data.query.Stringifier.prototype.mixinId||Ext.data.query.Stringifier.$className,Ext.data.query.Stringifier],[Ext.mixin.Identifiable.prototype.mixinId||Ext.mixin.Identifiable.$className,Ext.mixin.Identifiable]],[Ext.data,'Query'],0);Ext.cmd.derive('Ext.data.Request',Ext.Base,{isDataRequest:!0,config:{action:undefined,params:undefined,method:'GET',url:null,operation:null,proxy:null,disableCaching:!1,headers:{},callbackKey:null,rawRequest:null,jsonData:undefined,xmlData:undefined,withCredentials:!1,username:null,password:null,binary:!1,callback:null,scope:null,timeout:30000,records:null,directFn:null,args:null,useDefaultXhrHeader:null,responseType:null},constructor:function(a){this.initConfig(a)},getParam:function(b){var a=this.getParams(),c;if(a){return a[b]}return c},setParam:function(c,b){var a=this.getParams()||{};a[c]=b;this.setParams(a)}},1,0,0,0,0,0,[Ext.data,'Request'],0);Ext.cmd.derive('Ext.data.TreeStore',Ext.data.Store,{isTreeStore:!0,config:{root:null,rootVisible:!1,defaultRootProperty:'children',parentIdProperty:null,clearOnLoad:!0,clearRemovedOnLoad:!0,nodeParam:'node',defaultRootId:'root',defaultRootText:'Root',folderSort:!1,pageSize:null},filterer:'topdown',lazyFill:!1,fillCount:0,bulkUpdate:0,nodesToUnregister:0,_silentOptions:{silent:!0},implicitModel:'Ext.data.TreeModel',groupField:null,groupDir:null,grouper:null,constructor:function(a){var b=this;b.byIdMap={};Ext.data.Store.prototype.constructor.call(this,a)},applyFields:function(a,c){var b=this;if(a){if(b.defaultRootProperty!==b.self.prototype.config.defaultRootProperty){a=a.concat({name:b.defaultRootProperty,type:'auto',defaultValue:null,persist:!1})}}Ext.data.Store.prototype.applyFields.call(this,a,c)},applyGroupField:function(a){return null},applyGroupDir:function(a){return null},setGrouper:function(a){return null},group:Ext.emptyFn,onSorterEndUpdate:function(){var a=this,d=a.getSorters(),b=d.getRange(),c=a.getRoot(),e=a.getFolderSort();a.fireEvent('beforesort',a,b);if(c&&(e||b.length)){if(a.getRemoteSort()){if(b.length){a.load({callback:function(){a.fireEvent('sort',a,b)}})}}else {c.sort(this.getSortFn(),!0);a.fireEvent('datachanged',a);a.fireEvent('refresh',a);a.fireEvent('sort',a,b)}}else {a.fireEvent('sort',a,b)}},updateFolderSort:function(a){this.needsFolderSort=a;this.onSorterEndUpdate()},getSortFn:function(){return this._sortFn||(this._sortFn=this.createSortFn())},createSortFn:function(){var a=this,b=this.sorters.getSortFn();return function(d,e){var f,g,c=0;if(a.needsFolderSort){f=d.data.leaf?1:0;g=e.data.leaf?1:0;c=f-g}if(a.needsIndexSort&&c===0){c=d.data.index-e.data.index}return c||b(d,e)}},getTotalCount:function(){return this.getCount()},afterEdit:function(b,h){var a=this,c=b.parentNode,j=a.getRootVisible(),i=!c&&!j,f,g=b.get('visible'),e,d;if(!i&&g!==a.contains(b)){if(g){if(!c||a.isVisible(b)){e=[b];if(b.isExpanded()){a.handleNodeExpand(b,b.childNodes,e)}f=b.previousSibling?a.indexOfPreviousVisibleNode(b.previousSibling):c?a.indexOf(c):-1;a.insert(f+1,e)}}else {d=a.indexOf(b);a.removeAt(d,a.indexOfNextVisibleNode(b)-d)}}else if(a.getRoot()&&a.needsLocalFilter()){a.onFilterEndUpdate(a.getFilters())}Ext.data.Store.prototype.afterEdit.call(this,b,h)},afterReject:function(b){var a=this;if(a.contains(b)){a.onUpdate(b,Ext.data.Model.REJECT,null);a.fireEvent('update',a,b,Ext.data.Model.REJECT,null)}},afterCommit:function(c,a){var b=this;if(!a){a=null}if(b.contains(c)){b.onUpdate(c,Ext.data.Model.COMMIT,a);b.fireEvent('update',b,c,Ext.data.Model.COMMIT,a)}},updateRootVisible:function(c){var a=this.getRoot(),b;if(a){b=this.getData();if(c){b.insert(0,a)}else {b.remove(a)}}},updateTrackRemoved:function(a){Ext.data.Store.prototype.updateTrackRemoved.apply(this,arguments);this.removedNodes=this.removed;this.removed=null},onDestroyRecords:function(c,b,a){if(a){this.removedNodes.length=0}},updateProxy:function(a){var b;if(a){if(a.setIdParam){a.setIdParam(this.getNodeParam())}b=a.getReader();if(Ext.isEmpty(b.getRootProperty())){b.setRootProperty(this.getDefaultRootProperty())}}},setProxy:function(a){this.changingProxy=!0;(arguments.callee.$previous||Ext.data.Store.prototype.setProxy).call(this,a);this.changingProxy=!1},updateModel:function(a){var b;if(a){b=a.prototype.isNode;Ext.data.NodeInterface.decorate(a);if(!b&&!this.changingProxy){this.getProxy().getReader().buildExtractors(!0)}}},onCollectionFilter:Ext.emptyFn,onFilterEndUpdate:function(h){var b=this,d=h.length,a=b.getRoot(),f,g,c,e;if(!b.getRemoteFilter()){if(d){b.doFilter(a)}else {a.cascade({after:function(a){a.set('visible',!0,b._silentOptions)}})}if(d){c=[];f=a.childNodes;for(e=0,d=f.length;e<d;e++){g=f[e];if(g.get('visible')){c.push(g)}}}else {c=a.childNodes}b.onNodeFilter(a,c);a.fireEvent('filterchange',a,c);b.suppressNextFilter=!0;Ext.data.Store.prototype.onFilterEndUpdate.call(this,h);b.suppressNextFilter=!1}else {Ext.data.Store.prototype.onFilterEndUpdate.call(this,h)}},onNodeFilter:function(c,e){var a=this,d=a.getData(),b=[];if(a.getRootVisible()&&c.get('visible')){b.push(c)}a.handleNodeExpand(c,e,b);a.suspendEvents();d.splice(0,d.getCount(),b);a.resumeEvents();if(!a.suppressNextFilter){a.fireEvent('datachanged',a);a.fireEvent('refresh',a)}},onBeforeNodeExpand:function(a,f,g,c){var d=this,k,h,e,j,i,b;if(a.isLoaded()){b=[a.childNodes];if(c){b.push.apply(b,c)}Ext.callback(f,g||a,b)}else if(a.isLoading()){d.on('load',function(){b=[a.childNodes];if(c){b.push.apply(b,c)}Ext.callback(f,g||a,b)},d,{single:!0,priority:1001})}else {k=d.getProxy().getReader();h=a.getProxy();e=h?h.getReader():null;j=e&&e.initialConfig.rootProperty?e:k;i=j.getRoot(a.raw||a.data);if(i||a.phantom&&!a.isRoot()){d.fillNode(a,j.extractData(i||[],{model:a.childType,recordCreator:d.recordCreator}));b=[a.childNodes];if(c){b.push.apply(b,c)}Ext.callback(f,g||a,b)}else {d.read({node:a,onChildNodesAvailable:function(){delete d.lastOptions.onChildNodesAvailable;b=[a.childNodes];if(c){b.push.apply(b,c)}Ext.callback(f,g||a,b)}});d.flushLoad()}}},onNodeExpand:function(b,e){var a=this,d=a.indexOf(b)+1,c=[];a.handleNodeExpand(b,e,c);if(!a.refreshCounter&&b.isRoot()&&!b.get('visible')){a.loadRecords(c)}else {++a.loadCount;a.insert(d,c)}},handleNodeExpand:function(d,c,e){var g=this,f=c?c.length:0,b,a;if(d!==this.getRoot()&&!g.isVisible(d)){return}if(f){for(b=0;b<f;b++){a=c[b];if(a.get('visible')){e.push(a);if(a.isExpanded()){if(a.isLoaded()){g.handleNodeExpand(a,a.childNodes,e)}else {a.set('expanded',!1,{silent:!0});a.expand()}}}}}},onNodeCollapse:function(c,b,f,g){var a=this,e=a.indexOf(c)+1,d;if(a.needsLocalFilter()){b=Ext.Array.filter(b,a.filterVisible)}if(b.length&&a.isVisible(c)){d=a.indexOfNextVisibleNode(c);a.removeAt(e,d-e)}Ext.callback(f,g)},indexOfNextVisibleNode:function(b){var a;while(b.parentNode){for(a=b.nextSibling;a&&!a.get('visible');a=a.nextSibling){}if(a){return this.indexOf(a)}b=b.parentNode}return this.getCount()},indexOfPreviousVisibleNode:function(b){var a;for(a=b;a&&!a.get('visible');a=a.previousSibling){}if(a){if(a.isExpanded()&&a.lastChild){return this.indexOfPreviousVisibleNode(a.lastChild)}}else {a=b.parentNode}return this.indexOf(a)},filterNew:function(a){return !a.get('root')&&Ext.data.Store.prototype.filterNew.call(this,a)},filterRejects:function(a){return !a.get('root')&&Ext.data.Store.prototype.filterRejects.call(this,a)},getNewRecords:function(){return Ext.Array.filter(Ext.Object.getValues(this.byIdMap),this.filterNew,this)},getRejectRecords:function(){return Ext.Array.filter(Ext.Object.getValues(this.byIdMap),this.filterRejects,this)},getUpdatedRecords:function(){return Ext.Array.filter(Ext.Object.getValues(this.byIdMap),this.filterUpdated)},beforeNodeRemove:function(i,a,h,d){if(!Ext.isArray(a)){a=[a]}var c=this,g=a.length,f=c.removedNodes,e,b;for(b=0;!e&&b<g;b++){if(a[b].get('visible')){e=a[b]}}if(e){d[0]=c.indexOf(a[0]);d[1]=c.indexOfNextVisibleNode(a[a.length-1])-d[0]}else {d[0]=-1;d[1]=0}for(b=0;b<g;b++){a[b].cascade(function(b){c.unregisterNode(b,!0);if(f&&!h){if(!b.phantom&&!b.erasing&&!c.loading){b.removedFrom=c.indexOf(b);f.push(b);c.needsSync=!0}}})}},afterDrop:Ext.emptyFn,onNodeRemove:function(e,d,c,b){var a=this;a.suspendAutoSync();if(b[0]!==-1){a.removeIsMove=c;a.removeAt.apply(a,b);a.removeIsMove=!1}a.resumeAutoSync()},onNodeAppend:function(a,c,b){this.onNodeInsert(a,c,b)},onNodeInsert:function(g,a,k){var b=this,l=a.raw||a.data,j=b.removedNodes,i,e,c,h,f,d;if(g&&b.needsLocalFilter()){b.doFilter(g)}b.beginUpdate();if(b.isVisible(a)){if(k===0||!a.previousSibling){d=b.indexOf(g)}else {d=b.indexOfPreviousVisibleNode(a.previousSibling)}b.insert(d+1,a);if(!a.isLeaf()&&a.isExpanded()){if(a.isLoaded()){b.onNodeExpand(a,a.childNodes)}else if(!b.fillCount){a.set('expanded',!1);a.expand()}}}Ext.Array.remove(j,a);b.needsSync=b.needsSync||a.phantom||a.dirty;if(!a.isLeaf()&&!a.isLoaded()&&!b.lazyFill){i=b.getProxy().getReader();e=a.getProxy();c=e?e.getReader():null;h=c&&c.initialConfig.rootProperty?c:i;f=h.getRoot(l);if(f){b.fillNode(a,h.extractData(f,{model:a.childType,recordCreator:b.recordCreator}))}}b.endUpdate()},registerNode:function(a,f){var b=this,g=b.byIdMap[a.id],d,e,c;b.byIdMap[a.id]=a;if(a.onRegisterTreeNode&&a!==g){a.onRegisterTreeNode(b)}if(a.onUnregisterTreeNode){b.nodesToUnregister++}if(f===!0){d=a.childNodes;e=d.length;for(c=0;c<e;c++){b.registerNode(d[c],!0)}}},unregisterNode:function(a,f){var b=this,g=b.byIdMap[a.id],d,e,c;delete b.byIdMap[a.id];if(f===!0){d=a.childNodes;e=d.length;for(c=0;c<e;c++){b.unregisterNode(d[c],!0)}}if(a.onUnregisterTreeNode&&a===g){a.onUnregisterTreeNode(b);b.nodesToUnregister--}},onNodeSort:function(b,c){var a=this;a.suspendAutoSync();if(a.indexOf(b)!==-1&&b.isExpanded()||b===a.getRoot()&&!a.getRootVisible()){Ext.suspendLayouts();a.onNodeCollapse(b,c);a.onNodeExpand(b,c);Ext.resumeLayouts(!0)}a.resumeAutoSync(a.autoSync)},applyRoot:function(a){var b=this,e=b.getModel(),d=e.prototype.idProperty,c=b.getDefaultRootId();if(a&&!a.isNode){a=Ext.apply({text:b.getDefaultRootText(),root:!0,isFirst:!0,isLast:!0,depth:0,index:0,parentId:null,allowDrag:!1},a);if(c&&a[d]===undefined){a[d]=c}a=new e(a)}return a},updateRoot:function(b,c){var a=this,g=[],e=a.isConfiguring,d,f;a.getTrackRemoved();a.suspendEvent('add','remove');if(e){a.suspendEvent('refresh','datachanged')}if(c&&c.isModel){if(a.getRootVisible()){f=[c]}else {f=c.childNodes}a.beforeNodeRemove(null,f,!1,g);c.set('root',!1);a.onNodeRemove(null,f,!1,g);c.fireEvent('remove',null,c,!1);c.fireEvent('rootchange',null);c.clearListeners();c.store=c.treeStore=null;a.unregisterNode(c)}a.getData().clear();if(b){if(b.fireEventArgs('beforeappend',[null,b])===!1){b=null}else {d=b.parentNode;if(d){if(!d.removeChild(b,!1,!1,d.getTreeStore()===a)){return}}else if((d=b.getTreeStore())&&d!==a&&b===d.getRoot()){d.setRoot(null)}b.store=b.treeStore=a;b.set('root',!0);b.updateInfo(!0,{isFirst:!0,isLast:!0,depth:0,index:0,parentId:null});a.registerNode(b,!0);b.fireEvent('append',null,b,!1);b.fireEvent('rootchange',b);a.onNodeAppend(null,b,0);b.phantom=!0}}if(!e){a.fireEvent('rootchange',b,c)}if(b&&(a.getAutoLoad()||b.isExpanded())){if(b.isLoaded()){a.onNodeExpand(b,b.childNodes);if(!e){a.fireEvent('datachanged',a);a.fireEvent('refresh',a)}}else {b.data.expanded=!1;b.expand(!1);if(b.isLoaded&&!a.getProxy().isSynchronous&&!e){a.fireEvent('datachanged',a);a.fireEvent('refresh',a)}}}else if(!e){a.fireEvent('datachanged',a);a.fireEvent('refresh',a)}a.resumeEvent('add','remove');if(e){a.resumeEvent('refresh','datachanged')}},doDestroy:function(){var a=this,b=a.getRoot();if(b&&a.nodesToUnregister){b.cascade(function(b){if(b.onUnregisterTreeNode){b.onUnregisterTreeNode(a)}})}Ext.data.Store.prototype.doDestroy.call(this)},each:function(e,d,a){var f=0,b=a,c;if(a&&typeof a==='object'){c=a.collapsed;b=a.filtered}if(c){this.getRoot().cascade(function(c){if(b===!0||c.get('visible')){return e.call(d||c,c,f++)}})}else {return Ext.data.Store.prototype.each.call(this,e,d,b)}},collect:function(h,a,b){var d,i={},g=[],e=a,f,c;if(a&&typeof a==='object'){d=a.collapsed;b=a.filtered;e=a.allowNull}if(d||b){this.getRoot().cascade(function(j){if(b===!0||j.get('visible')){c=j.get(h);f=String(c);if((e||!Ext.isEmpty(c))&&!i[f]){i[f]=1;g.push(c)}}if(!d&&!j.isExpanded()){return !1}})}else {g=Ext.data.Store.prototype.collect.call(this,h,e,b)}return g},getNodeById:function(a){return this.byIdMap[a]||null},findNode:function(c,b,f,g,e){var a=null,d;if(Ext.isEmpty(b,!1)){return a}if(c===this.model.idProperty&&arguments.length<3){return this.byIdMap[b]}d=Ext.String.createRegex(b,f,g,e);Ext.Object.eachValue(this.byIdMap,function(h){if(h&&d.test(h.get(c))){a=h;return !1}});return a},load:function(b){var a=b&&b.node;if(!a&&!(a=this.getRoot())){a=this.setRoot({expanded:!0,autoRoot:!0});return}if(a.isLoading()){return}return Ext.data.Store.prototype.load.call(this,b)},reload:function(b){var a=Ext.apply({},b,this.lastOptions);a.node=this.getRoot();return this.load(a)},flushLoad:function(){var a=this,c=a.pendingLoadOptions,d=a.getClearOnLoad(),b,g,i,e,f,h;a.clearLoadTask();if(!c){return}b=c.node||a.getRoot();e=b&&b.isRoot();g=c.callback;i=c.scope;c.params=c.params||{};if(b.data.expanded&&!e){b.data.loaded=!1;if(d){b.data.expanded=!1}c.callback=function(a,c,e){if(!d){b.collapse()}b.expand();Ext.callback(g,i,[a,c,e])}}c.id=b.getId();a.setLoadOptions(c);if(a.getRemoteSort()&&c.sorters){a.fireEvent('beforesort',a,c.sorters)}c=Ext.apply({node:c.node||b,internalScope:a,internalCallback:a.onProxyLoad},c);a.lastOptions=Ext.apply({},c);c.isRootLoad=e;f=a.createOperation('read',c);if(a.fireEvent('beforeload',a,f)!==!1){a.loading=!0;if(e){if(a.getClearRemovedOnLoad()){a.removedNodes.length=0}if(d){a.unregisterNode(b,!0);b.clear(!1,!0);a.registerNode(b);h=!0}}else {if(a.loading){b.data.loaded=!1}if(a.getTrackRemoved()&&a.getClearRemovedOnLoad()){a.clearRemoved(b)}if(d){b.removeAll(!1)}}if(a.loading&&b){b.set('loading',!0,{silent:!(a.contains(b)||b===a.getRoot())})}if(h){a.clearData(!0);if(a.getRootVisible()){a.suspendEvents();a.add(b);a.resumeEvents()}}f.execute()}return a},onProxyLoad:function(c){var a=this,f=c.initialConfig,e=c.wasSuccessful(),b=c.getRecords(),d=f.node,g=f.isRootLoad,h=c.getScope()||a,i=[b,c,e];if(a.destroyed){return}a.loading=!1;d.set('loading',!1);if(e){++a.loadCount;if(!a.getClearOnLoad()){b=a.cleanRecords(d,b)}if(a.getParentIdProperty()){b=a.treeify(d,b)}if(g){a.suspendEvent('add','update')}b=a.fillNode(d,b)}Ext.callback(f.onChildNodesAvailable,h,i);if(g){a.resumeEvent('add','update');a.callObservers('BeforePopulate');a.fireEvent('datachanged',a);a.fireEvent('refresh',a);a.callObservers('AfterPopulate')}a.fireEvent('load',a,b,e,c,d)},clearRemoved:function(k){var d=this,e=d.removedNodes,l=k.getId(),f=e.length,b=f,h={},j=[],i={},a,c,g;if(k===d.getRoot()){d.removedNodes.length=0;return}for(;b--;){a=e[b];i[a.getId()]=a}for(b=f;b--;){a=e[b];c=a;while(c&&c.getId()!==l){g=c.get('parentId')||c.get('lastParentId');c=c.parentNode||d.getNodeById(g)||i[g]}if(c){h[a.getId()]=a}}for(b=0;b<f;b++){a=e[b];if(!h[a.getId()]){j.push(a)}}d.removedNodes=j},fillNode:function(c,b){var a=this,d=b?b.length:0;if(++a.bulkUpdate===1){a.suspendEvent('datachanged')}if(d){a.setupNodes(b);c.appendChild(b,undefined,!0)}else {if(a.bulkUpdate===1){c.set('loaded',!0)}else {c.data.loaded=!0}}if(!--a.bulkUpdate){a.resumeEvent('datachanged')}return b},setupNodes:function(b){var a=this,j=a.getSorters(),f=!1,g=b.length,i=a.sortOnLoad&&g>1&&!a.getRemoteSort()&&a.getFolderSort()||j.length,e=a.needsLocalFilter(),d,h,c;if(e){a.doFilter(b[0])}for(c=1;c<g;c++){d=b[c];h=b[c-1];if(e){a.doFilter(d)}f=d.data.index!==h.data.index}if(i){a.needsIndexSort=!0;Ext.Array.sort(b,a.getSortFn());a.needsIndexSort=!1}else if(f){Ext.Array.sort(b,a.sortByIndex)}},beginFill:function(){var a=this;if(!a.fillCount++){a.beginUpdate();a.suspendEvent('add','update');a.suspendAutoSync();a.fillArray=[]}},endFill:function(g,f){var a=this,c=a.fillArray,b,e,d;c.push(f);if(!--a.fillCount){a.resumeAutoSync();a.resumeEvent('add','update');for(b=0,e=c.length;b<e;b++){d=a.indexOf(c[b][0]);if(d!==-1){a.fireEvent('add',a,c[b],d)}}a.fillArray=null;a.endUpdate()}},sortByIndex:function(a,b){return a.data.index-b.data.index},onIdChanged:function(d,e,c){var b=d.childNodes,f=b&&b.length,a;Ext.data.Store.prototype.onIdChanged.apply(this,arguments);delete this.byIdMap[e];this.byIdMap[c]=d;for(a=0;a<f;a++){b[a].set('parentId',c)}},treeify:function(n,h){var g=this,l=n.getId(),m=g.getParentIdProperty(),j=h.length,i=[],f={},b,a,c,d,k,e;for(b=0;b<j;b++){a=h[b];a.data.depth=1;f[a.id]=a}for(b=0;b<j;b++){a=h[b];c=a.data[m];if(!(c||c===0)||c===l){i.push(a)}else {d=f[c];d.$children=d.$children||[];d.$children.push(a);a.data.depth=d.data.depth+1}}for(k in f){a=f[k];e=a.$children;if(e){delete a.$children;g.setupNodes(e);a.appendChild(e)}g.registerNode(a)}g.setupNodes(i);return i},cleanRecords:function(h,f){var e={},d=h.childNodes,a=0,b=d.length,g=[],c;for(;a<b;++a){e[d[a].getId()]=!0}for(a=0,b=f.length;a<b;++a){c=f[a];if(!e[c.getId()]){g.push(c)}}return g},removeAll:function(){var a=this,b=a.getRoot(),c=a.getData().length;a.suspendEvents();a.setRoot(null);a.resumeEvents();Ext.data.Store.prototype.removeAll.call(this);if(c){a.fireEvent('clear',a);a.fireEvent('rootchange',b,null)}},doSort:function(b){var a=this;if(a.getRemoteSort()){a.load()}else {a.tree.sort(b,!0);a.fireEvent('datachanged',a);a.fireEvent('refresh',a)}a.fireEvent('sort',a,a.sorters.getRange())},filterVisible:function(a){return a.get('visible')},isVisible:function(c){var a=c.parentNode,b=c.data.visible,d=this.getRoot();while(b&&a){b=a.data.expanded&&a.data.visible;a=a.parentNode}return b&&!(c===d&&!this.getRootVisible())},commitChanges:function(){var a=this.removedNodes;if(a){a.length=0}Ext.data.Store.prototype.commitChanges.call(this)},getRootNode:function(){return this.getRoot()},setRootNode:function(a){this.setRoot(a);return this.getRoot()},privates:{fireChangeEvent:function(a){return !!this.byIdMap[a.id]},getRawRemovedRecords:function(){return this.removedNodes},createOperation:function(e,b){var d=this,c=b.node,a;if(d.useModelProxy&&c&&c!==d.getRootNode()){a=c.getProxy()}if(a&&a!==d.getProxy()){return a.createOperation(e,b)}else {return Ext.data.Store.prototype.createOperation.call(this,e,b)}},recordCreator:function(b,a){return new a(b)},doFilter:function(a){this.filterNodes(a,this.getFilters().getFilterFn(),!0)},filterNodes:function(b,h,j){var c=this,g=c.filterer==='bottomup',a=h(b)&&j||b.isRoot()&&!c.getRootVisible(),f=b.childNodes,i=f&&f.length,d,e;if(i){for(d=0;d<i;++d){e=c.filterNodes(f[d],h,a||g)||e}if(g){a=e||a}}b.set('visible',a,c._silentOptions);return a},needsLocalFilter:function(){return !this.getRemoteFilter()&&this.getFilters().length},onRemoteFilterSet:function(a,c){var b=this.getData();b.setFilters(null);if(a){a.on('endupdate',this.onFilterEndUpdate,this)}},onRemoteSortSet:function(a,c){var b=this.getData();b.setSorters(null);if(a){a.on('endupdate',this.onSorterEndUpdate,this)}}},deprecated:{5:{properties:{tree:null}}}},1,0,0,0,['store.tree'],0,[Ext.data,'TreeStore'],0);Ext.cmd.derive('Ext.data.Validation',Ext.data.Model,{isValidation:!0,syncGeneration:0,attach:function(a){this.record=a;this.isBase=a.self===Ext.data.Model;delete this.data.id},getValidation:function(){return null},isValid:function(){var a=this;if(a.syncGeneration!==a.record.generation){a.refresh()}return !a.dirty},refresh:function(q){if(this.isBase){return}var e=this,i=e.data,c=e.record,m=c.fields,l=c.generation,p=c.data,r=c.validationSeparator,f=null,k,h,a,d,g,n,j,o,b;if(q||e.syncGeneration!==l){e.syncGeneration=l;for(g=0,n=m.length;g<n;++g){d=m[g];b=d.name;o=p[b];k=d.defaultInvalidMessage;a=0;if(!(b in i)){i[b]=h=!0}else {h=i[b]}if(d.validate!==Ext.emptyFn){j=d.validate(o,r,null,c);if(j!==!0){a=j||k}}if(!a){a=!0}if(a!==h){(f||(f={}))[b]=a}}if(f){e.set(f)}}}},0,0,0,0,0,0,[Ext.data,'Validation'],0);Ext.cmd.derive('Ext.dom.Helper',Ext.Base,function(){var b='afterbegin',d='afterend',a='beforebegin',c='beforeend',g=['BeforeBegin','previousSibling'],f=['AfterEnd','nextSibling'],e={beforebegin:g,afterend:f},h={beforebegin:g,afterend:f,afterbegin:['AfterBegin','firstChild'],beforeend:['BeforeEnd','lastChild']};return {singleton:!0,alternateClassName:['Ext.DomHelper','Ext.core.DomHelper'],emptyTags:/^(?:br|frame|hr|img|input|link|meta|range|spacer|wbr|area|param|col)$/i,confRe:/^(?:tag|children|cn|html|tpl|tplData)$/i,endRe:/end/i,attributeTransform:{cls:'class',htmlFor:'for'},closeTags:{},detachedDiv:document.createElement('div'),decamelizeName:function(){var b=/([a-z])([A-Z])/g,a={};function decamel(c,a,b){return a+'-'+b.toLowerCase()}return function(c){return a[c]||(a[c]=c.replace(b,decamel))}}(),generateMarkup:function(a,c){var e=this,i=typeof a,d,b,f,g,h;if(i==='string'||i==='number'){c.push(a)}else if(Ext.isArray(a)){for(g=0;g<a.length;g++){if(a[g]){e.generateMarkup(a[g],c)}}}else {f=a.tag||'div';c.push('<',f);for(d in a){if(a.hasOwnProperty(d)){b=a[d];if(b!==undefined&&!e.confRe.test(d)){if(b&&b.join){b=b.join(' ')}if(typeof b==='object'){c.push(' ',d,'="');e.generateStyles(b,c,!0).push('"')}else {c.push(' ',e.attributeTransform[d]||d,'="',b,'"')}}}}if(e.emptyTags.test(f)){c.push('/>')}else {c.push('>');if(b=a.tpl){b.applyOut(a.tplData,c)}if(b=a.html){c.push(b)}if(b=a.cn||a.children){e.generateMarkup(b,c)}h=e.closeTags;c.push(h[f]||(h[f]='</'+f+'>'))}}return c},generateStyles:function(c,d,f){var e=d||[],a,b;for(a in c){if(c.hasOwnProperty(a)){b=c[a];a=this.decamelizeName(a);if(f&&Ext.String.hasHtmlCharacters(b)){b=Ext.String.htmlEncode(b)}e.push(a,':',b,';')}}return d||e.join('')},markup:function(a){var b;if(typeof a==='string'){return a}b=this.generateMarkup(a,[]);return b.join('')},applyStyles:function(b,a){Ext.fly(b).applyStyles(a)},createContextualFragment:function(e){var d=this.detachedDiv,b=document.createDocumentFragment(),c,a;d.innerHTML=e;a=d.childNodes;c=a.length;while(c--){b.appendChild(a[0])}return b},createDom:function(e){var c=this,d=c.markup(e),b=c.detachedDiv,a;b.innerHTML=d;a=b.firstChild;return Ext.supports.ChildContentClearedWhenSettingInnerHTML?a.cloneNode(!0):a},insertHtml:function(g,f,j){var o=this,l,k,n,m,i;g=g.toLowerCase();if(f.insertAdjacentHTML){if(o.ieInsertHtml){i=o.ieInsertHtml(g,f,j);if(i){return i}}l=h[g];if(l){f.insertAdjacentHTML(l[0],j);return f[l[1]]}}else {if(f.nodeType===3){g=g===b?a:g;g=g===c?d:g}k=Ext.supports.CreateContextualFragment?f.ownerDocument.createRange():undefined;m='setStart'+(this.endRe.test(g)?'After':'Before');if(e[g]){if(k){k[m](f);i=k.createContextualFragment(j)}else {i=this.createContextualFragment(j)}f.parentNode.insertBefore(i,g===a?f:f.nextSibling);return f[(g===a?'previous':'next')+'Sibling']}else {n=(g===b?'first':'last')+'Child';if(f.firstChild){if(k){try{k[m](f[n]);i=k.createContextualFragment(j)}catch(p){i=this.createContextualFragment(j)}}else {i=this.createContextualFragment(j)}if(g===b){f.insertBefore(i,f.firstChild)}else {f.appendChild(i)}}else {f.innerHTML=j}return f[n]}}},insertBefore:function(c,d,b){return this.doInsert(c,d,b,a)},insertAfter:function(b,c,a){return this.doInsert(b,c,a,d)},insertFirst:function(c,d,a){return this.doInsert(c,d,a,b)},append:function(b,d,a){return this.doInsert(b,d,a,c)},overwrite:function(b,c,e){var d=this,a;b=Ext.getDom(b);c=d.markup(c);if(d.ieOverwrite){a=d.ieOverwrite(b,c)}if(!a){b.innerHTML=c;a=b.firstChild}return e?Ext.get(a):a},doInsert:function(f,j,k,g){var i=this,h;f=f.dom||Ext.getDom(f);if('innerHTML' in f){h=i.insertHtml(g,f,i.markup(j))}else {h=i.createDom(j,null);if(f.nodeType===3){g=g===b?a:g;g=g===c?d:g}if(e[g]){f.parentNode.insertBefore(h,g===a?f:f.nextSibling)}else if(f.firstChild&&g===b){f.insertBefore(h,f.firstChild)}else {f.appendChild(h)}}return k?Ext.get(h):h},createTemplate:function(b){var a=this.markup(b);return new Ext.Template(a)},createHtml:function(a){return this.markup(a)}}},0,0,0,0,0,0,[Ext.dom,'Helper',Ext,'DomHelper',Ext.core,'DomHelper'],0);Ext.cmd.derive('Ext.data.identifier.Uuid',Ext.data.identifier.Generator,{isUnique:!0,config:{id:null},constructor:function(a){Ext.data.identifier.Generator.prototype.constructor.call(this,a);this.reconfigure(a)},reconfigure:function(a){var b=this.self;this.generate=a&&a.version===1?b.createSequential(a.salt,a.timestamp,a.clockSeq):b.createRandom()},clone:null,statics:{createRandom:function(){var a='xxxxxxxx-xxxx-4xxx-Rxxx-xMxxxxxxxxxx'.split(''),d='0123456789abcdef'.split(''),c=a.length,b=[];return function(){var g,e,f;for(f=0;f<c;++f){e=a[f];if(e!=='-'&&e!=='4'){g=Math.random()*16;g=e==='R'?g&3|8:g|(e==='M'?1:0);e=d[g]}b[f]=e}return b.join('')}},createSequential:function(f,g,i){var b=[],c=Math.pow(2,32),j=f.lo,h=f.hi,e=g.lo,d=g.hi,a;a=function(c,b){var a=c.toString(16).toLowerCase();if(a.length>b){a=a.substring(a.length-b)}else if(a.length<b){a=Ext.String.leftPad(a,b,'0')}return a};if(typeof f==='number'){h=Math.floor(f/c);j=Math.floor(f-h*c)}if(typeof g==='number'){d=Math.floor(g/c);e=Math.floor(g-d*c)}h|=256;b[3]=a(128|i>>>8&63,2)+a(i&255,2);b[4]=a(h,4)+a(j,8);return function(){b[0]=a(e,8);b[1]=a(d&65535,4);b[2]=a(d>>>16&4095|1<<12,4);++e;if(e>=c){e=0;++d}return b.join('-')}}}},1,0,0,0,['data.identifier.uuid'],0,[Ext.data.identifier,'Uuid'],function(){this.Global=new this({id:'uuid'})});Ext.cmd.derive('Ext.data.summary.Sum',Ext.data.summary.Base,{text:'Sum',calculate:function(f,e,g,d,h){var i=h-d,a,b,c;for(a=0;a<i;++a){c=this.extractValue(f[d+a],e,g);b=a?b+c:c}return b}},0,0,0,0,['data.summary.sum'],0,[Ext.data.summary,'Sum'],0);Ext.cmd.derive('Ext.data.summary.Average',Ext.data.summary.Sum,{text:'Average',calculate:function(f,e,g,a,c){var d=c-a,b;if(d>0){b=Ext.data.summary.Sum.prototype.calculate.call(this,f,e,g,a,c)/d}return b}},0,0,0,0,['data.summary.average'],0,[Ext.data.summary,'Average'],0);Ext.cmd.derive('Ext.data.summary.Count',Ext.data.summary.Base,{text:'Count',calculate:function(d,c,e,a,b){return b-a}},0,0,0,0,['data.summary.count'],0,[Ext.data.summary,'Count'],0);Ext.define('Ext.locale.fr.data.summary.Count',{override:'Ext.data.summary.Count',text:'Compter'});Ext.cmd.derive('Ext.data.summary.Max',Ext.data.summary.Base,{text:'Max',calculate:function(e,d,g,f,h){var b=this.extractValue(e[f],d,g),a,c;for(a=f;a<h;++a){c=this.extractValue(e[a],d,g);if(c>b){b=c}}return b}},0,0,0,0,['data.summary.max'],0,[Ext.data.summary,'Max'],0);Ext.cmd.derive('Ext.data.summary.Min',Ext.data.summary.Base,{text:'Min',calculate:function(e,d,g,f,h){var b=this.extractValue(e[f],d,g),a,c;for(a=f;a<h;++a){c=this.extractValue(e[a],d,g);if(c<b){b=c}}return b}},0,0,0,0,['data.summary.min'],0,[Ext.data.summary,'Min'],0);Ext.cmd.derive('Ext.data.summary.None',Ext.data.summary.Base,{config:{value:null},text:'None',calculate:function(){return this.getValue()}},0,0,0,0,['data.summary.none'],0,[Ext.data.summary,'None'],0);Ext.cmd.derive('Ext.data.summary.Variance',Ext.data.summary.Base,{text:'Var',constructor:function(a){Ext.data.summary.Base.prototype.constructor.call(this,a);this.avg=Ext.Factory.dataSummary('average')},calculate:function(g,f,h,b,i){var e=i-b,d=this.avg.calculate(g,f,h,b,i),c=0,a,k,j;if(d!=null&&d!==0){for(a=0;a<e;++a){k=this.extractValue(g[b+a],f,h);c+=Math.pow(Ext.Number.from(k,0)-d,2)}}if(c!==0&&e>1){j=c/(e-1)}return j}},1,0,0,0,['data.summary.variance'],0,[Ext.data.summary,'Variance'],0);Ext.cmd.derive('Ext.data.summary.StdDev',Ext.data.summary.Variance,{text:'StdDev',calculate:function(c,b,e,d,f){var a=Ext.data.summary.Variance.prototype.calculate.call(this,c,b,e,d,f);if(a!=null){a=Math.sqrt(a)}return a}},0,0,0,0,['data.summary.stddev'],0,[Ext.data.summary,'StdDev'],0);Ext.cmd.derive('Ext.data.summary.VarianceP',Ext.data.summary.Variance,{text:'VarP',calculate:function(g,f,h,b,i){var e=i-b,d=this.avg.calculate(g,f,h,b,i),c=0,a,k,j;if(d!=null&&d!==0){for(a=0;a<e;++a){k=this.extractValue(g[b+a],f,h);c+=Math.pow(Ext.Number.from(k,0)-d,2)}}if(c!==0&&e>1){j=c/e}return j}},0,0,0,0,['data.summary.variancep'],0,[Ext.data.summary,'VarianceP'],0);Ext.cmd.derive('Ext.data.summary.StdDevP',Ext.data.summary.VarianceP,{text:'StdDevP',calculate:function(c,b,e,d,f){var a=Ext.data.summary.VarianceP.prototype.calculate.call(this,c,b,e,d,f);if(a!=null){a=Math.sqrt(a)}return a}},0,0,0,0,['data.summary.stddevp'],0,[Ext.data.summary,'StdDevP'],0);Ext.cmd.derive('Ext.data.validator.AbstractDate',Ext.data.validator.Validator,{config:{message:null,format:''},applyFormat:function(a){if(!a){a=this.getDefaultFormat()}if(!Ext.isArray(a)){a=[a]}return a},parse:function(b){if(Ext.isDate(b)){return b}var f=this,d=f.getFormat(),e=d.length,c=null,a;for(a=0;a<e&&!c;++a){c=Ext.Date.parse(b,d[a],!0)}return c},validate:function(a){return this.parse(a)?!0:this.getMessage()}},0,0,0,0,0,0,[Ext.data.validator,'AbstractDate'],0);Ext.cmd.derive('Ext.data.validator.Number',Ext.data.validator.Validator,{type:'number',config:{decimalSeparator:undefined,message:'Is not a valid number',thousandSeparator:undefined},constructor:function(a){Ext.data.validator.Validator.prototype.constructor.call(this,a);this.rebuildMatcher()},applyDecimalSeparator:function(a){return a===undefined?Ext.util.Format.decimalSeparator:a},updateDecimalSeparator:function(){this.rebuildMatcher()},applyThousandSeparator:function(a){return a===undefined?Ext.util.Format.thousandSeparator:a},updateThousandSeparator:function(){this.rebuildMatcher()},parse:function(a){var c=this.getDecimalSeparator(),b=Ext.Number;if(typeof a==='string'){if(!this.matcher.test(a)){return null}a=this.parseValue(a)}return c?b.parseFloat(a):b.parseInt(a)},validate:function(a){return this.parse(a)===null?this.getMessage():!0},privates:{getMatcherText:function(d){var c=this.getThousandSeparator(),b=this.getDecimalSeparator(),a='(?:';if(c){c=Ext.String.escapeRegex(c);a+='(?:\\d{1,3}('+c+'\\d{3})*)|'}a+='\\d*)';if(b){b=Ext.String.escapeRegex(b);a+='(?:'+b+'\\d*)?'}if(!d){a=this.getSignPart()+a}return a},getSignPart:function(){return '(\\+|\\-)?'},parseValue:function(a){var c=this.thousandMatcher,b;if(c){a=a.replace(c,'')}b=this.getDecimalSeparator();if(b&&b!=='.'){a=a.replace(b,'.')}return a},rebuildMatcher:function(){var a=this,b;if(!a.isConfiguring){b=a.getThousandSeparator();a.matcher=new RegExp('^'+a.getMatcherText()+'$');if(b){a.thousandMatcher=b?new RegExp(Ext.String.escapeRegex(b),'g'):null}}}}},1,0,0,0,['data.validator.number'],0,[Ext.data.validator,'Number'],0);Ext.cmd.derive('Ext.data.validator.Date',Ext.data.validator.AbstractDate,{type:'date',isDateValidator:!0,message:'Is not a valid date',privates:{getDefaultFormat:function(){return [Ext.Date.defaultFormat,'m/d/Y','n/j/Y','n/j/y','m/j/y','n/d/y','m/j/Y','n/d/Y','m-d-y','n-d-y','m-d-Y','mdy','mdY','Y-m-d']}}},0,0,0,0,['data.validator.date'],0,[Ext.data.validator,'Date'],0);Ext.cmd.derive('Ext.direct.Event',Ext.Base,{status:!0,constructor:function(a){Ext.apply(this,a)},getName:function(){return this.name},getData:function(){return this.data}},1,0,0,0,['direct.event'],0,[Ext.direct,'Event'],0);Ext.cmd.derive('Ext.direct.RemotingEvent',Ext.direct.Event,{getTransaction:function(){var a=this;return a.transaction||Ext.direct.Manager.getTransaction(a.tid)}},0,0,0,0,['direct.rpc'],0,[Ext.direct,'RemotingEvent'],0);Ext.cmd.derive('Ext.direct.ExceptionEvent',Ext.direct.RemotingEvent,{status:!1},0,0,0,0,['direct.exception'],0,[Ext.direct,'ExceptionEvent'],0);Ext.cmd.derive('Ext.direct.JsonProvider',Ext.direct.Provider,{parseResponse:function(b){var a=b&&b.responseText;if(a!=null){if(Ext.isObject(a)||Ext.isArray(a)){return a}return Ext.decode(a)}return null},createEvents:function(e){var d=this,a=null,c=[],f,b,g;try{a=d.parseResponse(e)}catch(h){f=new Ext.direct.ExceptionEvent({parsingError:!0,data:h,xhr:e,code:Ext.direct.Manager.exceptions.PARSE,message:'Error parsing json response: \n\n '+h});return [f]}if(Ext.isArray(a)){for(b=0,g=a.length;b<g;++b){c.push(d.createEvent(a[b]))}}else if(Ext.isObject(a)){c.push(d.createEvent(a))}return c},createEvent:function(a){if(typeof a!=='object'||!('type' in a)){return new Ext.direct.ExceptionEvent({data:a,code:Ext.direct.Manager.exceptions.DATA,message:'Invalid data: event type is not specified'})}return Ext.create('direct.'+a.type,a)}},0,0,0,0,['direct.jsonprovider'],0,[Ext.direct,'JsonProvider'],0);Ext.cmd.derive('Ext.util.TaskRunner',Ext.Base,{fireIdleEvent:null,interval:10,timerId:null,constructor:function(b){var a=this;if(typeof b==='number'){a.interval=b}else if(b){Ext.apply(a,b)}a.tasks=[];a.timerFn=a.onTick.bind(a)},newTask:function(b){var a=new Ext.util.TaskRunner.Task(b);a.manager=this;return a},start:function(a){var b=this,c=Ext.Date.now();if(!a.pending){b.tasks.push(a);a.pending=!0}a.stopped=!1;a.taskStartTime=c;a.taskRunTime=a.fireOnStart!==!1?0:a.taskStartTime;a.taskRunCount=0;if(!b.firing){if(a.fireOnStart!==!1){b.startTimer(0,c)}else {b.startTimer(a.interval,c)}}return a},stop:function(a,f){var e=this,d=e.tasks,c=0,b;if(!a.stopped){a.stopped=!0;a.pending=!1;if(a.onStop){a.onStop.call(a.scope||a,a)}}if(f){Ext.Array.remove(d,a)}for(b=0;!c&&b<d.length;b++){if(!d[b].stopped){c++}}if(!c){Ext.undefer(e.timerId);e.timerId=null}return a},stopAll:function(a){var b=this;Ext.each(this.tasks,function(c){b.stop(c,a)},null,!0)},firing:!1,nextExpires:1.0E99,onTick:function(){var b=this,i=b.tasks,f=b.fireIdleEvent,h=Ext.Date.now(),k=1.0E99,m=i.length,g,c,e,a,j,d,l;b.timerId=null;b.firing=!0;for(e=0;e<m||e<(m=i.length);++e){a=i[e];if(!(d=a.stopped)){g=a.taskRunTime+a.interval;if(g<=h){j=1;if(f===null&&a.fireIdleEvent!==!1){f=!0}a.taskRunCount++;if(a.args){l=a.addCountToArgs?a.args.concat([a.taskRunCount]):a.args}else {l=[a.taskRunCount]}try{j=a.run.apply(a.scope||a,l)}catch(n){try{if(a.onError){j=a.onError.call(a.scope||a,a,n)}}catch(o){}}a.taskRunTime=h;if(j===!1||a.taskRunCount===a.repeat){b.stop(a);d=!0}else {d=a.stopped;g=h+a.interval}}if(!d&&a.duration&&a.duration<=h-a.taskStartTime){b.stop(a);d=!0}}if(d){a.pending=!1;if(!c){c=i.slice(0,e)}}else {if(c){c.push(a)}if(k>g){k=g}}}if(c){b.tasks=c}b.firing=!1;if(b.tasks.length){b.startTimer(k-h,Ext.Date.now())}if(f===null){f=!1}Ext._suppressIdle=!f},startTimer:function(b,e){var a=this,d=e+b,c=a.timerId;if(c&&a.nextExpires-d>a.interval){c=Ext.undefer(c)}if(!c){if(b<a.interval){b=a.interval}a.timerId=Ext.defer(a.timerFn,b);a.nextExpires=d}}},1,0,0,0,0,0,[Ext.util,'TaskRunner'],function(){var b=this,a=b.prototype;a.destroy=a.stopAll;b.Task=new Ext.Class({isTask:!0,stopped:!0,fireOnStart:!1,constructor:function(a){Ext.apply(this,a)},restart:function(a){if(a!==undefined){this.interval=a}this.manager.start(this)},start:function(a){if(this.stopped){this.restart(a)}},stop:function(a){this.manager.stop(this,a)},destroy:function(){this.stop(!0)}});a=b.Task.prototype;a.destroy=a.stop});Ext.cmd.derive('Ext.direct.RemotingMethod',Ext.Base,{constructor:function(a){var b=this,e=a.params,h=a.len,g=a.metadata,d={},j,i,c,f;b.name=a.name;b.disableBatching=a.batched!=null?!a.batched:!1;if(a.formHandler){b.formHandler=a.formHandler}else if(Ext.isNumeric(h)){b.len=h;b.ordered=!0}else {b.named=!0;b.strict=a.strict!==undefined?a.strict:!0;b.params={};i=e&&e.length;for(c=0;c<i;c++){f=e[c];j=Ext.isObject(f)?f.name:f;b.params[j]=!0}}if(g){e=g.params;h=g.len;if(Ext.isNumeric(h)){d.ordered=!0;d.len=h}else if(Ext.isArray(e)){d.named=!0;d.params={};for(c=0,i=e.length;c<i;c++){f=e[c];d.params[f]=!0}d.strict=g.strict!==undefined?g.strict:!0}b.metadata=d}},getArgs:function(d){var e=this,b=d.params,c=d.paramOrder,h=d.metadata,f=d.options,a=[],i,g,j;if(e.ordered){if(e.len>0){if(c){i=d.paramsAsArray&&e.len===1&&(c.length>1||Ext.isArray(b));if(i){if(Ext.isArray(b)){for(g=0,j=b.length;g<j;g++){a.push(e.convertParams(b[g],c,c.length,!0))}}else {a=e.convertParams(b,c,c.length,!0)}if(!b.allowSingle||a.length>1){a=[a]}}else {a=e.convertParams(b,c,e.len,!1)}}else {a.push(b)}}}else {a.push(b)}a.push(d.callback,d.scope||window);if(f||h){f=Ext.apply({},f);if(h){f.metadata=h}a.push(f)}return a},convertParams:function(g,e,h,f){var a=[],c,b,d;for(b=0,d=h;b<d;b++){c=e[b];a.push(g[c])}if(f){return a.length===0?undefined:a.length===1?a[0]:a}else {return a}},getCallData:function(a){var b=this,f=null,g=b.len,k=b.params,l=b.strict,j,h,i,d,c,e;if(b.ordered){h=a[g];i=a[g+1];c=a[g+2];if(g!==0){f=a.slice(0,g)}}else if(b.formHandler){j=a[0];h=a[1];i=a[2];c=a[3]}else {f=Ext.apply({},a[0]);h=a[1];i=a[2];c=a[3];if(l){for(d in f){if(f.hasOwnProperty(d)&&!k[d]){delete f[d]}}}}if(b.metadata&&c&&c.metadata){if(b.metadata.ordered){e=c.metadata.slice(0,b.metadata.len)}else {e=Ext.apply({},c.metadata);if(b.metadata.strict){for(d in e){if(e.hasOwnProperty(d)&&!b.metadata.params[d]){delete e[d]}}}}delete c.metadata}return {form:j,data:f,metadata:e,callback:h,scope:i,options:c}}},1,0,0,0,0,0,[Ext.direct,'RemotingMethod'],0);Ext.cmd.derive('Ext.direct.Transaction',Ext.Base,{statics:{TRANSACTION_ID:0},constructor:function(b){var a=this;Ext.apply(a,b);a.id=a.tid=++a.self.TRANSACTION_ID;a.retryCount=0},send:function(){var a=this;a.provider.queueTransaction(a)},retry:function(){var a=this;a.retryCount++;a.send()},getProvider:function(){return this.provider}},1,0,0,0,['direct.transaction'],0,[Ext.direct,'Transaction'],0);Ext.cmd.derive('Ext.direct.RemotingProvider',Ext.direct.JsonProvider,{type:'remoting',enableBuffer:10,bufferLimit:Number.MAX_VALUE,maxRetries:1,constructor:function(b){var a=this;Ext.direct.JsonProvider.prototype.constructor.call(this,b);a.namespace=(Ext.isString(a.namespace)?Ext.ns(a.namespace):a.namespace)||Ext.global;a.callBuffer=[]},destroy:function(){if(this.callTask){this.callTask.cancel()}Ext.direct.JsonProvider.prototype.destroy.call(this)},connect:function(){var a=this;Ext.direct.JsonProvider.prototype.connect.call(this)},doConnect:function(){if(!this.apiCreated){this.initAPI();this.apiCreated=!0}},getNamespace:function(a,f){var c,e,b,d;a=a||Ext.global;c=f.toString().split('.');for(b=0,d=c.length;b<d;b++){e=c[b];a=a[e];if(typeof a==='undefined'){return a}}return a},createNamespaces:function(a,f){var d,b,c,e;a=a||Ext.global;d=f.toString().split('.');for(c=0,e=d.length;c<e;c++){b=d[c];a[b]=a[b]||{};a=a[b]}return a},initAPI:function(){var c=this,f=c.actions,d=c.namespace,k=Ext.direct.Manager,a,b,h,e,j,i,g;for(a in f){if(f.hasOwnProperty(a)){if(c.disableNestedActions){b=d[a];if(!b){b=d[a]={}}}else {b=c.getNamespace(d,a);if(!b){b=c.createNamespaces(d,a)}}h=f[a];for(e=0,j=h.length;e<j;++e){i=new Ext.direct.RemotingMethod(h[e]);b[i.name]=g=c.createHandler(a,i);k.registerMethod(g.$name,g)}}}},createHandler:function(b,c){var d=this,a;a=function(){d.invokeFunction(b,c,Array.prototype.slice.call(arguments,0))};a.name=a.$name=b+'.'+c.name;a.$directFn=!0;a.directCfg=a.$directCfg={action:b,method:c};return a},invokeFunction:function(g,c,h){var b=this,a,f,e,d;a=b.configureTransaction(g,c,h);if(b.fireEvent('beforecall',b,a,c)!==!1){Ext.direct.Manager.addTransaction(a);if(a.isForm){f=a.form;e=String(f.getAttribute('enctype')).toLowerCase()==='multipart/form-data';d={extTID:a.id,extAction:g,extMethod:c.name,extType:'rpc',extUpload:String(e)};if(a.metadata){d.extMetadata=Ext.JSON.encode(a.metadata)}Ext.apply(a,{form:f,isUpload:e,params:d})}b.queueTransaction(a);b.fireEvent('call',b,a,c)}},configureTransaction:function(h,d,g,i){var a,b,f,c,e;a=d.getCallData(g);b=a.callback;f=a.scope;c=a.options;b=b&&f?b.bind(f):b;e=Ext.apply({},{provider:this,args:g,action:h,method:d.name,form:a.form,data:a.data,metadata:a.metadata,callbackOptions:c,callback:b,isForm:!!d.formHandler,disableBatching:d.disableBatching});if(c&&c.timeout!=null){e.timeout=c.timeout}return new Ext.direct.Transaction(e)},queueTransaction:function(b){var a=this,d=a.callBuffer,c=a.enableBuffer;if(b.isForm||c===!1||b.disableBatching||b.timeout!=null){a.sendTransaction(b);return}d.push(b);if(c&&d.length<a.bufferLimit){if(!a.callTask){a.callTask=new Ext.util.DelayedTask(a.combineAndSend,a)}a.callTask.delay(Ext.isNumber(c)?c:10)}else {a.combineAndSend()}},combineAndSend:function(){var b=this,a=b.callBuffer,c=a.length;if(c>0){b.sendTransaction(c===1?a[0]:a);b.callBuffer=[]}},sendTransaction:function(a){var b=this,c,d,g,f=b.enableUrlEncode,h,e,i;c={url:b.url,callback:b.onData,scope:b,transaction:a,headers:b.getHeaders()};if(a.timeout!=null){c.timeout=a.timeout}else if(b.timeout!=null){c.timeout=b.timeout}if(a.isForm){Ext.apply(c,{params:a.params,form:a.form,isUpload:a.isUpload})}else {if(Ext.isArray(a)){d=[];for(e=0,i=a.length;e<i;++e){h=b.getPayload(a[e]);d.push(h)}}else {d=b.getPayload(a)}if(f){g={};g[Ext.isString(f)?f:'data']=Ext.encode(d);c.params=g}else {c.jsonData=d}}return b.sendAjaxRequest(c)},getPayload:function(a){var b={action:a.action,method:a.method,data:a.data,type:'rpc',tid:a.id};if(a.metadata){b.metadata=a.metadata}return b},onData:function(j,f,i){var a=this,d,g,e,c,b,h;if(a.destroying||a.destroyed){return}e=f&&a.createEvents(i);f=e&&e.length&&!e[0].parsingError;if(f){for(d=0,g=e.length;d<g;++d){c=e[d];a.fireEvent('data',a,c);b=a.getTransaction(c);if(b){if(a.fireEvent('beforecallback',a,c,b)!==!1){a.runCallback(b,c,!0)}Ext.direct.Manager.removeTransaction(b)}}}else {h=[].concat(j.transaction);c=e[0]||new Ext.direct.ExceptionEvent({data:null,transaction:b,code:Ext.direct.Manager.exceptions.TRANSPORT,message:'Unable to connect to the server.',xhr:i});for(d=0,g=h.length;d<g;++d){b=a.getTransaction(h[d]);if(b&&b.retryCount<a.maxRetries){b.retry()}else {a.fireEvent('data',a,c);a.fireEvent('exception',a,c);if(b&&a.fireEvent('beforecallback',a,c,b)!==!1){a.runCallback(b,c,!1)}Ext.direct.Manager.removeTransaction(b)}}}Ext.direct.JsonProvider.prototype.onData.call(this,j,f,i)},getTransaction:function(a){return a&&a.tid?Ext.direct.Manager.getTransaction(a.tid):null},runCallback:function(c,b){var e=!!b.status,g=e?'success':'failure',a,d,f;if(c&&c.callback){a=c.callback;d=c.callbackOptions;f=typeof b.result!=='undefined'?b.result:b.data;if(Ext.isFunction(a)){a(f,b,e,d)}else {Ext.callback(a[g],a.scope,[f,b,e,d]);Ext.callback(a.callback,a.scope,[f,b,e,d])}}},inheritableStatics:{checkConfig:function(a){return a&&a.type==='remoting'&&a.url&&Ext.isArray(a.actions)}}},1,0,0,0,['direct.remotingprovider'],0,[Ext.direct,'RemotingProvider'],0);Ext.cmd.derive('Ext.dom.Fly',Ext.dom.Element,{alternateClassName:'Ext.dom.Element.Fly',validNodeTypes:{1:1,9:1,11:1},isFly:!0,constructor:function(a){this.dom=a;this.el=this},attach:function(c){var a=this,b;if(!c){return a.detach()}a.dom=Ext.getDom(c);if(!Ext.cache[c.id]){b=a.peekData();if(b){b.isSynchronized=!1}}return a},detach:function(){return this.dom=null},addListener:null,removeListener:null},1,0,0,0,0,0,[Ext.dom,'Fly',Ext.dom.Element,'Fly'],function(b){var c={},a;b.cache=c;Ext.fly=function(a,e){var d=null,h=Ext.fly,f,g;e=e||h.caller&&(h.caller.$name||h.caller.name)||'_global';a=Ext.getDom(a);if(a){f=a.nodeType;if(b.prototype.validNodeTypes[f]||!f&&a.window==a){d=Ext.cache[a.id];if(!d||d.dom!==a){if(e==='constructor'){e='$constructor'}d=c[e]||(c[e]=new b());d.dom=a;g=d.peekData();if(g){g.isSynchronized=!1}}}}return d};Ext.getDetachedBody=function(){if(!a){Ext.detachedBodyEl=a=new b(document.createElement('div'));a.isDetachedBody=!0}return a}});Ext.cmd.derive('Ext.dom.CompositeElementLite',Ext.Base,{alternateClassName:['Ext.CompositeElementLite'],isComposite:!0,isLite:!0,statics:{importElementMethods:function(){var b=Ext.dom.Element,a=this.prototype;Ext.Object.each(b.prototype,function(b,c){if(typeof c==='function'&&!a[b]){a[b]=function(){return this.invoke(b,arguments)}}})}},constructor:function(a,b){if(b){this.elements=a||[]}else {this.elements=[];this.add(a)}},getElement:function(b){var a=this._fly||(this._fly=new Ext.dom.Fly());return a.attach(b)},transformElement:function(a){return Ext.getDom(a)},getCount:function(){return this.elements.length},add:function(a,e){var d=this.elements,b,c;if(!a){return this}if(typeof a==='string'){a=Ext.fly(e||document).query(a)}else if(a.isComposite){a=a.elements}else if(!Ext.isIterable(a)){a=[a]}for(b=0,c=a.length;b<c;++b){d.push(this.transformElement(a[b]))}return this},invoke:function(g,f){var b=this,e=b.elements,h=e.length,d,c,a;if(a!==0){d=(b.isLite?Ext.dom.Fly:Ext.dom.Element).prototype;for(a=0;a<h;a++){c=e[a];if(c){d[g].apply(b.getElement(c),f)}}}return b},item:function(c){var b=this.elements[c],a=null;if(b){a=this.getElement(b)}return a},slice:function(a,b){return Ext.Array.slice(this.elements,a,b)},each:function(g,e){var c=this,d=c.elements,f=d.length,b,a;for(b=0;b<f;b++){a=d[b];if(a){a=this.getElement(a);if(g.call(e||a,a,c,b)===!1){break}}}return c},fill:function(b){var a=this;a.elements=[];a.add(b);return a},insert:function(a,b){Ext.Array.insert(this.elements,a,b)},filter:function(e){var b=this,f=b.elements,i=f.length,g=[],d=0,h=typeof e==='function',c,a;for(;d<i;d++){a=f[d];c=!1;if(a){a=b.getElement(a);if(h){c=e.call(a,a,b,d)!==!1}else {c=a.is(e)}if(c){g.push(b.transformElement(a))}}}b.elements=g;return b},indexOf:function(a){return Ext.Array.indexOf(this.elements,this.transformElement(a))},replaceElement:function(d,a,e){var c=!isNaN(d)?d:this.indexOf(d),b;if(c>-1){a=Ext.getDom(a);if(e){b=this.elements[c];b.parentNode.insertBefore(a,b);Ext.removeNode(b)}Ext.Array.splice(this.elements,c,1,a)}return this},clear:function(c){var d=this,b=d.elements,a=b.length-1;if(c){for(;a>=0;a--){Ext.removeNode(b[a])}}this.elements=[]},addElements:function(a,d){if(!a){return this}if(typeof a==='string'){a=Ext.dom.Element.selectorFunction(a,d)}var e=this.elements,c=a.length,b;for(b=0;b<c;b++){e.push(Ext.get(a[b]))}return this},first:function(){return this.item(0)},last:function(){return this.item(this.getCount()-1)},contains:function(a){return this.indexOf(a)!==-1},removeElement:function(b,h){var f=this,e=f.elements,a,c,d,g;b=[].concat(b);for(d=0,g=b.length;d<g;d++){a=b[d];if(c=e[a]||e[a=f.indexOf(a)]){if(h){if(c.dom){c.destroy()}else {Ext.removeNode(c)}}Ext.Array.erase(e,a,1)}}return f},destroy:function(){this.invoke('destroy',arguments);this.callParent()}},1,0,0,0,0,0,[Ext.dom,'CompositeElementLite',Ext,'CompositeElementLite'],function(a){var b=a.prototype;a.importElementMethods();b.on=b.addListener});Ext.cmd.derive('Ext.dom.CompositeElement',Ext.dom.CompositeElementLite,{alternateClassName:'Ext.CompositeElement',isLite:!1,getElement:function(a){return a},transformElement:function(a){return Ext.get(a)}},0,0,0,0,0,0,[Ext.dom,'CompositeElement',Ext,'CompositeElement'],0);Ext.cmd.derive('Ext.dom.GarbageCollector',Ext.Base,{singleton:!0,interval:30000,constructor:function(){var a=this;a.lastTime=Ext.now();a.onTick=a.onTick.bind(a);a.resume()},collect:function(){var g=this,b=Ext.cache,a,f,c,e,d,h;for(a in b){if(!b.hasOwnProperty(a)){continue}c=b[a];if(c.skipGarbageCollection){continue}f=c.dom;try{d=Ext.isGarbage(f)}catch(i){delete b[a];continue}if(d){d=!1;if(c&&c.dom){c.collect()}}}if(Ext.isIE9m){e={};for(a in b){if(b.hasOwnProperty(a)){e[a]=b[a]}}Ext.cache=Ext.dom.Element.cache=e}g.lastTime=Ext.now()},onTick:function(){this.timerId=null;if(Ext.enableGarbageCollector){this.collect()}this.resume()},pause:function(){var a=this.timerId;if(a){this.timerId=null;Ext.undefer(a)}},resume:function(){var a=this,b=a.lastTime;if(Ext.enableGarbageCollector&&Ext.now()-b>a.interval){a.collect()}if(!a.timerId){a.timerId=Ext.defer(a.onTick,a.interval)}}},1,0,0,0,0,0,[Ext.dom,'GarbageCollector'],0);Ext.cmd.derive('Ext.dom.TouchAction',Ext.Base,{singleton:!0,lastTouchStartTime:0,minMoveDistance:8,spaceRe:/\s+/,preventSingle:null,preventMulti:null,disabledOverflowDom:null,panXCls:'x-touch-action-pan-x',panYCls:'x-touch-action-pan-y',cssValues:['none','pan-x','pan-y','pan-x pan-y','pinch-zoom','pan-x pinch-zoom','pan-y pinch-zoom','pan-x pan-y pinch-zoom','double-tap-zoom','pan-x double-tap-zoom','pan-y double-tap-zoom','pan-x pan-y double-tap-zoom','pinch-zoom double-tap-zoom','pan-x pinch-zoom double-tap-zoom','pan-y pinch-zoom double-tap-zoom',''],objectValues:[{panX:!1,panY:!1,pinchZoom:!1,doubleTapZoom:!1},{panX:!0,panY:!1,pinchZoom:!1,doubleTapZoom:!1},{panX:!1,panY:!0,pinchZoom:!1,doubleTapZoom:!1},{panX:!0,panY:!0,pinchZoom:!1,doubleTapZoom:!1},{panX:!1,panY:!1,pinchZoom:!0,doubleTapZoom:!1},{panX:!0,panY:!1,pinchZoom:!0,doubleTapZoom:!1},{panX:!1,panY:!0,pinchZoom:!0,doubleTapZoom:!1},{panX:!0,panY:!0,pinchZoom:!0,doubleTapZoom:!1},{panX:!1,panY:!1,pinchZoom:!1,doubleTapZoom:!0},{panX:!0,panY:!1,pinchZoom:!1,doubleTapZoom:!0},{panX:!1,panY:!0,pinchZoom:!1,doubleTapZoom:!0},{panX:!0,panY:!0,pinchZoom:!1,doubleTapZoom:!0},{panX:!1,panY:!1,pinchZoom:!0,doubleTapZoom:!0},{panX:!0,panY:!1,pinchZoom:!0,doubleTapZoom:!0},{panX:!1,panY:!0,pinchZoom:!0,doubleTapZoom:!0},{panX:!0,panY:!0,pinchZoom:!0,doubleTapZoom:!0}],attributeName:'data-extTouchAction',constructor:function(){var a=this,b=Ext.supports;if(b.TouchAction){a.cssProp='touch-action'}else if(b.MSPointerEvents){a.cssProp='-ms-touch-action'}if(b.TouchEvents){Ext.getWin().on({touchstart:'onTouchStart',touchmove:'onTouchMove',touchend:'onTouchEnd',scope:a,delegated:!1,translate:!1,capture:!0,priority:5000});Ext.on({scroll:'onScroll',scope:a,destroyable:!0})}},containsTargets:function(g,f){var b=!0,d=f.browserEvent,c=f.type==='touchend'?d.changedTouches:d.touches,a,e;for(a=0,e=c.length;a<e;a++){if(!g.contains(c[a].target)){b=!1;break}}return b},disableOverflow:function(a,d){var b=this,f=d?'overflow-y':'overflow-x',c,e;if(!b.disabledOverflowDom&&!Ext.isiOS&&!Ext.scrollbar.width()){b.disabledOverflowDom=a;e=d?b.panXCls:b.panYCls;while(a){c=Ext.fly(a).getStyle(f);if(c==='auto'||c==='scroll'){Ext.fly(a).addCls(e)}a=a.parentNode}}},get:function(c){var a=c.getAttribute(this.attributeName),b=null;if(a!=null){b=this.objectValues[a]}return b},getFlags:function(b){var a;if(typeof b==='number'){a=b}else {a=0;if(b.panX!==!1){a|=1}if(b.panY!==!1){a|=2}if(b.pinchZoom!==!1){a|=4}if(b.doubleTapZoom!==!1){a|=8}}return a},isScrollable:function(a,d,e){var c=Ext.fly(a).getStyle(d?'overflow-y':'overflow-x'),b=c==='auto'||c==='scroll';if(b){if(d){b=e?a.scrollTop+a.clientHeight<a.scrollHeight:a.scrollTop>0}else {b=e?a.scrollLeft+a.clientWidth<a.scrollWidth:a.scrollLeft>0}}return b},lookupFlags:function(a){return parseInt(a.getAttribute&&a.getAttribute(this.attributeName)||15,10)},onScroll:function(){this.scrollOccurred=!0;this.isDoubleTap=!1},onTouchEnd:function(d){var a=this,b=d.target,f,c,e;f=d.browserEvent.touches.length;if(f===0){if(a.isDoubleTap){while(b){c=a.lookupFlags(b);if(c!=null){e=c&8;if(!e){d.preventDefault()}}b=b.parentNode}}a.isDoubleTap=!1;a.preventSingle=null;a.preventMulti=null;a.resetOverflow()}},onTouchMove:function(g){var b=this,a=null,d=g.target,f,c,i,j,h,m,e,q,p,n,o,k,l;k=b.preventSingle;l=b.preventMulti;c=g.browserEvent.touches.length;if(c===1&&k===!1||l===!1){return}if(c>1&&l===!0||c===1&&k===!0){a=!0}else {if(c===1){h=g.getPoint();m=b.startPoint;q=Ext.Element.getViewportScale();p=h.getDistanceTo(b.startPoint)*q;n=h.x-m.x;o=h.y-m.y;e=Math.abs(o)>=Math.abs(n)}while(d&&d.nodeType===1){f=b.lookupFlags(d);if(f&0){a=!0}else if(c===1){i=!!(f&1);j=!!(f&2);if(i&&j){a=!1}else if(!i&&!j){a=!0}else if(p>=b.minMoveDistance){a=!!(i&&e||j&&!e)}if(!a&&b.isScrollable(d,e,(e?o:n)<0)){break}}else if(b.containsTargets(d,g)){a=!(f&4)}else {a=!1}if(a){break}d=d.parentNode}}if(c===1){b.preventSingle=a}else if(c>1){b.preventMulti=a}if(a){g.preventDefault()}},onTouchStart:function(d){var a=this,f,c,b,e,g;if(d.browserEvent.touches.length===1){f=d.time;if(!a.scrollOccurred&&f-a.lastTouchStartTime<=500){a.isDoubleTap=!0}a.lastTouchStartTime=f;a.scrollOccurred=!1;a.startPoint=d.getPoint();b=d.target;while(b){c=a.lookupFlags(b);if(c!=null){e=!!(c&1);g=!!(c&2);if(e!==g){a.disableOverflow(b,e);break}}b=b.parentNode}}else {a.isDoubleTap=!1}},resetOverflow:function(){var b=this,a=b.disabledOverflowDom;while(a){Ext.fly(a).removeCls([b.panXCls,b.panYCls]);a=a.parentNode}b.disabledOverflowDom=null},set:function(c,g){var a=this,e=a.cssProp,b=a.getFlags(g),f=b&Ext.supports.TouchAction,d=a.attributeName;if(e){Ext.fly(c).setStyle(e,a.cssValues[f])}if(b===15){c.removeAttribute(d)}else {c.setAttribute(d,b)}}},1,0,0,0,0,0,[Ext.dom,'TouchAction'],0);Ext.cmd.derive('Ext.drag.Constraint',Ext.Base,{factoryConfig:{defaultType:'base',type:'drag.constraint'},config:{element:null,horizontal:null,region:null,snap:null,source:null,vertical:null,x:null,y:null},constructor:function(a){this.initConfig(a)},applyElement:function(a){if(a&&typeof a!=='boolean'){a=Ext.get(a)}return a||null},applySnap:function(a){if(typeof a==='number'){a={x:a,y:a}}return a},constrain:function(l,k){var g=this,b=l[0],c=l[1],f=g.constrainInfo,h=f.initial,i=f.x,j=f.y,a=f.snap,e,d;if(!f.vertical){if(a&&a.x){if(a.xFn){b=a.x.call(g,k,b)}else {b=g.doSnap(b,h.x,a.x)}}if(i){e=i[0];d=i[1];if(e!==null&&b<e){b=e}if(d!==null&&b>d){b=d}}}else {b=h.x}if(!f.horizontal){if(a&&a.y){if(a.yFn){c=a.y.call(g,k,c)}else {c=g.doSnap(c,h.y,a.y)}}if(j){e=j[0];d=j[1];if(e!==null&&c<e){c=e}if(d!==null&&c>d){c=d}}}else {c=h.y}return [b,c]},destroy:function(){this.setSource(null);this.setElement(null);this.callParent()},privates:{constrainValue:function(b,c,f){var a=null,d=b===null,e=c===null;if(!(d&&e)){if(d){a=c}else if(e){a=b}else {a=f(b,c)}}return a},doSnap:function(d,e,c){if(!c){return d}var a=(d-e)/c,b=Math.floor(a);if(a-b<=0.5){a=b}else {a=b+1}return e+c*a},onDragStart:function(r){var a=this,d=a.getSnap(),l=!!a.getVertical(),k=!!a.getHorizontal(),c=a.getElement(),b=a.getRegion(),m=r.proxy,u=m.element,e=a.getX(),f=a.getY(),i=null,g=null,j=null,h=null,p=null,n=null,q=null,o=null,t,s;if(c){if(typeof c==='boolean'){c=a.getSource().getElement().parent()}if(r.local){t=c.getStyle('position');if(t==='relative'||t==='absolute'){s=c.getSize();b=new Ext.util.Region(0,s.width,s.height,0)}else {b=c.getRegion(!0,!0)}}else {b=c.getRegion(!0)}}if(b){if(!l){p=b.left;n=b.right-(u?m.width:0)}if(!k){q=b.top;o=b.bottom-(u?m.height:0)}}if(!l&&(b||e)){if(e){i=e[0];g=e[1]}if(i!==null||g!==null||p!==null||n!==null){i=a.constrainValue(i,p,Math.max);g=a.constrainValue(g,n,Math.min);e=[i,g]}}if(!k&&(b||f)){if(f){j=f[0];h=f[1]}if(j!==null||h!==null||q!==null||o!==null){j=a.constrainValue(j,q,Math.max);h=a.constrainValue(h,o,Math.min);f=[j,h]}}if(d){d={x:d.x,xFn:typeof d.x==='function',y:d.y,yFn:typeof d.y==='function'}}a.constrainInfo={initial:r.element.initial,vertical:l,horizontal:k,x:e,y:f,snap:d}}}},1,0,0,0,['drag.constraint.base'],[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.drag,'Constraint'],0);Ext.cmd.derive('Ext.drag.Info',Ext.Base,{constructor:function(c,k){if(!c){return}var a=this,l=c.getLocal(),d,e,b,f,j,g,h,i;a.source=c;a.local=l;j=a.getEventXY(k);h=k.getXY();d=c.getElement();i=d.getXY();j=l?d.getLocalXY():i;f=j[0];g=j[1];a.initialEvent=k;a.eventTarget=k.target;a.cursor={current:{x:f,y:g},delta:{x:0,y:0},initial:{x:h[0],y:h[1]},offset:{x:h[0]-i[0],y:h[1]-i[1]}};a.element={current:{x:f,y:g},delta:{x:0,y:0},initial:{x:f,y:g}};a.proxy={instance:c.getProxy(),current:{x:f,y:g},delta:{x:0,y:0},initial:{x:f,y:g},element:d,isUnderCursor:!1,isElement:!0};a.types=[];a.data={};c.describe(a);b=a.proxy;e=b.instance.setupElement(a);b.isElement=e===c.getElement();b.element=e;if(e){b.width=e.getWidth();b.height=e.getHeight()}if(b.isElement){d=a.element;d.current=b.current;d.delta=b.delta}a.needsCursorCheck=b.element&&c.manager&&c.manager.pointerBug},cursor:null,element:null,eventTarget:null,files:null,isNative:!1,proxy:null,source:null,target:null,types:null,valid:!1,clearData:function(a){Ext.Array.remove(this.types,a);delete this.data[a]},clone:function(){var b=this,a=new Ext.drag.Info();a.cursor=Ext.merge({},b.cursor);a.data=Ext.apply({},b.data);a.element=Ext.merge({},b.element);a.eventTarget=b.eventTarget;a.proxy=Ext.merge({},b.proxy);a.source=b.source;a.target=b.target;a.types=Ext.Array.clone(b.types);a.valid=b.valid;return a},getData:function(c){var b=this,d=b.data,e=b.dataTransfer,a;if(e){a=e.getData(c)}else {a=d[c];if(typeof a==='function'){d[c]=a=a.call(b.source,b)}if(!a&&a!==0){a=''}}return Ext.Promise.resolve(a)},setData:function(a,b){Ext.Array.include(this.types,a);this.data[a]=b},destroy:function(){var a=this;a.eventTarget=a.data=a.proxy=a.targetMap=a.targetMap=a.types=a.elementMap=a.possibleTargets=a.target=null;a.callParent()},privates:{data:null,dataTransfer:null,elementMap:null,possibleTargets:null,targetMap:null,copyNativeData:function(b,c){var a=c.browserEvent.dataTransfer;this.target=b;this.dataTransfer=a;this.files=a.files},finalize:function(){var b=this,a=b.target;b.finalized=!0;if(a){a.info=null;a.handleDrop(b)}},getAlignXY:function(h,i){var b=this,e=b.source,c=b.cursor.offset,g=e.getProxy(),f=b.proxy.element,d=e.getConstrain(),a=[h,i];if(f){if(b.proxy.isElement){a[0]-=c.x;a[1]-=c.y}else {a=g.adjustCursorOffset(b,a)}if(d){a=d.constrain(a,b)}}return a},getEventXY:function(c){var a=c.getXY(),b=this.source;if(this.local){a=b.convertToLocalXY(a)}return a},onNativeDragEnter:function(b,c){var a=this;a.valid=b.accepts(a);b.info=a;a.copyNativeData(b,c)},onNativeDragLeave:function(b,c){var a=this;if(a.target===b){b.info=null;a.valid=!1;a.target=a.dataTransfer=a.files=null}},onNativeDragMove:function(a,b){this.copyNativeData(a,b)},onNativeDrop:function(a,b){this.copyNativeData(a,b);a.info=null},setActive:function(b){var a=this,e=a.source,c=a.target,d=c!==b;if(c&&d){c.handleDragLeave(a);c.info=null}a.target=b;if(b){if(d){a.valid=!!a.possibleTargets[b.getId()]&&b.accepts(a)!==!1;b.handleDragEnter(a);b.info=a}b.handleDragMove(a)}else {a.valid=!1}if(d){e.getProxy().update(a)}},update:function(o,n){var b=this,m=b.getEventXY(o),f=m[0],g=m[1],j=b.getAlignXY(f,g),h=j[0],i=j[1],a=b.proxy,k=b.cursor,c=k.current,e=k.delta,d=k.initial,l=a.instance;c.x=f;c.y=g;e.x=f-d.x;e.y=g-d.y;c=a.current;e=a.delta;d=a.initial;c.x=h;c.y=i;e.x=h-d.x;e.y=i-d.y;if(b.needsCursorCheck){a.isUnderCursor=!(f<h||g<i||f>a.width+h||g>a.height+i)}if(!n&&l){l.setXY(b,j)}}}},1,0,0,0,0,0,[Ext.drag,'Info'],0);Ext.cmd.derive('Ext.drag.Item',Ext.Base,{config:{autoDestroy:!0,component:null,element:null,groups:null},constructor:function(a){this.mixins.observable.constructor.call(this,a)},isDisabled:function(){return this.disabled},disable:function(){this.disabled=!0},enable:function(){this.disabled=!1},updateComponent:function(b,c){var a;if(b){a=b.el}else if(c&&c.el===this.getElement()){a=null}else {return}this.setElement(a)},applyElement:function(a){return a?Ext.get(a):null},updateElement:function(){this.setupListeners()},applyGroups:function(a){if(typeof a==='string'){a=[a]}return a},destroy:function(){var a=this,b=a.getElement();a.destroying=!0;a.setElement(null);if(b&&a.getAutoDestroy()){b.destroy()}a.callParent()},privates:{disabled:!1,convertToLocalXY:function(a){var b=this.getComponent();if(b){a=b.convertToLocalXY(a)}else {a=this.getElement().translateXY(a[0],a[1]);a=[a.x,a.y]}return a},getElListeners:Ext.privateFn,setupListeners:function(b){var a=this,c=a.elListeners;b=b||a.getElement();if(c){c.destroy();a.elListeners=null}if(b){a.elListeners=b.on(Ext.apply({scope:a,destroyable:!0},a.getElListeners()))}}}},1,0,0,0,0,[[Ext.mixin.Observable.prototype.mixinId||Ext.mixin.Observable.$className,Ext.mixin.Observable],[Ext.mixin.Identifiable.prototype.mixinId||Ext.mixin.Identifiable.$className,Ext.mixin.Identifiable]],[Ext.drag,'Item'],0);Ext.cmd.derive('Ext.drag.Manager',Ext.Base,{singleton:!0,dragCls:'x-drag-body',pointerBug:Ext.isTouch||(!Ext.supports.CSSPointerEvents||Ext.isIE10m||Ext.isOpera),constructor:function(){this.targets={};this.nativeTargets=[];Ext.onReady(this.init,this)},init:function(){Ext.getDoc().on({scope:this,dragenter:{capture:!0,fn:'onNativeDragEnter'},dragleave:'onNativeDragLeave',dragover:'onNativeDragOver',drop:'onNativeDrop'})},destroy:function(){var a=this,b=a.targets,c;a.destroying=!0;for(c in b){b[c].destroy()}a.targets=null;a.callParent()},privates:{elementFromPoint:function(a,b){if(Ext.rootInheritedState.rtl){a=Ext.Element.getViewportWidth()-a}return Ext.dom.Element.fromPagePoint(a,b,!0)},getAtPoint:function(c){var e=c.cursor.current,g=c.elementMap,f=c.proxy.isUnderCursor,b=this.pointerBug&&f?c.proxy.element.dom:null,d,a;if(b){b.style.visibility='hidden'}a=this.elementFromPoint(e.x,e.y);if(b){b.style.visibility='visible'}while(a){d=g[a.id];if(d){return d}a=a.parentNode}return null},getNativeDragInfo:function(b){var a=this.nativeDragInfo;if(!a){this.nativeDragInfo=a=new Ext.drag.Info();a.isNative=!0}return a},onDragCancel:function(){Ext.getBody().removeCls(this.dragCls)},onDragEnd:function(a,b){a.finalize();Ext.getBody().removeCls(this.dragCls)},onDragMove:function(a,b){this.processDrag(a)},onDragStart:function(c,p){var j=this,o=c.source,l=j.targets,m=o.getGroups(),k={},h={},i={},f,a,b,d,e,n,g;i={};h={};if(m){d=Ext.Array.toMap(m)}for(f in l){a=l[f];if(!a.isDisabled()){e=!1;b=a.getGroups();if(!d&&!b){e=!0}else if(d&&b){for(g=0,n=b.length;g<n;++g){if(d[b[g]]){e=!0;break}}}if(e){h[f]=a}}k[f]=a;i[a.getElement().id]=a}c.possibleTargets=h;c.targetMap=k;c.elementMap=i;Ext.getBody().addCls(j.dragCls);j.processDrag(c)},onNativeDragEnter:function(c){var a=this.nativeTargets,b=c.target;c.preventDefault();if(a[a.length-1]!==b){a.push(b)}},onNativeDragLeave:function(b){var a=this.nativeTargets;Ext.Array.remove(a,b.target);if(a.length===0){this.nativeDragInfo=null}},onNativeDragOver:function(a){a.preventDefault()},onNativeDrop:function(a){a.preventDefault();this.nativeTargets.length=0;this.nativeDragInfo=null},processDrag:function(a){a.setActive(this.getAtPoint(a))},register:function(a){this.targets[a.getId()]=a},unregister:function(b){var a;if(this.destroying){return}a=b.getId();this.targets[a]=null;delete this.targets[a]}}},1,0,0,0,0,0,[Ext.drag,'Manager'],0);Ext.cmd.derive('Ext.drag.Source',Ext.drag.Item,{defaultIdPrefix:'source-',config:{activateOnLongPress:!1,activeCls:null,constrain:null,handle:null,local:null,proxy:'original',revert:!1},dragging:!1,constructor:function(a){var b=a&&a.describe;if(b){this.describe=b;a=Ext.apply({},a);delete a.describe}Ext.drag.Item.prototype.constructor.call(this,a);this.manager=Ext.drag['Manager']},describe:Ext.emptyFn,isDragging:function(){return this.dragging},beforeDragStart:Ext.emptyFn,onDragCancel:Ext.emptyFn,onDragEnd:Ext.emptyFn,onDragMove:Ext.emptyFn,onDragStart:Ext.emptyFn,applyActivateOnLongPress:function(a){if(typeof a==='string'){a=[a]}return a},updateActivateOnLongPress:function(a){if(!this.isConfiguring){this.setupListeners()}},updateActiveCls:function(c,b){var a;if(this.dragging){a=this.getElement();a.replaceCls(b,c)}},applyConstrain:function(a){if(a&&!a.$isClass){if(a.isRegion){a={region:a}}else if(a.isElement||!Ext.isObject(a)){a={element:a}}a=Ext.apply({source:this},a);a=Ext.Factory.dragConstraint(a)}return a},updateElement:function(b,a){if(a&&!a.destroyed){a.un('dragstart','stopNativeDrag',this)}if(b&&!this.getHandle()){b.setTouchAction({panX:!1,panY:!1});b.on('dragstart','stopNativeDrag',this,{translate:!1,delegated:!1})}Ext.drag.Item.prototype.updateElement.call(this,b,a)},updateHandle:function(){if(!this.isConfiguring){this.setupListeners()}},applyProxy:function(a){if(a){a=Ext.Factory.dragproxy(a)}return a},updateProxy:function(b,a){if(a){a.destroy()}if(b){b.setSource(this)}},resolveListenerScope:function(){var a=this.ownerCmp,b=arguments;if(a){return a.resolveListenerScope.apply(a,b)}return Ext.drag.Item.prototype.resolveListenerScope.apply(this,b)},destroy:function(){var a=this;a.manager=a.initialEvent=null;a.setConstrain(null);a.setProxy(null);Ext.drag.Item.prototype.destroy.call(this)},privates:{draggingCls:'x-drag-dragging',info:null,revertCls:'x-drag-revert',canActivateOnLongPress:function(b){var a=this.getActivateOnLongPress();return !!(a&&(a===!0||Ext.Array.contains(a,b.pointerType)))},dragCleanup:function(b){var a=this,d=a.getActiveCls(),e=a.getProxy(),f=a.getElement(),c=b?b.proxy.element:null;if(d){f.removeCls(d)}if(c){c.removeCls(a.draggingCls)}e.cleanup(b);a.dragging=!1;a.initialEvent=a.info=null},getElListeners:function(){var b=this.getHandle(),a={touchstart:'handleTouchStart',dragstart:'handleDragStart',drag:'handleDragMove',dragend:'handleDragEnd',dragcancel:'handleDragCancel'};if(b){a.dragstart={fn:a.dragstart,delegate:b}}if(this.getActivateOnLongPress()){a.longpress='handleLongPress'}return a},handleDragCancel:function(c){var a=this,b=a.info,d=a.manager;if(d){d.onDragCancel(b,c)}a.onDragCancel(b);if(a.hasListeners.dragcancel){a.fireEvent('dragcancel',a,b,c)}Ext.fireEvent('dragcancel',a,b,c);a.dragCleanup(b)},handleDragEnd:function(d){if(!this.dragging){return}var a=this,e=a.manager,f=a.getRevert(),b=a.info,c=b.proxy;b.update(d);if(e){e.onDragEnd(b,d)}a.onDragEnd(b);if(a.hasListeners.dragend){a.fireEvent('dragend',a,b,d)}Ext.fireEvent('dragend',a,b,d);c=c.instance;if(f&&c){c.dragRevert(b,a.revertCls,f,function(){a.dragCleanup(b)})}else {a.dragCleanup(b)}},handleDragMove:function(b){var a=this,c=a.info,d=a.manager;if(!a.dragging){return}b.stopPropagation();b.claimGesture();c.update(b);if(d){d.onDragMove(c,b)}a.onDragMove(c);if(a.hasListeners.dragmove){a.fireEvent('dragmove',a,c,b)}},handleDragStart:function(c){var a=this,e=a.hasListeners,i=a.manager,h=a.getConstrain(),k=a.initialEvent,j,g,b,d,f;if(a.preventStart(c)){return !1}if(e.initdragconstraints){a.fireEvent('initdragconstraints',a,c)}a.info=b=new Ext.drag.Info(a,k);a.setup(b);if(h){h.onDragStart(b)}b.update(c,!0);d=a.beforeDragStart(b)===!1;if(!d&&e.beforedragstart){d=a.fireEvent('beforedragstart',a,b,c)===!1}if(d){a.dragCleanup();return !1}c.claimGesture();a.dragging=!0;g=a.getActiveCls();j=a.getElement();if(g){j.addCls(g)}f=b.proxy.element;if(f){f.addCls(a.draggingCls)}b.update(c);if(i){i.onDragStart(b,c)}a.onDragStart(b);if(e.dragstart){a.fireEvent('dragstart',a,b,c)}Ext.fireEvent('dragstart',a,b,c)},handleLongPress:function(a){if(!this.isDisabled()&&this.canActivateOnLongPress(a)){this.initialEvent=a;a.startDrag()}},handleTouchStart:function(a){if(!this.isDisabled()){this.initialEvent=a}},preventStart:function(a){return this.isDisabled()||!a.longpress&&this.canActivateOnLongPress(a)},setup:Ext.privateFn,stopNativeDrag:function(a){a.preventDefault()}}},1,0,0,0,0,0,[Ext.drag,'Source'],0);Ext.cmd.derive('Ext.drag.Target',Ext.drag.Item,{defaultIdPrefix:'target-',config:{invalidCls:'',validCls:''},constructor:function(a){var c=this,b=a&&a.accepts;if(b){c.accepts=b;a=Ext.apply({},a);delete a.accepts}Ext.drag.Item.prototype.constructor.call(this,a);Ext.drag.Manager.register(c)},accepts:function(a){return !0},disable:function(){Ext.drag.Item.prototype.disable.call(this);this.setupListeners(null)},enable:function(){Ext.drag.Item.prototype.enable.call(this);this.setupListeners()},beforeDrop:Ext.emptyFn,onDrop:Ext.emptyFn,onDragEnter:Ext.emptyFn,onDragLeave:Ext.emptyFn,onDragMove:Ext.emptyFn,updateInvalidCls:function(c,b){var a=this.info;this.doUpdateCls(a&&!a.valid,c,b)},updateValidCls:function(c,b){var a=this.info;this.doUpdateCls(a&&a.valid,c,b)},destroy:function(){Ext.drag.Manager.unregister(this);Ext.drag.Item.prototype.destroy.call(this)},privates:{doUpdateCls:function(d,b,a){var c=this.getElement();if(a){c.removeCls(a)}if(b&&d){c.addCls(b)}},getElListeners:function(){return {dragenter:'handleNativeDragEnter',dragleave:'handleNativeDragLeave',dragover:'handleNativeDragMove',drop:'handleNativeDrop'}},handleDrop:function(b){var a=this,c=a.hasListeners,d=b.valid;a.getElement().removeCls([a.getInvalidCls(),a.getValidCls()]);if(d&&a.beforeDrop(b)!==!1){if(c.beforedrop&&a.fireEvent('beforedrop',a,b)===!1){return !1}a.onDrop(b);if(c.drop){a.fireEvent('drop',a,b)}}else {return !1}},handleDragEnter:function(b){var a=this,c=b.valid?a.getValidCls():a.getInvalidCls();if(c){a.getElement().addCls(c)}a.onDragEnter(b);if(a.hasListeners.dragenter){a.fireEvent('dragenter',a,b)}},handleDragLeave:function(b){var a=this;a.getElement().removeCls([a.getInvalidCls(),a.getValidCls()]);a.onDragLeave(b);if(a.hasListeners.dragleave){a.fireEvent('dragleave',a,b)}},handleDragMove:function(b){var a=this;a.onDragMove(b);if(a.hasListeners.dragmove){a.fireEvent('dragmove',a,b)}},handleNativeDragEnter:function(c){var a=this,b=Ext.drag.Manager.getNativeDragInfo(c);b.onNativeDragEnter(a,c);if(a.hasListeners.dragenter){a.fireEvent('dragenter',a,b)}},handleNativeDragLeave:function(c){var a=this,b=Ext.drag.Manager.getNativeDragInfo(c);b.onNativeDragLeave(a,c);if(a.hasListeners.dragleave){a.fireEvent('dragleave',a,b)}},handleNativeDragMove:function(c){var a=this,b=Ext.drag.Manager.getNativeDragInfo(c);b.onNativeDragMove(a,c);if(a.hasListeners.dragmove){a.fireEvent('dragmove',a,b)}},handleNativeDrop:function(d){var a=this,c=a.hasListeners,b=Ext.drag.Manager.getNativeDragInfo(d),e=b.valid;b.onNativeDrop(a,d);if(e){if(c.beforedrop&&a.fireEvent('beforedrop',a,b)===!1){return}if(c.drop){a.fireEvent('drop',a,b)}}}}},1,0,0,0,0,0,[Ext.drag,'Target'],0);Ext.cmd.derive('Ext.drag.proxy.None',Ext.Base,{factoryConfig:{aliasPrefix:'drag.proxy.',type:'dragproxy'},config:{source:null},constructor:function(a){var b=a&&a.getElement;if(b){this.getElement=b;a=Ext.apply({},a);delete a.getElement}this.initConfig(a)},cleanup:Ext.emptyFn,dragRevert:function(d,b,f,e){var a=this.getPositionable(d),c=d.proxy.initial;a.addCls(b);a.setXY([c.x,c.y],Ext.apply({callback:function(){a.removeCls(b);e()}},f))},getElement:function(){return null},getPositionable:function(){return this.element},setXY:function(c,d,b){var a=this.getPositionable(c);if(a){a.setXY(d,b)}},update:Ext.emptyFn,privates:{setupElement:function(a){return this.element=this.getElement(a)},adjustCursorOffset:function(b,a){return a}}},1,0,0,0,['drag.proxy.none'],[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.drag.proxy,'None'],0);Ext.cmd.derive('Ext.drag.proxy.Original',Ext.drag.proxy.None,{getElement:function(a){return a.source.getElement()},getPositionable:function(b){var a=b.source;return a.getComponent()||a.getElement()}},0,0,0,0,['drag.proxy.original'],0,[Ext.drag.proxy,'Original'],0);Ext.cmd.derive('Ext.drag.proxy.Placeholder',Ext.drag.proxy.None,{config:{cls:'',cursorOffset:[12,20],html:null,invalidCls:'',validCls:''},placeholderCls:'x-drag-proxy-placeholder',cleanup:function(){this.element=Ext.destroy(this.element)},getElement:function(){var a=Ext.getBody().createChild({cls:this.getCls(),html:this.getHtml()});a.addCls(this.placeholderCls);a.setTouchAction({panX:!1,panY:!1});return a},update:function(d){var e=this.element,a=this.getInvalidCls(),b=this.getValidCls(),c=d.valid;if(d.target){e.replaceCls(c?a:b,c?b:a)}else {e.removeCls([a,b])}},updateCls:function(c,b){var a=this.element;if(a){if(b){a.removeCls(b)}if(c){a.addCls(c)}}},updateHtml:function(b){var a=this.element;if(a){a.setHtml(b||'')}},updateInvalidCls:function(b,a){this.doUpdateCls(b,a)},updateValidCls:function(b,a){this.doUpdateCls(b,a)},destroy:function(){this.element=Ext.destroy(this.element);this.callParent()},privates:{adjustCursorOffset:function(c,b){var a=this.getCursorOffset();if(a){b[0]+=a[0]||0;b[1]+=a[1]||0}return b},doUpdateCls:function(c,b){var a=this.element,d;if(a){if(b){d=c&&a.hasCls(b);a.removeCls(b)}if(c&&d){a.addCls(c)}}}}},0,0,0,0,['drag.proxy.placeholder'],0,[Ext.drag.proxy,'Placeholder'],0);Ext.define('Ext.overrides.drag.proxy.Placeholder',{override:'Ext.drag.proxy.Placeholder',getElement:function(){var a=(arguments.callee.$previous||Ext.drag.proxy.None.prototype.getElement).call(this);a.addCls('x-root');return a}});Ext.cmd.derive('Ext.event.gesture.Recognizer',Ext.Base,{priority:0,handledEvents:[],isStarted:!1,config:{onRecognized:Ext.emptyFn,callbackScope:null},constructor:function(a){this.initConfig(a);Ext.event.publisher.Gesture.instance.registerRecognizer(this)},onStart:Ext.emptyFn,onEnd:Ext.emptyFn,onTouchStart:Ext.emptyFn,onTouchMove:Ext.emptyFn,onTouchEnd:function(){return this.reset()},onTouchCancel:function(a){return this.cancel(a)},fire:function(a,d,c,b){this.getOnRecognized().call(this.getCallbackScope(),this,a,d,c,b)},cancel:function(a){if(this.isStarted){this.onCancel(a)}return this.reset()},onCancel:Ext.emptyFn,reset:function(){this.isStarted=!1;return !1}},1,0,0,0,0,[[Ext.mixin.Identifiable.prototype.mixinId||Ext.mixin.Identifiable.$className,Ext.mixin.Identifiable]],[Ext.event.gesture,'Recognizer'],0);Ext.cmd.derive('Ext.event.gesture.SingleTouch',Ext.event.gesture.Recognizer,{isSingleTouch:!0,onTouchStart:function(a){if(a.touches.length>1){return this.cancel(a)}}},0,0,0,0,0,0,[Ext.event.gesture,'SingleTouch'],0);Ext.cmd.derive('Ext.event.gesture.DoubleTap',Ext.event.gesture.SingleTouch,{priority:300,config:{moveDistance:8,tapDistance:24,maxDuration:300},handledEvents:['singletap','doubletap'],singleTapTimer:null,startTime:0,lastTapTime:0,onTouchStart:function(b){var a=this,d=Ext.event.gesture.SingleTouch.prototype.onTouchStart.call(this,b),c;if(d!==!1){a.isStarted=!0;c=a.lastStartPoint=b.changedTouches[0].point;a.startPoint=a.startPoint||c;a.startTime=b.time;Ext.undefer(a.singleTapTimer)}return d},onTouchMove:function(b){var a=this,d=b.changedTouches[0].point,e=Ext.Element.getViewportScale(),c=Math.round(Math.abs(d.getDistanceTo(a.lastStartPoint)*e));if(c>=a.getMoveDistance()){return a.cancel(b)}},onTouchEnd:function(b){var a=this,f=a.getMaxDuration(),d=b.time,h=b.target,e=a.lastTapTime,j=a.lastTarget,k=b.changedTouches[0].point,c,i,g;a.lastTapTime=d;a.lastTarget=h;if(e){c=d-e;if(c<=f){i=Ext.Element.getViewportScale();g=Math.round(Math.abs(k.getDistanceTo(a.startPoint)*i));if(g<=a.getTapDistance()){if(h!==j){return a.cancel(b)}a.lastTarget=null;a.lastTapTime=0;a.fire('doubletap',b,{touch:b.changedTouches[0],duration:c});return Ext.event.gesture.SingleTouch.prototype.onTouchEnd.call(this,b)}}}if(d-a.startTime>f){a.fire('singletap',b);a.reset()}else {a.setSingleTapTimer(b)}},setSingleTapTimer:function(b){var a=this;a.singleTapTimer=Ext.defer(function(){a.fire('singletap',b);a.reset()},a.getMaxDuration())},reset:function(){var a=this;Ext.undefer(a.singleTapTimer);a.startTime=a.lastTapTime=0;a.lastStartPoint=a.startPoint=a.singleTapTimer=null;return Ext.event.gesture.SingleTouch.prototype.reset.call(this)}},0,0,0,0,0,0,[Ext.event.gesture,'DoubleTap'],function(a){var b=Ext.manifest.gestures;a.instance=new a(b&&b.doubleTap)});Ext.cmd.derive('Ext.event.gesture.Drag',Ext.event.gesture.SingleTouch,{priority:100,startPoint:null,previousPoint:null,lastPoint:null,handledEvents:['dragstart','drag','dragend','dragcancel'],config:{minDistance:8},constructor:function(){Ext.event.gesture.SingleTouch.prototype.constructor.apply(this,arguments);this.initInfo()},initInfo:function(){this.info={touch:null,previous:{x:0,y:0},x:0,y:0,delta:{x:0,y:0},absDelta:{x:0,y:0},flick:{velocity:{x:0,y:0}},direction:{x:0,y:0},time:0,previousTime:{x:0,y:0},longpress:!1}},onTouchStart:function(a){var c=this,b=Ext.event.gesture.SingleTouch.prototype.onTouchStart.call(this,a);if(b!==!1){c.startTime=a.time;c.startPoint=a.changedTouches[0].point}return b},tryDragStart:function(b){var a=this,e=b.changedTouches[0].point,c=a.getMinDistance(),f=Ext.Element.getViewportScale(),d=Math.round(Math.abs(e.getDistanceTo(a.startPoint)*f));if(d>=c){a.doDragStart(b)}},doDragStart:function(b,g){var a=this,d=b.changedTouches[0],f=d.point,e=a.info,c;if(g){c=Ext.now();a.startTime=c;a.startPoint=f;e.longpress=!0}else {c=b.time}a.isStarted=!0;a.previousPoint=a.lastPoint=f;a.resetInfo('x',b,d);a.resetInfo('y',b,d);e.time=c;a.fire('dragstart',b,e)},onTouchMove:function(b){var a=this,c,d;if(!a.startPoint){return}if(!a.isStarted){a.tryDragStart(b)}if(!a.isStarted){return}c=b.changedTouches[0];d=c.point;if(a.lastPoint){a.previousPoint=a.lastPoint}a.lastPoint=d;a.lastMoveEvent=b;a.updateInfo('x',b,c);a.updateInfo('y',b,c);a.info.time=b.time;a.fire('drag',b,a.info)},onAxisDragEnd:function(b,a){var c=a.time-a.previousTime[b];if(c>0){a.flick.velocity[b]=(a[b]-a.previous[b])/c}},resetInfo:function(b,i,h){var d=this,g=d.lastPoint[b],e=d.startPoint[b],f=g-e,c=b.toUpperCase(),a=d.info;a.touch=h;a.delta[b]=f;a.absDelta[b]=Math.abs(f);a.previousTime[b]=d.startTime;a.previous[b]=e;a[b]=g;a.direction[b]=0;a['start'+c]=d.startPoint[b];a['previous'+c]=a.previous[b];a['page'+c]=a[b];a['delta'+c]=a.delta[b];a['absDelta'+c]=a.absDelta[b];a['previousDelta'+c]=0;a.startTime=d.startTime},updateInfo:function(b,l,k){var e=this,d=e.lastPoint[b],g=e.previousPoint[b],f=e.startPoint[b],i=d-f,a=e.info,h=a.direction,c=b.toUpperCase(),j=a.previous[b];a.touch=k;a.delta[b]=i;a.absDelta[b]=Math.abs(i);if(d!==j&&d!==a[b]){a.previous[b]=a[b];a.previousTime[b]=a.time}a[b]=d;if(d>g){h[b]=1}else if(d<g){h[b]=-1}a['start'+c]=f;a['previous'+c]=a.previous[b];a['page'+c]=a[b];a['delta'+c]=a.delta[b];a['absDelta'+c]=a.absDelta[b];a['previousDelta'+c]=a.previous[b]-f;a.startTime=e.startTime},onTouchEnd:function(b){var a=this,d,e,c;if(a.isStarted){d=b.changedTouches[0];e=d.point;c=a.info;a.lastPoint=e;a.updateInfo('x',b,d);a.updateInfo('y',b,d);c.time=b.time;a.onAxisDragEnd('x',c);a.onAxisDragEnd('y',c);a.fire('dragend',b,c)}return Ext.event.gesture.SingleTouch.prototype.onTouchEnd.call(this,b)},onCancel:function(a){var b=this,c=a.changedTouches[0],d=b.info;if(!a.touches.length){b.lastPoint=c.point}b.updateInfo('x',a,c);b.updateInfo('y',a,c);d.time=a.time;b.fire('dragcancel',a,d,!0)},reset:function(){var a=this;a.lastPoint=a.startPoint=a.previousPoint=a.lastPoint=a.lastMoveEvent=null;a.initInfo();return Ext.event.gesture.SingleTouch.prototype.reset.call(this)}},1,0,0,0,0,0,[Ext.event.gesture,'Drag'],function(b){var a=Ext.manifest.gestures;b.instance=new b(a&&a.drag)});Ext.cmd.derive('Ext.event.gesture.Swipe',Ext.event.gesture.SingleTouch,{priority:600,handledEvents:['swipestart','swipe','swipecancel'],config:{minDistance:80,maxOffset:35,maxDuration:1000},onTouchStart:function(c){var a=this,d=Ext.event.gesture.SingleTouch.prototype.onTouchStart.call(this,c),b;if(d!==!1){b=c.changedTouches[0];a.startTime=c.time;a.isHorizontal=!0;a.isVertical=!0;a.startX=b.pageX;a.startY=b.pageY}return d},onTouchMove:function(b){var a=this,h=b.changedTouches[0],j=h.pageX,k=h.pageY,l=j-a.startX,m=k-a.startY,c=Math.abs(j-a.startX),d=Math.abs(k-a.startY),i=b.time-a.startTime,f,e,g;if(c===0&&d===0||i>a.getMaxDuration()){return a.cancel(b)}if(a.isHorizontal&&d>a.getMaxOffset()){a.isHorizontal=!1}if(a.isVertical&&c>a.getMaxOffset()){a.isVertical=!1}if(!a.isVertical||!a.isHorizontal){f=a.getMinDistance();if(a.isHorizontal&&c<f){e=l<0?'left':'right';g=c}else if(a.isVertical&&d<f){e=m<0?'up':'down';g=d}}if(!a.isHorizontal&&!a.isVertical){return a.cancel(b)}if(e&&!a.isStarted){a.isStarted=!0;a.fire('swipestart',b,{touch:h,direction:e,distance:g,duration:i})}},onTouchEnd:function(b){var a=this,c,l,m,i,j,e,f,d,k,g,h;if(a.onTouchMove(b)!==!1){c=b.changedTouches[0];l=c.pageX;m=c.pageY;i=l-a.startX;j=m-a.startY;e=Math.abs(i);f=Math.abs(j);d=a.getMinDistance();k=b.time-a.startTime;if(a.isVertical&&f<d){a.isVertical=!1}if(a.isHorizontal&&e<d){a.isHorizontal=!1}if(a.isHorizontal){g=i<0?'left':'right';h=e}else if(a.isVertical){g=j<0?'up':'down';h=f}a.fire('swipe',b,{touch:c,direction:g,distance:h,duration:k})}return Ext.event.gesture.SingleTouch.prototype.onTouchEnd.call(this,b)},onCancel:function(a){this.fire('swipecancel',a,null,!0)},reset:function(){var a=this;a.startTime=a.isHorizontal=a.isVertical=a.startX=a.startY=null;return Ext.event.gesture.SingleTouch.prototype.reset.call(this)}},0,0,0,0,0,0,[Ext.event.gesture,'Swipe'],function(b){var a=Ext.manifest.gestures;b.instance=new b(a&&a.swipe)});Ext.cmd.derive('Ext.event.gesture.EdgeSwipe',Ext.event.gesture.Swipe,{priority:500,handledEvents:['edgeswipe','edgeswipestart','edgeswipeend','edgeswipecancel'],config:{minDistance:60},onTouchStart:function(d){var a=this,c=Ext.event.gesture.Swipe.prototype.onTouchStart.call(this,d),b;if(c!==!1){b=d.changedTouches[0];a.direction=null;a.isHorizontal=!0;a.isVertical=!0;a.startX=b.pageX;a.startY=b.pageY}return c},onTouchMove:function(d){var a=this,f=d.changedTouches[0],m=f.pageX,n=f.pageY,g=m-a.startX,h=n-a.startY,j=Math.abs(n-a.startY),i=Math.abs(m-a.startX),e=a.getMinDistance(),k=a.getMaxOffset(),l=d.time-a.startTime,p=Ext.Viewport&&Ext.Element.getViewportWidth(),o=Ext.Viewport&&Ext.Element.getViewportHeight(),b,c;if(a.isVertical&&i>k){a.isVertical=!1}if(a.isHorizontal&&j>k){a.isHorizontal=!1}if(a.isVertical&&a.isHorizontal){if(j>i){a.isHorizontal=!1}else {a.isVertical=!1}}if(a.isHorizontal){b=g<0?'left':'right';c=g}else if(a.isVertical){b=h<0?'up':'down';c=h}b=a.direction||(a.direction=b);if(b==='up'){c=h*-1}else if(b==='left'){c=g*-1}a.distance=c;if(!c){return a.cancel(d)}if(!a.isStarted){if(b==='right'&&a.startX>e||b==='down'&&a.startY>e||b==='left'&&p-a.startX>e||b==='up'&&o-a.startY>e){return a.cancel(d)}a.isStarted=!0;a.startTime=d.time;a.fire('edgeswipestart',d,{touch:f,direction:b,distance:c,duration:l})}else {a.fire('edgeswipe',d,{touch:f,direction:b,distance:c,duration:l})}},onTouchEnd:function(b){var a=this,c;if(a.onTouchMove(b)!==!1){c=b.time-a.startTime;a.fire('edgeswipeend',b,{touch:b.changedTouches[0],direction:a.direction,distance:a.distance,duration:c})}return this.reset()},onCancel:function(a){this.fire('edgeswipecancel',a,{touch:a.changedTouches[0]},!0)},reset:function(){var a=this;a.direction=a.isHorizontal=a.isVertical=a.startX=a.startY=a.startTime=a.distance=null;return Ext.event.gesture.Swipe.prototype.reset.call(this)}},0,0,0,0,0,0,[Ext.event.gesture,'EdgeSwipe'],function(a){var b=Ext.manifest.gestures;a.instance=new a(b&&b.edgeSwipe)});Ext.cmd.derive('Ext.event.gesture.LongPress',Ext.event.gesture.SingleTouch,{priority:400,config:{moveDistance:8,minDuration:1000},handledEvents:['longpress','taphold'],onTouchStart:function(a){var c=this,b=Ext.event.gesture.SingleTouch.prototype.onTouchStart.call(this,a);if(b!==!1){c.startPoint=a.changedTouches[0].point;c.setLongPressTimer(a)}return b},setLongPressTimer:function(b){var a=this;Ext.undefer(a.timer);a.timer=Ext.defer(a.fireLongPress,a.getMinDuration(),a,[b])},onTouchMove:function(b){var a=this,d=b.changedTouches[0].point,e=Ext.Element.getViewportScale(),c=Math.round(Math.abs(d.getDistanceTo(a.startPoint)*e));if(c>=a.getMoveDistance()){return a.cancel(b)}},reset:function(){var a=this;a.timer=a.startPoint=Ext.undefer(a.timer);return Ext.event.gesture.SingleTouch.prototype.reset.call(this)},fireLongPress:function(a){var c=this,b={touch:a.changedTouches[0],duration:c.getMinDuration(),startDrag:c.startDrag};this.fire('taphold',a,b);this.fire('longpress',a,b);this.reset()},startDrag:function(){var b=Ext.event.gesture.Drag.instance,a=this.parentEvent;b.doDragStart(a,!0);Ext.event.publisher.Gesture.instance.claimRecognizer(b,a)}},0,0,0,0,0,0,[Ext.event.gesture,'LongPress'],function(a){var b=Ext.manifest.gestures;a.instance=new a(b&&b.longPress)});Ext.cmd.derive('Ext.event.gesture.MultiTouch',Ext.event.gesture.Recognizer,{requiredTouchesCount:2,isTracking:!1,isMultiTouch:!0,onTouchStart:function(d){var a=this,b=a.requiredTouchesCount,e=d.touches,c=e.length;if(c===b){a.isTracking=!0}else if(c>b){return a.cancel(d)}},reset:function(){this.isTracking=!1;return Ext.event.gesture.Recognizer.prototype.reset.call(this)}},0,0,0,0,0,0,[Ext.event.gesture,'MultiTouch'],0);Ext.cmd.derive('Ext.event.gesture.Pinch',Ext.event.gesture.MultiTouch,{priority:700,handledEvents:['pinchstart','pinch','pinchend','pinchcancel'],startDistance:0,lastTouches:null,onTouchMove:function(d){var a=this,c,f,e,b;if(a.isTracking){c=d.touches;f=c[0].point;e=c[1].point;b=f.getDistanceTo(e);if(b===0){return}if(!a.isStarted){a.isStarted=!0;a.startDistance=b;a.fire('pinchstart',d,{touches:c,distance:b,scale:1})}else {a.fire('pinch',d,{touches:c,distance:b,scale:b/a.startDistance})}}},onTouchEnd:function(a){if(this.isStarted){this.fire('pinchend',a)}return Ext.event.gesture.MultiTouch.prototype.onTouchEnd.call(this,a)},onCancel:function(a){this.fire('pinchcancel',a,null,!0)},reset:function(){this.lastTouches=null;this.startDistance=0;return Ext.event.gesture.MultiTouch.prototype.reset.call(this)}},0,0,0,0,0,0,[Ext.event.gesture,'Pinch'],function(b){var a=Ext.manifest.gestures;b.instance=new b(a&&a.pinch)});Ext.cmd.derive('Ext.event.gesture.Rotate',Ext.event.gesture.MultiTouch,{priority:800,handledEvents:['rotatestart','rotate','rotateend','rotatecancel'],startAngle:0,lastTouches:null,lastAngle:null,onTouchMove:function(h){var b=this,c,d,j,i,a,f,e,g;if(b.isTracking){c=h.touches;d=b.lastAngle;j=c[0].point;i=c[1].point;a=j.getAngleTo(i);if(d!==null){g=Math.abs(d-a);f=a+360;e=a-360;if(Math.abs(f-d)<g){a=f}else if(Math.abs(e-d)<g){a=e}}b.lastAngle=a;if(!b.isStarted){b.isStarted=!0;b.startAngle=a;b.fire('rotatestart',h,{touches:c,angle:a,rotation:0})}else {b.fire('rotate',h,{touches:c,angle:a,rotation:a-b.startAngle})}b.lastTouches=Ext.Array.clone(c)}},onTouchEnd:function(a){if(this.isStarted){this.fire('rotateend',a)}return Ext.event.gesture.MultiTouch.prototype.onTouchEnd.call(this,a)},onCancel:function(a){this.fire('rotatecancel',a,null,!0)},reset:function(){var a=this;a.lastTouches=a.lastAngle=a.startAngle=null;return Ext.event.gesture.MultiTouch.prototype.reset.call(this)}},0,0,0,0,0,0,[Ext.event.gesture,'Rotate'],function(b){var a=Ext.manifest.gestures;b.instance=new b(a&&a.rotate)});Ext.cmd.derive('Ext.event.gesture.Tap',Ext.event.gesture.SingleTouch,{priority:200,handledEvents:['tap','tapcancel'],config:{moveDistance:8},onTouchStart:function(c){var b=this,a=Ext.event.gesture.SingleTouch.prototype.onTouchStart.call(this,c);if(a!==!1){b.isStarted=!0;b.startPoint=c.changedTouches[0].point}return a},onTouchMove:function(b){var a=this,d=b.changedTouches[0].point,e=Ext.Element.getViewportScale(),c=Math.round(Math.abs(d.getDistanceTo(a.startPoint)*e));if(c>=a.getMoveDistance()){return a.cancel(b)}},onTouchEnd:function(a){this.fire('tap',a,{touch:a.changedTouches[0]});return Ext.event.gesture.SingleTouch.prototype.onTouchEnd.call(this,a)},onCancel:function(a){this.fire('tapcancel',a,{touch:a.changedTouches[0]},!0)},reset:function(){this.startPoint=null;return Ext.event.gesture.SingleTouch.prototype.reset.call(this)}},0,0,0,0,0,0,[Ext.event.gesture,'Tap'],function(b){var a=Ext.manifest.gestures;b.instance=new b(a&&a.tap)});Ext.cmd.derive('Ext.event.publisher.Focus',Ext.event.publisher.Dom,{type:'focus',handledEvents:['focusenter','focusleave','focusmove'],handledDomEvents:['focusin','focusout'],publishDelegatedDomEvent:function(a){var c=this,b=a.relatedTarget;if(a.type==='focusout'){if(b==null){c.processFocusIn(a,a.target,document.body)}}else {if(b==null||!b.tagName){b=document.body}c.processFocusIn(a,b,a.target)}},processFocusIn:function(j,b,a){var e=this,k=e.focusFly,d=[],i,c,g,f,h;if(b&&k.attach(b).isFocusSuspended()||a&&k.attach(a).isFocusSuspended()){return}if(a.compareDocumentPosition){g=!!(a.compareDocumentPosition(b)&4)}for(c=b,i=Ext.dom.Element.getCommonAncestor(a,b,!0);c&&c!==i;c=c.parentNode){d.push(c)}if(d.length){f=e.createSyntheticEvent('focusleave',j,b,a,b,a,g);e.publish(f,d);if(f.stopped){return}}d.length=0;for(c=a;c&&c!==i;c=c.parentNode){d.push(c)}h=e.createSyntheticEvent('focusenter',j,a,b,b,a,g);if(d.length){e.publish(h,d);if(h.stopped){return}}d=e.getPropagatingTargets(i);if(d.length){f=e.createSyntheticEvent('focusmove',j,a,b,b,a,g);e.publish(f,d);if(f.stopped){return}}if(Ext.GlobalEvents.hasListeners.focus){Ext.GlobalEvents.fireEvent('focus',{event:h,toElement:a,fromElement:b,backwards:g})}},createSyntheticEvent:function(f,c,h,b,d,g,e){var a=new Ext.event.Event(c);a.type=f;a.relatedTarget=b;a.target=h;a.fromElement=d;a.toElement=g;a.backwards=e;return a}},0,0,0,0,0,0,[Ext.event.publisher,'Focus'],function(a){var b;a.prototype.focusFly=new Ext.dom.Fly();a.instance=new a();if(!Ext.supports.FocusinFocusoutEvents){this.override({handledDomEvents:['focus','blur'],publishDelegatedDomEvent:function(c){var e=this,d;e.callSuper([c]);d=c.target!==window&&c.target!==document;if(c.type==='blur'){if(!d){if(c.explicitOriginalTarget===a.previousActiveElement){if(c.target===window){Ext.undefer(b);b=0;e.processFocusIn(c,a.previousActiveElement,document.body);a.previousActiveElement=null}}}else {b=Ext.defer(function(){b=0;e.processFocusIn(c,c.target,document.body);a.previousActiveElement=null},1);if(d&&Ext.cache[c.target.id]){Ext.cache[c.target.id].focusinTimeout=b}}a.previousActiveElement=d?c.target:null}else {Ext.undefer(b);b=0;e.processFocusIn(c,a.previousActiveElement||document.body,d?c.target:document.body)}}});Ext.define(null,{override:'Ext.dom.Element',destroy:function(){if(this.focusinTimeout){Ext.undefer(this.focusinTimeout);this.focusinTimeout=null}this.callParent()}})}});Ext.cmd.derive('Ext.fx.runner.Css',Ext.Evented,{prefixedProperties:{'transform':!0,'transform-origin':!0,'perspective':!0,'transform-style':!0,'transition':!0,'transition-property':!0,'transition-duration':!0,'transition-timing-function':!0,'transition-delay':!0,'animation':!0,'animation-name':!0,'animation-duration':!0,'animation-iteration-count':!0,'animation-direction':!0,'animation-timing-function':!0,'animation-delay':!0},lengthProperties:{'top':!0,'right':!0,'bottom':!0,'left':!0,'width':!0,'height':!0,'max-height':!0,'max-width':!0,'min-height':!0,'min-width':!0,'margin-bottom':!0,'margin-left':!0,'margin-right':!0,'margin-top':!0,'padding-bottom':!0,'padding-left':!0,'padding-right':!0,'padding-top':!0,'border-bottom-width':!0,'border-left-width':!0,'border-right-width':!0,'border-spacing':!0,'border-top-width':!0,'border-width':!0,'outline-width':!0,'letter-spacing':!0,'line-height':!0,'text-indent':!0,'word-spacing':!0,'font-size':!0,'translate':!0,'translateX':!0,'translateY':!0,'translateZ':!0,'translate3d':!0,'x':!0,'y':!0},durationProperties:{'transition-duration':!0,'transition-delay':!0,'animation-duration':!0,'animation-delay':!0},angleProperties:{rotate:!0,rotateX:!0,rotateY:!0,rotateZ:!0,skew:!0,skewX:!0,skewY:!0},DEFAULT_UNIT_LENGTH:'px',DEFAULT_UNIT_ANGLE:'deg',DEFAULT_UNIT_DURATION:'ms',customProperties:{x:!0,y:!0},formattedNameCache:{'x':'left','y':'top'},transformMethods3d:['translateX','translateY','translateZ','rotate','rotateX','rotateY','rotateZ','skewX','skewY','scaleX','scaleY','scaleZ'],transformMethodsNo3d:['translateX','translateY','rotate','skewX','skewY','scaleX','scaleY'],constructor:function(){var a=this;a.transformMethods=Ext.feature.has.Css3dTransforms?a.transformMethods3d:a.transformMethodsNo3d;a.vendorPrefix=Ext.browser.getStyleDashPrefix();a.ruleStylesCache={};Ext.Evented.prototype.constructor.call(this)},getStyleSheet:function(){var c=this.styleSheet,a,b;if(!c){a=document.createElement('style');a.type='text/css';(document.head||document.getElementsByTagName('head')[0]).appendChild(a);b=document.styleSheets;this.styleSheet=c=b[b.length-1]}return c},applyRules:function(j){var i=this.getStyleSheet(),h=this.ruleStylesCache,k=i.cssRules,d,g,b,c,f,a,e;for(d in j){g=j[d];b=h[d];if(b===undefined){f=k.length;i.insertRule(d+'{}',f);b=h[d]=k.item(f).style}c=b.$cache;if(!c){c=b.$cache={}}for(a in g){e=this.formatValue(g[a],a);a=this.formatName(a);if(c[a]!==e){c[a]=e;if(e===null){b.removeProperty(a)}else {b.setProperty(a,e)}}}}return this},applyStyles:function(f){var c,e,d,b,a,g;for(c in f){if(f.hasOwnProperty(c)){this.activeElement=e=document.getElementById(c);if(!e){continue}d=e.style;b=f[c];for(a in b){if(b.hasOwnProperty(a)){g=this.formatValue(b[a],a);a=this.formatName(a);if(g===null){d.removeProperty(a)}else {d.setProperty(a,g)}}}}}this.activeElement=null;return this},formatName:function(b){var c=this.formattedNameCache,a=c[b];if(!a){if((Ext.os.is.Tizen||!Ext.feature.has.CssTransformNoPrefix)&&this.prefixedProperties[b]){a=this.vendorPrefix+b}else {a=b}c[b]=a}return a},formatValue:function(a,b){var k=typeof a,i=this.DEFAULT_UNIT_LENGTH,j=this.customProperties[b],g,d,c,f,h,e;if(a===null){return ''}if(k==='string'){if(this.lengthProperties[b]){if(!Ext.dom.Element.hasUnit(a)){a=a+i;if(j){a=this.getCustomValue(a,b)}}}return a}else if(k==='number'){if(a===0){return '0'}if(this.lengthProperties[b]){a=a+i;if(j){a=this.getCustomValue(a,b)}return a}if(this.angleProperties[b]){return a+this.DEFAULT_UNIT_ANGLE}if(this.durationProperties[b]){return a+this.DEFAULT_UNIT_DURATION}}else if(b==='transform'){g=this.transformMethods;h=[];for(c=0,f=g.length;c<f;c++){d=g[c];h.push(d+'('+this.formatValue(a[d],d)+')')}return h.join(' ')}else if(Ext.isArray(a)){e=[];for(c=0,f=a.length;c<f;c++){e.push(this.formatValue(a[c],b))}return e.length>0?e.join(', '):'none'}return a},getCustomValue:function(a,b){var c=Ext.fly(this.activeElement);if(b==='x'){a=c.translateXY(parseInt(a,10)).x}else if(b==='y'){a=c.translateXY(null,parseInt(a,10)).y}return a+this.DEFAULT_UNIT_LENGTH}},1,0,0,0,0,0,[Ext.fx.runner,'Css'],0);Ext.cmd.derive('Ext.fx.runner.CssTransition',Ext.fx.runner.Css,{alternateClassName:'Ext.Animator',singleton:!0,listenersAttached:!1,constructor:function(){this.runningAnimationsData={};this.transitionQueue={toData:{},transitionData:{}};return this.callParent(arguments)},attachListeners:function(){var a=top===window?Ext.getWin():Ext.getBody();this.listenersAttached=!0;a.on('transitionend','onTransitionEnd',this)},onTransitionEnd:function(c){var a=c.target,b=a.id;if(b&&this.runningAnimationsData.hasOwnProperty(b)){this.refreshRunningAnimationsData(Ext.get(a),[c.browserEvent.propertyName])}},getElementId:function(a){return a.getId?a.getId():a.id},onAnimationEnd:function(d,a,b,c,n){var l=this.getElementId(d),j=this.runningAnimationsData[l],k={},h={},g,f,e,m,i;b.un('stop','onAnimationStop',this);if(j){g=j.nameMap}k[l]=h;if(a.onBeforeEnd){a.onBeforeEnd.call(a.scope||this,d,c)}b.fireEvent('animationbeforeend',b,d,c);this.fireEvent('animationbeforeend',this,b,d,c);if(n||!c&&!a.preserveEndState){f=a.toPropertyNames;for(e=0,m=f.length;e<m;e++){i=f[e];if(g&&!g.hasOwnProperty(i)){h[i]=null}}}if(a.after){Ext.merge(h,a.after)}this.applyStyles(k);if(a.onEnd){a.onEnd.call(a.scope||this,d,c)}b.fireEvent('animationend',b,d,c);this.fireEvent('animationend',this,b,d,c);Ext.AnimationQueue.stop(Ext.emptyFn,b)},onAllAnimationsEnd:function(d){var a=this.getElementId(d),b=this.transitionQueue,c={};delete this.runningAnimationsData[a];c[a]={'transition-property':null,'transition-duration':null,'transition-timing-function':null,'transition-delay':null};delete b.toData[a];delete b.transitionData[a];this.applyStyles(c);this.fireEvent('animationallend',this,d)},hasRunningAnimations:function(c){var b=this.getElementId(c),a=this.runningAnimationsData;return a.hasOwnProperty(b)&&a[b].sessions.length>0},refreshRunningAnimationsData:function(i,o,f,g){var s=this.getElementId(i),r=this.runningAnimationsData,e=r[s],n=!1,l,k,c,d,a,m,q,b,h,j,p;if(!e){return}l=e.nameMap;k=e.nameList;c=e.sessions;f=Boolean(f);g=Boolean(g);if(!c){return this}h=c.length;if(h===0){return this}if(g){e.nameMap={};k.length=0;for(b=0;b<h;b++){a=c[b];this.onAnimationEnd(i,a.data,a.animation,f,g)}c.length=0}else {for(b=0;b<h;b++){a=c[b];m=a.map;q=a.list;for(j=0,p=o.length;j<p;j++){d=o[j];if(m[d]){delete m[d];Ext.Array.remove(q,d);a.length--;if(--l[d]===0){delete l[d];Ext.Array.remove(k,d)}}}if(a.length===0){c.splice(b,1);b--;h--;n=!0;this.onAnimationEnd(i,a.data,a.animation,f)}}}if(!g&&!f&&c.length===0&&n){this.onAllAnimationsEnd(i)}},getRunningData:function(b){var a=this.runningAnimationsData;if(!a.hasOwnProperty(b)){a[b]={nameMap:{},nameList:[],sessions:[]}}return a[b]},getTestElement:function(){var e=this,b=e.testElement,d=e.iframe,a,c;if(b){if(b.ownerDocument.defaultView!==d.contentWindow){a=d.contentDocument;a.body.appendChild(b);e.testElementComputedStyle=a.defaultView.getComputedStyle(b)}}else {d=e.iframe=document.createElement('iframe');d.setAttribute('tabIndex',-1);c=d.style;c.setProperty('visibility','hidden','important');c.setProperty('width','0px','important');c.setProperty('height','0px','important');c.setProperty('position','absolute','important');c.setProperty('border','0px','important');c.setProperty('zIndex','-1000','important');document.body.appendChild(d);a=d.contentDocument;a.open();a.writeln('</body>');a.close();e.testElement=b=a.createElement('div');b.style.setProperty('position','absolute','important');a.body.appendChild(b);e.testElementComputedStyle=a.defaultView.getComputedStyle(b)}return b},getCssStyleValue:function(b,a){var c=this.getTestElement(),e=this.testElementComputedStyle,d=c.style;d.setProperty(b,a);if(Ext.browser.is.Firefox){c.offsetHeight}a=e.getPropertyValue(b);d.removeProperty(b);return a},run:function(s){var a=this,H=[],J=a.lengthProperties,F={},L=a.transitionQueue.toData,d={},K=a.transitionQueue.transitionData,h,i,l,j,G,f,e,t,u,r,q,v,w,I,c,n,z,D,g,b,k,E,m,x,p,o,y,C,B,A;if(!a.listenersAttached){a.attachListeners()}s=Ext.Array.from(s);for(v=0,I=s.length;v<I;v++){c=s[v];c=Ext.factory(c,Ext.fx.Animation);H.push(c);a.activeElement=h=c.getElement();Ext.AnimationQueue.start(Ext.emptyFn,c);D=window.getComputedStyle(h.dom);i=a.getElementId(h);d[i]=d=Ext.merge({},c.getData());A=c.getOnBeforeStart();if(A){A.call(c.scope||a,h)}c.fireEvent('animationstart',c,d);a.fireEvent('animationstart',a,c,d);G=d.before;l=d.from;j=d.to;d.fromPropertyNames=f=[];d.toPropertyNames=e=[];for(b in j){if(j.hasOwnProperty(b)){j[b]=k=a.formatValue(j[b],b);g=a.formatName(b);x=J.hasOwnProperty(b);if(!x){k=a.getCssStyleValue(g,k)}if(l.hasOwnProperty(b)){l[b]=m=a.formatValue(l[b],b);if(!x){m=a.getCssStyleValue(g,m)}if(k!==m){f.push(g);e.push(g)}}else {E=D.getPropertyValue(g);if(k!==E){e.push(g)}}}}n=e.length;if(n===0){a.onAnimationEnd(h,d,c);continue}r=a.getRunningData(i);y=r.sessions;if(y.length>0){a.refreshRunningAnimationsData(h,Ext.Array.merge(f,e),!0,d.replacePrevious)}p=r.nameMap;o=r.nameList;z={};for(w=0;w<n;w++){b=e[w];z[b]=!0;if(!p.hasOwnProperty(b)){p[b]=1;o.push(b)}else {p[b]++}}C={element:h,map:z,list:e.slice(),length:n,data:d,animation:c};y.push(C);c.on('stop','onAnimationStop',a);q=Ext.apply({},G);Ext.apply(q,l);if(o.length>0){f=Ext.Array.difference(o,f);e=Ext.Array.merge(f,e);q['transition-property']=f}F[i]=q;L[i]=Ext.apply({},j);K[i]={'transition-property':e,'transition-duration':d.duration,'transition-timing-function':d.easing,'transition-delay':d.delay};c.startTime=Date.now()}a.activeElement=null;u=a.$className;a.applyStyles(F);t=function(b){if(b.data===u&&b.source===window){window.removeEventListener('message',t,!1);a.applyStyles(a.transitionQueue.toData)}};if(!a.messageTimerId){B=function(){var b;a.messageTimerId=null;if(Ext.isIE){a.applyStyles(a.transitionQueue.transitionData);if(!a.messageFollowupId){b=function(){a.messageFollowupId=null;window.addEventListener('message',t,!1);window.postMessage(u,'*')};a.messageFollowupId=Ext.raf(b)}}else {Ext.merge(a.transitionQueue.toData,a.transitionQueue.transitionData);window.addEventListener('message',t,!1);window.postMessage(u,'*')}};a.messageTimerId=Ext.raf(B)}return H},onAnimationStop:function(j){var a=this,d=a.runningAnimationsData,h=0,g=0,f,i,e,c,k,b;for(f in d){if(d.hasOwnProperty(f)){i=d[f];e=i.sessions;h++;for(c=0,k=e.length;c<k;c++){b=e[c];if(b.animation===j){a.refreshRunningAnimationsData(b.element,b.list.slice(),!1);if(j.destroying){g++}}}}}if(h===g){if(a.messageFollowupId){Ext.unraf(a.messageFollowupId);a.messageFollowupId=null}if(a.messageTimerId){Ext.unraf(a.messageTimerId);a.messageTimerId=null}Ext.apply(a.transitionQueue,{toData:{},transitionData:{}})}}},1,0,0,0,0,0,[Ext.fx.runner,'CssTransition',Ext,'Animator'],0);Ext.cmd.derive('Ext.fx.easing.Bounce',Ext.fx.easing.Abstract,{config:{springTension:0.3,acceleration:30,startVelocity:0},getValue:function(){var b=Ext.Date.now()-this.getStartTime(),a=b/this.getAcceleration(),c=a*Math.pow(Math.E,-this.getSpringTension()*a);return this.getStartValue()+this.getStartVelocity()*c}},0,0,0,0,0,0,[Ext.fx.easing,'Bounce'],0);Ext.cmd.derive('Ext.fx.easing.Momentum',Ext.fx.easing.Abstract,{config:{acceleration:30,friction:0,startVelocity:0},alpha:0,updateFriction:function(b){var a=Math.log(1-b/10);this.theta=a;this.alpha=a/this.getAcceleration()},updateStartVelocity:function(a){this.velocity=a*this.getAcceleration()},updateAcceleration:function(a){this.velocity=this.getStartVelocity()*a;this.alpha=this.theta/a},getValue:function(){return this.getStartValue()-this.velocity*(1-this.getFrictionFactor())/this.theta},getFrictionFactor:function(){var a=Ext.Date.now()-this.getStartTime();return Math.exp(a*this.alpha)},getVelocity:function(){return this.getFrictionFactor()*this.velocity}},0,0,0,0,0,0,[Ext.fx.easing,'Momentum'],0);Ext.cmd.derive('Ext.fx.easing.BoundMomentum',Ext.fx.easing.Abstract,{config:{momentum:null,bounce:null,minMomentumValue:0,maxMomentumValue:0,minVelocity:0.01,startVelocity:0},applyMomentum:function(b,a){return Ext.factory(b,Ext.fx.easing.Momentum,a)},applyBounce:function(b,a){return Ext.factory(b,Ext.fx.easing.Bounce,a)},updateStartTime:function(a){this.getMomentum().setStartTime(a);Ext.fx.easing.Abstract.prototype.updateStartTime.apply(this,arguments)},updateStartVelocity:function(a){this.getMomentum().setStartVelocity(a)},updateStartValue:function(a){this.getMomentum().setStartValue(a)},reset:function(){this.lastValue=null;this.isBouncingBack=!1;this.isOutOfBound=!1;return Ext.fx.easing.Abstract.prototype.reset.apply(this,arguments)},getValue:function(){var d=this.getMomentum(),j=this.getBounce(),f=d.getStartVelocity(),b=f>0?1:-1,i=this.getMinMomentumValue(),h=this.getMaxMomentumValue(),g=b===1?h:i,c=this.lastValue,a,e;if(f===0){return this.getStartValue()}if(!this.isOutOfBound){a=d.getValue();e=d.getVelocity();if(Math.abs(e)<this.getMinVelocity()){this.isEnded=!0}if(a>=i&&a<=h){return a}this.isOutOfBound=!0;j.setStartTime(Ext.Date.now()).setStartVelocity(e).setStartValue(g)}a=j.getValue();if(!this.isEnded){if(!this.isBouncingBack){if(c!==null){if(b===1&&a<c||b===-1&&a>c){this.isBouncingBack=!0}}}else {if(Math.round(a)===g){this.isEnded=!0}}}this.lastValue=a;return a}},0,0,0,0,0,0,[Ext.fx.easing,'BoundMomentum'],0);Ext.cmd.derive('Ext.fx.easing.EaseOut',Ext.fx.easing.Linear,{config:{exponent:4,duration:1500},getValue:function(){var a=Ext.Date.now()-this.getStartTime(),b=this.getDuration(),d=this.getStartValue(),f=this.getEndValue(),e=this.distance,i=a/b,h=1-i,g=1-Math.pow(h,this.getExponent()),c=d+g*e;if(a>=b){this.isEnded=!0;return f}return c}},0,0,0,0,['easing.ease-out'],0,[Ext.fx.easing,'EaseOut'],0);Ext.cmd.derive('Ext.grid.AdvancedGroupStore',Ext.util.Observable,{cachedConfig:{storeEventListeners:{beforeload:'onBeforeLoad',load:'onLoad',datachanged:'onDataChanged',groupchange:'onGroupChange',groupschange:'onGroupsChange',idchanged:'onIdChanged',update:'onUpdate',remotesummarieschanged:'fireRefresh'}},config:{autoDestroy:!0,autoLoad:!1,source:null,summaryPosition:null,groupSummaryPosition:null,startCollapsed:null,fireReplaceEvent:!0},isMultigroupStore:!0,isGroupStore:!0,isStore:!0,isVirtualStore:!1,$applyConfigs:!1,bufferableMethods:{fireRefresh:5},constructor:function(b){var a=this;a.data=new Ext.util.Collection({rootProperty:'data',extraKeys:{byInternalId:{property:'internalId',rootProperty:''}}});a.renderData={};return Ext.util.Observable.prototype.constructor.call(this,b)},destroy:function(){this.setSource(null);Ext.util.Observable.prototype.destroy.call(this)},updateGroupSummaryPosition:function(){if(!this.isConfiguring){this.refreshData()}},updateSummaryPosition:function(){if(!this.isConfiguring){this.refreshData()}},updateSource:function(b,c){var a=this;if(c){Ext.destroy(a.storeListeners)}if(b){a.storeListeners=b.on(Ext.apply({scope:a,destroyable:!0},a.getStoreEventListeners()));a.refreshData()}},processStore:function(k){var a=this,d=a.data,h=a.getSummaryPosition(),g=a.getSource(),j=a.getStartCollapsed(),i,e,c,f,b;if(d){d.clear();a.renderData={}}else {return}if(g){c=g.getGroups();f=c&&c.length;if(f>0){if(k){for(b=0;b<f;b++){c.items[b].doExpandCollapse(!j,!0)}}else if(j){for(b=0;b<f;b++){c.items[b].collapse(!0)}}a.setStartCollapsed(!1);i=a.processGroups(c.items)}else {i=g.getRange()}d.add(i);if(h==='top'||h==='bottom'){e=g.getSummaryRecord();a.renderData[e.getId()]={isSummary:!0};if(h==='top'){d.insert(0,e)}else {d.add(e)}}}},processGroups:function(i){var d=this,b=[],j=i?i.length:0,h=!1,l=d.getGroupSummaryPosition(),f,g,a,c,k,e;if(j<=0){return b}for(f=0;f<j;f++){a=i[f];h=!1;c=a.getGroupRecord();b.push(c);d.renderData[c.getId()]={group:a,depth:a.getLevel(),isGroup:!0};if(!a.isCollapsed){e=a.getGroups();if(e&&e.length>0){Ext.Array.insert(b,b.length,d.processGroups(e.items))}else {Ext.Array.insert(b,b.length,a.items);for(g=0;g<a.items.length;g++){d.renderData[a.items[g].getId()]={group:a,depth:a.getLevel()}}}}if(l==='bottom'){h=!a.isCollapsed;k=a.getLevel()}if(h){c=a.getSummaryRecord();b.push(c);d.renderData[c.getId()]={group:a,depth:k,isGroupSummary:!0}}}return b},isLoading:function(){return !1},getData:function(){return this.data},getCount:function(){var a=this.data;return a?a.getCount():0},getTotalCount:function(){var a=this.data;return a?a.getCount():0},first:function(){var a=this.data,b=null;if(a){b=a.first()}return b},last:function(){var a=this.data,b=null;if(a){b=a.last()}return b},rangeCached:function(b,a){return a<this.getCount()},getRange:function(d,b,a){var e=this.data,c=e?e.getRange(d,Ext.isNumber(b)?b+1:b):[];if(a&&a.callback){a.callback.call(a.scope||this,c,d,b,a)}return c},getAt:function(b){var a=this.data;return a?a.getAt(b):null},getById:function(a){return this.getSource().getById(a)},getByInternalId:function(c){var a=this.data,b=null;if(a){b=a.byInternalId.get(c)}return b},getRenderData:function(a){return a&&a.isModel?this.renderData[a.getId()]:null},toggleCollapsedByRecord:function(b){var a=this.renderData[b.getId()];if(!a){return}return this.doExpandCollapse(a.group,a.group.isCollapsed)},doExpandCollapseByPath:function(c,b){var a=this.getSource().getGroups().getByPath(c);if(!a){return}return this.doExpandCollapse(a,b)},doExpandCollapse:function(c,h){var a=this,g=a.getFireReplaceEvent(),b,d,e,f;e=a.processGroups([c]);c.doExpandCollapse(h);d=a.processGroups([c]);if(d.length&&(b=a.data.indexOf(c.getGroupRecord()))!==-1){if(c.isCollapsed){a.isExpandingOrCollapsing=2;f=e.length;e=a.data.getRange(b,b+f);a.data.removeAt(b,f);a.data.insert(b,d);if(g){a.fireEvent('replace',a,b,e,d)}else {a.fireRefresh()}a.fireEvent('groupcollapse',a,c)}else {a.isExpandingOrCollapsing=1;a.data.removeAt(b);a.data.insert(b,d);if(g){a.fireEvent('replace',a,b,e,d)}else {a.fireRefresh()}a.fireEvent('groupexpand',a,c)}a.isExpandingOrCollapsing=0}return d[0]},isInCollapsedGroup:function(f){var c=!0,a=this.getSource().getGroups(),b,d,e;if(a){a=a.getGroupsByItem(f)}if(a){d=a.length;for(b=0;b<d;b++){e=a[b];c=c&&!e.isCollapsed}}return !c},expandToRecord:function(f){var a=this.getSource().getGroups(),b,c,d,e;if(a){a=a.getGroupsByItem(f)}if(a){d=a.length;for(b=0;b<d;b++){e=a[b];if(e.isCollapsed){for(c=b+1;c<d;c++){a[c].isCollapsed=!1}this.doExpandCollapse(e,!0);break}}}},contains:function(a){return this.indexOf(a)>-1},indexOf:function(b){var a=this.data;return a?a.indexOf(b):null},indexOfId:function(b){var a=this.data;return a?a.indexOfKey(b):null},indexOfTotal:function(a){return this.getSource().indexOf(a)},getGrouper:function(){return null},getGroups:function(){return null},hasPendingLoad:function(){var a=this.getSource();return a?a.hasPendingLoad():!1},onUpdate:function(d,c,b,a){this.fireEvent('update',this,c,b,a)},onDataChanged:function(){this.refreshData()},onIdChanged:function(e,c,b,d){var a=this.data;if(a){a.updateKey(c,b)}},onGroupsChange:function(b,a){if(!a||!a.length){this.refreshData()}this.fireEvent('groupschange',b,a)},onGroupChange:function(b,a){this.onGroupsChange(b,a?[a]:null)},refreshData:function(a){this.processStore(a);this.fireRefresh()},onBeforeLoad:function(){this.fireEvent('beforeload',this)},onLoad:function(a){this.currentPage=a.currentPage;this.pageSize=a.pageSize;this.fireEvent('load',this)},privates:{doFireRefresh:function(){this.fireEvent('refresh',this)}}},1,0,0,0,0,[[Ext.mixin.Bufferable.prototype.mixinId||Ext.mixin.Bufferable.$className,Ext.mixin.Bufferable]],[Ext.grid,'AdvancedGroupStore'],function(b){var a=b.prototype;Ext.each(['add','addFilter','addSorted','aggregate','average','beginUpdate','clearFilter','clearGrouping','collect','commitChanges','contains','count','createActiveRange','each','enableBubble','endUpdate','filter','filterBy','find','findBy','findExact','findRecord','flushLoad','getAsynchronousLoad','getAutoLoad','getAutoSync','getBatchUpdateMode','getClearOnPageLoad','getClearRemovedOnLoad','getFields','getFilters','getGroupDir','getGroupField','getGrouper','getGroupers','getGroups','getModel','getModifiedRecords','getNewRecords','getPageSize','getProxy','getReloadOnClearSorters','getRemoteFilter','getRemoteSort','getRemoteSummary','getRemovedRecords','getSession','getSortOnLoad','getSorters','getStatefulFilters','getStoreId','getSummaryRecord','getTrackRemoved','getUpdatedRecords','group','insert','isFiltered','isGrouped','isLoaded','isLoading','isSorted','load','loadData','loadPage','loadRawData','loadRecords','max','min','nextPage','previousPage','query','queryBy','rejectChanges','reload','remove','removeAll','removeAt','removeFilters','resumeAutoSync','setAsynchronousLoad','setAutoDestroy','setAutoLoad','setAutoSync','setBatchUpdateMode','setClearOnPageLoad','setClearRemovedOnLoad','setFields','setFilters','setFieldsSummaries','setFieldSummary','setGroupDir','setGroupField','setGrouper','setGroupers','setModel','setPageSize','setProxy','setReloadOnClearSorters','setRemoteFilters','setRemoteSort','setRemoteSummary','setSession','setSortOnLoad','setSorters','setStatefulFilters','setStoreId','setTrackRemoved','sort','sum','suspendAutoSync','sync'],function(c){if(!a[c]){a[c]=function(){var a=this.getSource();return a&&a[c].apply(a,arguments)}}})});Ext.cmd.derive('Ext.grid.plugin.BaseGroupingPanel',Ext.plugin.Abstract,{config:{panel:{xtype:'groupingpanel',columnConfig:{xtype:'groupingpanelcolumn'}},grid:null,bar:null,gridListeners:null},init:function(a){this.setGrid(a)},destroy:function(){this.setConfig({grid:null,bar:null,panel:null});Ext.plugin.Abstract.prototype.destroy.call(this)},enable:function(){this.disabled=!1;this.showGroupingPanel()},disable:function(){this.disabled=!0;this.hideGroupingPanel()},showGroupingPanel:function(){var a;this.setup();a=this.getBar();a.show()},hideGroupingPanel:function(){var a;this.setup();a=this.getBar();a.hide()},toggleGroupingPanel:function(){var a;this.setup();a=this.getBar();a.setHidden(!a.getHidden())},updateGrid:function(b,c){var a=this;Ext.destroy(a.listenersGrid);if(c){c.showGroupingPanel=c.hideGroupingPanel=null}if(b){b.showGroupingPanel=Ext.bind(a.showGroupingPanel,a);b.hideGroupingPanel=Ext.bind(a.hideGroupingPanel,a);if(b.rendered){a.onAfterGridRendered()}else {a.listenersGrid=b.on(Ext.apply({scope:a,destroyable:!0},a.getGridListeners()))}}},updateBar:function(a,c){var b;Ext.destroy(c);if(a){b=a.isXType('groupingpanel')?a:a.down('groupingpanel');if(b){b.setConfig({grid:this.getGrid()})}}},onAfterGridRendered:function(){var a=this;if(a.disabled===!0){a.disable()}else {a.enable()}},addGroupingPanel:Ext.emptyFn,privates:{setup:function(){var a=this;if(a.doneSetup){return}a.doneSetup=!0;a.setBar(a.addGroupingPanel())}}},0,0,0,0,0,0,[Ext.grid.plugin,'BaseGroupingPanel'],0);Ext.cmd.derive('Ext.grid.plugin.BaseSummaries',Ext.plugin.Abstract,{config:{enableContextMenu:!0,enableSummaryMenu:!0,gridListeners:null,grid:null,contextMenu:null},textNone:'None',summaryText:'Summary',init:function(a){this.setGrid(a)},destroy:function(){var a=this;a.setContextMenu(null);a.setGrid(null);Ext.plugin.Abstract.prototype.destroy.call(this)},updateGrid:function(b){var a=this;a.gListeners=Ext.destroy(a.gListeners);if(b){a.gListeners=b.on(Ext.apply({scope:a,destroyable:!0},a.getGridListeners()))}},updateContextMenu:function(b,a){Ext.destroy(a)},getDataIndex:function(a){return a.dataIndex},canShowMenu:function(a){return this.getEnableContextMenu()&&this.getDataIndex(a.column)},showMenu:function(c){var b=this,e=b.getGrid(),f=c.cell,g=c.e,a,d;if(!b.canShowMenu(c)){return}a=b.getSummaryMenu(c.column);if(!a){return}a=b.createMenu(a);b.setContextMenu(a);d={menu:a,params:c};if(e.fireEvent('beforeshowsummarycontextmenu',b,d)!==!1){a.showBy(f,'tl-bl?');a.focus();e.fireEvent('showsummarycontextmenu',b,d)}else {b.setContextMenu(null)}g.stopEvent()},createMenu:function(a){return Ext.menu.Manager.get(a)},getSummaryMenu:function(f){var b=this,d=f.getListOfSummaries(),h=b.getDataIndex(f),g=b.getSummaryFieldType(h),i=[{text:b.textNone,summary:null,checked:!g}],e,j,c,a;c=b.fns=b.fns||{};if(!d||!d.length){return !1}j=d.length;for(e=0;e<j;e++){a=d[e];if(!c[a]){c[a]=Ext.Factory.dataSummary(a)}i.push({text:c[a].text,summary:c[a],checked:g===c[a].type})}return {defaults:{xtype:'menucheckitem',column:f,hideOnClick:!0,dataIndex:h,handler:b.onChangeSummary,group:'summaries',scope:b},items:i}},onChangeSummary:function(b){var a=this.getGrid().getStore(),c=b.column;c.summaryType=null;if(c.onSummaryChange){c.onSummaryChange(b.summary)}if(a.isGroupStore){a=a.getSource()}a.setFieldSummary(b.dataIndex,b.summary)},getSummaryFieldType:function(e){var d=this.getGrid().getStore(),c=d.getModel().getSummaryModel(),b=c.getField(e),a=b?b.getSummary():!1;return a?a.type:!1},onCollectMenuItems:function(b,a){a.items.push({text:this.summaryText,itemId:'summaryMenuItem'})},onShowHeaderMenu:function(c,b){var a=b.menu.down('#summaryMenuItem');if(!a){return}a.setVisible(!b.column.isGroupsColumn);a.setMenu(this.getSummaryMenu(b.column))}},0,0,0,0,0,0,[Ext.grid.plugin,'BaseSummaries'],0);Ext.cmd.derive('Ext.list.AbstractTreeItem',Ext.Widget,{isTreeListItem:!0,cachedConfig:{expandable:!1,expanded:!1,iconCls:'',leaf:!0,loading:!1,selected:!1,selectedParent:!1},config:{iconClsProperty:'iconCls',indent:null,owner:null,node:null,over:null,parentItem:null,text:{lazy:!0,$value:''},textProperty:'text'},updateNode:function(b){if(b){var a=this,g=a.itemMap,e,h,i,d,f,c;a.element.dom.setAttribute('data-recordId',b.internalId);if(!g){e=b.childNodes;h=a.getOwner();a.itemMap=g={};for(d=0,i=e.length;d<i;++d){c=e[d];if(c.data.visible){f=h.createItem(c,a);g[c.internalId]=f;a.insertItem(f,null)}}}a.setExpanded(b.isExpanded());a.doNodeUpdate(b)}},updateSelected:function(b){var a;if(!this.isConfiguring){a=this.getParentItem();while(a&&!a.isRootListItem){a.setSelectedParent(b);a=a.getParentItem()}}},collapse:function(){this.getNode().collapse()},expand:function(){var a=this.getOwner(),b=a.getMicro();if(b){a.skipNextRefresh=!0}this.getNode().expand();if(b){a.skipNextRefresh=null}},getToolElement:Ext.emptyFn,insertItem:Ext.emptyFn,isExpanded:function(){return this.getExpanded()},isSelectionEvent:Ext.emptyFn,isToggleEvent:Ext.emptyFn,nodeCollapse:function(e,b){var a=this,d=a.getOwner(),c=a.preventAnimation?null:d.getAnimation();a.nodeCollapseBegin(c,b);if(!c){a.nodeCollapseEnd(b)}},nodeCollapseBegin:function(d,c){var a=this,b=a.getOwner();a.setExpanded(!1);b.fireEvent('itemcollapse',b,a)},nodeCollapseEnd:function(a){if(!a&&!this.destroying){this.getOwner().updateLayout()}},nodeExpand:function(e){var a=this,d=a.getOwner(),c=a.getFloated(),b=!c&&d.getAnimation();a.nodeExpandBegin(b);if(!b){a.nodeExpandEnd()}},nodeExpandBegin:function(c){var a=this,b=a.getOwner();a.setExpanded(!0);b.fireEvent('itemexpand',b,a)},nodeExpandEnd:function(){if(!this.destroying){this.getOwner().updateLayout()}},nodeInsert:function(f,g){var a=this,d=a.getOwner(),h=a.itemMap,i=f.internalId,b=d.getItem(f),e=null,c;if(b){c=b.getParentItem();c.removeItem(b);if(c!==a){c.doUpdateExpandable();b.setParentItem(a)}}else {b=a.getOwner().createItem(f,a)}h[i]=b;if(g){e=h[g.internalId]}a.insertItem(b,e);a.doUpdateExpandable();d.fireEvent('iteminsert',d,a,b,e);d.updateLayout()},nodeRemove:function(f){var a=this,d=a.itemMap,c=a.getOwner(),e=f.internalId,b=d[e];if(b){delete d[e];a.removeItem(b);b.destroy();a.doUpdateExpandable();c.fireEvent('itemremove',c,a,b);c.updateLayout()}},nodeUpdate:function(a,b){this.doNodeUpdate(a)},onClick:function(c){var a=this,b=a.getOwner(),e=a.getNode(),d={event:c,item:a,node:e,tree:b,select:e.get('selectable')!==!1&&a.isSelectionEvent(c),toggle:a.isToggleEvent(c)};if(b.fireEvent('itemclick',b,d)!==!1){if(d.toggle){a.toggleExpanded();c.preventDefault()}if(d.select){b.setSelection(a.getNode())}}},removeItem:Ext.emptyFn,destroy:function(){var a=this,b=a.itemMap,c=a.getOwner(),d;if(b){for(d in b){b[d].destroy()}a.itemMap=null}if(c){c.removeItem(a.getNode())}a.setNode(null);a.setParentItem(null);a.setOwner(null);Ext.Widget.prototype.destroy.call(this)},privates:{doNodeUpdate:function(b,e){var a=this,d=this.getTextProperty(),c=this.getIconClsProperty();if(d){a.setText(b.data[d])}if(c){a.setIconCls(b.data[c])}a.setLoading(b.isLoading());a.setLeaf(b.isLeaf());a.doUpdateExpandable()},doUpdateExpandable:function(){var a=this.getNode();this.setExpandable(a.isExpandable())},toggleExpanded:function(){if(this.isExpanded()){this.collapse()}else {this.expand()}},updateIndent:function(c){var a=this.itemMap,b;for(b in a){a[b].setIndent(c)}},updateOwner:function(a){this.parent=a}}},0,0,['widget'],{'widget':!0},0,0,[Ext.list,'AbstractTreeItem'],0);Ext.cmd.derive('Ext.list.RootTreeItem',Ext.list.AbstractTreeItem,{isRootListItem:!0,element:{reference:'element',tag:'ul',cls:'x-treelist-root-container'},insertItem:function(b,a){if(a){b.element.insertBefore(a.element)}else {this.element.appendChild(b.element)}},isToggleEvent:function(a){return !1}},0,0,['widget'],{'widget':!0},0,0,[Ext.list,'RootTreeItem'],0);Ext.cmd.derive('Ext.mixin.ItemRippler',Ext.Base,{mixinId:'itemrippler',config:{itemRipple:null},shouldRippleItem:function(c,d){var a,b;if(d.getTarget(this.noItemRippleSelector,this.element)){return !1}a=c&&this.getItemRipple();if(a&&c.isWidget){b=c.shouldRipple(d);if(b){a=Ext.apply({},a,b)}}return a},rippleItem:function(d,c){if(!d){return}var a=this,h=c.type.match(a.rippleStateRe),b=a.shouldRippleItem(d,c),k=b&&b.release,j=k===!0,e=d.isWidget?d.el:d,i,l,f,g;if(b&&h&&j){a.$rippleStart=c.getXY()}if(b&&e&&(!h&&j||h&&k!==!0)){g=a.$rippledItems||(a.$rippledItems=[]);f=a.$rippleStart;if(f){i=c.getXY();l=Math.sqrt(Math.pow(i[0]-f[0],2)+Math.pow(i[1]-f[1],2));if(l<=8){e.ripple(c,b);g.push(e)}}else {e.ripple(c,b);g.push(e)}a.$rippleStart=null}},destroyAllRipples:function(){var a;for(a=this.$rippledItems;a&&a.length;){a.pop().destroyAllRipples()}},privates:{noItemRippleSelector:'.x-item-no-ripple, .x-item-no-tap',rippleStateRe:/start|down/}},0,0,0,0,0,0,[Ext.mixin,'ItemRippler'],0);Ext.cmd.derive('Ext.list.TreeItem',Ext.list.AbstractTreeItem,{collapsedCls:'x-treelist-item-collapsed',expandedCls:'x-treelist-item-expanded',floatedToolCls:'x-treelist-item-tool-floated',leafCls:'x-treelist-item-leaf',expandableCls:'x-treelist-item-expandable',hideIconCls:'x-treelist-item-hide-icon',loadingCls:'x-treelist-item-loading',selectedCls:'x-treelist-item-selected',selectedParentCls:'x-treelist-item-selected-parent',withIconCls:'x-treelist-item-with-icon',hoverCls:'x-treelist-item-over',rowHoverCls:'x-treelist-row-over',isTreeListItem:!0,config:{rowCls:null},rowClsProperty:'rowCls',element:{reference:'element',tag:'li',cls:'x-treelist-item',children:[{reference:'rowElement',cls:'x-treelist-row',children:[{reference:'wrapElement',cls:'x-treelist-item-wrap',children:[{reference:'iconElement',cls:'x-treelist-item-icon'},{reference:'textElement',cls:'x-treelist-item-text'},{reference:'expanderElement',cls:'x-treelist-item-expander'}]}]},{reference:'itemContainer',tag:'ul',cls:'x-treelist-container'},{reference:'toolElement',cls:'x-treelist-item-tool'}]},constructor:function(b){var a;Ext.list.AbstractTreeItem.prototype.constructor.call(this,b);a=this.toolElement.dom;a.parentNode.removeChild(a)},getToolElement:function(){return this.toolElement},insertItem:function(b,a){if(a){b.element.insertBefore(a.element)}else {this.itemContainer.appendChild(b.element)}},isSelectionEvent:function(b){var a=this.getOwner();return !this.isToggleEvent(b)||!a.getExpanderOnly()||a.getSelectOnExpander()},isToggleEvent:function(b){var a=!1;if(this.getOwner().getExpanderOnly()){a=b.target===this.expanderElement.dom}else {a=!this.itemContainer.contains(b.target)}return a},nodeCollapseBegin:function(b,c){var a=this,d=a.itemContainer,e;if(a.expanding){a.stopAnimation(a.expanding)}e=b&&d.getHeight();Ext.list.AbstractTreeItem.prototype.nodeCollapseBegin.call(this,b,c);if(b){d.dom.style.display='block';a.collapsingForExpand=c;a.collapsing=this.runAnimation(Ext.merge({from:{height:e},to:{height:0},callback:a.nodeCollapseDone,scope:a},b))}},nodeCollapseDone:function(c){var a=this,b=a.itemContainer;if(!a.destroying&&!a.destroyed){a.collapsing=null;b.dom.style.display='';b.setHeight(null);a.nodeCollapseEnd(a.collapsingForExpand)}},nodeExpandBegin:function(b){var a=this,c=a.itemContainer,d;if(a.collapsing){a.stopAnimation(a.collapsing)}Ext.list.AbstractTreeItem.prototype.nodeExpandBegin.call(this,b);if(b){d=c.getHeight();c.setHeight(0);a.expanding=a.runAnimation(Ext.merge({to:{height:d},callback:a.nodeExpandDone,scope:a},b))}},nodeExpandDone:function(){this.expanding=null;this.itemContainer.setHeight(null);this.nodeExpandEnd()},removeItem:function(a){this.itemContainer.removeChild(a.element)},updateNode:function(b,a){this.syncIndent();Ext.list.AbstractTreeItem.prototype.updateNode.call(this,b,a)},updateExpandable:function(a){this.updateExpandCls()},updateExpanded:function(b){var a=this.getNode();this.updateExpandCls();if(a){a.set('expanded',b)}},updateIconCls:function(b,c){var a=this,d=a.element;a.doIconCls(a.iconElement,b,c);a.doIconCls(a.toolElement,b,c);d.toggleCls(a.withIconCls,!!b);d.toggleCls(a.hideIconCls,b===null)},updateLeaf:function(a){this.element.toggleCls(this.leafCls,a)},updateLoading:function(a){this.element.toggleCls(this.loadingCls,a)},updateOver:function(b){var a=this;a.element.toggleCls(a.hoverCls,!!b);a.rowElement.toggleCls(a.rowHoverCls,b>1)},updateRowCls:function(b,a){this.rowElement.replaceCls(a,b)},updateSelected:function(a,e){var b=this,d=b.selectedCls,c=b.getToolElement();Ext.list.AbstractTreeItem.prototype.updateSelected.call(this,a,e);b.element.toggleCls(d,a);if(c){c.toggleCls(d,a)}},updateSelectedParent:function(c){var a=this,b;a.element.toggleCls(a.selectedParentCls,c);b=a.getToolElement();if(b){b.toggleCls(a.selectedCls,c)}},updateText:function(a){this.textElement.update(a)},privates:{doNodeUpdate:function(a){Ext.list.AbstractTreeItem.prototype.doNodeUpdate.call(this,a);this.setRowCls(a&&a.data[this.rowClsProperty])},doIconCls:function(b,c,a){if(a){b.removeCls(a)}if(c){b.addCls(c)}},syncIndent:function(){var a=this,d=a.getIndent(),c=a.getNode(),b;if(c){b=c.data.depth-1;a.wrapElement.dom.style.marginLeft=b*d+'px'}},updateExpandCls:function(){if(!this.updatingExpandCls){var a=this,e=a.getExpandable(),b=a.element,f=a.getExpanded(),d=a.expandedCls,c=a.collapsedCls;a.updatingExpandCls=!0;b.toggleCls(a.expandableCls,e);if(e){b.toggleCls(d,f);b.toggleCls(c,!f)}else {b.removeCls([d,c])}a.updatingExpandCls=!1}},updateIndent:function(b,a){this.syncIndent();Ext.list.AbstractTreeItem.prototype.updateIndent.call(this,b,a)}}},1,['treelistitem'],['widget','treelistitem'],{'widget':!0,'treelistitem':!0},['widget.treelistitem'],0,[Ext.list,'TreeItem'],function(a){a.prototype.floatedCls=[Ext.Widget.prototype.floatedCls,'x-treelist-item-floated']});Ext.define('Ext.overrides.list.TreeItem',{override:'Ext.list.TreeItem',runAnimation:function(a){return this.itemContainer.animate(a)},stopAnimation:function(a){a.end()},refreshInnerState:Ext.emptyFn,applyFloated:function(a,b){this.initialized=!0;(arguments.callee.$previous||Ext.list.AbstractTreeItem.prototype.applyFloated).call(this,a,b);return a},updateFloated:function(c,g){var a=this,b,e=a.getToolElement(),d,f;if(c){a.wasExpanded=a.getExpanded();a.nextElementSibling=a.el.dom.nextSibling;a.setExpanded(!0)}else {f=a.wasExpanded;d=a.getNode();a.setExpanded(a.wasExpanded);if(!f&&d.isExpanded()){a.preventAnimation=!0;d.collapse();a.preventAnimation=!1}}(arguments.callee.$previous||Ext.list.AbstractTreeItem.prototype.updateFloated).call(this,c,g);if(c){b=a.getOwner();a.floatWrap.addCls(['x-treelist',b.uiPrefix+b.getUi(),'x-treelist-float-wrap']);a.floatWrap.alignTo(e,'tl-tr');a.floatWrap.on({click:b.onClick,mouseover:b.onMouseOver,scope:b})}else {a.getOwner().rootItem.el.dom.insertBefore(a.el.dom,a.nextElementSibling)}e.toggleCls(a.floatedToolCls,c)}});Ext.cmd.derive('Ext.list.Tree',Ext.Gadget,{expanderFirstCls:'x-treelist-expander-first',expanderOnlyCls:'x-treelist-expander-only',highlightPathCls:'x-treelist-highlight-path',microCls:'x-treelist-micro',uiPrefix:'x-treelist-',element:{reference:'element',cls:'x-treelist x-unselectable',listeners:{click:'onClick',touchstart:'onTouchStart',touchend:'onTouchEnd',mouseenter:'onMouseEnter',mouseleave:'onMouseLeave',mouseover:'onMouseOver'},children:[{reference:'toolsElement',cls:'x-treelist-toolstrip',listeners:{click:'onToolStripClick',mouseover:'onToolStripMouseOver'}}]},cachedConfig:{animation:{duration:500,easing:'ease'},expanderFirst:!0,expanderOnly:!0},config:{floatLeafItems:!1,defaults:{xtype:'treelistitem'},highlightPath:null,iconSize:null,indent:null,micro:!1,overItem:null,selection:null,selectOnExpander:!1,singleExpand:null,store:null,ui:null},twoWayBindable:{selection:1},publishes:{selection:1},defaultBindProperty:'store',constructor:function(a){Ext.Component.prototype.constructor.call(this,a);this.publishState('selection',this.getSelection())},focusable:!0,tabIndex:0,keyMap:{scope:'this',UP:'onKeyUp',DOWN:'onKeyDown',LEFT:'onKeyLeft',RIGHT:'onKeyRight'},onKeyUp:function(d,b){var a=b.getSelection(),c=a?a.previousSibling:null;if(!a){return}if(c){a=c;while(b.getItem(a).getExpanded()&&a.lastChild){a=a.lastChild}}else if(!a.parentNode.isRoot()){a=a.parentNode}b.setSelection(a)},onKeyDown:function(f,b){var c,e=!1,a=b.getSelection(),d=b.getItem(a);if(!d){return}if(d.getExpanded()&&a.firstChild){a=a.firstChild}else if(a.nextSibling){a=a.nextSibling}else {c=b.getSelection();while(!a.parentNode.nextSibling){if(a.parentNode.isRoot()){a=c;e=!0;break}a=a.parentNode}if(!e){a=a.parentNode.nextSibling}}b.setSelection(a)},onKeyLeft:function(d,b){var c=b.getSelection(),a=b.getItem(c);if(a){a.collapse()}},onKeyRight:function(d,b){var c=b.getSelection(),a=b.getItem(c);if(a){a.expand()}},destroy:function(){var a=this;a.unfloatAll();a.activeFloater=null;a.setSelection(null);a.setStore(null);Ext.Component.prototype.destroy.call(this)},updateOverItem:function(f,c){var e={},d=2,a,b;for(a=f;a;a=this.getItem(b.parentNode)){b=a.getNode();e[b.internalId]=!0;a.setOver(d);d=1}if(c&&!c.destroyed){for(a=c;a;a=this.getItem(b.parentNode)){b=a.getNode();if(e[b.internalId]){break}a.setOver(0)}}},applyMicro:function(a){return Boolean(a)},applySelection:function(a,c){var b=this.getStore();if(!b){a=null}if(b&&a!==null&&!(a instanceof Ext.data.Model)){a=b.getNodeById(a)}if(a&&a.get('selectable')===!1){a=c}return a},updateSelection:function(d,e){var b=this,a,c;if(!b.destroying){a=b.getItem(e);if(a){a.setSelected(!1)}a=b.getItem(d);if(a){a.setSelected(!0);while(c=a.getParentItem()){c.setExpanded(!0);a=c}}b.fireEvent('selectionchange',b,d)}},applyStore:function(a){return a&&Ext.StoreManager.lookup(a,'tree')},updateStore:function(c,b){var a=this,d;if(b){if(!b.destroyed){if(b.getAutoDestroy()){b.destroy()}else {a.storeListeners.destroy()}}a.removeRoot();a.storeListeners=null}if(c){a.storeListeners=c.on({destroyable:!0,scope:a,nodeappend:'onNodeAppend',nodecollapse:'onNodeCollapse',nodeexpand:'onNodeExpand',nodeinsert:'onNodeInsert',noderemove:'onNodeRemove',rootchange:'onRootChange',update:'onNodeUpdate',refresh:'onRefresh'});d=c.getRoot();if(d){a.createRootItem(d)}}if(!a.destroying){a.updateLayout()}},updateExpanderFirst:function(a){this.element.toggleCls(this.expanderFirstCls,a)},updateExpanderOnly:function(a){this.element.toggleCls(this.expanderOnlyCls,!a)},updateHighlightPath:function(a){this.element.toggleCls(this.highlightPathCls,a)},updateMicro:function(b){var a=this;if(!b){a.unfloatAll();a.activeFloater=null}a.element.toggleCls(a.microCls,b)},updateUi:function(e,b){var a=this,d=a.element,c=a.uiPrefix;if(b){d.removeCls(c+b)}if(e){d.addCls(c+e)}delete a.iconSize;a.syncIconSize()},getItem:function(a){var b=this.itemMap,c;if(a&&b){c=b[a.internalId]}return c||null},getItemConfig:function(b,a){return Ext.apply({parentItem:a.isRootListItem?null:a,owner:this,node:b,indent:this.getIndent()},this.getDefaults())},privates:{checkForOutsideClick:function(b){var a=this.activeFloater;if(!a.element.contains(b.target)){this.unfloatAll()}},collapsingForExpand:!1,createItem:function(d,f){var c=this,e=Ext.create(c.getItemConfig(d,f)),g=c.toolsElement,a,b;if(f.isRootListItem){a=e.getToolElement();if(a){b=c.findVisiblePreviousSibling(d);if(!b){g.insertFirst(a)}else {b=c.getItem(b);a.insertAfter(b.getToolElement())}a.dom.setAttribute('data-recordId',d.internalId);a.isTool=!0}}c.itemMap[d.internalId]=e;return e},createRootItem:function(c){var a=this,b;a.itemMap={};a.rootItem=b=new Ext.list.RootTreeItem({indent:a.getIndent(),node:c,owner:a});a.element.appendChild(b.element);a.itemMap[c.internalId]=b},findVisiblePreviousSibling:function(b){var a=b.previousSibling;while(a){if(a.data.visible){return a}a=a.previousSibling}return null},floatItem:function(b,c){var a=this,d;if(b.getFloated()){return}if(a.toolMouseListeners){a.toolMouseListeners.destroy();a.floaterMouseListeners.destroy();a.floaterMouseListeners=a.toolMouseListeners=null}a.unfloatAll();if(!c&&!a.getFloatLeafItems()&&b.getNode().isLeaf()){return}a.activeFloater=d=b;a.floatedByHover=c;b.setFloated(!0);if(c){a.toolMouseListeners=b.getToolElement().monitorMouseLeave(300,a.checkForMouseLeave,a);a.floaterMouseListeners=(b.floater||b).el.monitorMouseLeave(300,a.checkForMouseLeave,a);d.element.on('mouseover','onMouseOver',a)}else {Ext.on('mousedown','checkForOutsideClick',a)}},shouldRippleItem:function(a,b){if(a&&a.getSelected()){return !1}return this.mixins.itemrippler.shouldRippleItem.call(this,a,b)},onTouchStart:function(a){this.doItemRipple(a)},onTouchEnd:function(a){this.doItemRipple(a)},doItemRipple:function(b){var d=this,a=b.getTarget('[data-recordId]'),c;if(a){c=a.getAttribute('data-recordId');a=d.itemMap[c];if(a&&d.shouldRippleItem(a,b)){this.rippleItem(a,b)}}},onClick:function(c){var a=c.getTarget('[data-recordId]'),b;if(a){b=a.getAttribute('data-recordId');a=this.itemMap[b];if(a){a.onClick(c)}}},onMouseEnter:function(a){this.onMouseOver(a)},onMouseLeave:function(){this.setOverItem(null)},onMouseOver:function(b){var a=Ext.Component.from(b);this.setOverItem(a&&a.isTreeListItem&&a)},checkForMouseLeave:function(c){var a=this.activeFloater,b=c.getRelatedTarget();if(a){if(b!==a.getToolElement().dom&&!a.element.contains(b)){this.unfloatAll()}}},onNodeAppend:function(b,c){var a;if(b){a=this.itemMap[b.internalId];if(a){a.nodeInsert(c,null)}}},onNodeCollapse:function(b){var a=this.itemMap[b.internalId];if(a){a.nodeCollapse(b,this.collapsingForExpand)}},onNodeExpand:function(f){var a=this,b=a.itemMap[f.internalId],d,h,c,g,e;if(b){if(!b.isRootItem&&a.getSingleExpand()){a.collapsingForExpand=!0;g=(b.getParentItem()||a.rootItem).getNode();d=g.childNodes;for(c=0,h=d.length;c<h;++c){e=d[c];if(e!==f){e.collapse()}}a.collapsing=!1}b.nodeExpand(f)}},onNodeInsert:function(b,d,c){var a=this.itemMap[b.internalId];if(a){a.nodeInsert(d,c)}},onNodeRemove:function(b,d,c){var a;if(b&&!c){a=this.itemMap[b.internalId];if(a){a.nodeRemove(d)}}},onNodeUpdate:function(d,b,e,c){var a=this.itemMap[b.internalId];if(a){a.nodeUpdate(b,c)}},onRefresh:function(a){if(this.skipNextRefresh){return}this.onRootChange(a.getRoot())},onRootChange:function(b){var a=this;a.removeRoot();if(b){a.createRootItem(b)}a.updateLayout();a.fireEvent('refresh',a)},removeItem:function(e){var c=this.itemMap,d=e.internalId,b,a;if(c){b=c[d];if(b.getParentItem()===null){a=b.getToolElement();if(a){this.toolsElement.removeChild(a)}}delete c[d]}},removeRoot:function(){var a=this,b=a.rootItem;if(b){a.element.removeChild(b.element);a.rootItem=a.itemMap=Ext.destroy(b)}},onToolStripClick:function(c){var a=c.getTarget('[data-recordId]'),b;if(a){b=a.getAttribute('data-recordId');a=this.itemMap[b];if(a){if(a===this.activeFloater){this.unfloatAll()}else {this.floatItem(a,!1)}}}},onToolStripMouseOver:function(c){var a=c.getTarget('[data-recordId]'),b;if(a){b=a.getAttribute('data-recordId');a=this.itemMap[b];if(a){this.floatItem(a,!0)}}},syncIconSize:function(){var a=this,b=a.iconSize||(a.iconSize=parseInt(a.element.getStyle('background-position'),10));a.setIconSize(b)},unfloatAll:function(){var a=this,b=a.activeFloater;if(b){b.setFloated(!1);a.activeFloater=null;if(a.floatedByHover){if(a.toolMouseListeners){a.toolMouseListeners.destroy();a.floaterMouseListeners.destroy();a.floaterMouseListeners=a.toolMouseListeners=null}b.element.un('mouseover','onMouseOver',a)}else {Ext.un('mousedown','checkForOutsideClick',a)}}},defaultIconSize:22,updateIconSize:function(a){this.setIndent(a||this.defaultIconSize)},updateIndent:function(b){var a=this.rootItem;if(a){a.setIndent(b)}}}},1,['treelist'],['widget','component','treelist'],{'widget':!0,'component':!0,'treelist':!0},['widget.treelist'],[[Ext.mixin.ItemRippler.prototype.mixinId||Ext.mixin.ItemRippler.$className,Ext.mixin.ItemRippler]],[Ext.list,'Tree'],0);Ext.define('Ext.overrides.list.Tree',{override:'Ext.list.Tree',constructor:function(c){var a=this,b;(arguments.callee.$previous||Ext.Component.prototype.constructor).call(this,c);b=a.element;if(b.isPainted()){a.syncIconSize()}else {b.on({scope:a,painted:a.syncIconSize,single:!0})}}});Ext.define('Ext.theme.material.list.Tree',{override:'Ext.list.Tree',config:{itemRipple:{release:!0,delegate:'.x-treelist-row',color:'default'}}});Ext.cmd.derive('Ext.mixin.ConfigProxy',Ext.Mixin,function(a){return {mixinConfig:{id:'configproxy',extended:function(e,b,d){var c=d.proxyConfig;b.$configProxies=Ext.apply({},b.superclass.self.$configProxies);if(c){delete d.proxyConfig;a.processClass(b,c)}}},onClassMixedIn:function(c){var b=c.prototype,d=b.proxyConfig,e=b.initConfig;b.$proxiedConfigs=null;c.$configProxies={};b.initConfig=function(b){e.apply(this,arguments);this.$proxiedConfigs=null;return this};if(d){delete b.proxyConfig;a.processClass(c,d)}},getProxiedConfigs:function(k){var b=this,j=b.config,c=b.self.$configProxies[k],f=c&&c.length,d,h,e,g,i;if(f&&b.isConfiguring){h=b.$proxiedConfigs||(b.$proxiedConfigs={});while(f-->0){d=c[f];h[g=d.name]=d;if((i=j[g])!==undefined){(e||(e={}))[g]=i}}}return e},mergeProxiedConfigs:function(h,c,g){var e=this,b=c,d=e.getProxiedConfigs(h),f;if(d){if(!c){b=d}else if(c.constructor===Object){f=e.self.getConfigurator();b=f.merge(e,Ext.clone(c),d)}}if(g&&b===c){b=Ext.clone(b)}return b},statics:{processClass:function(l,o){var p=Ext.Config,e=l.prototype,q={},m=l.$configProxies,j,c,i,d,f,h,k,b,g,n;for(f in o){i=p.get(f).names.get;c=o[f];if(Ext.isArray(c)){h=null}else {h=c.methods;c=c.configs}if(!(g=m[f])){m[f]=g=[]}else {m[f]=g=g.slice()}for(d=0,k=h&&h.length;d<k;++d){if(!e[b=h[d]]){e[b]=a.wrapFn(i,b)}}for(d=0,k=c&&c.length;d<k;++d){j=p.get(n=c[d]);q[n]=undefined;g.push(j);if(!e[b=j.names.get]){e[b]=a.wrapGet(i,b)}if(!e[b=j.names.set]){e[b]=a.wrapSet(i,b,n)}}}l.addConfig(q)},wrapFn:function(b,c){return function(){var d=this[b]();return d&&d[c].apply(d,arguments)}},wrapGet:function(c,b){return function(){var d=this[c]();return d&&d[b]()}},wrapSet:function(d,c,b){return function(h){var g=this,f,e;if(!g.isConfiguring||h!==undefined){f=g[d]();e=g.$proxiedConfigs;if(e&&e[b]){delete e[b];f=null}if(f){f[c](h)}}return g}}}}},0,0,0,0,0,0,[Ext.mixin,'ConfigProxy'],0);Ext.cmd.derive('Ext.mixin.ConfigState',Ext.Mixin,{mixinConfig:{id:'configstate'},alternateStateConfig:'',toggleConfigState:function(e){var a=this,b=a.capturedConfigState,c=a.getConfig(a.alternateStateConfig),d;if(!c){return}if(e){b={};for(d in c){b[d]=a.getConfig(d)}a.capturedConfigState=b;a.setConfig(c)}else if(!a.isConfiguring&&b){a.setConfig(b);delete a.capturedConfigState}}},0,0,0,0,0,0,[Ext.mixin,'ConfigState'],0);Ext.define('Ext.mixin.Mashup',function(a){return {extend:'Ext.Mixin',mixinConfig:{id:'mashup',extended:function(c,b){a.process(b)}},statics:{process:function(g){var k=g.prototype,f=k.requiredScripts,c=g._classHooks,h=c.onCreated,j=g.prototype.xtypes,i=Ext.manifest.mashup||{},e=k.mashupConfig,d,b;if(f){delete k.requiredScripts;c.onCreated=function(){var m=this,k=[],l=Ext.Array.slice(arguments),n=i.redirect||{};f=k.concat(f);e=e&&i[e.key];if(j){for(d=0;!e&&d<j.length;++d){e=i[j[d]]}}for(d=0;d<f.length;d++){b=f[d];if(n[b]===!1){continue}b=n[b]||b;if(b.indexOf('{')>-1){if(e){b=(new Ext.Template(b)).apply(e)}}k.push(b)}if(!k.length){c.onCreated=h;c.onCreated.call(m,l);return}Ext.Loader.loadScripts({url:k,cache:!0,onError:function(d,b){g.scriptError=g.prototype.scriptError=b;c.onCreated=h;c.onCreated.call(m,l)},onLoad:function(){c.onCreated=h;c.onCreated.call(m,l)}})}}}},onClassMixedIn:function(b){a.process(b)}}});Ext.cmd.derive('Ext.mixin.StoreWatcher',Ext.Base,{mixinId:'storewatcher',config:{dataSource:null,owner:null,ownerListeners:{destroyable:!0,storechange:'onOwnerStoreChange'},sourceListeners:null,store:null,storeListeners:null},afterClassMixedIn:function(c){var e=this.getConfigurator(),b=c.prototype,d={},a;for(a in e.configs){if(b.hasOwnProperty(a)){d[a]=b[a];delete b[a]}}c.addConfig(d)},onOwnerStoreChange:function(b,a){this.setStore(a)},updateDataSource:function(a){this.syncListeners(a,'$sourceListeners','getSourceListeners')},updateOwner:function(a){var b=this,c=b.ownerProperty;if(c){b[c]=a}b.syncListeners(a,'$ownerListeners','getOwnerListeners');b.setStore(a?a.getStore():null)},applyStore:function(a){return a&&!a.isEmptyStore?a:null},updateStore:function(a){this.syncListeners(a,'$storeListeners','getStoreListeners');this.syncDataSource()},privates:{syncDataSource:function(){var b=this.getStore(),a;if(!b){a=null}else if(b.getDataSource){a=b.getDataSource()}else {a=b.getData()}this.setDataSource(a)},syncListeners:function(d,c,a){var b=this,e=b[c];if(e){b[c]=null;e.destroy()}if(d){a=b[a]();a=Ext.applyIf({destroyable:!0,scope:b},a);b[c]=d.on(a)}}}},0,0,0,0,0,0,[Ext.mixin,'StoreWatcher'],0);Ext.cmd.derive('Ext.mixin.StyleCacher',Ext.Mixin,{mixinConfig:{id:'stylecacher'},getCachedStyle:function(c,b){var a=this.$styleCache;if(!a){a=this.$styleCache={}}if(!(b in a)){a[b]=Ext.fly(c).getStyle(b)}return a[b]}},0,0,0,0,0,0,[Ext.mixin,'StyleCacher'],0);Ext.cmd.derive('Ext.util.Color',Ext.Base,{alternateClassName:'Ext.draw.Color',statics:{colorToHexRe:/(.*?)rgb\((\d+),\s*(\d+),\s*(\d+)\)/,rgbToHexRe:/\s*rgb\((\d+),\s*(\d+),\s*(\d+)\)/,rgbaToHexRe:/\s*rgba\((\d+),\s*(\d+),\s*(\d+),\s*([.\d]+)\)/,hexRe:/\s*#([0-9a-fA-F][0-9a-fA-F]?)([0-9a-fA-F][0-9a-fA-F]?)([0-9a-fA-F][0-9a-fA-F]?)\s*/,NONE:'none',RGBA_NONE:'rgba(0, 0, 0, 0)'},isColor:!0,lightnessFactor:0.2,constructor:function(d,b,c,a){this.setRGB(d,b,c,a)},clone:function(){var a=this;return new this.self(a.r,a.g,a.b,a.a)},setRGB:function(e,c,d,b){var a=this;a.r=Math.min(255,Math.max(0,e));a.g=Math.min(255,Math.max(0,c));a.b=Math.min(255,Math.max(0,d));if(b===undefined){a.a=1}else {a.a=Math.min(1,Math.max(0,b))}},getBrightness:function(){var c=this.r/255*100,b=this.g/255*100,a=this.b/255*100;return (c*299+b*587+a*114)/1000},getGrayscale:function(){return this.r*0.3+this.g*0.59+this.b*0.11},getHSL:function(){var h=this,f=h.r/255,e=h.g/255,g=h.b/255,b=Math.max(f,e,g),d=Math.min(f,e,g),c=b-d,a,j=0,i=0.5*(b+d);if(d!==b){j=i<=0.5?c/(b+d):c/(2-b-d);if(f===b){a=60*(e-g)/c}else if(e===b){a=120+60*(g-f)/c}else {a=240+60*(f-e)/c}if(a<0){a+=360}if(a>=360){a-=360}}return [a,j,i]},getHSV:function(){var g=this,d=g.r/255,c=g.g/255,f=g.b/255,b=Math.max(d,c,f),i=Math.min(d,c,f),e=b-i,a,j=0,h=b;if(i!=b){j=h?e/h:0;if(d===b){a=60*(c-f)/e}else if(c===b){a=60*(f-d)/e+120}else {a=60*(d-c)/e+240}if(a<0){a+=360}if(a>=360){a-=360}}return [a,j,h]},setHSL:function(f,g,c){var d=this,h=Math.abs,b,e,a;f=(f%360+360)%360;g=g>1?1:g<0?0:g;c=c>1?1:c<0?0:c;if(g===0||f===null){c*=255;d.setRGB(c,c,c)}else {f/=60;b=g*(1-h(2*c-1));e=b*(1-h(f%2-1));a=c-b/2;a*=255;b*=255;e*=255;switch(Math.floor(f)){case 0:d.setRGB(b+a,e+a,a);break;case 1:d.setRGB(e+a,b+a,a);break;case 2:d.setRGB(a,b+a,e+a);break;case 3:d.setRGB(a,e+a,b+a);break;case 4:d.setRGB(e+a,a,b+a);break;case 5:d.setRGB(b+a,a,e+a);break;}}return d},setHSV:function(f,g,c){var d=this,b,e,a;f=(f%360+360)%360;g=g>1?1:g<0?0:g;c=c>1?1:c<0?0:c;if(g===0||f===null){c*=255;d.setRGB(c,c,c)}else {f/=60;b=c*g;e=b*(1-Math.abs(f%2-1));a=c-b;a*=255;b*=255;e*=255;switch(Math.floor(f)){case 0:d.setRGB(b+a,e+a,a);break;case 1:d.setRGB(e+a,b+a,a);break;case 2:d.setRGB(a,b+a,e+a);break;case 3:d.setRGB(a,e+a,b+a);break;case 4:d.setRGB(e+a,a,b+a);break;case 5:d.setRGB(b+a,a,e+a);break;}}return d},createLighter:function(b){var a=this.clone();a.lighten(b);return a},lighten:function(a){var b;if(!a&&a!==0){a=this.lightnessFactor}b=this.getHSL();this.setHSL(b[0],b[1],Ext.Number.constrain(b[2]+a,0,1))},createDarker:function(b){var a=this.clone();a.darken(b);return a},darken:function(a){if(!a&&a!==0){a=this.lightnessFactor}return this.lighten(-a)},toString:function(){var a=this,b=Math.round,e,d,c;if(a.a===1){e=b(a.r).toString(16);d=b(a.g).toString(16);c=b(a.b).toString(16);e=e.length===1?'0'+e:e;d=d.length===1?'0'+d:d;c=c.length===1?'0'+c:c;return ['#',e,d,c].join('')}else {return 'rgba('+[b(a.r),b(a.g),b(a.b),a.a===0?0:a.a.toFixed(15)].join(', ')+')'}},toHex:function(e){var d=this.r,c=this.g,b=this.b,a=b|c<<8|d<<16;return '#'+('000000'+a.toString(16)).slice(-6)},setFromString:function(b){var a,c,e,d,g=1,f=parseInt;if(b===Ext.util.Color.NONE){this.r=this.g=this.b=this.a=0;return this}if((b.length===4||b.length===7)&&b.substr(0,1)==='#'){a=b.match(Ext.util.Color.hexRe);if(a){c=f(a[1],16)>>0;e=f(a[2],16)>>0;d=f(a[3],16)>>0;if(b.length===4){c+=c*16;e+=e*16;d+=d*16}}}else if(a=b.match(Ext.util.Color.rgbToHexRe)){c=+a[1];e=+a[2];d=+a[3]}else if(a=b.match(Ext.util.Color.rgbaToHexRe)){c=+a[1];e=+a[2];d=+a[3];g=+a[4]}else {if(Ext.util.Color.ColorList.hasOwnProperty(b.toLowerCase())){return this.setFromString(Ext.util.Color.ColorList[b.toLowerCase()])}}if(typeof c==='undefined'){return this}this.r=c;this.g=e;this.b=d;this.a=g;return this}},3,0,0,0,0,0,[Ext.util,'Color',Ext.draw,'Color'],function(){var a=new this();this.addStatics({fly:function(b,d,e,c){switch(arguments.length){case 1:a.setFromString(b);break;case 3:case 4:a.setRGB(b,d,e,c);break;default:return null;}return a},ColorList:{aliceblue:'#f0f8ff',antiquewhite:'#faebd7',aqua:'#00ffff',aquamarine:'#7fffd4',azure:'#f0ffff',beige:'#f5f5dc',bisque:'#ffe4c4',black:'#000000',blanchedalmond:'#ffebcd',blue:'#0000ff',blueviolet:'#8a2be2',brown:'#a52a2a',burlywood:'#deb887',cadetblue:'#5f9ea0',chartreuse:'#7fff00',chocolate:'#d2691e',coral:'#ff7f50',cornflowerblue:'#6495ed',cornsilk:'#fff8dc',crimson:'#dc143c',cyan:'#00ffff',darkblue:'#00008b',darkcyan:'#008b8b',darkgoldenrod:'#b8860b',darkgray:'#a9a9a9',darkgreen:'#006400',darkkhaki:'#bdb76b',darkmagenta:'#8b008b',darkolivegreen:'#556b2f',darkorange:'#ff8c00',darkorchid:'#9932cc',darkred:'#8b0000',darksalmon:'#e9967a',darkseagreen:'#8fbc8f',darkslateblue:'#483d8b',darkslategray:'#2f4f4f',darkturquoise:'#00ced1',darkviolet:'#9400d3',deeppink:'#ff1493',deepskyblue:'#00bfff',dimgray:'#696969',dodgerblue:'#1e90ff',firebrick:'#b22222',floralwhite:'#fffaf0',forestgreen:'#228b22',fuchsia:'#ff00ff',gainsboro:'#dcdcdc',ghostwhite:'#f8f8ff',gold:'#ffd700',goldenrod:'#daa520',gray:'#808080',green:'#008000',greenyellow:'#adff2f',honeydew:'#f0fff0',hotpink:'#ff69b4',indianred:'#cd5c5c',indigo:'#4b0082',ivory:'#fffff0',khaki:'#f0e68c',lavender:'#e6e6fa',lavenderblush:'#fff0f5',lawngreen:'#7cfc00',lemonchiffon:'#fffacd',lightblue:'#add8e6',lightcoral:'#f08080',lightcyan:'#e0ffff',lightgoldenrodyellow:'#fafad2',lightgray:'#d3d3d3',lightgrey:'#d3d3d3',lightgreen:'#90ee90',lightpink:'#ffb6c1',lightsalmon:'#ffa07a',lightseagreen:'#20b2aa',lightskyblue:'#87cefa',lightslategray:'#778899',lightsteelblue:'#b0c4de',lightyellow:'#ffffe0',lime:'#00ff00',limegreen:'#32cd32',linen:'#faf0e6',magenta:'#ff00ff',maroon:'#800000',mediumaquamarine:'#66cdaa',mediumblue:'#0000cd',mediumorchid:'#ba55d3',mediumpurple:'#9370d8',mediumseagreen:'#3cb371',mediumslateblue:'#7b68ee',mediumspringgreen:'#00fa9a',mediumturquoise:'#48d1cc',mediumvioletred:'#c71585',midnightblue:'#191970',mintcream:'#f5fffa',mistyrose:'#ffe4e1',moccasin:'#ffe4b5',navajowhite:'#ffdead',navy:'#000080',oldlace:'#fdf5e6',olive:'#808000',olivedrab:'#6b8e23',orange:'#ffa500',orangered:'#ff4500',orchid:'#da70d6',palegoldenrod:'#eee8aa',palegreen:'#98fb98',paleturquoise:'#afeeee',palevioletred:'#d87093',papayawhip:'#ffefd5',peachpuff:'#ffdab9',peru:'#cd853f',pink:'#ffc0cb',plum:'#dda0dd',powderblue:'#b0e0e6',purple:'#800080',red:'#ff0000',rosybrown:'#bc8f8f',royalblue:'#4169e1',saddlebrown:'#8b4513',salmon:'#fa8072',sandybrown:'#f4a460',seagreen:'#2e8b57',seashell:'#fff5ee',sienna:'#a0522d',silver:'#c0c0c0',skyblue:'#87ceeb',slateblue:'#6a5acd',slategray:'#708090',snow:'#fffafa',springgreen:'#00ff7f',steelblue:'#4682b4',tan:'#d2b48c',teal:'#008080',thistle:'#d8bfd8',tomato:'#ff6347',turquoise:'#40e0d0',violet:'#ee82ee',wheat:'#f5deb3',white:'#ffffff',whitesmoke:'#f5f5f5',yellow:'#ffff00',yellowgreen:'#9acd32'},fromHSL:function(a,c,b){return (new this(0,0,0,0)).setHSL(a,c,b)},fromHSV:function(a,b,c){return (new this(0,0,0,0)).setHSL(a,b,c)},fromString:function(a){return (new this(0,0,0,0)).setFromString(a)},create:function(a){if(a instanceof this){return a}else if(Ext.isArray(a)){return new Ext.util.Color(a[0],a[1],a[2],a[3])}else if(Ext.isString(a)){return Ext.util.Color.fromString(a)}else if(arguments.length>2){return new Ext.util.Color(arguments[0],arguments[1],arguments[2],arguments[3])}else {return new Ext.util.Color(0,0,0,0)}}})});Ext.cmd.derive('Ext.util.Base64',Ext.Base,{singleton:!0,_str:'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=',encode:function(a){var b=this,g='',f=0,h,c,d,j,k,i,e,l;a=b._utf8_encode(a);l=a.length;while(f<l){h=a.charCodeAt(f++);c=a.charCodeAt(f++);d=a.charCodeAt(f++);j=h>>2;k=(h&3)<<4|c>>4;i=(c&15)<<2|d>>6;e=d&63;if(isNaN(c)){i=e=64}else if(isNaN(d)){e=64}g=g+b._str.charAt(j)+b._str.charAt(k)+b._str.charAt(i)+b._str.charAt(e)}return g},decode:function(b){var c=this,a='',d=0,h,i,j,k,f,e,g,l;b=b.replace(/[^A-Za-z0-9+=\/]/g,'');l=b.length;while(d<l){k=c._str.indexOf(b.charAt(d++));f=c._str.indexOf(b.charAt(d++));e=c._str.indexOf(b.charAt(d++));g=c._str.indexOf(b.charAt(d++));h=k<<2|f>>4;i=(f&15)<<4|e>>2;j=(e&3)<<6|g;a=a+String.fromCharCode(h);if(e!==64){a=a+String.fromCharCode(i)}if(g!==64){a=a+String.fromCharCode(j)}}a=c._utf8_decode(a);return a},_utf8_encode:function(c){var b='',a,d,e;c=c.replace(/\r\n/g,'\n');for(d=0,e=c.length;d<e;d++){a=c.charCodeAt(d);if(a<128){b+=String.fromCharCode(a)}else if(a>127&&a<2048){b+=String.fromCharCode(a>>6|192);b+=String.fromCharCode(a&63|128)}else {b+=String.fromCharCode(a>>12|224);b+=String.fromCharCode(a>>6&63|128);b+=String.fromCharCode(a&63|128)}}return b},_utf8_decode:function(c){var d='',a=0,b=0,f=0,e=0,g=c.length;while(a<g){b=c.charCodeAt(a);if(b<128){d+=String.fromCharCode(b);a++}else if(b>191&&b<224){e=c.charCodeAt(a+1);d+=String.fromCharCode((b&31)<<6|e&63);a+=2}else {e=c.charCodeAt(a+1);f=c.charCodeAt(a+2);d+=String.fromCharCode((b&15)<<12|(e&63)<<6|f&63);a+=3}}return d}},0,0,0,0,0,0,[Ext.util,'Base64'],0);Ext.cmd.derive('Ext.util.CSS',Ext.Base,function(){var a,b=null,c=document,e=/(-[a-z])/gi,d=function(b,a){return a.charAt(1).toUpperCase()};return {singleton:!0,rules:b,initialized:!1,constructor:function(){a=this},createStyleSheet:function(e,g){var d,f=c.getElementsByTagName('head')[0],b=c.createElement('style');b.setAttribute('type','text/css');if(g){b.setAttribute('id',g)}d=b.styleSheet;if(d){f.appendChild(b);d.cssText=e}else {b.appendChild(c.createTextNode(e));f.appendChild(b);d=b.sheet}a.cacheStyleSheet(d);return d},removeStyleSheet:function(a){var b=typeof a==='string'?c.getElementById(a):a.ownerNode;if(b){b.parentNode.removeChild(b)}},swapStyleSheet:function(d,e){var b;a.removeStyleSheet(d);b=c.createElement('link');b.setAttribute('rel','stylesheet');b.setAttribute('type','text/css');b.setAttribute('id',d);b.setAttribute('href',e);c.getElementsByTagName('head')[0].appendChild(b)},cacheStyleSheet:function(d){if(!b){b=a.rules={}}try{var h=d.cssRules||d.rules,g=h.length-1,f=d.imports,i=f?f.length:0,c,e;for(e=0;e<i;++e){a.cacheStyleSheet(f[e])}for(;g>=0;--g){c=h[g];if(c.styleSheet){a.cacheStyleSheet(c.styleSheet)}a.cacheRule(c,d)}}catch(j){}},cacheRule:function(d,g){var c,f,e;if(d.styleSheet){return a.cacheStyleSheet(d.styleSheet)}c=d.selectorText;if(c){c=c.split(',');f=c.length;for(e=0;e<f;e++){b[Ext.String.trim(c[e]).toLowerCase()]={parentStyleSheet:g,cssRule:d}}}},getRules:function(e){var d={},c;if(b===null||e){a.refreshCache()}for(c in b){d[c]=b[c].cssRule}return d},refreshCache:function(){var e=c.styleSheets,d=0,f=e.length;b=a.rules={};for(;d<f;d++){try{if(!e[d].disabled){a.cacheStyleSheet(e[d])}}catch(g){}}},getRule:function(c,g,f){var d,e;if(!b||g){a.refreshCache()}if(!Ext.isArray(c)){e=b[c.toLowerCase()];if(e&&!f){e=e.cssRule}return e||null}for(d=0;d<c.length;d++){if(b[c[d]]){return f?b[c[d].toLowerCase()]:b[c[d].toLowerCase()].cssRule}}return null},createRule:function(b,c,d){var f,e=b.cssRules||b.rules,g=e.length;if(b.insertRule){b.insertRule(c+' {'+d+'}',g)}else {b.addRule(c,d||' ')}a.cacheRule(f=e[g],b);return f},updateRule:function(c,b,i){var f,g,h;if(!Ext.isArray(c)){f=a.getRule(c);if(f){if(arguments.length===2){h=Ext.Element.parseStyles(b);for(b in h){f.style[b.replace(e,d)]=h[b]}}else {f.style[b.replace(e,d)]=i}return !0}}else {for(g=0;g<c.length;g++){if(a.updateRule(c[g],b,i)){return !0}}}return !1},deleteRule:function(f){var e=a.getRule(f,!1,!0),c,d;if(e){c=e.parentStyleSheet;d=Ext.Array.indexOf(c.cssRules||c.rules,e.cssRule);if(c.deleteRule){c.deleteRule(d)}else {c.removeRule(d)}delete b[f]}}}},1,0,0,0,0,0,[Ext.util,'CSS'],0);Ext.cmd.derive('Ext.util.ClickRepeater',Ext.Base,{alternateClassName:'Ext.util.TapRepeater',config:{el:null,target:null,disabled:null},interval:20,delay:250,preventDefault:!0,stopDefault:!1,timer:0,handler:null,scope:null,constructor:function(a){var b=this;if(arguments.length===2){b.setEl(a);a=arguments[1]}b.mixins.observable.constructor.call(this,a)},destroy:function(){this.setEl(null);this.callParent()},privates:{fireClick:function(b){var a=this;a.fireEvent('click',a,b);Ext.callback(a.handler,a.scope,[a,b],0,a.getTarget())},updateDisabled:function(b){var a=this;if(b){a.savedEl=a.getEl();a.setEl(null)}else if(a.savedEl){a.setEl(a.savedEl)}},updateTarget:function(a){this.setEl(a.el)},updateEl:function(c,d){var a=this,b;if(d){d.selectable();Ext.undefer(a.timer);if(a.pressedCls){d.removeCls(a.pressedCls)}Ext.getDoc().un('mouseup',a.handleMouseUp,a);a.elListeners=Ext.destroy(a.elListeners)}if(c){c.unselectable();b={mousedown:a.handleMouseDown,scope:a,destroyable:!0};if(a.preventDefault||a.stopDefault){b.click=a.eventOptions}a.elListeners=c.on(b)}},eventOptions:function(a){if(this.preventDefault){a.preventDefault()}if(this.stopDefault){a.stopEvent()}},handleMouseDown:function(b){var a=this,c=a.getEl();Ext.undefer(a.timer);if(a.pressedCls){c.addCls(a.pressedCls)}a.mousedownTime=Ext.now();if(b.pointerType==='mouse'){c.on('mouseout',a.handleMouseOut,a)}Ext.getDoc().on('mouseup',a.handleMouseUp,a);a.fireEvent('mousedown',a,b);a.fireClick(b);if(a.accelerate){a.delay=400}a.timer=Ext.defer(a.click,a.delay||a.interval,a,[b]);if(a.mousedownPreventDefault){b.preventDefault()}if(a.mousedownStopEvent){b.stopEvent()}},click:function(b){var a=this;a.fireClick(b);a.timer=Ext.defer(a.click,a.accelerate?a.easeOutExpo(Ext.now()-a.mousedownTime,400,-390,12000):a.interval,a,[b])},easeOutExpo:function(d,a,b,c){return d===c?a+b:b*(-Math.pow(2,-10*d/c)+1)+a},handleMouseOut:function(){var a=this,b=a.getEl();Ext.undefer(a.timer);if(a.pressedCls){b.removeCls(a.pressedCls)}b.on('mouseover',a.handleMouseReturn,a)},handleMouseReturn:function(c){var a=this,b=a.getEl();b.un('mouseover',a.handleMouseReturn,a);if(a.pressedCls){b.addCls(a.pressedCls)}a.click(c)},handleMouseUp:function(c){var a=this,b=a.getEl();Ext.undefer(a.timer);b.un('mouseover',a.handleMouseReturn,a);b.un('mouseout',a.handleMouseOut,a);Ext.getDoc().un('mouseup',a.handleMouseUp,a);if(a.pressedCls){b.removeCls(a.pressedCls)}a.fireEvent('mouseup',a,c)}}},1,0,0,0,0,[[Ext.mixin.Observable.prototype.mixinId||Ext.mixin.Observable.$className,Ext.mixin.Observable]],[Ext.util,'ClickRepeater',Ext.util,'TapRepeater'],0);Ext.cmd.derive('Ext.util.LocalStorage',Ext.Base,{id:null,destroyed:!1,lazyKeys:!0,prefix:'',session:!1,_keys:null,_store:null,_users:0,statics:{cache:{},get:function(c){var d=this,e=d.cache,b={_users:1},a;if(Ext.isString(c)){b.id=c}else {Ext.apply(b,c)}if(!(a=e[b.id])){a=new d(b)}else {++a._users}return a},supported:!0},constructor:function(b){var a=this;Ext.apply(a,b);if(a._users){Ext.util.LocalStorage.cache[a.id]=a}a.init()},init:function(){var a=this,b=a.id;if(!a.prefix&&b){a.prefix=b+'-'}a._store=a.session?window.sessionStorage:window.localStorage},destroy:function(){var a=this;delete Ext.util.LocalStorage.cache[a.id];a._store=a._keys=null;a.callParent()},getKeys:function(){var c=this,g=c._store,f=c.prefix,a=c._keys,e=f.length,d,b;if(!a){c._keys=a=[];for(d=g.length;d--;){b=g.key(d);if(b.length>e){if(f===b.substring(0,e)){a.push(b.substring(e))}}}}return a},release:function(){if(!--this._users){this.destroy()}},save:Ext.emptyFn,clear:function(){var a=this,e=a._store,d=a.prefix,b=a._keys||a.getKeys(),c;for(c=b.length;c--;){e.removeItem(d+b[c])}b.length=0},key:function(a){var b=this._keys||this.getKeys();return 0<=a&&a<b.length?b[a]:null},getItem:function(a){var b=this.prefix+a;return this._store.getItem(b)},removeItem:function(d){var a=this,f=a.prefix+d,b=a._store,c=a._keys,e=b.length;b.removeItem(f);if(c&&e!==b.length){if(a.lazyKeys){a._keys=null}else {Ext.Array.remove(c,d)}}},setItem:function(d,f){var b=this,g=b.prefix+d,a=b._store,e=a.length,c=b._keys;a.setItem(g,f);if(c&&e!==a.length){c.push(d)}}},1,0,0,0,0,0,[Ext.util,'LocalStorage'],0);Ext.cmd.derive('Ext.util.Spans',Ext.Base,{isSpans:!0,constructor:function(){this.spans=this.spans||[]},clear:function(){this.spans.length=0;return this},add:function(b,a){if(a===undefined){if(typeof b==='number'){a=b+1}else {a=b[1];b=b[0]}}var g=this,f=g.spans,i,h,d,e,c;d=g.bisect(b);if(d){c=f[d-1];i=c[0];h=c[1];if(b<=h){if(a<=h){return !1}b=i;f.splice(--d,1)}}e=g.bisect(a);if(e>d){c=f[e-1];a=Math.max(a,c[1])}if(e<f.length){c=f[e];if(a===c[0]){a=c[1];++e}}f.splice(d,e-d,[b,a]);return !0},contains:function(a,b){if(b===undefined){if(typeof a==='number'){b=a+1}else {b=a[1];a=a[0]}}var d=this.spans,c=this.bisect(a),f=!1,g,e;if(c&&a<(g=d[c-1][1])){f=b<=g}else if(c<d.length){e=d[c];f=e[0]<=a&&b<=e[1]}return f},each:function(g,e){var d=this.spans,f=d.length,a,b,c;for(a=0;a<f;a++){b=d[a];for(c=b[0];c<b[1];c++){if(g.call(e||this,a)===!1){return}}}},intersects:function(a,c){if(c===undefined){if(typeof a==='number'){c=a+1}else {c=a[1];a=a[0]}}var d=this.spans,b=this.bisect(a),e=!1;if(b&&a<d[b-1][1]){e=!0}else if(b<d.length){e=d[b][0]<c}return e},remove:function(a,b){if(b===undefined){if(typeof a==='number'){b=a+1}else {b=a[1];a=a[0]}}var i=this,f=i.spans,d=i.bisect(a),h=!1,c,e,g;if(d){e=f[d-1];g=e[1];if(a<g){e[1]=a;if(b<g){f.splice(d,0,[b,g]);return !0}h=!0}}c=i.bisect(b);if(d<c){h=!0;e=f[c-1];if(b<e[1]){e[0]=b;--c}c-=d;if(c){f.splice(d,c)}}return h},stash:function(){return this.spans.slice()},unstash:function(a){this.spans=a;return this},getCount:function(){var d=this.spans,e=d.length,c=0,a,b;for(a=0;a<e;a++){b=d[a];c+=b[1]-b[0]}return c},privates:{bisect:function(a){return Ext.Number.bisectTuples(this.spans,a,0)}}},1,0,0,0,0,0,[Ext.util,'Spans'],0);Ext.cmd.derive('Ext.util.TaskManager',Ext.util.TaskRunner,{alternateClassName:['Ext.TaskManager'],singleton:!0},0,0,0,0,0,0,[Ext.util,'TaskManager',Ext,'TaskManager'],0);Ext.cmd.derive('Ext.util.TextMetrics',Ext.Base,{statics:{shared:null,measure:function(d,e,c){var b=this,a=b.shared||(b.shared=new b(d,c));a.bind(d);a.setFixedWidth(c||'auto');return a.getSize(e)},destroy:function(){this.shared=Ext.destroy(this.shared)}},constructor:function(b,a){var c=this,d=c.measure=Ext.getBody().createChild({role:'presentation',cls:'x-textmetrics',style:{position:'absolute',left:'-1000px',top:'-1000px',visibility:'hidden'}});if(b){c.bind(b)}if(a){d.setWidth(a)}},getSize:function(c){var a=this.measure,b;a.setHtml(c);b=a.getSize();a.setHtml('');return b},bind:function(a){this.measure.setStyle((this.el||(this.self.prototype.el=new Ext.dom.Fly())).attach(a).getStyle(['font-size','font-size-adjust','font-style','font-weight','font-family','font-kerning','font-stretch','line-height','text-transform','text-decoration','letter-spacing','word-break']))},setFixedWidth:function(a){this.measure.setWidth(a)},getWidth:function(a){this.measure.dom.style.width='auto';return this.getSize(a).width},getHeight:function(a){return this.getSize(a).height},destroy:function(){var a=this;a.el=a.measure=Ext.destroy(a.measure);a.callParent()}},1,0,0,0,0,0,[Ext.util,'TextMetrics'],function(){Ext.Element.override({getTextWidth:function(a,c,b){return Ext.Number.constrain(Ext.util.TextMetrics.measure(this.dom,Ext.valueFrom(a,this.dom.innerHTML,!0)).width,c||0,b||1000000)}})});Ext.cmd.derive('Ext.util.translatable.ScrollPosition',Ext.util.translatable.Dom,{constructor:function(a){if(a&&a.element){this.x=a.element.getScrollLeft();this.y=a.element.getScrollTop()}Ext.util.translatable.Dom.prototype.constructor.call(this,a)},translateAnimated:function(){var a=this.getElement();this.x=a.getScrollLeft();this.y=a.getScrollTop();Ext.util.translatable.Dom.prototype.translateAnimated.apply(this,arguments)},doTranslate:function(b,c){var a=this.getElement();a.setScrollLeft(Math.round(b));a.setScrollTop(Math.round(c))},getPosition:function(){var c=this,a=c.position,b=c.getElement();a.x=b.getScrollLeft();a.y=b.getScrollTop();return a}},1,0,0,0,['translatable.scrollposition'],0,[Ext.util.translatable,'ScrollPosition'],0);Ext.cmd.derive('Ext.Button',Ext.Component,{isButton:!0,cachedConfig:{buttonType:'button',iconCls:null,textAlign:null,menuAlign:'tl-bl?',destroyMenu:!0,stretchMenu:!1},config:{allowDepress:!0,badgeText:null,text:null,icon:!1,iconAlign:'left',pressedDelay:0,menu:{lazy:!0,$value:null},arrow:null,arrowAlign:'right',handler:null,toggleHandler:null,scope:null,autoEvent:null,ui:null,enableToggle:!1,value:null},eventedConfig:{pressed:!1},preventDefaultAction:!0,isMenuOwner:!0,baseCls:'x-button',hasMenuCls:'x-has-menu',hoveredCls:'x-hovered',pressedCls:'x-pressed',pressingCls:'x-pressing',hasBadgeCls:'x-has-badge',hasIconCls:'x-has-icon',hasTextCls:'x-has-text',hasArrowCls:'x-has-arrow',noArrowCls:'x-no-arrow',defaultBindProperty:'text',publishes:['pressed'],element:{reference:'element',listeners:{click:'onClick'}},focusable:!0,focusEl:'buttonElement',ariaEl:'buttonElement',backgroundColorEl:'innerElement',focusClsEl:'el',initialize:function(){var a=this,b=a.el;Ext.Component.prototype.initialize.call(this);if(a.getConfig('menu',!0)){a.addCls(a.hasMenuCls)}b.on({scope:a,touchstart:'onPress'});b.addClsOnOver(a.hoveredCls,a.isEnabled,a)},getTemplate:function(){return [{reference:'innerElement',cls:'x-inner-el',children:[{reference:'bodyElement',cls:'x-body-el',children:[{cls:'x-icon-el x-font-icon',reference:'iconElement'},{reference:'textElement',cls:'x-text-el'}]},{reference:'arrowElement',cls:'x-arrow-el x-font-icon'}]},{reference:'badgeElement',cls:'x-badge-el'},this.getButtonTemplate()]},getButtonTemplate:function(){return {tag:'button',reference:'buttonElement',cls:'x-button-el',listeners:{focus:'handleFocusEvent',blur:'handleBlurEvent'}}},shouldRipple:function(){var b=this,e=b.getUi(),a=b.getRipple(),f=e?e.split(' ').indexOf('fab')>=0:!1,c,d;if(!f&&a&&a.bound===undefined){c=b.getText();d=b.getIconCls();if((!c||c.length===0)&&d){a=Ext.clone(a);a.bound=!1;a.measureSelector='x-icon-el'}}return a},isPressed:function(){return Boolean(this.getPressed())},toggle:function(){this.setPressed(!this.isPressed())},updateBadgeText:function(c){var a=this,d=a.el,e=a.badgeElement,b=a.hasBadgeCls;if(c){e.setText(c);d.addCls(b)}else {d.removeCls(b)}},updateButtonType:function(a){this.buttonElement.dom.setAttribute('type',a)},updateText:function(a){this.textElement.setHtml(a);this.toggleCls(this.hasTextCls,!!a)},updateHtml:function(a){this.setText(a)},applyPressed:function(a){return Boolean(a)},updatePressed:function(c){var a=this,b=a.getToggleHandler();if(b&&!a.isConfiguring){Ext.callback(b,a.getScope(),[a,c],0,a)}a.element.toggleCls(a.pressedCls,c)},updateIcon:function(d){var a=this,c=a.iconElement,b=a.hasIconCls;if(d){a.addCls(b);c.setStyle('background-image','url('+d+')')}else {c.setStyle('background-image','');if(!a.getIconCls()){a.removeCls(b)}}},updateIconCls:function(e,c){var a=this,d=a.iconElement,b=a.hasIconCls;if(e){a.addCls(b);d.replaceCls(c,e)}else {d.removeCls(c);if(!a.getIcon()){a.removeCls(b)}}},updateIconAlign:function(d,c){var b=this.el,a='x-icon-align-';b.removeCls(a+c);b.addCls(a+d)},_textAlignCls:{left:'x-text-align-left',right:'x-text-align-right',center:''},updateTextAlign:function(c,b){var a=this._textAlignCls,e=a[c||'center'],d=a[b||'center'];this.replaceCls(d,e)},updateArrowAlign:function(d,a){var b=this.element,c='x-arrow-align-';if(a){b.removeCls(c+a)}b.addCls(c+d)},applyMenu:function(a){if(a){if(!a.isMenu){if(Ext.isArray(a)){a={items:a}}if(!a.xtype){a.xtype='menu'}a.ownerCmp=this;a=Ext.widget(a)}this.menuMinWidth=a.getMinWidth()}return a},updateMenu:function(b,a){var c={scope:this,hide:'onMenuHide'};if(a&&!a.destroyed){if(this.getDestroyMenu()){a.destroy()}else if(a.isMenu){a.un(c)}}this.toggleCls(this.hasMenuCls,!!b);if(b&&b.isMenu){b.on(c)}},updateArrow:function(a){this.toggleCls(this.noArrowCls,!a);this.toggleCls(this.hasArrowCls,!!a)},applyAutoEvent:function(a){var b=this;if(typeof a==='string'){a={name:a,scope:b.scope||b}}return a},updateAutoEvent:function(b){var c=b.name,a=b.scope;this.setHandler(function(){a.fireEvent(c,a,this)});this.setScope(a)},applyPressedDelay:function(a){if(Ext.isNumber(a)){return a}return a?100:0},enableFocusable:function(){this.buttonElement.dom.disabled=!1;Ext.Component.prototype.enableFocusable.call(this)},disableFocusable:function(){Ext.Component.prototype.disableFocusable.call(this);this.buttonElement.dom.disabled=!0},findEventTarget:function(){return this.element},onPress:function(c){var a=this,b=this.findEventTarget(c),d=a.getPressedDelay(),e=a.pressingCls;if(!a.getDisabled()&&!c.button){if(d>0){a.pressedTimeout=Ext.defer(function(){delete a.pressedTimeout;if(b){b.addCls(e)}},d)}else {b.addCls(e)}Ext.GlobalEvents.setPressedComponent(a,c)}},onRelease:function(a){this.fireAction('release',[this,a],'doRelease')},doRelease:function(a,c){var b=a.findEventTarget(c);if(!a.getDisabled()){if(a.hasOwnProperty('pressedTimeout')){Ext.undefer(a.pressedTimeout);delete a.pressedTimeout}else {if(b){b.removeCls(a.pressingCls)}}}},onClick:function(a){return this.onTap(a)},onTap:function(a){if(this.getDisabled()){return !1}this.fireAction('tap',[this,a],'doTap')},doTap:function(a,b){var d=a.getMenu(),c=a.getHandler();if(b&&b.preventDefault&&a.preventDefaultAction){b.preventDefault()}if(d){a.toggleMenu(b,d)}else {if((a.getToggleHandler()||a.getEnableToggle())&&(a.getAllowDepress()||!a.isPressed())){a.toggle()}if(c){Ext.callback(c,a.getScope(),[a,b],0,a)}}},onEnterKey:function(a){this.onTap(a);a.stopEvent();return !1},onDownKey:function(b){var a=this.getMenu();if(a&&!this.getDisabled()){this.showMenu(b,a);b.stopEvent();return !1}},onEscKey:function(b){var a=this.getMenu();if(a&&!this.getDisabled()&&a.isVisible()){a.hide();b.stopEvent();return !1}},onFocus:function(a){if(!this.keyHandlersAdded){this.setKeyMap({scope:'this',SPACE:'onEnterKey',ENTER:'onEnterKey',DOWN:'onDownKey',ESC:'onEscKey'});this.keyHandlersAdded=!0}Ext.Component.prototype.onFocus.call(this,a)},onMenuHide:function(a){if(a.isMenu&&!this.$buttonWasPressed){this.setPressed(!1)}},toggleMenu:function(c,a){var b=this;a=a||b.getMenu();if(a){if(a.isVisible()){b.hideMenu(c,a)}else {b.showMenu(c,a)}}},hideMenu:function(b,a){a=a||this.getMenu();if(a){a.hide()}},showMenu:function(e,a){var b=this,c=!e||e.pointerType,d;a=a||b.getMenu();b.setupMenuStretch(a);if(a){if(a.isVisible()){if(c){a.hide()}else {a.focus()}}else {a.autoFocus=!c;if(a.isMenu){b.$buttonWasPressed=d=b.getPressed();a.showBy(b.element,b.getMenuAlign());if(!d){b.setPressed(!0)}}else if(a.isViewportMenu){a.setDisplayed(!a.getDisplayed())}else {a.show()}}}},doDestroy:function(){var a=this;if(a.hasOwnProperty('pressedTimeout')){Ext.undefer(a.pressedTimeout)}a.setMenu(null);Ext.Component.prototype.doDestroy.call(this)},getFocusClsEl:function(){return this.element},privates:{setupMenuStretch:function(b){var a=this;if(!a.menuMinWidth){if(a.getStretchMenu()){b.setMinWidth(a.el.measure('w'))}else {b.setMinWidth(null)}}}}},0,['button'],['widget','component','button'],{'widget':!0,'component':!0,'button':!0},['widget.button'],0,[Ext,'Button'],0);Ext.define('Ext.theme.material.Button',{override:'Ext.Button',config:{ripple:{delegate:'.x-inner-el'}},materialIconRe:/^md-icon[-|_](.*)/,applyIconCls:function(a){var e,b,d,c;if(a){a=Ext.dom.Element.splitCls(a);e=a.length;for(b=0;b<e;b++){d=a[b];c=d&&d.match(this.materialIconRe);if(c&&c.length>1){a.unshift('md-icon');break}}return a.join(' ')}return a}});Ext.cmd.derive('Ext.Title',Ext.Component,{config:{title:''},baseCls:'x-title',updateTitle:function(a){this.setHtml(a)}},0,['title'],['widget','component','title'],{'widget':!0,'component':!0,'title':!0},['widget.title'],0,[Ext,'Title'],0);Ext.cmd.derive('Ext.Spacer',Ext.Component,{config:{},constructor:function(a){a=a||{};if(!a.width){a.flex=1}Ext.Component.prototype.constructor.call(this,a)}},1,['spacer'],['widget','component','spacer'],{'widget':!0,'component':!0,'spacer':!0},['widget.spacer'],0,[Ext,'Spacer'],0);Ext.cmd.derive('Ext.layout.Box',Ext.layout.Auto,{isBox:!0,config:{orient:'horizontal',align:'stretch',constrainAlign:!1,pack:'start',vertical:!1,reverse:!1,overflow:null,wrap:null},cls:'x-layout-box',baseItemCls:'x-layout-box-item',constrainAlignCls:'x-constrain-align',flexedCls:'x-flexed',wrapClsMap:{'true':'x-wrap','wrap':'x-wrap','wrap-reverse':'x-wrap-reverse'},orientMap:{horizontal:{sizeProp:'width',containerCls:['x-layout-hbox','x-horizontal'],itemCls:'x-layout-hbox-item'},vertical:{sizeProp:'height',containerCls:['x-layout-vbox','x-vertical'],itemCls:'x-layout-vbox-item'}},constructor:function(b){var a=this;Ext.layout.Auto.prototype.constructor.call(this,b);a.positionSortFn=a.positionSortFn.bind(a)},setConfig:function(b,e,d){var a=b,c;if(b){if(typeof b==='string'){a={};a[b]=e}else {Ext.apply({},b);d=e}c=a.type;delete a.type;if(a.vertical==null){if(c==='vbox'){a.vertical=!0}else if(c==='hbox'){a.vertical=!1}}Ext.layout.Auto.prototype.setConfig.call(this,a,d)}return this},destroy:function(){Ext.destroy(this.getOverflow());this.positionSortFn=null;Ext.layout.Auto.prototype.destroy.call(this)},updateContainer:function(b,a){var c={flexchange:'onItemFlexChange',scope:this,delegate:'> component'};Ext.layout.Auto.prototype.updateContainer.call(this,b,a);if(b){b.on(c)}if(a){a.un(c)}},updateVertical:function(a){this.setOrient(a?'vertical':'horizontal')},updateOrient:function(l,h){var a=this,g=a.getContainer(),i=a.getOverflow(),f=g.getRenderTarget(),c=g.innerItems,n=c.length,o=a.orientMap,e=o[l],k=o[h],d=l==='vertical',b,j,m;a.sizePropertyName=e.sizeProp;if(h){f.removeCls(k.containerCls);for(b=0;b<n;++b){c[b].removeCls(k.itemCls)}}f.addCls(e.containerCls);a.itemCls=j=[a.baseItemCls,e.itemCls];for(b=0;b<n;++b){m=c[b];m.addCls(j)}a.setVertical(d);a.positionFn=d?'getTop':'getLeft';if(i){i.setVertical(d)}},updateConstrainAlign:function(a){this.getContainer().getRenderTarget().toggleCls(this.constrainAlignCls,a)},onItemInnerStateChange:function(b,d){var c=this,a;Ext.layout.Auto.prototype.onItemInnerStateChange.apply(this,arguments);if(d){a=b.getFlex();if(a){c.setItemFlex(b,a)}}else {c.setItemFlex(b,null)}},onItemFlexChange:function(a,b){if(a.isInnerItem()){this.setItemFlex(a,b)}},setItemFlex:function(f,a){var h=f.el,g=typeof a,d=g==='number',e=g==='string',c,b;if(!a||d||e){if(d){b=a;a=a+' '+a}else if(e){c=Ext.String.splitWords(a);b=c[0];if(c.length===1){a=b+' '+b}}h.setStyle('flex',a)}else {b=a.grow;h.setStyle({flexGrow:b,flexShrink:a.shrink,flexBasis:a.basis})}f.toggleCls(this.flexedCls,!!b)},convertPosition:function(a){var b=this.positionMap;if(b.hasOwnProperty(a)){return b[a]}return a},applyAlign:function(a){return this.convertPosition(a)},updateAlign:function(b,a){this.getContainer().getRenderTarget().swapCls(b,a,!0,'x-align')},applyPack:function(a){return this.convertPosition(a)},updatePack:function(b,a){this.getContainer().getRenderTarget().swapCls(b,a,!0,'x-pack')},updateReverse:function(a){this.getContainer().getRenderTarget().toggleCls('x-reverse',a)},ensureVisible:function(e,c){var g=this,l,h,k,j,a,b,f,o,d,m,n,i;if(!e.isWidget){c=e;e=c.item}if(c&&!isNaN(c.offset)){e=this.getItemByOffset(c.offset)}if(!e){return}l=this.getContainer();h=l.getScrollable();k=h.getElement();j=g.getVertical();a=g.getItemInfo(k);b=g.getItemInfo(e);f=b.size>a.size;o=c&&c.scroll||'min';i=h.translatable;if(g._currentEnsureVisibleItem===e&&(i&&i.isAnimating)){return}if(o==='min'){if(!f&&b.start<a.start||f&&b.start>a.start){d=b.start-a.start}else if(!f&&b.end>a.end||f&&b.end<a.end){d=b.end-a.end}else if(f&&b.start<a.start&&b.end>a.end){d=b.start-a.start}}else {if(b.start<a.start){d=b.end-a.end}else {d=b.start-a.start}}if(d){m=!j?d:null;n=j?d:null;g._currentEnsureVisibleItem=e;h.scrollBy(m,n,c.animation)}},getItemByOffset:function(a){var k=this,o=this.getContainer(),q=o.getScrollable().getElement(),n=k.getItemInfo(q),f=o.getInnerItems(),g=f.length,l=-Infinity,m=-Infinity,h=0,i=g-1,e,b,c,d,p,j;if(!a){return}f.sort(k.positionSortFn);for(b=0;b<g;b++){p=f[b];j=k.getItemInfo(p);c=j.start-n.start;d=n.end-j.end;if(c>l&&c<0&&d>0){l=c;h=b}if(d>m&&d<0&&c>0){m=d;i=b;break}}if(a>0){a--;e=i+=a;if(i>=g){e=g-1}}else {a++;e=h+=a;if(h<0){e=0}}return f[e]},getItemInfo:function(c){var d=this,a=d.getVertical(),b=c.el;return {start:b[a?'getTop':'getLeft'](),end:b[a?'getBottom':'getRight'](),size:b[a?'getHeight':'getWidth']()}},createOverflow:function(a){return Ext.apply({owner:this,vertical:this.getVertical()},a)},applyOverflow:function(b,a){return Ext.Factory.layoutOverflow.update(a,b,this,'createOverflow')},updateWrap:function(c,b){var f=this,e=f.getContainer().getRenderTarget(),d=f.wrapClsMap,a;if(b){a=d[b];if(a){e.removeCls(a)}}if(c){a=d[c];if(a){e.addCls(a)}}},privates:{positionSortFn:function(a,b){var c=this.positionFn;a=a.el[c]();b=b.el[c]();if(a<b){return -1}else if(b<a){return 1}return 0}}},1,0,0,0,['layout.box'],0,[Ext.layout,'Box'],0);Ext.cmd.derive('Ext.Toolbar',Ext.Container,{isToolbar:!0,config:{title:null,defaultType:'button',defaultButtonUI:null,minHeight:null,layout:{type:'box',align:'center'}},statics:{shortcuts:{'->':!0}},autoSize:null,border:!1,classCls:'x-toolbar',constructor:function(a){a=a||{};if(a.docked==='left'||a.docked==='right'){a.layout=Ext.apply({type:'box',align:'stretch',vertical:!0},a.layout)}Ext.Container.prototype.constructor.call(this,a)},applyTitle:function(a){if(typeof a==='string'){a={title:a,centered:!0}}return Ext.factory(a,Ext.Title,this.getTitle())},updateTitle:function(a,b){if(a){this.add(a)}if(b){b.destroy()}},showTitle:function(){var a=this.getTitle();if(a){a.show()}},hideTitle:function(){var a=this.getTitle();if(a){a.hide()}},onItemAdd:function(a,c){var b=this.getDefaultButtonUI();if(b){if(a.isSegmentedButton){if(a.getDefaultUI()==null){a.setDefaultUI(b)}}else if(a.isButton&&a.getUi()==null){a.setUi(b)}}Ext.Container.prototype.onItemAdd.call(this,a,c)},factoryItem:function(a){if(a==='->'){a={xtype:'component',flex:1}}return Ext.Container.prototype.factoryItem.call(this,a)}},1,['toolbar'],['widget','component','container','toolbar'],{'widget':!0,'component':!0,'container':!0,'toolbar':!0},['widget.toolbar'],0,[Ext,'Toolbar'],0);Ext.cmd.derive('Ext.panel.Buttons',Ext.Base,function(){var b=Ext.platformTags,a=b.ios||b.mac||b.android;return {isOKFirst:!a,config:{buttonAlign:null,buttonDefaults:null,buttons:null,minButtonWidth:75,standardButtons:{ok:{text:'OK',weight:a?120:10},abort:{text:'Abort',weight:a?110:20},retry:{text:'Retry',weight:a?100:30},ignore:{text:'Ignore',weight:a?90:40},yes:{text:'Yes',weight:a?80:50},no:{text:'No',weight:a?70:60},cancel:{text:'Cancel',weight:a?60:70},apply:{text:'Apply',weight:a?50:80},save:{text:'Save',weight:a?40:90},submit:{text:'Submit',weight:a?30:100},help:{text:'Help',weight:a?10:110},close:{text:'Close',weight:a?20:120}}},_packButtonAlign:{left:'start',right:'end',center:'center'},updateButtonAlign:function(b){var a,c=this._buttons;if(b&&c){a=this._packButtonAlign[b];if(a){c.getLayout().setPack(a)}}},applyButtons:function(b,i){var f=this,d=Ext.convertKeyedItems(b,'xxx','xxx'),e=f.getButtonDefaults(),k=f.getStandardButtons(),j=d?d.length:0,a,g,h,c;if(b&&typeof b==='object'){if(b.xtype||b.itemId||b.items||b.reference){return f.adjustButtons(b,i)}}if(b){if(d===b){d=[];for(c=0;c<j;++c){a=b[c];if(typeof a==='string'){if(!Ext.Toolbar.shortcuts[a]){a=Ext.applyIf({itemId:a,text:a},e)}}else if(e){a=Ext.apply({},a,e)}d[c]=a}}else {for(c=0;c<j;++c){a=d[c];h=a.xxx;g=k[a.itemId];if(g){Ext.applyIf(a,g)}if(h){delete a.xxx;a.handler=h}if(e){Ext.applyIf(a,e)}}}}return f.adjustButtons(d,i)},onClassMixedIn:function(a){var c=a.prototype,b=c.buttons;if(b){delete c.buttons;a.addConfig({buttons:b})}},privates:{normalizeButtonBar:function(a,d,h,e,m){var b=this,c,g,j,l,k,f,i;if(!a){if(d){d.destroy()}return a}c=a.isComponent;if(Ext.isArray(a)){a={xtype:'toolbar',items:a}}else if(!c){a=Ext.clone(a)}if(!c){a.$initParent=b;a.parent=b;if(!a.xtype){a.xtype='toolbar'}}if(c){a.setDocked(h)}else if(h){a.docked=h}if(m){if(c){a.setEnableFocusableContainer(!1)}else {a.enableFocusableContainer=!1}}if(e&&!c){if(e.xtype){delete a.xtype}a=Ext.merge(Ext.clone(e),a);a.layout=Ext.merge(k={},a.layout);g=b.getButtonAlign();if(g){i=b._packButtonAlign[g];if(i){k.pack=i}}f=this.getMinButtonWidth();j=a.defaults;a.defaults=function(g){var b=j||{},c=!g.xtype||g.isButton,i;if(!c){i=Ext.ClassManager.getByAlias('widget.'+g.xtype);if(i){c=i.prototype.isButton}}if(c&&f&&!('minWidth' in b)){b=Ext.apply({minWidth:f},b)}return b}}if(d){l=b.indexOf(d);d.destroy();a=b.insert(l,a)}else {a=b.add(a)}return a}}}},0,0,0,0,0,0,[Ext.panel,'Buttons'],0);Ext.cmd.derive('Ext.Tool',Ext.Component,{alternateClassName:'Ext.panel.Tool',isPanelTool:!0,isTool:!0,focusable:!0,tabIndex:0,focusEl:'element',ariaEl:'element',inheritUi:!0,classCls:'x-tool',pressedCls:'x-pressed',hoveredCls:'x-hovered',passiveCls:'x-passive',element:{reference:'element',tabIndex:0,listeners:{click:'onClick',mousedown:'onMouseDown',mouseover:'onMouseOver',mouseout:'onMouseOut'},children:[{reference:'iconElement',cls:'x-icon-el x-font-icon'}]},handler:null,scope:null,toolOwner:null,config:{iconCls:null,type:null,passive:null},stopEvent:!0,weight:10,updateIconCls:function(b,a){this.iconElement.replaceCls(a,b)},updateType:function(a,c){var d=this,b=Ext.Tool.prototype.classCls,e=d.iconElement;d.type=a;e.replaceCls(c&&b+'-type-'+c,a&&b+'-type-'+a)},updateDisabled:function(b,a){Ext.Component.prototype.updateDisabled.call(this,b,a);this.el.removeCls([this.hoveredCls,this.pressedCls])},updatePassive:function(b){var a=this;a.setDisabled(b);a.el.toggleCls(a.passiveCls,b);a.el.setTabIndex(b?null:a.getTabIndex());a.focusable=!b},shouldRipple:function(a){return !this.getPassive()&&Ext.Component.prototype.shouldRipple.call(this)},privates:{invokeToolHandler:function(a,b,e,c,d){if(b){Ext.callback(b,a.scope,c,0,a)}a.fireEvent('click',a,d,a.toolOwner||a.ownerCt);return !0},onClick:function(d){var a=this,f=a.handler||a.callback,b=a.toolOwner,c,e;if(a.getDisabled()){return !1}if(a.stopEvent!==!1){d.stopEvent()}c=[a.parent,a,d];if(b){c[0]=b;if(b.augmentToolHandler){b.augmentToolHandler(a,c)}}e=b&&b.invokeToolHandler?b:a;return e.invokeToolHandler(a,f,a.scope,c,d)},onMouseDown:function(b){var a=this;if(!a.focusable){b.preventDefault()}if(a.getDisabled()){return !1}a.addCls(a.pressedCls);Ext.GlobalEvents.setPressedComponent(a,b)},onRelease:function(){this.removeCls(this.pressedCls)},onMouseOver:function(){if(this.getDisabled()){return !1}this.addCls(this.hoveredCls)},onMouseOut:function(){this.removeCls(this.hoveredCls)}}},0,['paneltool','tool'],['widget','component','tool','paneltool'],{'widget':!0,'component':!0,'tool':!0,'paneltool':!0},['widget.paneltool','widget.tool'],0,[Ext,'Tool',Ext.panel,'Tool'],0);Ext.define('Ext.theme.material.Tool',{override:'Ext.Tool',config:{ripple:{bound:!1,color:'default',centered:!0}}});Ext.cmd.derive('Ext.mixin.Toolable',Ext.Base,{mixinId:'toolable',config:{defaultToolWeights:{cached:!0,$value:{toggle:10,gear:20,prev:30,next:40,left:50,right:60,down:70,up:80,refresh:90,disclosure:100,plus:100,minus:110,search:120,edit:125,save:130,print:140,expand:150,collapse:160,help:170,pin:180,unpin:190,minimize:200,maximize:210,restore:220,close:230,trash:240}},toolDefaults:{xtype:'tool',zone:'end'},tools:null},toolAnchorName:'bodyElement',afterClassMixedIn:function(c){var a=c.prototype,b=a.toolDefaults,d=a.getRefItems;if(b){delete a.toolDefaults;c.getConfigurator().add({toolDefaults:Ext.apply({xtype:'tool',weight:0,zone:'end'},b)})}b=a.tools;if(b){delete a.tools;c.getConfigurator().add({tools:b})}if(d){a.getRefItems=function(a){return Ext.Array.push(d.call(this,a),this.getTools()||Ext.emptyArray)}}else {a.getRefItems=function(){return this.getTools()||Ext.emptyArray}}},lookupTool:function(d){var c=this.getTools(),e=c&&c.length,b,a;for(b=0;b<e;++b){a=c[b];if(a.type===d||a.getItemId()===d){return a}}return null},addTool:function(a){var d=this,c=d.getTools(),b,e;if(!c||!c.length){d.setTools([a]);a=d.getTools()[0]}else {c.push(a=d.instantiateTool(a));Ext.sortByWeight(c);b=c[c.indexOf(a)+1];e=a.zone;b=b&&b.zone===e?b.el.dom:null;d.getToolZone(e).el.insertBefore(a.el,b)}return a},applyTools:function(c){if(c){var e=this,a=e.createTools(c),f=a.length,b,d;Ext.sortByWeight(a);for(b=0;b<f;++b){a[b]=d=e.instantiateTool(a[b]);e.getToolZone(d.zone).el.appendChild(d.el)}c=a}return c},instantiateTool:function(a){if(!a.isTool){a=Ext.clone(a)}a.ownerCmp=a.toolOwner=this;if(!a.isTool){a=Ext.create(a)}a.doInheritUi();a.addCls(this._toolPositionClsMap[a.zone]);return a},updateTools:function(b,a){Ext.destroy(a)},privates:{_toolZoneNames:{end:'_endZone',head:'_headZone',start:'_startZone',tail:'_tailZone'},_tailedCls:'x-tailed',_headedCls:'x-headed',_toolZoneCls:'x-tool-zone',_toolZoneClsMap:{end:'x-end',head:'x-head',tail:'x-tail',start:'x-start'},_toolPositionClsMap:{end:'x-end',head:'x-start',tail:'x-end',start:'x-start'},_toolDockAlignCls:{left:'x-align-left',center:'x-align-center',right:'x-align-right'},hasToolZones:!1,adjustToolDefaults:function(a,c,b){c=c||this.getToolDefaults();if(b===undefined){b=this.getDefaultToolWeights()}if(c){Ext.applyIf(a,c);a.instanceCls=this.toolCls}if(!a.type&&!a.iconCls){a.type=a.itemId}if(b&&!('weight' in a)){a.weight=b[a.type]}return a},createTools:function(g,e){var d=this,c=Ext.convertKeyedItems(g,'handler','handler'),h=c.length,i=d.getDefaultToolWeights(),f=d.getToolDefaults(),b,a;e=e||d;if(c===g){c=[];for(b=0;b<h;++b){a=g[b];if(typeof a==='string'){a=d.adjustToolDefaults({type:a},f,null)}else {a=Ext.apply(d.adjustToolDefaults({},f,null),a)}a.toolOwner=e;c[b]=a}}else {for(b=0;b<h;++b){d.adjustToolDefaults(a=c[b],f,i);a.toolOwner=e}}return c},getToolZone:function(d){var a=this,f=a._toolZoneNames[d],c=a[f],e='_toolDockWrap',b;if(!c){c=Ext.Element.create({classList:[a._toolZoneCls,a._toolZoneClsMap[d]]});b=a[a.toolAnchorName];if(!a[e]){a[e]=b.wrap({cls:'x-tool-dock'});b.addCls('x-tool-anchor');a.initUiReference(e,'tool-dock');a.syncToolableAlign()}if(d==='head'){c.insertBefore(b);b.addCls(a._headedCls)}else if(d==='tail'){c.insertAfter(b);b.addCls(a._tailedCls)}else if(d==='start'){c.insertBefore(a._headZone||b)}else if(d==='end'){c.insertAfter(a._tailZone||b)}a[f]=c;a.hasToolZones=!0}return c},syncToolableAlign:function(){var a=this,d=a._toolDockWrap,c=a._toolDockAlignCls,b;if(d&&typeof a.getAlign==='function'){b=a.getAlign();d.replaceCls(c[a._toolDockAlign],c[b]);a._toolDockAlign=b}},doDestroy:function(){var a=this;a.setTools(null);Ext.destroy(a._startZone,a._endZone,a._headZone,a._tailZone,a._toolDockWrap)}}},0,0,0,0,0,0,[Ext.mixin,'Toolable'],0);Ext.cmd.derive('Ext.Panel',Ext.Container,{alternateClassName:'Ext.panel.Panel',isPanel:!0,defaultBindProperty:'title',config:{headerPosition:'top',header:null,icon:null,iconCls:null,iconAlign:null,title:null,titleAlign:null,anchor:null,anchorPosition:null,closable:null,bbar:null,lbar:null,rbar:null,tbar:null},cachedConfig:{border:!1,bodyBorder:null,bodyPadding:null,bodyStyle:null,buttonToolbar:{xtype:'toolbar',itemId:'buttonToolbar',docked:'bottom',defaultType:'button',weighted:!0,ui:'footer',defaultButtonUI:'action',layout:{type:'box',vertical:!1,pack:'center'}},closeAction:'destroy',closeToolText:'Close panel'},classCls:'x-panel',headerCls:null,titleCls:null,toolCls:'x-paneltool',sideCls:{top:'x-top',right:'x-right',bottom:'x-bottom',left:'x-left'},manageBorders:!0,allowHeader:!0,template:[{reference:'bodyWrapElement',cls:'x-body-wrap-el',uiCls:'body-wrap-el',children:[{reference:'bodyElement',cls:'x-body-el',uiCls:'body-el'}]}],initialize:function(){var b=this,a;Ext.Container.prototype.initialize.call(this);a=b.getScrollable();if(a&&a.isVirtualScroller){a.setAutoRefresh(!0)}},addBodyCls:function(a){this.bodyElement.addCls(a);return this},removeBodyCls:function(a){this.bodyElement.removeCls(a);return this},applyBodyPadding:function(a){if(a===!0){a=5}if(a){a=Ext.dom.Element.unitizeBox(a)}return a},applyBodyStyle:function(a,b){if(b&&a===b&&Ext.isObject(b)){a=Ext.apply({},a)}this.bodyElement.applyStyles(a);return null},addTool:function(c){var b=this.ensureHeader(),a;if(b){a=this.createTools(Ext.Array.from(c));if(a&&a.length){a=b.add(a)}}return a},applyHeader:function(b,e){var c=this,a=e,d;c.allowHeader=b!==!1;if(e&&!b){a=Ext.destroy(a)}if(b&&c.allowHeader){d=b===!0;if(a){if(!d){a.setConfig(b)}}else {if(d){b={}}b.$initParent=c;a=Ext.factory(c.createHeader(b));c.header=a;delete a.$initParent;delete b.$initParent;a.ownerCmp=c;(c.maxHeightElement||c.el).insertFirst(a.el);a.doInheritUi()}}return a||null},updateHeader:function(a){if(a){this.positionHeader(a)}else {this.syncBorders()}},applyTools:function(c){var b=this.ensureHeader(),a;if(b){b.clearTools();a=this.createTools(c);if(a&&a.length){b.add(a)}}},close:function(){var a=this,b=a.getCloseAction(),c=b==='destroy';if(a.fireEvent('beforeclose',a)!==!1){if(b&&!c){a[b]()}a.fireEvent('close',a);if(c){a.destroy()}}},createHeader:function(e){var a=this,d={xtype:'panelheader',instanceCls:a.headerCls,docked:'top'},c,b;a._isCreatingHeader=!0;if(e&&e!==!0){Ext.merge(d,e)}if(a.initialized){b=a.getTitle();if(b!=null){if(typeof b==='string'){b={text:b}}Ext.merge(d,{title:b})}c=a.getIconCls();if(c!=null){d.iconCls=c}else {c=a.getIcon();if(c!=null){d.icon=c}}}a._isCreatingHeader=!1;return d},applyAnchor:function(a,c){var d=this,f=d.el.dom,b,e;if(a){if(c){return}else {a=d.el.insertFirst({cls:'x-anchor-el'});b=document.createElementNS('http://www.w3.org/2000/svg','svg');b.setAttribute('class','x-pointer-el');e=document.createElementNS('http://www.w3.org/2000/svg','path');b.appendChild(e);a.dom.appendChild(b)}f.style.overflow='visible'}else if(c){d.anchorSize=c.destroy();f.style.overflow=''}return a},initAnchor:function(){var c=this,b=c.getAnchor(),f=c.sideCls.top,d=b.dom.firstChild,e=d.firstChild,a;b.addCls(f);b.show();a=b.measure();c.anchorSize=a=new Ext.util.Offset(a.width,a.height);c.anchorMargin=parseFloat(b.getStyle('marginLeft'))||0;b.dom.style.margin='0';d.setAttribute('height',a.y);d.setAttribute('width',a.x);e.setAttribute('d','M0 '+a.y+' L'+a.x/2+' 0.5 L'+a.x+' '+a.y);a.y-=parseFloat(Ext.fly(e).getStyle('stroke-width'));b.removeCls(f);b.hide()},updateAnchorPosition:function(b,c){var e=this,a=e.getAnchor(),d=e.sideCls;if(a){if(c){a.removeCls(d[c.side])}if(b){a.addCls(d[b.side]);a.translate(b.x,b.y);a.show()}else {a.hide()}}},updateBorder:function(b,c){var a=this;Ext.Container.prototype.updateBorder.call(this,b,c);if(a.getBodyBorder()===null){a.setBodyBorderEnabled(b!==!1)}a.syncBorders()},updateBodyPadding:function(a){this.bodyElement.setStyle('padding',a)},updateBodyBorder:function(a){var b=this;a=a===null?b.getBorder():a;b.setBodyBorderEnabled(a!==!1);b.syncBorders()},updateClosable:function(c){var a=this,b;if(c){b=a.addTool({type:'close',weight:1000,scope:a,handler:'onCloseTool',tooltip:a.getCloseToolText(),$internal:!0});if(b&&b.length){a.closeTool=b[0]}}else {Ext.destroy(a.closeTool)}},updateHeaderPosition:function(b,a){this.moveHeaderPosition(b,a)},updateIcon:function(b){var a=this.ensureHeader();if(a){a.setIcon(b)}},updateIconCls:function(b){var a=this.ensureHeader();if(a){a.setIconCls(b)}},updateIconAlign:function(b){var a=this.ensureHeader();if(a){a.setIconAlign(b)}},applyBbar:function(b,a){return this.normalizeButtonBar(b,a,'bottom')},applyLbar:function(b,a){return this.normalizeButtonBar(b,a,'left')},applyRbar:function(b,a){return this.normalizeButtonBar(b,a,'right')},applyTbar:function(b,a){return this.normalizeButtonBar(b,a,'top')},updateTitle:function(c){var b=this.ensureHeader(),a=this.tab;if(b){b.setTitle(c)}if(a&&a.isTab&&!a.destroying&&!a.destroyed){a.setText(c)}},updateTitleAlign:function(b){var a=this.ensureHeader();if(a){a.setTitleAlign(b)}},updateUi:function(b,a){Ext.Container.prototype.updateUi.call(this,b,a);if(this.hasResizable){this.onResizableUiChange(b,a)}this.anchorSize=null},alignTo:function(c,f,i){var a=this,h=a.getAnchor(),n=a.initialConfig,l=a.isPositioned(),q=l?a.setLeft:a.setX,p=l?a.setTop:a.setY,j,k,g,e,d,b,m,o;if(h){if(!a.anchorSize){a.initAnchor()}}else {return Ext.Container.prototype.alignTo.call(this,c,f,i)}e=a.anchorMargin;g=c.isRegion?c:(c.isWidget?c.el:Ext.fly(c)).getRegion();g.adjust(-e,e,e,-e);d=a.getAlignmentInfo(g,f);if(d.isAligned){return}o=a.getParent();if(!a.getFloated()){if(!o){a.setFloated(!0)}else {a.positioned=!0}}if('unconstrainedWidth' in a){a.setWidth(a.unconstrainedWidth)}if('unconstrainedHeight' in a){a.setHeight(a.unconstrainedHeight)}a.alignToArgs=[c,f,i];b=a.getAlignRegion(g,f,Ext.apply({anchorSize:a.anchorSize,axisLock:a.getAxisLock()},i));if(b){q.call(a,b.x);p.call(a,b.y);if(b.constrainWidth){a.unconstrainedWidth=n.width||a.self.prototype.width;m=a.el.getHeight();a.setWidth(d.stats.width=b.getWidth());if(b.align.position===0){p.call(a,b.y+(m-a.el.getHeight()))}}if(b.constrainHeight){a.unconstrainedHeight=n.height||a.self.prototype.height;a.setHeight(d.stats.height=b.getHeight())}if(b.anchor){j=0;k=0;if(b.anchor.align&1){k=b.anchor.y-b.y}else {j=b.anchor.x-b.x}a.setAnchorPosition({side:b.anchor.position,x:j,y:k})}else {a.setAnchorPosition(null)}a.setCurrentAlignmentInfo(d)}else if(h){h.show()}if(!a.viewportResizeListener){a.viewportResizeListener=Ext.on({resize:'onViewportResize',scope:a,destroyable:!0})}},getRefItems:function(c){var b=Ext.Container.prototype.getRefItems.call(this,c),a=this.getConfig('header',!1,!0);if(a){if(c&&a.getRefItems){b.unshift.apply(b,a.getRefItems(c))}b.unshift(a)}return b},onCloseTool:function(){this.close()},onRender:function(){var b=this,a;(arguments.callee.$previous||Ext.Container.prototype.onRender).call(this);a=b.getHeader();if(a){a.setRendered(!0)}if(b.hasCollapsible){b.onCollapsibleRendered()}},doDestroy:function(){Ext.destroy(this.header,this.anchor);Ext.Container.prototype.doDestroy.call(this)},privates:{headerPositionMap:{top:{cls:'x-header-position-top',dom:0,horz:!0},right:{cls:'x-header-position-right',dom:1,vert:!0},bottom:{cls:'x-header-position-bottom',dom:1,horz:!0},left:{cls:'x-header-position-left',dom:0,vert:!0}},adjustButtons:function(b,a){return this.normalizeButtonBar(b,a,'bottom',this.getButtonToolbar())},ensureHeader:function(){var a=this,b;if(!a._isCreatingHeader){a.getItems();b=a.getHeader();if(!b&&a.allowHeader){a.setHeader(!0);b=a.getHeader()}}return b},moveHeaderPosition:function(d,c){var a=this,j=a.element,i=a.headerPositionMap,f=i[c],k=i[d],h=f?f.cls:'',g=k.cls,e,b;if(h!==g){if(c){j.removeCls(h)}j.addCls(g)}if(c||d!=='top'){b=a.ensureHeader();if(b){if(!a.isConfiguring){a.positionHeader(b,d);e=!0}}}if(!e){a.syncBorders()}return b},positionHeader:function(c,b){var a=this,d=b||a.getHeaderPosition();c.setPosition(d);a.syncBorders()},setBodyBorderEnabled:function(a){this.bodyElement.setStyle('border-width',a?'':'0')},syncBorders:function(){if(!this.isConfiguring){this.getLayout().handleDockedItemBorders(!0)}}}},0,['panel'],['widget','component','container','panel'],{'widget':!0,'component':!0,'container':!0,'panel':!0},['widget.panel'],[[Ext.panel.Buttons.prototype.mixinId||Ext.panel.Buttons.$className,Ext.panel.Buttons],[Ext.mixin.Toolable.prototype.mixinId||Ext.mixin.Toolable.$className,Ext.mixin.Toolable]],[Ext,'Panel',Ext.panel,'Panel'],0);Ext.define('Ext.panel.Collapsible',{override:'Ext.Panel',config:{collapsed:null,collapsible:null,titleCollapse:null},hasCollapsible:!0,collapsed:!1,collapsing:!1,expanded:!1,expanding:!1,defaultCollapserCls:'Ext.panel.Collapser',doDestroy:function(){this.setCollapsible(null);(arguments.callee.$previous||Ext.Container.prototype.doDestroy).call(this)},collapse:function(a){return this.getCollapsible().collapse(a)},expand:function(a){return this.getCollapsible().expand(a)},saveState:function(f,d){var h=this,a=h.getCollapsible(),e=a&&a.getCollapsed()&&a.savedProps,c,b,g;(arguments.callee.$previous||Ext.Container.prototype.saveState).call(this,f,d);if(e){c=a.getDirection();b=c==='top'||c==='bottom'?'height':'width';if(d&&d[b]&&(g=e[b])!==null){f.set(b,g)}}},toggleCollapsed:function(b,a){return this.getCollapsible().toggleCollapsed(b,a)},getCollapsed:function(){var a=this.getCollapsible();return a?a.getCollapsed():!1},updateCollapsed:function(b){var a=this.getCollapsible();if(a){a.setCollapsed(b)}},applyCollapsible:function(a,b){if(a===!0){a={direction:this.getHeaderPosition()}}else if(typeof a==='string'){a={direction:a}}else if(!a){return null}if(b){b.setConfig(a)}else {a=Ext.apply({xclass:this.defaultCollapserCls,target:this},a);b=Ext.create(a)}return b},updateCollapsible:function(b,a){if(a){if(!this.destroying){a.doExpandCollapse(!1)}a.destroy()}if(b&&this.rendered){this.initCollapsible(b)}},updateHeader:function(c,b){var a=this.getCollapsible();arguments.callee.$previous.call(this,c,b);if(this.isConfiguring&&a){a.toggleCollapsed(a.getCollapsed(),!1)}},updateHeaderPosition:function(b,c){var a=this.getCollapsible();if(a&&a.getCollapsed()){b=a.getDirection()}this.moveHeaderPosition(b,c)},privates:{hasHiddenContent:function(){return this.getCollapsed()||(arguments.callee.$previous||Ext.Container.prototype.hasHiddenContent).call(this)},initCollapsible:function(a){this.ensureHeader();a.initialize()},onCollapsibleRendered:function(){var a=this.getCollapsible();if(a){this.initCollapsible(a)}},reattachBodyWrap:function(){var a=this,c=a._header,d=a.maxHeightElement||a.element,b=a.bodyWrapElement;if(b.parent()!==d){if(c){b.insertAfter(c.element)}else {d.insertFirst(b)}}}}});Ext.define('Ext.theme.material.Panel',{override:'Ext.Panel',config:{buttonAlign:'right',buttonToolbar:{defaultButtonUI:null}}});Ext.cmd.derive('Ext.Mask',Ext.Component,{config:{transparent:!1,top:0,left:0,right:0,bottom:0},baseCls:'x-mask',initialize:function(){var a=this;Ext.Component.prototype.initialize.call(this);a.element.on('tap','onTap',a);a.on('hide','onHide',a);a.on('show','onShow',a)},onHide:function(a){var b;if(a.sender&&a.tabbingDisabled){a.sender.enableTabbing();a.tabbingDisabled=!1}Ext.util.InputBlocker.unblockInputs();if(Ext.browser.is.AndroidStock4&&Ext.os.version.getMinor()===0){b=this.element.getFirstChild();if(b){b.redraw()}}},onShow:function(a){if(a.sender&&!a.tabbingDisabled){a.sender.disableTabbing();a.tabbingDisabled=!0}},onTap:function(a){this.fireEvent('tap',this,a)},updateTransparent:function(a){this.toggleCls(this.baseCls+'-transparent',a)}},0,['mask'],['widget','component','mask'],{'widget':!0,'component':!0,'mask':!0},['widget.mask'],0,[Ext,'Mask'],0);Ext.cmd.derive('Ext.Sheet',Ext.Panel,{isViewportMenu:!1,hidden:!0,config:{reveal:null,cover:null,side:null,stretchX:null,stretchY:null,enter:'bottom',exit:'bottom'},translatable:{type:'csstransform'},showAnimation:{type:'slideIn',duration:250,easing:'ease-out'},hideAnimation:{type:'slideOut',duration:250,easing:'ease-in'},modal:!0,hideOnMaskTap:!0,centered:!0,classCls:'x-sheet',manageBorders:!1,autoSize:null,border:!0,bodyBorder:!1,floated:!0,isInputRegex:/^(input|textarea|select|a)$/i,destroy:function(){var a=this;a.setSide(null);Ext.Panel.prototype.destroy.call(this)},applyHideAnimation:function(d){var b=this.getExit(),c=b,a;if(b===null){return null}if(d===!0){d={type:'slideOut'}}a=Ext.Panel.prototype.applyHideAnimation.call(this,d);if(a){if(b==='bottom'){c='down'}else if(b==='top'){c='up'}a.setDirection(c)}return a},applyShowAnimation:function(d){var b=this.getEnter(),c=b,a;if(b===null){return null}if(d===!0){d={type:'slideIn'}}a=Ext.Panel.prototype.applyShowAnimation.call(this,d);if(a){if(b==='bottom'){c='down'}if(b==='top'){c='up'}a.setBefore({display:null});a.setReverse(!0);a.setDirection(c)}return a},hide:function(a){var b=this.getSide();if(b){Ext.Viewport.hideMenu(b,a)}else {Ext.Panel.prototype.hide.call(this,a)}},show:function(e,a){var d=this,c=Ext.Viewport,b=a&&'side' in a?a.side:d.getSide();if(b){c.setMenu(d);c.showMenu(b)}else {Ext.Panel.prototype.show.call(this,e,a)}},updateSide:function(b,c){var a=this,d=!a.isConfiguring&&a.isVisible();a.isViewportMenu=!!b;if(c){Ext.Viewport.removeMenu(c)}if(b){Ext.Viewport.setMenu(a,{side:b});if(d){a.show()}}},updateStretchX:function(a){this.getLeft();this.getRight();if(a){this.setLeft(0);this.setRight(0)}},updateStretchY:function(a){this.getTop();this.getBottom();if(a){this.setTop(0);this.setBottom(0)}}},0,['sheet'],['widget','component','container','panel','sheet'],{'widget':!0,'component':!0,'container':!0,'panel':!0,'sheet':!0},['widget.sheet'],0,[Ext,'Sheet'],0);Ext.cmd.derive('Ext.menu.Item',Ext.Component,{alternateClassName:'Ext.menu.TextItem',isMenuItem:!0,menuExpandDelay:200,menuHideDelay:200,scope:null,destroyMenu:!0,clickHideDelay:0,hideOnClick:!0,config:{href:null,target:null,handler:null,text:null,menu:{lazy:!0,$value:null},menuAlign:'tl-tr?',icon:null,iconCls:null,iconAlign:'left',indented:null,separator:null},inheritUi:!0,ariaRole:'menuitem',focusable:!0,classCls:'x-menuitem',activeCls:'x-active',hasLeftIconCls:'x-has-left-icon',hasRightIconCls:'x-has-right-icon',hasArrowCls:'x-has-arrow',hasHrefCls:'x-has-href',isMenuOwner:!0,template:[{reference:'bodyElement',tag:'a',href:'#',cls:'x-body-el x-unselectable',children:[{reference:'leftIconWrapElement',cls:'x-left-icon-wrap-el x-icon-wrap-el',children:[{reference:'leftIconElement',cls:'x-left-icon-el x-icon-el x-font-icon'}]},{html:'\xa0',reference:'textElement',cls:'x-text-el'},{reference:'rightIconWrapElement',cls:'x-right-icon-wrap-el x-icon-wrap-el',children:[{reference:'rightIconElement',cls:'x-right-icon-el x-icon-el x-font-icon'}]},{reference:'arrowElement',cls:'x-arrow-el x-font-icon'}]}],ariaEl:'bodyElement',focusEl:'bodyElement',initialize:function(){Ext.Component.prototype.initialize.call(this);this.syncHasIconCls();if(Ext.supports.Touch){this.handleTouch()}},getFocusClsEl:function(){return this.el},expandMenu:function(c){var b=this,a=b.getMenu();if(!b.getDisabled()&&a){a.parentMenu=b.parentMenu;b.hideOnClick=!1;if(a.isVisible()){if(c&&c.type==='keydown'){a.focus()}}else {a.autoFocus=!c||!c.pointerType;a.showBy(b,b.getMenuAlign(),{axisLock:!0})}}},getRefItems:function(c){var b=this.getMenu(),a;if(b){a=b.getRefItems(c);a.unshift(b)}return a||[]},onFocusEnter:function(b){var a=this;Ext.Component.prototype.onFocusEnter.call(this,b);a.addCls(a.activeCls);a.activated=!0;if(a.hasListeners.activate){a.fireEvent('activate',a)}if(a.parentMenu){a.parentMenu.setActiveItem(a)}},onFocusLeave:function(c){var a=this,b=a.menu;Ext.Component.prototype.onFocusLeave.call(this,c);a.removeCls(a.activeCls);if(b){b.hide()}a.activated=!1;if(a.hasListeners.deactivate){a.fireEvent('deactivate',a)}if(a.parentMenu){a.parentMenu.setActiveItem(null)}},onRemoved:function(a){Ext.Component.prototype.onRemoved.call(this,a);this.parentMenu=null},doDestroy:function(){var a=this;a.separatorElement=Ext.destroy(a.separatorElement);a.setMenu(null);a.linkClickListener=Ext.destroy(a.linkClickListener);Ext.Component.prototype.doDestroy.call(this)},updateText:function(a){if(a==null||a===''){a='\xa0'}this.textElement.dom.firstChild.data=a},applyMenu:function(a){var b=this,c=b.ariaEl.dom;if(a){if(a.isMenu){a.setConstrainAlign(Ext.getBody());a.ownerCmp=b}else {a=Ext.menu.Menu.create(a,{ownerCmp:b,$initParent:b,constrainAlign:Ext.getBody()})}c.setAttribute('aria-haspopup',!0);c.setAttribute('aria-owns',a.id)}else {c.removeAttribute('aria-haspopup');c.removeAttribute('aria-owns')}b.toggleCls(b.hasArrowCls,!!a);return a},updateMenu:function(b,a){if(a){if(this.destroyMenu){Ext.destroy(a)}else {a.parentMenu=null}}this.menu=b},updateHref:function(a){this.bodyElement.dom.href=a;this.toggleCls(this.hasHrefCls,!!a)},updateTarget:function(a){this.bodyElement.dom.target=a},updateIcon:function(c){var a=this,b=a.getIconAlign()==='left'?this.leftIconElement:this.rightIconElement;if(c){b.setStyle('background-image','url('+c+')')}else {b.setStyle('background-image','')}if(!a.isConfiguring){a.syncHasIconCls()}},updateIconCls:function(d,c){var a=this,b=a.getIconAlign()==='left'?this.leftIconElement:this.rightIconElement;if(d){b.replaceCls(c,d)}else {b.removeCls(c)}if(!a.isConfiguring){a.syncHasIconCls()}},updateIconAlign:function(a){if(!this.isConfiguring){this.syncHasIconCls()}},updateSeparator:function(c){var b=this,a=b.separatorElement;if(c){if(a){a.show()}else {b.separatorElement=a=Ext.Element.create({cls:'x-menuseparator'});b.el.dom.insertBefore(a.dom,b.el.dom.firstChild)}}else if(a){a.hide()}},privates:{handleTouch:function(){var a=this,b=a.bodyElement;a.linkClickListener=b.on({click:a.onClick,capture:!0,translate:!1,scope:a,destroyable:!0})},onSpace:function(a){return this.onClick(a)},onClick:function(b){var a=this,f=a.getHref(),d=a.clickHideDelay,g=b.browserEvent,e=a.getHandler(),h=b.pointerType==='touch',c;if(a.linkClickListener&&!h&&b.parentEvent){b.stopEvent();return}if((!f||a.getDisabled())&&a.bodyElement.dom===b.getTarget('a')){b.stopEvent();if(a.getDisabled()){return !1}}if(a.getDisabled()||a.handlingClick){return}if(a.hideOnClick&&!a.getMenu()){if(!d){a.hideParentMenus()}else {a.hideParentMenusTimer=Ext.defer(a.hideParentMenus,d,a)}}c=a.fireEvent('click',a,b);if(a.destroyed){return}if(c!==!1&&e){Ext.callback(e,a.scope,[a,b],0,a)}if(a.destroyed){return}if(f&&b.type!=='click'&&!g.defaultPrevented){a.handlingClick=!0;a.bodyElement.dom.click();a.handlingClick=!1}return c},hideParentMenus:function(){var a;for(a=this.getRefOwner();a&&(a.isMenu&&a.getFloated()||a.isMenuItem);a=a.getRefOwner()){if(a.isMenu){a.hide()}}},hasIcon:function(){return !!(this.getIconCls()||this.getIcon())},syncHasIconCls:function(){var a=this,b=a.hasRightIconCls,c=a.hasLeftIconCls,d=a.getIconAlign();if(a.hasIcon()){if(d==='left'){a.replaceCls(b,c)}else if(d==='right'){a.replaceCls(c,b)}}else {a.removeCls([c,b])}}}},0,['menuitem'],['widget','component','menuitem'],{'widget':!0,'component':!0,'menuitem':!0},['widget.menuitem'],0,[Ext.menu,'Item',Ext.menu,'TextItem'],0);Ext.define('Ext.theme.material.menu.Item',{override:'Ext.menu.Item',config:{ripple:{delegate:'.x-body-el'}},shouldRipple:function(){var a=this,b=a.el.rippleShowTimeout;a.clickHideDelay=a.clickHideDelay>b?a.clickHideDelay:b;return this.getRipple()}});Ext.cmd.derive('Ext.menu.Manager',Ext.Base,{singleton:!0,alternateClassName:'Ext.menu.MenuMgr',hideAll:function(){var a=this.visible,d=a.length,c=!1,b;if(d){a=a.slice();for(b=0;b<d;b++){a[b].hide();c=!0}}return c},privates:{groups:{},visible:[],constructor:function(){var a=this;a.onShow=function(){a.registerGlobalListeners();return a.onShow.apply(a,arguments)}},onGlobalScroll:function(d){var a=this.visible,e=a.length,b,c;if(e&&d!==Ext.scroll.Scroller.viewport){a=a.slice();for(b=0;b<e;++b){c=a[b];if(d.contains(c)){c.hide()}}}},checkActiveMenus:function(f){var a=this.visible,e=a.length,c,b,d=Ext.Component.from(f);if(e){a=a.slice();for(c=0;c<e;++c){b=a[c];if(!(b.owns(f)||d&&d.isMenuOwner&&d.getMenu()===b)){b.hide()}}}},onShow:function(a){if(a.getFloated()){Ext.Array.include(this.visible,a)}},onHide:function(a){if(a.getFloated()){Ext.Array.remove(this.visible,a)}},registerGlobalListeners:function(){var a=this;delete a.onShow;Ext.on({mousedown:a.checkActiveMenus,scrollstart:a.onGlobalScroll,scope:a})}}},0,0,0,0,0,0,[Ext.menu,'Manager',Ext.menu,'MenuMgr'],0);Ext.cmd.derive('Ext.layout.VBox',Ext.layout.Box,{config:{vertical:!0}},0,0,0,0,['layout.vbox'],0,[Ext.layout,'VBox'],0);Ext.cmd.derive('Ext.menu.Menu',Ext.Panel,{isMenu:!0,config:{align:'tl-bl?',indented:!0,separator:null,autoHide:null,groups:null},allowOtherMenus:!1,ignoreParentClicks:!1,mouseLeaveDelay:50,defaultType:'menuitem',autoSize:null,twoWayBindable:'groups',keyMap:{scope:'this',SPACE:'onSpaceKey',ESC:'onEscKey'},layout:{type:'vbox',align:'stretch'},classCls:'x-menu',indentedCls:'x-indented',hasSeparatorCls:'x-has-separator',nonMenuItemCls:'x-non-menuitem',allowFocusingDisabledChildren:!0,border:!0,defaultFocus:':focusable',floated:!0,focusable:!0,focusableContainer:!0,nameHolder:!0,weighted:!0,initialize:function(){var a=this,b={click:a.onClick,mouseover:a.onMouseOver,scope:a};Ext.Panel.prototype.initialize.call(this);if(Ext.supports.Touch){b.pointerdown=a.onMouseOver}a.element.on(b);a.itemOverTask=new Ext.util.DelayedTask(a.handleItemOver,a);a.mouseMonitor=a.el.monitorMouseLeave(a.mouseLeaveDelay,a.onMouseLeave,a)},doDestroy:function(){var a=this;a.itemOverTask.cancel();Ext.menu.Manager.onHide(a);a.parentMenu=a.ownerCmp=null;if(a.rendered){a.el.un(a.mouseMonitor)}Ext.Panel.prototype.doDestroy.call(this)},showBy:function(b,a,c){Ext.Panel.prototype.showBy.call(this,b,a||this.getAlign(),c)},onFocusEnter:function(c){var a=this,b;Ext.Panel.prototype.onFocusEnter.call(this,c);a.mixins.focusablecontainer.onFocusEnter.call(a,c);if(a.getFloated()){b=a.getInherited();if(!b.topmostFocusEvent){b.topmostFocusEvent=c}}},onFocusLeave:function(a){Ext.Panel.prototype.onFocusLeave.call(this,a);if(this.getAutoHide()!==!1){this.hide()}},onItemAdd:function(a,b){Ext.Panel.prototype.onItemAdd.call(this,a,b);this.syncItemIndentedCls(a);if(!a.isMenuItem&&!a.isMenuSeparator){a.addCls(this.nonMenuItemCls)}},onItemRemove:function(a,c,b){Ext.Panel.prototype.onItemRemove.call(this,a,c,b);a.removeCls(this.indentedCls,this.nonMenuItemCls)},beforeShow:function(){var a=this,b;if(a.getFloated()){b=a.hasFloatMenuParent();if(!b&&!a.allowOtherMenus){Ext.menu.Manager.hideAll()}}(arguments.callee.$previous||Ext.Panel.prototype.beforeShow).apply(this,arguments)},afterShow:function(){var a=this,b=a.ariaEl.dom;(arguments.callee.$previous||Ext.Panel.prototype.afterShow).call(this);Ext.menu.Manager.onShow(a);if(a.getFloated()&&b){b.setAttribute('aria-expanded',!0)}if(a.getFloated()){a.maxHeight=a.savedMaxHeight}if(a.autoFocus){a.focus()}},afterHide:function(){var a=this,b=a.ariaEl.dom;(arguments.callee.$previous||Ext.Panel.prototype.afterHide).call(this);a.lastHide=Ext.Date.now();Ext.menu.Manager.onHide(a);if(a.getFloated()&&b){b.setAttribute('aria-expanded',!1)}delete a.getInherited().topmostFocusEvent},factoryItem:function(a){var b;if(typeof a==='string'&&a[0]!=='@'){if(a==='-'){a={xtype:'menuseparator'}}else {a={}}}b=Ext.Panel.prototype.factoryItem.call(this,a);if(b.isMenuItem){b.parentMenu=this}return b},updateIndented:function(b){var a=this;if(!a.isConfiguring){a.bodyElement.toggleCls(a.hasSeparatorCls,!!(b&&a.getSeparator()));a.items.each(a.syncItemIndentedCls,a)}},updateSeparator:function(a){this.bodyElement.toggleCls(this.hasSeparatorCls,!!(a&&this.getIndented()))},privates:{applyItemDefaults:function(a){a=Ext.Panel.prototype.applyItemDefaults.call(this,a);if(!a.isComponent&&!a.xtype&&!a.xclass){if(a.group||a.name){a.xtype='menuradioitem'}else if('checked' in a){a.xtype='menucheckitem'}}return a},applyGroups:function(f,l){var b=this,d=Ext.apply({},l),k=b.isConfiguring,a,e,j,c,h,g,i;if(f){b.updatingGroups=!0;for(a in f){i=d[a];d[a]=g=f[a];if(!k){e=b.lookupName(a);for(c=0,j=e.length;c<j;c++){h=e[c];h.setChecked(h.getValue()===g)}b.fireEvent('groupchange',b,a,g,i)}}b.updatingGroups=!1}return d},processFocusableContainerKeyEvent:function(a){var b=a.keyCode,c;if(b===a.ESC||Ext.fly(a.target).is('input[type=checkbox]')&&(b===a.LEFT||b===a.RIGHT||b===a.UP||b===a.DOWN)){a.preventDefault();c=this.getItemFromEvent(a);a.target=c&&c.focusEl.dom}else if(b===a.TAB&&Ext.fly(a.target).is('input[type=text],textarea')){a.preventDefault();c=this.getItemFromEvent(a);a.target=c&&c.focusEl.dom;if(a.shiftKey){a.shiftKey=!1;a.keyCode=a.UP}else {a.keyCode=a.DOWN}}else {return Ext.Panel.prototype.processFocusableContainerKeyEvent.call(this,a)}return a},onEscKey:function(a){if(this.getFloated()){this.hide()}},onSpaceKey:function(b){var a=this.getItemFromEvent(b);if(a&&a.isMenuItem){a.onSpace(b)}},onFocusableContainerLeftKey:function(a){a.preventDefault();if(this.parentMenu){this.hide()}},onFocusableContainerRightKey:function(a){var b=this.getItemFromEvent(a);a.preventDefault();if(b){b.expandMenu(a)}},onClick:function(b){var c=this,g=b.type,a,d,f=g==='keydown',e=b.pointerType==='touch';if(c.getDisabled()){return b.stopEvent()}a=c.getItemFromEvent(b);if(a&&a.isMenuItem){if(!a.getMenu()||!c.ignoreParentClicks){d=a.onClick(b)}else {b.stopEvent()}if(c.destroyed){return}if(a.getMenu()&&d!==!1&&(f||e)){a.expandMenu(b)}}if(!a||a.getDisabled()){a=undefined}c.fireEvent('click',c,a,b)},onMouseLeave:function(b){var a=this;if(a.itemOverTask){a.itemOverTask.cancel()}if(a.getDisabled()){return}a.fireEvent('mouseleave',a,b)},onMouseOver:function(c){var a=this,d=a.getActiveItem(),f=d&&d.getMenu&&d.getMenu(),i=f&&f.isVisible(),g=c.pointerType==='touch',e,b,h;if(!a.getDisabled()){if(g){e=!a.el.contains(document.activeElement)}else {e=!a.el.contains(c.getRelatedTarget())}b=a.getItemFromEvent(c);if(b){if(g){a.handleItemOver(c,b)}else {h=b.isMenuItem?b.bodyElement:b.el;if(!h.contains(c.getRelatedTarget())){a.itemOverTask.delay(i?a.mouseLeaveDelay:0,null,null,[c,b])}}}if(e){a.fireEvent('mouseenter',a,c)}a.fireEvent('mouseover',a,b,c)}},handleItemOver:function(c,a){var b=c.pointerType==='mouse';if(!a.containsFocus&&(b||a.isMenuItem)){a.focus()}if(a.expandMenu&&b){a.expandMenu(c)}},getItemFromEvent:function(c){var d=this.bodyElement.dom,b=c.getTarget(),a;while(b&&b.parentNode!==d){b=b.parentNode}a=b&&Ext.getCmp(b.id);if(a&&a.isMenuItem&&!c.within(a.bodyElement)){a=null}return a},hasFloatMenuParent:function(){return this.parentMenu||this.up('menu[_floated=true]')},syncItemIndentedCls:function(a){var b=a.isMenuItem?a.getIndented():a.indented;a.toggleCls(this.indentedCls,!!(b||this.getIndented()&&b!==!1))}},statics:{create:function(a,b){if(Ext.isArray(a)){a=Ext.apply({xtype:'menu',items:a},b)}else {a=Ext.apply({xtype:'menu'},a,b)}return Ext.create(a)}},deprecated:{'6.5':{configs:{plain:{message:'To achieve classic toolkit "plain" effect, use "indented".'},showSeparator:{message:'To achieve classic toolkit "showSeparator" effect, use "separator".'}}}}},0,['menu'],['widget','component','container','panel','menu'],{'widget':!0,'component':!0,'container':!0,'panel':!0,'menu':!0},['widget.menu'],0,[Ext.menu,'Menu'],0);Ext.define('Ext.theme.material.menu.Menu',{override:'Ext.menu.Menu',config:{indented:!1}});Ext.cmd.derive('Ext.Chip',Ext.Component,{isChip:!0,focusable:!1,tabIndex:null,classCls:'x-chip',hasIconCls:'x-has-icon',closableCls:'x-closable',element:{reference:'element',children:[{reference:'bodyElement',cls:'x-body-el',children:[{reference:'iconElement',cls:'x-icon-el x-font-icon'},{reference:'textElement',cls:'x-text-el'},{reference:'closeElement',cls:'x-close-el x-font-icon',listeners:{click:'onClick'}}]}]},config:{icon:!1,iconCls:null,text:null,closable:null,closeHandler:null,scope:null},defaultBindProperty:'text',onClick:function(c){var a=this,b=a.getCloseHandler();Ext.callback(b,a.getScope(),[a,c],0,a)},applyIcon:function(a){return Ext.resolveResource(a)},updateClosable:function(a){this.el.toggleCls(this.closableCls,a)},updateIcon:function(d){var a=this,c=a.iconElement,b=a.hasIconCls;if(d){c.setStyle('background-image','url('+d+')');a.addCls(b)}else {c.setStyle('background-image','');if(!a.getIconCls()){a.removeCls(b)}}},updateIconCls:function(a,b){this.iconElement.replaceCls(b,a);this.el.toggleCls(this.hasIconCls,!!a)},updateText:function(a){this.textElement.setHtml(Ext.htmlEncode(a))}},0,['chip'],['widget','component','chip'],{'widget':!0,'component':!0,'chip':!0},['widget.chip'],0,[Ext,'Chip'],0);Ext.cmd.derive('Ext.Dialog',Ext.Panel,{alternateClassName:['Ext.Window','Ext.window.Window'],isDialog:!0,isWindow:!0,ariaRole:'dialog',classCls:'x-dialog',cachedConfig:{dismissAction:['cancel','abort','no','close'],maximizeAnimation:{easing:'ease-in',from:{opacity:0.6},to:{opacity:1}},maximizeProxy:{centered:!1,draggable:!1,modal:!1,showAnimation:null,hideAnimation:null},maximizeTool:{itemId:'maximize',tooltip:'Maximize to fullscreen'},restoreAnimation:{easing:'ease-in',from:{opacity:1},to:{opacity:0.6}},restoreTool:{itemId:'restore',tooltip:'Restore to original size'}},config:{constrainDrag:!0,dismissHandler:null,maximizable:null,maximized:null,maskTapHandler:null,restorable:null},border:!0,bodyBorder:!1,centered:!0,floated:!0,focusable:!1,tabIndex:-1,draggable:{handle:'.x-draggable',listeners:{beforedragstart:'onBeforeDragDialog',scope:'this'}},keyMap:{ESC:'onEscape',scope:'this'},modal:!0,shadow:!0,headerCls:'x-dialogheader',titleCls:'x-dialogtitle',toolCls:['x-paneltool','x-dialogtool'],hideMode:'offsets',hideAnimation:{type:'popOut',duration:250,easing:'ease-out'},showAnimation:{type:'popIn',duration:150,easing:'ease-out'},initialize:function(){var a=this;Ext.Panel.prototype.initialize.call(this);if(a.tabGuard){a.addPlugin({type:'tabguard',tabGuardBeforeIndex:a.tabGuardBeforeIndex,tabGuardAfterIndex:a.tabGuardAfterIndex})}a.el.on('click','handleFocus',this)},doDestroy:function(){Ext.destroy(this.maximizeTool,this.restoreTool);Ext.Panel.prototype.doDestroy.call(this)},close:function(c){var a=this,j=a.getButtons(),b=a.getDismissAction(),g=a.getDismissHandler(),e,d,i,h,f,k;c=c||null;if(a.fireEvent('beforeclose',a,c)!==!1){if(g!==!0){if(g){Ext.callback(g,null,[a,c],0,a);h=!0}else if(b&&j){if(typeof b==='string'){b=[b]}for(f=0,k=b.length;f<k;++f){e=j.getComponent(b[f]);if(e&&e.isButton){e.onTap(c);h=!0;break}}}}if(!h){d=a.getCloseAction();if(d){if(!(i=d==='destroy')){a[d]()}}}if(!a.destroyed){a.fireEvent('close',a,c);if(i){a.destroy()}}}},createMaximizeProxy:function(b){var a=this;return Ext.apply({title:a.getTitle(),cls:a.getCls(),userCls:a.getUserCls(),iconCls:a.getIconCls(),ui:a.getUi()},b)},maximize:function(c){var a=this,b=a.maximizing;if(!b&&!a.getMaximized()){a._maximizeAnim=c;a.setMaximized(!0);if(!(b=a.maximizing)){return Ext.Promise.resolve(!1)}}return b?b.promise:Ext.Promise.resolve(!0)},restore:function(c){var a=this,b=a.restoring;if(!b&&a.getMaximized()){a._maximizeAnim=c;a.setMaximized(!1);if(!(b=a.restoring)){return Ext.Promise.resolve(!1)}}return b?b.promise:Ext.Promise.resolve(!0)},shouldRecenter:function(){return !this.getMaximized()&&Ext.Panel.prototype.shouldRecenter.call(this)},updateConstrainDrag:function(a){var b=this.getDraggable();if(b){if(a===!0){a=Ext.getBody()}b.setConstrain(a)}},updateDraggable:function(a,b){Ext.Panel.prototype.updateDraggable.call(this,a,b);if(!this.isConfiguring){this.syncHeaderItems()}},updateHeader:function(c,d){var b=this,a;Ext.Panel.prototype.updateHeader.call(this,c,d);if(c){b.syncHeaderItems();if(b.tabGuard&&b.getTabGuard){a=b.getTabGuard('before');if(a&&a.dom){a.insertBefore(c.el)}}}},applyMaximizable:function(b){var a=this;a.maximizeTool=Ext.updateWidget(a.maximizeTool,b,a,'createMaximizeTool','maximizeTool');a.syncHeaderItems();return b},applyMaximized:function(b){var a=this,c;if(!a.isConfiguring){c=b?'beforemaximize':'beforerestore';if(a.fireEvent(c,a)===!1){a._maximizeAnim=undefined;return}}return !!b},updateMaximized:function(b){var a=this,i=a.el,e=a.maximizedCls,j=a.maximizeTool,c=b?'restoring':'maximizing',k=a[c],h,d,f,g;if(a.isConfiguring){a.needsCenter=b}else {d=a._maximizeAnim;g=a.needsCenter&&!b;a.needsCenter=!1;if(d===undefined){d=a[b?'getMaximizeAnimation':'getRestoreAnimation']()}}a._maximizeAnim=undefined;if(k){k.destroy()}if(a.getMaximizable()){a.setRestorable(b)}else {a.syncHeaderItems()}if(j){j.setHidden(b)}if(!d){i.toggleCls(e,b);if(g){a.center()}a.fireEvent(b?'maximize':'restore',a)}else {if(b){c='maximizing';f=a.captureSize();h=a.captureSize(!0)}else {c='restoring';i.removeCls(e);if(g){a.center()}f=a.captureSize(!0);h=a.captureSize()}a[c]=a.animateMaximizeRestore(f,h,d,function(){if(b){i.addCls(e)}a[c]=null;a.fireEvent(b?'maximize':'restore',a)})}},createMaximizeTool:function(b){var a=this.adjustToolDefaults(Ext.clone(b));a.handler='onMaximize';a.scope=this;return a},applyRestorable:function(b){var a=this;a.restoreTool=Ext.updateWidget(a.restoreTool,b,a,'createRestoreTool','restoreTool');a.syncHeaderItems();return b},createRestoreTool:function(b){var a=this.adjustToolDefaults(Ext.clone(b));a.handler='onRestore';a.scope=this;return a},afterShow:function(){(arguments.callee.$previous||Ext.Panel.prototype.afterShow).call(this);if(this.getModal()){this.focus()}},onBeforeDragDialog:function(c,d,b){var a=this.getHeader();if(!a||!a.el.contains(b.target)){return !1}},getFocusEl:function(){var a=Ext.Panel.prototype.getFocusEl.call(this);if(!a&&!this.getButtons()&&this.getClosable()){return this.closeTool}return a},onCloseTool:function(b,c,a){this.close(a)},onEscape:function(c){var a=this,b=a.getModalSibling&&a.getModalSibling();a.close(c);if(b){b.focus()}},onMaximize:function(){this.setMaximized(!0)},onRestore:function(){this.setMaximized(!1)},onModalMaskTap:function(d){var a=this,b=a.getMaskTapHandler(),c;if(b){Ext.callback(b,null,[a,d],0,a)}else {c=Ext.Panel.prototype.onModalMaskTap.call(this,d)}return c},handleFocus:function(c){var b=this,a;if(b.getModal()&&(!b.el.dom.querySelector('.x-focused')&&!c.target.type)){a=b.getFocusEl();if(a){a.focus()}}},privates:{draggableCls:'x-draggable',needsCenter:!1,maximizedCls:'x-maximized',animateMaximizeRestore:function(d,e,h,g){var f=this,c=new Ext.Deferred(),a=f.getMaximizeProxy(),b=Ext.merge({from:{width:d.w+'px',height:d.h+'px',transform:{translateX:d.x+'px',translateY:d.y+'px'}},to:{width:e.w+'px',height:e.h+'px',transform:{translateX:e.x+'px',translateY:e.y+'px'}}},h);a=f.createMaximizeProxy(a);a=new f.self(a);a.show();b.element=a.el;b.callback=function(){a.destroy();g();c.resolve(!0)};b=new Ext.fx.animation.Abstract(b);Ext.Animator.run(b);c.destroy=function(){c.destroy=Ext.emptyFn;b.destroy();c.destroyed=!0};return c},captureSize:function(c){var a,b;if(c){return {x:0,y:0,w:Ext.getViewportWidth(),h:Ext.getViewportHeight()}}a=this;b=a.el.measure();return {x:a.getX(),y:a.getY(),w:b.width,h:b.height}},syncHeaderItems:function(){var b=this,c=b.maximizeTool,d=b.restoreTool,a=c||d?b.ensureHeader():b.getHeader(),g=b.draggableCls,e,f;if(a){e=b.getDraggable()&&!b.getMaximized();a.toggleCls(g,e);f=a.getTitle();if(f){f.toggleCls(g,e)}if(c&&c.parent!==a){a.add(c)}if(d&&d.parent!==a){a.add(d)}}},updateX:function(b,a){(arguments.callee.$previous||Ext.Panel.prototype.updateX).call(this,b,a);if(!this._centering&&this.getCentered()){this.setCentered(!1)}}}},0,['dialog','window'],['widget','component','container','panel','dialog','window'],{'widget':!0,'component':!0,'container':!0,'panel':!0,'dialog':!0,'window':!0},['widget.dialog','widget.window'],0,[Ext,'Dialog',Ext,'Window',Ext.window,'Window'],0);Ext.cmd.derive('Ext.field.Dirty',Ext.Mixin,{mixinConfig:{id:'dirtyfield',after:{_fixReference:'fixDirtyState'}},config:{bubbleDirty:!0,dirty:{lazy:!0,$value:!1}},dirty:!1,_childDirtyState:null,adjustChildDirtyCount:function(b){var c=this,a=c._childDirtyState;if(a){if(a.ready){a.counter+=b?1:-1;c.setDirty(!!a.counter)}else if(b){++a.counter}}},beginSyncChildDirty:function(){this._childDirtyState={counter:0,ready:!1}},finishSyncChildDirty:function(){var b=this,c=b._childDirtyState,a=!!c.counter;if(a!==b.dirty){b.setDirty(a)}else if(a){b.informParentDirty(a)}c.ready=!0},fireDirtyChange:function(){this.fireEvent('dirtychange',this,this.dirty)},fixDirtyState:function(){var a=this;if(!a._childDirtyState&&a.dirty){a.informParentDirty(!0)}},informParentDirty:function(e){var a=this,b=a.getBubbleDirty()&&a.lookupNameHolder(),d=a._childDirtyState,c=b&&b._childDirtyState;if(c){if(d){if(!d.ready&&c.ready){if(!e){return}}}b.adjustChildDirtyCount(e,a)}},invalidateChildDirty:function(){this._childDirtyState=null},isDirty:function(){if(Ext.referencesDirty){Ext.fixReferences()}return this.getDirty()},updateDirty:function(b){var a=this;a.dirty=b;if(!a.isDirtyInitializing){if(a.fireEvent){a.fireDirtyChange()}a.informParentDirty(b)}}},0,0,0,0,0,0,[Ext.field,'Dirty'],0);Ext.cmd.derive('Ext.field.Field',Ext.Component,{alternateClassName:'Ext.form.Field',isField:!0,isFormField:!0,cachedConfig:{bodyAlign:'start',labelAlign:'left',labelCls:null,labelTextAlign:'left',labelWidth:null,labelMinWidth:null,labelWrap:!1},config:{name:null,label:null,required:!1,requiredMessage:'This field is required',value:null,dataType:{cached:!0,$value:null},validators:null,validationMessage:'Is in the wrong format',validateDisabled:null,autoFitErrors:null,inline:null,error:null,errorMessage:null,errorTarget:'qtip',errorTpl:null,errorTip:null,sideError:null,tipError:null,titleError:null,underError:null},htmlErrorsTpl:['<tpl if="count == 1">','<tpl for="errors">{.:htmlEncode}</tpl>','<tpl elseif="count">','<ul class="{listCls}">','<tpl for="errors"><li>{.:htmlEncode}</li></tpl>','</ul>','</tpl>'],plainErrorsTpl:['<tpl if="count">','<tpl for="errors" between="\\n">{.}</tpl>','</tpl>'],_errorTplMap:{title:'plainErrorsTpl'},originalValue:null,focusable:!0,classCls:'x-field',requiredCls:'x-required',noLabelWrapCls:'x-no-label-wrap',invalidCls:'x-invalid',noAutoFitErrorsCls:'x-no-auto-fit-errors',inlineCls:'x-inline',labelAlignVerticalCls:'x-label-align-vertical',labelAlignHorizontalCls:'x-label-align-horizontal',labeledCls:'x-labeled',verticalLabelMap:{top:1,placeholder:1,bottom:1},horizontalLabelMap:{left:1,right:1},nameable:!0,validateOnInit:'auto',errorElement:null,errorIconElement:null,errorMessageElement:null,element:{reference:'element',classList:[Ext.supports.CSSMinContent?'':'x-no-min-content',Ext.supports.PercentageSizeFlexBug?'x-has-percentage-size-flex-bug':'']},initialize:function(){var a=this;Ext.Component.prototype.initialize.call(this);if(a.getValue()===''&&a.validateOnInit==='all'){a.validate()}a.handleFieldDefaults()},didValueChange:function(a,b){return !this.isEqual(a,b)},getTemplate:function(){return [{reference:'labelElement',cls:'x-label-el',tag:'label',children:[{reference:'labelTextElement',cls:'x-label-text-el',tag:'span'}]},{reference:'bodyWrapElement',cls:'x-body-wrap-el',children:[{reference:'bodyElement',cls:'x-body-el',children:this.getBodyTemplate()},{reference:'errorElement',cls:'x-error-el',children:[{reference:'errorIconElement',cls:'x-error-icon-el x-font-icon'},{reference:'errorMessageElement',cls:'x-error-message-el'}]}]}]},getBodyTemplate:Ext.emptyFn,initElement:function(){Ext.Component.prototype.initElement.call(this);this.innerElement=this.innerElement||this.bodyElement},onFocusLeave:function(a){Ext.Component.prototype.onFocusLeave.call(this,a);this.completeEdit()},completeEdit:Ext.emptyFn,updateBodyAlign:function(b,a){var c=this.element;if(a){c.removeCls('x-body-align-'+a)}if(b){c.addCls('x-body-align-'+b)}},updateAutoFitErrors:function(a){this.toggleCls(this.noAutoFitErrorsCls,a===!1)},applyErrorTpl:function(a){if(a&&!a.isTemplate){a=Ext.XTemplate.get(a)}return a},applyDataType:function(a){return a&&Ext.Factory.dataField(a)},formatErrors:function(b){var a=this,c=a.getErrorTpl();if(!c){c=a.lookupTpl(a._errorTplMap[a.getErrorTarget()]||'htmlErrorsTpl')}return c.apply({count:b?b.length:0,label:a.getLabel(),errors:b})},updateError:function(a){var b=this.formatErrors(Ext.Array.from(a));this.setErrorMessage(b)},updateErrorMessage:function(b){var a=this,c,d;a.fireEvent('errorchange',a,b);if(a.preventMark){return}a.toggleInvalidCls(!!b);d=a.getErrorTarget();switch(d){case 'side':a.setSideError(b);break;case 'qtip':a.setTipError(b);break;case 'title':a.setTitleError(b);break;case 'under':a.setUnderError(b);break;case 'parent':c=a.up('[onFieldErrorChange]');if(c){c.onFieldErrorChange(a,b)};break;}},updateErrorTarget:function(c,b){var a=this,d,e;if(b){a.removeCls('x-error-target-'+b);if(b==='qtip'){a.setTipError(null)}else if(b==='title'){a.setTitleError(null)}else if(b==='side'){a.setSideError(null)}else if(b==='under'){a.setUnderError(null)}else if(b==='parent'){e=a.up('[onFieldErrorChange]');if(e){e.onFieldErrorChange(a)}}}if(c){a.addCls('x-error-target-'+c);if(!a.isConfiguring){d=a.getError();if(d){if(c==='qtip'){a.setTipError(d)}else if(c==='title'){a.setTitleError(d)}else if(c==='side'){a.setSideError(d)}else if(c==='under'){a.setUnderError(d)}else if(c==='parent'){e=a.up('[onFieldErrorChange]');if(e){e.onFieldErrorChange(a,d)}}}}}},updateInline:function(a){this.toggleCls(this.inlineCls,a)},updateSideError:function(a){if(a){a=Ext.apply({html:a},this.getErrorTip())}this.errorElement.getData().qtip=a},updateTipError:function(a){if(a){a=Ext.apply({html:a},this.getErrorTip())}this.bodyElement.getData().qtip=a},updateTitleError:function(a){var b=this.el.dom;if(a){b.setAttribute('title',a)}else {b.removeAttribute('title')}},updateUnderError:function(a){this.errorMessageElement.dom.innerHTML=a||''},updateLabel:function(a){this.labelTextElement.setHtml(a);this.el.toggleCls(this.labeledCls,!!a)},updateLabelAlign:function(b,d){var a=this,c=a.element;if(d){c.removeCls('x-label-align-'+d)}if(b){c.addCls('x-label-align-'+b)}c.toggleCls(a.labelAlignVerticalCls,b in a.verticalLabelMap);c.toggleCls(a.labelAlignHorizontalCls,b in a.horizontalLabelMap)},updateLabelTextAlign:function(b,a){var c=this.element;if(a){c.removeCls('x-label-text-align-'+a)}if(b){c.addCls('x-label-text-align-'+b)}},updateLabelCls:function(b,c){var a=this.labelElement;if(b){a.addCls(b)}if(c){a.removeCls(c)}},updateLabelWidth:function(a){this.labelElement.setWidth(a)},updateLabelMinWidth:function(a){this.labelElement.setStyle('min-width',Ext.Element.addUnits(a))},updateLabelWrap:function(a){this.element.toggleCls(this.noLabelWrapCls,!a)},updateName:function(a){this.name=a},updateRequired:function(b){var a=this;a.element.toggleCls(a.requiredCls,b);if(!a.isConfiguring){a.validate()}},updateRequiredMessage:function(){if(!this.isConfiguring){this.validate()}},updateDisabled:function(b,a){Ext.Component.prototype.updateDisabled.call(this,b,a);if(!this.isConfiguring){this.validate()}},updateValidateDisabled:function(){if(!this.isConfiguring){this.validate()}},applyValue:function(a){if(this.isConfiguring){this.originalValue=a}return a},updateValue:function(b,d){var a=this,c;if(!(Ext.isEmpty(b)&&Ext.isEmpty(d))){a.validate()}if(b!==d){c=a.rawToValue(a.processRawValue(a.getRawValue()));if(!Ext.isEmpty(c,!0)&&String(b)!==String(c)){a._value=b=c}if(!a.isConfiguring){a.fireEvent('change',a,b,d)}}a.setDirty(a.isDirty())},reset:function(){this.setValue(this.originalValue);return this},resetOriginalValue:function(){this.originalValue=this.getValue();this.setDirty(!1)},isDirty:function(){return !this.isEqual(this.getValue(),this.originalValue)},toggleInvalidCls:function(a){this.el[a?'addCls':'removeCls'](this.invalidCls)},markInvalid:function(a){this.setError(a)},clearInvalid:function(){this.setError(null)},isValid:function(){return !this.getError()},isEqual:function(a,b){return String(a)===String(b)},applyValidators:function(a){var e=this,b,c,d;a=a&&!Ext.isArray(a)?[a]:a;c=a&&a.length;d=c?[]:null;for(b=0;b<c;++b){d.push(e.decodeValidator(a[b]))}return d},wrapValidatorFn:function(c,a){var d=this,b=a&&a.scope;return new Ext.data.validator.Validator(function(e){return Ext.callback(c,b,[e],0,d)})},doValidate:function(g,f,e){var b=this.getValidators(),h=b&&b.length,a,d,c;for(a=0;a<h;++a){c=b[a];if(!e||!c.lazy){d=c.validate(g);if(d!==!0){f.push(d)}}}},parseValue:Ext.identityFn,validate:function(h){var a=this,d,b,g,f,e,c;if(a.isConfiguring&&a.validateOnInit==='none'){return !0}if(!a.getDisabled()||a.getValidateDisabled()){b=[];if(a.isInputField&&!a.isSelectField){c=a.getInputValue();d=!c;e=d&&a.inputElement.dom.validity;if(e&&e.badInput){b.push(a.badFormatMessage);d=!1}}else {c=a.getValue();d=c===''||c==null}if(d&&a.getRequired()){b.push(a.getRequiredMessage())}else if(!b.length){if(!d){c=a.parseValue(c,b)}if(!b.length){g=a._validationField;f=a._validationRecord;if(g&&f){g.validate(c,null,b,f)}if(!d){a.doValidate(c,b,h)}}}if(b.length){a.setError(b);return !1}}a.setError(null);return !0},getFocusClsEl:function(){return this.element},updateHeight:function(b,a){Ext.Component.prototype.updateHeight.call(this,b,a);this.syncFormLayoutHeight()},onAdded:function(b,a){Ext.Component.prototype.onAdded.call(this,b,a);this.syncFormLayoutHeight();this.validateLayout()},onRemoved:function(a){Ext.Component.prototype.onRemoved.call(this,a);this.syncFormLayoutHeight()},rawToValue:Ext.identityFn,processRawValue:Ext.identityFn,transformRawValue:Ext.identityFn,getRawValue:function(){var a=this,b=a.inputElement?a.inputElement.getValue():Ext.valueFrom(a.rawValue,'');a.rawValue=b;return b},handleFieldDefaults:function(){var b=this,f=b.getInherited(),c,a,e,g,d;if(f){c=f.fieldDefaults;if(c){g=b.initialConfig;for(a in c){if(!g[a]){e=Ext.util.Format.capitalize(a);d=c[a];if(b['set'+e]){b['set'+e](d)}else {b[a]=d}}}}}},serialize:function(){var c=this,b=c.getValue(),a;if(b!=null){a=c._validationField||c.getDataType();if(a&&a.serialize){b=a.serialize(b)}}return b},privates:{syncFormLayoutHeight:function(){var b=this,c=b.parent,a=b.getHeight();if(!(a&&c&&c.getLayout().isFormLayout)){a=null}b.bodyElement.setHeight(a)},validateLayout:function(){var b=this.getErrorTarget(),a=this.parent;if(this.isInner&&a&&a.getLayout().isFormLayout){this.setLabelAlign('left');if(b==='under'){this.setErrorTarget('side')}}},applyBind:function(f,b){var d=this,e=b&&b.value,a,c;a=Ext.Component.prototype.applyBind.call(this,f,b);if(a){c=a.value;d.hasBindingValue=!!c;if(c!==e&&d.getInherited().modelValidation){d.updateValueBinding(a)}}return a},updateValueBinding:function(b){var d=this,a=b.value,c=b.$fieldBinding;if(c){c.destroy();b.$fieldBinding=null}if(a&&a.bindValidationField){d.fieldBinding=a.bindValidationField('setValidationField',d)}},setValidationField:function(b,a){this._validationField=b;this._validationRecord=a},decodeValidator:function(a){var c=Ext.typeOf(a),b=a.fn;if(c==='function'){b=this.wrapValidatorFn(a)}else if(c==='regexp'){b=Ext.Factory.validator({type:'format',matcher:a})}else if(c==='object'&&b&&!a.isValidator){b=this.wrapValidatorFn(b,a)}else {b=Ext.Factory.validator(a)}return b}}},0,['field'],['widget','component','field'],{'widget':!0,'component':!0,'field':!0},['widget.field'],[[Ext.field.Dirty.prototype.mixinId||Ext.field.Dirty.$className,Ext.field.Dirty]],[Ext.field,'Field',Ext.form,'Field'],0);Ext.define('Ext.theme.material.field.Field',{override:'Ext.field.Field',config:{labelAlign:'top'}});Ext.define('App.override.field.Field',{override:'Ext.field.Field',config:{requiredMessage:'Champs Obligatoire',errorTip:{anchor:!0,align:'l-r?',ui:'tooltip invalid'}},platformConfig:{phone:{errorTarget:'under'}}});Ext.cmd.derive('Ext.field.Input',Ext.field.Field,{isInputField:!0,tag:'input',config:{inputType:{cached:!0,$value:'text'},readOnly:!1,inputValue:null},focusEl:'inputElement',ariaEl:'inputElement',inputTabIndex:0,getBodyTemplate:function(){return [this.getInputTemplate()]},getInputTemplate:function(){return {tag:this.tag,reference:'inputElement',tabindex:this.inputTabIndex,cls:'x-input-el'}},initElement:function(){Ext.field.Field.prototype.initElement.call(this);this.labelElement.dom.setAttribute('for',this.inputElement.id)},updateDisabled:function(a,b){Ext.field.Field.prototype.updateDisabled.call(this,a,b);this.inputElement.dom.disabled=!!a},updateInputType:function(a){this.setInputAttribute('type',a)},updateName:function(a,b){Ext.field.Field.prototype.updateName.call(this,a,b);this.setInputAttribute('name',a)},updateReadOnly:function(a){this.setInputAttribute('readonly',a?!0:null)},updateValue:function(a,b){if(this.canSetInputValue()){this.setInputValue(a)}Ext.field.Field.prototype.updateValue.call(this,a,b)},applyInputValue:function(a){return a!=null?a+'':''},completeEdit:function(){var a=this,c=a.getInputValue(),b=a.parseValue(c);if(b!==null){a.setInputValue(a.getValue())}},updateInputValue:function(b){var a=this.inputElement.dom;if(a.value!==b){a.value=b}},reset:function(){var a=this,b=a.originalValue;if(a.isEqual(b,a.getValue())){a.setInputValue(b);if(!a.isValid()){a.validate()}}else {a.setValue(b)}return a},privates:{canSetInputValue:function(){return !0},setInputAttribute:function(b,c){var a=this.inputElement.dom;if(!Ext.isEmpty(c,!0)){a.setAttribute(b,c)}else {a.removeAttribute(b)}}},deprecated:{'6.5':{configs:{inputCls:null}}}},0,['inputfield'],['widget','component','field','inputfield'],{'widget':!0,'component':!0,'field':!0,'inputfield':!0},['widget.inputfield'],0,[Ext.field,'Input'],0);Ext.cmd.derive('Ext.field.trigger.Base',Ext.Widget,{factoryConfig:{defaultType:'trigger',aliasPrefix:'trigger.'},isTrigger:!0,config:{field:null,group:null,side:null,name:null,triggers:null},classCls:'x-trigger',groupedCls:'x-grouped',inheritUi:!0,statics:{sort:function(a){Ext.sortByWeight(a);return a}},doDestroy:function(){var b=this.getTriggers(),a,c;if(b){for(a=0,c=b.length;a<c;a++){b[a].destroy()}}this.setTriggers(null);Ext.Widget.prototype.doDestroy.call(this)},updateField:function(a){this.field=this.ownerCmp=a;this.doInheritUi()},updateGroup:function(a){if(!this.isConfiguring){this.getField().syncTriggers()}},updateSide:function(){if(!this.isConfiguring){this.getField().syncTriggers()}},updateTriggers:function(a){var c=this,e=c.element.dom,b,d;c.toggleCls(c.groupedCls,!!(a&&a.length));if(a){for(b=0,d=a.length;b<d;b++){e.appendChild(a[b].element.dom)}}}},0,0,['widget'],{'widget':!0},['trigger.base'],[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.field.trigger,'Base'],0);Ext.cmd.derive('Ext.field.trigger.Trigger',Ext.field.trigger.Base,{config:{handler:null,iconCls:null,repeat:null,scope:null,focusOnTap:!0},interactiveCls:'x-interactive',template:[{reference:'iconElement',classList:['x-icon-el','x-font-icon']}],constructor:function(c){var a=this,b;Ext.field.trigger.Base.prototype.constructor.call(this,c);b=a.getRepeat();if(b){a.repeater=new Ext.util.ClickRepeater(Ext.apply({target:a,preventDefault:!0,listeners:{mousedown:'onClickRepeaterTouchStart',mouseup:'onClickRepeaterTouchEnd',click:'onClickRepeaterClick',scope:a}},b))}else {a.element.on({click:'onClick',mousedown:'onMouseDown',scope:a})}},doDestroy:function(){Ext.destroyMembers(this,'repeater');Ext.field.trigger.Base.prototype.doDestroy.call(this)},onClickRepeaterClick:function(b,a){this.onClick(a)},onClick:function(c){var b=this,e=!b.getDisabled()&&b.getHandler(),a=b.getField(),f=!a||b.getDisabled()||a.getDisabled(),d;if(f){return}if(c.pointerType!=='mouse'){c.preventDefault();if(b.getFocusOnTap()){d=a.getFocusTrap?a.getFocusTrap():a.getFocusEl();if(d.dom!==document.activeElement){if(b.isExpandTrigger){a.focusingFromExpandTrigger=!0}a.focus()}}}if(e){Ext.callback(e,b.getScope(),[a,b,c],null,a)}},onMouseDown:function(b){var a;if(b.pointerType==='mouse'){a=this.getFocusOnTap()&&this.getField();if(a&&!a.getDisabled()){a.focus()}b.preventDefault()}},onClickRepeaterTouchStart:function(b,a){this.onMouseDown(a)},onClickRepeaterTouchEnd:function(d,c){var a=this,b=a.field;Ext.callback(a.endHandler,a.scope,[b,a,c],0,b)},updateHandler:function(a){this.toggleCls(this.interactiveCls,!!a)},updateIconCls:function(b,a){this.iconElement.replaceCls(a,b)}},1,['trigger'],['widget','trigger'],{'widget':!0,'trigger':!0},['trigger.trigger','widget.trigger'],0,[Ext.field.trigger,'Trigger'],0);Ext.cmd.derive('Ext.field.trigger.Clear',Ext.field.trigger.Trigger,{classCls:'x-cleartrigger',weight:-1000,hidden:!0,handler:'onClearIconTap',scope:'this'},0,['cleartrigger'],['widget','trigger','cleartrigger'],{'widget':!0,'trigger':!0,'cleartrigger':!0},['trigger.clear','widget.cleartrigger'],0,[Ext.field.trigger,'Clear'],0);Ext.cmd.derive('Ext.field.Text',Ext.field.Input,{alternateClassName:'Ext.form.Text',config:{clearable:!0,placeholder:null,maxLength:null,autoComplete:null,autoCapitalize:null,autoCorrect:null,autoHideInputMask:null,inputMask:null,pattern:null,triggers:{clear:{type:'clear'}},editable:!0,bodyAlign:'stretch',labelInPlaceholder:{lazy:!0,$value:!0},textAlign:null},cachedConfig:{animateUnderline:!1,parseValidator:null},bubbleEvents:['action'],badFormatMessage:'Value does not match the required format',defaultBindProperty:'value',twoWayBindable:{value:1},publishes:{value:1},inputType:'text',classCls:'x-textfield',focusedCls:'x-focused',emptyCls:'x-empty',webkitBorderBoxBugCls:'x-webkit-border-box-bug',requiredIndicator:'*',getBodyTemplate:function(){var a=[{reference:'beforeInputElement',cls:'x-before-input-el'}];a.push(this.getInputTemplate());a.push({reference:'afterInputElement',cls:'x-after-input-el'});return [{reference:'inputWrapElement',cls:'x-input-wrap-el'+(Ext.supports.WebKitInputTableBoxModelBug?' '+this.webkitBorderBoxBugCls:''),children:a},{reference:'underlineElement',cls:'x-underline-el'}]},initialize:function(){var a=this;if(Ext.isRobot){a.focusedInputDelay=0}Ext.field.Input.prototype.initialize.call(this);a.inputElement.on({keyup:'onKeyUp',keydown:'onKeyDown',keypress:'onKeyPress',paste:'onPaste',mousedown:'onMouseDown',input:{fn:'onInput',delegated:!1},scope:a});if((Ext.isChrome||Ext.isChromeMobile)&&a.getLabelAlign()==='placeholder'){a.inputElement.on('animationstart',a.onPlaceholderAutoFill,a)}a.syncEmptyState()},clearValue:function(){var a=this,b=a.getInputMask();if(b){b.showEmptyMask(a,!0)}else {a.forceSetValue('')}a.syncEmptyState()},isEqual:function(a,b){var c=this.transformValue(a),d=this.transformValue(b);return c===d},forceSetValue:function(a){this.forceInputChange=!0;this.setValue(a);this.forceInputChange=!1},transformValue:function(a){if(a==null){a=''}return a},applyInputMask:function(a,c){var b=Ext.field['InputMask'];return a?b.from(a,c):null},updateInputMask:function(a,b){this.hasMask=!1;if(b){b.release()}if(a){this.hasMask=!0;a.syncPattern(this)}},doValidate:function(b,d,c){Ext.field.Input.prototype.doValidate.call(this,b,d,c);if(!c){var a=this.getInputMask();if(a&&!a.isFilled(b)&&b!==a._mask){d.push(this.badFormatMessage)}}},parseValue:function(b,h){var d=this,i=d.getParseValidator(),f,e,g,j,a,c;if(i){f=d._validationField;for(g=2;g-->0;){c=g?d.getValidators():f&&f.getValidators();j=c&&c.length;for(e=0;e<j;++e){a=c[e];if(a.parse){a=a.parse(b);if(a!==null){return a}}}}b=i.parse(b);if(b===null&&h){h.push(d.badFormatMessage)}}return b},applyValue:function(a,b){if(a&&typeof a==='string'){a=this.parseValue(a);if(a===null){return}}return this.transformValue(Ext.field.Input.prototype.applyValue.call(this,a,b))},updateInputValue:function(d,c){var a=this,b=a.getInputMask();Ext.field.Input.prototype.updateInputValue.call(this,d,c);a.syncEmptyState();a.syncLabelPlaceholder(!1);if(b){b.onChange(this,d,c)}},updateTextAlign:function(a,b){var c=this.element;if(b){c.removeCls('x-text-align-'+b)}if(a){c.addCls('x-text-align-'+a)}},updatePlaceholder:function(a){this.setInputAttribute('placeholder',a)},updateMaxLength:function(a){this.setInputAttribute('maxlength',a)},applyAutoComplete:function(a){return a===!0||a==='on'},updateAutoComplete:function(a){this.setInputAttribute('autocomplete',a?'on':'off')},applyAutoCapitalize:function(a){return a===!0||a==='on'},updateAutoCapitalize:function(a){this.setInputAttribute('autocapitalize',a?'on':'off')},applyAutoCorrect:function(a){return a===!0||a==='on'},updateAutoCorrect:function(a){this.setInputAttribute('autocorrect',a?'on':'off')},updateReadOnly:function(c){var b=this,e=b.getTriggers(),f=b.getEditable(),d,a;Ext.field.Input.prototype.updateReadOnly.call(this,c||!f);for(d in e){a=e[d];if(a.disableOnReadOnly!==!1){a.setDisabled(c)}}b.syncEmptyState()},updateEditable:function(d){var b=this.getTriggers(),e=this.getReadOnly(),a,c;this.updateReadOnly(!d);for(a in b){c=b[a];if(c.disableOnReadOnly!==!1){b[a].setDisabled(e)}}},updatePattern:function(a){this.setInputAttribute('pattern',a)},updateDisabled:function(b,d){var c=this.getTriggers(),a;Ext.field.Input.prototype.updateDisabled.call(this,b,d);for(a in c){c[a].setDisabled(b)}this.syncEmptyState()},updateClearable:function(d,e){var a=this,c,b;if(!a.isConfiguring){c=a.getTriggers();b=c&&c.clear;if(d){if(!b){a.addTrigger('clear','clear')}}else if(b){a.removeTrigger('clear')}}},applyTriggers:function(e,g){var f=this,c=g||{},h=f.getClearable(),a,d,b;for(a in e){d=e[a];b=c[a];if(b){b.destroy()}if(d){if(!h&&a==='clear'){continue}c[a]=f.createTrigger(a,d)}}return c},updateTriggers:function(){this.syncTriggers()},addTrigger:function(d,a){var b=this,e=b.getTriggers(),c;a=b.createTrigger(d,a);if(e){e[d]=a;b.syncTriggers()}else {c={};c[d]=a;b.setTriggers(c)}return a},removeTrigger:function(a,e){var f=this,d=f.getTriggers(),b=a,c;if(b.isTrigger){b=a.getName()}else {a=d[b]}delete d[b];if(e!==!1){a.destroy()}else {c=a.el.dom;c.parentNode.removeChild(c)}this.syncTriggers();return a},fireKey:function(a){if(a.isSpecialKey()){this.fireEvent('specialkey',this,a)}},onKeyPress:function(b){var a=this,c=a.getInputMask();if(c){c.onKeyPress(a,a.getValue(),b)}a.fireEvent('keypress',a,b);if(!Ext.supports.SpecialKeyDownRepeat){a.fireKey(b)}},onKeyDown:function(b){var a=this,c=a.getInputMask();a.lastKeyTime=Date.now();if(c){c.onKeyDown(a,a.getValue(),b)}a.ignoreInput=!0;if(Ext.supports.SpecialKeyDownRepeat){a.fireKey(b)}a.fireAction('keydown',[a,b],'doKeyDown')},doKeyDown:Ext.emptyFn,onKeyUp:function(a){this.fireAction('keyup',[this,a],'doKeyUp')},doKeyUp:function(a,b){a.syncEmptyState();if(b.browserEvent.keyCode===13){a.fireAction('action',[a,b],'doAction')}},onInput:function(g){var a=this,f=a.inputElement.dom,b=f.value,d=a.getInputMask(),c,e;if(d){d.processAutocomplete(this,b);b=f.value}a._inputValue=b;if(!a.hasFocus&&a.getLabelAlign()==='placeholder'){a.syncLabelPlaceholder(!0)}if(b){c=[];b=a.parseValue(b,c)}if(c&&c.length){a.setError(c)}else {e=a.getValue();a.setValue(b);if(a.getValue()===e){a.validate()}}a.syncEmptyState();if(a.ignoreInput){a.ignoreInput=!1;return}Ext.defer(function(){if(!a.ignoreInput&&!a.destroyed){a.fireEvent('keyup',g);a.ignoreInput=!1}},10)},doAction:function(){if(document.documentElement.getBoundingClientRect().top<0){this.blur()}},onClearIconTap:function(a,b){this.fireAction('clearicontap',[this,a,b],'doClearIconTap')},doClearIconTap:function(){this.clearValue()},onFocusEnter:function(c){var a=this,b=a.getInputMask();Ext.field.Input.prototype.onFocusEnter.call(this,c);a.addCls(a.focusedCls);a.syncLabelPlaceholder(!0);if(b){b.onFocus(a,a.getValue())}},onFocusLeave:function(c){var a=this,b=a.getInputMask();Ext.field.Input.prototype.onFocusLeave.call(this,c);a.removeCls(a.focusedCls);a.syncLabelPlaceholder(!0);if(b){b.onBlur(a,a.getValue())}},onPaste:function(a){this.forceInputChange=!0;this.handlePaste(a);this.forceInputChange=!1},getCaretPos:function(){return this.inputElement.getCaretPos()},setCaretPos:function(a){this.inputElement.setCaretPos(a)},getTextSelection:function(){return this.inputElement.getTextSelection()},select:function(b,c,a){if(this.containsFocus){this.inputElement.selectText(b,c,a)}return this},reset:function(){Ext.field.Input.prototype.reset.call(this);this.syncEmptyState()},onClick:function(a){this.fireEvent('click',a)},onMouseDown:function(a){this.fireEvent('mousedown',a)},trimValueToMaxLength:function(){var b=this,a=b.getMaxLength(),c=b.getValue();if(a&&c.length>a){b.setValue(c.slice(0,a))}},doDestroy:function(){var a=this,e=a.getTriggers(),c=a.triggerGroups,b,d;d=a.labelElement&&a.labelElement.getActiveAnimation();if(d){d.stop()}if(c){for(b in c){c[b].destroy()}a.triggerGroups=null}for(b in e){e[b].destroy()}a.setTriggers(null);a.setInputMask(null);Ext.field.Input.prototype.doDestroy.call(this)},onRender:function(){(arguments.callee.$previous||Ext.field.Input.prototype.onRender).call(this);this.syncLabelPlaceholder()},onPlaceholderAutoFill:function(b){var a=this;if(b.browserEvent.animationName==='onAutoFillStart'){a._animPlaceholderLabel=!0;a.setLabelInPlaceholder(!1);a.inputElement.removeListener('animationstart',a.onPlaceholderAutoFill,a)}},getRefItems:function(e){var f=this,d=f.getTriggers(),b=[],c,a;for(c in d){a=d[c];b.push(a);if(e&&a.getRefItems){b.push.apply(b,a.getRefItems(e))}}return b},privates:{focusedInputDelay:300,forceInputChange:!1,hasMask:!1,lastKeyTime:0,applyParseValidator:function(a){return this.decodeValidator(a)},updateLabelInPlaceholder:function(b){var a=this,c=a.getPlaceholder()||'',d=a._animPlaceholderLabel;if(a.getLabelAlign()!=='placeholder'||!a.getLabel()){a.clearWhenVisible('doPositionPlaceholder');a.setInputAttribute('placeholder',c);return}a.whenVisible('doPositionPlaceholder',[b,d]);a.el.toggleCls('x-label-inside',b)},updateAnimateUnderline:function(a){this.toggleCls('x-animate-underline',a)},canSetInputValue:function(){var a=this;return a.hasMask||a.forceInputChange||!a.hasFocus||Date.now()-a.lastKeyTime>a.focusedInputDelay},doPositionPlaceholder:function(h,i){var b=this,c=b.labelElement,g,f,a,e,d;f=c.getActiveAnimation();if(f){f.stop()}a=b.lastPlaceholderAnimInfo;if(!a){b.lastPlaceholderAnimInfo=a=b.getPlaceholderAnimInfo()}e=a.inside;d=a.outside;g={from:h?d:e,to:h?e:d,preserveEndState:!0,duration:250,easing:'ease-out'};if(i){c.animate(g)}else {c.setStyle(g.to)}},getPlaceholderLabel:function(){var b=this,a=b.getLabel();if(a&&b.getRequired()){a+=' '+b.requiredIndicator}return a},getPlaceholderAnimInfo:function(){var c=this,f=c.element,b=c.labelElement,a=c.inputElement,e=b.getOffsetsTo(f),d=a.getOffsetsTo(f),h=b.getPadding('l'),g=a.getPadding('l'),j=b.getPadding('t'),i=a.getPadding('t'),k=d[0]-e[0]+(g-h),l=d[1]-e[1]+(i-j);return {inside:{transform:{translateX:k+'px',translateY:l+'px'},'font-size':a.getStyle('font-size')},outside:{transform:{translateX:'0px',translateY:'0px'},'font-size':b.getStyle('font-size')}}},handlePaste:function(c){var a=this,b=a.getInputMask();if(b){b.onPaste(a,a.getValue(),c)}a.fireEvent('paste',a,c)},createTrigger:function(b,a){if(!a.isTrigger){if(a===!0){a={type:b}}else if(typeof a==='string'){a={type:a}}a=Ext.apply({name:b,field:this},a);a=a.xtype?Ext.create(a):Ext.Factory.trigger(a)}return a},syncLabelPlaceholder:function(c){var a=this,b;a._animPlaceholderLabel=c;if(a.rendered){if(a.hasValue()){b=!1}else {b=!a.hasFocus||a.getDisabled()||a.getReadOnly()}a.setLabelInPlaceholder(b)}a._animPlaceholderLabel=!1},hasValue:function(){return this.inputElement&&this.inputElement.dom.value},processRawValue:function(c){var e=this,a=e.stripCharsRe,d,b;if(a){if(!a.global){d='g';d+=a.ignoreCase?'i':'';d+=a.multiline?'m':'';a=new RegExp(a.source,d)}b=c.replace(a,'');if(b!==c){if(!e.transformRawValue.$nullFn){b=e.transformRawValue(b)}e.inputElement.dom.value=b;c=b}}return c},syncTriggers:function(){var i=this,l=i.getTriggers(),n=i.beforeInputElement,o=i.afterInputElement,h=i.triggerGroups||(i.triggerGroups={}),f=[],g=[],e={},j=Ext.field.trigger['Base'],m,d,b,a,c,k;for(m in l){d=l[m];b=d.getGroup();if(b){(e[b]||(e[b]=[])).push(d)}else if(d.getSide()==='left'){f.push(d)}else {g.push(d)}}for(b in e){a=h[b];if(!a){a=l[b];if(!a){a=new j()}h[b]=a}a.setTriggers(j.sort(e[b]));if(a.getSide()==='left'){f.push(a)}else {g.push(a)}}j.sort(f);j.sort(g);for(c=0,k=f.length;c<k;c++){n.appendChild(f[c].element)}for(c=0,k=g.length;c<k;c++){o.appendChild(g[c].element)}for(b in h){if(!(b in e)){a=h[b];a.setTriggers(null);a.destroy();delete h[b]}}},syncEmptyState:function(){var a=this,e=a.getTriggers(),d=a.getInputMask(),b=e&&e.clear,f=a.inputElement.dom.value,c;a.toggleCls(a.emptyCls,!f);if(b){if(a.getClearable()){if(a.hasValue()&&!a.getDisabled()&&!a.getReadOnly()){c=!0}if(d){if(f===d._mask){c=!1}}}if(c){b.show()}else {b.hide()}}}},deprecated:{'6.5':{configs:{placeHolder:'placeholder',clearIcon:'clearable'},methods:{getPlaceHolder:'getPlaceholder',setPlaceHolder:'setPlaceholder'}}}},0,['textfield'],['widget','component','field','inputfield','textfield'],{'widget':!0,'component':!0,'field':!0,'inputfield':!0,'textfield':!0},['widget.textfield'],0,[Ext.field,'Text',Ext.form,'Text'],function(){if(Ext.os.is.Android){window.addEventListener('resize',function(){var c=document.activeElement,d=c&&c.tagName,b,a;if(d==='INPUT'||d==='TEXTAREA'){b=Ext.Component.from(c);a=b&&b.element&&b.element.dom;if(a){if(a.scrollIntoViewIfNeeded){a.scrollIntoViewIfNeeded()}else {a.scrollIntoView()}}}})}});Ext.define('Ext.theme.material.field.Text',{override:'Ext.field.Text',config:{labelAlign:'placeholder',animateUnderline:!0}});Ext.cmd.derive('Ext.Editor',Ext.Container,{isEditor:!0,config:{field:{xtype:'textfield'}},floated:!0,allowBlur:!0,revertInvalid:!0,hideEl:!0,value:'',alignment:'c-c?',offset:[0,0],shadow:'frame',constrain:!1,swallowKeys:!0,completeOnEnter:!0,cancelOnEsc:!0,cancelOnClear:!1,updateEl:!1,focusOnToFront:!1,baseCls:'x-editor',editing:!1,preventDefaultAlign:!0,useBoundValue:!0,specialKeyDelay:1,matchFont:!1,getLocation:Ext.emptyFn,beforeEdit:function(b,a){return this.fireEvent('beforestartedit',this,b,a,this.getLocation())},applyField:function(a){return Ext.widget(a)},updateField:function(b,c){var a=this,d;if(c){a.remove(c,!0);c.un({specialkey:'onSpecialKey',clearicontap:'onFieldClear',scope:this});a._fieldSwallower=Ext.destroy(a._fieldSwallower)}if(b){d=b.inputElement;a.add(b);b.on({specialkey:'onSpecialKey',clearicontap:'onFieldClear',scope:this});if(a.swallowKeys){a._fieldSwallower=d.swallowEvent(['keypress','keydown'])}}},onAdded:function(a){this.ownerCmp=a;Ext.Container.prototype.onAdded.apply(this,arguments)},onSpecialKey:function(g,b){var a=this,e=b.getKey(),d=a.completeOnEnter&&e===b.ENTER,f=a.cancelOnEsc&&e===b.ESC,c=a.specialKeyTask;if(!b.fromBoundList&&(d||f)){b.stopEvent();if(!c){a.specialKeyTask=c=new Ext.util.DelayedTask()}c.delay(a.specialKeyDelay,d?a.completeEdit:a.cancelEdit,a)}a.fireEvent('specialkey',a,g,b)},startEdit:function(b,d,g){var a=this,c=a.getField(),f,e;if(!a.allowBlur&&a.editing){a.toggleBoundEl(!0)}a.completeEdit(!0);a.boundEl=b=Ext.get(b);f=a.boundEl.dom;if(a.useBoundValue&&!Ext.isDefined(d)){d=Ext.String.trim(f.textContent||f.innerText||f.innerHTML)}if(a.beforeEdit(b,d)!==!1){if(a.context){d=a.context.value}if(a.matchFont){e=b.getStyle('font');if(!e){e=b.getStyle('fontWeight')+' '+b.getStyle('fontSize')+'/'+b.getStyle('lineHeight')+' '+b.getStyle('fontFamily')}c.inputElement.setStyle('font',e)}a.startValue=d;a.show();if(!a.getFloated()){a.setTop(0)}a.realign();c.suspendEvents();c.setValue(d);c.resetOriginalValue();c.resumeEvents();if(g!==!1){c.focus(c.selectOnFocus?!0:[Number.MAX_VALUE])}a.toggleBoundEl(!1);a.editing=!0}},realign:function(){var a=this;a.setConstrainAlign(Ext.getBody().getConstrainRegion());a.alignTo(a.boundEl,a.alignment,{offset:a.offset})},completeEdit:function(c,d){var a=this,f=a.getField(),e=a.startValue,g=a.context&&a.context.cancel,b;if(!a.editing){return}b=a.getValue();if(!f.isValid()||!f.validate()){if(a.revertInvalid!==!1){a.cancelEdit(c,d)}return}if(a.ignoreNoChange&&!f.didValueChange(b,e)){a.onEditComplete(c,!1,d);return}if(a.fireEvent('beforecomplete',a,b,e,a.getLocation())!==!1){b=a.getValue();if(a.updateEl&&a.boundEl){a.boundEl.setHtml(b)}a.onEditComplete(c,g,d);a.fireEvent('complete',a,b,e,a.getLocation())}},afterShow:function(){var a=this;(arguments.callee.$previous||Ext.Container.prototype.afterShow).call(this);a.fireEvent('startedit',a,a.boundEl,a.startValue,a.getLocation())},onFieldClear:function(){if(this.cancelOnClear){this.cancelEdit()}},cancelEdit:function(e,f){var a=this,c=a.startValue,b=a.getField(),d;if(a.editing){if(b){d=a.editedValue=a.getValue();b.suspendEvents();a.setValue(c);b.resumeEvents()}a.onEditComplete(e,!0,f);a.fireEvent('canceledit',a,d,c);delete a.editedValue}},onEditComplete:function(b){var a=this,c=a.getField();a.editing=!1;if(!b){a.hide();a.toggleBoundEl(!0)}c.inputElement.setStyle('font',null)},onFocusLeave:function(b){var a=this;if(a.allowBlur===!0&&a.editing){a.completeEdit()}Ext.Container.prototype.onFocusLeave.call(this,b)},updateHidden:function(c,d){var a=this,b;if(c&&!a.destroying){b=a.getField();if(a.editing){a.completeEdit()}else if(b.collapse){b.collapse()}}Ext.Container.prototype.updateHidden.call(this,c,d)},getValue:function(){var a=this.getField();return a.getValue()},setValue:function(b){var a=this.getField();a.setValue(b)},toggleBoundEl:function(a){if(this.hideEl){this.boundEl.setVisibilityMode(Ext.Element.VISIBILITY);this.boundEl.setVisible(a)}},doDestroy:function(){var b=this,a=b.specialKeyTask;if(a){a.cancel()}Ext.Container.prototype.doDestroy.call(this)}},0,['editor'],['widget','component','container','editor'],{'widget':!0,'component':!0,'container':!0,'editor':!0},['widget.editor'],0,[Ext,'Editor'],0);Ext.cmd.derive('Ext.Img',Ext.Component,{alternateClassName:'Ext.Image',config:{src:null,imageCls:'x-img-image',backgroundCls:'x-img-background',mode:'background'},baseCls:'x-img',beforeInitialize:function(){var a=this;a.onLoad=a.onLoad.bind(a);a.onError=a.onError.bind(a)},initialize:function(){var a=this;Ext.Component.prototype.initialize.call(this);a.relayEvents(a.renderElement,'*');a.element.on({tap:'onTap',scope:a})},hide:function(){var a=this;Ext.Component.prototype.hide.apply(this,arguments);a.hiddenSrc=a.hiddenSrc||a.getSrc();if(!a.isDestroying){a.setSrc(null)}},afterShow:function(){(arguments.callee.$previous||Ext.Component.prototype.afterShow).call(this);if(this.hiddenSrc){this.setSrc(this.hiddenSrc);delete this.hiddenSrc}},updateMode:function(d){var a=this,c=a.getImageCls(),b=a.getBackgroundCls();if(d==='background'){if(a.imageElement){a.imageElement.destroy();delete a.imageElement;a.updateSrc(a.getSrc())}a.replaceCls(c,b)}else {a.imageElement=a.element.createChild({tag:'img'});a.replaceCls(b,c)}},updateImageCls:function(a,b){this.replaceCls(b,a)},updateBackgroundCls:function(a,b){this.replaceCls(b,a)},onTap:function(a){this.fireEvent('tap',this,a)},applySrc:function(a){return a&&Ext.resolveResource(a)},updateSrc:function(c){var b=this,a;if(b.getMode()==='background'){a=this.imageObject||new Image()}else {a=b.imageElement.dom}this.imageObject=a;a.setAttribute('src',Ext.isString(c)?c:'');a.addEventListener('load',b.onLoad,!1);a.addEventListener('error',b.onError,!1)},detachListeners:function(){var a=this.imageObject;if(a){a.removeEventListener('load',this.onLoad,!1);a.removeEventListener('error',this.onError,!1)}},onLoad:function(a){this.detachListeners();if(this.getMode()==='background'){this.element.dom.style.backgroundImage='url("'+this.imageObject.src+'")'}this.fireEvent('load',this,a)},onError:function(a){this.detachListeners();if(this.getMode()==='background'){this.element.dom.style.backgroundImage='url("'+this.imageObject.src+'")'}this.fireEvent('error',this,a)},updateWidth:function(b){var a=this.getMode()==='background'?this.element:this.imageElement;a.setWidth(b);Ext.Component.prototype.updateWidth.apply(this,arguments)},updateHeight:function(b){var a=this.getMode()==='background'?this.element:this.imageElement;a.setHeight(b);Ext.Component.prototype.updateHeight.apply(this,arguments)},doDestroy:function(){var a=this;a.detachListeners();a.imageObject=a.imageElement=Ext.destroy(a.imageObject,a.imageElement);Ext.Component.prototype.doDestroy.call(this)}},0,['image','img'],['widget','component','image','img'],{'widget':!0,'component':!0,'image':!0,'img':!0},['widget.image','widget.img'],0,[Ext,'Img',Ext,'Image'],0);Ext.cmd.derive('Ext.Label',Ext.Component,{baseCls:'x-label'},0,['label'],['widget','component','label'],{'widget':!0,'component':!0,'label':!0},['widget.label'],0,[Ext,'Label'],0);Ext.cmd.derive('Ext.LoadMask',Ext.Mask,{config:{message:'Loading...',cls:'x-loading-mask',messageCls:'x-mask-message',indicator:!0},getTemplate:function(){var a='x-';return [{reference:'innerElement',cls:a+'mask-inner',children:[{reference:'indicatorElement',cls:a+'loading-spinner-outer',children:[{cls:a+'loading-spinner',children:[{tag:'span',cls:a+'loading-top'},{tag:'span',cls:a+'loading-right'},{tag:'span',cls:a+'loading-bottom'},{tag:'span',cls:a+'loading-left'}]}]},{reference:'messageElement'}]}]},updateMessage:function(a){var b='x-has-message';if(a){this.addCls(b)}else {this.removeCls(b)}this.messageElement.setHtml(a)},updateMessageCls:function(a,b){this.messageElement.replaceCls(b,a)},updateIndicator:function(a){this[a?'removeCls':'addCls']('x-indicator-hidden')}},0,['loadmask'],['widget','component','mask','loadmask'],{'widget':!0,'component':!0,'mask':!0,'loadmask':!0},['widget.loadmask'],0,[Ext,'LoadMask'],0);Ext.define('App.overrides.LoadMask',{override:'Ext.LoadMask',config:{message:''}});Ext.cmd.derive('Ext.field.TextArea',Ext.field.Text,{alternateClassName:'Ext.form.TextArea',config:{autoCapitalize:!1,maxRows:null,clearable:!1},tag:'textarea',classCls:'x-textareafield',updateMaxRows:function(a){this.setInputAttribute('rows',a)},doKeyUp:function(a){this.syncEmptyState()}},0,['textareafield'],['widget','component','field','inputfield','textfield','textareafield'],{'widget':!0,'component':!0,'field':!0,'inputfield':!0,'textfield':!0,'textareafield':!0},['widget.textareafield'],0,[Ext.field,'TextArea',Ext.form,'TextArea'],0);Ext.cmd.derive('Ext.MessageBox',Ext.Dialog,{config:{iconCls:null,defaultTextHeight:75,buttons:null,message:null,prompt:null,layout:{type:'vbox',pack:'center'},multiLine:null},classCls:'x-messagebox',closeAction:'hide',headerCls:['x-dialogheader','x-messageboxheader'],titleCls:['x-dialogtitle','x-messageboxtitle'],toolCls:['x-paneltool','x-dialogtool','x-messageboxtool'],statics:{INFO:'x-msgbox-info',WARNING:'x-msgbox-warning',QUESTION:'x-msgbox-question',ERROR:'x-msgbox-error',OK:{ok:'me.onClick'},YES:{yes:'me.onClick'},NO:{no:'me.onClick'},CANCEL:{cancel:'me.onClick'},OKCANCEL:{ok:'me.onClick',cancel:'me.onClick'},YESNOCANCEL:{yes:'me.onClick',no:'me.onClick',cancel:'me.onClick'},YESNO:{yes:'me.onClick',no:'me.onClick'}},constructor:function(a){var d=['ui','showAnimation','hideAnimation','title','message','prompt','iconCls','buttons','defaultTextHeight'],e,b,c;a=a||{};if(a.hasOwnProperty('multiline')||a.hasOwnProperty('multiLine')){a.prompt=a.prompt||{};Ext.applyIf(a.prompt,{multiLine:a.multiline||a.multiLine});delete a.multiline;delete a.multiLine}this.defaultAllowedConfig={};e=d.length;for(b=0;b<e;b++){c=d[b];this.defaultAllowedConfig[c]=this.defaultConfig[c]}Ext.Dialog.prototype.constructor.call(this,a)},applyTitle:function(a){if(typeof a==='string'){return a}return a.title},updateTitle:function(b){var a=this.getHeader()||{};if(Ext.isSimpleObject(a)){a.title=b;this.setHeader(a)}else if(Ext.isFunction(a.setTitle)){a.setTitle(b)}},applyMessage:function(a){a={html:a,cls:this.baseCls+'-text'};return Ext.factory(a,Ext.Component,this._message)},updateMessage:function(a){if(a){this.add(a)}},getMessage:function(){if(this._message){return this._message.getHtml()}return null},applyIconCls:function(a){if(a){a={xtype:'component',docked:'left',width:40,height:40,hidden:a?!1:!0,cls:'x-icon '+a};return Ext.factory(a,Ext.Component,this._iconCls)}return a},updateIconCls:function(a,b){this.getTitle();this.getButtons();if(a){this.add(a)}else {this.remove(b)}},getIconCls:function(){var b=this._iconCls,a;if(b){a=b.getCls();return a?a[0]:null}return null},applyPrompt:function(b){var a;if(b){a={label:!1};if(Ext.isObject(b)){Ext.apply(a,b)}if(a.multiLine){a.height=Ext.isNumber(a.multiLine)?parseFloat(a.multiLine):this.getDefaultTextHeight();return Ext.factory(a,Ext.field['TextArea'],this.getPrompt())}else {return Ext.factory(a,Ext.field['Text'],this.getPrompt())}}return b},updatePrompt:function(b,a){if(b){this.add(b)}if(a&&!a.destroyed){this.remove(a)}},onClick:function(a){var b=this,d=b.msgBoxOptions,c=b.getPrompt(),f=d.fn,e;if(a){if(typeof f==='function'){a.disable();c=c?c.getValue():null;e=a.getItemId()||a.getText();b.on({single:!0,hiddenchange:function(){f.call(d.scope||b,e,c,d);a.enable()}})}}b.hide()},show:function(c,f){var b=this,e,a,d;Ext.util.InputBlocker.blockInputs();if(!c){return Ext.Dialog.prototype.show.apply(this,arguments)}a=Ext.apply({buttons:Ext.MessageBox.OK,draggable:!1,prompt:null,defaultFocus:null},c);if(a.multiLine){a.prompt=a.prompt||{};a.prompt.multiLine=a.multiLine;delete a.multiLine}delete a.value;delete a.fn;delete a.scope;a=Ext.merge({},b.defaultAllowedConfig,a);b.setConfig(a);b.msgBoxOptions=c;e=b.getButtons();e.items.each(function(a){var d;if(a.isButton){d=a.getScope();if(a.fn&&d){a.fn=a.fn.bind(d)}d=a.getHandler();if(!d||d==='me.onClick'){a.setHandler('onClick');a.setScope(b)}}});d=b.getPrompt();if(d){d.setValue(c.value||'')}Ext.Dialog.prototype.show.call(this,null,f);return b},alert:function(d,c,b,a){return this.show({title:d||null,message:c||null,buttons:Ext.MessageBox.OK,defaultFocus:'#ok',prompt:!1,fn:function(){if(b){Ext.callback(b,a,arguments)}},scope:a})},confirm:function(d,c,b,a){return this.show({title:d||null,message:c||null,buttons:Ext.MessageBox.YESNO,defaultFocus:'#yes',prompt:!1,scope:a,fn:function(){if(b){Ext.callback(b,a,arguments)}}})},prompt:function(f,d,b,a,c,g,e){return this.show({title:f||null,message:d||null,buttons:Ext.MessageBox.OKCANCEL,scope:a,prompt:e||!0,defaultFocus:'textfield',multiLine:c,value:g,fn:function(){if(b){Ext.callback(b,a,arguments)}}})}},1,['messagebox'],['widget','component','container','panel','dialog','window','messagebox'],{'widget':!0,'component':!0,'container':!0,'panel':!0,'dialog':!0,'window':!0,'messagebox':!0},['widget.messagebox'],0,[Ext,'MessageBox'],function(a){Ext.onInternalReady(function(){Ext.Msg=new Ext.MessageBox({id:'ext-messagebox'})})});Ext.cmd.derive('Ext.SegmentedButton',Ext.Container,{alternateClassName:'Ext.button.Segmented',isSegmentedButton:!0,classCls:'x-segmentedbutton',config:{allowMultiple:!1,allowDepress:!1,allowToggle:!0,forceSelection:!1,pressedButtons:null,defaultType:'button',defaultUI:'segmented',value:undefined,vertical:!1},defaults:{flex:'1 1 auto'},autoSize:null,layout:{type:'box',vertical:!1,align:'stretch'},defaultBindProperty:'value',twoWayBindable:'value',publishes:'value',constructor:function(a){this.valueMap={};Ext.Container.prototype.constructor.call(this,a)},initialize:function(){var a=this;Ext.Container.prototype.initialize.call(this);a.onAfter({delegate:'> button',scope:a,hide:'onButtonHiddenChange',show:'onButtonHiddenChange'})},applyPressedButtons:function(b){var a=b,e,c,d;b=[];if(a){a=Ext.Array.from(a);e=a&&a.length;for(c=0;c<e;++c){d=this.getComponent(a[c]);if(d){b.push(d)}}}return b},updatePressedButtons:function(a){this.setValue(a)},getPressedButtons:function(){var c=this.getItems().items,e=c.length,d=[],a,b;for(a=0;a<e;++a){b=c[a];if(b.getPressed()){d.push(b)}}return d},applyValue:function(a,j){var b=this,g=b.getItems(),e=b.getAllowMultiple(),c,d,i,h,f;if(b.isConfiguring){if(a==null){c=[];i=g.length;for(d=0;d<i;d++){h=g.getAt(d);if(h.isPressed()){f=b.getButtonValue(h);if(!Ext.Array.contains(c,f)){c.push(f)}}}a=c}else {a=Ext.Array.from(a)}}else {a=Ext.Array.from(a)}a=e?b.sortValues(a):a[0];if((e?!a.length:a==null)&&b.getForceSelection()){a=b.getButtonValue(g.getAt(0));if(e){a=[a]}}return Ext.isDefined(a)?a:null},updateValue:function(i,h){var b=this,d=[],f=Ext.Array.from(i),g=Ext.Array.from(h),c,a,e;b.settingValue=!0;if(g.length){e=g.length;for(a=0;a<e;a++){c=b.lookupButtonByValue(g[a]);if(!Ext.Array.contains(f,g[a])){c.setPressed(!1);d.push(c)}}}if(f.length){e=f.length;for(a=0;a<e;a++){c=b.lookupButtonByValue(f[a]);if(!Ext.Array.contains(g,f[a])){c.setPressed(!0);d.push(c)}}}if(!b.isConfiguring){if(b.hasListeners.toggle){e=d.length;b.sortToggleItems(d);for(a=0;a<e;a++){c=d[a];b.fireEvent('toggle',b,c,c.getPressed())}}if(b.hasListeners.change){d=b.getAllowMultiple()?!Ext.Array.equals(i,h):i!==h;if(d){b.fireEvent('change',b,i,h)}}}b.settingValue=!1},updateAllowMultiple:function(a){if(!this.initialized&&!this.getInitialConfig().hasOwnProperty('allowDepress')&&a){this.setAllowDepress(!0)}},updateVertical:function(a){var d=this,c='x-vertical',b='x-horizontal';d.replaceCls(a?b:c,a?c:b);d.getLayout().setVertical(a)},onItemAdd:function(a,e){var b=this,c=b.getDefaultUI(),d=a.getValue();b.getAllowMultiple();if(c&&a.getUi()==null){a.setUi(c)}if(d!==null){b.valueMap[d]=a;b.useValueMap=!0}a.$segmentedListeners=a.on({scope:b,beforepressedchange:'onBeforePressedChange',pressedchange:'onPressedChange',order:'before',destroyable:!0});Ext.Container.prototype.onItemAdd.call(this,a,e);b.updateFirstAndLastCls(b.getItems());a.$enableToggle=a.getEnableToggle();a.$allowDepress=a.getAllowDepress();a.setEnableToggle(b.getAllowToggle());a.setAllowDepress(b.getAllowDepress())},onItemRemove:function(a,d,j){var b=this,g=a.getValue(),h=b.useValueMap,i=a.$segmentedListeners,f,c,e;Ext.Container.prototype.onItemRemove.call(this,a,d,j);if(!b.destroying){if(i){i.destroy()}b.updateFirstAndLastCls(this.getItems());if(h){delete b.valueMap[g]}else {g=d}if(a.getPressed()){f=b.getValue();if(b.getAllowMultiple()){d=f.indexOf(g);c=f.slice();if(!h){for(e=c.length-1;e>d;--e){--c[e]}}c.splice(d,1)}else {c=null}b.setValue(c)}a.setEnableToggle(a.$enableToggle);a.setAllowDepress(a.$allowDepress)}a.$segmentedListeners=null},isPressed:function(a){return a.getPressed()},updateDisabled:function(a,c){var b=this;b.items.each(function(b){b.setDisabled(a)},b);Ext.Container.prototype.updateDisabled.call(this,a,c)},updateDefaultUI:function(d){var c=this.items&&this.items.items,e=c.length,a,b;for(a=0;a<e;a++){b=c[a];if(b.getUi()==null){b.setUi(d)}}},doDestroy:function(){this.valueMap=null;Ext.Container.prototype.doDestroy.call(this)},privates:{getAllPressed:function(b){var f={},g=this.pressingItem,e,c,a,d;b=b.items;e=b.length;for(c=0;c<e;++c){a=b[c];if(a===g){d=!a.getPressed()}else {d=a.getPressed()}if(d){f[a.id]=a}}return f},lookupButtonByValue:function(a){return this.useValueMap?this.valueMap[a]:this.getItems().getAt(a)},getButtonValue:function(b){var a;if(this.useValueMap){a=b.getValue()}if(a==null){a=this.getItems().indexOf(b)}return a},onBeforePressedChange:function(d,c){var b=this.getValue(),a;if(this.getForceSelection()&&!c){if(this.getAllowMultiple()){a=b.length===1}else if(b===this.getButtonValue(d)){a=!1}}return a},onPressedChange:function(g,h){var b,f,d,c,a,e;if(this.settingValue){return}b=this;f=Ext.Array;d=b.getAllowMultiple();c=b.getButtonValue(g);a=b.getValue();if(d){e=f.indexOf(a,c)}if(h){if(d){if(e===-1){a=f.slice(a);a.push(c)}}else {a=c}}else {if(d){if(e>-1){a=f.slice(a);a.splice(e,1)}}else if(a===c){a=null}}b.pressingItem=g;b.setValue(a);b.pressingItem=null},onButtonHiddenChange:function(){this.updateFirstAndLastCls(this.getItems())},sortToggleItems:function(b){var a=this.getItems();Ext.Array.sort(b,function(d,e){var f=d.getPressed()?1:0,g=e.getPressed()?1:0,c=f-g;if(c===0){c=a.indexOf(d)-a.indexOf(e)}return c})},sortValues:function(a){var d=Ext.Array.numericSortFn,c=this.valueMap,b=this.getItems();a=Ext.Array.clone(a);if(this.useValueMap){d=function(d,e){d=b.indexOf(c[d]);e=b.indexOf(c[e]);return d-e}}Ext.Array.sort(a,d);return a},updateFirstAndLastCls:function(c){var d=c.length,e='x-',f=e+'first',g=e+'last',b,a;for(a=0;a<d;a++){b=c.items[a];b.removeCls(f);b.removeCls(g)}for(a=0;a<d;a++){b=c.items[a];if(!b.isHidden()){b.addCls(f);break}}for(a=d-1;a>=0;a--){b=c.items[a];if(!b.isHidden()){b.addCls(g);break}}}}},1,['segmentedbutton'],['widget','component','container','segmentedbutton'],{'widget':!0,'component':!0,'container':!0,'segmentedbutton':!0},['widget.segmentedbutton'],0,[Ext,'SegmentedButton',Ext.button,'Segmented'],0);Ext.cmd.derive('Ext.TitleBar',Ext.Container,{defaultBindProperty:'title',isToolbar:!0,classCls:'x-titlebar',inheritUi:!0,config:{cls:'x-navigation-bar',title:null,titleAlign:'center',defaultType:'button',defaultButtonUI:null,minHeight:null,layout:{type:'hbox',align:'center'},items:[],maxButtonWidth:'40%'},autoSize:null,border:!1,beforeInitialize:function(){this.applyItems=this.applyInitialItems},initialize:function(){var a=this;Ext.Container.prototype.initialize.call(this);delete a.applyItems;a.add(a.initialItems);delete a.initialItems;a.on({scope:a,painted:'refreshTitlePosition',single:!0})},applyInitialItems:function(d){var a=this,c=a.getTitleAlign(),b=a.getDefaults()||{};a.initialItems=d;a.leftBox=a.add({xtype:'container',style:'position: relative',cls:'x-titlebar-left',autoSize:null,layout:{type:'hbox',align:'center'},listeners:{resize:'refreshTitlePosition',scope:a}});a.spacer=a.add({xtype:'component',style:'position: relative',cls:'x-titlebar-center',flex:1,listeners:{resize:'refreshTitlePosition',scope:a}});a.rightBox=a.add({xtype:'container',style:'position: relative',cls:'x-titlebar-right',autoSize:null,layout:{type:'hbox',align:'center'},listeners:{resize:'refreshTitlePosition',scope:a}});switch(c){case 'left':a.titleComponent=a.leftBox.add({xtype:'title',cls:'x-title-align-left',hidden:b.hidden});a.refreshTitlePosition=Ext.emptyFn;break;case 'right':a.titleComponent=a.rightBox.add({xtype:'title',cls:'x-title-align-right',hidden:b.hidden});a.refreshTitlePosition=Ext.emptyFn;break;default:a.titleComponent=a.add({xtype:'title',hidden:b.hidden,centered:!0});break;}a.doAdd=a.doBoxAdd;a.remove=a.doBoxRemove;a.doInsert=a.doBoxInsert},doBoxAdd:function(b){var a=this,c=a.getTitleAlign();a.addDefaultButtonUI(b);if(b.config.align==='right'){a.rightBox.add(b)}else if(a.titleComponent&&c==='left'){a.leftBox.insertBefore(b,a.titleComponent)}else {a.leftBox.add(b)}},doBoxRemove:function(a,b){if(a.config.align==='right'){this.rightBox.remove(a,b)}else {this.leftBox.remove(a,b)}},doBoxInsert:function(c,a){var b=this;b.addDefaultButtonUI(a);if(a.config.align==='right'){b.rightBox.insert(c,a)}else {b.leftBox.insert(c,a)}},addDefaultButtonUI:function(a){var b=this.getDefaultButtonUI();if(b){if(a.isSegmentedButton){if(a.getDefaultUI()==null){a.setDefaultUI(b)}}else if(a.isButton&&a.getUi()==null){a.setUi(b)}}},calculateMaxButtonWidth:function(){var a=this.getMaxButtonWidth();if(Ext.isString(a)){a=parseInt(a.replace('%',''),10)}a=Math.round(this.element.getWidth()/100*a);return a},refreshTitlePosition:function(){var a,e,c,n,m,f,b,d,k,j,h,g,l,i;if(this.destroyed){return}a=this.titleComponent.renderElement;a.setWidth(null);a.setLeft(null);e=this.leftBox;c=e.down('button');n=e.getItems().getCount()===1;if(c&&n){if(c.getWidth()==null){c.renderElement.setWidth('auto')}m=e.renderElement.getWidth();f=this.calculateMaxButtonWidth();if(m>f){c.renderElement.setWidth(f)}}b=this.spacer.renderElement.getBox();if(Ext.browser.is.IE){a.setWidth(b.width)}d=a.getBox();k=d.width-b.width;j=d.left;h=d.right;if(k>0){g=k/2;j+=g;h-=g;a.setWidth(b.width)}l=b.left-j;i=h-b.right;if(l>0){a.setLeft(l)}else if(i>0){a.setLeft(-i)}a.repaint()},updateTitle:function(a){this.getItems();this.titleComponent.setTitle(a);if(this.isPainted()){this.refreshTitlePosition()}}},0,['titlebar'],['widget','component','container','titlebar'],{'widget':!0,'component':!0,'container':!0,'titlebar':!0},['widget.titlebar'],0,[Ext,'TitleBar'],0);Ext.define('Ext.theme.neptune.Titlebar',{override:'Ext.TitleBar',config:{defaultButtonUI:'alt'}});Ext.define('Ext.theme.material.TitleBar',{override:'Ext.TitleBar',config:{titleAlign:'left',defaultButtonUI:'alt'}});Ext.cmd.derive('Ext.Toast',Ext.Sheet,{config:{alignment:'t-t',centered:!1,showAnimation:{type:'popIn',duration:250,easing:'ease-out'},hideAnimation:{type:'popOut',duration:250,easing:'ease-out'},zIndex:999,message:'',timeout:1000,maxQueue:3,messageAnimation:!0,hideOnMaskTap:!0,modal:!1,layout:{type:'vbox',pack:'center'}},classCls:'x-toast',applyMessage:function(b){var a={html:b,cls:this.baseCls+'-text'};return Ext.factory(a,Ext.Component,this._message)},updateMessage:function(a){if(a){this.add(a)}},startTimer:function(){var a=this.getTimeout();if(this._timeoutID){Ext.undefer(this._timeoutID)}if(!Ext.isEmpty(a)){this._timeoutID=Ext.defer(this.onTimeout.bind(this),a)}else {this.onTimeout()}},stopTimer:function(){Ext.undefer(this._timeoutID);this._timeoutID=null},next:Ext.emptyFn,getIsAnimating:function(){var a=this.getMessage();return a&&Ext.Animator.hasRunningAnimations(a)||Ext.Animator.hasRunningAnimations(this)},showToast:function(c){var a=this,e=c.message,f=c.timeout||this.getTimeout(),b=a.getMessage(),d=a.getMessageAnimation();if(a.isRendered()&&a.isHidden()===!1){b.onAfter({hiddenchange:function(){a.setMessage(e);a.setTimeout(f);b.onAfter({scope:a,hiddenchange:function(){a.startTimer()},single:!0});b.show(d)},scope:a,single:!0});b.hide(d)}else {Ext.util.InputBlocker.blockInputs();if(!a.getParent()&&Ext.Viewport){Ext.Viewport.add(a)}a.setMessage(e);a.setTimeout(f);a.startTimer();a.show({animation:null,alignment:{component:document.body,alignment:c.alignment||a.getAlignment(),options:{offset:[0,20]}}})}},beforeHide:function(a){(arguments.callee.$previous||Ext.Sheet.prototype.beforeHide).apply(this,arguments);if(this.getIsAnimating()){return !1}this.stopTimer();if(!this.next()){return !1}},onTimeout:function(){if(this._timeoutID!==null){this.hide()}},doDestroy:function(){this.stopTimer();Ext.Sheet.prototype.doDestroy.call(this)}},0,0,['widget','component','container','panel','sheet'],{'widget':!0,'component':!0,'container':!0,'panel':!0,'sheet':!0},0,0,[Ext,'Toast'],function(b){var a=[];function getInstance(){if(!Ext.Toast._instance){Ext.Toast._instance=Ext.create('Ext.Toast')}return Ext.Toast._instance}b.prototype.next=function(){var c=a.shift();if(c){this.showToast(c)}return !c};Ext.Toast.destroy=function(){if(Ext.Toast._instance){Ext.Toast._instance.destroy();Ext.Toast._instance=null}};Ext.toast=function(d,g){var c=getInstance(),f=Ext.Toast.prototype.config.maxQueue,e=d;if(Ext.isString(d)){e={message:d,timeout:g}}a.push(e);if(a.length>f){a.shift()}if(!c.isRendered()||c.isHidden()){c.next()}return c}});Ext.define('Ext.theme.material.Toast',{override:'Ext.Toast',config:{alignment:'b-b'}});Ext.cmd.derive('Ext.dataview.Location',Ext.Base,{isDataViewLocation:!0,isLocation:!0,child:null,event:null,item:null,record:null,recordIndex:-1,sourceElement:null,view:null,viewIndex:-1,constructor:function(b,a){this.view=b;if(a!=null){this.attach(a)}},attach:function(a){var c=this,f=c.view,g=f.store,e,b,d;if(a.isEvent){c.event=a;d=a.target}if(a.isElement||a.nodeType===1){d=a}c.source=a;if(a.isWidget){d=a.getFocusEl();a=a.element}if(typeof a==='number'){b=f.itemFromRecord(a);c.recordIndex=a;e=g&&g.getAt(a)}else {if(a.isModel){e=a}else {e=f.mapToRecord(a)}b=f.mapToItem(a);c.recordIndex=g?g.indexOf(e):-1}if(b&&!d){d=b.isWidget?b.getFocusEl():b}c.child=b;c.record=e;if(e&&b){c.item=b}if(b){c.viewIndex=f.mapToViewIndex(b)}c.sourceElement=Ext.getDom(d)},clone:function(){var b=this,a=new this.self(b.view);a.event=b.event;a.sourceElement=b.sourceElement;a.item=b.item;a.record=b.record;a.recordIndex=b.recordIndex;a.viewIndex=b.viewIndex;return a},equals:function(a){return a&&a.view===this.view&&a.isDataViewLocation&&a.sourceElement===this.sourceElement},getFocusEl:function(c){var a=this.get(),b=null;if(a&&a.isWidget){a=a.element}if(a){b=c==='dom'||c===!0?Ext.getDom(a):Ext.get(a)}return b},get:function(){return this.child},isFirstDataItem:function(){return this.recordIndex===0},isFirstViewItem:function(){var a=this.view;if(a.infinite){return a.previous(this.child==null)}return this.viewIndex===0},isLastDataItem:function(){return this.recordIndex===this.view.store.getCount()-1},isLastViewItem:function(){var a=this.view;if(a.infinite){return a.next(this.child==null)}return this.viewIndex===a.innerItems.length-1},refresh:function(){var b=this,a=b.view,c=b.child,d=a.mapToItem(b.record)||(a.items.contains(c)?c:a.mapToItem(Math.min(b.viewIndex,a.dataItems.length-1)));return new this.self(a,d)},isFirst:function(){return this.view.isFirstItem(this.child)},isLast:function(){return this.view.isLastItem(this.child)},next:function(d){var b=this,a=b.nextItem(d),c=a&&a.get();while(a&&(!c||!c.el.isFocusable())){if(a.equals(b)){return b}a=a.nextItem(d);c=a&&a.get()}return a||b},previous:function(d){var b=this,a=b.previousItem(d),c=a&&a.get();while(a&&(!c||!c.el.isFocusable())){if(a.equals(b)){return b}a=a.previousItem(d);c=a&&a.get()}return a||b},nextItem:function(a){var b=this.view,d=this.child,e=typeof a==='boolean'?a:!!(a&&a.wrap),c;if(b.isLastItem(d)){if(e){c=b.getFirstItem()}else {return null}}else {c=b.nextItem(d)}return new this.self(b,c)},previousItem:function(a){var b=this.view,d=this.child,e=typeof a==='boolean'?a:!!(a&&a.wrap),c;if(b.isFirstItem(d)){if(e){c=b.getLastItem()}else {return null}}else {c=b.previousItem(d)}return new this.self(b,c)},privates:{as:function(a,b){if(a){if(a.isWidget){if(b==='cmp'){return a}a=a.el}if(b==='dom'){a=a.dom||a}else if(b==='el'){if(!a.dom){a=Ext.get(a)}}}return a||null}}},1,0,0,0,0,0,[Ext.dataview,'Location'],0);Ext.cmd.derive('Ext.dataview.NavigationModel',Ext.Evented,{factoryConfig:{type:'navmodel',defaultType:'dataview',instanceProp:'isNavigationModel'},isNavigationModel:!0,config:{view:null,disabled:!1},virtualKeyboardInputRe:/^(input|textarea)$/i,bufferableMethods:{handleChildTrigger:1},locationClass:'Ext.dataview.Location',setLocation:function(a,d){var c=this,j=c.getView(),k=c.location,l=d&&d.animation,i,b,f,h,g,e;if(a==null){return c.clearLocation()}if(!a.isDataViewLocation){a=this.createLocation(a)}e=a.view;if(!a.equals(k)){f=a.record;b=a.child;if(f&&!b){return e.ensureVisible(f,{animation:l}).then(function(){if(!c.destroyed){e.getNavigationModel().setLocation({record:f,column:a.column},d)}})}if(b&&c.floatingItems==null){b=b.isComponent?b.el:Ext.fly(b);h=b.up();g=b.getStyleValue('float');c.floatingItems=j.getInline&&j.getInline()||b.isStyle('display','inline-block')||g==='left'||g==='right'||h.isStyle('display','flex')&&h.isStyle('flex-direction','row')}i=e.getScrollable();if(i){i.ensureVisible(a.sourceElement,{animation:d&&d.animation})}c.handleLocationChange(a,d);if(!c.destroyed){c.doFocus()}}},clearLocation:function(){var a=this,b;if(a.location){a.lastLocation=a.location;b=a.location.getFocusEl();if(b&&!b.destroyed){Ext.fly(b).removeCls(a.focusedCls);a.previousLocation=a.location}else {a.previousLocation=null}a.location=null}},getLocation:function(){return this.location},getPreviousLocation:function(){var a=this.previousLocation;if(a&&(!a.sourceElement||!a.sourceElement.destroyed)){a.refresh()}return a},disable:function(){this.setDisabled(!0)},enable:function(){this.setDisabled(!1)},privates:{createLocation:function(b,a){return Ext.create(this.locationClass,this.getView(),b,a)},getKeyNavCfg:function(b){var a=this;return {target:b.getFocusEl(),processEvent:a.processViewEvent,processEventScope:a,eventName:'keydown',defaultEventAction:'stopEvent',esc:a.onKeyEsc,f2:a.onKeyF2,up:a.onKeyUp,down:a.onKeyDown,right:a.onKeyRight,left:a.onKeyLeft,pageDown:a.onKeyPageDown,pageUp:a.onKeyPageUp,home:a.onKeyHome,end:a.onKeyEnd,space:a.onKeySpace,enter:a.onKeyEnter,tab:a.onKeyTab,A:{ctrl:!0,handler:a.onSelectAllKeyPress},scope:a}},updateView:function(b){var a=this,c=a.getKeyNavCfg(b);a.focusedCls=b.focusedCls;if(c){a.keyNav=new Ext.util.KeyNav(c)}a.viewListeners=b.on(a.getViewListeners(b))},getViewListeners:function(b){var a={scope:this};a[b.getTriggerEvent()]='onChildTrigger';return a},processViewEvent:function(a){var c=this.getLocation(),b;if(c&&a.keyCode){b=Ext.fly(a.target).component;a.navigationMode=b&&b.parent===this.getView();a.setCurrentTarget(c.sourceElement);if(!Ext.fly(a.target).isInputField()){return a}}},doFocus:function(a){var c,b,d;a=a||this.location;if(a){d=a&&a.getFocusEl();if(Ext.os.is.iOS){c=a.sourceElement;b=document.activeElement;if(c&&b&&c.nodeName.match(this.virtualKeyboardInputRe)&&b.nodeName.match(this.virtualKeyboardInputRe)){return}}if(d){d.focus()}}},onFocusMove:function(b){var a=this.createLocation(b);if(!a.equals(this.location)){this.handleLocationChange(a,{event:b,navigate:!1})}},handleLocationChange:function(e,f){var b=this,d=b.location,g=b.getView(),c,a;b.previousLocation=d;if(d){b.lastLocation=d;c=d.getFocusEl();if(c&&!c.destroyed){Ext.fly(c).removeCls(b.focusedCls)}}b.location=e;c=e&&e.getFocusEl('dom');if(c){a=e.get();if(a){if(a.isWidget){a=a.el}else {a=Ext.get(a)}if(a&&c===a.dom){a.addCls(b.focusedCls)}if(f&&(f.event||f.select)&&f.navigate!==!1){b.onNavigate(f.event)}}}if(!g.destroyed){g.fireEvent('navigate',g,e,d)}},onKeyUp:function(b){var a=this;b.preventDefault();if(a.location){if(a.floatingItems){a.moveUp(b)}else {a.movePrevious({event:b})}}else {a.setLocation(0)}},onKeyDown:function(b){var a=this;b.preventDefault();if(a.location){if(a.floatingItems){a.moveDown(b)}else {a.moveNext({event:b})}}else {a.setLocation(0)}},onKeyLeft:function(a){a.preventDefault();this.movePrevious({event:a})},onKeyRight:function(a){a.preventDefault();this.moveNext({event:a})},onKeyF2:function(a){return !1},onKeyEsc:function(a){return !1},onKeyTab:function(a){return !this.location.actionable},onKeyPageDown:function(d){var a=this,b,c,e;d.preventDefault();if(!a.location.actionable&&!a.floatingItems){c=a.getView();e=(c.infinite?c.getItemTop(a.location.child):a.location.child.el.dom.offsetTop)+c.el.getClientRegion().height;b=a.createLocation(c.getItemFromPoint(0,e));if(!(b.child&&b.child.el.isFocusable())){b=b.previous()}a.setLocation(b,{event:d})}},onKeyPageUp:function(d){var a=this,b,c,e;d.preventDefault();if(!a.location.actionable&&!a.floatingItems){c=a.getView();e=(c.infinite?c.getItemTop(a.location.child):a.location.child.el.dom.offsetTop)-c.el.getClientRegion().height;b=a.createLocation(c.getItemFromPoint(0,e));if(!(b.child&&b.child.el.isFocusable())){b=b.next()}a.setLocation(b,{event:d})}},onKeyHome:function(a){this.setLocation(0,{event:a})},onKeyEnd:function(a){this.setLocation(this.getView().getStore().last(),{event:a})},onKeySpace:function(a){this.onNavigate(a)},onKeyEnter:function(a){a.stopEvent();this.getView()._onChildTap(a)},onSelectAllKeyPress:function(c){var b=this.getView(),a=b.getSelectable();if(a&&b.getStore().getCount()){a[a.allSelected?'deselectAll':'selectAll']();c.preventDefault();return !1}},moveUp:function(f){var c=this.getView(),e=this.location,d=this.location.sourceElement,b=Ext.fly(d).getAnchorXY('t'),a;b[1]-=Ext.fly(d).getMargin('tb')+10;a=c.getItemFromPagePoint(b[0],b[1],!0);if(!a||!a.isFocusable()){a=e.isFirst()?c.getLastItem():c.getFirstItem()}if(a){this.setLocation(a,{event:f})}},moveDown:function(f){var c=this.getView(),d=this.location,e=d.sourceElement,b=Ext.fly(e).getAnchorXY('b'),a;b[1]+=Ext.fly(e).getMargin('tb')+10;a=c.getItemFromPagePoint(b[0],b[1]);if(!a||!a.isFocusable()){a=d.isLast()?c.getFirstItem():c.getLastItem()}if(a){this.setLocation(a,{event:f})}},moveNext:function(b){var a=this.getLocation();if(a){a=a.next(b);if(a){this.setLocation(a,b)}}},movePrevious:function(b){var a=this.getLocation();if(a){a=a.previous(b);if(a){this.setLocation(a,b)}}},onChildTrigger:function(c,a){var b=a.event,d=b.type===(b.pointerType==='touch'?'tap':'touchstart');if(event.target.id===a.child.id){this.handleLocationChange(a,{event:b});return}if(d){this.handleChildTrigger(c,a)}else {this.doHandleChildTrigger(c,a)}},doHandleChildTrigger:function(e,a){var b=this.location,c=a.event,d=a.isGridLocation?'equalCell':'equals';if(b&&b[d](a)){this.onNavigate(c)}else {this.setLocation(a,{event:c})}},onNavigate:function(a){var b=this,c=b.location;if(!a){a=new Ext.event.Event({target:c.sourceElement})}Ext.apply(a,{navigationModel:b,from:b.previousLocation,to:c});b.getView().onNavigate(a)},updateDisabled:function(a){if(this.keyNav){if(a){this.keyNav.disable()}else {this.keyNav.enable()}}}}},0,0,0,0,['navmodel.dataview'],[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable],[Ext.mixin.Bufferable.prototype.mixinId||Ext.mixin.Bufferable.$className,Ext.mixin.Bufferable]],[Ext.dataview,'NavigationModel'],0);Ext.cmd.derive('Ext.dataview.selection.Selection',Ext.Base,{factoryConfig:{type:'selection',defaultType:'records',instanceProp:'isSelection'},isSelection:!0,config:{selectionModel:null},constructor:function(a){if(a.isDataView){a={selectionModel:a.getSelectionModel()}}this.initConfig(a)},destroy:function(){this.clear();this.callParent()},privates:{applySelectionModel:function(b){var a=b.getView();this.view=a.isGrid?a.ownerGrid:a;return b}}},1,0,0,0,0,[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.dataview.selection,'Selection'],0);Ext.cmd.derive('Ext.dataview.selection.Rows',Ext.dataview.selection.Selection,{isRows:!0,config:{selected:!0},clone:function(){return new this.self({selectionModel:this.getSelectionModel(),selected:(new Ext.util.Spans()).unstash(this.getSelected().stash())})},add:function(a,m,l){var b=this,c=b.view,e=c.getSelected(),n=c.getSelectable(),f=[],g,k,j,i,d,h;if(a.length===1){a=a[0]}if(a.isEntity){j=a;h=c.mapToRecordIndex(a);a=h===-1?c.mapToItem(a).getRecordIndex():h}if(typeof a==='number'){a=[a,a+1]}b.lastSelectedRecIndx=a[1]-1;if(a[0]>a[1]){k=a[1]-1;a[1]=a[0]+1;a[0]=k}b.lastSelected=a[1];if(!m){b.clear()}b.getSelected().add(a);i=b.getSelected().spans;if(b.getSelectionModel().getMode()!=='single'){for(d=0;d<i.length;d++){a=i[d];for(g=a[0];g<a[1];g++){f.push(c.store.getAt(g))}}e.suppressEvent=!0;if(!n.pruneRemoved){e.add(f);f=e.items}c.onItemSelect(f);e.suppressEvent=!1}b.manageSelection(j);if(!l){b.getSelectionModel().fireSelectionChange()}},remove:function(a,j){var d=this,i=d.getSelectionModel(),b=d.view,k=b.store,f=b.getSelected(),g=[],c,e,h;if(!i.getDeselectable()&&d.getCount()===1){return}if(a.length===1){a=a[0]}if(a.isEntity){e=b.mapToRecordIndex(a);a=e===-1?b.mapToItem(a).getRecordIndex():e}if(typeof a==='number'){a=[a,a+1]}d.getSelected().remove(a);for(c=a[0];c<a[1];c++){h=k.getAt(c);if(h){g.push(h)}}if(!j){b.onItemDeselect(g);f.suppressEvent=!0;f.remove(g);f.suppressEvent=!1;i.fireSelectionChange()}},refresh:function(){var c=this,b=c.view,j=b.store,h=b.getSelectable(),d=b.getSelected(),g=d.items,i=[],a,e,f;f=b.el.query('.'+b.selectedCls);for(a=0;a<f.length;a++){Ext.get(f[a]).removeCls(b.selectedCls)}if(!h.pruneRemoved){c.setSelected([]);c.getSelectionModel().selectionStart=null;c.dragRange=c.lastSelectedRecIndx=null;for(a=0;a<g.length;a++){e=j.getById(g[a].getId());if(e){i.push(e)}}d.suppressEvent=!0;b.onItemSelect(i,!0);d.suppressEvent=!1}else {h.resetSelection(!0)}},isSelected:function(a){var e=this,g=e.view,f=e.getSelected().spans,h=g.getSelectable(),i=f.length,c,d,b;if(a&&!h.pruneRemoved){return !!g.getSelected().find(a.getIdProperty(),a.getId())}c=a.isEntity?e.view.getStore().indexOf(a):a;for(b=0;b<i;b++){d=f[b];if(c>=d[0]&&c<d[1]){return !0}}return !1},getCount:function(){return this.getSelected().getCount()},selectAll:function(){var e=this,a=e.view,d=a.store,f=a.getSelected(),h=a.dataItems,i=h.length,g=[],c,b;for(b=0;b<i;b++){c=d.getAt(b);if(c){g.push(c)}}f.suppressEvent=!0;a.onItemSelect(g);f.suppressEvent=!1;e.getSelected().add(0,d.getTotalCount()||d.getCount());e.getSelectionModel().fireSelectionChange()},getFirstRowIndex:function(){var a=this.getSelected().spans;return a.length?this.getSelected().spans[0][0]:0},getLastRowIndex:function(){var a=this.getSelected().spans;return a.length?a[a.length-1][1]-1:0},eachRow:function(h,f){var i=this,c=i.getSelected().spans,g=c&&c.length,e,d,a,b;for(a=0;a<g;a++){d=c[a];for(b=d[0];e!==!1&&b<d[1];b++){e=h.call(this||f,b)}}},eachColumn:function(e,c){var b=this.view.getHeaderContainer().getVisibleColumns(),d=b.length,a;if(this.getCount()){for(a=0;a<d;a++){if(e.call(this||c,b[a],a)===!1){return}}}},eachCell:function(l,j){var c=this,m=c.getSelected(),k=c.view,e=k.ownerGrid.getVisibleColumnManager().getColumns(),h=c.dragRange,g,b,f,a,i,d=!1;if(e){g=e.length;a=new Ext.grid.Location(k);if(m){c.eachRow(function(f){a.setItem(f);for(b=0;b<g;b++){a.setColumn(e[b]);if(l.call(j||c,a,a.columnIndex,a.recordIndex)===!1){d=!0;return !1}}})}if(!d&&h!=null){c.view.getStore().getRange(h[0],h[1],{forRender:!1,callback:function(h){i=h.length;for(b=0;!d&&b<i;b++){a.setItem(h[b]);for(f=0;!d&&f<g;f++){a.setColumn(e[f]);if(l.call(j||c,a,a.columnIndex,a.recordIndex)===!1){d=!0}}}}})}}},getRecords:function(){return this.getSelectionModel().getSelected().getRange()},privates:{applySelected:function(a){if(!a.isSpans){a=new Ext.util.Spans()}return a},compareRanges:function(a,b){return a[0]-b[0]},clear:function(i){var j=this,h=j.view,f=h.allPartners||h.selfPartner||[],b,c,d,e,a,g;for(c=0,d=f.length;c<d;++c){g=f[c];e=g.getSelectable();a=e.getSelection();b=a.getSelectionModel();b.getSelected().removeAll();a.getSelected().clear();if(!b.getDeselectable()&&a.lastSelected){a.add(a.lastSelected,!0,!0)}a.manageSelection(null);if(!i){b.fireSelectionChange()}}},addRecordRange:function(a,b){return this.add([a,b+1],!0)},removeRecordRange:function(a,b){return this.remove([a,b+1])},isAllSelected:function(){var a=this.view.store;return this.getCount()===a.getTotalCount()||this.getCount()===a.getCount()},setRangeStart:function(a){if(a==null){this.dragRange=null}else {this.dragRange=[a,a];this.view.onItemSelect(a,!0)}},setRangeEnd:function(b){var d=this,f=d.dragRange||(d.dragRange=[0,b]),j=f[1],c=f[0],g=d.view,h=g.renderInfo,l=f[1]=b,e=[],i=!1,a,k;if(c>b){b=c;c=l}a=Math.max(Math.min(f[0],c,j,b),h.indexTop);k=Math.min(Math.max(f[1],c,j,b),h.indexBottom-1);for(;a<=k;a++){if(a<c||a>b){g.onItemDeselect(a);e[e.length?1:0]=a}else {g.onItemSelect(a,!0);i=!0}}if(i){d.addRange(!0)}if(e.length){d.removeRecordRange(e[0],e[1])}d.lastSelectedIndex=b},addRange:function(b){var a=this.dragRange;if(a){this.addRecordRange(a[0],a[1]);if(!b){this.dragRange=null}}},extendRange:function(a){this.addRecordRange(a.start,a.end)},reduceRange:function(a){this.removeRecordRange(a.start,a.end)},getRange:function(){var a=this.dragRange;if(a==null){return [0,-1]}if(a[0]<=a[1]){return a}return [a[1],a[0]]},getRangeSize:function(){var a=this.getRange();return a[1]-a[0]+1},onSelectionFinish:function(){var a=this,b=a.getContiguousSelection();if(b){a.getSelectionModel().onSelectionFinish(a,new Ext.grid.Location(a.view,{record:b[0],column:0}),new Ext.grid.Location(a.view,{record:b[1],column:a.view.getHeaderContainer().getVisibleColumns().length-1}))}else {a.getSelectionModel().onSelectionFinish(a)}},getContiguousSelection:function(){var b=this.getSelected(),c=this.view.store,a=b.spans;if(a===1&&c.getAt(a[0][0])&&c.getAt(a[0][1])){return b.spans[0]}},manageSelection:function(c){var b=this,f=b.view,d=f.getStore(),e=b.getSelectionModel(),a;if(!d.isVirtualStore||e.getMode()!=='single'){return}a=e.getSelected();if(a.length){b.adjustPageLock(d,a.getAt(0),-1)}if(c){a.splice.apply(a,[0,0,c]);b.adjustPageLock(d,c,1)}else {a.remove(a.getAt(0))}},adjustPageLock:function(a,c,d){var b;if(!a.isVirtualStore||!c){return}b=a.pageMap.getPageOf(a.indexOf(c));if(b){b.adjustLock('active',d)}}}},0,0,0,0,['selection.rows'],0,[Ext.dataview.selection,'Rows'],0);Ext.cmd.derive('Ext.dataview.selection.Records',Ext.dataview.selection.Rows,{isRecords:!0,config:{selected:null},clone:function(){return new this.self({selectionModel:this.getSelectionModel(),selected:this.getSelected()})},addRowRange:function(a,b,d,c){if(a>b){var e=b;b=a;a=e}this.add(this.getSelectionModel().getStore().getRange(a,b-1),d,c)},removeRowRange:function(a,b,c){if(a>b){var d=b;b=a;a=d}this.remove(this.getSelectionModel().getStore().getRange(a,b-1),c)},add:function(b,d,e){b=Ext.Array.from(b);var g=this,a=g.getSelected(),c=a.getCount(),f=[d?c:0,d?0:c,b];a.suppressEvent=e;a.splice.apply(a,f);a.suppressEvent=!1},remove:function(b,c){b=Ext.Array.from(b);var a=this.getSelected();if(!this.getSelectionModel().getDeselectable()&&a.getCount()===1){Ext.Array.remove(b,a.first())}if(b.length){a.suppressEvent=c;a.remove(b);a.suppressEvent=!1}},isSelected:function(a){if(!a||!a.isModel){return !1}return !!this.getSelected().byInternalId.get(a.internalId)},getRecords:function(){return this.getSelected().getRange()},selectAll:function(b){var a=this.getSelected();a.suppressEvent=b;a.add(this.getSelectionModel().getStore().getRange());a.suppressEvent=!1},getFirstRowIndex:function(){return this.getCount()?this.view.getStore().indexOf(this.getSelected().first()):0},getLastRowIndex:function(){return this.getCount()?this.view.getStore().indexOf(this.getSelected().last()):-1},eachRow:function(c,b){var a=this.getSelected();if(a){a.each(c,b||this)}},eachColumn:function(e,c){var b=this.view.getHeaderContainer().getVisibleColumns(),d=b.length,a;if(this.getSelected().getCount()){for(a=0;a<d;a++){if(e.call(this||c,b[a],a)===!1){return}}}},eachCell:function(j,i){var d=this,f=d.getSelected(),h=d.view,c=h.getHeaderContainer().getVisibleColumns(),g,b,e,a;if(c){g=c.length;e=new Ext.grid.Location(h);if(f){f.each(function(f){a=e.clone({record:f});for(b=0;b<g;b++){a=a.cloneForColumn(c[b]);if(j.call(i||d,a,a.columnIndex,a.recordIndex)===!1){return !1}}})}}},beginUpdate:function(){this.getSelected().beginUpdate()},endUpdate:function(){this.getSelected().endUpdate()},privates:{clear:function(c){var a=this.getSelected(),b;if(a){b=[0,a.getCount()];if(!this.getSelectionModel().getDeselectable()){b[2]=a.last()}a.suppressEvent=c;a.splice.apply(a,b);a.suppressEvent=!1}},addRecordRange:function(a,b){var e=this,g=e.view,f=g.getStore(),d=b,c;if(a&&a.isGridLocation){a=a.recordIndex}if(b&&b.isGridLocation){b=d=b.recordIndex}if(a>b){b=a;a=d}c=f.getRange(a,b||a);e.getSelected().add(c)},removeRecordRange:function(a,b){var g=this,f=g.view,e=f.getStore(),c=b,d;if(a&&a.isGridLocation){a=a.recordIndex}if(b&&b.isGridLocation){b=c=b.recordIndex;c=b}if(a>b){b=a;a=c}d=e.getRange(a,b||a);this.getSelected().remove(d)},onSelectionFinish:function(){var a=this,b=a.getContiguousSelection();if(b){a.getSelectionModel().onSelectionFinish(a,new Ext.grid.Location(a.view,{record:b[0],column:0}),new Ext.grid.Location(a.view,{record:b[1],column:a.view.getHeaderContainer().getVisibleColumns().length-1}))}else {a.getSelectionModel().onSelectionFinish(a)}},getContiguousSelection:function(){var b=this.view.getStore(),a,c,d;a=Ext.Array.sort(this.getSelected().getRange(),function(a,c){return b.indexOf(a)-b.indexOf(c)});c=a.length;if(c){if(c===1&&b.indexOf(a[0])===-1){return !1}for(d=1;d<c;d++){if(b.indexOf(a[d])!==b.indexOf(a[d-1])+1){return !1}}return [b.indexOf(a[0]),b.indexOf(a[c-1])]}},applySelected:function(a){return a},refresh:function(){var e=this,d=e.view,a=e.getSelectionModel(),b=e.getSelected(),f=a.getLastSelected(),c;Ext.dataview.selection.Model.refreshCollection(b,a.getStore().getData(),a.ignoredFilters,d.beforeSelectionRefresh&&d.beforeSelectionRefresh.bind(d));c=b.indexOf(f);if(c===-1){a.setLastSelected(b.last())}else {a.setLastSelected(b.getAt(c))}}}},0,0,0,0,['selection.records'],0,[Ext.dataview.selection,'Records'],0);Ext.cmd.derive('Ext.dataview.selection.Model',Ext.Evented,{factoryConfig:{type:'selmodel',defaultType:'dataview',aliasPrefix:'selmodel.'},isSelectionModel:!0,config:{view:null,store:null,disabled:null,mode:'single',deselectable:!0,toggleOnClick:!0,lastSelected:null,selected:!0,selectedRecord:undefined,selection:{type:'records'}},pruneRemoved:!0,modes:{single:!0,simple:!0,multi:!0},onNavigate:function(a){if(!this.getDisabled()){this.selectWithEvent(a.to.record,a)}},getSelectedRecords:function(){var a=this.getSelection();return a&&(a.isRecords||a.isRows)?a.getRecords():Ext.emptyArray},getStoreListeners:function(){return {add:'onSelectionStoreAdd',remove:'onSelectionStoreRemove',update:'onSelectionStoreUpdate',clear:{fn:'onSelectionStoreClear',priority:1000},load:'onSelectionStoreLoad',refresh:'refreshSelection',idchanged:'onIdChanged'}},applySelected:function(b,c){var a=this,e=a.getStore(),d={rootProperty:'data',extraKeys:{byInternalId:{rootProperty:!1,property:'internalId'}},sorters:[function(a,d){return e.indexOf(a)-e.indexOf(d)}],autoSort:!1};if(c){c.removeObserver(a);if(a.destroySelected){c.destroy();a.destroySelected=!1}}if(b&&b.isCollection){a.destroySelected=!1;b.setConfig(d)}else {a.destroySelected=!0;b=new Ext.util.Collection(Ext.apply(d,b))}a.observerPriority=1000;b.addObserver(a);return b},updateSelected:function(a){this.setSelectedRecord(a.last()||null)},applyMode:function(a){var b=this.getView(),c=b.getRenderTarget();a=a?a.toLowerCase():'single';c.toggleCls(b.multiSelectCls,a==='multi');return this.modes[a]?a:'single'},updateMode:function(b){var a=this.getSelection();if(b!=='multi'&&a.getCount()>1){a.add(this.getLastSelected(),!1)}},updateView:function(a){this.setStore(a?a.getStore():null)},applyStore:function(a){return a?Ext.data.StoreManager.lookup(a):null},updateStore:function(d,a){var b=this,c=Ext.apply({scope:b},b.getStoreListeners());if(a&&Ext.isObject(a)&&a.isStore){a.un(c)}if(d){d.on(c);if(a){b.refreshSelection()}}},selectByLocation:function(a){this.select(a.record)},selectAll:function(a){this.select(this.getStore().getRange(),!0,a)},deselectAll:function(b){var a=this.getSelected();a.suppressEvent=b;a.removeAll();a.suppressEvent=!1},applySelectedRecord:function(a){if(a===!1){a=null}return a},updateSelectedRecord:function(a){var b=this,c=b.getSelected(),d=c.getCount();if(a){if(c.last()!==a){if(b.getMode()==='single'){c.splice(0,d,a)}else {c.add(a)}}b.setLastSelected(a)}else {if(!b.isConfiguring&&d){b.deselectAll()}}b.getView().publishState('selection',a)},selectWithEvent:function(b,d){var a=this,c=a.getMode(),e=a.isSelected(b);if(c==='multi'){a.selectWithEventMulti(b,d,e)}else {if(e){if(a.getDeselectable()&&(c==='single'&&a.getToggleOnClick())||c==='simple'||d.ctrlKey){a.deselect(b)}}else {a.select(b,c==='simple')}}if(!d.shiftKey&&a.isSelected(b)){a.selectionStart=b}},selectWithEventMulti:function(b,e,f){var a=this,c=e.shiftKey,g=e.ctrlKey,d=c?a.selectionStart:null;if(c&&d){a.selectRange(d,b,g)}else {if(f){a.deselect(b)}else {a.select(b,!0)}}},selectRange:function(a,b,e){var c=this.getStore(),d;a=typeof a==='number'?a:c.indexOf(a);b=typeof b==='number'?b:c.indexOf(b);if(a>b){d=a;a=b;b=d}this.getSelection().addRowRange(a,b+1,e)},select:function(a,e,c){var b=this,d;if(b.getDisabled()){return}if(typeof a==='number'){a=[b.getStore().getAt(a)]}if(!a){return}if(b.getMode()==='single'&&a){if(b.getSelected().getCount()){b.getSelection().clear(!0)}d=a.length?a[0]:a;b.doSingleSelect(d,c)}else {b.doMultiSelect(a,e,c)}},doSingleSelect:function(b,a){this.doMultiSelect([b],!1,a)},doMultiSelect:function(a,c,b){if(a===null||this.getDisabled()){return}this.getSelection().add(a,c,b)},deselect:function(a,h){var d=this,e,f,g,b,c;if(d.getDisabled()){return}a=Ext.isArray(a)?a:[a];e=d.getSelection();f=d.getStore();g=a.length;for(b=0;b<g;b++){c=a[b];if(typeof c==='number'){a[b]=f.getAt(c)}}e.remove(a,h)},onCollectionRemove:function(b,c){var a=this,e=a.getView(),d=c.items;a.getSelection().allSelected=this.allSelected=!1;if(!c.next&&!c.replacement){a.setSelectedRecord(b.last()||null)}e.onItemDeselect(d,b.suppressEvent);if(!b.suppressEvent){a.fireSelectionChange(d,!1)}},onCollectionAdd:function(b,f){var a=this,d=a.getView(),e=a.getSelection(),c=f.items;if(d.destroyed){return}e.allSelected=this.allSelected=e.getCount()===d.getStore().getCount();a.setSelectedRecord(b.last()||null);d.onItemSelect(a.getMode()==='single'?c[0]:c,b.suppressEvent);if(!b.suppressEvent){a.fireSelectionChange(c,!0)}},fireSelectionChange:function(c,b){var a=this,e=a.getView(),d=a.getSelection();a.fireEvent('selectionchange',this.view,c,b,d);e.fireEvent('selectionchange',this.view,c,b,d)},getSelections:function(){if(this.getSelection().isRecords){return this.getSelected().getRange()}},isRowSelected:function(a){var c=this,b=c.getSelection();if(b&&(b.isRows||b.isRecords)){a=Ext.isNumber(a)?c.getStore().getAt(a):a;return b.isSelected(a)}return !1},isSelected:function(a){return this.getSelection().isSelected(a)},hasSelection:function(){return this.getSelection().getCount()>0},refreshSelection:function(){var a=this.getSelection();if(a.isRecords||a.isRows){a.refresh()}},onSelectionStoreRemove:function(c,b){var a=this.getSelection();if(a.isRecords){a.remove(b)}},onSelectionStoreClear:function(a){this.getSelection().clear()},getSelectionCount:function(){return this.getSelection().getCount()},destroy:function(){var a=this;a.setView(null);Ext.destroy(a.selection,a.destroySelected?a.selected:null)},onIdChanged:function(e,c,b,d){var a=this.getSelected();if(a){a.updateKey(c,b)}},onSelectionStoreAdd:Ext.emptyFn,onSelectionStoreLoad:Ext.emptyFn,onSelectionStoreUpdate:Ext.emptyFn,onItemSelect:Ext.emptyFn,onItemDeselect:Ext.emptyFn,onEditorKey:Ext.emptyFn,privates:{addIgnoredFilter:function(a){if(a){Ext.Array.include(this.ignoredFilters||(this.ignoredFilters=[]),a)}},removeIgnoredFilter:function(b){var a=this.ignoredFilters;if(a){Ext.Array.remove(a,b);if(!a.length){this.ignoredFilters=null}}},onSelectionFinish:Ext.privateFn,applySelection:function(a,b){if(b){if(b.type===a.type){b.setConfig(a);return b}Ext.destroy(b)}if(a){var c=this.getStore();a=Ext.Factory.selection(Ext.apply({selectionModel:this,type:c&&c.isVirtualStore?'rows':'records',selected:this.getSelected()},a))}return a}},statics:{refreshCollection:function(e,d,c,m){var n=d.getFilters().getFilterFn(),j,h=[],k=[],i,l,a,g,b,f;if(c){f=[];i=c.length;for(a=0;a<i;a++){if(!c[a].getDisabled()){f.push(c[a]);c[a].setDisabled(!0)}}if(f.length){d=d.getSource()||d}else {c=null}}if(e.getCount()){j=e.getRange();l=j.length;for(a=0;a<l;a++){g=j[a];b=d.get(d.getKey(g));if(b&&c&&!n(b)){b=null}if(b){if(b!==g){h.push(g);k.push(b)}}else {h.push(g)}}if(m){m(h,k)}e.suppressEvent=!0;e.splice(e.getCount(),h,k);e.suppressEvent=!1}if(f){i=f.length;for(a=0;a<i;a++){f[a].setDisabled(!1)}}}}},0,0,0,0,['selmodel.dataview'],[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.dataview.selection,'Model'],0);Ext.cmd.derive('Ext.dataview.EmptyText',Ext.Component,{classCls:'x-emptytext',inheritUi:!0,html:'No data to display',top:0,right:0,bottom:0,left:0},0,['emptytext'],['widget','component','emptytext'],{'widget':!0,'component':!0,'emptytext':!0},['widget.emptytext'],0,[Ext.dataview,'EmptyText'],0);Ext.cmd.derive('Ext.dataview.Abstract',Ext.Container,{isDataView:!0,cachedConfig:{associatedData:null,deferEmptyText:!0,deselectOnContainerClick:!0,disableSelection:!1,emptyTextDefaults:{xtype:'emptytext'},emptyItemText:'\xa0',itemsFocusable:!0,itemTpl:'<div>{text:htmlEncode}</div>',loadingText:'Loading...',pressedDelay:100,scrollToTopOnRefresh:!0,storeEventListeners:{add:'onStoreAdd',beforeload:'onStoreBeforeLoad',clear:'onStoreClear',load:'onStoreLoad',refresh:'onStoreRefresh',remove:'onStoreRemove',update:'onStoreUpdate'},triggerEvent:'childtap',triggerCtEvent:'tap'},config:{itemButtonMode:!1,data:null,emptyState:null,emptyText:null,enableTextSelection:null,inline:null,itemCls:null,loadingHeight:null,markDirty:null,navigationModel:{type:'dataview'},selectable:!0},autoSize:null,publishes:{selection:1},twoWayBindable:{selection:1},eventedConfig:{store:undefined},proxyConfig:{selectable:{configs:['mode','deselectable','lastSelected','selected'],methods:['isSelected','select','selectAll','deselectAll','getSelections','hasSelection','getSelectionCount']}},emptyTextProperty:'html',restoreFocus:!0,refreshCounter:0,selectionModel:'dataview',defaultBindProperty:'store',focusable:!0,scrollable:!0,tabIndex:0,classCls:'x-dataview',focusedCls:'x-focused',hoveredCls:'x-hovered',inlineCls:'x-inline',noWrapCls:'x-nowrap',pressedCls:'x-pressed',scrollDockCls:'x-scrolldock',selectedCls:'x-selected',hasLoadedStore:!1,scrollDockedItems:null,storeListeners:null,_trueStore:null,beforeInitialize:function(a){this.dataItems=[];Ext.Container.prototype.beforeInitialize.call(this,a)},initialize:function(){var a=this;a.generateSelectorFunctions();Ext.Container.prototype.initialize.call(this);a.bodyElement.on({touchstart:'_onChildTouchStart',touchend:'_onChildTouchEnd',touchcancel:'_onChildTouchCancel',tap:'_onChildTap',tapcancel:'_onChildTapCancel',longpress:'_onChildLongPress',taphold:'_onChildTapHold',singletap:'_onChildSingleTap',doubletap:'_onChildDoubleTap',swipe:'_onChildSwipe',mouseover:'_onChildMouseOver',mouseout:'_onChildMouseOut',contextmenu:'_onChildContextMenu',delegate:a.eventDelegate,scope:a});if(Ext.scrollbar.width()){a.bodyElement.on('touchstart','_onContainerTouchStart',a)}a.on(a.getTriggerCtEvent(),'onContainerTrigger',a)},onRender:function(){var a=this;(arguments.callee.$previous||Ext.Container.prototype.onRender).call(this);if(a.forceRefreshOnRender){a.runRefresh()}else {a.refresh()}},doDestroy:function(){var a=this;a.destroyAllRipples();a.clearPressedTimer();a.setStore(null);a.setNavigationModel(null);a.setSelectable(null);a.lastPressedLocation=null;Ext.Container.prototype.doDestroy.call(this)},createEmptyText:function(b){var a=Ext.apply({},this.getEmptyTextDefaults());if(typeof b==='string'){a[this.emptyTextProperty]=b}else if(b){Ext.apply(a,b)}a.isEmptyText=a.hidden=!0;a.showInEmptyState=null;return a},ensureVisible:function(e,d){var c=this,a=c.ensureVisiblePlan(e,d),b;for(;;){if(!(b=a.steps.pop())){break}c[b](a)}return a.promise},gatherData:function(a,c){var d=this,b=a&&a.getData(d.associatedData);if(b){if(c===undefined){c=d.store.indexOf(a)}b=d.prepareData(b,c,a)}return b||null},getFirstDataItem:function(){return this.dataItems[0]||null},getFirstItem:function(){return this.getFastItems()[0]||null},getItemAt:function(a){var b=this.getFastItems();if(a<0){a+=b.length}return b[a]||null},getItemIndex:function(a){return this.mapToRecordIndex(a)},getItem:function(a){var c=null,b;if(a){b=a.isEntity?this.store.indexOf(a):a;if(b>-1){c=this.getItemAt(b)}}return c},getLastDataItem:function(){var a=this.dataItems;return a[a.length-1]||null},getLastItem:function(){var a=this.getFastItems();return a[a.length-1]},getScrollDockedItems:function(b){var a=this.scrollDockedItems;if(a){if(b){b=this.scrollDockAliases[b]||b;a=a[b].slice()}else {a=a.start.items.concat(a.end.items)}}return a||[]},isItemSelected:function(b){var a=this.mapToRecord(b);return a?this.isSelected(a):!1},isFirstItem:function(a){return Ext.getDom(a)===this.getFirstItem()},isFirstDataItem:function(a){return Ext.getDom(a)===this.getFirstDataItem()},isLastItem:function(a){return Ext.getDom(a)===this.getLastItem()},isLastDataItem:function(a){return Ext.getDom(a)===this.getLastDataItem()},mapToItem:function(a,f){var c=this,e=c.element,b,d;if(a&&a.isEvent){b=a.getTarget(c.itemSelector,e)}else if(a&&(a.isElement||a.nodeType===1)){b=Ext.fly(a).findParent(c.itemSelector,e)}else if(a&&a.isEntity){b=c.itemFromRecord(a)}else {if(a&&a.isComponent&&c.items.contains(a)){b=a}else {d=c.getFastItems();if(a<0){a+=d.length}b=d[a||0]}}if(b){b=c.itemAs(b,f||(c.isElementDataView?'el':'cmp'))}return b||null},mapToRecord:function(g){var d=this,a=g,f=d.element,e=d.store,b,c;if(a&&a.isEntity){if(e&&e.getById(a.id)===a){c=a}a=null}else if(a&&a.isEvent){a=a.getTarget(d.itemSelector,f)}else if(a&&(a.isElement||a.nodeType===1)){a=Ext.fly(a).findParent(d.itemSelector,f)}else if(typeof a==='number'){a=d.mapToItem(a)}if(a){b=a.isWidget?a.el:a;b=b.dom||b;if(d.itemSelector(b)){c=b.getAttribute('data-recordid');c=c&&e.getByInternalId(+c)}}return c||null},mapToRecordIndex:function(f,e){var d=this,c=d.mapToRecord(f),b=-1,a=d.store;if(c){if(e&&a.isGroupStore){a=a.getSource()}b=a.indexOf(c)}return b},mapToViewIndex:function(h,e){var d=this,f=-1,a=h,g=d.element,b=d.getFastItems(),c;if(typeof a==='number'){e=e||0;for(;a<b.length;++a){c=b[a];if(c.isWidget){c=c.el.dom}if(+c.getAttribute('data-recordindex')===a+e){f=a;break}}}else if(a){if(a.isEntity){a=d.itemFromRecord(a)}else if(a.isEvent){a=a.getTarget(d.itemSelector,g)}else if(a.isElement||a.nodeType===1){a=Ext.fly(a).findParent(d.itemSelector,g)}if(a&&b.length){if(b[0].isWidget){if(!a.isWidget){a=Ext.Component.from(a)}}else {a=a.nodeType?a:a.el.dom}f=Array.prototype.indexOf.call(b,a)}}return f},nextItem:function(c,b){var a=this.traverseItem(c,1);return b?this.itemAs(a,b):a},previousItem:function(c,b){var a=this.traverseItem(c,-1);return b?this.itemAs(a,b):a},prepareData:function(a,c,b){return a},refresh:function(){this.whenVisible('runRefresh')},setLocation:function(a,b){return this.getNavigationModel().setLocation(a,b)},onFocusEnter:function(a){var b=this;Ext.Container.prototype.onFocusEnter.call(this,a);if(!(a.within(b.getRenderTarget())||a.target===b.getFocusEl().dom)){return}return b.onInnerFocusEnter(a)},onInnerFocusEnter:function(c){var b=this,d=b.getNavigationModel(),a,e;if(d.lastLocation==='scrollbar'){if(c.relatedTarget){c.relatedTarget.focus()}return}if(c.target===b.getFocusEl().dom){a=b.restoreFocus&&d.getPreviousLocation();if(a){a=a.refresh()}else if(c.backwards){a=b.getLastDataItem()}else {a=b.getFirstDataItem()}}else {a=c}b.toggleChildrenTabbability(!1);e=b.getFastItems().length;if(e){if(a&&a.isWidget){a=a.getFocusEl()||a.el}d.setLocation(a,{event:c,navigate:!1})}if(d.getLocation()){b.el.dom.setAttribute('tabIndex',-1)}},onFocusLeave:function(c){var b=this,a=b.getNavigationModel();if(a.getLocation()){a.setLocation(null,{event:c});b.el.dom.setAttribute('tabIndex',0)}Ext.Container.prototype.onFocusLeave.call(this,c)},onInnerFocusLeave:function(a){this.getNavigationModel().setLocation(null,{event:a})},onFocusMove:function(a){var b=this,d=b.el,c=b.getRenderTarget(),f=a.event.toComponent,e=a.event.fromComponent;if(!d.contains(a.toElement)){return Ext.Container.prototype.onFocusMove.call(this,a)}if(d.contains(a.toElement)&&!c.contains(a.toElement)&&c.contains(a.fromElement)){return b.onInnerFocusLeave(a.event)}if(d.contains(a.fromElement)&&!c.contains(a.fromElement)&&c.contains(a.toElement)){return b.onInnerFocusEnter(a.event)}if(!c.contains(a.fromElement)&&!c.contains(a.toElement)){return Ext.Container.prototype.onFocusMove.call(this,a)}if((f===b||f.up('dataview,componentdataview')===b)&&(e===b||e.up('dataview,componentdataview')===b)){b.getNavigationModel().onFocusMove(a.event)}return Ext.Container.prototype.onFocusMove.call(this,a)},onItemAdd:function(b,f){var c=this,a=b.scrollDock,e=c.scrollDockCls,d;if(!b.$dataItem&&b.isInner){if(a!==null){a=a||'end'}if(a){if(!(d=c.scrollDockedItems)){c.scrollDockedItems=d={start:{items:[],height:0,filter:c.filterScrollDockStart,name:a},end:{items:[],height:0,filter:c.filterScrollDockEnd,name:a}}}a=c.scrollDockAliases[a]||a;b.scrollDock=a;a=d[a];a.items=c.innerItems.filter(a.filter);if(b.showInEmptyState===undefined){b.showInEmptyState=!1}b.addCls(e+' '+e+'-'+a.name);if(c.getItemsFocusable()){b.el.set({tabIndex:-1})}if(c.addScrollDockedItem){c.addScrollDockedItem(b)}}}Ext.Container.prototype.onItemAdd.call(this,b,f)},onItemDeselect:function(b,c){var a=this;if(!a.isConfiguring&&!a.destroyed){if(c){a.setItemSelection(b,!1)}else {a.fireEventedAction('deselect',[a,b],'setItemSelection',a,[b,!1])}}},onItemSelect:function(b,c){var a=this;if(c){a.setItemSelection(b,!0)}else {a.fireEventedAction('select',[a,b],'setItemSelection',a,[b,!0])}},onChildTouchStart:function(a){var b=this,g=a.item,h=a.event,f=b.hasListeners,e=b.getNavigationModel().getLocation(),i=e&&e.actionable,c,d;if(!a.actionable&&!(a.equalCell||a.equals)(e)){b.rippleItem(g,h)}c='beforechildtouchstart';d=f[c]&&b.fireEvent(c,b,a)===!1;if(!d){c='beforeitemtouchstart';d=f[c]&&b.fireEvent(c,b,a.viewIndex,g,a.record,h)===!1}if(!d){if(!i){b.doChildTouchStart(a)}b.fireChildEvent('touchstart',a)}},onChildTouchEnd:function(a){var b=this,d=a.item,c=b.getNavigationModel().getLocation(),e=a.event;if(!(c&&c.actionable)){b.rippleItem(d,e)}b.clearPressedCls('touchend',a)},onChildTouchCancel:function(a){this.clearPressedCls('touchcancel',a)},onChildTouchMove:function(a){this.fireChildEvent('touchmove',a)},onChildTap:function(a){this.fireChildEvent('tap',a)},onChildTapCancel:function(b){var c=this,a=c.getItemButtonMode();if(!a){this.clearPressedCls('tapcancel',b)}},onChildContextMenu:function(a){this.fireChildEvent('contextmenu',a)},onChildLongPress:function(a){this.fireChildEvent('longpress',a)},onChildTapHold:function(a){this.fireChildEvent('taphold',a)},onChildSingleTap:function(a){this.fireChildEvent('singletap',a)},onChildDoubleTap:function(a){this.fireChildEvent('doubletap',a)},onChildSwipe:function(a){this.fireChildEvent('swipe',a)},onChildMouseOver:function(b){var a=this,c=b.item;if(a.mouseOverItem!==c){a.mouseOverItem=c;if(a.doHover){a.toggleHoverCls(!0)}a.fireChildEvent('mouseenter',b)}},onChildMouseOut:function(b){var a=this,d=a.getItemButtonMode(),c=b.item,e=b.event.getRelatedTarget(a.itemSelector);if(c&&c.dom!==e){if(a.doHover){a.toggleHoverCls(!1)}if(!d){this.clearPressedCls('mouseleave',b)}else {a.fireChildEvent('mouseleave',b)}a.mouseOverItem=null}},onNavigate:function(c){var a=this,b=!a.destroyed&&a.getSelectable();if(b&&a.shouldSelectItem(c)){b.onNavigate(c)}},shouldSelectItem:function(a){var e=this,c=e.getSelectable(),b=a.stopSelection||!c||c.getDisabled()||a.isNavKeyPress()&&a.ctrlKey,d=!b&&a.getTarget('.x-item-no-select,.x-item-no-tap',this.element);if(d){b=e.el.contains(d)}return !b},onStoreAdd:function(){this.syncEmptyState()},onStoreBeforeLoad:function(){this.handleBeforeLoad()},onStoreClear:function(){this.doClear()},onStoreLoad:function(){this.hasLoadedStore=!0;this.clearMask();this.syncEmptyState()},onStoreRefresh:function(){this.refresh()},onStoreRemove:function(){this.syncEmptyState()},onStoreUpdate:function(f,b,g,e,c){var a=this,d;if(!c||!(c.indexChanged||c.filtered)){d=a.itemFromRecord(b);if(d){a.syncItemRecord({item:d,modified:a.indexModifiedFields(e),record:b})}}if(a.isSelected(b)){a.setItemSelection(b,!0)}},updateAssociatedData:function(a){this.associatedData={associated:a}},updateData:function(c){var a=this,b=a.store;if(!b){a.settingStoreFromData=!0;a.setStore({data:c,autoDestroy:!0});a.settingStoreFromData=!1}else {b.loadData(c)}},updateDisableSelection:function(a){var b=this.getRenderTarget();b.toggleCls(this.showSelectionCls,!a)},updateEmptyText:function(a){var b=this,c=a,d=b.emptyTextCmp;if(d){if(!a||typeof a==='string'){c={};c[b.emptyTextProperty]=a||'\xa0'}d.setConfig(c)}if(!b.isConfiguring){b.syncEmptyState()}},updateEnableTextSelection:function(a){this.setUserSelectable({bodyElement:!!a})},updateInline:function(b){var a=this,c=b&&b.wrap===!1;a.toggleCls(a.inlineCls,!!b);if(Ext.isEdge&&c){a.el.measure('w')}a.toggleCls(a.noWrapCls,c)},updateItemCls:function(d,e){if(!this.isConfiguring){var c=this.dataItems,f=c.length,b,a;for(b=0;b<f;b++){a=c[b];a=a.isWidget?a.el:Ext.fly(a);a.replaceCls(e,d)}}},applyItemTpl:function(a){return Ext.XTemplate.get(a)},updateItemTpl:function(){if(!this.isConfiguring){this.refresh()}},updateMarkDirty:function(b){var d=this.dataItems,a,e,c;b=!!b;for(a=0,e=d.length;a<e;a++){c=d[a];(c.el||Ext.fly(c)).toggleCls(this.markDirtyCls,b)}},updateMasked:function(c){var a=this,b=a.getLoadingHeight();if(c){if(b&&b>a.el.getHeight()){a.hasLoadingHeight=!0;a.oldMinHeight=a.getMinHeight();a.setMinHeight(b)}}else {if(!a.destroying&&a.hasLoadingHeight){a.setMinHeight(a.oldMinHeight);delete a.hasLoadingHeight}}},applySelectable:function(a,c){var b=this,d={type:b.selectionModel,view:b},e=b.selection;if(a===!1){a={disabled:!0}}if(a){if(typeof a==='string'){a={type:b.selectionModel,mode:a.toLowerCase(),view:b}}else if(a.isSelectionModel){return a.setConfig(d)}else {a=Ext.apply(d,a)}if(c){a=c.setConfig(a)}else {a=Ext.Factory.selmodel(b.mergeProxiedConfigs('selectable',a))}if(e){delete b.selection;a.select(e)}}return a},applyStore:function(a){var b=a?Ext.data.StoreManager.lookup(a):null;this.store=this._trueStore=b;return b},updateStore:function(b,c){var a=this,e=a.autoMask,d;if(c){if(!c.destroyed){if(c.getAutoDestroy()){c.destroy()}else {Ext.destroy(a.storeListeners)}}a.dataRange=a.storeListeners=Ext.destroy(a.dataRange);if(!a.destroying&&!a.destroyed&&!b){a.doClear()}}if(b){if(a.destroying){return}a.attachStoreEvents(b,Ext.apply({scope:a,destroyable:!0},a.getStoreEventListeners()));if(b.isLoaded()){a.hasLoadedStore=!0}d=!b.isTreeStore&&b.hasPendingLoad();a.bindStore(b);if(a.initialized){a.refresh()}}if(!a.isConfiguring||a.settingStoreFromData){a.getSelectable().setStore(b)}if(e&&!d){a.setMasked(!1);a.autoMask=!1}else if(!e&&d){a.handleBeforeLoad()}},updateHidden:function(b,a){Ext.Container.prototype.updateHidden.call(this,b,a);this.destroyAllRipples()},privates:{associatedData:!0,doHover:!0,showSelectionCls:'x-show-selection',multiSelectCls:'x-multi-select',markDirtyCls:'x-mark-dirty',scrollbarSelector:'.x-scrollbar',scrollDockAliases:{top:'start',bottom:'end'},attachStoreEvents:function(b,a){this.storeListeners=b.on(a)},createLocation:function(){var a=this.getNavigationModel();return a.createLocation.apply(a,arguments)},getSelection:function(){return this.getSelectable().getSelectedRecord()},setSelection:function(a){return this.getSelectable().setSelectedRecord(a)},generateSelectorFunctions:function(){var a=this.getRenderTarget(),b=this.bodyElement;this.eventDelegate=this.itemSelector=function(c){return c&&(c.parentNode===b.dom||c.parentNode===a.dom)}},bindStore:function(a){this._trueStore=a;this.dataRange=a.createActiveRange()},clearMask:function(){this.setMasked(!1);this.autoMask=!1},clearPressedCls:function(f,b){var c=this,e=b.record,a=b.child,d;c.clearPressedTimer();if(e&&a){d=a.isWidget?a.element:Ext.fly(a);d.removeCls(c.pressedCls)}c.fireChildEvent(f,b)},clearPressedTimer:function(){var a=this.pressedTimeout;if(a){Ext.undefer(a);delete this.pressedTimeout}},doAddPressedCls:function(c){var b=this,a=b.itemFromRecord(c);if(a){a=a.isWidget?a.element:Ext.fly(a);a.addCls(b.pressedCls)}},doClear:function(){this.syncEmptyState()},doChildTouchStart:function(b){var a=this,c=b.record,e=a.getItemButtonMode(),d=a.getPressedDelay();a.clearPressedTimer();if(c){if(d>0){a.pressedTimeout=Ext.defer(a.doAddPressedCls,d,a,[c])}else {a.doAddPressedCls(c)}if(e){a.lastPressedLocation=b;Ext.GlobalEvents.setPressedComponent(a,b)}}},onRelease:function(){var a=this;if(a.lastPressedLocation){a.clearPressedCls('release',a.lastPressedLocation)}a.lastPressedLocation=null},ensureVisiblePlan:function(b,a){var d=this.store,c;if(b.record){a=Ext.apply({},b);b=a.record;delete a.record}else {a=Ext.apply({},a)}if(b.isEntity){c=d.indexOf(b)}else if(typeof b==='number'){c=b;b=d.getAt(b)}a.record=b;a.recordIndex=c;a.animation=a.animation||a.animate;a.async=!!a.animation;a.steps=[];if(c<0||c>=d.getCount()){a.promise=Ext.Deferred.getCachedRejected()}else {if(this.dataRange.isVirtualRange&&!b&&(c||c===0)){a.async=!0}a.steps.push('ensureVisibleFocus','ensureVisibleSelect','ensureVisiblePrep')}return a},ensureVisibleFocus:function(a){if(a.focus){var c=this,b=c.isGrid;if(b&&!('column' in a)){a.column=0}if(a.async){a.promise=a.promise.then(function(d){c.getNavigationModel().setLocation(b?a:a.record);return d})}else {c.getNavigationModel().setLocation(b?a:a.record)}}},ensureVisiblePrep:function(b){var d=this,e=d.dataRange,f=function(){delete e['goto'];return a?e['goto'](a[0],a[1]).then(function(){b.record=d.store.getAt(b.recordIndex);if(!b.record){throw new Error('Unable to get record')}}):Ext.Promise.resolve()},a,c;if(b.async){e['goto']=function(c,d){if(a){a[0]=c;a[1]=d}else {a=[c,d]}};c=d.ensureVisibleScroll(b);c=c.then(function(a){return f().then(function(){return a})},function(a){f();throw a})}else {c=d.ensureVisibleScroll(b)}b.promise=c},ensureVisibleScroll:function(a){var b=a.item||(a.item=this.itemFromRecord(a.recIndex));return this.getScrollable().ensureVisible(b.el,{animation:a.animation})},ensureVisibleSelect:function(a){if(a.select){var d=this,c=d.getSelectable(),b;if(a.async){a.promise=a.promise.then(function(e){if(a.column){b=d.createLocation(a);c.selectCells(b,b)}else {c.select(a.record)}return e})}else {if(a.column){b=d.createLocation(a);c.selectCells(b,b)}else {c.select(a.record)}}}},filterScrollDockStart:function(b){var a=b.scrollDock;return a==='start'||a==='top'},filterScrollDockEnd:function(b){var a=b.scrollDock;return a==='end'||a==='bottom'},findTailItem:function(c){var h=this,b=c?h.innerItems:h.items.items,g=-1,f=null,a,e,d;for(a=b.length;a-->0;){e=b[a];d=e.scrollDock;if(d==='end'){f=b[g=a]}else {break}}return c?f:g},fireChildEvent:function(f,a){var b=this,c='item'+f,e='child'+f,d=b.hasListeners;if(d[e]){b.fireEvent(e,b,a)}if(d[c]&&a.record){b.fireEvent(c,b,a.viewIndex,a.item,a.record,a.event)}},getEmptyTextCmp:function(){var a=this,b=a.emptyTextCmp;if(!b){a.emptyTextCmp=b=a.add(a.createEmptyText(a.getEmptyText()))}return b},getRecordIndexFromPoint:function(b,c){var a=this.getItemFromPoint(b,c);return a?this.mapToRecordIndex(a):-1},getItemFromPoint:function(f,g){var a=this,d=a.getScrollable(),b=d.getPosition(),c=d.getSize(),e=a.getScrollerTarget().getXY();return a.getItemFromPagePoint(Math.max(Math.min(f,c.x),0)+e[0]-b.x,Math.max(Math.min(g,c.y),0)+e[1]-b.y)},getItemFromPagePoint:function(h,i){var d=this.getFastItems(),g=d.length,f=new Ext.util.Point(h,i),e=null,b,a,c;for(b=0;b<g;b++){a=d[b];c=a.isWidget?a.element:Ext.fly(a);if(c.getRegion().contains(f)){e=a.isWidget?a:Ext.get(c);break}}return e},handleBeforeLoad:function(){var a=this,b=a.getLoadingText();if(b){a.autoMask=!0;a.setMasked({xtype:'loadmask',message:b})}a.hideEmptyText()},hideEmptyText:function(){var a=this.emptyTextCmp;if(a){a.hide()}},indexModifiedFields:function(a){return a},itemAs:function(c,b){var a=c;if(typeof a==='number'){a=null}else if(a){if(b==='cmp'){if(!a.isWidget){a=Ext.getCmp(a.id)}}else {if(a.isWidget){a=a.el}if(a){if(a.isElement){if(b==='dom'){a=a.dom}}else if(b==='el'){a=Ext.fly(a)}}}}return a},itemFromRecord:function(a){var b=a.isEntity?this.store.indexOf(a):a;return b>-1&&this.dataItems[b]||null},onContainerTrigger:function(b){var a=this;if(b.target===a.element.dom){if(a.getDeselectOnContainerClick()&&a.store){a.getSelectable().deselectAll()}}},runRefresh:function(){var a=this,c=a.store,d=a.getScrollToTopOnRefresh(),b=!d&&a.getScrollable(),e=b&&b.getMaxPosition().y;a.syncEmptyState();if(c&&!a.isConfiguring&&(c.isTreeStore||!c.hasPendingLoad())){a.fireEventedAction('refresh',[a],'doRefresh',a,[d]);if(b&&b.getMaxPosition().y<e){b.refresh()}}},saveFocusState:function(){var b=this,f=b.getNavigationModel(),e=f.location,g,c,d,a;if(e){c=e.record;g=e.viewIndex;return function(){d=b.getFastItems().length;if(d){if(c){a=b.mapToItem(c)}if(!a){a=b.mapToItem(Math.min(g||0,d-1))}f.setLocation(null);f.setLocation(a)}}}return Ext.emptyFn},setItemHidden:function(a,b){if(b){if(!a.$hidden){a.hide();a.$hidden=!0}}else if(a.$hidden){a.$hidden=!1;a.show()}},setItemSelection:function(e,l){e=Ext.Array.from(e);var b=this,m=b.store,n=e.length,i=b.pressedCls,h=b.selectedCls,j=i,d,f,k,a,g,c;d=m.isVirtualStore?b.allPartners||b.selfPartner||[]:[b];if(!l){j=[i,h]}else {g=h}for(c=0;c<d.length;c++){if(!d[c].isConfiguring&&!d[c].destroyed){for(f=0;f<n;f++){k=e[f];a=d[c].itemFromRecord(k);if(a){a=a.isWidget?a.element:Ext.fly(a);a.removeCls(j);if(g){a.addCls(g)}}}}}},shouldRippleItem:function(a,c){var b=this.getDisableSelection();if(!b&&this.isItemSelected(a)){return !1}return this.mixins.itemrippler.shouldRippleItem.call(this,a,c)},syncEmptyState:function(){var a=this,c=a.store,d=!c||!c.getCount()&&a.getEmptyText(),b=a.emptyTextCmp;if(!d){if(b){b.hide()}}else if((a.hasLoadedStore||!a.getDeferEmptyText())&&!(c&&c.hasPendingLoad())){b=b||a.getEmptyTextCmp();b.show()}a.setEmptyState(d);return d},toggleChildrenTabbability:function(b){var a=this.getRenderTarget();if(b){a.restoreTabbableState({skipSelf:!0})}else {a.saveTabbableState({skipSelf:!0,includeSaved:!1})}},toggleHoverCls:function(b){var a=this.mouseOverItem;if(a&&!a.destroyed){a.toggleCls(this.hoveredCls,b)}},_onChildEvent:function(d,e){var b=this,c=b.lastPressedLocation,a=b.createLocation(e);if(a.child){a.pressing=!!(c&&c.child===a.child);b[d](a)}return a},_onChildTouchStart:function(c){var a=this._onChildEvent('onChildTouchStart',c).child,b=a&&(a.element||Ext.get(a));if(b){b.on('touchmove','_onChildTouchMove',this)}},_onChildTouchMove:function(a){this._onChildEvent('onChildTouchMove',a)},_onChildTouchEnd:function(c){var a=this._onChildEvent('onChildTouchEnd',c).child,b=a&&(a.element||Ext.get(a));if(b){b.un('touchmove','_onChildTouchMove',this)}},_onChildTouchCancel:function(c){var a=this._onChildEvent('onChildTouchCancel',c).child,b=a&&(a.element||Ext.get(a));if(b){b.un('touchmove','_onChildTouchMove',this)}},_onChildTap:function(a){var b=a.getTarget('.x-item-no-tap',this.element);if(!b){this._onChildEvent('onChildTap',a)}},_onChildTapCancel:function(a){this._onChildEvent('onChildTapCancel',a)},_onChildContextMenu:function(a){this._onChildEvent('onChildContextMenu',a)},_onChildLongPress:function(a){this._onChildEvent('onChildLongPress',a)},_onChildTapHold:function(a){this._onChildEvent('onChildTapHold',a)},_onChildSingleTap:function(a){this._onChildEvent('onChildSingleTap',a)},_onChildDoubleTap:function(a){this._onChildEvent('onChildDoubleTap',a)},_onChildSwipe:function(a){this._onChildEvent('onChildSwipe',a)},_onChildMouseOver:function(a){var b=a.getRelatedTarget(this.itemSelector),c=a.getTarget(this.itemSelector);if(c!==b){this._onChildEvent('onChildMouseOver',a)}},_onChildMouseOut:function(a){var c=a.getRelatedTarget(this.itemSelector),b=a.getTarget(this.itemSelector);if(c!==b||!a.getRelatedTarget(this.eventDelegate)){this._onChildEvent('onChildMouseOut',a)}},_onContainerTouchStart:function(a){var b=this,c;if(a.getTarget(b.scrollbarSelector)){a.preventDefault();c=!0}else if(!a.getTarget(b.itemSelector)){a.preventDefault();if(!b.bodyElement.getClientRegion().contains(a.getPoint())){c=!0}}if(c){b.getNavigationModel().lastLocation='scrollbar'}},setupChildEvent:Ext.privateFn,updateEmptyState:function(f){var g=this,h=g.items.items,d,c,e,a,b;for(e=0;e<h.length;++e){a=h[e];d=a.showInEmptyState;c=b=!1;if(d===!1){c=!(b=!f)}else if(d){if(typeof d==='function'){c=!(b=a.showInEmptyState(f));if(b==null){continue}}else {c=!(b=f)}}if(c){if(a.isInner){g.setItemHidden(a,!0)}else {a.hide()}}else if(b){if(a.isInner){g.setItemHidden(a,!1)}else {a.show()}}}},applyNavigationModel:function(a){if(a){if(typeof a==='string'){a={type:a}}a=Ext.Factory.navmodel(Ext.apply({view:this},a))}return a},updateNavigationModel:function(b,a){Ext.destroy(a)},getUseComponents:function(){return this.isComponentDataView}}},0,0,['widget','component','container'],{'widget':!0,'component':!0,'container':!0},0,[[Ext.mixin.ConfigProxy.prototype.mixinId||Ext.mixin.ConfigProxy.$className,Ext.mixin.ConfigProxy],[Ext.mixin.ItemRippler.prototype.mixinId||Ext.mixin.ItemRippler.$className,Ext.mixin.ItemRippler]],[Ext.dataview,'Abstract'],0);Ext.define('Ext.theme.material.dataview.Abstract',{override:'Ext.dataview.Abstract',config:{itemRipple:{release:!0,color:'default'}}});Ext.cmd.derive('Ext.dataview.GenericItem',Ext.Base,{mixinId:'dataviewitem',isDataViewItem:!0,config:{innerCls:null,contentCls:null,recordIndex:null},updateRecordIndex:function(a){this.el.dom.setAttribute('data-recordindex',a)},getDataview:function(){return this.parent},updateInnerCls:function(a,b){this.innerElement.replaceCls(b,a)},updateContentCls:function(a,b){this.getInnerHtmlElement().replaceCls(b,a)},privates:{$dirty:!1,dirtyCls:'x-dirty',augmentToolHandler:function(c,a){var b=this;a[1]={event:a.pop(),item:b,list:b.parent,record:b.getRecord(),tool:a[1]}},handleEmptyText:function(b){var a;if(!b){a=this.parent;if(a&&a.getEmptyItemText){b=a.getEmptyItemText()}}return b},syncDirty:function(c){var a=this,b=c?c.dirty:!1;if(b!==a.$dirty){a.toggleCls(a.dirtyCls,b);a.$dirty=b}}}},0,0,0,0,0,0,[Ext.dataview,'GenericItem'],0);Ext.cmd.derive('Ext.dataview.DataItem',Ext.Container,function(a){return {alternateClassName:'Ext.dataview.component.DataItem',config:{itemCls:null,dataMap:{cached:!0,$value:null}},html:'\xa0',classCls:'x-dataitem',inheritUi:!0,autoSize:null,defaultType:'component',referenceHolder:!0,template:[{reference:'bodyElement',cls:'x-body-el',uiCls:'body-el',children:[{reference:'innerElement',cls:'x-inner-el',uiCls:'inner-el'}]}],updateItemCls:function(b,c){this.el.replaceCls(c,b)},updateRecord:function(d){var b=this,c,g,f,e;if(b.destroying){return}e=b.getViewModel();if(e){e.setData({record:d})}c=b.getDataMap();g=b.getTpl();if(c){a.executeDataMap(d,b,c)}b.syncDirty(d);if(g||!c||b.hasListeners.updatedata){f=b.parent.gatherData(d);if(g){b.updateData(f)}if(b.hasListeners.updatedata){b.fireEvent('updatedata',b,f)}}},updateHtml:function(c,b){Ext.Container.prototype.updateHtml.call(this,this.handleEmptyText(c),b)},privates:{applyDataMap:function(b){return a.parseDataMap(b)},getRenderTarget:function(){return this.innerElement},statics:{assignDataToItem:function(m,i,h,l){var k=Ext.Config.map,j,e,c,f,d,g,b;for(d in h){g=l?d:(j=k[d])&&j.names.set;if(!i[g]){continue}e=h[d];b=m;for(c=0,f=e.length;b&&c<f;++c){b=b.interpret(e[c])}i[g](c<f?null:b)}},executeDataMap:function(h,d,g){var b,e,c,f;for(b in g){if(!(f=g[b])){continue}e=!1;if(!(c=b==='#'?d:d.lookup(b))){if(typeof d[b]==='function'){c=d[b]();e=!0}if(!c){continue}}a.assignDataToItem(h,c,f,e)}},parseDataMap:function(e){var g={},f,b,c,d;for(c in e){g[c]=f={};b=e[c];for(d in b){f[d]=b[d].split('.')}}return g}}}}},0,['dataitem'],['widget','component','container','dataitem'],{'widget':!0,'component':!0,'container':!0,'dataitem':!0},['widget.dataitem'],[[Ext.dataview.GenericItem.prototype.mixinId||Ext.dataview.GenericItem.$className,Ext.dataview.GenericItem]],[Ext.dataview,'DataItem',Ext.dataview.component,'DataItem'],0);Ext.cmd.derive('Ext.dataview.Component',Ext.dataview.Abstract,{isComponentDataView:!0,config:{itemInnerCls:null,itemConfig:{xtype:'dataitem'},itemContentCls:null,itemDataMap:null,maxItemCache:20,striped:null,itemCount:0},firstCls:'x-first',lastCls:'x-last',oddCls:'x-odd',beforeInitialize:function(a){this.itemCache={max:0,unused:[]};Ext.dataview.Abstract.prototype.beforeInitialize.call(this,a)},isFirstItem:function(a){return a===this.getFirstItem()},isFirstDataItem:function(a){return a===this.getFirstDataItem()},isLastItem:function(a){return a===this.getLastItem()},isLastDataItem:function(a){return a===this.getLastDataItem()},doDestroy:function(){Ext.destroy(this.itemCache.unused,this.dataRange);Ext.dataview.Abstract.prototype.doDestroy.call(this)},onRender:function(){var a=this,b=a.getItemConfig(),c=b.viewModel;if(c){a.hasItemVm=!0;b.viewModel=Ext.applyIf({scheduler:null},c);if(!a.lookupViewModel()){a.setViewModel(!0)}}Ext.dataview.Abstract.prototype.onRender.call(this)},getViewItems:function(){return this.getInnerItems().slice()},onStoreAdd:function(c,d,b){var a=this;Ext.dataview.Abstract.prototype.onStoreAdd.apply(this,arguments);a.setItemCount(c.getCount());a.syncItemRange(a.getStoreChangeSyncIndex(b))},onStoreRemove:function(h,g,e){var a=this,b=g.length,d=a.dataItems.splice(e,b),f=a.getItemCount(),c;Ext.dataview.Abstract.prototype.onStoreRemove.apply(this,arguments);if(!d.length){return}for(c=b;c-->0;){a.removeDataItem(d[c])}a.setItemCount(f-b);a.syncItemRange(a.getStoreChangeSyncIndex(e))},updateItemInnerCls:function(d){if(!this.isConfiguring){var c=this.dataItems,e=c.length,a,b;for(a=0;a<e;a++){b=c[a];if(b.setInnerCls){b.setInnerCls(d)}}}},applyItemConfig:function(a,b){a=a||{};if(b&&!a.xtype&&!a.xclass){var d=b.xtype,c=b.xclass;if(d||c){a=Ext.apply({},a);a[c?'xclass':'xtype']=c||d}}return a},updateItemConfig:function(){if(!this.isConfiguring){this.clearItems();this.refresh()}},updateItemContentCls:function(d){if(!this.isConfiguring){var c=this.dataItems,e=c.length,a,b;for(a=0;a<e;a++){b=c[a];if(b.setContentCls){b.setContentCls(d)}}}},applyItemDataMap:function(a){return Ext.dataview.DataItem.parseDataMap(a)},updateMaxItemCache:function(a){this.itemCache.max=a},updateStriped:function(e){var a=this,d=a.dataItems,g=a.oddCls,b,c,f;a.striped=!!e;if(!a.isConfiguring){for(b=0;b<d.length;++b){c=d[b].el;f=e?+c.dom.getAttribute('data-recordindex'):0;c.toggleCls(g,f%2)}}},privates:{dataRange:null,infinite:!1,striped:!1,_itemChangeHandlers:['changeItemRecordIndex','changeItemRecord','changeItemIsFirst','changeItemIsLast'],acquireItem:function(c,f){var b=this,d=null,e,a;if(typeof c==='number'){d=c;c=null}if(!c){c=b.getItemConfig();f=b.getItemsFocusable()}if(!(a=b.itemCache.unused.pop())){a=b.createDataItem(c);a=b.addDataItem(a,d);e=a.element;if(f){(a.getFocusEl()||e).setTabIndex(-1)}e.dom.setAttribute('data-viewid',b.id)}else {a.removeCls(b._cachedRemoveClasses);b.addDataItem(a,d)}return a},addDataItem:function(a,b){var c=this;if(b===null){b=c.findTailItem(!1)}a=b<0?c.add(a):c.insert(b,a);c.dataItems.push(a);return a},changeItem:function(f,b){var c=this,h=c.store,l=h.currentPage,m=b+(l?(l-1)*h.pageSize:0),o=c.dataItems,i=f<0?o.length+f:f,k=c.dataRange.records[b],d=c.getItemForRecord(i,k,b),n=h.getCount(),j=c._itemChangeHandlers,a={isFirst:!b,isLast:b===n-1,item:d,itemIndex:i,record:k,recordIndex:b,datasetIndex:m},e,g;a.afterEl=a.beforeEl=a.itemEl=g=d.renderElement;a.itemClasses=g.getClassMap(!1);a.isFirstChanged=d.isFirst!==a.isFirst;a.isLastChanged=d.isLast!==a.isLast;for(e=0;e<j.length;++e){c[j[e]](a)}g.setClassMap(a.itemClasses,!0);return a},changeItemIsFirst:function(a){if(!a.isFirstChanged){return}var d=this,f=d.firstCls,h=a.item,e=a.itemClasses,b=d.scrollDockedItems,c,g;if(!(h.isFirst=a.isFirst)){delete e[f]}else {e[f]=1;if(b&&!d.infinite){b=b.start.items;g=b.length;for(c=0;c<g;++c){b[c].renderElement.insertBefore(a.beforeEl)}}}},changeItemIsLast:function(a){if(!a.isLastChanged){return}var d=this,h=a.item,e=a.itemClasses,f=d.lastCls,b=d.scrollDockedItems,c,g;if(!(h.isLast=a.isLast)){delete e[f]}else {e[f]=1;if(b&&!d.infinite){b=b.end.items;g=b.length;for(c=0;c<g;++c){b[c].renderElement.insertAfter(a.afterEl)}}}},changeItemRecord:function(a){this.syncItemRecord(a)},changeItemRecordIndex:function(a){var b=a.item,c=a.recordIndex,d=a.itemClasses,e=this.oddCls;b.$datasetIndex=a.datasetIndex;if(b.isDataViewItem){if(b.getRecordIndex()!==c){b.setRecordIndex(c)}}else {b.el.dom.setAttribute('data-recordindex',c)}if(this.striped&&a.recordIndex%2){d[e]=1}else {delete d[e]}},clearItemCaches:function(){var a=this.itemCache.unused;Ext.destroy(a);a.length=0},clearItems:function(){var a=this,c=a.dataItems,e=c.length,d=a.itemCache.unused,b;for(b=0;b<e;++b){a.removeDataItem(c[b],!0)}Ext.destroy(d);c.length=d.length=0;a.setItemCount(0)},createDataItem:function(d){var b=this,c,a;a={xtype:b.getDefaultType(),tpl:b.getItemTpl(),$dataItem:'record'};c=b.getItemInnerCls();if(c){a.innerCls=c}c=b.getItemContentCls();if(c){a.contentCls=c}a=Ext.apply(a,d||b.getItemConfig());a.cls=[a.cls,b.getMarkDirty()?b.markDirtyCls:'',b.getItemCls()].join(' ');return a},doClear:function(){this.setItemCount(0);Ext.dataview.Abstract.prototype.doClear.call(this)},doRefresh:function(e){var a=this,c=a.dataRange.records.length,d=a.getScrollable(),b;++a.refreshCounter;if(d&&e){d.scrollTo(0,0)}if(c){b=a.saveFocusState();a.hideEmptyText();a.setItemCount(c);a.syncItemRange();if(a.hasSelection()){a.setItemSelection(a.getSelections(),!0)}b()}else {a.doClear()}},getCacheForItem:function(){return this.itemCache},getFastItems:function(){return this.getInnerItems()},getItemForRecord:function(a){return this.dataItems[a]},getStoreChangeSyncIndex:function(a){return a},removeCachedItem:function(a,g,c,f){var e=this,d=!1,b=!g&&c&&c.unused;if(b&&b.length<c.max){if(f){e.setItemHidden(a,!0)}else {e.remove(a,!1)}b.push(a)}else {a.destroy();d=!0}return d},removeDataItem:function(b,a){return this.removeCachedItem(b,a,!a&&this.getCacheForItem(b))},syncItemRange:function(d,b){var c=this.store.getCount(),a;if(b==null){b=c}for(a=d||0;a<b;++a){this.changeItem(a,a)}},syncItemRecord:function(d,g){var f=this,a=d.item,c=d&&d.itemClasses,h=a.getRecord(),b=g||d.record,j=f.getItemDataMap(),k=a.el,i=a.getViewModel(),e=f.selectedCls;if(h===b){if(!g){if(a.isRecordRefreshable){a.refresh(d)}else {a.updateRecord(b,h)}}}else {if(f.getSelectable().isRowSelected(b)){if(c){c[e]=!0}else {k.addCls(e)}}else if(c){delete c[e]}else {k.removeCls(e)}a.setRecord(b);a.el.dom.setAttribute('data-recordid',b.internalId);if(a.isDragging){if(a.draggingRecordId===b.id){c[a.dragMarkerCls]=!0}else {delete c[a.dragMarkerCls]}}}if(j){Ext.dataview.DataItem.executeDataMap(b,a,j)}if(i){i.setData({record:d.record})}},traverseItem:function(a,f){var g=this,c=g.innerItems,d=null,e=a,b;if(a){if(a.isElement){e=Ext.getCmp(a.id)}b=c.indexOf(e);if(b>-1){d=c[b+f]||null}}return d},updateItemCount:function(c){var a=this,b=a.dataItems,e,d;if(b.length<c){e=a.getItemConfig();d=a.getItemsFocusable();while(b.length<c){a.acquireItem(e,d)}}while(b.length>c){a.removeDataItem(b.pop())}}}},0,['componentdataview'],['widget','component','container','componentdataview'],{'widget':!0,'component':!0,'container':!0,'componentdataview':!0},['widget.componentdataview'],0,[Ext.dataview,'Component'],function(b){var a=b.prototype;a._cachedRemoveClasses=[a.pressedCls,a.selectedCls]});Ext.cmd.derive('Ext.dataview.GroupStore',Ext.data.ChainedStore,{isGroupStore:!0,syncSourceGrouping:!0,getRootSource:function(){var a=this.source;while(a&&a.getSource){a=a.getSource()}return a},getTotalCount:function(){return this.getRootSource().getTotalCount()},load:function(b){var a=this.getRootSource();if(!a){return}return a.load.apply(a,arguments)},loadPage:function(b,d){var c=this,a=this.getRootSource();c.currentPage=b;if(!a){return}return a.loadPage.apply(a,arguments)},sync:function(b){var a=this.getRootSource();return a.sync.apply(a,arguments)},erase:function(b){var a=this.getRootSource();return a.erase.apply(a,arguments)},nextPage:function(a){this.loadPage(this.currentPage+1,a)},previousPage:function(a){this.loadPage(this.currentPage-1,a)},setGrouper:function(a){var c=this,b=c.getSource();if(b&&a!==b.getGrouper()){b.setGrouper(a);a=b.getGrouper()}(arguments.callee.$previous||Ext.data.ChainedStore.prototype.setGrouper).call(this,a);c.refreshFromSource()},constructDataCollection:function(){var b=this,a=Ext.data.ChainedStore.prototype.constructDataCollection.call(this);a.transformItems=function(c){return b.transformItems(a,c)};return a},createFiltersCollection:function(){return this.getSource().getFilters()},refreshFromSource:function(){var b=this.getData(),a=this.list,c=a.getScrollToTopOnRefresh();a.setScrollToTopOnRefresh(!1);b.onCollectionRefresh(b.getSource());a.setScrollToTopOnRefresh(c)},transformItems:function(r,f){var q=this,u=f.length,i=q.list,g=i.isGrouping()&&i.getCollapsible(),p=f,n={},o=q.getSource(),t=o.getModel(),s=g&&o.getGrouper().getProperty(),m,c,h,e,d,a,j,l,b,k;if(g){l=r.getSource().getGroups();k=g.getCollapsed();for(d=0;d<u;++d){j=f[d];b=l.getItemGroup(j);h=i.groupFrom(e=b.getGroupKey());m=h?h.collapsed:k;if(m){if(!c){c=p=f.slice(0,d)}if(!n[e]){if(!(a=b.placeholderRec)){b.placeholderRec=a=new t();a.data[s]=a.$groupKey=e;a.$groupValue=b.getGroupValue();a.$collapsedGroupPlaceholder=!0;a.$srcGroup=b}n[e]=a;c.push(a)}}else if(c){c.push(j)}}}return p},updateSource:function(b,a){var c=this;if(b){c.list.store=c}if(a&&!a.destroyed&&a.getAutoDestroy()){a.destroy()}Ext.data.ChainedStore.prototype.updateSource.call(this,b,a);if(b&&!c.destroying){c.getSorters().setSource(b.getSorters())}}},0,0,0,0,0,0,[Ext.dataview,'GroupStore'],0);Ext.cmd.derive('Ext.dataview.Pinnable',Ext.Base,{mixinId:'dataviewpinnable',isDataViewPinnable:!0,config:{pinned:null},pinnedCls:'x-pinned',updatePinned:function(e){var d=this,f=d.el,b=d.pinnedCls,c=d._pinnedClsMap,a=f.getClassMap(!1);delete a[c.top];delete a[c.bottom];if(e){a[b]=!0;b=c[e];if(b){a[b]=!0}}else {delete a[b]}f.setClassMap(a,!0)},_pinnedClsMap:{top:'x-pinned-top',bottom:'x-pinned-bottom'}},0,0,0,0,0,0,[Ext.dataview,'Pinnable'],0);Ext.cmd.derive('Ext.dataview.ItemHeader',Ext.Component,{isItemHeader:!0,config:{group:null,contentWidth:null},html:'\xa0',classCls:'x-itemheader',inheritUi:!0,toolDefaults:{ui:'itemheader'},template:[{reference:'bodyElement',cls:'x-body-el',uiCls:'body-el'}],setGroup:function(b){var a=this,c=a._group;a._group=b;a.updateGroup(b,c);return a},updateGroup:function(d,b){var a=this,g,c,h,e,f;if(b&&d!==b&&b.getHeader()===a){b.setHeader(null)}if(d){d.setHeader(a);e=a.parent;c=e.getStore().getGrouper();f=c&&c.owner===e&&c.headerTpl||a.getTpl();if(f){g=a.getGroupHeaderTplData();h=f.apply(g)}}a.setHtml(h||'\xa0')},getScrollerTarget:function(){return this.el},doDestroy:function(){this.mixins.toolable.doDestroy.call(this);Ext.Component.prototype.doDestroy.call(this)},privates:{augmentToolHandler:function(c,a){var b=a[1]={event:a.pop(),group:this.getGroup(),itemHeader:a[0],tool:a[1]};a[0]=b.list=this.parent},getGroupHeaderTplData:function(d){var c=this.getGroup(),e=this.parent,b=c&&c.data,a=b&&{name:b.getGroupKey(),group:c,groupField:e.getStore().getGrouper().getProperty(),children:b.items,count:b.length};if(a&&b.getCount()){a.value=b.items[0].data[a.groupField]}if(!d){a.html=Ext.htmlEncode(a.name)}a.groupValue=a.value;return a},getList:function(){return this.parent},onToggleCollapse:function(){this.getGroup().toggleCollapsed()},updateContentWidth:function(a){var b=this._toolDockWrap||this.bodyElement;if(b){b.setWidth(a?a:null)}}}},0,['itemheader'],['widget','component','itemheader'],{'widget':!0,'component':!0,'itemheader':!0},['widget.itemheader'],[[Ext.mixin.Toolable.prototype.mixinId||Ext.mixin.Toolable.$className,Ext.mixin.Toolable],[Ext.dataview.Pinnable.prototype.mixinId||Ext.dataview.Pinnable.$className,Ext.dataview.Pinnable]],[Ext.dataview,'ItemHeader'],0);Ext.cmd.derive('Ext.dataview.ListCollapser',Ext.Base,{isListCollapser:!0,config:{collapsed:null,collapseToolText:'Collapse this group',expandToolText:'Expand this group',footer:!1,tool:{xtype:'tool',type:'collapse',handler:'up.onToggleCollapse',itemId:'groupCollapser',weight:900,zone:'end'}},collapsedCls:'x-group-collapsed',list:null,constructor:function(a){this.initConfig(a)},privates:{isRecordRendered:function(a){var c=this.list,b=c.groupFrom(a);return !(b&&b.collapsed)&&c.isRecordRendered(a)}}},1,0,0,0,0,0,[Ext.dataview,'ListCollapser'],0);Ext.cmd.derive('Ext.dataview.ListGroup',Ext.Base,{$configPrefixed:!1,config:{collapsed:null,collapsible:null,header:null},data:null,list:null,beginIndex:-1,endIndex:-1,nextGroup:null,previousGroup:null,constructor:function(a){this.initConfig(a)},collapse:function(){this.toggleCollapsed(!0)},expand:function(){this.toggleCollapsed(!1)},getCollapseTool:function(){var a=this.peekHeader();return a&&a.lookupTool('groupCollapser')},isAttached:function(){var b=this,e=b.data,d=b.list,a=d.store.getGroups(),c;a=a.get(e.getGroupKey());c=Ext.getExpando(a,d.expandoKey);return c===b},toggleCollapsed:function(b){var a=this,d=a.list,c;if(a.getCollapsible()!==!1&&a.isAttached()){if(b==null){b=!a.getCollapsed()}c='beforegroup'+(b?'collapse':'expand');if(d.fireEvent(c,d,a)!==!1){a.setCollapsed(b)}}},applyCollapsed:function(a){return !!a},updateCollapsed:function(a,g){var b=this,f=b.list,c=f.getCollapsible(),d=b.getCollapseTool(),e=b.peekHeader();if(b.isAttached()){if(d){d.setType(a?'expand':'collapse');d.setTooltip(a?c.getExpandToolText():c.getCollapseToolText())}if(e){e.el.toggleCls(c.collapsedCls,a)}if(a!==!!g){f.syncGroupCollapse(b,a)}}},updateHeader:function(d){if(d){var b=this,c=b.list.getCollapsible(),a=b.getCollapsed();if(c){if(!b.getCollapseTool()){d.addTool(c.getTool())}if(a===!!a){b.updateCollapsed(a,a)}else {b.setCollapsed(!!a)}}}},peekHeader:function(){var b=this,a=b.getHeader();if(a&&(a.destroying||!b.isAttached())){b.setHeader(a=null)}return a}},1,0,0,0,0,0,[Ext.dataview,'ListGroup'],function(a){var b=a.prototype;Ext.each(['contains','containsAll','containsKey','each','eachKey','find','findBy','findIndex','findIndexBy','first','last','get','getAt','getByKey','getCount','getRange','getValues','indexOf','indexOfKey','getSummaryRecord'],function(c){b[c]=function(){var b=this.data;return b&&b[c].apply(b,arguments)}})});Ext.cmd.derive('Ext.dataview.Disclosable',Ext.Base,{mixinId:'disclosable',isListItem:!0,toolDefaults:{ui:'listitem'},toolAnchorName:'innerElement',getDisclosure:function(){return this.lookupTool('disclosure')},privates:{invokeDisclosure:function(c,b,d){var a=this.parent;if(c.type==='disclosure'&&!b){if(a&&a.onItemDisclosureTap){a.onItemDisclosureTap(this,d);return !0}}},syncDisclosure:function(d){var b=this,a=b.getDisclosure(),c=b.parent;if(a){a.setHidden(c.shouldHideDisclosure(d))}}}},0,0,0,0,0,0,[Ext.dataview,'Disclosable'],0);Ext.cmd.derive('Ext.dataview.SimpleListItem',Ext.Component,{alternateClassName:'Ext.dataview.component.SimpleListItem',classCls:'x-listitem',inheritUi:!0,html:'\xa0',template:[{reference:'bodyElement',cls:'x-body-el',uiCls:'body-el',children:[{reference:'innerElement',cls:'x-inner-el',uiCls:'inner-el'}]}],doDestroy:function(){this.mixins.toolable.doDestroy.call(this);Ext.Component.prototype.doDestroy.call(this)},handleFocusEvent:Ext.emptyFn,updateRecord:function(c){var a=this,b,d;if(a.destroying||a.destroyed){return}b=a.parent;d=b&&b.gatherData(c);a.updateData(d);a.syncDisclosure(c)},updateHtml:function(b,a){Ext.Component.prototype.updateHtml.call(this,this.handleEmptyText(b),a)},privates:{getRenderTarget:function(){return this.innerElement},invokeToolHandler:function(a,b,d,e,c){if(this.invokeDisclosure(a,b,c)){return !1}return a.invokeToolHandler(a,b,d,e,c)}}},0,['simplelistitem'],['widget','component','simplelistitem'],{'widget':!0,'component':!0,'simplelistitem':!0},['widget.simplelistitem'],[[Ext.dataview.Disclosable.prototype.mixinId||Ext.dataview.Disclosable.$className,Ext.dataview.Disclosable],[Ext.mixin.Toolable.prototype.mixinId||Ext.mixin.Toolable.$className,Ext.mixin.Toolable],[Ext.dataview.GenericItem.prototype.mixinId||Ext.dataview.GenericItem.$className,Ext.dataview.GenericItem],[Ext.dataview.Pinnable.prototype.mixinId||Ext.dataview.Pinnable.$className,Ext.dataview.Pinnable]],[Ext.dataview,'SimpleListItem',Ext.dataview.component,'SimpleListItem'],0);Ext.cmd.derive('Ext.dataview.ListItemPlaceholder',Ext.dataview.SimpleListItem,{isListItemPlaceholder:!0,config:{group:null},html:'',cls:'x-listitem-placeholder'},0,['listitemplaceholder'],['widget','component','simplelistitem','listitemplaceholder'],{'widget':!0,'component':!0,'simplelistitem':!0,'listitemplaceholder':!0},['widget.listitemplaceholder'],0,[Ext.dataview,'ListItemPlaceholder'],0);Ext.cmd.derive('Ext.dataview.List',Ext.dataview.Component,{alternateClassName:'Ext.List',isList:!0,config:{bufferSize:20,collapseDefaults:{cached:!0,$value:{xclass:'Ext.dataview.ListCollapser'}},collapsible:{lazy:!0,$value:!0},disclosureProperty:'disclosure',grouped:!0,groupFooter:{cached:!0,$value:null},groupHeader:{cached:!0,$value:{xtype:'itemheader',tpl:'{html} ({count})'}},groupPlaceholder:{cached:!0,$value:{xtype:'listitemplaceholder'}},indexBar:null,infinite:null,minimumBufferDistance:5,onItemDisclosure:{$value:null,merge:function(a,d,b){var c=a&&b&&b.$isClass&&typeof a;if(c==='string'||c==='function'){return {handler:a,scope:'self'}}return a}},pinFooters:!1,pinHeaders:!0,pinnedFooter:{lazy:!0,$value:null},pinnedHeader:{lazy:!0,$value:{xtype:'itemheader'}},preventSelectionOnDisclose:!0,preventSelectionOnTool:!0,rowLines:null,useSimpleItems:null,variableHeights:null,grouping:null,horizontalOverflow:{evented:!0,$value:null},innerCtHeight:null,innerWidth:null,pinnedFooterHeight:null,pinnedHeaderHeight:null,topRenderedIndex:null,verticalOverflow:null,visibleHeight:null,visibleLeft:null,visibleTop:null,visibleWidth:null},bufferableMethods:{syncVerticalOverflow:1},classCls:'x-list',itemConfig:{xtype:'simplelistitem'},maintainChildNodes:!1,placeholderHeight:null,rowHeight:0,scrollable:{x:!1,y:!0},storeEventListeners:{groupchange:'onStoreGroupChange',totalcountchange:'onStoreTotalCountChange'},template:[{reference:'bodyElement',cls:'x-body-el',uiCls:'body-el',children:[{reference:'outerCt',className:'x-list-outer-ct',children:[{reference:'innerCt',className:'x-list-inner-ct'}]}]}],beforeInitialize:function(c){var a=this,b=a.getInfinite();if(!b){a.innerCt.on('resize','onInnerCtResize',a)}a.expandoKey='list-'+a.$iid;a.gapMap={};if(!a.itemTranslationMethod){a.itemTranslationMethod=Ext.supports.TranslateYCausesHorizontalScroll?'cssposition':'csstransform'}a.groupingInfo={header:{config:a.getGroupHeader(),creator:'createGroupHeader',name:'$header',offset:0,max:0,unused:[]},footer:{config:a.getGroupFooter(),creator:'createGroupFooter',name:'$footer',offset:1,max:0,unused:[]},placeholder:{max:0,unused:[]}};a.bodyElement.on({resize:'onBodyResize',scope:a});a.selfPartner=[a];a.stickyItems=[];a.stickyItemsByRecordId={};Ext.dataview.Component.prototype.beforeInitialize.call(this,c)},doDestroy:function(){var a=this,b=a.groupingInfo,c=Ext.Viewport;if(a.infinite&&Ext.os.is.iOS&&c){c.un('orientationchange','onOrientationChange',a)}Ext.destroy(a.resyncListener,b.header.unused,b.footer.unused,b.placeholder.unused);Ext.dataview.Component.prototype.doDestroy.call(this)},createIndexBar:function(a){return Ext.apply({xtype:'indexbar',$initParent:this,parent:this,hidden:!0},a)},createPinnedFooter:function(b){var a=this.createPinnedHeaderFooter(b);a.bottom=0;a.pinned='bottom';return a},createPinnedHeader:function(e){var d=this,b=d.getGroupHeader(),a=d.createPinnedHeaderFooter(e),c;a.top=0;a.pinned='top';if(!a.tpl&&b.tpl){a.tpl=b.tpl}if(!('tools' in a)){c=b&&b.tools;if(c){a.tools=c}}return a},groupFrom:function(a){var d=this,f=d.isGrouping()&&d.store,e=null,h=d.expandoKey,b=null,g,c;if(f){c=f.getGroups();if(a.isGroup){a=a.getGroupKey()}else if(a.isModel){a=c.getGrouper().getGroupString(a)}e=c.get(a);if(e){if(!(b=Ext.getExpando(e,h))){if(f.isGroupStore){c=f.getSource().getGroups()}b={data:c.get(a),list:d};g=d.getCollapsible();if(g){b.collapsed=g.getCollapsed()}b=new Ext.dataview.ListGroup(b);Ext.setExpando(e,h,b)}}}return b},isGrouping:function(){var a=this,c=a.getGrouped()&&a.store,d=c&&c.getGrouper(),b=!!d;a.setGrouping(b);return b},isRecordRendered:function(a){var b=this,c=b.renderInfo;if(!b.infinite){return !0}if(a.isEntity){a=b.store.indexOf(a)}return a>=c.indexTop&&a<c.indexBottom},mapToViewIndex:function(b){var c=this,a;if(c.infinite&&typeof b==='number'){a=c.renderInfo.indexTop;b-=a}return Ext.dataview.Component.prototype.mapToViewIndex.call(this,b,a)},scrollToRecord:function(b,a){return this.ensureVisible({record:b,animation:a})},shouldSelectItem:function(d){var c=this,b=!Ext.dataview.Component.prototype.shouldSelectItem.call(this,d),a;if(!b){a=d.getTarget(c.toolSelector);a=a&&c.el.contains(a)&&Ext.Component.from(a);if(a){b=a.preventSelection;if(b==null){if(a.type==='disclosure'){b=c.getPreventSelectionOnDisclose()}else {b=c.getPreventSelectionOnTool()}}}}return !b},onBodyResize:function(e,c){var a=this,d=c.height,b=c.width;if(b===a.getVisibleWidth()){a.setVisibleHeight(d)}else {a.suspendSync=!0;a.setVisibleHeight(a.outerCt.measure('h'));a.suspendSync=!1;a.setVisibleWidth(b);a.refreshScrollerSize()}},onItemAdd:function(a,c){var b=this;if(b.infinite){if(a.$dataItem&&b.variableHeights){a.on('resize','onDataItemResize',b)}if(a.isInner){a.setTranslatable({type:b.itemTranslationMethod})}}return Ext.dataview.Component.prototype.onItemAdd.call(this,a,c)},onItemRemove:function(a,f,e){var d=this,c=a.$height,b=a.scrollDock;Ext.dataview.Component.prototype.onItemRemove.call(this,a,f,e);if(b&&c){Ext.Array.remove(d.scrollDockedItems[b].items,a);d.adjustScrollDockHeight(b,-c)}},onStoreAdd:function(c,d,b){var a=this;a.syncEmptyState();if(a.infinite){if(a.getVisibleHeight()){a.refreshGrouping();a.resyncOnPaint()}}else {a.refreshGrouping();a.setItemCount(c.getCount());a.syncItemRange(Math.max(0,b-1))}},onStoreRemove:function(f,d,e){var a=this,b=a.getNavigationModel(),c;if(a.infinite){if(a.getVisibleHeight()){a.refreshGrouping();a.resyncOnPaint()}a.syncEmptyState()}else {a.refreshGrouping();Ext.dataview.Component.prototype.onStoreRemove.call(this,f,d,e)}if(b.location){c=b.location.refresh();b.setLocation(c)}},onStoreUpdate:function(k,c,l,j,d){var a=this,g=a.allPartners,i,b,e,f,h;if(d&&d.groupChanged&&a.isGrouping()){a.refreshGrouping();a.syncRows()}else {Ext.dataview.Component.prototype.onStoreUpdate.call(this,k,c,l,j,d);if(a.partnerManager&&a.isActivePartner()){e=a.measurePartners(c);if(e!==null){for(b=0,i=g.length;b<i;++b){f=g[b];h=f.itemFromRecord(c);f.handleItemResize(h,e,!0)}}}}},applyCollapsible:function(b){var c=this,a=null,d=c.store;if(b&&!(d&&d.isVirtualStore)){a=Ext.clone(c.getCollapseDefaults());if(b!==!0){a=Ext.merge(a,b)}a.list=c;a=Ext.create(a)}return a},updateCollapsible:function(a){},updateGrouped:function(){var a=this;if(a.initialized){a.refreshGrouping();a.syncRows()}},updateGroupFooter:function(b){var a=this.groupingInfo;if(a){a.footer.config=b}},applyGroupHeader:function(a){var b=a&&a.tpl;if(b!=null){a=Ext.apply({},a);a.tpl=Ext.XTemplate.get(b)}return a},updateGroupHeader:function(b){var a=this.groupingInfo;if(a){a.header.config=b}},updateGrouping:function(a){this.toggleCls(this.groupedCls,a)},applyIndexBar:function(b,a){return Ext.updateWidget(a,b,this,'createIndexBar')},updateIndexBar:function(a){if(a){this.add(a)}},applyItemConfig:function(e,d){var c=Ext.dataview.Component.prototype.applyItemConfig.call(this,e,d),a,b;if(this.getOnItemDisclosure()){a={disclosure:!0};b=c.tools;c.tools=b?Ext.merge(a,b):a}return c},updateInfinite:function(c){var a=this,b=Ext.Viewport;a.infinite=c;if(c){a.setItemHidden=a.setItemHiddenInfinite;a.el.addCls(a.infiniteCls);a.innerCt.addCls(a.infiniteCls);a.renderInfo={atBegin:!1,atEnd:!1,bottom:0,height:0,top:0,indexBottom:0,indexTop:0};a.getScrollable().on({scope:a,offsetychange:'onOffsetChange',offsetxchange:'onOffsetChange',scroll:'onContainerScroll',scrollstart:'onContainerScrollStart',scrollend:'onContainerScrollEnd'});if(Ext.os.is.iOS){a.on('navigate',a.onListNavigate,a);if(b){b.on('orientationchange','onOrientationChange',a)}}}else if(Ext.os.is.iOS&&b){b.un('orientationchange','onOrientationChange',a)}},onListNavigate:function(d,a,c){var b=a.sourceElement.nodeName;if(!c||!(b==='INPUT'||b==='TEXTAREA')){return}if(a&&!a.event.touch){return this.ensureVisible({record:a.record,animation:!1,align:{y:'center'}})}},updateMaxItemCache:function(b,c){var a=this.groupingInfo;Ext.dataview.Component.prototype.updateMaxItemCache.call(this,b,c);a.header.max=a.footer.max=a.placeholder.max=b},updatePinFooters:function(c){var a=this,b=a.pinnedFooter;a.pinFooters=c;if(a.isConfiguring){return}if(a.setupFooterPinning()){if(a.infinite){a.syncPinnedFooter()}}else if(b){a.setItemHidden(b,!0)}},applyPinnedFooter:function(e,d){var a=this,c=Ext.updateWidget(d,e,a,'createPinnedFooter'),b;if(!d){b=a.getIndexBar();if(b){b=a.indexOf(b);a.insert(b,c)}else {a.add(c)}a.setItemHidden(c,!0)}return c},updatePinnedFooter:function(a){var b=this;b.pinnedFooter=a;b.setupFooterPinning();if(a){a.$pinnedFooter=!0}},updatePinHeaders:function(c){var a=this,b=a.pinnedHeader;a.pinHeaders=c;if(a.isConfiguring){return}if(a.setupHeaderPinning()){if(a.infinite){a.syncPinnedHeader()}}else if(b){a.setItemHidden(b,!0)}},applyPinnedHeader:function(d,c){var b=this,a=Ext.updateWidget(c,d,b,'createPinnedHeader');if(!c&&a){b.insert(0,a);b.setItemHidden(a,!0)}return a},updatePinnedHeader:function(a){var b=this;b.pinnedHeader=a;b.setupHeaderPinning();if(a){a.$pinnedHeader=!0}},updateRowLines:function(a){this.innerCt.toggleCls(this.noRowLinesCls,a===!1)},createScrollable:function(b){var a=Ext.dataview.Component.prototype.createScrollable.call(this,b);if(this.infinite){a=Ext.apply({type:'virtual',innerElement:this.innerCt},a)}return a},applyStore:function(d,c){var b=this,a=Ext.dataview.Component.prototype.applyStore.call(this,d,c);if(a){if(a.isVirtualStore){b.setCollapsible(null)}else if(b.isGrouping()&&b.getCollapsible()){b.store=a=new Ext.dataview.GroupStore({autoDestroy:!0,list:b,source:a})}}return a},updateUseSimpleItems:function(b){var a=this.getItemConfig();a=Ext.applyIf({xtype:b?'simplelistitem':'listitem'},a);this.setItemConfig(a)},updateVariableHeights:function(a){this.variableHeights=a},privates:{toolSelector:'.x-tool:not(.x-passive)',infiniteCls:'x-infinite',groupFirstCls:'x-group-first',groupLastCls:'x-group-last',groupedCls:'x-grouped',hasPinnedFooterCls:'x-has-pinned-footer',hasPinnedHeaderCls:'x-has-pinned-header',noRowLinesCls:'x-no-row-lines',stickyCls:'x-sticky',tombstoneCls:'x-tombstone',blockingScroll:0,gapAfter:0,groupingInfo:null,heightSyncs:0,manageHorizontalOverflow:!0,pinnedFooter:null,pinnedHeader:null,lastAdjustedPosition:null,measuredHeight:null,renderInfo:null,suspendSync:!1,onContainerScroll:function(f,d,e){var a=this,b,c;if(!a.blockingScroll){b=a._visibleLeft;c=a.infinite?a.lastAdjustedPosition:a._visibleTop;a.setVisibleLeft(d);a.setVisibleTop(e);a.fireEvent('scroll',a,{x:d,y:e,oldX:b,oldY:c})}},onContainerScrollStart:function(){var a=this,b=a.partnerManager;if(a.variableHeights&&b){b.claimActivePartner(a)}a.toggleHoverCls(!1);a.doHover=!1},onContainerScrollEnd:function(){var a=this,b=a.partnerManager;a.doHover=!0;a.toggleHoverCls(!0);if(a.variableHeights&&b){b.releaseActivePartner(a)}},onDataItemResize:function(d,e,c,b,a){if(b===null&&a===null){return}this.handleItemResize(d,c)},onItemDisclosureTap:function(c,e){var a=this,b=c.getRecord(),d=a.store.indexOf(b);a.fireAction('disclose',[a,b,c,d,e],'doDisclose')},onOrientationChange:function(){this.rowHeight=0},_onChildTouchCancel:function(a){if(!a.getTarget(this.toolSelector)){Ext.dataview.Component.prototype._onChildTouchCancel.call(this,a)}},_onChildTouchEnd:function(a){if(!a.getTarget(this.toolSelector)){Ext.dataview.Component.prototype._onChildTouchEnd.call(this,a)}},_onChildTouchStart:function(a){if(!a.getTarget(this.toolSelector)){Ext.dataview.Component.prototype._onChildTouchStart.call(this,a)}},onOffsetChange:function(c){var b=this.dataItems,d=b.length,a;for(a=0;a<d;a++){c.syncOffsets(b[a].getTranslatable())}},onRangeAvailable:function(e,d,f){var b=this,a=b.getSelectable(),c=a.getSelection();b.syncRows();if(c.type==='rows'){a.refreshSelection()}},onScrollDockItemHide:function(a){var b=a.$height;if(b){this.adjustScrollDockHeight(a.scrollDock,-b);a.$height=null}},onScrollDockItemResize:function(b,d,a){var c=b.$height;if(c!==a){b.$height=a;this.adjustScrollDockHeight(b.scrollDock,a-c)}},onScrollDockItemShow:function(b){var a=b.$height;if(a==null){a=this.measureItem(b)}this.adjustScrollDockHeight(b.scrollDock,a)},onStoreGroupChange:function(a){var b=this,c;if(!b.initialized){return}if(!a.isGroupStore){c=a.getAutoDestroy();a.setAutoDestroy(!1);this.setStore(a);a.setAutoDestroy(c)}b.refreshGrouping();b.syncRows()},onStoreTotalCountChange:function(){if(this.getVisibleHeight()){this.syncRowsToHeight()}this.syncEmptyState()},addDataItem:function(c,d){var b=this,a;a=Ext.dataview.Component.prototype.addDataItem.call(this,c,d);if(b.infinite){b.getScrollable().syncOffsets(a.getTranslatable())}a.$height=b.variableHeights?null:b.rowHeight;return a},addScrollDockedItem:function(a){var b=this;if(b.infinite){a.on({hide:'onScrollDockItemHide',resize:'onScrollDockItemResize',show:'onScrollDockItemShow',scope:b});a.$height=null;b.setItemHidden(a,!0)}},adjustContentTop:function(d){var f=this,k=this.dataItems,h=k.length,j=f.renderInfo,i=f.scrollDockedItems,a,e,b,c,g;for(a=0;a<h;++a){e=k[a];f.setItemPosition(e,e.$position+d);b=e.$header;if(b){f.setItemPosition(b,b.$position+d)}b=e.$footer;if(b){f.setItemPosition(b,b.$position+d)}e.$y0+=d;e.$y1+=d}if(i){if(j.atBegin){g=i.start.items;h=g.length;for(a=0;a<h;++a){c=g[a];if(!c.getHidden()){f.setItemPosition(c,c.$position+d)}}}if(j.atEnd){g=i.end.items;h=g.length;for(a=0;a<h;++a){c=g[a];if(!c.getHidden()){f.setItemPosition(c,c.$position+d)}}}}},adjustScrollDockHeight:function(d,c){var b=this,a=b.scrollDockedItems;a=a&&a[d];if(a){a.height+=c;b.resyncOnPaint()}},adjustRenderedRows:function(d,o){var a=this,l=a.getBufferSize(),f=a.getMinimumBufferDistance(),h=a.renderInfo,i=h.indexTop,k=h.indexBottom,p=a.dataItems,e=p.length,n=a.getVisibleHeight(),m=a.store.getCount(),g=a.recordIndexByPosition(d),j=a.recordIndexByPosition(d+n),c,b;if(o<d){if(k-j>=f){return}}else {if(g-i>=f){return}}c=g-(l>>>1);c=Math.max(0,Math.min(c,m-e));b=c-i;if(b>0&&b<e){a.rollDown(b)}else if(b<0&&-b<e){a.rollUp(-b)}else if(b||a.refreshing){a.teleport(d)}},bindStore:function(d){var a=this,c=d.getModel(),b=new c();a.dataRange=a.store.createActiveRange({prefetch:!0,callback:'onRangeAvailable',scope:a});a.tombstoneRec=b;b.tombstone=!0;if(a.getVisibleHeight()){a.syncRowsToHeight()}},bisectPosition:function(b){var d=this.dataItems,a=0,f=d.length-1,c,e;b=b||0;if(b<d[0].$y0){return -1}while(a<=f){c=a+f>>>1;e=d[c].$y0;if(b===e){return c}if(e<b){a=c+1}else {f=c-1}}if(a&&b<d[a-1].$y1){--a}return a},blockAndScrollTo:function(c,d){var b=this,a=b.getScrollable();if(a.getPosition().y!==c){a.on({single:!0,priority:-1000,scroll:function(){--b.blockingScroll}});++b.blockingScroll}return a.scrollTo(null,c,d)},changeHeaderFooter:function(f,i,b,d){var c=this,h=b.name,a=f[h]||null,j=c.infinite,e,g;d=d&&b.config;e=d&&b.map[i];if(e){if(!a){if(!(a=b.unused.pop())){a=c[b.creator]()}a=c.reorderItem(a,f,b.offset)}if(e.getCount()){a.$dataRow=f;a.setGroup(e)}else {c.removeGroupItem(a,b,!d);a=null}}else if(a){g=c.removeGroupItem(a,b,!d);if(!g&&j){c.setItemHidden(a,!0);c.reorderItem(a)}a=null}f[h]=a},changeItem:function(d,c){var b=this,a=Ext.dataview.Component.prototype.changeItem.call(this,d,c),e=a.item;if(b.infinite&&b.variableHeights){e.$height=null}return a},changeItemGrouping:function(g){var a=this,b=a.isGrouping(),e=a.groupingInfo,d=g.item,f=g.recordIndex,c;a.changeHeaderFooter(d,f,e.header,b);if(b&&d.isListItemPlaceholder){c=a.getCollapsible();if(c){b=c.getFooter()}}a.changeHeaderFooter(d,f,e.footer,b)},changeItemIsFirst:function(c){if(c.isFirstChanged){var d=this,a=d.scrollDockedItems,b,e;Ext.dataview.Component.prototype.changeItemIsFirst.call(this,c);if(a&&!c.isFirst&&d.infinite){a=a.start.items;e=a.length;for(b=0;b<e;++b){d.setItemHidden(a[b],!0)}}}},changeItemIsLast:function(c){if(c.isLastChanged){var d=this,a=d.scrollDockedItems,b,e;Ext.dataview.Component.prototype.changeItemIsLast.call(this,c);if(a&&!c.isLast&&d.infinite){a=a.end.items;e=a.length;for(b=0;b<e;++b){d.setItemHidden(a[b],!0)}}}},changeItemRecord:function(a){var b=this,d=a.itemClasses,c=b.tombstoneCls;if(a.record){delete d[c];b.syncItemRecord(a)}else {d[c]=1;b.syncItemRecord(a,b.tombstoneRec)}},changeItemStuck:function(b){var c=this,a=b.item,e=b.record,d=e&&c.stickyItemsByRecordId[e.internalId]||null;if(a.$sticky){if(e!==a.getRecord()){c.dislodgeItem(a,b,d)}}else if(d){c.dislodgeItem(a,b,d);c.removeDataItem(a)}},clearItemCaches:function(){var a=this.groupingInfo,d=a.header.unused,c=a.footer.unused,b=a.placeholder.unused;Ext.dataview.Component.prototype.clearItemCaches.call(this);Ext.destroy(d,c,b);d.length=c.length=b.length=0},constrainStickyItem:function(c){var a=this,i=a.pinnedFooter,j=a.pinnedHeader,d=!1,l=a.renderInfo,k=c.$recordIndex,n=a.measureItem(c,a),g=c.$sticky,b=g.pos,e=a.getVisibleTop(),f=e+a.getVisibleHeight()-n,m=b,h;if(g.floated){a.setItemHidden(c,!1);return null}if(j){e+=a.measureItem(j)}if(i){f-=a.measureItem(i)}if(k<l.indexTop){h=!0;b=e;d='top'}else if(k>=l.indexBottom){h=!0;b=f;d='bottom'}else if(b<e){b=e;d='top'}else if(b>f){b=f;d='bottom'}if(g.autoPin){m=b;if(c.isDataViewPinnable){c.setPinned(d)}}else if(h){a.setItemHidden(c,!0)}return m},createGroupFooter:function(){var b=this,a=b.getGroupFooter();if(typeof a==='string'){a={xtype:a}}a=Ext.apply({$dataItem:'footer'},a);a.$initParent=a.ownerCmp=a.list=b;return a},createGroupHeader:function(){var d=this,a=d.getGroupHeader(),e=d.getCollapsible(),c=e&&e.getTool(),b;if(typeof a==='string'){a={xtype:a}}a=Ext.apply({$dataItem:'header'},a);a.$initParent=a.ownerCmp=a.list=d;if(c){c=Ext.clone(c);b=a.tools;if(!b||Ext.isArray(b)){a.tools=b=b?b.slice():[];b.push(c)}else {a.tools=b=Ext.apply({},b);b[c.itemId]=c}}return a},createGroupPlaceholder:function(){var b=this,a=b.getGroupPlaceholder();if(typeof a==='string'){a={xtype:a}}a=Ext.apply({$dataItem:'placeholder'},a);a.$initParent=a.ownerCmp=a.list=b;if(!b.variableHeights){a.$height=b.placeholderHeight}return a},createPinnedHeaderFooter:function(a){return Ext.merge({translatable:{type:'csstransform'},isPinnedItem:!0,list:this},a)},dislodgeItem:function(b,f,a){var d=this,e=d.dataItems,c=b.$sticky;if(!a){a=d.acquireItem(d.indexOf(b));e.pop()}else if(a.$sticky&&!a.$sticky.dislodged){d.dislodgeItem(a,{itemIndex:e.indexOf(a)})}d.dataItems[f.itemIndex]=f.item=a;a.$footer=b.$footer;a.$header=b.$header;a.$position=null;b.$footer=b.$header=null;if(c){c.dislodged=!0}c=a.$sticky;if(c){c.dislodged=!1}return a},doClear:function(){var a=this,b=a.groupingInfo,f=b.header.unused,e=b.footer.unused,c=b.placeholder.unused,d;Ext.destroy(f,e,c);e.length=f.length=c.length=0;if(a.infinite){a.setItemCount(0);a.lastAdjustedPosition=null;a.setVisibleTop(0);d=a.getScrollable();d.scrollTo(null,0);a.refreshScrollerSize();a.syncEmptyState()}else {Ext.dataview.Component.prototype.doClear.call(this)}},doDisclose:function(c,e,g,f,h){var d=c.getOnItemDisclosure(),a=d,b;if(a&&a!==!0){if(a.handler){b=a.scope;a=a.handler}Ext.callback(a,b,[e,g,f,h],0,c)}},doRefresh:function(f){var a=this,c=a.getScrollable(),h=a.store,e,g,d,b;if(a.infinite){g=++a.refreshCounter;a.refreshGrouping();if(h.getCount()){a.hideEmptyText();if(g>1&&c){if(f){d=a.saveFocusState();a.blockAndScrollTo(0,!1);a.lastAdjustedPosition=null;a.refreshing=!0;a.syncRowsToHeight(!1);a.resetVisibleTop();a.setVisibleTop(0);e=!0;a.refreshing=!1;d()}else {b=c.getPosition().y}}}else if(a.dataItems.length&&!h.hasPendingLoad()){a.doClear()}if(!e){a.resync(!0);if(b!=null&&b!==c.getPosition().y){c.scrollTo(null,b)}}}else {a.refreshGrouping();Ext.dataview.Component.prototype.doRefresh.call(this,f)}},ensureVisibleScroll:function(a){var b=this,c=a.recordIndex,h=a.item||(a.item=b.itemFromRecord(c)),f=b.getScrollable(),g,d,e;if(h){return f.ensureVisible(h.el,{align:a.align,animation:a.animation,highlight:a.highlight,x:!1})}d=f.getSize();e=Math.floor((d?d.y:0)*(c/b.store.getCount()));a.animation=!1;b.nextTeleportTopIndex=c;b.setVisibleTop(e);delete b.nextTeleportTopIndex;g=b.blockAndScrollTo(e,!1);a.item=b.itemFromRecord(c);return g.then(function(){if(!b.destroyed){a.item=b.itemFromRecord(c)}return a})},getCacheForItem:function(c){var b=c.$dataItem,a;if(b==='record'){a=this.itemCache}else {a=this.groupingInfo[b]}return a},getItemForRecord:function(e,g){var c=this,b=c.dataItems[e],h=g&&!!g.$collapsedGroupPlaceholder,i=c.groupingInfo.placeholder,d=b.el.dom,f,a;if(h!==!!b.isListItemPlaceholder){f={itemIndex:e};if(h){if(!(a=i.unused.pop())){a=c.createGroupPlaceholder()}a=c.insert(e,a);a.setGroup(c.groupFrom(g));d.parentNode.insertBefore(a.el.dom,d);c.dislodgeItem(b,f,a);c.removeDataItem(b);b=a}else {a=b;b=c.dislodgeItem(a,f);d.parentNode.insertBefore(b.el.dom,d);c.removeGroupItem(a,i)}}return b},getItemFromPoint:function(e,d){var a=this,b,c;if(a.infinite){c=Math.max(0,Math.min(d,a.getScrollable().getSize().y));b=a.recordIndexByPosition(c);return a.dataItems[b-a.renderInfo.indexTop]}return Ext.dataview.Component.prototype.getItemFromPoint.call(this,e,d)},getItemTop:function(a){var b;a=a.$header||a;if(this.infinite){b=a.$y0}else {b=this.getScrollable().getEnsureVisibleXY(a.element,{align:{y:'start?'}}).y}return b},getPositionedItemTarget:function(a){if(a&&a.layer==='inner'){return Ext.dataview.Component.prototype.getPositionedItemTarget.call(this,a)}return this.bodyElement},getRecordIndexFromPoint:function(b,a){if(this.infinite){return this.recordIndexByPosition(Math.max(0,Math.min(a,this.getScrollable().getSize().y)))}return Ext.dataview.Component.prototype.getRecordIndexFromPoint.call(this,b,a)},getRenderPartners:function(){var a=this.allPartners;if(!(a&&this.variableHeights)){a=this.selfPartner}return a},getRenderTarget:function(){return this.innerCt},getScrollableClientRegion:function(){return Ext.dataview.Component.prototype.getScrollableClientRegion.call(this).adjust(this.getPinnedHeaderHeight()||0,0,-(this.getPinnedFooterHeight()||0),0)},getScrollerTarget:function(){return this.outerCt},getStoreChangeSyncIndex:function(a){return this.isGrouping()?Math.max(0,a-1):a},handleItemResize:function(a,d,k){var c=this,i=c.dataItems,h=c.renderInfo,f=a.$dataRow||a,j,e,b,g;d+=a.el.getMargin('tb');if(k||a.$height!==d){a.$height=d;b=i.indexOf(f);if(b>-1){if(h.indexTop&&h.indexBottom>=c.store.getCount()){j=!0;e=b+1;g=f.$y1}else {e=i.length-b;g=f.$y0}c.positionItems(g,j,e)}}},isActivePartner:function(){if(this.variableHeights&&this.partnerManager){return this.partnerManager.isActivePartner(this)}return !0},itemFromRecord:function(a){var b=this,e=b.store,d,c;if(e){if(b.infinite){d=a.isEntity?e.indexOf(a):a;c=b.dataItems[d-b.renderInfo.indexTop]}else {c=Ext.dataview.Component.prototype.itemFromRecord.call(this,a)}}return c||null},measureItem:function(b,c){var a=b.$height,d;if(a==null){if(this.variableHeights||!c||!(a=c.rowHeight)){d=b.el.measure('h');a=d+b.el.getMargin('tb');if(c){c.rowHeight=a}}this.setItemHeight(b,a);b.$measured=d}return a},measureItems:function(){var a=this,h=a.scrollDockedItems,l=a.dataItems,c=l.length,n=a.partnerManager&&a.isActivePartner(),m=a.hasItemVm,j=a.placeholderHeight,d,g,k,e,f,b,i;if(a.variableHeights){if(m){a.lookupViewModel().notify()}while(c-->0){b=l[c];if(n){a.measurePartners(b)}else {if(b.$height==null){b.$height=a.measureItem(b)}d=b.$header;if(d&&d.$height==null){d.$height=a.measureItem(d)}d=b.$footer;if(d){d.$height=a.measureItem(d)}}}}else if(c){i=a.rowHeight;if(!i||j===null){if(m){a.lookupViewModel().notify()}for(k=0;k<c;++k){b=l[k];if(!b.isListItemPlaceholder){if(!i){b.$height=null;a.rowHeight=i=a.measureItem(b)}b.$height=i}else {if(j===null){b.$height=null;a.placeholderHeight=j=a.measureItem(b)}b.$height=j}}}}if(h){f=h.start.items;for(g=0,c=f.length;c-->0;){e=f[c];if(!e.getHidden()){g+=e.$height||a.measureItem(e)}}h.start.height=g;f=h.end.items;for(g=0,c=f.length;c-->0;){e=f[c];if(!e.getHidden()){g+=e.$height||a.measureItem(e)}}h.end.height=g}},measurePartners:function(f,p){var l=this,e=l.allPartners,g=e.length,k=new Array(g),d=0,h=0,m=!0,b,c,j,n,o,a,i;if(f.isDataViewItem){f=f.getRecord()}if(l.hasItemVm&&!p){l.lookupViewModel().notify()}for(a=0;a<g;++a){o=e[a];b=o.itemFromRecord(f);k[a]=b;b.setMinHeight(null)}for(a=0;a<g;++a){b=k[a];n=b.$height;delete b.$height;c=e[a].measureItem(b);j=b.$measured;i=i||n!==c;if(a===0){d=c;h=j}if(c!==d){m=!1;if(c>d){d=c;h=j}}}if(!m){for(a=0;a<g;++a){b=k[a];b.setMinHeight(h);e[a].setItemHeight(b,d)}}return i?h:null},onInnerCtResize:function(){this.syncVerticalOverflow()},positionItems:function(n,p,o){var f=this,a=f.renderInfo,l=f.dataItems,e=l.length,d=f.scrollDockedItems,i=f.getRenderPartners(),m=i.length,b,g,k,j,h,c;for(b=0;b<m;++b){c=i[b];if(p){c.positionItemsBottomUp(n,o)}else {c.positionItemsTopDown(n,o)}}if(e){a.top=l[0].$y0;a.bottom=l[e-1].$y1}else {a.top=a.bottom=d&&d.start.height||0}a.height=a.bottom-a.top;for(b=0;b<m;++b){c=i[b];if(a.atEnd){h=a.bottom;h+=c.gapAfter;d=c.scrollDockedItems;if(d){j=d.end.items;e=j.length;for(g=0;g<e;++g){k=j[g];if(!k.getHidden()){h+=c.setItemPosition(k,h)}}}}c.refreshScrollerSize()}},positionItemsBottomUp:function(n,q){var b=this,k=b.groupingInfo,o=k.footer,p=k.header,i=b.renderInfo,r=b.dataItems,g=b.scrollDockedItems,a=n,m=i.indexTop,d,f,e,h,c,l,j;for(e=q;e-->0;){c=r[e];l=a;d=c.$footer;if(d){if((f=d.$height)==null){f=b.measureItem(d,o)}a-=f;b.setItemPosition(d,a)}a-=c.$height;if(c.$sticky){c.$sticky.pos=a;j=b.constrainStickyItem(c);if(j!==null){b.setItemPosition(c,j)}}else {b.setItemPosition(c,a)}d=c.$header;if(d){if((f=d.$height)==null){f=b.measureItem(d,p)}a-=f;b.setItemPosition(d,a)}a-=b.gapMap[e+m]||0;c.$y0=a;c.$y1=l}if(i.atBegin&&g){g=g.start.items;for(e=g.length;e-->0;){h=g[e];if(!h.getHidden()){a-=h.$height;b.setItemPosition(h,a)}}}if(a<0||a>0&&i.indexTop===0){b.adjustContentTop(-a)}},positionItemsTopDown:function(o,g){var a=this,k=a.groupingInfo,p=k.footer,q=k.header,l=a.dataItems,h=l.length,f=a.scrollDockedItems,n=a.renderInfo.indexTop,b=o,c,e,j,d,m,i;g=g||h;if(a.renderInfo.atBegin&&g===h){if(f){f=f.start.items;b=0;for(e=0;e<f.length;++e){j=f[e];if(!j.getHidden()){b+=a.setItemPosition(j,b)}}}}for(e=h-g;e<h;++e){d=l[e];m=b;b+=a.gapMap[n+e]||0;c=d.$header;if(c){if(c.$height==null){a.measureItem(c,q)}b+=a.setItemPosition(c,b)}if(d.$sticky){d.$sticky.pos=b;i=a.constrainStickyItem(d);if(i!==null){b+=a.setItemPosition(d,i)}}else {b+=a.setItemPosition(d,b)}c=d.$footer;if(c){if(c.$height==null){a.measureItem(c,p)}b+=a.setItemPosition(c,b)}d.$y0=m;d.$y1=b}},refreshGrouping:function(){var a=this,c=a.isGrouping(),d=a.infinite,b;if(d){b=c&&a.getPinFooters()?a.getPinnedFooter():a.pinnedFooter;if(b){a.setItemHidden(b,!0)}b=c&&a.getPinHeaders()?a.getPinnedHeader():a.pinnedHeader;if(b){a.setItemHidden(b,!0)}}a.refreshGroupIndices();a.syncIndexBar()},refreshGroupIndices:function(){var g=this,k=g.store,j=g.isGrouping()?k.getGroups():null,m=g.groupingInfo,e=m.footer,f=m.header,n=j&&j.length,d,h,i,a,l,c=null,o,p,b;if(n){f.map=p={};f.indices=l=[];e.map=i={};e.indices=h=[];for(b=0;b<n;++b){a=g.groupFrom(o=j.getAt(b));d=k.indexOf(o.first());a.previousGroup=c;l.push(d);p[a.beginIndex=d]=a;if(c){c.nextGroup=a;h.push(d-1);i[(c.endIndex=d)-1]=c}c=a}a.nextGroup=null;a.endIndex=b=k.getCount();h.push(--b);i[b]=a}else {f.map=f.indices=e.map=e.indices=null}},refreshScrollerSize:function(){var a=this,c,d,b,e;if(a.store&&a.infinite){a.syncContentTop();d=a.renderInfo;b=a.scrollDockedItems;e=a.store.getCount();c=d.bottom+(e-d.indexBottom)*a.rowHeight;b=b&&b.end;if(b){c+=b.height}a.getScrollable().setSize({x:null,y:c});a.setVerticalOverflow(c>a.getVisibleHeight());a.refreshPinnedAreas()}},reorderItem:function(a,f,h){h=h||0;var e=this,b=e.innerItems,g=b.length,c=f==null?g:f.isWidget?b.indexOf(f)+h:f,i=e.items,d=c<g?i.indexOf(b[c]):i.length;if(!a.isWidget||!e.infinite||e.maintainChildNodes||a.parent!==e){a=e.insert(d,a)}else {i.insert(d,a);d=b.indexOf(a);if(d>-1){b.splice(d,1);if(d<c){--c}}if(c<g){b.splice(c,0,a)}else {b.push(a)}}return a},recordIndexByPosition:function(a){var d=this,b=d.renderInfo,f=b.top,e=b.bottom,g=b.indexTop,c;if(a<f){c=Math.floor(a/f*g)}else if(a<e){c=g+d.bisectPosition(a)}else {a-=e;c=Math.min(b.indexBottom+Math.floor(a/d.rowHeight),d.store.getCount()-1)}return c},removeDataItem:function(a,b){var c=this,f=a.$header,e=a.$footer,d=c.groupingInfo;if(f){c.removeGroupItem(f,d.header,b)}if(e){c.removeGroupItem(e,d.footer,b)}a.$header=a.$footer=null;return Ext.dataview.Component.prototype.removeDataItem.call(this,a,b)},removeGroupItem:function(a,d,c){var b=this.removeCachedItem(a,c,d,this.infinite);if(!b){a.$dataRow=null;if(a.setGroup){a.setGroup(null)}}return b},resync:function(c){var a=this,b=a.outerCt.measure('h');a.resyncListener=null;if(b){if(b===a.getVisibleHeight()){a.syncRowsToHeight(c)}else {a.setVisibleHeight(b)}}},resyncOnPaint:function(){this.whenVisible('resync',[!0])},rollDown:function(k){var b=this,f=b.dataItems,i=b.renderInfo,p=i.indexBottom,n=f[f.length-1],l=b.innerItems.indexOf(n)+1,m=b.getRenderPartners(),q=m.length,j,c,e,g,h,o,d,a;if(n.$footer){++l}b.setTopRenderedIndex(i.indexTop+k);for(g=0;g<q;++g){d=m[g];f=d.dataItems;e=l;for(h=0;h<k;h++){a=f.shift();f.push(a);j=(a.$header?1:0)+(a.$footer?1:0);o=d.changeItem(-1,p+h);a=o.item;j-=(a.$header?1:0)+(a.$footer?1:0);e-=j;c=a.$header;if(c){d.reorderItem(c,e)}d.reorderItem(a,e);c=a.$footer;if(c){d.reorderItem(c,e)}}}b.measureItems();b.positionItems(i.bottom,!1,k)},rollUp:function(j){var a=this,f=a.dataItems,l=a.renderInfo,i=l.indexTop,m=f[0],k=a.innerItems.indexOf(m),n=a.getRenderPartners(),p=n.length,b,e,g,h,o,d,c;if(m.$header){--k}a.setTopRenderedIndex(i-j);--i;for(g=0;g<p;++g){d=n[g];f=d.dataItems;e=k;for(h=0;h<j;h++){c=f.pop();f.unshift(c);o=d.changeItem(0,i-h);c=o.item;b=c.$footer;if(b){d.reorderItem(b,e)}d.reorderItem(c,e);b=c.$header;if(b){d.reorderItem(b,e)}}}a.measureItems();a.positionItems(l.top,!0,j)},setGaps:function(b){var a=this;b=b||{};if(!Ext.Object.equals(a.gapMap,b)){a.gapMap=b;a.gapAfter=a.gapMap[a.store.getCount()]||0;a.syncRowsToHeight(!0)}},setItemHiddenInfinite:function(a,b){if(!b){a.$hidden=!1}else if(!a.$hidden){a.$hidden=!0;a.$position=null;a.translate(0,-10000)}},setItemPosition:function(a,b){if(a.$hidden){this.setItemHidden(a,!1)}if(a.$position!==b){a.$position=b;a.translate(null,b)}return a.$height},setupFooterPinning:function(){var a=this;return a.setupGroupPinning(a.getPinFooters(),a.pinnedFooter,a.hasPinnedFooterCls,'setPinnedFooterHeight')},setupGroupPinning:function(e,b,d,c){var a=e&&!!b;if(a){b.setScrollable({x:!1,y:!1})}else {this[c](0)}this.el.toggleCls(d,a);return a},setupHeaderPinning:function(){var a=this;return a.setupGroupPinning(a.getPinHeaders(),a.pinnedHeader,a.hasPinnedHeaderCls,'setPinnedHeaderHeight')},shouldHideDisclosure:function(c){var a,b;if(this.getOnItemDisclosure()){a=this.getDisclosureProperty();b=!a||c.data[a]!==!1}return !b},stickItem:function(a,h){var c=this,b=a.$sticky,i=a.getRecord(),g=c.stickyCls,f=c.stickyItems,e=c.stickyItemsByRecordId,d;if(h){if(!b){f.push(a);e[i.internalId]=a;a.addCls(g);a.$sticky=b={pos:a.$position}}Ext.apply(b,h);d=c.constrainStickyItem(a);if(d!==null){c.setItemPosition(a,d)}}else if(b){Ext.Array.remove(f,a);delete e[i.internalId];a.removeCls(g);a.$sticky=null;if(b.autoPin&&a.isDataViewPinnable){a.setPinned(!1)}if(b.floated){delete a.$position}if(b.dislodged){c.removeDataItem(a)}else {c.setItemPosition(a,b.pos)}}},syncContentTop:function(){var a=this,c=a.renderInfo,f=a.getVisibleTop(),d=a.getVisibleHeight(),e=a.getMinimumBufferDistance()*a.rowHeight,b;if(c.atEnd){return}b=f+d-(c.bottom-e);if(b>=0){a.getScrollable().scrollBy(null,-b,!1)}},syncGroupCollapse:function(b,a){this.store.refreshFromSource();this.fireEvent(a?'groupcollapse':'groupexpand',this,b)},syncIndexBar:function(){var a=this,b=a.getIndexBar(),c=a.store;if(b){b.setHidden(a.getEmptyState()||!c||!c.getGrouper())}},syncPinnedFooter:function(l){var a=this,m=a.dataItems,s=m.length,d=a.pinnedFooter,q=a.renderInfo,r=a.pinFooters&&d&&s&&a.isGrouping(),f=d,j=q.indexTop,i=a.scrollDockedItems,e,g,n,o,c,p,h,b,k;l=l||a.getVisibleTop();if(r){p=a.getScrollable().getSize().y;e=l+a.getVisibleHeight();f=e<=a.renderInfo.top||e>=p-(i?i.end.height:0)-a.gapAfter;if(!f){h=a.bisectPosition(e-1)+j;n=a.groupingInfo.footer;g=n.indices;c=Ext.Number.binarySearch(g,h);d.setGroup(n.map[g[c]]);if(h===g[c]&&m[h-j].$y1===e){f=!0}else if(c){c=g[c-1];if(c<j){b=0}else {b=m[c-j].$y1;k=a.gapMap[c+1]||0;if(k){if(!(f=e-b<k)){b+=k}}}}else {b=i?i.start.height:0}if(!f){o=a.measureItem(d);b=e-b;b=b<o?o-b:0;a.setItemPosition(d,b)}}}if(f){a.setItemHidden(d,!0)}else if(d){a.syncPinnedHorz(d)}},syncPinnedHeader:function(d){var a=this,k=a.dataItems,p=k.length,c=a.pinnedHeader,q=a.renderInfo,s=a.pinHeaders&&c&&p&&a.isGrouping(),e=c,j=q.indexTop,r=a.scrollDockedItems,g,l,m,b,h,f,i,o,n;d=d||a.getVisibleTop()||0;if(s){e=r&&d<=r.start.height||(h=a.bisectPosition(d))<0||h>=p;if(!e){h+=j;l=a.groupingInfo.header;g=l.indices;b=Ext.Number.binarySearch(g,h);if(g[b]!==h){--b}i=g[b];c.setGroup(l.map[i]);if(i>=j){n=k[i-j];o=a.gapMap[i]||0;if(o){e=d-n.$y0<o}else {e=n.$y0===d}}if(!e){++b;if(b<g.length){b=g[b]-j;f=b<p?k[b].$y0-d:0}else {f=q.bottom-d;e=f<=0}if(!e){m=a.measureItem(c);f=f&&f<m?f-m:0;a.setItemPosition(c,f||0)}}}}if(e){a.setItemHidden(c,!0)}else if(c){a.syncPinnedHorz(c)}},syncPinnedHorz:function(b){var a=this,c=b.getScrollable();b.el.setWidth(a.getScrollable().getClientSize().x);if(b.isItemHeader&&a.getHorizontalOverflow()){b.setContentWidth(a.getInnerWidth())}if(a.getHorizontalOverflow()&&a.getScrollable().isPrimary!==!1){c.scrollTo(a.getVisibleLeft(),null)}},syncRows:function(o){var b=this,g=b.renderInfo,e=b.scrollDockedItems,n=b.getRenderPartners(),c,h,m,i,p,l,j,d,k,f,a;if(!b.infinite){b.syncItemRange();return}if(!b.isActivePartner()){return}l=b.getMaxHeight();i=b.dataItems.length;m=g.indexTop;k=n.length;if(i){if(o){h=g.bottom}else {h=g.top;if(!m&&e){h=e.start.height}}for(c=0;c<k;++c){for(f=0;f<i;++f){n[c].changeItem(f,m+f)}}}b.measureItems();b.positionItems(h,o,i);for(c=0;c<k;++c){a=n[c];if(a.pinnedHeader){a.syncPinnedHeader()}if(a.pinnedFooter){a.syncPinnedFooter()}if(a.stickyItems.length){a.syncStickyItems()}if(l){p=a.innerCt;j=g.bottom+a.gapAfter;e=a.scrollDockedItems;if(e){j+=e.end.height}d=p.measure('h');d=a.el.measure('h')-d+a.el.getBorderWidth('tb');d=Math.min(l-d,j);a.setInnerCtHeight(d)}}},syncRowsToHeight:function(g){var a=this,r=a.getBufferSize(),o=a.infinite,l=a.getItemCount(),n=a.rowHeight||24,m=!a.heightSyncs++,e=a.renderInfo,k=e&&e.indexBottom,f=a.store&&a.store.getCount(),q=a.getMaxHeight()||a.getVisibleHeight(),i,d,b,h,p,c,j;if(!a.isActivePartner()||!b&&!a.store){return}if(o){b=Math.ceil(q/n)+r;b=Math.min(b,f)}else {b=f}i=a.getRenderPartners();p=i.length;for(h=0;h<p;++h){c=i[h];j=c.isActivePartner();c.setItemCount(b);if(m&&a.store.isVirtualStore||l!==b||f<k){if(o&&j){d=Math.min(f-b,e.indexTop);d=Math.max(0,d);if(d===c.getTopRenderedIndex()){c.updateTopRenderedIndex(d)}else {c.setTopRenderedIndex(d)}}if(!l){c.refreshGrouping()}g=g!==!1;if(g&&f<k&&j){e.top=e.indexTop*n}}}if(g||m){a.syncRows()}},syncStickyItems:function(){var c=this,d=c.stickyItems,f=d.length,a,e,b;for(a=0;a<f;++a){b=c.constrainStickyItem(e=d[a]);if(b!==null){c.setItemPosition(e,b)}}},doSyncVerticalOverflow:function(){var a=this.getScrollable();this.setVerticalOverflow(a.getSize().y>a.getClientSize().y)},resetVisibleTop:function(){this.lastAdjustedPosition=this._visibleTop=null},setItemHeight:function(b,a){b.$height=a;if(b.$pinnedFooter){this.setPinnedFooterHeight(a)}else if(b.$pinnedHeader){this.setPinnedHeaderHeight(a)}},teleport:function(k){var a=this,g=a.getScrollable().getSize(),c=a.renderInfo,l=a.dataItems.length,h=a.store.getCount(),j=h-l,e=a.getBufferSize(),d=a.scrollDockedItems,f=a.nextTeleportTopIndex,i,b;if(f!==undefined){b=f}else {b=Math.floor(k/g.y*h)}if(b<j){e=Math.min(b,e>>>1);b-=e;if(b){c.top=Math.max(0,k-a.rowHeight*e)}else {c.top=d?d.start.height:0}}else {i=!0;b=j;c.bottom=g.y-a.gapAfter;if(d){c.bottom-=d.end.height}}a.setTopRenderedIndex(b);a.syncRows(i)},toggleHoverCls:function(h){var d=this,e=d.mouseOverItem,i=d.hoveredCls,b=d.partners,f,a,c,g;Ext.dataview.Component.prototype.toggleHoverCls.call(this,h);if(b&&e){g=e.getRecord();for(a=0,f=b.length;a<f;++a){c=b[a].itemFromRecord(g);if(c){c.toggleCls(i,h)}}}},setItemSelection:function(a,i){var b=this,k,c,d,e,h,j=b.store,f=b.partners||[],g;if(j.isVirtualStore){f=b.allPartners||b.selfPartner||[];a=a.isEntity?Ext.Array.from(a):a}Ext.dataview.Component.prototype.setItemSelection.call(this,a,i);if(!b.isActivePartner()){return}for(c=0,k=a.length;c<k;c++){for(d=0,h=f.length;d<h;++d){e=f[d].getSelectable();g=a[c].isEntity?a[c]:b.store.getAt(a[c]);if(i){e.setSelectedRecord(g)}else if(!j.isVirtualStore){e.deselect(g,!0)}}}},syncItemRecord:function(f,h){var i=this,g,e=this.partners||[],a,c,d,b=f.item.getRecord();g=Ext.dataview.Component.prototype.syncItemRecord.call(this,f,h);for(a=0,c=e.length;a<c;++a){d=e[a].getSelectable();if(b&&d.isRowSelected(b)){i.getSelectable().setSelectedRecord(b);break}}return g},traverseItem:function(a,f){var d=this,c=d.dataItems,e=d.renderInfo,b;if(a&&d.infinite){if(f<0){if(a===c[0]&&!a.isFirst){b=e.indexTop}}else if(a===c[c.length-1]&&!a.isLast){b=e.indexBottom+1}}return b?b-1:Ext.dataview.Component.prototype.traverseItem.call(this,a,f)},updateEmptyState:function(a,b){Ext.dataview.Component.prototype.updateEmptyState.call(this,a,b);this.syncIndexBar()},updateHorizontalOverflow:function(a){var b=this.getScrollable();if(this.manageHorizontalOverflow){b.setX(a);if(!a){b.scrollTo(0,null)}}},updateInnerCtHeight:function(a){this.innerCt.setHeight(a)},updateInnerWidth:function(b){var a=this,g=a.innerCt,e=a.pinnedHeader,d=a.pinnedFooter,f=0,c;if(b==null){g.setStyle('width','');a.setHorizontalOverflow(!1)}else {g.setStyle('width',b+'px');c=a.getVisibleWidth();if(c!=null){if(a.getVerticalOverflow()){f=a.getScrollable().getScrollbarSize().width}a.setHorizontalOverflow(c<b+f)}}a.refreshScrollerSize();if(e){a.syncPinnedHorz(e)}if(d){a.syncPinnedHorz(d)}},updateItemCount:function(b,d){var c=this,a=c.infinite&&c.renderInfo;Ext.dataview.Component.prototype.updateItemCount.call(this,b,d);if(!b&&a){a.atBegin=a.atEnd=!0}},updatePinnedFooterHeight:function(b){var a=this;if(!a.destroyed&&!a.destroying){a.fireEvent('pinnedfooterheightchange',a,b)}},updatePinnedHeaderHeight:function(b){var a=this;if(!a.destroyed&&!a.destroying){a.fireEvent('pinnedheaderheightchange',a,b)}},updateTopRenderedIndex:function(c){var e=this,b=e.store,d=e.renderInfo,a=c+e.dataItems.length,f;if(!b.isLoaded()&&!b.getAutoLoad()){return}d.atBegin=!c;d.atEnd=a===b.getCount();d.indexTop=c;d.indexBottom=a;if(c===a&&b.isVirtualStore){a=c+b.getPageSize();f=b.getTotalCount();if(f!==null){a=Math.min(f,a)}}e.dataRange['goto'](c,a)},updateVerticalOverflow:function(e,d){var a=this,f=a.items.items,h=f.length,b,c,g;if(a.infinite){g=a.getScrollable().getScrollbarSize().reservedWidth;for(b=0;b<h;++b){c=f[b];if(c.isPinnedItem){c.el.setStyle('width',g)}}a.syncPinnedHeader();a.syncPinnedFooter();if(d!=null&&e!==d){a.updateVisibleWidth(a.bodyElement.getWidth())}}a.fireEvent('verticaloverflowchange',a,e)},updateVisibleHeight:function(c,b){var a=this;if(a.infinite){if(a.store){a.syncRowsToHeight()}}else {a.syncVerticalOverflow()}a.fireEvent('visibleheightchange',a,c,b)},updateVisibleLeft:function(){var a=this;if(a.infinite&&!a.suspendSync){a.refreshPinnedAreas()}},updateVisibleTop:function(b,c){var a=this,e,h,d,g,f;if(!a.isActivePartner()){return}if(a.infinite){c=a.lastAdjustedPosition;e=a.dataItems.length&&(c==null||Math.abs(b-c)>a.rowHeight);if(e){a.lastAdjustedPosition=b;a.adjustRenderedRows(b,c)}f=a.getRenderPartners();for(d=0,h=f.length;d<h;++d){g=f[d];if(e){g.lastAdjustedPosition=b}g.refreshPinnedAreas(b)}}},updateVisibleWidth:function(d){var a=this,c=a.getInnerWidth(),b=0;if(c!=null){if(a.getVerticalOverflow()){b=a.getScrollable().getScrollbarSize().width}a.setHorizontalOverflow(d<c+b)}},refreshPinnedAreas:function(b){var a=this;a.syncPinnedHeader(b);a.syncPinnedFooter(b);if(a.stickyItems.length){a.syncStickyItems()}}}},0,['list'],['widget','component','container','componentdataview','list'],{'widget':!0,'component':!0,'container':!0,'componentdataview':!0,'list':!0},['widget.list'],[[Ext.mixin.Bufferable.prototype.mixinId||Ext.mixin.Bufferable.$className,Ext.mixin.Bufferable]],[Ext.dataview,'List',Ext,'List'],function(c){var b=c.prototype,a=b._itemChangeHandlers=b._itemChangeHandlers.slice();a.unshift('changeItemStuck');a.push('changeItemGrouping')});Ext.define('Ext.theme.material.dataview.List',{override:'Ext.dataview.List',config:{rowLines:!1}});Ext.cmd.derive('Ext.dataview.BoundListLocation',Ext.dataview.Location,{next:function(b){var d=this,a=d.nextItem(b),c=a&&a.get();while(a&&(!c||!a.record)){if(a.equals(d)){return}a=a.nextItem(b);c=a&&a.get()}return a},previous:function(b){var d=this,a=d.previousItem(b),c=a&&a.get();while(a&&(!c||!a.record)){if(a.equals(d)){return}a=a.previousItem(b);c=a&&a.get()}return a}},0,0,0,0,0,0,[Ext.dataview,'BoundListLocation'],0);Ext.cmd.derive('Ext.dataview.BoundListNavigationModel',Ext.dataview.NavigationModel,{config:{navigateOnSpace:!0},locationClass:'Ext.dataview.BoundListLocation',privates:{getKeyNavCfg:function(c){var a=this,b;if(a.keyboard!==!1){b=(c.ownerField||c).getFocusEl();if(b){return {target:b,eventName:'keydown',defaultEventAction:'stopEvent',esc:a.onKeyEsc,up:a.onKeyUp,down:a.onKeyDown,right:a.onKeyRight,left:a.onKeyLeft,pageDown:a.onKeyPageDown,pageUp:a.onKeyPageUp,home:a.onKeyHome,end:a.onKeyEnd,tab:a.onKeyTab,space:a.onKeySpace,enter:a.onKeyEnter,A:{ctrl:!0,handler:a.onSelectAllKeyPress},priority:1001,scope:a}}}},getViewListeners:function(b){var a=Ext.dataview.NavigationModel.prototype.getViewListeners.call(this,b);a.childtouchstart='onChildTouchStart';a.childTap='onChildTap';return a},doFocus:Ext.privateFn,handleLocationChange:function(b,d){var c=b.sourceElement,a=this.getView().ownerField;if(c&&a){a.inputElement.dom.setAttribute('aria-activedescendant',c.id)}Ext.dataview.NavigationModel.prototype.handleLocationChange.call(this,b,d)},onChildTouchStart:function(c,b){var a=b.event;if(a.pointerType!=='touch'){a.preventDefault()}},onChildTap:function(e,d){var a=this,b=d.event,c;if(!e.destroyed){if(b.pointerType==='touch'){b.preventDefault()}c=a.createLocation(d.item);if(a.location&&a.location.equals(c)){a.onNavigate(b)}else {a.setLocation(c,{event:d.event,animation:!0})}}if(b.pointerType==='touch'){b.stopEvent()}},onChildTrigger:Ext.privateFn,onKeyLeft:function(){return !0},onKeyRight:function(){return !0},onKeySpace:function(a){if(this.getNavigateOnSpace()){a.preventDefault();this.onNavigate(a)}return !0},onKeyEsc:function(){var b=this.getView(),a=b.ownerField;if(a&&b.isVisible()){a.collapse()}else {return !0}},onKeyTab:function(c){var b=this.getView(),a=b.ownerField;if(b.isVisible()){if(a.getSelectOnTab()){this.selectHighlighted(c)}if(a.collapse){a.collapse()}}return !0},onKeyEnter:function(b){var c=this.getView(),d=c.getSelectable(),a=c.ownerField;b.stopEvent();if(!(a.getMultiSelect&&a.getMultiSelect())&&d.isSelected(this.location.record)&&a.collapse){a.collapse()}else {this.selectHighlighted(b)}b.fromBoundList=!0;a.fireEvent('specialkey',a,b);return !1},onNavigate:function(a){var c=a&&(a.pointerType||this.getNavigateOnSpace()&&a.keyCode===a.SPACE),d=this.getView(),b=d.getRefOwner();if(c){Ext.dataview.NavigationModel.prototype.onNavigate.call(this,a);if(b&&b.maybeCollapse){b.maybeCollapse(a)}}},selectHighlighted:function(e){var d=this,b=d.getView(),h=b.getStore(),f=b.getSelectable(),c=d.location,a,g;if(c&&b.getViewItems().length){a=c.record;if(a){if(e.getKey()===e.ENTER||!f.isSelected(a)){f.selectWithEvent(a,e);if(!b.getStore().contains(a)){g=Math.min(c.recordIndex,h.getCount()-1);d.setLocation(h.getAt(g))}}}}}}},0,0,0,0,['navmodel.boundlist'],0,[Ext.dataview,'BoundListNavigationModel'],0);Ext.cmd.derive('Ext.dataview.BoundList',Ext.dataview.List,{tabIndex:null,focusEl:null,focusable:!1,itemsFocusable:!1,navigationModel:{type:'boundlist'},itemConfig:{cls:'x-boundlistitem',tools:{selected:{zone:'start',passive:!0,cls:'x-selected-icon',iconCls:'x-fa fa-check'}}},onFocusEnter:Ext.emptyFn,onFocusLeave:Ext.emptyFn,afterShow:function(){(arguments.callee.$previous||Ext.dataview.List.prototype.afterShow).call(this);this.getNavigationModel().enable()},afterHide:function(b){var a=b.getNavigationModel();(arguments.callee.$previous||Ext.dataview.List.prototype.afterHide).call(this,b);a.setLocation(null);a.disable()},privates:{beforeSelectionRefresh:function(b,e){var c=b.length,a,d;for(a=0;a<c;){d=b[a];if(d.isEntered){b.splice(a,1);c--}else {a++}}}}},0,['boundlist'],['widget','component','container','componentdataview','list','boundlist'],{'widget':!0,'component':!0,'container':!0,'componentdataview':!0,'list':!0,'boundlist':!0},['widget.boundlist'],0,[Ext.dataview,'BoundList'],0);Ext.cmd.derive('Ext.dataview.DataView',Ext.dataview.Abstract,{alternateClassName:'Ext.DataView',isElementDataView:!0,constructor:function(a){if(a&&a.useComponents){return new Ext.dataview['Component'](a)}Ext.dataview.Abstract.prototype.constructor.call(this,a)},getViewItems:function(){return Array.prototype.slice.call(this.getFastItems())},onStoreAdd:function(c,b,a){Ext.dataview.Abstract.prototype.onStoreAdd.apply(this,arguments);this.renderItems(a,a+b.length)},onStoreRemove:function(c,b,a){this.removeItems(a,a+b.length)},getItemClass:function(a){return this.getItemCls()},privates:{dirtyCls:'x-dirty',changeItem:function(a){var b=this,d=b.dataItems,g=d[a],f=b.dataRange.records[a],c=b.store.getCount(),e={isFirst:!a,isLast:a===c-1,item:g,record:f,recordIndex:a};b.syncItemRecord(e)},clearItems:function(){var a=this.dataItems,b;while(a.length){b=a.pop();Ext.fly(b).destroy()}},createDataItem:function(d,e){var a=this,g=a.store,h=a.gatherData(e,d),f=a.getMarkDirty(),c,b;b=Ext.Element.create(a.getItemElementConfig(d,h,g));c=b.dom;if(f){b.addCls(a.markDirtyCls)}c.setAttribute('data-viewid',a.id);c.setAttribute('data-recordid',e.internalId);c.setAttribute('data-recordindex',d);return b},doClear:function(){this.clearItems();Ext.dataview.Abstract.prototype.doClear.call(this)},resetSelection:function(a){this.setItemSelection(a,!1)},doRefresh:function(h){var a=this,g=a.dataRange.records,b=g.length,c=a.dataItems.length,f=a.getScrollable(),e,d;if(f&&h){f.scrollTo(0,0)}++a.refreshCounter;if(!b){a.doClear()}else {e=a.saveFocusState();a.hideEmptyText();a.resetSelection(g);if(c>b){a.removeItems(b,c);c=b}else if(c<b){a.renderItems(c,b)}for(d=0;d<c;++d){a.changeItem(d)}if(a.hasSelection()){a.setItemSelection(a.getSelections(),!0)}e()}},getFastItems:function(){return this.getRenderTarget().dom.childNodes},getItemElementConfig:function(d,c,e){var a=this,b={cls:a.baseCls+'-item '+(a.getItemClass(c)||''),html:a.renderItemTpl(d,c,e)};if(a.getItemsFocusable()){b.tabIndex=-1}return b},removeItems:function(c,e){var d=this,b=d.dataItems.splice(c,e-c),a;for(a=0;a<b.length;++a){Ext.fly(b[a]).destroy()}},renderItems:function(d,j){var a=this,e=a.dataItems,f=a.dataRange.records,i=a.getRenderTarget().dom,g=[d,0],b=a.dataItems[d]||null,h,c;if(f.length){a.hideEmptyText()}if(!b){b=a.findTailItem(!0);b=b&&b.el.dom}for(c=d;c<j;++c){g.push(h=a.createDataItem(c,f[c]).dom);i.insertBefore(h,b)}e.splice.apply(e,g)},renderItemTpl:function(d,a,e){var f=this.getItemTpl(),c=e.getData().items,b;a.xcount=typeof a.xcount==='number'?a.xcount:e.getCount();a.xindex=typeof a.xindex==='number'?a.xindex:d;b=f.apply(a,c,d+1,c.length);b=b==null?'':String(b);return b||this.getEmptyItemText()},syncItemRecord:function(c){var a=this,d=c.item,f=Ext.fly(d),b=c.record,g=a.store,e=c?c.recordIndex:g.indexOf(b),h=a.gatherData(b,e);d.innerHTML=a.renderItemTpl(e,h,g);d.setAttribute('data-recordid',b.internalId);d.setAttribute('data-recordindex',e);f.toggleCls(a.dirtyCls,b.dirty);f.toggleCls(a.selectedCls,a.getSelectable().isRowSelected(b))},traverseItem:function(b,f){var g=this,e=g.getRenderTarget().dom.childNodes,a=null,c,d;if(b){if(b.isElement){c=b.dom}else if(b.isWidget){c=b.el.dom}d=Array.prototype.indexOf.call(e,c);if(d>-1){a=e[d+f]||null;if(a){a=Ext.getCmp(a.id)||a}}}return a}}},1,['dataview'],['widget','component','container','dataview'],{'widget':!0,'component':!0,'container':!0,'dataview':!0},['widget.dataview'],0,[Ext.dataview,'DataView',Ext,'DataView'],0);Ext.cmd.derive('Ext.dataview.ChipView',Ext.dataview.DataView,{classCls:'x-chipview',hasIconCls:'x-has-icon',closableCls:'x-closable',iconElCls:'x-icon-el x-font-icon',itemTpl:'<div class="x-body-el"><div class="{_chipIconCls}" style="{_chipIconStyle}"></div><div class="x-text-el">{_chipText}</div><div class="x-close-el x-font-icon"></div></div>',config:{iconField:null,iconClsField:null,displayField:'text',closableField:null,closable:!0,closeHandler:null,scope:null,itemUi:null,displayTpl:null},listeners:{childtap:'onChipTap',scope:'this',priority:3000},getItemClass:function(e){var b=this,a=[Ext.dataview.DataView.prototype.getItemClass.call(this,e)],h=Ext.Chip.prototype.getClassCls(),i=h.length,f=b.getItemUi(),j=f&&f.length,c,d,g;for(c=0;c<i;c++){g=h[c];a.push(g);for(d=0;d<j;d++){a.push(g+'-'+f[d])}}if(b.hasIcon(e)){a.push(b.hasIconCls)}if(b.getChipClosable(e)){a.push(b.closableCls)}return a.join(' ')},onChipTap:function(d,b){var a=this,c=a.getCloseHandler();if(c&&b.event.getTarget('.x-close-el')){return Ext.callback(c,a.getScope(),[a,b],0,a)}},prepareData:function(a,e,d){var b=this,c=b.getDisplayTpl();a._chipIconCls=b.getChipIconCls(a);a._chipIconStyle=b.getChipIconStyle(a);a._chipText=c?c.apply(a):a[b.getDisplayField()];return a},privates:{applyItemUi:function(a){return typeof a==='string'?a.split(' '):Ext.Array.from(a)},updateItemUi:function(){this.doRefresh()},applyDisplayTpl:function(a){return Ext.XTemplate.get(a)},updateDisplayTpl:function(){if(!this.isConfiguring){this.refresh()}},getChipIconUrl:function(a){return Ext.resolveResource(a[this.getIconField()])},getChipIconStyle:function(b){var a=this.getChipIconUrl(b);return a?'background-image: url('+a+')':''},hasIcon:function(b){var a=this.getIconClsField();return this.getChipIconUrl(b)?!0:a?!!b[a]:!1},getChipIconCls:function(c){var a=this.getIconClsField(),b=a?c[a]:'';return this.iconElCls+' '+b},getChipClosable:function(b){var a=this.getClosableField();return a?!!b[a]:this.getClosable()},_onChildEvent:function(b,a){if(!this.ownerField||a.target!==this.ownerField.inputElement.dom){return Ext.dataview.DataView.prototype._onChildEvent.call(this,b,a)}return {}},syncEmptyState:function(){var a=this.ownerField;if(a){a.syncEmptyState();a.syncLabelPlaceholder(!1)}},syncItemRecord:function(a){var b=this,c=a.record,d=a?a.recordIndex:b.store.indexOf(c),e=b.gatherData(c,d);a.item.className=b.getItemClass(e);Ext.dataview.DataView.prototype.syncItemRecord.call(this,a)}}},0,['chipview'],['widget','component','container','dataview','chipview'],{'widget':!0,'component':!0,'container':!0,'dataview':!0,'chipview':!0},['widget.chipview'],0,[Ext.dataview,'ChipView'],0);Ext.cmd.derive('Ext.dataview.IndexBar',Ext.Component,{alternateClassName:'Ext.IndexBar',cachedConfig:{letters:'ABCDEFGHIJKLMNOPQRSTUVWXYZ'},config:{animation:!0,autoHide:!1,dynamic:!1,listPrefix:null,indicator:!0},eventedConfig:{direction:'vertical'},top:0,bottom:0,left:0,right:0,inheritUi:!0,autoHideCls:'x-autohide',classCls:'x-indexbar',horizontalCls:'x-horizontal',indexedCls:'x-indexed',indexedHorizontalCls:'x-indexed-horizontal',indexedVerticalCls:'x-indexed-vertical',indexedNoAutoHideCls:'x-indexed-no-autohide',indicatorCls:'x-indexbar-indicator',pressedCls:'x-pressed',verticalCls:'x-vertical',element:{reference:'element',cls:'x-unselectable',children:[{reference:'bodyElement',cls:'x-body-el'}]},initialize:function(){var a=this,b=a.bodyElement;Ext.Component.prototype.initialize.call(this);b.addClsOnClick(a.pressedCls);b.on({tap:'onTap',touchstart:'onTouchStart',touchend:'onTouchEnd',mouseover:'onMouseOver',mouseout:'onMouseOut',drag:'onDrag',dragEnd:'onDragEnd',scope:a})},getVertical:function(){return this.getDirection()==='vertical'},setVertical:function(a){return this.setDirection(a?'vertical':'horizontal')},onAdded:function(a,c){var b=this;a.el.addCls(b.indexedCls);b.parentListeners=a.on({pinnedfooterheightchange:'onPinnedFooterHeightChange',pinnedheaderheightchange:'onPinnedHeaderHeightChange',verticaloverflowchange:'onVerticalOverflowChange',destroyable:!0,scope:b});Ext.Component.prototype.onAdded.call(this,a,c)},onRemoved:function(c){var b=this,a=b.parent;Ext.destroy(b.parentListeners);if(a&&!a.destroying&&!a.destroyed){a.el.removeCls(b.indexedCls)}Ext.Component.prototype.onRemoved.call(this,c)},privates:{parentListeners:null,onDrag:function(a){this.trackMove(a,!1)},onDragEnd:function(c){var a=this,b=a.getIndicator();a.trackMove(c,!0);if(b&&a.indicator){a.indicator.hide()}},onMouseOver:function(){var a=this;a.$isMouseOver=!0;if(a.shouldAutoHide('over')){a.bodyElement.show()}},onMouseOut:function(){var a=this;a.$isMouseOver=!1;if(a.shouldAutoHide('out')){a.bodyElement.hide()}},onPinnedFooterHeightChange:function(b,a){this.setBottom(a)},onPinnedHeaderHeightChange:function(b,a){this.setTop(a)},onTap:function(a){a.stopPropagation()},onTouchStart:function(b){var a=this;a.$isPressing=!0;a.pageBox=a.bodyElement.getBox();a.onDrag(b);if(a.shouldAutoHide('press')){a.bodyElement.show()}},onTouchEnd:function(b){var a=this;a.$isPressing=!1;if(a.shouldAutoHide('release')){a.bodyElement.hide()}a.onDragEnd(b)},onVerticalOverflowChange:function(a){this.setRight(a.getScrollable().getScrollbarSize().width)},scrollToClosestByIndex:function(j){var i=this,c=i.parent,l=j.toLowerCase(),k=c.getStore(),g=k.getGroups(),m=g.length,b,f,d,a,h,e;for(d=0;d<m;d++){b=g.getAt(d);f=b.getGroupKey().toLowerCase();if(f>=l){a=b;break}a=b}if(a){e=a.first();if(!c.getInfinite()){h=c.itemFromRecord(e).$header}c.ensureVisible(e,{animation:i.getAnimation(),item:h,align:{y:'start'}})}},shouldAutoHide:function(a){var c=this,d=c.getAutoHide(),b=!1;if(d){if(d==='pressed'||!Ext.os.is.Desktop){b=a==='press'||a==='release'}else {b=a==='over'||a==='release'&&!c.$isMouseOver||a==='out'&&!c.$isPressing}}return b},syncIndicatorPosition:function(j,a,q){var d=this,p=d.getIndicator(),r=d.getDirection(),o=d.renderElement,c=d.bodyElement,b=d.indicator,m=d.indicatorInner,i=c.getFirstChild(),k=c.getLastChild(),n,l,e,f,h,g;if(p&&b){b.show();if(r==='vertical'){g=b.getHeight();n=c.getWidth();e=c.getMargin('lr');f=i.getY();h=k.getY();if(j.y<f){a=i}else if(j.y>h){a=k}if(q){m.setHtml(a.getHtml().toUpperCase())}b.setTop(a.getY()-o.getY()-g/2+a.getHeight()/2);b.setRight(e+n)}else {g=b.getWidth();e=c.getMargin('tb');l=c.getHeight();f=i.getX();h=k.getX();if(j.x<f){a=i}else if(j.x>h){a=k}b.setLeft(a.getX()-o.getX()-g/2+a.getWidth()/2);b.setBottom(e+l)}m.setHtml(a.getHtml().toUpperCase())}},trackMove:function(g,h){var b=this,f=b.bodyElement,c=b.pageBox||(b.pageBox=b.el.getBox()),d=Ext.util.Point.fromEvent(g),a,e;if(b.getDirection()==='vertical'){if(d.y>c.bottom||d.y<c.top){return}a=Ext.Element.fromPoint(c.left+c.width/2,d.y);e=a&&a.getParent()===f}else {if(d.x>c.right||d.x<c.left){return}a=Ext.Element.fromPoint(d.x,c.top+c.height/2);e=a&&a.getParent()===f}if(a&&e){if(b.getIndicator()){b.syncIndicatorPosition(d,a,e)}if(h||b.getDynamic()){b.scrollToClosestByIndex(a.dom.innerHTML)}}},updateAutoHide:function(e){var a=this,d=a.parent.el,c=a.autoHideCls,b=a.indexedNoAutoHideCls;a.bodyElement.setVisibilityMode(Ext.Element.OPACITY);if(e){a.addCls(c);a.bodyElement.hide();d.removeCls(b)}else {a.removeCls(c);a.bodyElement.show();d.addCls(b)}},updateDirection:function(j){var a=this,i=a.verticalCls,h=a.horizontalCls,g=a.indexedVerticalCls,f=a.indexedHorizontalCls,c,b,e,d;if(j==='vertical'){c=h;b=i;e=f;d=g}else {c=i;b=h;e=g;d=f}a.element.replaceCls(c,b);a.bodyElement.replaceCls(c,b);a.parent.element.replaceCls(e,d)},updateIndicator:function(b){var a=this,c={cls:a.indicatorCls};if(b&&b!==!0){c=Ext.apply(c,b)}if(b){a.indicator=a.el.appendChild(c);a.indicatorInner=a.indicator.appendChild({cls:a.indicatorCls+'-inner'});a.indicator.hide(!1)}else if(a.indicator){a.indicator.destroy();a.indicatorInner.destroy();a.indicator=a.indicatorInner=null}},updateLetters:function(b){var c=this.bodyElement,d=b.length,a;c.setHtml('');if(b){for(a=0;a<d;a++){c.createChild({cls:'x-indexbar-item',html:b[a]})}}},updateListPrefix:function(a){if(a&&a.length){this.bodyElement.createChild({html:a},0)}},updateUi:function(b,a){var e=this,f=e.parent,c=f.element,d=e.indexedCls;if(a){c.removeCls(a,d)}if(b){c.addCls(b,d)}Ext.Component.prototype.updateUi.call(this,b,a)}}},0,['indexbar'],['widget','component','indexbar'],{'widget':!0,'component':!0,'indexbar':!0},['widget.indexbar'],0,[Ext.dataview,'IndexBar',Ext,'IndexBar'],0);Ext.define('Ext.theme.material.dataview.IndexBar',{override:'Ext.dataview.IndexBar',config:{autoHide:!0,letters:['*','#','A','B','C','D','E','F','G','H','I','J','K','L','M','N','O','P','Q','R','S','T','U','V','W','X','Y','Z']}});Ext.cmd.derive('Ext.dataview.ListItem',Ext.dataview.DataItem,{alternateClassName:'Ext.dataview.component.ListItem',classCls:['x-listitem','x-container','x-component'],classClsRoot:!0,inheritUi:!0,items:null,updateRecord:function(b){var a=this;if(!a.destroying&&!a.destroyed){Ext.dataview.DataItem.prototype.updateRecord.call(this,b);a.syncDisclosure(b)}},doDestroy:function(){this.mixins.toolable.doDestroy.call(this);Ext.dataview.DataItem.prototype.doDestroy.call(this)},privates:{invokeToolHandler:function(a,b,d,e,c){if(this.invokeDisclosure(a,b,c)){return !1}return a.invokeToolHandler(a,b,d,e,c)}}},0,['listitem'],['widget','component','container','dataitem','listitem'],{'widget':!0,'component':!0,'container':!0,'dataitem':!0,'listitem':!0},['widget.listitem'],[[Ext.dataview.Disclosable.prototype.mixinId||Ext.dataview.Disclosable.$className,Ext.dataview.Disclosable],[Ext.mixin.Toolable.prototype.mixinId||Ext.mixin.Toolable.$className,Ext.mixin.Toolable],[Ext.dataview.Pinnable.prototype.mixinId||Ext.dataview.Pinnable.$className,Ext.dataview.Pinnable]],[Ext.dataview,'ListItem',Ext.dataview.component,'ListItem'],0);Ext.cmd.derive('Ext.layout.HBox',Ext.layout.Box,{config:{vertical:!1}},0,0,0,0,['layout.hbox'],0,[Ext.layout,'HBox'],0);Ext.cmd.derive('Ext.dataview.NestedList',Ext.Container,{alternateClassName:'Ext.NestedList',config:{backText:'Back',useTitleAsBackText:!0,updateTitleText:!0,displayField:'text',loadingText:'Loading...',emptyText:'No items available.',onItemDisclosure:!1,allowDeselect:!1,useToolbar:null,toolbar:{docked:'top',xtype:'titlebar',ui:'light',inline:!0},title:'',layout:{type:'card',animation:{type:'slide',duration:250,direction:'left'}},store:null,detailContainer:undefined,detailCard:null,backButton:{hidden:!0},listConfig:null,variableHeights:!1,lastNode:null,lastActiveList:null,ui:null,clearSelectionOnListChange:!0},baseCls:'x-nested-list',listMode:'title',constructor:function(a){if(Ext.isObject(a)){if(a.getTitleTextTpl){this.getTitleTextTpl=a.getTitleTextTpl}if(a.getItemTextTpl){this.getItemTextTpl=a.getItemTextTpl}}Ext.Container.prototype.constructor.call(this,a)},changeListMode:function(d){var a=this,c=a.getStore(),b=c&&c.getRoot();if(d===b){a.listMode='title'}else if(d.parentNode===b){a.listMode='node'}else {a.listMode='deep'}},onChildInteraction:function(){if(this.isGoingTo){return !1}},applyDetailContainer:function(a){if(!a){a=this}return a},updateDetailContainer:function(a,b){if(a){a.on('beforeactiveitemchange','onBeforeDetailContainerChange',this);a.on('activeitemchange','onDetailContainerChange',this)}},onBeforeDetailContainerChange:function(){this.isGoingTo=!0},onDetailContainerChange:function(){this.isGoingTo=!1},onChildTap:function(d,a){var b=this,e=b.hasListeners,c=a.record;if(b.onChildInteraction(d,a)===!1){return !1}if(e.childtap){a.list=d;b.fireEvent('childtap',b,a)}if(e.itemtap){b.fireEvent('itemtap',b,d,a.viewIndex,a.child,c,a.event)}if(c.isLeaf()){if(e.leafchildtap){a.list=d;b.fireEvent('leafchildtap',b,a)}if(e.leafitemtap){b.fireEvent('leafitemtap',b,d,a.viewIndex,a.child,c,a.event)}b.goToLeaf(c)}else {this.goToNode(c)}},onBeforeSelect:function(){this.fireEvent.apply(this,[].concat('beforeselect',this,Array.prototype.slice.call(arguments)))},onContainerTap:function(){this.fireEvent.apply(this,[].concat('containertap',this,Array.prototype.slice.call(arguments)))},onSelect:function(){var a=Array.prototype.slice.call(arguments);this.fireEvent.apply(this,[].concat('select',this,a));this.onSelectionChange(a)},onDeselect:function(){var a=Array.prototype.slice.call(arguments);this.fireEvent.apply(this,[].concat('deselect',this,a));this.onSelectionChange(a)},onSelectionChange:function(a){this.fireEvent.apply(this,[].concat('selectionchange',this,a))},onChildDoubleTap:function(d,a){var b=this,c=b.hasListeners;if(c.childdoubletap){a.list=d;b.fireEvent('childdoubletap',b,a)}if(c.itemdoubletap){b.fireEvent('itemdoubletap',b,d,a.viewIndex,a.child,a.record,a.event)}},onStoreBeforeLoad:function(){var a=this.getLoadingText();if(a){this.setMasked({xtype:'loadmask',message:a})}this.fireEvent.apply(this,[].concat('beforeload',this,Array.prototype.slice.call(arguments)))},onStoreLoad:function(a,e,c,d,b){this.setMasked(!1);this.fireEvent.apply(this,[].concat('load',this,Array.prototype.slice.call(arguments)));if(a.indexOf(this.getLastNode())===-1){this.goToNode(a.getRoot())}},onBackTap:function(){var a=this,g=a.getLastNode(),c=a.getDetailCard(),e=c&&a.getActiveItem()===c,d=a.getLayout(),b=d?d.getAnimation():null,f=a.getLastActiveList();if(!b||!(b&&b.isAnimating)){this.fireAction('back',[this,g,f,e],'doBack',null,null,'after')}},doBack:function(a,e,b,f){var d=a.getLayout(),c=d?d.getAnimation():null;if(f&&b){if(c){c.setReverse(!0)}a.setActiveItem(b);a.setLastNode(e.parentNode);a.syncToolbar()}else {a.goToNode(e.parentNode)}},updateData:function(a){if(!this.getStore()){this.setStore(new Ext.data.TreeStore({root:a}))}},applyStore:function(a){if(a){if(Ext.isString(a)){a=Ext.data.StoreManager.get(a)}else {if(!(a instanceof Ext.data.TreeStore)){a=Ext.factory(a,Ext.data.TreeStore,null)}}}return a},storeListeners:{rootchange:'onStoreRootChange',load:'onStoreLoad',beforeload:'onStoreBeforeLoad'},updateStore:function(c,a){var d=this,b=this.storeListeners;b.scope=d;if(a&&Ext.isObject(a)&&a.isStore){if(a.autoDestroy){a.destroy()}a.un(b)}if(c){c.on(b);d.goToNode(c.getRoot())}},onStoreRootChange:function(b,a){this.goToNode(a)},applyDetailCard:function(a,b){return Ext.factory(a,Ext.Component,a===null?b:undefined)},applyBackButton:function(b){var a=this.getToolbar();return !a?!1:Ext.factory(b,Ext.Button,this.getBackButton())},updateBackButton:function(b,c){var a=this;if(b){b.on('tap',a.onBackTap,a);b.setText(a.getBackText());if(a.$backButtonContainer){a.$backButtonContainer.insert(0,b)}else {a.getToolbar().insert(0,b)}}else if(c){c.destroy()}},applyToolbar:function(a){var b;if(a&&a.splitNavigation){Ext.apply(a,{docked:'top',xtype:'titlebar',ui:'light'});b=a.splitNavigation===!0?{}:a.splitNavigation;this.$backButtonContainer=this.add(Ext.apply({xtype:'toolbar',docked:'bottom',hidden:!0,ui:'dark'},b))}return Ext.factory(a,Ext.TitleBar,this.getToolbar())},updateToolbar:function(a,b){var c=this;if(a){a.setTitle(c.getTitle());if(!a.getParent()){c.add(a)}}else if(b){b.destroy()}},updateUseToolbar:function(a,b){if(!a){this.setToolbar(!1)}},updateTitle:function(b){var a=this,c=a.getBackButton();if(a.getUpdateTitleText()){if(a.listMode==='title'){a.setToolbarTitle(b)}else if(c&&a.getUseTitleAsBackText()&&a.listMode==='node'){c.setText(b)}}else {a.setToolbarTitle(b)}},getItemTextTpl:function(a){return '{'+this.getDisplayField()+'}'},getTitleTextTpl:function(a){return '{'+this.getDisplayField()+'}'},renderTitleText:function(a,c){var b;if(!a.titleTpl){a.titleTpl=Ext.create('Ext.XTemplate',this.getTitleTextTpl(a))}if(a.isRoot()){b=this.getTitle();return c&&b===''?this.getInitialConfig('backText'):b}return a.titleTpl.applyTemplate(a.data)},goToNode:function(b){var a=this,f,h,g,k,e,i,j,d,c;if(!b){return}f=a.getActiveItem();h=a.getDetailCard();g=h&&a.getActiveItem()===h;k=a.goToNodeReverseAnimation(b);e=a.firstList;i=a.secondList;j=a.getLayout();d=j?j.getAnimation():null;if(b.isLeaf()){throw new Error('goToNode: passed a node which is a leaf.')}if(b===a.getLastNode()&&!g){return}if(g){if(d){d.setReverse(!0)}c=a.getLastActiveList();c.getStore().setNode(b);b.expand();a.setActiveItem(c)}else {if(d){d.setReverse(k)}if(e&&i){f=a.getActiveItem();a.setLastActiveList(f);c=f===e?i:e;c.getStore().setNode(b);b.expand();a.setActiveItem(c);if(a.getClearSelectionOnListChange()){c.deselectAll()}}else if(e){a.setLastActiveList(a.getActiveItem());a.setActiveItem(a.getList(b));a.secondList=a.getActiveItem()}else {a.setActiveItem(a.getList(b));a.firstList=a.getActiveItem()}}a.fireEvent('listchange',a,a.getActiveItem());a.setLastNode(b);a.changeListMode(b);a.syncToolbar()},goToLeaf:function(h){var a=this,c,b,g,f,e,d;if(!h.isLeaf()){throw new Error('goToLeaf: passed a node which is not a leaf.')}c=a.getDetailCard();b=a.getDetailContainer();g=b===a;f=a.getLayout();e=f?f.getAnimation():!1;if(c){if(b.getItems().indexOf(c)===-1){b.add(c)}if(g){d=a.getActiveItem();if(d instanceof Ext.dataview.List){a.setLastActiveList(d)}a.setLastNode(h)}if(e){e.setReverse(!1)}b.setActiveItem(c);a.syncToolbar()}},syncToolbar:function(i){var a=this,f=a.getDetailCard(),b=a.getLastNode(),h=i||f&&a.getActiveItem()===f,d=h?b:b.parentNode,c=a.getBackButton(),g=a.getToolbar(),e;if(!g){return}if(c){e=g.getInitialConfig('splitNavigation');if(e){a.$backButtonContainer[d?'show':'hide']()}c[d?'show':'hide']();if(d&&a.getUseTitleAsBackText()){c.setText(a.renderTitleText(b.parentNode,!0))}}if(b){a.setToolbarTitle(a.renderTitleText(b))}},updateBackText:function(b){var a=this.getBackButton();if(a){a.setText(b)}},goToNodeReverseAnimation:function(b){var a=this.getLastNode();if(!a){return !1}return !a.contains(b)&&a.isAncestor(b)?!0:!1},getList:function(c){var a=this,d=new Ext.data.NodeStore({recursive:!1,node:c,rootVisible:!1,model:a.getStore().getModel(),proxy:'memory'}),b;c.expand();b=Ext.create(Ext.Object.merge({xtype:'list',pressedDelay:250,autoDestroy:!0,store:d,onItemDisclosure:a.getOnItemDisclosure(),variableHeights:a.getVariableHeights(),emptyText:a.getEmptyText(),selectable:{deselectable:a.getAllowDeselect()},listeners:{scope:a,childdoubletap:'onChildDoubleTap',beforeselectionchange:'onBeforeSelect',containertap:'onContainerTap',select:'onSelect',deselect:'onDeselect',childtap:{fn:'onChildTap',priority:1000},childtouchstart:{fn:'onChildInteraction',priority:1000}},itemTpl:'<span<tpl if="leaf == true"> class="x-list-item-leaf"</tpl>>'+a.getItemTextTpl(c)+'</span>'},a.getListConfig()));a.relayEvents(b,['activate']);return b},privates:{setToolbarTitle:function(b){var c=this,a=c.getToolbar();if(a){a.setTitle(b)}}}},1,['nestedlist'],['widget','component','container','nestedlist'],{'widget':!0,'component':!0,'container':!0,'nestedlist':!0},['widget.nestedlist'],0,[Ext.dataview,'NestedList',Ext,'NestedList'],0);Ext.define('Ext.theme.material.dataview.NestedList',{override:'Ext.dataview.NestedList',config:{backText:'',useTitleAsBackText:!1,backButton:{iconCls:'md-icon-arrow-back',hidden:!0}}});Ext.cmd.derive('Ext.dataview.listswiper.Item',Ext.Container,{classCls:'x-listswiperitem',config:{leftActions:null,rightActions:null,undo:{lazy:!0,$value:{xtype:'button',text:'Undo',touchAction:{panX:!1,panY:!1}}},action:null,state:null,translationTarget:null},autoSize:null,initialize:function(){Ext.Container.prototype.initialize.call(this);this.ownerCmp.on({scope:this,destroy:'onItemDestroy',removed:'onItemDestroy'})},applyUndo:function(b){var a=this.getAction();return Ext.apply({},a&&a.undoable,b)},onItemDestroy:function(b){var c=this,a=c.owner;a.destroyItem(b)},invokeAction:function(a,e){var d=this,g=d.owner,c=g.cmp,b=d.ownerCmp,h=a[e],f={item:b,record:b&&b.getRecord(),action:a};c.fireEvent('itemaction'+e,c,f);return Ext.callback(h,a.getScope&&a.getScope()||a.scope,[c,f],0,d)},updateState:function(b,a){if(a){this.removeCls('x-'+a)}if(b){this.addCls('x-'+b)}},onDragStart:Ext.emptyFn,onDragMove:Ext.emptyFn,onDragEnd:Ext.emptyFn},0,['listswiperitem'],['widget','component','container','listswiperitem'],{'widget':!0,'component':!0,'container':!0,'listswiperitem':!0},['widget.listswiperitem'],0,[Ext.dataview.listswiper,'Item'],0);Ext.cmd.derive('Ext.dataview.listswiper.Accordion',Ext.dataview.listswiper.Item,{classCls:'x-listswiperaccordion',cls:'x-item-no-tap',config:{bodyOffset:null,actionDefaults:{cls:'x-listswiperaction',xtype:'button',iconAlign:'top'},actionUI:'square',singleActionDefaults:{},multiActionDefaults:{},undo:{cls:'x-listswiperundoable',ui:'undo',docked:'right',ignoreDefaults:!0},thresholds:null,scaleDrag:!0,swipeToCommit:!0,side:null},layout:{type:'hbox',align:'stretch'},template:[{reference:'bodyElement',cls:'x-body-el',uiCls:'body-el',children:[{reference:'leftElement',cls:'x-listswiperaccordion-wrapper x-listswiperaccordion-wrapper-left'},{reference:'rightElement',cls:'x-listswiperaccordion-wrapper x-listswiperaccordion-wrapper-right'}]}],scrollDock:null,constructor:function(b){var a=this;a.left={name:'left',isLeft:!0,items:[]};a.right={name:'right',isLeft:!1,items:[]};Ext.dataview.listswiper.Item.prototype.constructor.call(this,b)},initialize:function(){var a=this,b=a.getTranslationTarget();Ext.dataview.listswiper.Item.prototype.initialize.call(this);b.on({scope:a,tap:'onDismissTap'})},destroy:function(){var a=this,b=a.getTranslationTarget();if(a.$undoTimer){Ext.unraf(a.$undoTimer)}b.un({scope:a,tap:'onDismissTap'});Ext.dataview.listswiper.Item.prototype.destroy.call(this)},applyLeftActions:function(a){this.addActions('left',a)},applyRightActions:function(a){this.addActions('right',a)},applySide:function(a){this.side=a&&this[a];return a},getButtonBackgroundColor:function(a){var c=a.$action,b=a[c.backgroundColorEl||'innerElement'];return b.getStyle('backgroundColor')},addActions:function(a,f){var b=this,e,g,d,c;a=b[a];a.el=a.isLeft?b.leftElement:b.rightElement;a.multiple=f.length>1;g=a.multiple?b.getMultiActionDefaults():b.getSingleActionDefaults();a.el.toggleCls(b.baseCls+'-multiple',a.multiple);a.el.toggleCls(b.baseCls+'-single',!a.multiple);for(e=0;e<f.length;e++){d=b.createActionItem(Ext.apply({},f[e],g));d.$side=a;c=b.add(d);c.addUi(this.getActionUI());c.$action=d;c.$originalHandler=c.getHandler();c.setHandler(b.onActionTap.bind(b,d));a.items.push(c)}},createActionItem:function(a){return Ext.apply({},a,this.getActionDefaults())},getSwipeRange:function(){var a=this,d=a.side,c=a.owner,b=c.getSwipeMax();return a.itemWidth*(b[d.multiple?'multiple':'single']/100)},onActionTap:function(b,c,a){var e=this,d=e.getState();if(d!=='dragpeek'){a.stopPropagation();this.commit(a,b,c)}},onDismissTap:function(){var a=this,c=a.owner,b=c.getDismissOnTap();if(b){a.dismiss()}},onRender:function(){var a=this,b=a.ownerCmp;a.itemWidth=b.el.measure('w');a.syncSides()},updateSide:function(c,d){var a=this,b=a.getLayout();a.el.replaceCls(d,c,a.baseCls+'-side');if(c==='left'){b.setPack('start')}else {b.setPack('end')}},updateState:function(b,d){var a=this,e=a.side,c=a.getDefaultButton();Ext.dataview.listswiper.Item.prototype.updateState.call(this,b,d);if(e.multiple){a.el.toggleCls(a.baseCls+'-collapsed',b==='dragcommit');if(b==='dragcommit'){c.el.setStyle({'flex-basis':e.maxActionWidth+'px'})}else {c.setStyle({'flex-basis':null})}if(d==='dragcommit'&&a.isDragging){a.el.addCls(a.baseCls+'-was-collapsed')}else {a.el.removeCls(a.baseCls+'-was-collapsed')}}},privates:{destroyItem:function(){var a=this,b=a.owner,c=a.ownerCmp;if(!a.destroyed){a.animating=!1;a.el.removeCls(a.baseCls+'-was-collapsed');b.destroyItem(c)}},animateItem:function(f,e){var a=this,b,g,d,c;e=e||{};b=a.side;g=this.getTranslationTarget();d=e.duration||150;return new Ext.Promise(function(h){a.animating=!0;a.offset=b.isLeft?f:-f;c=function(){if(!a.destroyed){a.animating=!1;a.el.removeCls(a.baseCls+'-was-collapsed')}h()};if(g.dom){if(b.el.dom){b.el.animate({preserveEndState:!0,duration:d,to:{width:f}})}g.animate({preserveEndState:!0,duration:d,to:{transform:{translateX:a.offset}},callback:c})}else {c()}})},commit:function(k,c,b){var a=this,h=a.owner,j,g,e,d,i,f;c=c||a.getDefaultAction();b=b||a.getDefaultButton();j=c.undoable;g=b.$originalHandler;a.setAction(c);a.$precommitResult=d=a.invokeAction(c,'precommit');if(g){a.snapback().then(function(){Ext.callback(g,b.getScope(),[c,k],0,b)}).then(function(){a.destroyItem()})}else {if(!j){a.dismiss()}else {i=a.add(a.getUndo());i.addUi(b.getUi());a.bodyElement.on({scope:a,tap:'onDismissTap'});if(a.$undoTimer){Ext.unraf(a.$undoTimer)}a.$undoTimer=Ext.raf(function(){a.$undoTimer=null;a.setState('undo');f=a.getButtonBackgroundColor(b);if(f){a.el.setStyle('backgroundColor',f)}i.setHandler(a.onUndoTap.bind(a));e=h.getCommitDelay();if(e){if(d&&d.then){d.then(function(){h.dismissAllTask.delay(e)})}else {h.dismissAllTask.delay(e)}}})}}},onUndoTap:function(){this.undo()},undo:function(){var a=this,c=a.getAction(),b=a.$precommitResult;a.setState('open');if(b&&b.then){b.then(function(){a.$precommitResult=null;a.undo()});return}a.snapback().then(function(){a.invokeAction(c,'revert')}).then(function(){a.destroyItem()})},dismiss:function(){var a=this,c=a.getAction(),b=a.$precommitResult;if(b&&b.then){b.then(function(){a.$precommitResult=null;a.dismiss()});return}if(c){a.snapback().then(function(){a.invokeAction(c,'commit')}).then(function(){a.destroyItem()})}else {a.snapback(!0)}},onDragStart:function(b){var a=this,c=a.getState();if(a.animating||c==='undo'){return}b.claimGesture();a.initialOffset=a.offset||0;a.startX=b.getX()-a.el.getX()-a.initialOffset;a.isDragging=!0;a.syncState(b.deltaX)},onDragMove:function(a){if(this.getState()==='undo'){return}a.preventDefault();this.syncState(a.deltaX)},onDragEnd:function(c){var a=this,b=a.getState();c.preventDefault();a.isDragging=!1;if(b==='dragcommit'){a.commit(c)}else if(b==='dragopen'){a.open()}else if(b==='undo'){return}else {a.snapback(!0)}},getDefaultButton:function(a){var b;a=a||this.side;b=a.items;return b[a.isLeft?0:b.length-1]},getDefaultAction:function(b){var a=this.getDefaultButton(b);return a&&a.$action},getRenderTarget:function(a){var b=a&&a.$side;if(b){return b.el}return Ext.dataview.listswiper.Item.prototype.getRenderTarget.apply(this,arguments)},open:function(){return this.animateItem(this.side.naturalWidth)},snapback:function(c){var b=this,a=b.animateItem(0);return c?a.then(function(){b.destroyItem()}):a},syncSides:function(){var a=this;a.syncSide('left');a.syncSide('right')},syncSide:function(a){var b=this,c=b.getThresholds(),h=b.itemWidth,j=a==='left'?b.leftElement:b.rightElement,i=j.dom.childNodes,d=0,f,k,g,e,m,l;a=b[a];k=this.getDefaultButton(a);j.addCls(b.baseCls+'-measure');for(e=0;e<i.length;e++){m=Ext.get(i[e]);g=m.measure('w');if(g>d){d=g}}l=a.naturalWidth=d*i.length;a.maxActionWidth=d;if(c&&c.open){a.openThreshold=c.open/100*h}else {a.openThreshold=d}if(c&&c.commit){a.commitThreshold=c.commit/100*h}else {a.commitThreshold=Math.min(0.95*h,l*1.4)}j.removeCls(b.baseCls+'-measure');if(a.multiple){f=b.getButtonBackgroundColor(k);if(f){a.el.setStyle('backgroundColor',f)}}},syncState:function(f){var a=this,o=a.owner,m=a.itemWidth,k=a.getSwipeToCommit(),n=a.getScaleDrag(),l=a.initialOffset+f,b=this[l<0?'right':'left'],p=n?Math.max(1,Math.min(3,Math.abs((b.isLeft?0:1)-a.startX/m)*3)):1,c=a.offset=a.initialOffset+f*p,j=a.side,h=o.getDirectionLock(),d,e,i,g;if(this.left.items.length===0||this.right.items.length===0){h=!1}if(b.items.length===0||j&&(b.name!==j.name&&h)){c=a.offset=a.initialOffset+f*0.1;if(b.items.length===0){a.setSide(b.name)}a.setState('draglocked')}else {a.setSide(b.name);e=a.getSwipeRange();i=b.openThreshold;g=b.commitThreshold;d=b.isLeft?Math.abs(Math.max(0,c)):Math.abs(Math.min(0,c));if(d<=i){a.setState('dragpeek')}else if(d<=g||!k){a.setState('dragopen')}else {a.setState('dragcommit')}if(b.isLeft){c=Math.min(c,e)}else {c=Math.max(c,-e)}}a.setBodyOffset(c)},updateBodyOffset:function(a){var b=this,d=b.side,c=b.getTranslationTarget();c.setStyle('transform','translateX('+a+'px)');d.el.setWidth(Math.abs(a))}}},1,['listswiperaccordion'],['widget','component','container','listswiperitem','listswiperaccordion'],{'widget':!0,'component':!0,'container':!0,'listswiperitem':!0,'listswiperaccordion':!0},['widget.listswiperaccordion'],0,[Ext.dataview.listswiper,'Accordion'],0);Ext.cmd.derive('Ext.dataview.listswiper.ListSwiper',Ext.plugin.Abstract,{config:{left:[],right:[],dismissOnTap:!0,dismissOnScroll:!0,commitDelay:0,widget:{xtype:'listswiperaccordion'},swipeMax:{single:50,multiple:90},directionLock:!0,target:null},shadowCls:'x-listswiper-shadow',init:function(b){var a=this,c=b.getScrollable();a.items=[];b.on({scope:this,add:'onItemAdd'});b.el.on({scope:this,dragstart:'onDragStart',drag:'onDragMove',dragend:'onDragEnd'});if(c){c.setX(!1)}a.dismissAllTask=new Ext.util.DelayedTask(a.dismissAll,a);a.updateDismissOnScroll(a.getDismissOnScroll())},destroy:function(){var a=this.cmp;a.un({scope:this,add:'onItemAdd'});a.el.un({scope:this,dragstart:'onDragStart',drag:'onDragMove',dragend:'onDragEnd'});Ext.plugin.Abstract.prototype.destroy.call(this)},createWidget:function(d){var a=this,c=a.getLeft(),b=a.getRight();return Ext.apply({owner:a,defaults:a.defaults,leftActions:c,rightActions:b},d)},onScrollStart:function(){if(this.getDismissOnScroll()){this.dismissAll()}},onItemAdd:function(b,a){a.setTouchAction({panX:!1})},onItemUpdateData:function(a){Ext.asap(this.resyncItem,this,[a])},onDragStart:function(g){var c=this,f=c.cmp,h=f.mapToRecord(g),i,d,e,a,b;if(!c.hasActions()||g.absDeltaX<g.absDeltaY){return}if(h){a=f.mapToItem(h);if(a){b=a.$swiperWidget;if(!b){b=c.createWidget(c.getWidget());b.ownerCmp=a;i=c.getTarget();if(a.isGridRow||i==='outer'){e=a.el;d=a.el.first()}else {e=a.bodyElement;d=a.hasToolZones?e.child('.x-tool-dock'):a.innerElement}d.addCls(c.shadowCls);b.translationTarget=d;e=d.parent();a.$swiperWidget=b=Ext.create(b);e.insertFirst(b.el);b.setRendered(!0);if(f.infinite){f.stickItem(a,!0)}this.items.push(a)}b.onDragStart(g)}}},onDragMove:function(c){var d=this,e=d.cmp,b=e.mapToItem(c),a;if(b){a=b.$swiperWidget;if(!d.hasActions()||!a){return}a.onDragMove(c)}},onDragEnd:function(c){var d=this,e=d.cmp,b=e.mapToItem(c),a;if(b){a=b.$swiperWidget;if(!d.hasActions()||!a){return}a.onDragEnd(c)}},updateDismissOnScroll:function(d){var c=this.getCmp(),a,b;if(this.isConfiguring||!c){return}a=c.getScrollable();if(!a){return}b={scrollstart:'onScrollStart',scope:this};if(d===!0){a.on(b)}else {a.un(b)}},hasActions:function(){return this.getLeft()||this.getRight()},privates:{destroyItem:function(a){var b=this,d=b.cmp,c=a.$swiperWidget,e=b.items.indexOf(a);if(e!==-1){b.items.splice(e,1)}if(c){c.destroy()}a.$swiperWidget=null;if(d.infinite&&!a.destroyed){d.stickItem(a,null)}},dismissAll:function(){var a=this;a.items.map(function(a){return a.$swiperWidget}).forEach(function(a){a.dismiss()})}}},0,0,0,0,['plugin.listswiper'],0,[Ext.dataview.listswiper,'ListSwiper'],0);Ext.cmd.derive('Ext.dataview.listswiper.Stepper',Ext.dataview.listswiper.Item,{config:{iconCls:null,text:null,undo:{docked:'right',ui:'listswiperstepper-trigger'},step:null,side:null,animation:!0},classCls:'x-listswiperstepper',layout:{type:'hbox',align:'center'},scrollDock:null,sideCls:{left:'x-side-left',right:'x-side-right'},tpl:'<div class="x-listswiperstepper-text">{text}</div>',template:[{reference:'bodyElement',cls:'x-body-el',uiCls:'body-el',children:[{reference:'iconWrapElement',cls:'x-icon-wrap-el',uiCls:'icon-wrap-el',children:[{reference:'iconElement',cls:'x-icon-el x-font-icon'}]},{reference:'innerElement',cls:'x-inner-el',uiCls:'inner-el'}]}],initialize:function(){Ext.dataview.listswiper.Item.prototype.initialize.call(this);this.bodyElement.on('tap','onTap',this)},onRender:function(){this.steps=this.buildSteps()},applyAnimation:function(a){if(a===!0){a={duration:500,easing:{type:'ease-out'}}}return a},updateTranslationTarget:function(a){this.translatable=Ext.Factory.translatable({element:a},'csstransform')},revert:function(b){var a=this,c=a.getAction();a.invokeAction(c,'revert');a.finalize(b)},dismiss:function(b){var a=this,c=a.getAction(),d=a.getState();if(d==='undo'){a.invokeAction(c,'commit')}a.finalize(b)},sortFn:function(a,b){return b.x-a.x},buildSteps:function(){var c=this,g=c.ownerCmp,i=g.el,h=c.getLeftActions()||{},f=c.getRightActions()||{},b=i.getWidth(),d={r:[],l:[]},a=0,e=function(g,h,f){var e=Ext.util.Format.defaultValue(f.threshold,'25%'),c=parseInt(e,10);if(isNaN(c)){return}if(typeof e==='string'&&e.indexOf('%')!==-1){c=b*c/100}a+=c;d[g].push({action:f,side:g==='r'?'right':'left',tx:g==='r'?-b:b,x:a,key:f.key||h})};Ext.Object.each(h,e.bind(this,'l'));a=0;Ext.Object.each(f,e.bind(this,'r'));return d},findStep:function(f,h){var i=this,a={step:null,active:!0},c=i.steps[f>0?'l':'r'],e=c.length,g=Math.abs(f),d,b;for(b=e-1;!a.step&&b>=0;--b){d=c[b];if(d.x<g){a.step=d}}if(!a.step&&h&&e>0){a.step=c[0];a.active=!1}return a},updateStep:function(a,b){var c=this,e=a&&a.action,d=b&&b.action,i=e&&e.cls,h=d&&d.cls,g=a&&'swipe-action-'+a.key,f=b&&'swipe-action-'+b.key;if(a){c.setSide(a.side)}c.replaceCls(h,i);c.replaceCls(f,g,'x-');c.syncStep()},updateSide:function(d,e){var a=this,b=a.sideCls,c=a.getLayout();a.replaceCls(b[e],b[d]);if(c.setPack){c.setPack(d==='right'?'end':'start')}},onDragStart:function(a){a.stopPropagation()},onDragMove:function(g){var a=this,i=a.owner,h=i.getDirectionLock(),e=a.getState(),f=a.getStep(),d=a.translatable,c=g.deltaX,b;if(e==='undo'){return}if(e==='consumed'){a.setState('reaquired');d.stopAnimation()}b=a.findStep(c,!0);if(h&&(b.step&&f)&&b.step.side!==f.side){a.setState('overdrag');b.step=null}else {a.setState(b.step?b.active?'active':'peek':'overdrag');a.setStep(b.step||null)}d.translateAxis('x',b.step?c:c*0.1);g.stopPropagation()},onDragEnd:function(d){var a=this,c=a.getState(),e=a.getStep(),f=d.deltaX,b;if(c==='undo'||c==='consumed'){return}d.stopPropagation();b=a.findStep(f,!1);if(!b.step||b.step.side!==e.side){a.finalize(!0);return}a.setStep(b.step);a.commit(!0)},commit:function(g){var a=this,h=a.getStep(),c=h.action,e=a.owner,i=a.translatable,d,b,f;a.setAction(c);b=a.invokeAction(c,'precommit');if(c.undoable){a.setState('undo');f=a.add(a.getUndo());f.setHandler(a.onUndoTap.bind(a));a.setSide(f.getDocked()==='left'?'right':'left');i.translateAxis('x',h.tx,a.getAnimation());d=e.getCommitDelay();if(d){if(b&&b.then){b.then(function(){e.dismissAllTask.delay(d)})}else {e.dismissAllTask.delay(d)}}}else {if(b&&b.then){b.then(a.invokeAction.bind(a,c,'commit')).then(a.finalize.bind(a,g))}else {a.invokeAction(c,'commit');a.finalize(g)}}},finalize:function(c){var a=this,d=a.getAnimation(),b=a.translatable;b.stopAnimation();a.setState('consumed');if(!c){a.doFinalize();return}if(b.x!==0){b.on({animationend:'doFinalize',single:!0,scope:a});b.translateAxis('x',0,c&&d)}},doFinalize:function(){var a=this,d=a.owner,b=a.ownerCmp,e=a.getState(),c=a.translatable;if(e==='consumed'){c.translateAxis('x',0,!1);if(!a.destroyed&&b){d.destroyItem(b)}}},syncStep:function(){var c=this,i=c.ownerCmp,e=i.getRecord(),f=c.getStep(),h=null,d='',g='',a,b;if(f){a=f.action;if(a){h=a.ui;d=a.iconCls;g=a.text;b=a.data}b=Ext.apply({text:g},b,e?e.getData(!0):{});this.setUi(h);this.setIconCls(d);c.setData(b)}else {this.setUi(null);this.setIconCls(null);c.setData(null)}},updateIconCls:function(b,a){this.iconElement.replaceCls(a,b)},privates:{getRenderTarget:function(){return this.innerElement},onTap:function(d){var a=this,c=a.owner,b=c.getDismissOnTap();d.stopPropagation();if(b){a.dismiss()}},onUndoTap:function(b,a){a.stopPropagation();this.revert()}}},0,['listswiperstepper'],['widget','component','container','listswiperitem','listswiperstepper'],{'widget':!0,'component':!0,'container':!0,'listswiperitem':!0,'listswiperstepper':!0},['widget.listswiperstepper'],0,[Ext.dataview.listswiper,'Stepper'],0);Ext.define('App.override.dataview.listswiper.ListSwiper',{override:'Ext.dataview.listswiper.ListSwiper',config:{directionLock:!1,widget:{xtype:'listswiperstepper',undo:{iconCls:'x-fa fa-undo'}}}});Ext.cmd.derive('Ext.tip.ToolTip',Ext.Panel,{floated:!0,hidden:!0,shadow:!0,border:!0,bodyBorder:!1,anchor:!1,closeAction:'hide',config:{align:'l-r?',alignDelegate:null,allowOver:null,anchorToTarget:!0,autoHide:!0,delegate:null,dismissDelay:5000,hideDelay:300,mouseOffset:[15,18],quickShowInterval:250,showDelay:500,showOnTap:null,target:null,trackMouse:!1},classCls:'x-tooltip',headerCls:'x-tooltipheader',titleCls:'x-tooltiptitle',toolCls:['x-paneltool','x-tooltiptool'],closeToolText:null,constructor:function(a){this.currentTarget=new Ext.dom.Fly();Ext.Panel.prototype.constructor.call(this,a)},getRefOwner:function(){var a=this.getTarget();return a&&a.isComponent?a:Ext.Panel.prototype.getRefOwner.call(this)},updateAnchor:function(){this.doRealignToTarget()},applyAlign:function(a){var b=a[a.length-1];if(b!=='?'&&b!=='!'){a+='?'}return a},updateAlign:function(){this.doRealignToTarget()},updateAllowOver:function(b){var a=this;a.overListeners=Ext.destroy(a.overListeners);if(b){a.overListeners=a.el.on({mouseenter:'onTipOver',mouseleave:'onTipOut',scope:a,destroyable:!0})}},applyTarget:function(a){if(a){if(!a.isComponent){a=Ext.get(a.el||a)}}return a},updateTarget:function(b,c){var a=this;if(c){c.un('destroy',a.destroy,a)}if(b){if(b.isComponent){a.targetElement=b.element;b.on('destroy',a.destroy,a)}else {a.targetElement=Ext.get(b)}}else {a.targetElement=null}a.attachTargetListeners()},updateTrackMouse:function(a){if(a){this.setAllowOver(a)}},updateDisabled:function(b,d){var a=this,c;Ext.Panel.prototype.updateDisabled.call(this,b,d);if(b){a.clearTimers();a.hide();c=null}a.attachTargetListeners(c)},updateShowOnTap:function(a){if(!this.isConfiguring){this.attachTargetListeners()}},realignToTarget:function(){this.doRealignToTarget()},showBy:function(a,f,e){var b=this,d=a,c=b.getAlignDelegate();if(a.isEvent){b.alignToEvent(a)}else {if(a.isWidget){b.updateCurrentTarget(a.element.dom)}else if(a.isElement){b.updateCurrentTarget(a.dom)}else if(a.nodeType){b.updateCurrentTarget(a)}if(c){a=Ext.fly(a);d=a.down(c,!0)||a.up(c,b.targetElement,!0)}Ext.Panel.prototype.showBy.call(this,d,f||b.getAlign(),e)}},beforeShow:function(b){var a=this,c=(arguments.callee.$previous||Ext.Panel.prototype.beforeShow).apply(this,arguments);if(c!==!1){if(!b.alignment&&(a.pointerEvent||a.getTarget())){b.alignment={component:a.targetElement,alignment:a.getAlign(),options:{overlap:a.getTrackMouse()&&!a.getAnchor()}}}a.clearTimer('dismiss')}},afterShow:function(){var a=this;(arguments.callee.$previous||Ext.Panel.prototype.afterShow).call(this);a.postprocessShow();a.mousedownListener=Ext.on({mousedown:'onDocMouseDown',scope:a,destroyable:!0})},hide:function(){var a=this;a.clearTimer('hide');a.clearTimer('dismiss');Ext.Panel.prototype.hide.call(this);a.lastHidden=new Date();a.updateCurrentTarget(null);Ext.destroy(a.mousedownListener)},doDestroy:function(){var a=this;a.clearTimers();a.setTarget(null);a.destroyMembers('mousedownListener','overListeners');Ext.Panel.prototype.doDestroy.call(this)},privates:{allowRealign:!0,onDocMouseDown:function(b){var a=this,c=a.getDelegate();if(b.within(a.el.dom)){if(b.pointerType!=='mouse'&&a.getAllowOver()){a.clearTimer('dismiss')}}else if(!a.getClosable()){if(b.within(a.targetElement)&&(!c||b.getTarget(c,a.targetElement))){a.delayHide()}else {a.disable();a.enableTimer=Ext.defer(a.enable,100,a)}}},onTargetOver:function(c){var a=this,e=a.targetElement,d=a.getDelegate(),f=a.currentTarget,b;if(a.getDisabled()){return}if(a.getAllowOver()&&a.el.contains(c.target)){return}if(d){if(f.contains(c.target)){return}b=c.getTarget(d,e);if(b&&c.getRelatedTarget(d)===b){return}}else if(!e.contains(c.relatedTarget)){b=e.dom}else {return}if(b){a.handleTargetOver(c,b)}else if(f.dom){a.handleTargetOut()}},handleTargetOver:function(d,b){var a=this,c=a.hasListeners;a.pointerEvent=d;a.updateCurrentTarget(b);if(a.isVisible()){if(c.beforeshow&&a.fireEvent('beforeshow',a)===!1){return a.hide()}a.clearTimer('hide');a.clearTimer('dismiss');a.showByTarget(b);if(c.show){a.fireEvent('show',a)}a.postprocessShow()}else {a.delayShow(b)}},postprocessShow:function(){var a=this,b=a.getDismissDelay();a.clearTimer('show');if(b&&a.getAutoHide()){a.dismissTimer=Ext.defer(a.hide,b,a)}a.toFront()},onTargetTap:function(a){if(a.pointerType!=='mouse'&&Ext.fly(a.target).isVisible(!0)){this.onTargetOver(a)}},onTargetOut:function(a){if(this.currentTarget.dom&&!this.currentTarget.contains(a.relatedTarget)){if(!this.getAllowOver()&&a.within(this.el,!0)){this.handleTargetOut()}}},handleTargetOut:function(){var a=this;if(a.showTimer){a.clearTimer('show')}if(a.isVisible()&&a.getAutoHide()){a.delayHide()}},onTipOver:function(){this.clearTimer('hide');this.clearTimer('dismiss')},onTipOut:function(a){if(!this.currentTarget.dom||!a.getPoint().isContainedBy(this.currentTarget.getRegion())){this.handleTargetOut()}},onMouseMove:function(b){var a=this,c=a.getDismissDelay();if(!a.el.contains(b.target)){a.pointerEvent=b}if(a.isVisible()&&a.currentTarget.contains(b.target)){if(c&&a.getAutoHide()!==!1){a.clearTimer('dismiss');a.dismissTimer=Ext.defer(a.hide,c,a)}if(a.getTrackMouse()){a.alignToEvent(b)}}},delayShow:function(b){var a=this;a.clearTimer('hide');if(a.getHidden()&&!a.showTimer){if(a.getDelegate()&&Ext.Date.getElapsed(a.lastHidden)<a.getQuickShowInterval()){a.showByTarget(b)}else {a.showTimer=Ext.defer(a.showByTarget,!a.pointerEvent||a.pointerEvent.pointerType==='mouse'?a.getShowDelay():0,a,[b])}}else if(!a.getHidden()&&a.getAutoHide()!==!1){a.showByTarget(b)}},showByTarget:function(c){var a=this,b=a.getAnchorToTarget()&&!a.getTrackMouse();a.lastShowWasPointer=!b;a.showBy(b?c:a.pointerEvent,a.getAlign(),{overlap:a.getTrackMouse()&&!a.getAnchor()})},delayHide:function(){var a=this;if(!a.isHidden()&&!a.hideTimer){a.clearTimer('dismiss');a.hideTimer=Ext.defer(a.hide,a.getHideDelay(),a)}},alignToEvent:function(f){var a=this,d={overlap:a.getTrackMouse()&&!a.getAnchor()},b=a.getMouseOffset(),e=f.getPoint().adjust(-Math.abs(b[1]),Math.abs(b[0]),Math.abs(b[1]),-Math.abs(b[0])),c=a.getAnchor()?a.getAlign():null;if(!c&&b){if(b[0]>0){if(b[1]>0){c='tl-br?'}else {c='bl-tr?'}}else {if(b[1]>0){c='tr-bl?'}else {c='br-tl?'}}}if(a.isVisible()){a.clearTimer('hide');a.alignTo(e,c,d)}else {a.showBy(e,c,d)}},_timerNames:{},clearTimer:function(b){var a=this,d=a._timerNames,c=d[b]||(d[b]=b+'Timer'),e=a[c];if(e){Ext.undefer(e);a[c]=null;if(b==='show'&&a.isHidden()){a.updateCurrentTarget(null)}}},clearTimers:function(){var a=this;a.clearTimer('show');a.clearTimer('dismiss');a.clearTimer('hide');a.clearTimer('enable')},clipTo:function(a,c){var b;if(a.isRegion){b=a}else {b=(a.isComponent?a.el:Ext.fly(a)).getConstrainRegion()}this.callParent([b,c]);this.tipElement.clipTo(b,c)},doRealignToTarget:function(){var a=this,b=a.currentTarget,c=b&&b.dom;a.clearTimers();if(a.allowRealign&&a.isVisible()&&c){a.realign(null,a.getAlign())}},updateCurrentTarget:function(c){var a=this,b=a.currentTarget,d=b.dom;b.attach(c);if(!a.isConfiguring){a.fireEvent('hovertarget',a,b,d)}},attachTargetListeners:function(b){var a=this,c;a.targetListeners=Ext.destroy(a.targetListeners);if(b===null){return}b=a.targetElement;if(b){c={mouseover:'onTargetOver',mouseout:'onTargetOut',mousemove:'onMouseMove',scope:a,destroyable:!0};if(a.getShowOnTap()){c.tap='onTargetTap'}a.targetListeners=b.on(c)}}}},1,['tooltip'],['widget','component','container','panel','tooltip'],{'widget':!0,'component':!0,'container':!0,'panel':!0,'tooltip':!0},['widget.tooltip'],0,[Ext.tip,'ToolTip'],0);Ext.cmd.derive('Ext.dataview.plugin.ListPaging',Ext.plugin.Abstract,{alternateClassName:'Ext.plugin.ListPaging',config:{autoPaging:!1,bufferZone:8,loadMoreText:'Load More...',noMoreRecordsText:'No More Records',loadMoreCmp:{xtype:'component',cls:'x-listpaging',scrollDock:'end',hidden:!0,inheritUi:!0},loading:!1},loadTpl:'<div class="x-loading-spinner"><span class="x-loading-top"></span><span class="x-loading-right"></span><span class="x-loading-bottom"></span><span class="x-loading-left"></span></div><div class="x-message">{message}</div>',init:function(b){var a=this;b.on('storechange','onStoreChange',a);a.bindStore(b.getStore());a.addLoadMoreCmp()},destroy:function(){Ext.destroy(this._storeListeners);Ext.plugin.Abstract.prototype.destroy.call(this)},updateAutoPaging:function(c){var b=this.getCmp().getScrollable(),a={scroll:'onScroll',scope:this};if(c){b.on(a);this.ensureBufferZone()}else {b.un(a)}},bindStore:function(b){var a=this,c={beforeload:'onStoreBeforeLoad',load:'onStoreLoad',filter:'onFilter',destroyable:!0,scope:a};a._storeListeners=Ext.destroy(a._storeListeners);if(b){a._storeListeners=b.on(c)}},disableDataViewMask:function(){var a=this.cmp;this._listMask=a.getLoadingText();a.setLoadingText(null)},enableDataViewMask:function(){var a;if(this._listMask){a=this.cmp;a.setLoadingText(this._listMask);delete this._listMask}},applyLoadMoreCmp:function(b,a){return Ext.updateWidget(a,b,this,'createLoadMoreCmp')},createLoadMoreCmp:function(a){return Ext.apply({html:this.getLoadTpl().apply({message:this.getLoadMoreText()})},a)},updateLoadMoreCmp:function(a,b){Ext.destroy(b);if(a){a.el.on({tap:'loadNextPage',scope:this})}},onScroll:function(){this.ensureBufferZone()},updateLoading:function(a){this.getLoadMoreCmp().toggleCls(this.loadingCls,a)},onStoreChange:function(b,a){this.bindStore(a)},onStoreBeforeLoad:function(a){if(a.getCount()===0){this.getLoadMoreCmp().hide()}},onStoreLoad:function(){this.syncState()},onFilter:function(a){this.getLoadMoreCmp.setVisible(a.getCount()===0)},addLoadMoreCmp:function(){var a=this;if(!a.isAdded){a.cmp.add(a.getLoadMoreCmp());a.isAdded=!0;a.syncState()}},storeFullyLoaded:function(){var a=this.cmp.getStore(),b=a?a.getTotalCount():null;return b!==null?b<=a.currentPage*a.getPageSize():!1},loadNextPage:function(){var a=this,b=a.cmp;if(a.storeFullyLoaded()){return}a.setLoading(!0);a.disableDataViewMask();a.currentScrollToTopOnRefresh=b.getScrollToTopOnRefresh();b.setScrollToTopOnRefresh(!1);b.getStore().nextPage({addRecords:!0})},privates:{loadingCls:'x-loading',ensureBufferZone:function(){var a=this,b=a.cmp;if(b.isPainted()){a.ensureBufferZone=a.doEnsureBufferZone;a.doEnsureBufferZone();return}if(!a.waitingForPainted){a.waitingForPainted=!0;b.on({painted:{single:!0,fn:function(){delete a.waitingForPainted;a.ensureBufferZone()}}})}},doEnsureBufferZone:function(){var c=this,f=c.cmp,a=f.getStore(),h=f.getScrollable(),d=a&&a.getCount(),g=c.getBufferZone(),e,b,j,i;if(!a||!d||!h||c.getLoading()){return}i=Math.min(Math.max(0,d-g),d-1);e=f.mapToItem(a.getAt(i));b=e&&e.element.getBox();if(!b){return}j=g>0?b.top+1:b.bottom;if(j>h.getElement().getBox().bottom){return}c.loadNextPage()},getLoadTpl:function(){return Ext.XTemplate.getTpl(this,'loadTpl')},syncState:function(){var a=this,e=a.cmp,b=a.getLoadMoreCmp(),d=a.storeFullyLoaded(),c=e.store,f=d?a.getNoMoreRecordsText():a.getLoadMoreText();if(c&&c.getCount()){b.show()}a.setLoading(!1);b.setHtml(a.getLoadTpl().apply({message:f}));b.setDisabled(d);if(a.currentScrollToTopOnRefresh!==undefined){e.setScrollToTopOnRefresh(a.currentScrollToTopOnRefresh);delete a.currentScrollToTopOnRefresh}a.enableDataViewMask();if(a.getAutoPaging()){a.ensureBufferZone()}}}},0,0,0,0,['plugin.listpaging'],0,[Ext.dataview.plugin,'ListPaging',Ext.plugin,'ListPaging'],0);Ext.cmd.derive('Ext.dataview.plugin.SortableList',Ext.plugin.Abstract,{alternateClassName:'Ext.plugin.SortableList',config:{list:null,source:{xclass:'Ext.drag.Source',handle:'.x-list-sortablehandle',constrain:{vertical:!0},proxy:{getElement:function(a){return this.getSource().list.mapToItem(a.initialEvent).el}}}},init:function(a){this.setList(a)},updateList:function(b){var a;if(b){a=this.getSource();if(a){a.list=b;a.setElement(b.getRenderTarget())}}},applySource:function(a){if(a){a=Ext.create(a)}return a},updateSource:function(a,c){var b=this.getList();Ext.destroy(c);if(a){a.on({scope:this,dragstart:'onDragStart',dragmove:'onDrag',dragend:'onDragEnd'});if(b){a.list=b;a.setElement(b.getRenderTarget())}}},onDragStart:function(d,a){var c=this.getList(),b=c.mapToItem(a.initialEvent);b.addCls('x-item-no-ripple');b.translate(0,0);a.item=b;a.startIndex=b.getRecordIndex();a.listTop=c.element.getY();a.itemHeight=b.el.measure('h');a.halfHeight=a.itemHeight/2;c.stickItem(b,{floated:!0})},onDrag:function(f,a){var b=this.getList(),d={},e=Math.max(0,a.cursor.current.y-a.listTop),c=b.bisectPosition(e+b.getVisibleTop()+a.halfHeight);a.index=c=c+b.renderInfo.indexTop;d[c]=a.itemHeight;b.setGaps(d)},onDragEnd:function(n,f,m){var g=this,b=g.getList(),a=f.item,j=a.el.dom.style,d=b.getStore(),c=f.index,h=b.mapToItem(d.getAt(c)),l,k,i,e;a.getTranslatable().on('animationend',function(){if(g.destroyed){return}i=f.startIndex;e=a.getRecord();b.stickItem(a);b.setGaps(null);a.removeCls('x-item-no-ripple');if(i===c){return}d.insert(c,e);c=d.indexOf(e);b.fireEvent('dragsort',b,b.mapToItem(e),c)},g,{single:!0});m.stopPropagation();k=h?h.$y0:b.mapToItem(d.getAt(c-1)).$y1;l=a.element.getTop(!0);j.left=j.top='';a.translate(0,l);a.translate(null,k,{duration:100})}},0,0,0,0,['plugin.sortablelist'],0,[Ext.dataview.plugin,'SortableList',Ext.plugin,'SortableList'],0);Ext.cmd.derive('Ext.field.BoxLabelable',Ext.Mixin,{mixinConfig:{id:'boxLabelable',after:{initElement:'afterInitElement'}},config:{boxLabel:null,boxLabelAlign:null},boxLabeledCls:'x-box-labeled',getBodyTemplate:function(){return [{reference:'boxWrapElement',cls:'x-box-wrap-el',children:[{reference:'boxElement',cls:'x-box-el',children:this.getBoxTemplate()},{tag:'label',reference:'boxLabelElement',cls:'x-box-label-el'}]}]},getBoxTemplate:Ext.emptyFn,updateBoxLabel:function(a){this.boxLabelElement.setHtml(a);this.el.toggleCls(this.boxLabeledCls,!!a)},updateBoxLabelAlign:function(b,a){var d=this,c=d.el;if(a){c.removeCls('x-box-label-align-'+a)}if(b){c.addCls('x-box-label-align-'+b)}},afterInitElement:function(){var a=this.inputElement;if(a){this.boxLabelElement.dom.setAttribute('for',a.id)}}},0,0,0,0,0,0,[Ext.field,'BoxLabelable'],0);Ext.cmd.derive('Ext.field.Checkbox',Ext.field.Input,{alternateClassName:'Ext.form.Checkbox',qsaLeftRe:/[[]/g,qsaRightRe:/[\]]/g,shareableName:!0,isCheckbox:!0,defaultBindProperty:'checked',twoWayBindable:{checked:1},publishes:{checked:1},config:{value:'',checked:!1},inputType:'checkbox',classCls:'x-checkboxfield',checkedCls:'x-checked',getBodyTemplate:function(){return this.mixins.boxLabelable.getBodyTemplate.call(this)},getBoxTemplate:function(){return [{reference:'iconElement',cls:'x-font-icon x-icon-el',children:[this.getInputTemplate()]}]},getInputTemplate:function(){var a=Ext.field.Input.prototype.getInputTemplate.call(this);a.listeners=a.listeners||{};a.listeners.change={fn:'onChange',delegated:!1};return a},getSubmitValue:function(){return this.getChecked()?Ext.isEmpty(this._value)?!0:this._value:null},serialize:function(){return this.getSubmitValue()},checkedRe:/^(true|1|on)/i,getChecked:function(){return !!this.inputElement.dom.checked},applyChecked:function(a){if(this.isConfiguring){this.originalState=a}return !!this.checkedRe.test(String(a))},updateChecked:function(b,d){var a=this,c;if(!a.$onChange){a.inputElement.dom.checked=b}a.toggleCls(a.checkedCls,b);if(a.initialized){c=b?'check':'uncheck';a.fireEvent(c,a);a.fireEvent('change',a,b,d)}a.setDirty(a.isDirty())},isChecked:function(){return this.getChecked()},isDirty:function(){return this.getChecked()!==this.originalState},check:function(){return this.setChecked(!0)},uncheck:function(){return this.setChecked(!1)},onChange:function(b){var a=this;a.$onChange=!0;a.setChecked(!!b.target.checked);delete a.$onChange},getSameGroupFields:function(){var b=this,c=b.lookupNameHolder(),a=b.name;if(!c){a=a.replace(b.qsaLeftRe,'\\[').replace(b.qsaRightRe,'\\]');return Ext.Viewport.query('checkboxfield[name='+a+']')}return c.lookupName(a)},getGroupValues:function(){var a=[];this.getSameGroupFields().forEach(function(b){if(b.getChecked()){a.push(b.getValue())}});return a},setGroupValues:function(a){this.getSameGroupFields().forEach(function(b){b.setChecked(a.indexOf(b.getValue())!==-1)});return this},resetGroupValues:function(){this.getSameGroupFields().forEach(function(a){a.setChecked(a.originalState)});return this},reset:function(){this.setChecked(this.originalState);return this},resetOriginalValue:function(){this.originalState=this.getChecked();this.setDirty(!1)},getRawValue:function(){return this.getChecked()},rawToValue:Ext.emptyFn},0,['checkbox','checkboxfield'],['widget','component','field','inputfield','checkbox','checkboxfield'],{'widget':!0,'component':!0,'field':!0,'inputfield':!0,'checkbox':!0,'checkboxfield':!0},['widget.checkbox','widget.checkboxfield'],[[Ext.field.BoxLabelable.prototype.mixinId||Ext.field.BoxLabelable.$className,Ext.field.BoxLabelable]],[Ext.field,'Checkbox',Ext.form,'Checkbox'],0);Ext.define('Ext.theme.material.field.Checkbox',{override:'Ext.field.Checkbox',config:{labelAlign:'left',bodyAlign:'end',ripple:{delegate:'.x-icon-el',bound:!1,color:'default'}}});Ext.cmd.derive('Ext.field.Manager',Ext.Base,{mixinId:'fieldmanager',fillRecord:function(c){var b,a;if(c){b=this.getValues();for(a in b){if(b.hasOwnProperty(a)&&c.getField(a)){c.set(a,b[a])}}}return this},consumeRecord:function(a){var b=a&&a.data;if(b){this.setValues(b)}},setValues:function(d){var h=this.getFields(),f,a,b,g,e,c;d=d||{};for(f in d){if(d.hasOwnProperty(f)){a=h[f];b=d[f];if(a){if(Ext.isArray(a)){g=a.length;for(e=0;e<g;e++){c=a[e];if(c.isRadio){c.setGroupValue(b);break}else if(c.isCheckbox){if(Ext.isArray(b)){c.setChecked(b.indexOf(c._value)!==-1)}else {c.setChecked(b===c._value)}}else {if(Ext.isArray(b)){c.setValue(b[e])}}}}else {if(a.isRadio||a.isCheckbox){a.setChecked(b)}else {a.setValue(b)}}if(this.getTrackResetOnLoad&&this.getTrackResetOnLoad()){a.resetOriginalValue()}}}}return this},getValues:function(d,l){var j=this.getFields(),b={},i=Ext.isArray,m=d,e,c,h,a,f,n,g,k;if(Ext.isObject(d)){m=d.enabled;l=d.nameless;k=d.serialize}h=function(e,f){if(!l&&(!f||f==='null')||e.isFile){return}c=k||e.isCheckbox?e.serialize():e.getValue();if(!(m&&e.getDisabled())){if(e.isRadio){if(e.isChecked()){b[f]=c}}else {a=b[f];if(!Ext.isEmpty(a)){if(!e.isCheckbox||e.isChecked()){if(!i(a)){a=b[f]=[a]}if(i(c)){a=b[f]=a.concat(c)}else {a.push(c)}}}else {b[f]=c}}}};for(f in j){if(j.hasOwnProperty(f)){e=j[f];if(i(e)){n=e.length;for(g=0;g<n;g++){h(e[g],f)}}else {h(e,f)}}}return b},getSubmitValues:function(a){return this.getValues(Ext.applyIf({serialize:!0},a))},reset:function(a){this.getFields(!1).forEach(function(b){b.reset();if(a){b.setError(null)}});return this},updateDisabled:function(a){this.getFields(!1).forEach(function(b){b.setDisabled(a)});return this},setErrors:function(f){var e=function(a,c){if(a){b=f[c];if(b===null||Ext.isArray(b)&&b.length===0){a.setError(null)}else {a.setError(b)}}},a,c,b,d,g;for(a in f){c=this.lookupName(a)||this.lookup(a);if(Ext.isArray(c)){for(d=0,g=c.length;d<g;d++){e(c[d],a)}}else {e(c,a)}}return this},clearErrors:function(){var c=this.getFields(!1),b,d,a;for(b=0,d=c.length;b<d;b++){a=c[b];if(a.getName()&&a.setError){a.setError(null)}}return this},getErrors:function(){var e={},c,b,f,d,a;c=this.getFields(!1).filter(function(a){return a.getName()});for(b=0,f=c.length;b<f;b++){d=c[b];a=d.getError();if(!a||!a.length){a=null}e[d.getName()]=a}return e},isValid:function(){var b=this.getFields(!1),a,c;for(a=0,c=b.length;a<c;a++){if(!b[a].isValid()){return !1}}return !0},validate:function(e){var b=this.getFields(!1),d=!0,a,c;for(a=0,c=b.length;a<c;a++){if(!b[a].validate(e)){d=!1}}return d},getFields:function(e,l){var j=l===!1?'>':'',k=j+'field'+(e?'[name='+e+']':''),a=this.query(k),h=e===!1,d,g,i,c,f,b;if(!a&&h){return []}else if(a&&!h){if(!e){d={};for(g=0,i=a.length;g<i;g++){c=a[g];f=c.getName();b=d[f];if(b){if(Ext.isArray(b)){b.push(c)}else {d[f]=[b,c]}}else {d[f]=c}}return d}else if(a.length<2){return a[0]}}return a},getFocusedField:function(){var c=this.getFields(!1),d=c.length,b,a;for(a=0;a<d;a++){b=c[a];if(b.hasFocus){return b}}return null},getNextField:function(){var b=this.getFields(!1),c=this.getFocusedField(),a;if(c){a=b.indexOf(c);if(a!==b.length-1){a++;return b[a]}}return !1},focusNextField:function(){var a=this.getNextField();if(a){a.focus();return a}return !1},getPreviousField:function(){var c=this.getFields(!1),b=this.getFocusedField(),a;if(b){a=c.indexOf(b);if(a!==0){a--;return c[a]}}return !1},focusPreviousField:function(){var a=this.getPreviousField();if(a){a.focus();return a}return !1}},0,0,0,0,0,0,[Ext.field,'Manager'],0);Ext.cmd.derive('Ext.mixin.FieldDefaults',Ext.Mixin,{mixinConfig:{id:'fieldDefaults',before:{initInheritedState:'initInheritedState'}},initInheritedState:function(b){var c=this,a=c.fieldDefaults;if(a){b.fieldDefaults=a}}},0,0,0,0,0,0,[Ext.mixin,'FieldDefaults'],0);Ext.cmd.derive('Ext.field.ChipViewNavigationModel',Ext.dataview.BoundListNavigationModel,{privates:{getKeyNavCfg:function(c){var a=this,b;if(this.keyboard!==!1){b=(c.ownerField||c).getFocusEl();if(b){return {target:b,eventName:'keydown',processEvent:c.ownerField?a.processViewEvent:undefined,processEventScope:a,defaultEventAction:'stopEvent','delete':a.onKeyDelete,backspace:a.onKeyDelete,right:a.onKeyRight,left:a.onKeyLeft,A:{ctrl:!0,handler:a.onSelectAllKeyPress},priority:1002,scope:a}}}},processViewEvent:function(c){var b=this,a=b.getView().ownerField;if(a){if(a.inputElement.dom.value.length||!a.getValueCollection().getCount()){b.clearLocation();return}}return c},onKeyLeft:function(b){var a=this,e=a.getView(),c=a.location,d={event:b};b.preventDefault();if(c){if(!c.isFirstDataItem()){if(!b.shiftKey){e.getSelectable().deselectAll()}a.movePrevious(d)}}else {a.setLocation(e.getLastDataItem(),d)}return !0},onKeyRight:function(b){var a=this,d=a.getView(),c=a.location;b.preventDefault();if(c){if(c.isLastDataItem()){d.getSelectable().deselectAll();a.clearLocation()}else {if(!b.shiftKey){d.getSelectable().deselectAll()}a.moveNext({event:b})}}return !0},onKeyDelete:function(a){var e=this.getView(),f=e.ownerField,c,d,b,g;if(f){c=e.getSelectable();d=c.getSelectedRecords();if(d.length){c.deselect(d);f.getValueCollection().remove(d);b=this.getLocation();if(b){g=b.isLast();if(g&&a.keyCode===a.DELETE){this.clearLocation()}else if(e.dataItems.length){c.select(b.refresh().record)}}}else if(a.keyCode===a.BACKSPACE){this.onKeyLeft(a)}}},onNavigate:function(b){var c=this.getView(),d=c.ownerField,a=this.getLocation;if(d){if(!a||!c.getSelectable().isSelected(a.record)){Ext.dataview.NavigationModel.prototype.onNavigate.call(this,b)}}else {Ext.dataview.BoundListNavigationModel.prototype.onNavigate.call(this,b)}}}},0,0,0,0,['navmodel.fieldchipview'],0,[Ext.field,'ChipViewNavigationModel'],0);Ext.cmd.derive('Ext.field.trigger.Expand',Ext.field.trigger.Trigger,{classCls:'x-expandtrigger',isExpandTrigger:!0,handler:'onExpandTap',scope:'this'},0,['expandtrigger'],['widget','trigger','expandtrigger'],{'widget':!0,'trigger':!0,'expandtrigger':!0},['trigger.expand','widget.expandtrigger'],0,[Ext.field.trigger,'Expand'],0);Ext.cmd.derive('Ext.field.Picker',Ext.field.Text,{config:{picker:{lazy:!0,$value:'auto'},floatedPicker:{lazy:!0,$value:null},edgePicker:{lazy:!0,$value:null},clearable:!1,matchFieldWidth:!0,floatedPickerAlign:'tl-bl?',pickerSlotAlign:'center',hideTrigger:!1,focusTrap:{lazy:!0,$value:{tabIndex:-1,cls:'x-hidden-clip'}}},triggers:{expand:{type:'expand'}},alignTarget:'bodyElement',keyMap:{scope:'this',DOWN:'onDownArrow',ESC:'onEsc'},keyMapTarget:'inputElement',autoComplete:!1,classCls:'x-pickerfield',initialize:function(){var a=this;Ext.field.Text.prototype.initialize.call(this);Ext.on('hide','onGlobalHide',a);a.inputElement.on('click','onInputElementClick',a)},onFocusEnter:function(a){Ext.field.Text.prototype.onFocusEnter.call(this,a);if(Ext.isTouchMode()&&a.event.toElement===this.inputElement.dom){this.getFocusTrap().focus();this.expand()}},onFocusMove:function(c){var a=this,b;Ext.field.Text.prototype.onFocusMove.call(this,c);if(Ext.isTouchMode()){b=a.getFocusTrap();if(c.fromElement===b.dom&&c.toElement===a.getFocusEl().dom){if(a.getEditable()){a.collapse()}else {b.focus();a.expand()}}}},onFocusLeave:function(a){Ext.field.Text.prototype.onFocusLeave.call(this,a);this.collapse()},onEsc:function(a){if(Ext.isIE){a.preventDefault()}if(this.expanded){this.collapse();a.stopEvent()}},onDownArrow:function(b){var a=this;if(b.time-a.lastDownArrow>150){delete a.lastDownArrow}if(!a.expanded){b.stopEvent();a.onExpandTap();a.setPickerLocation(!0);a.lastDownArrow=b.time}else if(!b.stopped&&b.time-a.lastDownArrow<150){delete a.lastDownArrow}},setPickerLocation:Ext.emptyFn,updateHideTrigger:function(c){var a=this.getTriggers(),b=a&&a.expand;if(b){b.setHidden(c)}},applyPicker:function(a){var b=this,d={show:'onPickerShow',hide:'onPickerHide',scope:b},c=a,e;if(!c){c='auto'}else if(Ext.isObject(a)){c=null;if(!a.isWidget&&!a.xtype){e=a;c='auto'}}if(c){if(c==='auto'){c=b.getAutoPickerType()}if(c==='edge'){a=b.createEdgePicker(e)}else {a=b.createFloatedPicker(e);d.resize=d.hiddenchange='realignFloatedPicker'}}if(a.isWidget){a.ownerField=b}else {a=Ext.apply({ownerField:b},a);b.fireEvent('beforepickercreate',b,a);a=Ext.create(a)}b.pickerType=c||(a.isViewportMenu?'edge':'floated');b.fireEvent('pickercreate',b,a);a.on(d);return a},getAutoPickerType:function(){return Ext.platformTags.phone?'edge':'floated'},getRefItems:function(c){var d=this,b=Ext.field.Text.prototype.getRefItems.call(this,c),a=d.getConfig('picker',!1,!0);if(a){b.push(a);if(c){Ext.Array.push(b,a.getRefItems(c))}}return b},updatePicker:function(a){var b=this.getValue();if(a&&a.setValue&&b!=null){if(this.pickerType==='floated'||a.isPicker){a.setValue(b)}}},applyFocusTrap:function(b){var a=this.el.appendChild(Ext.dom.Element.create(b));a.$isFocusTrap=!0;return a},onResize:function(){var b=this,d=b.getConfig('picker',!1,!0),c=Ext.GlobalEvents,a;if(d&&b.pickerType==='floated'&&d.isVisible()){a=b.up('[scrollable]');if(a){a=a.getScrollable();c.suspendEvent('scroll');a.ensureVisible(b.el)}b.realignFloatedPicker();if(a){Ext.defer(c.resumeEvent,100,c,['scroll'])}}},realignFloatedPicker:function(b){var a=this;b=b||a.getConfig('picker',!1,!0);if(b&&b.isVisible()){if(a.getMatchFieldWidth()){b.setWidth(a[a.alignTarget].getWidth())}b.realign(a[a.alignTarget],a.getFloatedPickerAlign(),{minHeight:100});if(!Ext.keyboardMode){a.setPickerLocation()}}},onInputElementClick:function(b){var a=this;if(b.pointerType==='mouse'&&(!a.getEditable()&&!a.getReadOnly())){a[a.expanded?'collapse':'expand']()}},onExpandTap:function(){if(this.expanded){if(Ext.now()-this.expanded>100){this.collapse()}}else {this.expand()}return !1},expand:function(){if(!this.expanded&&!this.getReadOnly()&&!this.getDisabled()){this.showPicker()}},collapse:function(){var a,b=Ext;if(this.expanded){a=this.getPicker();if(this.pickerType==='edge'){b.Viewport.removeMenu(a.getSide(),!0)}else {a.hide()}}},collapseIf:function(b){var a=this;if(!a.destroyed&&(!b.within(a.bodyElement,!1,!0)&&!a.owns(b.target))){a.collapse()}},showPicker:function(){var a=this,c=a[a.alignTarget],b=a.getPicker();if(a.pickerType==='floated'){if(a.getMatchFieldWidth()){b.setWidth(c.getWidth())}b.showBy(c,a.getFloatedPickerAlign(),{minHeight:100});a.touchListeners=Ext.getDoc().on({translate:!1,touchstart:a.collapseIf,scope:a,delegated:!1,destroyable:!0})}else {a.setShowPickerValue(b);b.show()}},updatePickerValue:function(b,d){var c=b.getSlots()[0],e=c.name||c.getName(),a={};a[e]=d;b.setValue(a)},onPickerShow:function(){var a=this;a.expanded=Ext.now();if(a.pickerType==='edge'){a.el.dom.scrollIntoView()}if(a.pickerType==='edge'){a.el.dom.scrollIntoView()}a.hideEventListeners=Ext.on({mousedown:'collapseIf',scroll:'onGlobalScroll',scope:a,destroyable:!0});a.fireEvent('expand',a)},onPickerHide:function(){var a=this;a.expanded=!1;Ext.destroy(a.hideEventListeners,a.touchListeners);a.fireEvent('collapse',a)},doDestroy:function(){this.destroyMembers('picker','hideEventListeners','touchListeners','focusTrap');Ext.field.Text.prototype.doDestroy.call(this)},privates:{isFocusing:function(a){return a.event.toElement===this.getFocusTrap().dom||Ext.field.Text.prototype.isFocusing.call(this,a)},isBlurring:function(a){return a.event.fromElement===this.getFocusTrap().dom||Ext.field.Text.prototype.isBlurring.call(this,a)},onGlobalHide:function(a){if(this===a||a.isAncestor(this)){this.collapse()}},onGlobalScroll:function(c,d,e){var a=this,b=c.getElement();if(a.expanded){if(a.pickerType==='edge'){return}if(!a.getPicker().owns(b)&&b.dom!==document.body){a.collapse()}}},revertFocusTo:function(a){if(Ext.isTouchMode()){this.getFocusTrap().focus()}else {a.focus()}},setShowPickerValue:function(b){var a=this.getValue();if(a!=null){this.updatePickerValue(b,a)}}}},0,['pickerfield'],['widget','component','field','inputfield','textfield','pickerfield'],{'widget':!0,'component':!0,'field':!0,'inputfield':!0,'textfield':!0,'pickerfield':!0},['widget.pickerfield'],0,[Ext.field,'Picker'],0);Ext.cmd.derive('Ext.picker.Slot',Ext.dataview.DataView,{isSlot:!0,config:{title:null,showTitle:!0,cls:'x-picker-slot',name:null,value:null,flex:1,align:'left',displayField:'text',valueField:'value',itemTpl:null,scrollable:{x:!1,y:!0,scrollbars:!1},verticallyCenterItems:!0},focusable:!1,tabIndex:null,focusEl:null,itemsFocusable:!1,scrollToTopOnRefresh:!1,snapSelector:'.x-dataview-item',deselectable:!1,navigationModel:{type:'boundlist',keyboard:!1},onFocusEnter:Ext.emptyFn,onFocusLeave:Ext.emptyFn,applyTitle:function(a){if(a){a=Ext.create('Ext.Component',{cls:'x-picker-slot-title',docked:'top',html:a})}return a},updateTitle:function(a,b){if(a){this.add(a);this.setupBar()}if(b){this.remove(b)}},updateShowTitle:function(b){var a=this.getTitle(),c=b?'show':'hide';if(a){a.on(c,this.setupBar,this,{single:!0,delay:50});a[b?'show':'hide']()}},updateDisplayField:function(a){if(!this.config.itemTpl){this.setItemTpl('<div class="x-picker-item {cls}<tpl if="extra"> x-picker-invalid</tpl>">{'+a+'}</div>')}},updateAlign:function(a,b){this.element.swapCls('x-picker-'+b,'x-picker-'+a)},applyData:function(c){var h=[],g=c&&c.length,e=this.getDisplayField(),f=this.getDisplayField(),d,a,b;if(c&&Ext.isArray(c)&&g){for(d=0;d<g;d++){a=c[d];b={};if(Ext.isArray(a)){b[f]=a[0];b[e]=a[1]}else if(Ext.isPrimitive(a)){b[f]=a;b[e]=a}else if(Ext.isObject(a)){b=a}h.push(b)}}return c},initialize:function(){Ext.dataview.DataView.prototype.initialize.call(this);this.on({scope:this,painted:'onPainted',single:!0})},onPainted:function(){this.setupBar()},onResize:function(){var a=this.getValue();if(a){this.setValue(a)}},getPicker:function(){if(!this.picker){this.picker=this.getParent()}return this.picker},setupBar:function(){if(!this.isPainted()){return}var a=this,c=a.getTitle(),d=a.getShowTitle()&&c?c.el.measure('h'):0,e=a.getPicker().bar.measure('h'),b;if(a.getVerticallyCenterItems()){b=Math.ceil((a.el.measure('h')-d-e)/2);a.bodyElement.setStyle({'padding-top':b+'px'});if(!a.bottomSpacer){a.bottomSpacer=a.add({xtype:'component',scrollDock:'end',height:b,style:'pointer-events: none'})}else {a.bottomSpacer.setHeight(b)}}a.setValue(a.getValue())},getScrollableClientRegion:function(){return this.picker.bar.getClientRegion()},navigateToItem:function(e,d){var a=this.getNavigationModel(),b=a.getLocation(),c=a.createLocation(e);if(!b||b.equals(c)){this.getScrollable().scrollIntoView(e,!1,d)}else {a.setLocation(c,{animation:d})}},onScrollEnd:function(i,h){var a=this,f=a.picker,c=f.ownerField,g=c&&c.getMultiSelect&&c.getMultiSelect(),d=a.getViewItems(),e,b;if(f.isVisible()){e=Ext.Number.constrain(Math.round(h/Ext.fly(d[0]).measure('h')),0,d.length-1);b=d[e];if(b){if(g){a.navigateToItem(b)}else {a.setValue(a.getStore().getAt(e).get(a.getValueField()),!0)}a.fireEvent('slotpick',a,a.getValue(),b)}}},getValue:function(f){if(this._value===!1){return null}if(!f){return this._value}var c=this,d=c.getValueField(),b=c.picker.ownerField,e=b&&b.getMultiSelect&&b.getMultiSelect(),a=c.getSelected();return a.getCount()?e?a.collect(d,'data'):a.first().get(d):null},setValue:function(c,f){var a=this,d=a.getStore(),e=!Ext.isEmpty(c)&&d?d.findExact(a.getValueField(),c):-1,b;if(e===-1){c=null}else {b=d.getAt(e)}if(b){a.select(b);if(a.refreshCounter){a.getNavigationModel().setLocation(b,{animation:f})}}a._value=c}},0,['pickerslot'],['widget','component','container','dataview','pickerslot'],{'widget':!0,'component':!0,'container':!0,'dataview':!0,'pickerslot':!0},['widget.pickerslot'],0,[Ext.picker,'Slot'],0);Ext.cmd.derive('Ext.picker.Picker',Ext.Sheet,{alternateClassName:'Ext.Picker',isPicker:!0,config:{doneButton:!0,cancelButton:!0,useTitles:!1,slots:null,value:null,height:220,layout:{type:'hbox',align:'stretch'},centered:!1,left:0,right:0,bottom:0,defaultType:'pickerslot',toolbarPosition:'top',toolbar:{xtype:'titlebar'},side:'bottom'},baseCls:'x-picker',floated:!0,focusable:!0,tabIndex:-1,constructor:function(a){Ext.Sheet.prototype.constructor.call(this,a);if(a&&'value' in a){this.setValue(a.value)}},initialize:function(){Ext.Sheet.prototype.initialize.call(this);this.on({scope:this,delegate:'pickerslot',slotpick:'onSlotPick'})},getTemplate:function(){var c=this,a='x-',b=Ext.Sheet.prototype.getTemplate.call(this);b[0].children[0].children=[{reference:'mask',cls:a+'picker-mask',children:[{reference:'bar',cls:a+'picker-bar'}]}];return b},applyToolbar:function(a,b){if(a){if(a===!0){a={}}Ext.applyIf(a,{docked:this.getToolbarPosition()})}return Ext.factory(a,'Ext.TitleBar',b)},updateToolbar:function(a){if(a){this.add(a)}},applyDoneButton:function(a,b){if(a){if(a===!0){a={}}if(typeof a==='string'){a={text:a}}Ext.applyIf(a,{align:'right',text:'Done'})}return Ext.factory(a,'Ext.Button',b)},updateDoneButton:function(a){var b=this.getToolbar();if(a){b.add(a);a.on('tap',this.onDoneButtonTap,this)}},applyCancelButton:function(a,b){if(a){if(Ext.isBoolean(a)){a={}}if(typeof a==='string'){a={text:a}}Ext.applyIf(a,{align:'left',text:'Cancel'})}return Ext.factory(a,'Ext.Button',b)},updateCancelButton:function(a){var b=this.getToolbar();if(a){b.add(a);a.on('tap',this.onCancelButtonTap,this)}},updateUseTitles:function(d){var c=this.getInnerItems(),f=c.length,e='x-use-titles',a,b;this.toggleCls(e,d);for(a=0;a<f;a++){b=c[a];if(b.isSlot){b.setShowTitle(d)}}},applySlots:function(a){if(a){var c=a.length,b;for(b=0;b<c;b++){a[b].picker=this}}return a},updateSlots:function(c){var a=this,d='x-',b;a.removeAll();if(c){a.add(c)}b=a.getInnerItems();if(b.length>0){b[0].addCls(d+'first');b[b.length-1].addCls(d+'last')}a.updateUseTitles(a.getUseTitles());a.setValue(a.getValue())},onDoneButtonTap:function(){var a=this,c=a._value,b=a.getValue(!0);if(b!==c){a._values=a._value=b;a.fireEvent('change',a,b)}a.hide();Ext.util.InputBlocker.unblockInputs()},onCancelButtonTap:function(){this.fireEvent('cancel',this);this.hide();Ext.util.InputBlocker.unblockInputs()},onSlotPick:function(a){this.fireEvent('pick',this,this.getValue(!0),a)},afterShow:function(){(arguments.callee.$previous||Ext.Sheet.prototype.afterShow).call(this);this.scrollSlotsIntoView();Ext.util.InputBlocker.blockInputs()},updateDisplayed:function(b,a){Ext.Sheet.prototype.updateDisplayed.call(this,b,a);Ext.util.InputBlocker.blockInputs()},scrollSlotsIntoView:function(){var d=this.getInnerItems(),b,a,c;for(b=0;b<d.length;b++){a=d[b];c=a.getNavigationModel().location;a.getScrollable().refresh();a.navigateToItem(c?c.item:a.itemFromRecord(0))}},setValue:function(b,h){var e=this,c=e.getInnerItems(),i=c.length,g,d,a,f;if(!b){b={};for(a=0;a<i;a++){b[c[a].getName()]=null}}for(g in b){f=b[g];for(a=0;a<c.length;a++){d=c[a];if(d.getName()===g){if(h){d.setValueAnimated(f)}else {d.setValue(f)}break}}}e._values=e._value=b;return e},setValueAnimated:function(a){this.setValue(a,!0)},getValue:function(c){var d={},e=this.getItems().items,f=e.length,a,b;if(c){for(b=0;b<f;b++){a=e[b];if(a&&a.isSlot){d[a.getName()]=a.getValue(c)}}this._values=d}return this._values},getValues:function(){return this.getValue()}},1,['picker'],['widget','component','container','panel','sheet','picker'],{'widget':!0,'component':!0,'container':!0,'panel':!0,'sheet':!0,'picker':!0},['widget.picker'],0,[Ext.picker,'Picker',Ext,'Picker'],0);Ext.cmd.derive('Ext.picker.Tablet',Ext.Panel,{isPicker:!0,focusable:!0,tabIndex:-1},0,['tabletpicker'],['widget','component','container','panel','tabletpicker'],{'widget':!0,'component':!0,'container':!0,'panel':!0,'tabletpicker':!0},['widget.tabletpicker'],0,[Ext.picker,'Tablet'],0);Ext.cmd.derive('Ext.picker.SelectPicker',Ext.picker.Picker,{constructor:function(c){var a=c.ownerCmp,d=a.getId()+'-picker',b=Ext.apply({ownerField:a,id:d,slots:[{id:d+'-slot',ownerField:a,selectable:c.selectable||!0,align:a.getPickerSlotAlign(),name:a.getValueField(),valueField:a.getValueField(),displayField:a.getDisplayField(),value:a.getValue(),store:a._pickerStore||a.getStore(),itemTpl:a.getItemTpl(),itemCls:a.getItemCls()}]},c);if(a.getMultiSelect()){b.cancelButton=!1;b.slots[0].selectable={selected:a.getValueCollection(),selectedRecord:a.getSelection(),deselectable:!0,mode:'multi'}}else {b.listeners={change:'onPickerChange',scope:this}}Ext.picker.Picker.prototype.constructor.call(this,b);this.slot=Ext.getCmp(d+'-slot')},onPickerChange:function(c,b){var a=this.ownerField;a.setValue(a.findRecordByValue(b[a.getValueField()]))},refresh:function(){this.slots.refresh()},setDisableSelection:function(a){return this.slot.setDisableSelection(a)},setValue:function(a){if(this.slot){this.slot.setValue(a)}return this},getEmptyText:function(){return this.slot.getEmptyText()},getItemCount:function(){return this.slot.getItemCount()},getNavigationModel:function(){return this.slot.getNavigationModel()},getSelectable:function(){return this.slot.getSelectable()},getViewItems:function(){return this.slot.getViewItems()},getStore:function(){return this.slot.getStore()},setStore:function(a){this.slot.setStore(a)},deselectAll:function(){this.slot.deselectAll()}},1,['selectpicker'],['widget','component','container','panel','sheet','picker','selectpicker'],{'widget':!0,'component':!0,'container':!0,'panel':!0,'sheet':!0,'picker':!0,'selectpicker':!0},['widget.selectpicker'],0,[Ext.picker,'SelectPicker'],0);Ext.cmd.derive('Ext.field.Select',Ext.field.Picker,{alternateClassName:'Ext.form.Select',isSelectField:!0,config:{valueCollection:{rootProperty:'data'},valueField:'value',itemTpl:!1,itemCls:null,displayTpl:null,displayField:'text',store:null,options:null,hiddenName:null,autoSelect:!1,autoFocus:!0,autoFocusLast:!0,selection:null,autoLoadOnValue:!1,forceSelection:!0,valueNotFoundText:null,selectOnTab:!0,multiSelect:null,delimiter:',',filterPickList:!1,collapseOnSelect:null,chipView:{$value:{xtype:'chipview',tabIndex:null,focusable:!1,itemsFocusable:!1,focusedCls:'',navigationModel:'fieldchipview',selectable:{mode:'multi'},closable:!0,closeHandler:'up.onChipCloseTap'},lazy:!0},recordCreator:null,recordCreatorScope:null},editable:!1,floatedPicker:{xtype:'boundlist',infinite:!1,navigationModel:{disabled:!0},scrollToTopOnRefresh:!1,loadingHeight:70,maxHeight:300,floated:!0,axisLock:!0,hideAnimation:null},edgePicker:{xtype:'selectpicker',cover:!0},classCls:'x-selectfield',multiSelectCls:'x-multiselect',twoWayBindable:{selection:1},publishes:{selection:1},applyValueCollection:function(a){if(!a.isCollection){a=new Ext.util.Collection(a)}a.addObserver(this);return a},createSelectionRecord:function(b){var a=this.getStore().getModel();return new a(b)},completeEdit:Ext.emptyFn,expand:function(){if(this.getStore()){Ext.field.Picker.prototype.expand.call(this)}},getRefItems:function(c){var d=this,b=Ext.field.Picker.prototype.getRefItems.call(this,c),a=d.chipView;if(a){b.push(a);if(c){Ext.Array.push(b,a.getRefItems(c))}}return b},maybeCollapse:function(a){var c=a.to&&a.to.record,d=this.getMultiSelect(),b=this.getSelection();if(!d&&c===b){this.collapse()}},onCollectionRemove:function(c,d){var a=this,b=c.getRange();if(!d.replacement){a.processingCollectionMutation=!0;a.setSelection(b.length?a.getMultiSelect()?b:b[0]:null);a.processingCollectionMutation=!1}},onCollectionAdd:function(b,c){var a=b.getRange();this.processingCollectionMutation=!0;this.setSelection(this.getMultiSelect()?a:a[0]);this.processingCollectionMutation=!1},onCollectionEndUpdate:function(){var a=this,d=a._pickerStore,c,b;if(a.getMultiSelect()){c=a.chipView;b=c.getNavigationModel();if(b.location&&!a.getValueCollection().contains(b.location.record)){b.clearLocation()}c.getSelectable().refreshSelection()}else {a.setFieldDisplay()}if(d&&a.getFilterPickList()){d.getData().onFilterChange()}},clearValue:function(){var a=this;a.forceSetValue(null);a.syncEmptyState()},applyValue:function(a,d){var b=this,c;b.getOptions();c=b.getStore();b.syncMode='value';if(a&&a.isEntity){if(!c||!c.getDataSource().contains(a)){a.isEntered=!0}b.setSelection(a);return}if(b.isConfiguring){b.originalValue=a}if(c&&a){if(b.getAutoLoadOnValue()&&!c.isLoaded()&&!c.hasPendingLoad()){c.load()}}return b.transformValue(a)},updateValue:function(b,a){var c=this;c.syncValue();if(c.getMultiSelect()?!b||!a||!Ext.Array.equals(b,a):b!==a){Ext.field.Field.prototype.updateValue.call(this,b,a)}},transformValue:function(a){if(a==null||a===''){a=this.getForceSelection()?null:''}else if(this.getMultiSelect()){a=Ext.Array.from(a)}else {if(Ext.isIterable(a)){a=a[0]}}return a},findRecordByValue:function(e){var c=this,d=c.getStore(),f=c.getValueField(),a,b=null;if(d){a=d.byValue.get(e);if(a){b=a[0]||a}}if(!b){b=c.getValueCollection().findBy(function(a){return a.get(f)===e})}return b},findRecordByDisplay:function(d){var b=this.getStore(),a,c=!1;if(b){a=b.byText.get(d);if(a){c=a[0]||a}}return c},applyChipView:function(b,a){return Ext.updateWidget(a,b,this,'createChipView')},updateChipView:function(a){if(a){a.on({element:'bodyElement',touchstart:'onChipBodyTouchStart',tap:'onChipBodyTap',scope:this,priority:1000})}this.chipView=a},applySelection:function(a,b){var c=a&&this.getMultiSelect();a=c?Ext.Array.from(a):a;if(c?!b||!Ext.Array.equals(a,b):a!==b){return a||null}},updateMultiSelect:function(b){var a=this,g=a.getConfig('picker',!1,!0),d=a.chipView,e=a.getValueCollection(),c=e.last(),f;if(b){if(d){d.show()}else {a.getChipView();a.chipView.render(a.inputWrapElement.dom,a.inputElement.dom)}a.chipView.bodyElement.dom.appendChild(a.inputElement.dom);a.setInputValue('');if(c){a.setSelection([c])}}else {if(d){a.inputWrapElement.dom.insertBefore(a.inputElement.dom,a.afterInputElement.dom);d.hide()}if(c){e.splice(0,1.0E99,[c])}}if(g){f=g.getSelectable();f.setConfig({deselectable:b,mode:b?'multi':'single'})}a.el.toggleCls(a.multiSelectCls,b)},updateSelection:function(b,d){var a=this,j=b==null,f=a.getMultiSelect(),c=a.getValueCollection(),h=a.getValueField(),k=a._value,i=null,e,g;if(a._ignoreSelection||a.destroyed||a.destroying){return}if(!a.processingCollectionMutation){if(j||d&&b.length<d.length||!c.containsAll(b)){g=[0,c.getCount()];if(!j){g.push(b)}c.splice.apply(c,g);if(a.destroyed){return}}}if(b){if(h){if(f){i=c.collect(h,'data')}else {i=b.get(h)}a.setValue(i)}if(a.fireEvent('select',a,b)===!1){a.setValue(k);a._selection=d}}else {a.clearValue()}if(a.destroyed){return}e=a.getConfig('picker',!1,!0);if(e&&e.isVisible()){if(!f||a.getCollapseOnSelect()||!a.getStore().getCount()){if(!f&&b&&d&&b.id===d.id){e.refresh()}else {if(!(b&&b.isEntered)){a.collapse()}}}}},getRecordDisplayData:function(a){return a.getData()},createFloatedPicker:function(){var a=this,b=a.getMultiSelect(),c=Ext.merge({ownerCmp:a,store:a._pickerStore||a.getStore(),selectable:{selected:a.getValueCollection(),selectedRecord:a.getSelection(),deselectable:!!b,mode:b?'multi':'single'},itemTpl:a.getItemTpl(),itemCls:a.getItemCls()},a.getFloatedPicker());c.navigationModel.navigateOnSpace=!a.getEditable();return c},createEdgePicker:function(){return Ext.merge({ownerCmp:this},this.getEdgePicker())},realignFloatedPicker:function(a){a=a||this.getConfig('picker',!1,!0);if(a&&a.isVisible()){if(!a.getItemCount()&&!a.getStore().hasPendingLoad()){this.collapse()}Ext.field.Picker.prototype.realignFloatedPicker.call(this,a)}},setPickerLocation:function(d){var c=this,b=c.getConfig('picker',!1,!0),e,a;if(b&&c.expanded){e=b.getStore();if(b.getItemCount()){a=b.getSelectable().getLastSelected();if(!a||!e.contains(a)){if(d||c.getAutoFocusLast()){a=b.getNavigationModel().lastLocation;if(a){a=a.refresh()}}if(!a&&(d||c.getAutoFocus())){a=e.getAt(0)}}b.getNavigationModel().setLocation(a);if(!d){Ext.setKeyboardMode(!0)}}}},updatePicker:function(a,c){var b=this.getFilterPickList();if(a&&b){a.getSelectable().addIgnoredFilter(b)}Ext.field.Picker.prototype.updatePicker.call(this,a,c)},updatePickerValue:function(c,a){var d=this.getValueField(),b={};if(!a){a=this.getValue()}b[d]=a;c.setValue(b)},applyItemTpl:function(a){if(a===!1){a='<span class="x-list-label">{'+this.getDisplayField()+':htmlEncode}</span>'}return a},applyDisplayTpl:function(a){if(a&&!a.isTemplate){a=new Ext.XTemplate(a)}return a},applyOptions:function(a){if(a){var g=a.length,f=this.getValueField(),d=this.getDisplayField(),c,b,e;a=Ext.Array.slice(a);for(c=0;c<g;c++){b=a[c];if(Ext.isPrimitive(b)){a[c]=e={};e.id=b;e[f]=b;if(d&&d!==f){e[d]=b}}}a=Ext.data.StoreManager.lookup({fields:[f,d],data:a})}return a},updateOptions:function(a,b){if(a){this.setStore(a)}else {if(b===this.getStore()){this.setStore(null)}}},applyStore:function(a){if(a){a=Ext.data.StoreManager.lookup(a)}return a},updateStore:function(a,c){var b=this,f=b.getValueField(),d=b.getDisplayField(),e;b.autoSelectCompleted=!1;if(c){if(c.getAutoDestroy()){c.destroy()}else {c.byValue=c.byText=Ext.destroy(c.byValue,c.byText)}}if(a){e={byValue:{rootProperty:'data',unique:!1,property:f}};if(d!==f){e.byText={rootProperty:'data',unique:!1,property:d}}a.setExtraKeys(e);if(d===f){a.byText=a.byValue}a.on({scope:b,add:'onStoreDataChanged',remove:'onStoreDataChanged',update:'onStoreRecordUpdated',load:{fn:'onStoreLoad',priority:-1},refresh:'onStoreRefresh'});if(a.isLoaded()&&!a.hasPendingLoad()){b.syncValue()}else if(b.getValue()!=null&&b.getAutoLoadOnValue()&&!a.isLoaded()&&!a.hasPendingLoad()){a.load()}}b.updatePickerStore()},applyValueField:function(a){if(a==null){a=this.getDisplayField()}return a},updateValueField:function(b){var a=this.getStore();if(a&&!this.isConfiguring){a.byValue.setCollection(null);a.setExtraKeys({byValue:{rootProperty:'data',unique:!1,property:b}})}},applyDisplayField:function(a){if(a==null){a=this.getValueField()}return a},updateDisplayField:function(b){var a=this.getStore();if(a&&!this.isConfiguring){a.byText.setCollection(null);a.setExtraKeys({byText:{rootProperty:'data',unique:!1,property:b}})}},onStoreLoad:function(e,d,c){var a=this,b=a.isFiltering;a.isFiltering=!1;if(c){a.syncMode=b?'filter':'store';a.syncValue()}},syncValue:function(){var a=this,d=a.getStore(),g=a.getForceSelection(),i=a.getValueNotFoundText(),e,f,h,c,b;if(a.reconcilingValue||!d||!d.isLoaded()||d.hasPendingLoad()){return}a.reconcilingValue=!0;a.getSelection();e={};e[a.syncMode]=!0;c=(h=e.input||e.filter)?a.getInputValue():a.getValue();f=c==null||c==='';if(!f){if(a.getMultiSelect()){if(a.getForceSelection()||a.getInputValue()===''){a.syncMultiValues(Ext.Array.from(c))}return}b=(h?d.byText:d.byValue).get(c);if(b){if(!b.isEntity){b=b[0]}}else if(!g){b=a.findRecordByValue(c)}}if(!f&&!b&&!g){b=a.createEnteredRecord(c)}else {if(h||e.store){if(!b&&g){a.setValue(null);a.setSelection(null);if(!e.filter){a.setFieldDisplay()}}}else {if(f||!b){if(a.mustAutoSelect()){b=d.first();if(a.getAutoSelect()==='initial'){a.setAutoSelect(!1)}}else {if(a.getValue()!==null){a.setValue(null)}a.setSelection(null)}}else if(i){a.setError(i)}}}if(b){a.setSelection(b)}a.reconcilingValue=!1},syncMultiValues:function(h){var b=this,d=[],f=[],l=b.getForceSelection(),g=b.getValueField(),k=b.getValueCollection(),e,a,j,c,i;for(c=0,j=h.length;c<j;c++){a=e=h[c];if(!a||!a.isEntity){a=b.findRecordByValue(i=a);if(!a){a=k.find(g,i)}}if(!a){if(!l){if(!a&&e){a=b.createEnteredRecord(e)}}}if(a){d.push(a);f.push(a.get(g))}}if(d.length){b._value=f;b.setSelection(d)}else {b._value=null;b.setSelection()}b.reconcilingValue=!1},onStoreDataChanged:function(){var b=this,a;if(b.getForceSelection()){a=b.getValue();if(a!=null){b.setValue(a)}}},onStoreRecordUpdated:function(b,a){if(this.getValueCollection().contains(a)){this.updateSelection(this.getSelection())}if(!this.getMultiSelect()){this.setFieldDisplay()}},onStoreRefresh:function(i){var a=this,c=a.getConfig('picker',!1,!0),h=a.getValueCollection(),g,b,d,f,e;if(c){g=c.getSelectable().getSelected();f=c.getNavigationModel();e=f.getLocation();if(e&&!c.getStore().contains(e.record)){f.clearLocation()}}if(g!==h){b=[];if(a.getPrimaryFilter){b.push(a.getPrimaryFilter())}d=a.getFilterPickList();if(d){b.push(d)}Ext.dataview.selection.Model.refreshCollection(h,i.getData(),b,Ext.dataview.BoundList.prototype.beforeSelectionRefresh)}a.syncValue();a.syncAutoSelect(i)},syncAutoSelect:function(c){var a=this,b;if((a.getValue()===null||a.getValue()==='')&&a.getAutoSelect()){if(!a.getQueryMode||a.getQueryMode()==='local'){b=c&&c.getAt(0);a.setValue(b)}else if(!a.autoSelectCompleted){a.autoSelectCompleted=!0;if(!a.getRawValue()){b=c&&c.getAt(0);a.setValue(b)}}}},reset:function(){var a=this,d=a.getConfig('picker',!1,!0),b=a.originalValue||null,c;if(a.getAutoSelect()){c=a.getStore();b=b!=null?b:c&&c.getAt(0)}else {if(d){d.deselectAll()}}a.setValue(b);return a},doDestroy:function(){var b=this,a=b.getStore();if(a&&!a.destroyed&&a.getAutoDestroy()){a.destroy()}b.destroyMembers('options','chipView');Ext.field.Picker.prototype.doDestroy.call(this)},privates:{syncMode:null,autoSelectCompleted:!1,createChipView:function(c){var b=this,a=Ext.merge({ownerField:b,ownerCmp:b,store:{data:b.getValueCollection()}},c);if(!(a.displayField||a.displayTpl)){a.displayField=b.getDisplayField()}return a},createEnteredRecord:function(e){var a=this,f=a.getRecordCreator(),g=a.getDisplayField(),d=a.getValueField(),c,b;if(f){b=Ext.callback(f,a.getRecordCreatorScope(),[e,a.getStore().getModel(),a],0,a)}else {c={};c[g]=e;if(d&&g!==d){c[d]=e}b=a.createSelectionRecord(c)}if(b){b.isEntered=!0}return b},hasValue:function(){return Ext.field.Picker.prototype.hasValue.call(this)||this.getValueCollection().getCount()},onChipCloseTap:function(a,b){var c=b.record;a.getNavigationModel().clearLocation();a.getSelectable().deselect(c);this.getValueCollection().remove(c);b.event.stopEvent();return !1},onChipBodyTouchStart:function(a){if(a.pointerType!=='touch'&&!this.containsFocus){this.inputElement.focus();a.preventDefault()}},onChipBodyTap:function(a){if(a.pointerType==='touch'&&!this.containsFocus){this.inputElement.focus();a.preventDefault()}if(!a.getTarget('.'+Ext.Chip.prototype.classCls)){this.onInputElementClick(a)}},mustAutoSelect:function(){var b=this,a=b.getAutoSelect();if(a&&!(b.isConfiguring||a==='initial')){a=!b.getClearable()&&b.getRequired()}return !!a},applyFilterPickList:function(b,a){var c=this,d=c._pickerStore;if(a&&a.isFilter&&d){d.removeFilter(a)}if(b){b=new Ext.util.Filter({scope:c,filterFn:c.filterPicked})}return b},updateFilterPickList:function(b,c){var a=this.getConfig('picker',!1,!0);if(a){if(b){a.getSelectable().addIgnoredFilter(b)}else if(c){a.getSelectable().removeIgnoredFilter(c)}}this.updatePickerStore();if(a){a.setDisableSelection(b)}},filterPicked:function(a){return !this.getValueCollection().contains(a)},updatePickerStore:function(){var a=this,f=a.getConfig('picker',!1,!0),d=a.getStore(),e=a.getFilterPickList()||undefined,g=a.getQueryMode&&a.getQueryMode()==='local'||e,c=d,b;if(g){b=[];if(a.getPrimaryFilter){b.push(a.getPrimaryFilter())}if(e){b.push(e)}if(a._pickerStore&&a._pickerStore.isChainedStore){c=a._pickerStore.setConfig({source:d,filters:b})}else {a._pickerStore=c=Ext.Factory.store({type:'chained',source:d,filters:b})}}else {a._pickerStore=c=d}if(f){f.setStore(c)}},setFieldDisplay:function(){var a=this,b,d='',c;if(!a.getMultiSelect()){b=a.getValueCollection().first();if(b){c=a.getDisplayTpl();if(c){d=c.apply(a.getRecordDisplayData(b))}else {d=b.get(a.getDisplayField())}}a.setInputValue(d);a.syncEmptyState()}}},rawToValue:Ext.emptyFn},0,['selectfield'],['widget','component','field','inputfield','textfield','pickerfield','selectfield'],{'widget':!0,'component':!0,'field':!0,'inputfield':!0,'textfield':!0,'pickerfield':!0,'selectfield':!0},['widget.selectfield'],0,[Ext.field,'Select',Ext.form,'Select'],0);Ext.cmd.derive('Ext.field.ComboBox',Ext.field.Select,{alternateClassName:['Ext.form.field.ComboBox'],config:{primaryFilter:!0,queryParam:'query',queryMode:'remote',queryCaching:!0,queryDelay:!0,minChars:null,anyMatch:!1,caseSensitive:!1,typeAhead:!1,typeAheadDelay:250,triggerAction:'all',allQuery:null,enableRegEx:null},autoSelect:!1,classCls:'x-combobox',editable:!0,forceSelection:!1,lastQuery:{},keyMap:{scope:'this',ENTER:'onEnterKey'},platformConfig:{phone:{editable:!1}},onCollectionAdd:function(a,b){if(this.getMultiSelect()){this.inputElement.dom.value='';if(this.getQueryMode()==='local'&&this.expanded){this.doRawFilter()}}Ext.field.Select.prototype.onCollectionAdd.call(this,a,b)},onInput:function(g){var a=this,d=a.doFilterTask,e=a.inputElement.dom.value,f=a.getStore().getFilters(),b,c;if(Ext.supports.inputEventData){c=g.browserEvent.data===a.getDelimiter()}else {b=a.lastKeyMapEvent;c=b&&b.getChar()===a.getDelimiter()&&Ext.ticks()-b.time<20}a._inputValue=e;if(!a.hasFocus&&a.getLabelAlign()==='placeholder'){a.syncLabelPlaceholder(!0)}if(!a.getForceSelection()||e===''&&!a.getRequired()){if(a.getMultiSelect()){if(c){return a.addNewMultiValues()}}else {Ext.field.Select.prototype.onInput.call(this,g)}}else {a.syncEmptyState()}if(e.length){if(!d){d=a.doFilterTask=new Ext.util.DelayedTask(a.doRawFilter,a)}d.delay(a.getQueryDelay())}else {a.collapse();f.beginUpdate();a.getPrimaryFilter().setDisabled(!0);f.endUpdate()}},onEnterKey:function(b){var a=this;if(!a.getForceSelection()&&a.getMultiSelect()){a.addNewMultiValues()}},addNewMultiValues:function(){var b=this,c=b.inputElement.dom.value,a;a=b.getValue()||[];a.push.apply(a,c.split(b.getDelimiter()));return b.syncMultiValues(Ext.Array.clean(a))},doRawFilter:function(){var a=this,c=a.inputElement.dom.value,b=a.lastQuery.query,d=b&&b.length>c.length;a.doFilter({query:c,isErase:d})},onExpandTap:function(){var a=this,b=a.getTriggerAction();if(a.expanded){if(Ext.now()-a.expanded>100){a.collapse()}}else if(!a.getReadOnly()&&!a.getDisabled()){if(b==='all'){a.doFilter({query:a.getAllQuery(),force:!0})}else if(b==='last'){a.doFilter({query:a.lastQuery.query,force:!0})}else {a.doFilter({query:a.inputElement.dom.value})}}},clearValue:function(){var a=this;a.setValue(null);a.setInputValue('');a.setFieldDisplay()},doFilter:function(j){var a=this,f=a.getQueryMode()==='local',h=a.lastQuery,d=a.getStore()&&a._pickerStore,c=a.getPrimaryFilter(),i=d.getFilters(),b=a.beforeFilter(Ext.apply({filterGeneration:c.generation,lastQuery:h||{},combo:a,cancel:!1},j)),g,e;if(d&&b!==!1&&!b.cancel){if(a.getEnableRegEx()){try{b.query=new RegExp(b.query)}catch(k){b.query=null}}c.setValue(b.query);if(!a.getQueryCaching()||c.generation!==h.filterGeneration||j.force){if(Ext.isEmpty(b.query)){c.setDisabled(!0)}else {c.setDisabled(!1);a.isFiltering=!f}a.lastQuery=b;i.beginUpdate();i.endUpdate();if(d.isChainedStore){e=d.getSource();if(!e.isLoaded()&&!e.hasPendingLoad()){e.load()}}}if(a.getTypeAhead()){a.doTypeAhead(b)}g=a.getPicker();if(!f||d.getCount()||g.getEmptyText&&g.getEmptyText()){a.expand();if(b.query&&f){a.setPickerLocation()}return !0}a.collapse()}return !1},beforeFilter:function(a){var d=this,c=a.query,b;if(d.fireEvent('beforequery',a)===!1){a.cancel=!0}else if(!a.cancel){b=c&&c.length;if(!a.force&&b&&b<d._getMinChars()){a.cancel=!0}}return a},completeEdit:function(){var a=this,b=a.getInputValue(),i=a.getValue(),f=Ext.Array.from(a.getSelection()),h,g,d,e=f.length,c;if(e){c=f[0];if(a.getDisplayTpl()){h=c.get(this.getValueField());g=c.get(this.getDisplayField());d=a.getDisplayTpl().apply({abbr:h,name:g})}else {d=c.get(this.getDisplayField())}}else {d=null}if(a.doFilterTask){a.doFilterTask.cancel()}if(!a.getForceSelection()&&a.getMultiSelect()){if(b){if(this.getSelectOnTab()){a.addNewMultiValues()}else {this.setInputValue('')}}}else {if(b){if(!e||d!==b){a.syncMode='input';a.syncValue();if(!a.getValue()){a.setValue(i)}}}else if(e){if(a.getRequired()){a.setFieldDisplay(f)}else if(!a.getMultiSelect()){a.setSelection(null)}}if(a.getTypeAhead()){a.select(b?b.length:0)}}if(a.getForceSelection()&&a.getMultiSelect()){a.setInputValue('')}},onStoreFilterChange:function(){var b=this,d=b.getStore(),a=b.getSelection()||null,c=[];if(a&&!b.destroying&&d&&d.isLoaded()&&b.getPrimaryFilter().getDisabled()){if(b.getMultiSelect()){Ext.Array.each(a,function(a){if(!a.isEntered&&!d.contains(a)){c.push(a)}})}else if(!a.isEntered&&!d.contains(a)){c.push(a)}if(c.length){this.getValueCollection().remove(c)}}},onListSelect:Ext.emptyFn,applyQueryDelay:function(a){if(a===!0){a=this.getQueryMode()==='local'?10:500}return a},applyPrimaryFilter:function(a,d){var b=this,c=b.getStore()&&b._pickerStore,f=a&&a.isFilter,e;if(c&&d){if(a){if(f){c.removeFilter(d,!0)}else {d.setConfig(a);return}}else if(!c.destroyed){c.getFilters().remove(d)}}if(a){if(a===!0){a={id:b.id+'-primary-filter',anyMatch:b.getAnyMatch(),caseSensitive:b.getCaseSensitive(),root:'data',property:b.getDisplayField(),value:b.inputElement.dom.value,disabled:!0}}if(typeof a==='string'){e=a;a={filterFn:function(f){var c=b.resolveListenerScope(b);return c[e].call(this,f)}}}if(!a.isFilter){a=new Ext.util.Filter(a)}a.serialize=function(){return b.serializePrimaryFilter(this)};if(c){c.addFilter(a,!0)}}return a},updateOptions:function(a,b){if(a){this.setQueryMode('local')}Ext.field.Select.prototype.updateOptions.call(this,a,b)},updatePicker:function(a,b){if(a){a.getSelectable().addIgnoredFilter(this.getPrimaryFilter())}Ext.field.Select.prototype.updatePicker.call(this,a,b)},updateStore:function(b,d){var a=this,g=a.getQueryMode()==='remote',c,f,e;a.autoSelectCompleted=!1;if(g){b.setRemoteFilter(!0);f=b.getProxy();if(f.setFilterParam){f.setFilterParam(a.getQueryParam())}if(!Ext.isDefined(b.getAutoLoadOnFilterEnd())){b.setAutoLoadOnFilterEnd(!0)}}Ext.field.Select.prototype.updateStore.call(this,b,d);c=a.getPrimaryFilter();if(c){if(d&&!d.destroyed){e=d.getFilters();if(e){e.remove(c)}}a._pickerStore.addFilter(c,!0)}if(a.getQueryMode()==='local'){b.on({filterchange:'onStoreFilterChange',scope:a})}},serializePrimaryFilter:function(a){return a.getValue()},doDestroy:function(){var a=this;a.setPrimaryFilter(null);if(a.typeAheadTask){a.typeAheadTask=a.typeAheadTask.cancel()}Ext.field.Select.prototype.doDestroy.call(this)},doTypeAhead:function(a){var b=this;if(!b.typeAheadTask){b.typeAheadTask=new Ext.util.DelayedTask(b.onTypeAhead,b)}if(!a.lastQuery.query||!a.query||a.query.length>a.lastQuery.query.length||!Ext.String.startsWith(a.lastQuery.query,a.query)){b.typeAheadTask.delay(b.getTypeAheadDelay())}},onTypeAhead:function(){var a=this,e=a.getDisplayField(),g=a.inputElement.dom,f=g.value,i=a.getStore(),h=i.findRecord(e,f),c,d,b;if(h){c=h.get(e);d=c.length;b=f.length;if(b!==0&&b!==d){g.value=a._inputValue=c;a.select(b,d)}}},privates:{_getMinChars:function(){var a=this.getMinChars();if(a==null){a=this.getQueryMode()==='remote'?4:0}return a},setFieldDisplay:function(c){var a=this,b;Ext.field.Select.prototype.setFieldDisplay.call(this,c);if(!a.getMultiSelect()){if(a.getTypeAhead()){b=a.getInputValue();a.select(b?b.length:0)}}}}},0,['combobox','comboboxfield'],['widget','component','field','inputfield','textfield','pickerfield','selectfield','combobox','comboboxfield'],{'widget':!0,'component':!0,'field':!0,'inputfield':!0,'textfield':!0,'pickerfield':!0,'selectfield':!0,'combobox':!0,'comboboxfield':!0},['widget.combobox','widget.comboboxfield'],0,[Ext.field,'ComboBox',Ext.form.field,'ComboBox'],0);Ext.cmd.derive('Ext.field.trigger.Date',Ext.field.trigger.Expand,{classCls:'x-datetrigger'},0,['datetrigger'],['widget','trigger','expandtrigger','datetrigger'],{'widget':!0,'trigger':!0,'expandtrigger':!0,'datetrigger':!0},['trigger.date','widget.datetrigger'],0,[Ext.field.trigger,'Date'],0);Ext.cmd.derive('Ext.picker.Date',Ext.picker.Picker,{alternateClassName:'Ext.DatePicker',config:{yearFrom:1980,yearTo:(new Date()).getFullYear(),monthText:'Month',dayText:'Day',yearText:'Year',slotOrder:['month','day','year'],doneButton:!0},initialize:function(){var a=this;Ext.picker.Picker.prototype.initialize.call(this);a.on({scope:a,delegate:'> slot',slotpick:a.onSlotPick})},setValue:function(a,c){var b=this;if(Ext.isDate(a)){a={day:a.getDate(),month:a.getMonth()+1,year:a.getFullYear()}}(arguments.callee.$previous||Ext.picker.Picker.prototype.setValue).call(this,a,c);if(b.rendered){b.onSlotPick()}return b},getValue:function(i){var a={},h=this.getItems().items,j=h.length,g,b,c,e,d,f;for(f=0;f<j;f++){d=h[f];if(d.isSlot){a[d.getName()]=d.getValue(i)}}if(a.year===null&&a.month===null&&a.day===null){return null}e=Ext.isNumber(a.year)?a.year:1;c=Ext.isNumber(a.month)?a.month:1;b=Ext.isNumber(a.day)?a.day:1;if(c&&e&&c&&b){g=this.getDaysInMonth(c,e)}b=g?Math.min(b,g):b;return new Date(e,c-1,b)},updateYearFrom:function(){if(this.initialized){this.createSlots()}},updateYearTo:function(){if(this.initialized){this.createSlots()}},updateMonthText:function(e,c){var d=this.getInnerItems,f=d.length,a,b;if(this.initialized){for(b=0;b<f;b++){a=d[b];if(typeof a.title==='string'&&a.title===c||a.title.html===c){a.setTitle(e)}}}},updateDayText:function(e,d){var c=this.getInnerItems,f=c.length,a,b;if(this.initialized){for(b=0;b<f;b++){a=c[b];if(typeof a.title==='string'&&a.title===d||a.title.html===d){a.setTitle(e)}}}},updateYearText:function(d){var c=this.getInnerItems,e=c.length,b,a;if(this.initialized){for(a=0;a<e;a++){b=c[a];if(b.title===this.yearText){b.setTitle(d)}}}},constructor:function(){Ext.picker.Picker.prototype.constructor.apply(this,arguments);this.createSlots()},createSlots:function(){var c=this,k=c.getSlotOrder(),b=c.getYearFrom(),e=c.getYearTo(),h=[],i=[],f=[],g=[],l=b>e,j,a,d;while(b){h.push({text:b,value:b});if(b===e){break}if(l){b--}else {b++}}d=c.getDaysInMonth(1,(new Date()).getFullYear());for(a=0;a<d;a++){i.push({text:a+1,value:a+1})}for(a=0,j=Ext.Date.monthNames.length;a<j;a++){f.push({text:Ext.Date.monthNames[a],value:a+1})}k.forEach(function(a){g.push(c.createSlot(a,i,f,h))});c.setSlots(g)},createSlot:function(c,f,d,e){var b=this,a;switch(c){case 'year':a={name:'year',align:'center',data:e,title:b.getYearText(),flex:3};break;case 'month':a={name:c,align:'right',data:d,title:b.getMonthText(),flex:4};break;case 'day':a={name:'day',align:'center',data:f,title:b.getDayText(),flex:2};}if(b._value){a.value=b._value[c]}return a},onSlotPick:function(){var g=this,k=[],f,a,j,e,i,c,d,m,l,b,h;if(g.isConfiguring){return}f=g.getValue(!0);a=g.getDaySlot();Ext.picker.Picker.prototype.onSlotPick.apply(this,arguments);if(!a){return}j=a.getValueField();e=a.getStore();i=e.getData();d=e.getCount();m=f.getFullYear();l=f.getMonth();c=g.getDaysInMonth(l+1,m);if(d===c){return}if(c>d){for(b=d;b<c;b++){k.push(e.createModel({text:b+1,value:b+1}))}h=[d,0,k]}else {h=[c,5]}i.splice.apply(i,h);b=e.find(j,f.getDate());if(b>-1){a.navigateToItem(a.mapToItem(b));a.setValue(a.getValue(!0))}},getDaySlot:function(){var c=this.getInnerItems(),d=c.length,b,a;if(this.daySlot){return this.daySlot}for(b=0;b<d;b++){a=c[b];if(a.isSlot&&a.getName()==='day'){this.daySlot=a;return a}}return null},getDaysInMonth:function(a,c){var b=[31,28,31,30,31,30,31,31,30,31,30,31];return a===2&&this.isLeapYear(c)?29:b[a-1]},isLeapYear:function(a){return !!((a&3)===0&&(a%100||a%400===0&&a))},onDoneButtonTap:function(){var a=this,c=a._value,b=a.getValue(!0),d=a.ownerField,e=b;if(Ext.isDate(b)){e=b.toDateString()}if(Ext.isDate(c)){c=c.toDateString()}if(e!==c){if(d){d.onPickerChange(a,b)}a.fireEvent('change',a,b)}a.hide();Ext.util.InputBlocker.unblockInputs()}},1,['datepicker'],['widget','component','container','panel','sheet','picker','datepicker'],{'widget':!0,'component':!0,'container':!0,'panel':!0,'sheet':!0,'picker':!0,'datepicker':!0},['widget.datepicker'],0,[Ext.picker,'Date',Ext,'DatePicker'],0);Ext.cmd.derive('Ext.layout.Carousel',Ext.layout.Auto,{config:{visibleChildren:1,frontIndex:{$value:!0,lazy:!0},animation:!0},vertical:!1,targetCls:'x-layout-carousel',wrapCls:'x-layout-carousel-wrap',itemCls:'x-layout-carousel-item',singularCls:'x-layout-carousel-singular',destroy:function(){var a=this.getContainer();Ext.destroy(a.carouselElement,this.activeAnim);Ext.layout.Auto.prototype.destroy.call(this)},updateContainer:function(a,c){var b=this;Ext.layout.Auto.prototype.updateContainer.call(this,a,c);a.bodyElement.addCls(b.wrapCls);a.carouselElement=a.getRenderTarget().appendChild({cls:b.targetCls});Ext.override(a,{privates:{getRenderTarget:function(){return this.carouselElement}}})},onContainerInitialized:function(b){var a=this;Ext.layout.Auto.prototype.onContainerInitialized.call(this,b);if(!a.frontItem){a.setFrontItem(a.getFrontIndex(),!1)}},updateVisibleChildren:function(f){var c=this,e=c.getContainer().getRenderTarget(),b,a,g,d,h;a=c.getLayoutItems();b=c.calcItemBasis(f)+'%';if(a.length>f){e.setStyle('left','-'+b);e.setStyle('transform','translateX('+b+')')}for(d=0,h=a.length;d<h;d++){g=a[d];g.el.setStyle('flex-basis',b)}e.toggleCls(c.singularCls,f===1)},applyFrontIndex:function(b){var c,a;if(typeof b!=='number'){c=this.getVisibleChildren();a=c-1;b=!a?a:a%2?Math.floor(a/2)+1:a/2}return b},applyDuration:function(a){if(typeof a!=='number'){a=parseInt(a,10)||500}return a},calcItemBasis:function(a){a=a!=null?a:this.getVisibleChildren();return a===1?100:!(a%2)?100/a:(100/a).toFixed(5)},insertInnerItem:function(a,b){var c=this;Ext.layout.Auto.prototype.insertInnerItem.call(this,a,b);if(b===0){c.frontItem=a}a.el.setStyle('order',b+1);a.el.setStyle('flex-basis',c.calcItemBasis()+'%')},getLayoutItemCount:function(){return this.getLayoutItems().length},getLayoutItems:function(){return this.getContainer().getInnerItems()},getItemIndex:function(a){return this.getContainer().innerIndexOf(a)},shiftIndex:function(a,b){var c=this.getLayoutItemCount();a+=b;if(b<0){a=a<0?c-1:a}else if(b>0){a=a>=c?0:a}return a},getVisibleItems:function(){return this.visibleItems},getEdgeItem:function(b){var a=this.getOrderedLayoutItems();return b<0?a[0]:a[a.length-1]},getFirstVisibleItem:function(){return this.getVisibleItems()[0]},getLastVisibleItem:function(){var a=this.getVisibleItems();return a[a.length-1]},getFrontItem:function(){return this.frontItem},getFrontItemIndex:function(){return this.getItemIndex(this.getFrontItem())},getOrderedLayoutItems:function(){var a=Ext.Array.clone(this.getLayoutItems());return a.sort(this.sortByOrder)},setFrontItem:function(e,c){var b=this,r=b.getContainer(),p=r.getRenderTarget(),h=b.getFrontIndex(),m=b.getVisibleChildren(),a,k,n,f,g,o,j,d,q,l,i;a=b.getLayoutItems();if(a.length<m){return Ext.Deferred.getCachedResolved()}if(typeof e!=='number'){e=a.indexOf(e)}j=b.calcItemBasis();p.setStyle('left','-'+j+'%');n=b.getFrontItem();b.frontItem=a[e];h++;a=a.slice(e).concat(a.slice(0,e));f=a.indexOf(n);a=a.slice(-h).concat(a.slice(0,a.length-h));if(c==null){c=b.getAnimation()}if(c){if(typeof c==='boolean'){c={}}o=f>-1&&f<=Math.floor(a.length/2)?1:-1;Ext.destroy(b.activeAnim);i=new Ext.Deferred();l=i.promise;b.activeAnim=Ext.Animator.run(Ext.apply({element:p,to:{transform:{translateX:j*o+'%'}},callback:function(){b.orderItems(a);i.resolve();b.activeAnim=null}},c))}b.visibleItems=g=[];for(d=0,q=a.length;d<q;d++){k=a[d];if(d>0&&d<=m){g.push(k)}k.$carouselOrder=d+1}if(!c){b.orderItems(a);l=Ext.Deferred.getCachedResolved()}g.sort(b.sortByOrder);return l},getMoveItem:function(b){var a=this.getFrontItemIndex();a=this.shiftIndex(a,b);return this.getLayoutItems()[a]},cancelAnimation:function(){Ext.destroy(this.activeAnim)},move:function(a,b){return this.setFrontItem(this.getMoveItem(a),b)},prev:function(a){return this.move(-1,a)},next:function(a){return this.move(1,a)},privates:{orderItems:function(c){var d=c.length,a,b;for(a=0;a<d;++a){b=c[a];b.el.setStyle('order',b.$carouselOrder+1)}},sortByOrder:function(a,b){return +a.$carouselOrder-b.$carouselOrder}}},0,0,0,0,['layout.carousel'],0,[Ext.layout,'Carousel'],0);Ext.cmd.derive('Ext.panel.DateView',Ext.Widget,{config:{specialDates:null,specialDays:null,monthOffset:0},cachedConfig:{captionFormat:null,dateCellFormat:null,format:null,headerLength:null,hideCaption:!0,hideOutside:!0,startDay:null,weekendDays:null},element:{reference:'element'},tableTpl:{reference:'tableElement',tag:'table',cellspacing:'0',cellpadding:'0',children:[]},captionTpl:{reference:'captionElement',tag:'caption'},headTpl:{tag:'thead',reference:'headElement'},headRowTpl:{tag:'tr'},headCellTpl:{tag:'th',cls:'x-cell',children:[{tag:'div',cls:'x-inner '+Ext.dom.Element.unselectableCls}]},bodyTpl:{tag:'tbody',reference:'bodyElement'},bodyRowTpl:{tag:'tr'},bodyCellTpl:{tag:'td',cls:'x-cell',tabIndex:-1,children:[{tag:'div',cls:'x-inner '+Ext.dom.Element.unselectableCls}]},rows:6,columns:7,cellCls:'x-cell',emptyCls:'x-empty',weekendDayCls:'x-weekend',disabledDayCls:'x-disabled',specialDateCls:'x-special',todayCls:'x-today',outsideCls:'x-outside',prevMonthCls:'x-prev-month',nextMonthCls:'x-next-month',currentMonthCls:'x-current-month',constructor:function(a){this.firstOfMonth=Ext.Date.getFirstDateOfMonth(new Date());Ext.Widget.prototype.constructor.call(this,a)},initElement:function(){var a=this;Ext.Widget.prototype.initElement.call(this);a.headCells=a.headElement.query('th');a.bodyCells=a.bodyElement.query('td');a.cellMap={}},getMonth:function(){return Ext.Date.add(this.firstOfMonth,Ext.Date.MONTH,this.getMonthOffset())},getTemplate:function(){var a=this,h=a.tableTpl,d=a.headRowTpl,j=a.headCellTpl,c=a.bodyRowTpl,i=a.bodyCellTpl,l=a.rows,k=a.columns,g,f,b,e;d=Ext.apply({children:[]},d);c=Ext.apply({children:[]},c);for(b=0,e=k;b<e;b++){d.children.push(j);c.children.push(i)}g=Ext.apply({children:[]},a.headTpl);g.children.push(d);f=Ext.apply({children:[]},a.bodyTpl);for(b=0,e=l;b<e;b++){f.children.push(c)}h.children=[a.captionTpl,g,f];return [h]},getCellByDate:function(a){return a?this.cellMap[a.getTime()]:null},updateWeekendDays:function(){if(!this.isConfiguring){this.refresh()}},updateStartDay:function(i){var d=this.headCells,g=this.getWeekendDays(),h=this.weekendDayCls,f=this.getHeaderLength(),c,a,e,b;for(a=0,e=d.length;a<e;a++){c=d[a];b=(a+i)%7;c.firstChild.innerHTML=Ext.Date.getShortDayName(b).substr(0,f);Ext.fly(c).toggleCls(h,!!g[b])}},updateSpecialDates:function(){if(!this.isConfiguring){this.refresh()}},updateSpecialDays:function(){if(!this.isConfiguring){this.refresh()}},applyMonthOffset:function(a){return !isNaN(a)?a:0},updateMonthOffset:function(){this.refresh()},updateCaptionFormat:function(b){var a=this.getMonth();if(a){this.captionElement.setHtml(Ext.Date.format(a,b))}},updateHideCaption:function(a){this.toggleCls('x-hide-caption',a)},refresh:function(){var a=this,f=Ext.Date,p=a.bodyCells,c,e,m,n,g,o,l,b,d,q,j,i,h,k;if(a.refreshing){return}a.refreshing=!0;c=a.getMonth();n=a.getStartDay();e=n-c.getDay();if(e>0){e-=7}m=f.add(c,f.DAY,e);o=a.cellMap={};h=c.getMonth();b={today:Ext.Date.clearTime(new Date()),weekendDays:a.getWeekendDays(),specialDates:a.getSpecialDates(),specialDays:a.getSpecialDays(),format:a.getFormat(),dateCellFormat:a.getDateCellFormat(),hideOutside:a.getHideOutside()};for(d=0,q=p.length;d<q;d++){l=p[d];g=f.add(m,f.DAY,d);k=g.getMonth();j=k<h;i=k>h;o[g.getTime()]=l;b.cell=l;b.date=g;b.outside=j||i;b.outsidePrevious=j;b.outsideNext=i;a.refreshCell(b)}a.captionElement.setHtml(Ext.Date.format(c,a.getCaptionFormat()));a.refreshing=!1},refreshCell:function(b){var a=this,e=b.cell,d=b.date,l=d.getDay(),n=d.getTime(),f=b.specialDates,k=b.specialDays,c=[a.cellCls],m=Ext.Date.format(d,b.format),i=b.outside&&b.hideOutside,j,g,h;if(!i){if(b.outsidePrevious){c.push(a.outsideCls,a.prevMonthCls)}else if(b.outsideNext){c.push(a.outsideCls,a.nextMonthCls)}else {c.push(a.currentMonthCls);if(Ext.Date.isEqual(d,b.today)){c.push(a.todayCls)}}if(b.weekendDays[l]){c.push(a.weekendDayCls)}if(!g&&k){g=k[l]}if(f){g=f.dates[n]||f.re&&f.re.test(m)}if(g){c.push(a.specialDateCls)}}else {c.push(a.emptyCls)}h=a.getParent().isDateDisabled(d);if(!i&&h){c.push(a.disabledDayCls)}e.tabIndex=-1;if(i){j='&#160;'}else {j=Ext.Date.format(d,b.dateCellFormat)}e.firstChild.innerHTML=j;if(a.transformCellCls){a.transformCellCls(d,c)}e.className=c.join(' ');e.date=d;e.disabled=h},ownsDate:function(b){var a=this.getMonth();return b.getFullYear()===a.getFullYear()&&b.getMonth()===a.getMonth()},privates:{measurePaneSize:function(){var a=this.element.first();return a.measure('w')+a.getMargin('lr')}}},1,['dateview'],['widget','dateview'],{'widget':!0,'dateview':!0},['widget.dateview'],0,[Ext.panel,'DateView'],0);Ext.cmd.derive('Ext.panel.Title',Ext.Component,{isPanelTitle:!0,cachedConfig:{textAlign:'left',iconAlign:'left',rotation:0,rotateIcon:null},config:{text:'',icon:null,iconCls:null},weight:-10,inheritUi:!0,element:{reference:'element',cls:'x-unselectable'},template:[{reference:'bodyElement',cls:'x-body-el',children:[{reference:'iconElement',cls:'x-icon-el x-font-icon'},{reference:'textElement',cls:'x-text-el'}]}],verticalCls:'x-vertical',horizontalCls:'x-horizontal',rotateIconCls:'x-rotate-icon',iconAlignVerticalCls:'x-icon-align-vertical',hasIconCls:'x-has-icon',_textAlignClasses:{left:'x-text-align-left',center:'x-text-align-center',right:'x-text-align-right'},_iconAlignClasses:{top:'x-icon-align-top',right:'x-icon-align-right',bottom:'x-icon-align-bottom',left:'x-icon-align-left'},_rotationClasses:{90:'x-rotate-90',270:'x-rotate-270'},classCls:'x-paneltitle',_titleSuffix:'-title',afterRender:function(){if(Ext.isSafari){this.repaintBodyElement()}(arguments.callee.$previous||Ext.Component.prototype.afterRender).call(this)},updateIcon:function(b,d){var c=this,a;c.syncIconVisibility();a=c.iconElement;a.setStyle('background-image',b?'url('+b+')':'')},updateIconAlign:function(a,e){var c=this,d=c._iconAlignClasses,b=c.el;if(e){b.removeCls(d[e])}if(a){b.addCls(d[a])}b.toggleCls(c.iconAlignVerticalCls,a==='top'||a==='bottom')},updateIconCls:function(c,b){var a=this.iconElement;this.syncIconVisibility();if(b){a.removeCls(b)}if(c){a.addCls(c)}},updateRotation:function(c,b){var a=this,f=a.verticalCls,e=a.horizontalCls,d=a.el;b=parseInt(b,10);c=parseInt(c,10);if(b!==0){d.removeCls(a._rotationClasses[b])}if(c===0){d.replaceCls(f,e)}else {d.replaceCls(e,[f,a._rotationClasses[c]])}if(Ext.isSafari&&this.rendered){this.repaintBodyElement()}},updateRotateIcon:function(a){this.el.toggleCls(this.rotateIconCls,!!a)},updateText:function(a){var b=this.textElement.dom;b.innerHTML=a||'&#160;';b.setAttribute('data-title',a)},updateTextAlign:function(d,c){var a=this,b=a._textAlignClasses;if(c){a.removeCls(b[c])}if(d){a.addCls(b[d])}},privates:{repaintBodyElement:function(){var a=this.bodyElement.dom,b=a.style;b.width='-webkit-min-content';a.offsetWidth;b.width=''},syncIconVisibility:function(){this.el.toggleCls(this.hasIconCls,!!(this.getIcon()||this.getIconCls()))}},deprecated:{'6.5':{configs:{glyph:null}}}},0,['paneltitle'],['widget','component','paneltitle'],{'widget':!0,'component':!0,'paneltitle':!0},['widget.paneltitle'],0,[Ext.panel,'Title'],0);Ext.cmd.derive('Ext.panel.DateTitle',Ext.panel.Title,{classCls:'x-datetitle',template:[{reference:'bodyElement',cls:'x-body-el',children:[{reference:'iconElement',cls:'x-icon-el x-font-icon'},{cls:'x-text-container-el',children:[{reference:'yearElement',cls:'x-year-el'},{reference:'textElement',cls:'x-text-el'}]}]}],config:{split:{cached:!0,$value:!1},titleActive:{cached:!0,$value:!0},year:null},initialize:function(){var a=this;Ext.panel.Title.prototype.initialize.call(this);a.yearElement.on('tap','onYearTap',a);a.textElement.on('tap','onTextTap',a)},updateSplit:function(a){this.yearElement.setDisplayed(a);this.toggleCls('x-split',a)},updateTitleActive:function(a){var b='x-inactive';this.textElement.toggleCls(b,!a);this.yearElement.toggleCls(b,a)},updateYear:function(a){this.yearElement.dom.textContent=a},privates:{onTextTap:function(a){this.fireEvent('titletap',this,a)},onYearTap:function(a){this.fireEvent('yeartap',this,a)}}},0,['datetitle'],['widget','component','paneltitle','datetitle'],{'widget':!0,'component':!0,'paneltitle':!0,'datetitle':!0},['widget.datetitle'],0,[Ext.panel,'DateTitle'],0);Ext.cmd.derive('Ext.panel.YearPicker',Ext.dataview.BoundList,{classCls:'x-yearpicker',config:{defaultOffset:100,end:undefined,start:undefined},itemConfig:{ui:'yearpicker',tools:null},itemTpl:'{year}',pinFooters:!1,pinHeaders:!1,scrollToTopOnRefresh:!1,initialize:function(){Ext.dataview.BoundList.prototype.initialize.call(this);this.rebuildStore()},focusYear:function(e){var a=this,b=a.getStore().getById(e),d=a.mapToItem(b),c=a.getScrollable(),f=c.getEnsureVisibleXY(d.element,{align:{y:'center?'}}).y;c.scrollTo(null,f,!1);a.getNavigationModel().setLocation(b);a.select(b)},onChildTap:function(a){var b=a.record;if(b){a.event.stopEvent();this.fireEvent('yeartap',this,b.id)}},applyEnd:function(a){if(!a){a=(new Date()).getFullYear()+this.getDefaultOffset()}return a},updateEnd:function(){this.rebuildStore()},applyStart:function(a){if(!a){a=(new Date()).getFullYear()-this.getDefaultOffset()}return a},updateStart:function(){this.rebuildStore()},privates:{forceRefreshOnRender:!0,rebuildStore:function(){var a=this,e=a.getStart(),f=a.getEnd(),c=a.getStore(),d,b;if(a.isConfiguring){return}if(!c){c=new Ext.data.Store({autoDestroy:!0});a.setStore(c)}d=[];for(b=e;b<=f;++b){d.push({id:b,year:b})}c.loadData(d)}}},0,['yearpicker'],['widget','component','container','componentdataview','list','boundlist','yearpicker'],{'widget':!0,'component':!0,'container':!0,'componentdataview':!0,'list':!0,'boundlist':!0,'yearpicker':!0},['widget.yearpicker'],0,[Ext.panel,'YearPicker'],0);Ext.cmd.derive('Ext.panel.Date',Ext.Panel,{config:{animation:!0,autoConfirm:!1,captionFormat:{$value:'F Y',cached:!0},dateCellFormat:{$value:'j',cached:!0},disabledDates:null,disabledDays:null,focusableDate:null,format:{$value:Ext.Date.defaultFormat,cached:!0},handler:null,headerFormat:{$value:'D, M j Y',cached:!0},headerLength:1,hideCaptions:!0,hideOutside:!1,maxDate:null,minDate:null,navigationPosition:'header',nextText:'Next Month (Control+Right)',panes:1,prevText:'Previous Month (Control+Left)',selectOnNavigate:!0,showAfterMaxDate:!1,showBeforeMinDate:!1,showFooter:null,showTodayButton:null,specialDates:null,specialDays:null,splitTitle:!1,startDay:{$value:Ext.Date.firstDayOfWeek,cached:!0},titleAnimation:null,value:undefined,weekendDays:{$value:Ext.Date.weekendDays,cached:!0},yearPicker:{lazy:!0,$value:{}},yearPickerDefaults:null},focusable:!0,tabIndex:0,border:!1,mouseWheelBuffer:500,autoSize:null,headerCls:'x-datepanelheader',titleCls:'x-datetitle',toolCls:['x-paneltool','x-datepaneltool'],header:{title:{xtype:'datetitle'}},tools:{previousMonth:{reference:'navigatePrevMonth',iconCls:'x-fa fa-angle-left',cls:'x-left-year-tool ',weight:-100,increment:-1,focusable:!1,tabIndex:null,forceTabIndex:!0,listeners:{click:'onMonthToolClick'}},previousYear:{reference:'navigatePrevYear',iconCls:'x-fa fa-angle-double-left',cls:'x-left-month-tool',weight:-90,increment:-12,focusable:!1,tabIndex:null,forceTabIndex:!0,listeners:{click:'onMonthToolClick'}},nextYear:{reference:'navigateNextYear',iconCls:'x-fa fa-angle-double-right',cls:'x-right-month-tool',weight:90,increment:12,focusable:!1,tabIndex:null,forceTabIndex:!0,listeners:{click:'onMonthToolClick'}},nextMonth:{reference:'navigateNextMonth',iconCls:'x-fa fa-angle-right',cls:'x-right-year-tool',weight:100,increment:1,focusable:!1,tabIndex:null,forceTabIndex:!0,listeners:{click:'onMonthToolClick'}}},keyMapTarget:'bodyElement',keyMap:{'*+LEFT':'onLeftArrowKey','*+RIGHT':'onRightArrowKey',UP:'onUpArrowKey',DOWN:'onDownArrowKey','*+PAGE_UP':'onPageUpKey','*+PAGE_DOWN':'onPageDownKey',HOME:'onHomeKey',END:'onEndKey',ENTER:'onEnterKey',SPACE:'onSpaceKey',BACKSPACE:'onBackspaceKey','*+TAB':'onTabKey',scope:'this'},paneXtype:'dateview',classCls:'x-datepanel',layout:{type:'carousel',animation:{duration:100}},defaultListenerScope:!0,referenceHolder:!0,buttonToolbar:{enableFocusableContainer:!1,cls:'x-datepanel-footer',reference:'footer'},buttons:{footerTodayButton:{text:'Today',tabIndex:-1,hidden:!0,weight:-20,handler:'onTodayButtonClick',reference:'footerTodayButton'},spacer:{xtype:'component',weight:-10,flex:1},ok:{tabIndex:-1,handler:'onOkButtonClick'},cancel:{tabIndex:-1,handler:'onCancelButtonClick'}},sidePaneOffset:2,initialize:function(){var a=this,b=a.getValue();Ext.Panel.prototype.initialize.call(this);a.setToolText('navigatePrevMonth',a.getPrevText());a.setToolText('navigateNextMonth',a.getNextText());a.bodyElement.on({click:{delegate:a.cellSelector,fn:'onDateClick'},focus:'onBodyFocus',wheel:Ext.Function.createThrottled(a.onMouseWheel,a.mouseWheelBuffer),scope:a});a.getShowFooter();a.preventAnim=!0;a.setFocusableDate(b);a.preventAnim=!1;a.setTitleByDate(b);Ext.fly(a.getCellByDate(b)).addCls(a.selectedCls)},onRender:function(){Ext.Panel.prototype.onRender.call(this);this.measurePaneSize()},doDestroy:function(){var a=this;Ext.destroy(a.animTitle,a.animBody);Ext.Panel.prototype.doDestroy.call(this)},focusDate:function(b){var a=this;a.doFocus=!0;a.setFocusableDate(b);a.doFocus=!1},updateAnimation:function(a){this.getLayout().setAnimation(a)},updateAutoConfirm:function(b){var a=this;a.getButtons();if(!b){a.setShowFooter(!0)}else {a.setShowFooter(a.initialConfig.showFooter)}},updateCaptionFormat:function(a){this.broadcastConfig('captionFormat',a)},updateDateCellFormat:function(a){this.broadcastConfig('dateCellFormat',a)},applyDisabledDates:function(a){if(!a){return a}var c={dates:{}},d=[],b,e,f;if(a instanceof RegExp){c.re=a}else {if(!Ext.isArray(a)){a=[a]}for(e=0,f=a.length;e<f;e++){b=a[e];if(b instanceof Date){b=Ext.Date.clearTime(b);c.dates[b.getTime()]=!0}else if(b instanceof RegExp){d.push(b.source)}else {d.push(Ext.String.escapeRegex(b))}}if(d.length){c.re=new RegExp('(?:'+d.join('|')+')')}}return c},updateDisabledDates:function(){this.refreshPanes()},applyDisabledDays:function(a){return a?Ext.Array.toMap(a):a},updateDisabledDays:function(){this.refreshPanes()},updateFormat:function(a){this.broadcastConfig('format',a)},updateHeader:function(a,b){Ext.Panel.prototype.updateHeader.call(this,a,b);a.getTitle().on({scope:this,yeartap:'onYearTitleTap',titletap:'onTitleTap'})},applyMaxDate:function(a){if(typeof a==='string'){a=Ext.Date.parse(a,this.getFormat())}return a},updateMaxDate:function(){this.refreshPanes()},applyMinDate:function(a){if(typeof a==='string'){a=Ext.Date.parse(a,this.getFormat())}return a},updateMinDate:function(){this.refreshPanes()},updateNavigationPosition:function(g){var a=this,f=a.toolList,h=f.length,e=g==='header',i=e?a.toolCt:a.getHeader(),b,d,c;if(e&&a.isConfiguring){return}a.getTools();b=[];for(d=0;d<h;++d){c=a.lookup(f[d]);if(c){b.push(c);i.remove(c,!1);c.toggleCls(a.toolCls,e)}}a.toolCt=Ext.destroy(a.toolCt);if(g==='header'){a.getHeader().add(b)}else {b.push({xtype:'component',flex:1,weight:0});a.toolCt=a.add({xtype:'container',cls:'x-navigation-tools',defaultType:'tool',weighted:!0,layout:'hbox',bottom:'auto',items:b})}},updateNextText:function(a){this.setToolText('navigateNextMonth',a)},updatePrevText:function(a){this.setToolText('navigatePrevMonth',a)},updatePanes:function(b){var a=this;a.getLayout().setVisibleChildren(b);a.initPanes();a.singlePane=b===1;a.toggleCls('x-single',a.singlePane)},updateShowFooter:function(a){this.lookup('footer').setHidden(!a);this.getShowTodayButton()},updateShowTodayButton:function(b){var a;this.getButtons();a=this.lookup('footerTodayButton');if(a){a.setHidden(!b)}},applySpecialDates:function(a){return this.applyDisabledDates(a)},updateSpecialDates:function(a){this.broadcastConfig('specialDates',a)},applySpecialDays:function(a){return a?Ext.Array.toMap(a):a},updateSpecialDays:function(a){this.broadcastConfig('specialDays',a)},updateSplitTitle:function(a){this.getHeader().getTitle().setSplit(a)},updateStartDay:function(a){this.broadcastConfig('startDay',a)},applyValue:function(a){if(typeof a==='string'){a=Ext.Date.parse(a,this.getFormat())}else if(!a){a=new Date()}return Ext.isDate(a)?Ext.Date.clearTime(a,!0):null},updateValue:function(b,d){var a=this,f=a.getHandler(),e=a.selectedCls,c;if(d){c=a.getCellByDate(d);if(c){Ext.fly(c).removeCls(e)}}if(!a.isConfiguring){if(a.hasFocus){a.focusDate(b)}else {a.setFocusableDate(b)}c=a.getCellByDate(b);if(c){Ext.fly(c).addCls(e)}a.setTitleByDate(b);a.fireEvent('change',a,b,d);if(f){Ext.callback(f,a.scope,[a,b,d])}}},applyWeekendDays:function(a){return Ext.Array.toMap(a)},updateWeekendDays:function(a){this.broadcastConfig('weekendDays',a)},applyYearPicker:function(b,a){return Ext.updateWidget(a,b,this,'createYearPicker','yearPickerDefaults')},updateYearPicker:function(a){if(a){this.add(a)}},replacePanes:function(g,b){var a=this,c,e,f,d;if(a.destroying||a.destroyed){return}c=a.getLayout().getVisibleItems();e=function(){var d,e,a,f;for(a=0,f=c.length;a<f;a++){d=c[a];e=d.getMonthOffset();d.setMonthOffset(e+g)}};if(b==null){b=a.getAnimation()}if(b){f=g<0?'up':'down';d=a.animateVertical(a.carouselElement,f,0,e,'animBody')}else {e();d=Ext.Deferred.getCachedResolved()}return d},initPanes:function(){var c=this,f=c.getPanes()+this.sidePaneOffset,g=[],d,b,e,a;b=f-1;e=!b?b:b%2?Math.floor(b/2)+1:Math.floor(b/2);for(a=0;a<f;a++){g.push(c.getPaneTemplate(a-e))}d=c.getInnerItems();for(a=0;a<d.length;a++){c.remove(d[a],!0)}c.add(g);c.getLayout().setFrontItem(e,!1)},getPaneByDate:function(f){var g=this,d=g.getInnerItems(),c,b,a,e;c=Ext.Date.getFirstDateOfMonth(f);for(a=0,e=d.length;a<e;a++){b=d[a];if(Ext.Date.isEqual(b.getMonth(),c)){return b}}return null},getCellByDate:function(a){var b=this.getPaneByDate(a);return b?b.getCellByDate(a):null},updateCellTabIndex:function(b,c){var a=b&&this.getCellByDate(b);if(a){Ext.fly(a).setTabIndex(c)}return a},canSwitchTo:function(e,d){var c=this,a,b;if(d<0){a=c.getMinDate();b=!c.getShowBeforeMinDate();if(a&&b){if(e.getTime()<Ext.Date.getFirstDateOfMonth(a).getTime()){return !1}}}else if(d>0){a=c.getMaxDate();b=!c.getShowAfterMaxDate();if(a&&b){if(e.getTime()>Ext.Date.getLastDateOfMonth(a).getTime()){return !1}}}return !0},setValueWithoutAnim:function(a){this.preventAnim=!0;this.setValue(a);this.preventAnim=!1},navigateTo:function(b,h){var d=this,g=d.getLayout(),f,c,a,e;if(b.getTime()<(f=g.getFirstVisibleItem().getMonth()).getTime()){a=f}else if(b.getTime()>(f=g.getLastVisibleItem().getMonth()).getTime()){a=f}else {a=b}c=b.getFullYear()*12+b.getMonth()-(a.getFullYear()*12+a.getMonth());if(c<0){a=d.getMinDate();e=!d.getShowBeforeMinDate();if(a&&e){if(b.getTime()<Ext.Date.getFirstDateOfMonth(a).getTime()){c=0}}}else if(c>0){a=d.getMaxDate();e=!d.getShowAfterMaxDate();if(a&&e){if(b.getTime()>Ext.Date.getLastDateOfMonth(a).getTime()){c=0}}}return d.navigateByIncrement(c,h,0)},switchPanes:function(a,e){var f=this,b=f.getLayout(),c,d;c=a<0?b.getFirstVisibleItem():b.getLastVisibleItem();d=b.getEdgeItem(a);d.setMonthOffset(c.getMonthOffset()+a);return b.move(a,e)},onMonthToolClick:function(h){var a=this,c=Ext.Date,b=h.increment,e=c.add(a.getFocusableDate(),c.MONTH,b),d=a.hasFocus,f=f=this.getLayout().getFrontItem(),g=c.add(f.getMonth(),c.MONTH,b);if(!a.canSwitchTo(g,b)){return}a.navIncrement=a.singlePane?0:b;if(d||a.getSelectOnNavigate()){a.setValue(e)}else {a.doFocus=d;a.setFocusableDate(e);a.doFocus=!1}a.navIncrement=0},onDateClick:function(d){var a=this,b=d.getTarget(a.cellSelector,a.bodyElement),c=b&&b.date,e=!0,f=b&&b.disabled;if(!c||a.getDisabled()){return}if(!f){a.setValue(c);if(a.getAutoConfirm()){if(d.pointerType==='touch'){d.preventDefault()}e=!1;a.fireEvent('select',a,c)}}if(e){a.focusDate(c)}},onMouseWheel:function(b){var a=b.browserEvent.deltaY;if(a&&!this.pickerVisible){this.onMonthToolClick({increment:Ext.Number.sign(a)})}},onOkButtonClick:function(){this.setValue(this.getFocusableDate())},onCancelButtonClick:function(){this.fireEventArgs('tabout',[this])},onTodayButtonClick:function(){var b=this,a;a=b.getLayout().getFrontItem().getMonthOffset();if(a!==0){if(Math.abs(a)===1){b.switchPanes(-a)}else {b.replacePanes(-a)}}b.setValue(Ext.Date.clearTime(new Date()))},getFocusEl:function(){if(!this.initialized){return null}return this.getCellByDate(this.getFocusableDate())},onLeftArrowKey:function(a){this.walkCells(a.target.date,a.ctrlKey?Ext.Date.MONTH:Ext.Date.DAY,-1);a.preventDefault()},onRightArrowKey:function(a){this.walkCells(a.target.date,a.ctrlKey?Ext.Date.MONTH:Ext.Date.DAY,1);a.preventDefault()},onUpArrowKey:function(a){this.walkCells(a.target.date,Ext.Date.DAY,-7);a.preventDefault()},onDownArrowKey:function(a){this.walkCells(a.target.date,Ext.Date.DAY,7);a.preventDefault()},onPageUpKey:function(a){var b=a.ctrlKey||a.shiftKey?Ext.Date.YEAR:Ext.Date.MONTH;this.walkCells(a.target.date,b,-1);a.preventDefault()},onPageDownKey:function(a){var b=a.ctrlKey||a.shiftKey?Ext.Date.YEAR:Ext.Date.MONTH;this.walkCells(a.target.date,b,1);a.preventDefault()},onHomeKey:function(a){this.walkCells(Ext.Date.getFirstDateOfMonth(a.target.date));a.preventDefault()},onEndKey:function(a){this.walkCells(Ext.Date.getLastDateOfMonth(a.target.date));a.preventDefault()},onBackspaceKey:function(a){this.walkCells(new Date());a.preventDefault()},onEnterKey:function(d){var b=this,a=d.target,c=a&&a.date;if(c&&!a.disabled){b.setValue(c);b.fireEvent('select',b,a.date)}},onSpaceKey:function(a){this.onEnterKey(a);a.preventDefault()},onTabKey:function(a){this.handleTabKey(a);return !0},handleTabKey:function(d){var a=this,b=d.target,c=a.pickerField;if(!a.getDisabled()&&a.getAutoConfirm()&&b&&b.date&&!b.disabled){a.setValue(b.date);if(c&&c.isEditorComponent){d.preventDefault()}}else {a.fireEventArgs('tabout',[a])}},walkCells:function(c,d,e){var a=this,b;if(!a.getDisabled()){c=a.getFocusableDate();b=d?Ext.Date.add(c,d,e):c;if(a.isDateDisabled(b)){a.focusDate(b)}else {a.setValue(b)}}},onBodyFocus:function(d){var a=this,c=a.getFocusableDate(),b=a.getCellByDate(c);if(!b){a.navigateTo(c,!1)}b=a.updateCellTabIndex(c,a.getTabIndex());b.focus()},getTabIndex:function(){return this.getConfig('tabIndex',!0)},getFocusClsEl:function(){return this.bodyElement},onFocusEnter:function(a){if(this.bodyElement.contains(a.target)){this.onFocus(a)}Ext.Panel.prototype.onFocusEnter.call(this,a)},onFocusLeave:function(a){this.onBlur(a);Ext.Panel.prototype.onFocusLeave.call(this,a)},privates:{cellSelector:'.x-cell',clonedCls:'x-cloned',lastNavigate:0,hideFocusCls:'x-hide-focus',selectedCls:'x-selected',toolList:['navigatePrevMonth','navigatePrevYear','navigateNextYear','navigateNextMonth'],paneWidthMap:{},pickerVisible:!1,applyFocusableDate:function(a){var c=this,d=Ext.Date,b;if(a){a=d.clearTime(a||new Date());if((b=c.getMinDate())&&!c.getShowBeforeMinDate()&&a.getTime()<b.getTime()){a=b}else if((b=c.getMaxDate())&&!c.getShowAfterMaxDate()&&a.getTime()>b.getTime()){a=b}}return a},updateFocusableDate:function(b,d){var a=this,i=a.doFocus,m=a.getLayout(),k=a.hideFocusCls,e=a.navIncrement,f,h,j,g,c,l;if(a.destroying||a.destroyed){return}if(d){c=a.getCellByDate(d);a.updateCellTabIndex(d,-1)}if(b){h=a.getPaneByDate(b);if(!a.preventAnim){j=a.getAnimation()}f=m.getVisibleItems();a.lastNavigate=g=Date.now();if(!e&&(!j||f.indexOf(h)>-1)){a.navigateTo(b,!1);if(i){a.getCellByDate(b).focus()}}else {if(c){Ext.fly(c).addCls(k)}l=e?a.navigateByIncrement(e):a.navigateTo(b);l.then(function(){c=a.getCellByDate(d);if(c){Ext.fly(c).removeCls(k)}if(i&&a.lastNavigate===g){a.getCellByDate(b).focus()}})}a.updateCellTabIndex(b,a.getTabIndex())}},animateVertical:function(d,e,g,f,c){var b=this,a=d.dom.cloneNode(!0),h=new Ext.Deferred();a.id='';Ext.fly(a).addCls(b.clonedCls);d.parent().appendChild(a);if(f){f()}Ext.destroy(b[c]);b[c]=Ext.Animator.run([{offset:g,type:'slide',direction:e,element:d},{offset:g,type:'slideOut',direction:e,element:a,callback:function(){Ext.fly(a).destroy();b[c]=null;h.resolve()}}]);return h.promise},broadcastConfig:function(f,g){if(this.isConfiguring){return}var d=this.getInnerItems(),b,c,a,e;b=Ext.Config.get(f).names.set;for(a=0,e=d.length;a<e;a++){c=d[a];if(c[b]){c[b](g)}}},createYearPicker:function(a){return Ext.apply({xtype:'yearpicker',hidden:!0,top:0,right:0,bottom:0,left:0,listeners:{yeartap:'onYearPickerTap'}},a)},getPaneTemplate:function(b){var a=this;return {xtype:a.paneXtype,monthOffset:b,hideOutside:a.getHideOutside(),hideCaption:a.getHideCaptions(),startDay:a.getStartDay(),weekendDays:a.getWeekendDays(),specialDates:a.getSpecialDates(),specialDays:a.getSpecialDays(),format:a.getFormat(),captionFormat:a.getCaptionFormat(),dateCellFormat:a.getDateCellFormat(),headerLength:a.getHeaderLength(),transformCellCls:a.transformCellCls}},getPositionedItemTarget:function(){return this.bodyElement},isDateDisabled:function(e){var b=this,f=e.getTime(),j=b.getMinDate(),i=b.getMaxDate(),a,d,c,h,g;a=j&&f<j.getTime()||i&&f>i.getTime();if(!a){d=b.getDisabledDays();if(d){a=d[e.getDay()]}}if(!a){c=b.getDisabledDates();if(c){a=c.dates[f];g=c.re;if(!a&&g){h=Ext.Date.format(e,b.getFormat());a=g.test(h)}}}return !!a},measurePaneSize:function(){var a=this,e=a.getPanes(),c=a.getUi()||'default',b=a.paneWidthMap,d;if(!b.hasOwnProperty(c)){b[c]=this.getLayout().getFrontItem().measurePaneSize()}d=a.el.getBorderWidth('lr');a.setWidth(d+e*b[c])},navigateByIncrement:function(a,c){var b;if(Math.abs(a)===1){b=this.switchPanes(a,c)}else {if(a!==0){b=this.replacePanes(a,c)}else if(!c){this.getLayout().cancelAnimation();b=Ext.Deferred.getCachedResolved()}}return b},onTitleTap:function(){var a;if(this.getSplitTitle()){a=!1}else {a=!this.pickerVisible}this.toggleYearPicker(a)},onYearPickerTap:function(c,b){this.toggleYearPicker(!1);var a=Ext.Date.clone(this.getFocusableDate());a.setFullYear(b);this.setValue(a)},onYearTitleTap:function(){this.toggleYearPicker(!this.pickerVisible)},refreshPanes:function(){if(this.isConfiguring){return}var b=this.getInnerItems(),c=b.length,a;for(a=0;a<c;++a){b[a].refresh()}},setTitleByDate:function(b){var c=this,d=c.lastTitleDate,a;if(d&&d.getTime()===b.getTime()){a=!1}else {a=this.preventAnim?!1:a}c.setTitleText(Ext.Date.format(b,c.getHeaderFormat()),b,d,a);c.lastTitleDate=b},setTitleText:function(f,e,h,b){var a=this,c,g,d;if(a.destroying||a.destroyed){return}if(b===undefined){d=a.getTitleAnimation();if(d!==null){b=d}else {b=a.getAnimation()}}b=a.rendered?b:!1;c=a.getHeader().getTitle();if(b){g=(h||e).getTime()<e.getTime()?'bottom':'top';a.animateVertical(c.textElement,g,'150%',function(){c.setText(f)},'animTitle')}else {if(a.getSplitTitle()){c.setYear(e.getFullYear());c.setText(f)}else {c.setText(f)}}},setToolText:function(c,b){var a=this.lookup(c);if(a){a.setTooltip(b)}},toggleYearPicker:function(b){var a=this,c=a.getYearPicker();if(c){if(a.getSplitTitle()){a.getHeader().getTitle().setTitleActive(!b)}c.setHidden(!b);if(b){c.focusYear(a.getFocusableDate().getFullYear())}a.pickerVisible=b}}}},0,['datepanel'],['widget','component','container','panel','datepanel'],{'widget':!0,'component':!0,'container':!0,'panel':!0,'datepanel':!0},['widget.datepanel'],0,[Ext.panel,'Date'],0);Ext.define('Ext.theme.neptune.panel.Date',{override:'Ext.panel.Date',border:!0});Ext.define('Ext.theme.material.panel.Date',{override:'Ext.panel.Date',config:{headerFormat:'D, M j',hideCaptions:!1,hideOutside:!0,navigationPosition:'caption',selectOnNavigate:!1,showTodayButton:!1,splitTitle:!0,titleAnimation:!1,tools:{previousYear:null,nextYear:null}}});Ext.cmd.derive('Ext.field.Date',Ext.field.Picker,{alternateClassName:['Ext.form.DatePicker','Ext.field.DatePicker'],config:{destroyPickerOnHide:!1,dataType:{type:'date'},dateFormat:'',altFormats:'m/d/Y|n/j/Y|n/j/y|m/j/y|n/d/y|m/j/Y|n/d/Y|m-d-y|m-d-Y|m/d|m-d|md|mdy|mdY|d|Y-m-d|n-j|n/j',minDate:null,maxDate:null,triggers:{expand:{type:'date'}}},classCls:'x-datepickerfield',matchFieldWidth:!1,isDateField:!0,minDateMessage:'The date in this field must be equal to or after {0}',maxDateMessage:'The date in this field must be equal to or before {0}',initTime:'12',initTimeFormat:'H',floatedPicker:{xtype:'datepanel',autoConfirm:!0,floated:!0,listeners:{tabout:'onTabOut',select:'onPickerChange',scope:'owner'},keyMap:{ESC:'onTabOut',scope:'owner'}},edgePicker:{xtype:'datepicker',cover:!0},parseValidator:'date',applyValue:function(a,b){if(!(a||a===0)){a=null}a=Ext.field.Picker.prototype.applyValue.call(this,a,b);if(a){if(this.isConfiguring){this.originalValue=a}if(Ext.isDate(a)&&Ext.isDate(b)&&a.getTime()===b.getTime()){return}}return a},updateValue:function(b,c){var a=this._picker;if(a&&a.isPicker&&Ext.isDate(b)){this.updatePickerValue(a,b)}Ext.field.Picker.prototype.updateValue.call(this,b,c)},updatePickerValue:function(a,b){a.setValue(b)},applyInputValue:function(a,b){if(Ext.isDate(a)){a=Ext.Date.format(a,this.getDateFormat())}return Ext.field.Picker.prototype.applyInputValue.call(this,a,b)},applyAltFormats:function(a){if(a&&!Ext.isArray(a)){a=a.split('|')}return a},applyDateFormat:function(a){return a||Ext.util.Format.defaultDateFormat},updateDateFormat:function(){var a=this,b;if(!a.isConfiguring&&!a.hasFocus){b=a.getValue();if(Ext.isDate(b)){a.setInputValue(b)}}},applyMinDate:function(a){if(typeof a==='string'){a=Ext.Date.parse(a,this.getDateFormat())}return a?Ext.Date.clearTime(a,!0):null},applyMaxDate:function(a){if(typeof a==='string'){a=Ext.Date.parse(a,this.getDateFormat())}return a?Ext.Date.clearTime(a,!0):null},getFormattedValue:function(b){var a=this.getValue();return Ext.isDate(a)?Ext.Date.format(a,b||this.getDateFormat()):''},applyPicker:function(a,c){var b=this;a=Ext.field.Picker.prototype.applyPicker.call(this,a,c);if(a){b.pickerType=a.xtype==='datepicker'?'edge':'floated';a.ownerCmp=b}return a},createFloatedPicker:function(){return this.getFloatedPicker()},createEdgePicker:function(){var c=this,b=this.getMinDate(),a=this.getMaxDate();return Ext.merge({yearFrom:b?b.getFullYear():(new Date()).getFullYear()-20,yearTo:a?a.getFullYear():(new Date()).getFullYear()+20},c.getEdgePicker())},setPickerLocation:function(f){var b=this,e=b.pickerType,a=b.getPicker(),d=b.getValue(),c;b.$ignorePickerChange=!0;if(d!=null){a.setValue(d)}else if(e==='edge'){a.setValue(new Date())}delete b.$ignorePickerChange;if(e==='floated'){a.el.dom.tabIndex=-1;c=b.getMinDate();if(c){a.setMinDate(c)}c=b.getMaxDate();if(c){a.setMaxDate(c)}d=d||new Date();a.setValueWithoutAnim(d);if(f){a.focusDate(d)}}},doValidate:function(f,c,g){var b=this,e=b.getDateFormat(),a,d;Ext.field.Picker.prototype.doValidate.call(this,f,c,g);a=b.getMinDate();d=+f;if(a&&d<+a){a=Ext.Date.format(a,e);c.push(Ext.String.format(b.minDateMessage,a))}a=b.getMaxDate();if(a&&d>+a){a=Ext.Date.format(a,e);c.push(Ext.String.format(b.maxDateMessage,a))}},onPickerChange:function(c,b){var a=this;if(a.$ignorePickerChange){return}a.forceSetValue(b);a.fireEvent('select',a,b);a.onTabOut(c)},onTabOut:function(){this.collapse()},parseValue:function(d,j){var b=this,a=d,e=b.getDateFormat(),f=b.getAltFormats(),g=f?[e].concat(f):[e],i=g.length,c,h;if(a){if(!Ext.isDate(a)){for(c=0;c<i;c++){h=g[c];a=Ext.Date.parse(d+' '+b.initTime,h+' '+b.initTimeFormat);if(a){return Ext.Date.clearTime(a)}}}if(a!==null){return a}}return Ext.field.Picker.prototype.parseValue.call(this,d,j)},isEqual:function(a,b){var c=this.transformValue(a),d=this.transformValue(b);return +c===+d},transformValue:function(a){if(Ext.isObject(a)){a=new Date(a.year,a.month,a.day);if(isNaN(a.getTime())){a=null}}return a},doDestroy:function(){var a=this._picker;if(a&&a.isPicker){a.destroy()}Ext.field.Picker.prototype.doDestroy.call(this)},rawToValue:function(a){var b=this;return b.parseValue(a)||a||null},privates:{setShowPickerValue:function(a){this.updatePickerValue(a,this.getValue()||new Date())}},deprecated:{'6.5':{configs:{format:'dateFormat'}}}},0,['datefield','datepickerfield'],['widget','component','field','inputfield','textfield','pickerfield','datefield','datepickerfield'],{'widget':!0,'component':!0,'field':!0,'inputfield':!0,'textfield':!0,'pickerfield':!0,'datefield':!0,'datepickerfield':!0},['widget.datefield','widget.datepickerfield'],0,[Ext.field,'Date',Ext.form,'DatePicker',Ext.field,'DatePicker'],0);Ext.define('Ext.theme.material.field.Date',{override:'Ext.field.Date',config:{floatedPicker:{selectOnNavigate:!0,header:{hidden:!0}}}});Ext.cmd.derive('Ext.field.Email',Ext.field.Text,{alternateClassName:'Ext.form.Email',config:{autoCapitalize:!1},inputType:'email',classCls:'x-emailfield'},0,['emailfield'],['widget','component','field','inputfield','textfield','emailfield'],{'widget':!0,'component':!0,'field':!0,'inputfield':!0,'textfield':!0,'emailfield':!0},['widget.emailfield'],0,[Ext.field,'Email',Ext.form,'Email'],0);Ext.cmd.derive('Ext.field.File',Ext.field.Text,{isFile:!0,proxyConfig:{fileButton:['multiple','accept','capture']},readOnly:!0,editable:!1,focusable:!1,inputTabIndex:-1,triggers:{file:{type:'file'}},classCls:'x-filefield',captureLookup:{video:'camcorder',image:'camera',audio:'microphone'},onChange:function(c,b,a){c.fireEvent('change',this,b,a)},applyName:function(a){var b;if(a){if(b&&a.substr(-2,2)!=='[]'){a+='[]'}else if(!b&&a.substr(-2,2)==='[]'){a=a.substr(0,a.length-2)}}return a},updateName:function(c){var b=this.getTriggers().file,a=b&&b.getComponent().buttonElement.dom;if(c&&a){a.name=c}},updateMultiple:function(){var a=this.getName();if(!Ext.isEmpty(a)){this.setName(a)}},updateTriggers:function(b,a){Ext.field.Text.prototype.updateTriggers.call(this,b,a);this.getFileButton().on('change','onFileButtonChange',this)},updateValue:function(a,b){Ext.field.Text.prototype.updateValue.call(this,a,b);this.getFileButton().setValue(a)},getFileButton:function(){return this.getTriggers().file.getComponent()},reset:function(){var a=this,b=a.originalValue;if(b==null){a.setInputValue('');a._value=''}a.getFileButton().buttonElement.dom.value=''},getFiles:function(){return this.getFileButton().getFiles()},privates:{onFileButtonChange:function(g,a){var f=g.buttonElement.dom,c=f.files,e,b,d;if(c){a=[];for(b=0,e=c.length;b<e;b++){d=c[b];a.push(d.name)}a=a.join(', ')}this.setValue(a)}}},0,['filefield'],['widget','component','field','inputfield','textfield','filefield'],{'widget':!0,'component':!0,'field':!0,'inputfield':!0,'textfield':!0,'filefield':!0},['widget.filefield'],[[Ext.mixin.ConfigProxy.prototype.mixinId||Ext.mixin.ConfigProxy.$className,Ext.mixin.ConfigProxy]],[Ext.field,'File'],0);Ext.cmd.derive('Ext.field.FileButton',Ext.Button,{config:{value:null,multiple:!1,accept:null,capture:null},buttonType:'file',ui:'action',text:'Browse...',preventDefaultAction:!1,keyHandlersAdded:!0,getButtonTemplate:function(){var a=Ext.Button.prototype.getButtonTemplate.call(this);a.tag='input';a.listeners=a.listeners||{};a.listeners.change={fn:'onChange',delegated:!1};return a},applyAccept:function(a){switch(a){case 'video':case 'audio':case 'image':a=a+'/*';break;}this.setInputAttribute('accept',a)},applyCapture:function(a){this.setInputAttribute('capture',a);return a},applyMultiple:function(a){this.setInputAttribute('multiple',a?'':null);return a},onChange:function(a){this.setValue(this.buttonElement.dom.value)},updateValue:function(b,a){this.fireEvent('change',this,b,a)},getFiles:function(){return this.buttonElement.dom.files},privates:{setInputAttribute:function(b,c){var a=this.buttonElement.dom;if(!Ext.isEmpty(c,!0)){a.setAttribute(b,c)}else {a.removeAttribute(b)}}}},0,['filebutton'],['widget','component','button','filebutton'],{'widget':!0,'component':!0,'button':!0,'filebutton':!0},['widget.filebutton'],0,[Ext.field,'FileButton'],0);Ext.define('App.overrides.field.FileButton',{override:'Ext.field.FileButton',config:{value:null,multiple:!0,accept:null,capture:null},buttonType:'file',ui:'action',text:'Parcourir...',preventDefaultAction:!1,keyHandlersAdded:!0,eventHandlers:{change:'onChange'},getButtonTemplate:function(){var a=(arguments.callee.$previous||Ext.Button.prototype.getButtonTemplate).call(this);a.tag='input';a.onchange='return Ext.doEv(this, event);';return a},applyAccept:function(a){switch(a){case 'video':case 'audio':case 'image':a=a+'/*';break;}this.setInputAttribute('accept',a)},applyCapture:function(a){this.setInputAttribute('capture',a);return a},applyMultiple:function(a){this.setInputAttribute('multiple',a?'':null);return a},onChange:function(a){this.setValue(this.buttonElement.dom.value)},updateValue:function(b,a){this.fireEvent('change',this,b,a)},getFiles:function(){return this.buttonElement.dom.files},privates:{setInputAttribute:function(b,c){var a=this.buttonElement.dom;if(!Ext.isEmpty(c,!0)){a.setAttribute(b,c)}else {a.removeAttribute(b)}}}});Ext.cmd.derive('Ext.field.Hidden',Ext.field.Input,{alternateClassName:'Ext.form.Hidden',inputType:'hidden',hidden:!0,classCls:'x-hiddenfield'},0,['hiddenfield'],['widget','component','field','inputfield','hiddenfield'],{'widget':!0,'component':!0,'field':!0,'inputfield':!0,'hiddenfield':!0},['widget.hiddenfield'],0,[Ext.field,'Hidden',Ext.form,'Hidden'],0);Ext.cmd.derive('Ext.field.Number',Ext.field.Text,{alternateClassName:'Ext.form.Number',config:{minValue:null,maxValue:null,decimals:2,trim:!0,decimalSeparator:null},inputType:Ext.os.is.Desktop?'text':'number',minValueText:'The minimum value for this field is {0}',maxValueText:'The maximum value for this field is {0}',decimalsText:'The maximum decimal places is {0}',badFormatMessage:'Value is not a valid number',classCls:'x-numberfield',parseValidator:'number',initialize:function(){var a=this;a.getDecimals();if(a.getDecimalSeparator()===null){a.setDecimalSeparator(Ext.util.Format.decimalSeparator)}Ext.field.Text.prototype.initialize.call(this);a.inputElement.dom.setAttribute('inputmode','numeric')},updateDecimals:function(c){var a=this,d='0',e=a.getTrim()?'#':'0',b;a.syncDecimalValidator();if(c){d+='.'+Ext.String.repeat(e,c)}a.numberFormat=d;if(!a.isConfiguring){b=a.getValue();if(Ext.isDate(b)){a.setInputValue(b)}}},applyInputValue:function(a){var c=this,b=c.getDecimalSeparator();this.getDecimals();if(typeof a==='number'){a=Ext.util.Format.number(a,this.numberFormat)}if(a&&Ext.isString(a)&&b){a=a.replace(Ext.util.Format.decimalSeparator,b)}return a},doValidate:function(e,d,g){var a=this,f=Ext.String,c=a.getMinValue(),b=a.getMaxValue();Ext.field.Text.prototype.doValidate.call(this,e,d,g);if(c!=null&&e<c){d.push(f.format(a.minValueText,c))}else if(b!=null&&e>b){d.push(f.format(a.maxValueText,b))}},onKeyDown:function(a){var b=this,c;if(b.getInputType()!=='number'){if(!a.ctrlKey&&!a.altKey){c=b.calculateNewValue(a.key());if(!b.specialKeys[a.getCharCode()]&&!b.isAllowableValue(c)){a.preventDefault();return !1}}}Ext.field.Text.prototype.onKeyDown.call(this,a)},transformValue:function(a){if(!(a||a===0)){a=null}return a},rawToValue:Ext.emptyFn,updateDecimalSeparator:function(){this.syncDecimalValidator()},privates:{calculateNewValue:function(d){var c=this,b=c.getTextSelection(),a=c.getInputValue();if(b[1]){a=a.substr(0,b[0])+d+a.substr(b[1])}else {a=Ext.String.insert(a,d,c.getCaretPos())}return a},handlePaste:function(c){var b=this,a;if(b.getInputType()!=='number'){a=c.getClipboardData('text/plain');if(a){a=b.calculateNewValue(a);if(b.isAllowableValue(a)){b.setValue(a)}c.preventDefault();return !1}}Ext.field.Text.prototype.handlePaste.call(this,c);b.validate()},isAllowableValue:function(a){var b=this.getMinValue(),c=b==null||b<0;if(!c&&Ext.String.startsWith(a,'-')){return !1}return this.isPartialValue(a)||this.parseValue(a)!==null},isPartialValue:function(a){var d=this,c=d.getMinValue(),b=c==null||c<0;if(b&&a==='-'){return !0}if(d.getDecimals()&&(a==='.'||b&&a==='-.')){return !0}return !1},syncDecimalValidator:function(){var a=this,b=a.getDecimals()===0?null:a.getDecimalSeparator();a.setParseValidator(Ext.create('Ext.data.validator.Number',{decimalSeparator:b}));a.validate()}}},0,['numberfield'],['widget','component','field','inputfield','textfield','numberfield'],{'widget':!0,'component':!0,'field':!0,'inputfield':!0,'textfield':!0,'numberfield':!0},['widget.numberfield'],0,[Ext.field,'Number',Ext.form,'Number'],function(b){var a=Ext.event.Event;b.prototype.specialKeys=Ext.Array.toMap([a.BACKSPACE,a.TAB,a.RETURN,a.CTRL,a.DELETE,a.LEFT,a.RIGHT,a.UP,a.DOWN,a.HOME,a.END,a.META])});Ext.cmd.derive('Ext.form.Borders',Ext.Base,{mixinId:'formborders',config:{fieldSeparators:null,inputBorders:null},fieldSeparatorsCls:'x-form-field-separators',noInputBordersCls:'x-form-no-input-borders',updateFieldSeparators:function(d,c){var a=this.bodyElement,b=this.fieldSeparatorsCls;if(d){a.addCls(b)}else if(c){a.removeCls(b)}},updateInputBorders:function(d,c){var a=this.bodyElement,b=this.noInputBordersCls;if(d===!1){a.addCls(b)}else if(c===!1){a.removeCls(b)}}},0,0,0,0,0,0,[Ext.form,'Borders'],0);Ext.define('Ext.theme.material.form.Borders',{override:'Ext.form.Borders',config:{fieldSeparators:!1,inputBorders:!0}});Ext.cmd.derive('Ext.field.Panel',Ext.Panel,{isFieldPanel:!0,scrollable:!0,nameable:!0,shareableName:!0,nameHolder:!0,publishes:{dirty:1},config:{api:null,baseParams:null,paramOrder:null,paramsAsHash:null,timeout:30,url:null},load:function(b){var a=this,c,h,d,g,e,f,i;b=b||{};c=a.getApi();h=b.url||a.getUrl();d=b.waitMsg;g=function(c,d){a.setValues(d);if(Ext.isFunction(b.success)){b.success.call(b.scope||a,a,c,d)}a.fireEvent('load',a,c)};e=function(c,d){if(Ext.isFunction(b.failure)){b.failure.call(b.scope||a,a,c,d)}a.fireEvent('exception',a,c)};if(b.waitMsg){if(typeof d==='string'){d={xtype:'loadmask',message:d}}a.setMasked(d)}if(c){c=Ext.direct.Manager.resolveApi(c,a);a.setApi(c);f=c.load;if(!f){Ext.raise('Cannot find Ext Direct API method for load action')}i=f.$directCfg.method.getArgs({params:a.getParams(b.params),paramOrder:a.getParamOrder(),paramsAsHash:a.getParamsAsHash(),scope:a,callback:function(d,c,f){a.setMasked(!1);if(f){g(c,d.data)}else {e(c,d.data)}}});f.apply(window,i)}else if(h){return Ext.Ajax.request({url:h,timeout:(b.timeout||a.getTimeout())*1000,method:b.method||'GET',autoAbort:b.autoAbort,headers:Ext.apply({'Content-Type':'application/x-www-form-urlencoded; charset=UTF-8'},b.headers||{}),callback:function(i,d,c){var f=c.responseText,h=Ext.data.request.Ajax.parseStatus(c.status,c);a.setMasked(!1);if(d){if(h&&f.length===0){d=!0}else {c=Ext.decode(f);d=!!c.success}if(d){g(c,c.data)}else {e(c,c.data)}}else {e(c,f)}}})}},getParams:function(a){return Ext.apply({},a,this.getBaseParams())},updateDisabled:function(a,b){this.mixins.fieldmanager.updateDisabled.call(this,a,b);Ext.Panel.prototype.updateDisabled.call(this,a,b)},updateRecord:function(a){this.consumeRecord(a)}},0,['fieldpanel'],['widget','component','container','panel','fieldpanel'],{'widget':!0,'component':!0,'container':!0,'panel':!0,'fieldpanel':!0},['widget.fieldpanel'],[[Ext.field.Dirty.prototype.mixinId||Ext.field.Dirty.$className,Ext.field.Dirty],[Ext.field.Manager.prototype.mixinId||Ext.field.Manager.$className,Ext.field.Manager],[Ext.form.Borders.prototype.mixinId||Ext.form.Borders.$className,Ext.form.Borders]],[Ext.field,'Panel'],0);Ext.cmd.derive('Ext.field.trigger.Reveal',Ext.field.trigger.Trigger,{classCls:'x-revealtrigger',weight:-1000,hidden:!0,handler:'onRevealTap',scope:'this'},0,['revealtrigger'],['widget','trigger','revealtrigger'],{'widget':!0,'trigger':!0,'revealtrigger':!0},['trigger.reveal','widget.revealtrigger'],0,[Ext.field.trigger,'Reveal'],0);Ext.cmd.derive('Ext.field.Password',Ext.field.Text,{alternateClassName:'Ext.form.Password',config:{autoCapitalize:!1,revealable:!1,revealed:{$value:!1,lazy:!0}},inputType:'password',classCls:'x-passwordfield',revealedCls:'x-revealed',isPassword:!0,applyTriggers:function(a,b){if(a&&this.getRevealable()&&!a.reveal){a=Ext.apply({reveal:{type:'reveal'}},a)}return Ext.field.Text.prototype.applyTriggers.call(this,a,b)},updateRevealed:function(b,c){var a=this;if(b){a.element.addCls(a.revealedCls);a.setInputType('text')}else {a.element.removeCls(a.revealedCls);a.setInputType('password')}},updateValue:function(b,a){this.syncRevealTrigger();Ext.field.Text.prototype.updateValue.call(this,b,a)},doKeyUp:function(a,b){Ext.field.Text.prototype.doKeyUp.call(this,a,b);this.syncRevealTrigger()},onRevealTap:function(a){this.fireAction('revealicontap',[this,a],'doRevealTap')},doRevealTap:function(a,b){this.setRevealed(!this.getRevealed())},privates:{isValidTextValue:function(a){return a!==undefined&&a!==null&&a!==''},syncRevealTrigger:function(){var a=this,d=a.getTriggers(),b=d&&d.reveal,e,c;if(b){if(a.getRevealable()){c=a.getValue();if(c!=null&&c!==''&&!a.getDisabled()&&!a.getReadOnly()){e=!0}}if(e){b.show()}else {b.hide()}}}}},0,['passwordfield'],['widget','component','field','inputfield','textfield','passwordfield'],{'widget':!0,'component':!0,'field':!0,'inputfield':!0,'textfield':!0,'passwordfield':!0},['widget.passwordfield'],0,[Ext.field,'Password',Ext.form,'Password'],0);Ext.cmd.derive('Ext.field.Radio',Ext.field.Checkbox,{alternateClassName:'Ext.form.Radio',isRadio:!0,inputType:'radio',classCls:'x-radiofield',getValue:function(){return this._value===undefined?null:this._value},setValue:function(a){this._value=a;return this},getSubmitValue:function(){var a=this._value;if(a===undefined||a===null){a=!0}return this.getChecked()?a:null},updateChecked:function(b,c){var a=this;Ext.field.Checkbox.prototype.updateChecked.call(this,b,c);if(a.initialized&&b){a.refreshGroupValues(a)}},getGroupValue:function(){var c=this.getSameGroupFields(),d=c.length,b=0,a;for(;b<d;b++){a=c[b];if(a.getChecked()){return a.getValue()}}return null},getSameGroupFields:function(){var a=this,b=a.lookupNameHolder(),c=a.name.replace(a.qsaLeftRe,'\\[').replace(a.qsaRightRe,'\\]');return b.query('radiofield[name='+c+']')},setGroupValue:function(d){var c=this.getSameGroupFields(),e=c.length,b=0,a;for(;b<e;b++){a=c[b];if(a.getValue()===d){a.setChecked(!0);return a}}},refreshGroupValues:function(d){var c=this.getSameGroupFields(),e=c.length,b=0,a;for(;b<e;b++){a=c[b];if(a!==d){a.setChecked(!1)}}}},0,['radio','radiofield'],['widget','component','field','inputfield','checkbox','checkboxfield','radio','radiofield'],{'widget':!0,'component':!0,'field':!0,'inputfield':!0,'checkbox':!0,'checkboxfield':!0,'radio':!0,'radiofield':!0},['widget.radio','widget.radiofield'],0,[Ext.field,'Radio',Ext.form,'Radio'],0);Ext.cmd.derive('Ext.field.trigger.Search',Ext.field.trigger.Trigger,{classCls:'x-searchtrigger'},0,['searchtrigger'],['widget','trigger','searchtrigger'],{'widget':!0,'trigger':!0,'searchtrigger':!0},['trigger.search','widget.searchtrigger'],0,[Ext.field.trigger,'Search'],0);Ext.cmd.derive('Ext.field.Search',Ext.field.Text,{alternateClassName:'Ext.form.Search',inputType:'search',triggers:{search:{type:'search',side:'left'}},classCls:'x-searchfield'},0,['searchfield'],['widget','component','field','inputfield','textfield','searchfield'],{'widget':!0,'component':!0,'field':!0,'inputfield':!0,'textfield':!0,'searchfield':!0},['widget.searchfield'],0,[Ext.field,'Search',Ext.form,'Search'],0);Ext.cmd.derive('Ext.slider.Thumb',Ext.Component,{baseCls:'x-thumb',isSliderThumb:!0,config:{fillCls:null,fillTrack:null,dragMax:null,dragMin:null,slider:null},template:[{reference:'iconElement',classList:['x-icon-el','x-font-icon']}],draggable:{local:!0,constrain:{},listeners:{beforedragstart:'onBeforeDragStart',dragstart:'onDragStart',dragmove:'onDragMove',dragend:'onDragEnd',scope:'this'}},touchAction:{panX:!1,panY:!1},translatable:{type:'cssposition',listeners:{animationstart:'onAnimationStart',animationend:'onAnimationEnd',translate:'onTranslate',scope:'this'}},elementWidth:0,pressingCls:'x-pressing',fillCls:'x-fill-el',sizerCls:'x-thumb-sizer',constructor:function(a){this.sizerElement=Ext.Element.create({cls:this.sizerCls});Ext.Component.prototype.constructor.call(this,a)},initialize:function(){var a=this,b;Ext.Component.prototype.initialize.call(this);a.el.addClsOnClick(a.pressingCls,a.shouldAddPressingCls,a);b=a.fillElement=Ext.Element.create({cls:a.fillCls});b.setVisibilityMode(1)},updateFillTrack:function(b){var a=this.fillElement;if(b===!1){a.hide()}else {a.show();a.setStyle('background-color',typeof b==='string'?b:'')}},updateFillCls:function(b,a){this.fillElement.replaceCls(a,b)},shouldAddPressingCls:function(){return !this.isDisabled()},initDragConstraints:function(){if(this.isDisabled()){return !1}this.getSlider().refreshAllThumbConstraints()},onAnimationStart:function(c,a,b){this.getSlider().onThumbAnimationStart(this,a,b)},onAnimationEnd:function(c,a,b){if(!this.destroyed){this.getSlider().onThumbAnimationEnd(this,a,b)}},onBeforeDragStart:function(d,c,b){var a;if(this.isDisabled()){return !1}a=c.proxy.current;this.getSlider().onThumbBeforeDragStart(this,b,a.x,a.y)},onDragStart:function(d,c,b){var a=c.proxy.current;this.getSlider().onThumbDragStart(this,b,a.x,a.y)},onDragMove:function(d,c,b){var a;if(this.isDisabled()){return !1}a=c.proxy.current;this.getSlider().onThumbDragMove(this,b,a.x,a.y)},onDragEnd:function(d,c,b){var a;if(this.isDisabled()){return !1}a=c.proxy.current;this.getSlider().onThumbDragEnd(this,b,a.x,a.y)},onTranslate:function(c,a,b){if(this.initialized){this.getSlider().syncFill(this,a,b)}},onResize:function(d,c){var a=this,b=a.ownerCmp;a.elementWidth=d;a.elementHeight=c;if(b&&b.thumbs&&b.thumbs[0]===a){b.onThumbResize(a,d,c)}},getElementWidth:function(){return this.elementWidth},updateUi:function(b,a){var e=this,d=e.sizerCls,c=e.sizerElement;if(a){c.removeCls(a,d)}if(b){c.addCls(b,d)}Ext.Component.prototype.updateUi.call(this,b,a)},updateDragMax:function(d){var a=this.getDraggable().getConstrain(),b=a.getX(),c=a.getY(),e=this.getSlider().getVertical();if(e){a.setY([c&&c[0],d])}else {a.setX([b&&b[0],d])}},updateDragMin:function(d){var a=this.getDraggable().getConstrain(),b=a.getX(),c=a.getY(),e=this.getSlider().getVertical();if(e){a.setY([d,c&&c[1]])}else {a.setX([d,b&&b[1]])}},updateVertical:function(a){var b=this.getDraggable();b.setConstrain({vertical:a,horizontal:!a})},destroy:function(){Ext.destroyMembers(this,'fillElement','sizerElement');Ext.Component.prototype.destroy.call(this)}},1,['thumb'],['widget','component','thumb'],{'widget':!0,'component':!0,'thumb':!0},['widget.thumb'],0,[Ext.slider,'Thumb'],0);Ext.cmd.derive('Ext.slider.Slider',Ext.Component,{cachedConfig:{vertical:!1},config:{thumbDefaults:{xtype:'thumb',inheritUi:!0,translatable:{easingX:{duration:300,type:'ease-out'},easingY:{duration:300,type:'ease-out'}}},increment:1,value:0,valueIsArray:!1,minValue:0,maxValue:100,allowThumbsOverlapping:!1,animation:!0,readOnly:!1},defaultBindProperty:'value',twoWayBindable:{value:1},classCls:'x-slider',verticalCls:'x-slider-vertical',elementWidth:0,offsetValueRatio:0,activeThumb:null,isThumbAnimating:0,template:[{reference:'trackElement',cls:'x-track-el'},{reference:'thumbWrapElement',cls:'x-thumb-wrap-el'}],fillSelector:'.x-fill-el',constructor:function(a){if(a&&a.hasOwnProperty('values')){a=Ext.apply({value:a.values},a);delete a.values}this.thumbs=[];Ext.Component.prototype.constructor.call(this,a)},initialize:function(){Ext.Component.prototype.initialize.call(this);this.element.on('tap','onTap',this)},onRender:function(){(arguments.callee.$previous||Ext.Component.prototype.onRender).call(this);this.whenVisible('refreshSizes')},applyThumbDefaults:function(a){return Ext.apply({slider:this,ownerCmp:this},a)},factoryThumb:function(){var a=Ext.create(this.getThumbDefaults());a.doInheritUi();return a},getThumbs:function(){return this.thumbs},getThumb:function(a){if(typeof a!=='number'){a=0}return this.thumbs[a]},refreshOffsetValueRatio:function(){var a=this,e=a.getVertical(),b=a.getMaxValue()-a.getMinValue(),d=a.elementWidth-a.thumbWidth,c=a.elementHeight-a.thumbHeight;a.offsetValueRatio=b===0?0:(e?c:d)/b},onThumbResize:function(c,b,a){this.thumbWidth=b;this.thumbHeight=a;this.refresh()},onResize:function(b,a){this.elementWidth=b;this.elementHeight=a;this.refresh()},refresh:function(){this.refreshing=!0;this.refreshValue();this.refreshing=!1},setActiveThumb:function(b){var a=this.activeThumb;if(a&&a!==b){a.setZIndex(null)}this.activeThumb=b;b.setZIndex(2);return this},onThumbBeforeDragStart:function(b,a){if(this.offsetValueRatio===0||a.absDeltaX<=a.absDeltaY||this.getReadOnly()){return !1}},onThumbDragStart:function(b,c){var a=this;if(a.getAllowThumbsOverlapping()){a.setActiveThumb(b)}a.dragStartValue=a.getArrayValues()[a.getThumbIndex(b)];a.fireEvent('dragstart',a,b,a.dragStartValue,c)},onThumbDragMove:function(b,c,g,h){var a=this,i=a.getThumbIndex(b),f=a.getVertical(),e=a.offsetValueRatio,d=a.constrainValue(a.getMinValue()+(f?h:g)/e);c.stopPropagation();a.setIndexValue(i,d);a.fireEvent('drag',a,b,a.getArrayValues(),c);return !1},setIndexValue:function(f,j,i){var a=this,g=a.thumbs[f],e=a.getArrayValues(),d=a.getMinValue(),b=a.offsetValueRatio,c=a.getIncrement(),h=(j-d)*b;g.setXY(h,null,i);e[f]=d+Math.round(h/b/c)*c;a.setValue(e);a.refreshAdjacentThumbConstraints(g)},onChange:function(d,b,c){var a=this;if(a.hasListeners.change){a.fireEvent('change',a,d,b,c)}},onThumbDragEnd:function(b,f){var a=this,e=a.getThumbIndex(b),c=a.getArrayValues()[e],d=a.dragStartValue;a.snapThumbPosition(b,c);a.fireEvent('dragend',a,b,a.getArrayValues(),f);if(d!==c){a.onChange(b,c,d)}},getThumbIndex:function(a){return this.thumbs.indexOf(a)},refreshAdjacentThumbConstraints:function(b){var a=this,g=a.getVertical(),h=b.getLeft(),i=b.getTop(),j=a.thumbs,k=a.getThumbIndex(b),c=j[k-1],f=j[k+1],e=a.getAllowThumbsOverlapping()?0:a.thumbWidth,d=a.getAllowThumbsOverlapping()?0:a.thumbHeight;if(c){c.setDragMax(g?i-d:h-e)}if(f){f.setDragMin(g?i+d:h+e)}},onTap:function(j){var a=this,t=a.getVertical(),q=a.element,k=Infinity,d,g,n,b,h,s,i,e,c,r,o,f,l,m,p;if(a.offsetValueRatio===0||a.isDisabled()||a.getReadOnly()){return}f=Ext.get(j.target);if(!f||Ext.browser.engineName==='WebKit'&&f.hasCls('x-thumb')){return}l=j.touch.point.x;m=j.touch.point.y;o=q.getX();p=q.getY();r=t?m-p-a.thumbHeight/2:l-o-a.thumbWidth/2;c=a.constrainValue(a.getMinValue()+r/a.offsetValueRatio);e=a.getArrayValues();i=e.length;if(i===1){b=0}else {for(d=0;d<i;d++){n=e[d];g=Math.abs(n-c);if(g<k){k=g;b=d}}}h=e[b];s=a.thumbs[b];a.setIndexValue(b,c,a.getAnimation());if(h!==c){a.onChange(s,c,h)}},updateThumbs:function(a){this.add(a)},applyValue:function(j,g){var c=this,f=Ext.Array.from(j||0),i=c.getValueIsArray(),a=[],e=c.getMinValue(),b,d,h;for(d=0,h=f.length;d<h;d++){b=c.constrainValue(f[d]);if(b<e){b=e}a.push(b);e=b}if(!c.refreshing&&g&&Ext.Array.equals(f,g)){a=undefined}else {c.values=a;if(!i&&a.length===1){a=a[0]}}return a},updateValue:function(){var b=this,e=b.thumbs,c=b.getArrayValues(),d=c.length,a;b.setThumbsCount(d);if(!this.isThumbAnimating){for(a=0;a<d;a++){b.snapThumbPosition(e[a],c[a])}}},refreshValue:function(){this.refreshOffsetValueRatio();this.updateValue()},constrainValue:function(a){var e=this,d=e.getMinValue(),f=e.getMaxValue(),b=e.getIncrement(),c;a=parseFloat(a);if(isNaN(a)){a=d}c=(a-d)%b;a-=c;if(Math.abs(c)>=b/2){a+=c>0?b:-b}a=Math.max(d,a);a=Math.min(f,a);return a},setThumbsCount:function(c){var d=this,b=d.thumbs,f=b.length,e,a;while(c<b.length){a=b.pop();a.destroy()}while(c>b.length){a=d.factoryThumb();b.push(a);d.trackElement.appendChild(a.fillElement);d.thumbWrapElement.appendChild(a.element);d.element.appendChild(a.sizerElement)}if(f!==c){for(e=0;e<c;e++){a=b[e];if(c>2){a.setFillTrack(!1)}else if(c===2){a.setFillTrack(e===1)}else {a.setFillTrack(!0)}}}return this},setValues:function(a){this.setValue(a)},getValues:function(){return this.getValue()},getArrayValues:function(){return this.values},applyIncrement:function(a){if(a===0){a=1}return Math.abs(a)},updateAllowThumbsOverlapping:function(b,a){if(typeof a!=='undefined'){this.refreshValue()}},updateMinValue:function(b,a){if(typeof a!=='undefined'){this.refreshValue()}},updateMaxValue:function(b,a){if(typeof a!=='undefined'){this.refreshValue()}},updateIncrement:function(b,a){if(typeof a!=='undefined'){this.refreshValue()}},updateDisabled:function(d){var b,c,a;Ext.Component.prototype.updateDisabled.apply(this,arguments);b=this.thumbs;c=b.length;for(a=0;a<c;a++){b[a].setDisabled(d)}},updateVertical:function(c){var a=this,e=a.thumbs,d=0,b;a.toggleCls(a.verticalCls,c);if(a.initialized){for(;d<e.length;d++){b=e[d];b.setDragMin(null);b.setDragMax(null);b.updateVertical(c)}a.refresh();a.fireEvent('directionChange',a,c)}},doDestroy:function(){this.thumbs=Ext.destroy(this.thumbs);Ext.Component.prototype.doDestroy.call(this)},getRefItems:function(a){return this.thumbs},privates:{refreshAllThumbConstraints:function(){var a=this,g=a.getVertical(),b=a.thumbs,d=b.length,f=a.getAllowThumbsOverlapping()?0:a.thumbWidth,e=a.getAllowThumbsOverlapping()?0:a.thumbHeight,c;for(c=0;c<d;c++){a.refreshAdjacentThumbConstraints(b[c])}b[0].setDragMin(0);b[d-1].setDragMax(g?a.elementHeight-e:a.elementWidth-f)},refreshSizes:function(){var a=this,b=a.thumbs[0];a.elementWidth=a.element.measure('w');a.elementHeight=a.element.measure('h');if(b){a.thumbWidth=b.element.measure('w');a.thumbHeight=b.element.measure('h')}a.refresh()},snapThumbPosition:function(d,f){var b=this,e=b.getVertical(),c=b.offsetValueRatio,a;if(isFinite(c)){a=Ext.Number.correctFloat((f-b.getMinValue())*c);if(e){d.setXY(0,a)}else {d.setXY(a,0)}}},syncFill:function(b,i,j){var f=this,k=f.thumbs,m=f.getArrayValues(),n=m.length,e=0,l=f.trackElement.query(f.fillSelector,!1),g=k.indexOf(b),h=f.getVertical(),d,a,c;if(h){j+=Math.ceil(b.element.getHeight()/2)}else {i+=Math.ceil(b.element.getWidth()/2)}for(c=0;c<n;c++){b=k[c];a=l[c];if(h){d=c===g?j:b.getTop()+b.element.getHeight()/2;a.setHeight(d-e);a.setLocalY(e);a.setLocalX(0);a.setWidth(null)}else {d=c===g?i:b.getLeft()+b.element.getWidth()/2;a.setWidth(d-e);a.setLocalX(e);a.setLocalY(0);a.setHeight(null)}e=d}},onThumbAnimationStart:function(){this.isThumbAnimating++},onThumbAnimationEnd:function(){this.isThumbAnimating--}}},1,['slider'],['widget','component','slider'],{'widget':!0,'component':!0,'slider':!0},['widget.slider'],0,[Ext.slider,'Slider'],0);Ext.cmd.derive('Ext.field.Slider',Ext.field.Field,{alternateClassName:'Ext.form.Slider',config:{slider:{xtype:'slider',inheritUi:!0},liveUpdate:!1,tabIndex:-1,readOnly:!1,value:0},classCls:'x-sliderfield',proxyConfig:{slider:['increment','minValue','maxValue','vertical']},bodyAlign:'stretch',defaultBindProperty:'value',twoWayBindable:{values:1,value:1},constructor:function(a){a=a||{};if(a.hasOwnProperty('values')){a.value=a.values}Ext.field.Field.prototype.constructor.call(this,a);this.updateMultipleState()},initialize:function(){Ext.field.Field.prototype.initialize.call(this);this.getSlider().on({scope:this,change:'onSliderChange',dragstart:'onSliderDragStart',drag:'onSliderDrag',dragend:'onSliderDragEnd'})},getBodyTemplate:function(){return this.mixins.boxLabelable.getBodyTemplate.call(this)},applySlider:function(a){if(a&&!a.isInstance){a=this.mergeProxiedConfigs('slider',a);a.$initParent=this;a=Ext.create(a);delete a.$initParent}this.boxElement.appendChild(a.el);a.ownerCmp=this;return a},updateSlider:function(a){a.doInheritUi()},getValue:function(){return this._value},applyValue:function(a,b){a=Ext.field.Field.prototype.applyValue.call(this,a,b)||0;if(this.dragging&&this.isSyncing('value')){a=undefined}else if(Ext.isArray(a)){a=a.slice(0);if(b&&Ext.Array.equals(a,b)){a=undefined}}else {a=[a]}return a},updateValue:function(a,b){if(!this.dragging){a=this.setSliderValue(a)}Ext.field.Field.prototype.updateValue.call(this,a,b)},setSliderValue:function(a){return this.getSlider().setValue(a).getValue()},onSliderChange:function(a,d,b,c){this.setValue(a.getValue());this.fireEvent('dragchange',this,a,d,b,c)},onSliderDragStart:function(b,c,a,d){this.dragging=!0;this.fireEvent('dragstart',this,b,c,a,d)},onSliderDrag:function(b,c,d,e){var a=this;if(a.getLiveUpdate()){a.setValue(b.getValue())}a.fireEvent('drag',a,b,c,d,e)},onSliderDragEnd:function(b,c,a,d){this.dragging=!1;this.fireEvent('dragend',this,b,c,a,d)},setValues:function(a){this.setValue(a);this.updateMultipleState()},getValues:function(){return this.getValue()},reset:function(){var a=this.config,b=this.config.hasOwnProperty('values')?a.values:a.value;this.setValue(b)},updateReadOnly:function(a){this.getSlider().setReadOnly(a)},updateMultipleState:function(){var a=this.getValue();if(a&&a.length>1){this.addCls('x-slider-multiple')}},updateDisabled:function(a,b){Ext.field.Field.prototype.updateDisabled.call(this,a,b);this.getSlider().setDisabled(a)},doDestroy:function(){this.getSlider().destroy();Ext.field.Field.prototype.doDestroy.call(this)},getRefItems:function(c){var a=[],b=this.getSlider();if(b){a.push(b);if(c&&b.getRefItems){a.push.apply(a,b.getRefItems(c))}}return a},rawToValue:Ext.emptyFn},1,['sliderfield'],['widget','component','field','sliderfield'],{'widget':!0,'component':!0,'field':!0,'sliderfield':!0},['widget.sliderfield'],[[Ext.mixin.ConfigProxy.prototype.mixinId||Ext.mixin.ConfigProxy.$className,Ext.mixin.ConfigProxy],[Ext.field.BoxLabelable.prototype.mixinId||Ext.field.BoxLabelable.$className,Ext.field.BoxLabelable]],[Ext.field,'Slider',Ext.form,'Slider'],0);Ext.cmd.derive('Ext.field.SingleSlider',Ext.field.Slider,{twoWayBindable:{value:1},defaultBindProperty:'value',publishes:{value:1},applyValue:function(a,b){a=Ext.field.Slider.prototype.applyValue.call(this,a,b);if(a&&Ext.isArray(a)){a=a[0]}return a},getValue:function(){var a=(arguments.callee.$previous||Ext.field.Slider.prototype.getValue).call(this);if(a&&Ext.isArray(a)){a=a[0]}return a},onSliderChange:function(c,d,a,b){this.setValue(a);this.fireEvent('dragchange',this,c,a,b)},onSliderDragStart:function(b,d,a,c){this.fireEvent('dragstart',this,b,a,c)},onSliderDrag:function(c,e,b,d){var a=this;if(a.getLiveUpdate()){a.setValue(b)}a.fireEvent('drag',a,c,b,d)},onSliderDragEnd:function(b,d,a,c){this.fireEvent('dragend',this,b,a,c)}},0,['singlesliderfield'],['widget','component','field','sliderfield','singlesliderfield'],{'widget':!0,'component':!0,'field':!0,'sliderfield':!0,'singlesliderfield':!0},['widget.singlesliderfield'],0,[Ext.field,'SingleSlider'],0);Ext.cmd.derive('Ext.field.trigger.SpinDown',Ext.field.trigger.Trigger,{classCls:'x-spindowntrigger',handler:'onSpinDown',scope:'this',focusOnTap:!1},0,['spindowntrigger'],['widget','trigger','spindowntrigger'],{'widget':!0,'trigger':!0,'spindowntrigger':!0},['trigger.spindown','widget.spindowntrigger'],0,[Ext.field.trigger,'SpinDown'],0);Ext.cmd.derive('Ext.field.trigger.SpinUp',Ext.field.trigger.Trigger,{classCls:'x-spinuptrigger',handler:'onSpinUp',scope:'this',focusOnTap:!1},0,['spinuptrigger'],['widget','trigger','spinuptrigger'],{'widget':!0,'trigger':!0,'spinuptrigger':!0},['trigger.spinup','widget.spinuptrigger'],0,[Ext.field.trigger,'SpinUp'],0);Ext.cmd.derive('Ext.field.Spinner',Ext.field.Number,{alternateClassName:'Ext.form.Spinner',config:{stepValue:1,accelerateOnTapHold:!0,cycle:!1,clearable:!1,groupButtons:!0},triggers:{spindown:{type:'spindown',group:'spin',repeat:!0},spinup:{type:'spinup',group:'spin',repeat:!0}},value:0,decimals:0,classCls:'x-spinnerfield',groupedButtonsCls:'x-grouped-buttons',initElement:function(){Ext.field.Number.prototype.initElement.call(this);this.inputElement.dom.readOnly=!0},updateGroupButtons:function(a){var b=this.getTriggers().spindown;b.setGroup(a?'spin':null);b.setSide(a?null:'left')},applyTriggers:function(a,g){var c=this.getAccelerateOnTapHold(),e,b,f,d;if(a&&c){e=a.spinup;b=a.spindown;f=e.repeat;if(f){e.repeat=Ext.apply({accelerate:c},f)}d=b.repeat;if(d){b.repeat=Ext.apply({accelerate:c},d)}}return Ext.field.Number.prototype.applyTriggers.call(this,a,g)},onKeyDown:function(a){var b;if(this.getInputType()!=='number'){switch(a.getKey()){case a.UP:a.stopEvent();this.spin(!1);break;case a.DOWN:a.stopEvent();this.spin(!0);break;case a.HOME:b=this.getMinValue();if(b!=null){a.stopEvent();this.setValue(b)};break;case a.END:b=this.getMaxValue();if(b!=null){a.stopEvent();this.setValue(b)};break;}}Ext.field.Number.prototype.onKeyDown.call(this,a)},onSpinDown:function(){if(!this.getDisabled()&&!this.getReadOnly()){this.spin(!0)}},onSpinUp:function(){if(!this.getDisabled()&&!this.getReadOnly()){this.spin(!1)}},spin:function(h){var b=this,e=b.getValue(),g=b.getStepValue(),f=h?'down':'up',d=b.getMinValue(),c=b.getMaxValue(),a;if(h){a=e-g}else {a=e+g}if(b.getCycle()){if(e===d&&a<d){a=c}if(e===c&&a>c){a=d}}else if(d!=null&&a<d){a=d}else if(c!=null&&a>c){a=c}b.spinning=!0;b.setValue(a);b.spinning=!1;a=b.getValue();b.fireEvent('spin',b,a,f);b.fireEvent('spin'+f,b,a)},rawToValue:Ext.emptyFn,privates:{spinning:!1,canSetInputValue:function(){return this.spinning||Ext.field.Number.prototype.canSetInputValue.call(this)}}},0,['spinnerfield'],['widget','component','field','inputfield','textfield','numberfield','spinnerfield'],{'widget':!0,'component':!0,'field':!0,'inputfield':!0,'textfield':!0,'numberfield':!0,'spinnerfield':!0},['widget.spinnerfield'],0,[Ext.field,'Spinner',Ext.form,'Spinner'],0);Ext.cmd.derive('Ext.slider.Toggle',Ext.slider.Slider,{config:{onThumbUi:'toggle-on',offThumbUi:'toggle-off'},value:0,classCls:'x-toggleslider',minValueCls:'x-off',maxValueCls:'x-on',applyMinValue:function(){return 0},applyMaxValue:function(){return 1},applyIncrement:function(){return 1},updateMinValueCls:function(c,a){var b=this.element;if(a&&b.hasCls(a)){b.replaceCls(a,c)}},updateMaxValueCls:function(c,a){var b=this.element;if(a&&b.hasCls(a)){b.replaceCls(a,c)}},setIndexValue:function(c,f,e){var b=this.getValue()[c],d,a;Ext.slider.Slider.prototype.setIndexValue.apply(this,arguments);d=this.thumbs[c];a=this.getValue();if(b!==a){this.fireEvent('change',this,d,a,b)}},onChange:function(h,c,g){var a=this,b=c>0,f=a.maxValueCls,e=a.minValueCls,d=a.element;d.addCls(b?f:e);d.removeCls(b?e:f);a.thumbs[0].setUi(b?a.getOnThumbUi():a.getOffThumbUi());Ext.slider.Slider.prototype.onChange.call(this,h,c,g)},toggle:function(){var a=this.getValue();this.setValue(a===1?0:1);return this},onTap:function(){var b,a,c;if(this.isDisabled()||this.getReadOnly()){return}b=this.getValue();a=b===1?0:1;c=this.thumbs[0];this.setIndexValue(0,a,this.getAnimation());this.refreshAdjacentThumbConstraints(c)},privates:{syncFill:function(){var a=this,b=a.trackElement.down(a.fillSelector),c=a.getArrayValues();if(c&&c[0]===1){b.show()}else {b.hide()}}}},0,['toggleslider'],['widget','component','slider','toggleslider'],{'widget':!0,'component':!0,'slider':!0,'toggleslider':!0},['widget.toggleslider'],0,[Ext.slider,'Toggle'],0);Ext.cmd.derive('Ext.field.Toggle',Ext.field.SingleSlider,{alternateClassName:'Ext.form.Toggle',twoWayBindable:{value:1},publishes:{value:1},config:{slider:{xtype:'toggleslider'},activeLabel:null,inactiveLabel:null,value:!1},bodyAlign:'start',classCls:'x-togglefield',updateActiveLabel:function(a,b){this.getSlider().element.dom.setAttribute('data-activelabel',a)},updateInactiveLabel:function(a,b){this.getSlider().element.dom.setAttribute('data-inactivelabel',a)},applyValue:function(a,b){a=Ext.field.SingleSlider.prototype.applyValue.call(this,a,b);if(typeof a!=='boolean'){a=a!==0}return a},updateValue:function(d,e){var a=this,c=a.getActiveLabel(),b=a.getInactiveLabel();if(c||b){a.setLabel(d?c:b)}Ext.field.SingleSlider.prototype.updateValue.call(this,d,e)},setSliderValue:function(a){this.getSlider().setValue(a?1:0);return !!a},toggle:function(){this.setValue(!this.getValue());return this},getRawValue:function(){return this.getValue()},rawToValue:Ext.emptyFn},0,['togglefield'],['widget','component','field','sliderfield','singlesliderfield','togglefield'],{'widget':!0,'component':!0,'field':!0,'sliderfield':!0,'singlesliderfield':!0,'togglefield':!0},['widget.togglefield'],0,[Ext.field,'Toggle',Ext.form,'Toggle'],0);Ext.define('Ext.theme.material.field.Toggle',{override:'Ext.field.Toggle',config:{ripple:{delegate:'.x-thumb',bound:!1,fit:!1,color:'default'}}});Ext.cmd.derive('Ext.field.trigger.Component',Ext.field.trigger.Base,{classCls:'x-componenttrigger',config:{component:null},doDestroy:function(){this.setComponent(null);Ext.field.trigger.Base.prototype.doDestroy.call(this)},applyComponent:function(b,a){return Ext.updateWidget(a,b,this,'createComponent')},createComponent:function(a){return Ext.apply({$initParent:this,ownerCmp:this},a)},updateComponent:function(a){if(a){delete a.$initParent;a.ownerCmp=this;this.el.appendChild(a.el)}},updateDisabled:function(a,b){Ext.field.trigger.Base.prototype.updateDisabled.call(this,a,b);this.getComponent().setDisabled(a)},getRefItems:function(c){var b=[],a=this.getComponent();if(a){b.push(a);if(c&&a.getRefItems){b.push.apply(b,a.getRefItems(c))}}return b}},0,0,['widget'],{'widget':!0},['trigger.component'],0,[Ext.field.trigger,'Component'],0);Ext.cmd.derive('Ext.field.trigger.File',Ext.field.trigger.Component,{classCls:'x-filetrigger',component:{xtype:'filebutton'},disableOnReadOnly:!1},0,0,['widget'],{'widget':!0},['trigger.file'],0,[Ext.field.trigger,'File'],0);Ext.cmd.derive('Ext.form.FieldSet',Ext.Container,{config:{title:null,instructions:null},autoSize:null,baseCls:'x-form-fieldset',applyTitle:function(a){if(typeof a==='string'){a={title:a}}Ext.applyIf(a,{docked:'top',cls:this.baseCls+'-title'});return Ext.factory(a,Ext.Title,this._title)},updateTitle:function(a,b){if(a){this.add(a)}if(b){this.remove(b)}},getTitle:function(){var a=this._title;if(a&&a instanceof Ext.Title){return a.getTitle()}return a},applyInstructions:function(a){if(typeof a==='string'){a={title:a}}Ext.applyIf(a,{docked:'bottom',cls:this.baseCls+'-instructions'});return Ext.factory(a,Ext.Title,this._instructions)},updateInstructions:function(a,b){if(a){this.add(a)}if(b){this.remove(b)}},getInstructions:function(){var a=this._instructions;if(a&&a instanceof Ext.Title){return a.getTitle()}return a},updateDisabled:function(a){this.query('field').forEach(function(b){b.setDisabled(a)});return this}},0,['fieldset'],['widget','component','container','fieldset'],{'widget':!0,'component':!0,'container':!0,'fieldset':!0},['widget.fieldset'],[[Ext.form.Borders.prototype.mixinId||Ext.form.Borders.$className,Ext.form.Borders],[Ext.mixin.FieldDefaults.prototype.mixinId||Ext.mixin.FieldDefaults.$className,Ext.mixin.FieldDefaults]],[Ext.form,'FieldSet'],0);Ext.cmd.derive('Ext.form.Panel',Ext.field.Panel,{isFormPanel:!0,alternateClassName:'Ext.form.FormPanel',classCls:'x-formpanel',element:{reference:'element',tag:'form',novalidate:'novalidate'},config:{enableSubmissionForm:!0,enctype:null,method:'post',multipartDetection:!0,standardSubmit:!1,submitOnAction:!1,trackResetOnLoad:!1},getTemplate:function(){var a=Ext.field.Panel.prototype.getTemplate.call(this);a.push({tag:'input',type:'submit',cls:'x-hidden-submit'});return a},initialize:function(){Ext.field.Panel.prototype.initialize.call(this);this.element.on('submit','onSubmit',this)},applyEnctype:function(b){var a=this.element.dom||null;if(a){if(b){a.setAttribute('enctype',b)}else {a.setAttribute('enctype')}}},onSubmit:function(a){var b=this;if(a&&!b.getStandardSubmit()){a.stopEvent()}else {this.submit(null,a)}},updateSubmitOnAction:function(a){this[a?'on':'un']({action:'onFieldAction',scope:this})},onFieldAction:function(a){if(this.getSubmitOnAction()){a.blur();this.submit()}},submit:function(b,e){var a=this,d,c;b=b||{};d=a.getSubmitValues({enabled:a.getStandardSubmit()||!b.submitDisabled});c=a.element.dom||{};if(this.getEnableSubmissionForm()){c=this.createSubmissionForm(c,d)}b=Ext.apply({url:a.getUrl()||c.action,submit:!1,form:c,method:a.getMethod()||c.method||'post',autoAbort:!1,params:null,waitMsg:null,headers:null,success:null,failure:null},b||{});return a.fireAction('beforesubmit',[a,d,b,e],'doBeforeSubmit',null,null,'after')},privates:{applyExtraParams:function(c){var e=c.form,d=Ext.merge(this.getBaseParams()||{},c.params),b,a;for(b in d){a=document.createElement('input');a.setAttribute('type','text');a.setAttribute('name',b);a.setAttribute('value',d[b]);e.appendChild(a)}},beforeAjaxSubmit:function(c,e,m,i){var b=this,n=e.url||b.getUrl(),a=Ext.merge({},{url:n,timeout:b.getTimeout()*1000,form:c,scope:b},e),h={},l=b.jsonSubmit,j='params',g='x-www-form-urlencoded; charset=UTF-8',k,d,f;delete a.success;delete a.failure;if(l){j='jsonData';g='json';h=b.getSubmitValues({enabled:b.getStandardSubmit()||!e.submitDisabled});delete a.params;delete a.form}a[j]=Ext.merge({},b.getBaseParams(),e.params,h);a.header=Ext.apply({'Content-Type':'application/'+g},e.headers||{});a.callback=function(l,g,a){var f=a.responseText,j=a.responseXML,h=Ext.data.request.Ajax.parseStatus(a.status,a);if(c.$fileswap){Ext.each(c.$fileswap,function(b){k=b.original;d=b.placeholder;d.parentNode.insertBefore(k,d.nextSibling);d.parentNode.removeChild(d)});c.$fileswap=null;delete c.$fileswap}b.setMasked(!1);if(a.success===!1){g=!1}if(g){if(h&&f&&f.length===0){g=!0}else {if(!Ext.isEmpty(a.responseBytes)){g=h.success}else {if(Ext.isString(f)&&a.request.options.responseType==='text'){a.success=!0}else if(Ext.isString(f)){try{a=Ext.decode(f)}catch(o){a.success=!1;a.error=o;a.message=o.message}}else if(Ext.isSimpleObject(f)){a=f;Ext.applyIf(a,{success:!0})}if(!Ext.isEmpty(j)){a.success=!0}g=!!a.success}}if(g){m(a,f)}else {i(a,f)}}else {i(a,f)}};if(Ext.feature.has.XHR2&&a.xhr2){delete a.form;f=a.data=new FormData(c);if(a.params){Ext.iterate(a.params,function(b,a){if(Ext.isArray(a)){Ext.each(a,function(d){f.append(b,d)})}else {f.append(b,a)}});delete a.params}}return Ext.Ajax.request(a)},beforeDirectSubmit:function(b,g,f,e,d){var a=this,c;a.applyExtraParams(f);b=Ext.direct.Manager.resolveApi(b,a);a.setApi(b);c=b.submit;if(!c){Ext.raise('Cannot find Ext Direct API method for submit action')}return c(g,function(c,h,i){a.setMasked(!1);if(i){if(c.success){e(h,c)}else {d(h,c)}}else {d(h,c)}},a)},beforeStandardSubmit:function(a,c){var e,d,g,f,b;if(c.url&&Ext.isEmpty(a.action)){a.action=c.url}d=this.query('spinnerfield');g=d.length;f=document.body;for(b=0;b<g;b++){e=d[b];if(!e.getDisabled()){e.setDisabled(!1)}}f.appendChild(a);a.method=(c.method||a.method).toLowerCase();a.submit();f.removeChild(a)},createSubmissionForm:function(a,h){var g=this.getFields(),e,b,d,f,c;if(a.nodeType===1){a=a.cloneNode(!1);for(e in h){b=document.createElement('input');b.setAttribute('type','text');b.setAttribute('name',e);b.setAttribute('value',h[e]);a.appendChild(b)}}for(e in g){if(g.hasOwnProperty(e)){d=g[e];if(d.isFile){f=d.getTriggers().file;c=f&&f.getComponent().buttonElement.dom;if(c){if(!a.$fileswap){a.$fileswap=[]}b=c.cloneNode(!0);c.parentNode.insertBefore(b,c.nextSibling);a.appendChild(c);a.$fileswap.push({original:c,placeholder:b})}}else if(d.isPassword){if(d.getInputType()!=='password'){d.setRevealed(!1)}}}}return a},doBeforeSubmit:function(b,k,a){var d=a.form||{},i=!1,h,j,e,g,f,c;if(this.getMultipartDetection()===!0){this.getFields(!1).forEach(function(c){if(c.isFile===!0){i=!0;return !1}});if(i){d.setAttribute('enctype','multipart/form-data')}}if(a.enctype){d.setAttribute('enctype',a.enctype)}if(b.getStandardSubmit()){e=b.beforeStandardSubmit(d,a)}else {h=b.getApi();j=a.scope||b;f=function(c,d){if(Ext.isFunction(a.failure)){a.failure.call(j,b,c,d)}b.fireEvent('exception',b,c)};g=function(c,d){if(Ext.isFunction(a.success)){a.success.call(a.scope||b,b,c,d)}b.fireEvent('submit',b,c)};c=a.waitMsg;if(a.waitMsg){if(typeof c==='string'){c={xtype:'loadmask',message:c}}b.setMasked(c)}if(h){e=b.beforeDirectSubmit(h,d,a,g,f)}else {e=b.beforeAjaxSubmit(d,a,g,f)}}return e}}},0,['formpanel'],['widget','component','container','panel','fieldpanel','formpanel'],{'widget':!0,'component':!0,'container':!0,'panel':!0,'fieldpanel':!0,'formpanel':!0},['widget.formpanel'],[[Ext.mixin.FieldDefaults.prototype.mixinId||Ext.mixin.FieldDefaults.$className,Ext.mixin.FieldDefaults]],[Ext.form,'Panel',Ext.form,'FormPanel'],0);Ext.cmd.derive('Ext.grid.CellEditor',Ext.Editor,{isCellEditor:!0,floated:!1,classCls:'x-celleditor',config:{autoPin:!0},relayedEvents:['beforestartedit','startedit','beforecomplete','complete','canceledit','specialkey'],swallowKeys:!1,layout:'fit',shadow:!1,allowBlur:!0,alignment:'tl-tl',zIndex:10,useBoundValue:!1,inheritUi:!0,field:{inheritUi:!0},constructor:function(a){var c=this,b;Ext.Editor.prototype.constructor.call(this,a);if(a.plugin){b=a.plugin.getGrid()}if(b){b.relayEvents(c,c.relayedEvents)}},beforeEdit:function(d,c){var b=this,a;a=Ext.Editor.prototype.beforeEdit.call(this,d,c);if(a!==!1){a=b.$activeLocation.beforeEdit(b)}return a},startEdit:function(b,c,i){var a=this,d,g,f,e,h;if(b){d=b.cell;g=d.el;c=c!=null?c:b.record.get(d.dataIndex);a.$activeLocation=b;a.ownerCmp=d;a.render(g);Ext.Editor.prototype.startEdit.call(this,g,c,i);if(a.editing){a.$activeRow=f=b.row;a.$activeGrid=e=f.grid;a.editingPlugin.editing=!0;a.editingPlugin.location=a.$activeLocation=h=new Ext.grid.Location(e,a.getField().getFocusEl());a.editingPlugin.activeEditor=a;e.stickItem(f,{autoPin:a.getAutoPin()})}else {a.$activeLocation=null}}return h},onFocusLeave:function(c){var a=this,d=a.$activeLocation,b=d&&d.row;if(!a.editingPlugin.getGrid().destroying){if(a.isCancelling){a.cancelEdit()}else {a.completeEdit(!1,b&&c&&b.isAncestor(c.fromComponent)&&b.isAncestor(c.toComponent))}}a.isCancelling=!1},onFocusEnter:function(a){if(this.$activeLocation){a.relatedTarget=a.fromElement=this.$activeLocation.getFocusEl('dom')}Ext.Editor.prototype.onFocusEnter.call(this,a)},getLocation:function(){return this.$activeLocation},onSpecialKey:function(b,a){var c=this;if(a.getKey()===a.ESC){c.isCancelling=!0}else {Ext.Editor.prototype.onSpecialKey.call(this,b,a)}},onEditComplete:function(g,h,c){var a=this,b=a.$activeLocation,k=a.getValue(),d,i,f,e,j;Ext.Editor.prototype.onEditComplete.call(this,g,h,c);if(b){c=c||g;e=b.row.grid;if(!h&&k!==a.startValue){d=b.record;i=b.cell.dataIndex;if(d){d.set(i,k);if(c){e.ensureVisible(b.record)}b.refresh()}}if(!c){f=b.row;j=!!f.$sticky;if(j){e.stickItem(f,null)}a.$stickyVisibility=a.$activeLocation=a.$activeRow=a.$activeGrid=null;a.editingPlugin.editing=!1;a.editingPlugin.location=a.editingPlugin.activeEditor=null}}},realign:Ext.emptyFn,toggleBoundEl:function(d){var b=this.$activeLocation,a,c;if(b&&this.hideEl){a=b.cell;if(a){c=a.bodyElement;c.setVisibility(d)}}}},1,['celleditor'],['widget','component','container','editor','celleditor'],{'widget':!0,'component':!0,'container':!0,'editor':!0,'celleditor':!0},['widget.celleditor'],0,[Ext.grid,'CellEditor'],0);Ext.cmd.derive('Ext.grid.Location',Ext.dataview.Location,{isGridLocation:!0,actionable:!1,cell:null,column:null,columnIndex:-1,summary:!1,row:null,rowBody:null,isTreeLocation:!1,inheritableStatics:{defineProtoProperty:function(a,b){Object.defineProperty(this.prototype,a,{get:function(){var c=this[b]();Object.defineProperty(this,a,{value:c,configurable:!0});return c}})}},attach:function(f){var b=this,g=b.view,j=g.store,h,a,k,e,c,d,i;if(f.constructor===Object){c=f.record;if(typeof c==='number'){c=j.getAt(Math.max(Math.min(c,j.getCount()-1),0))}d=f.column;if(typeof d==='number'){e=g.getVisibleColumns();d=e[Math.max(Math.min(d,e.length-1),0)]}if(!(c&&d)){if(c){d=g.getFirstVisibleColumn()}else {c=j.getAt(0)}}a=g.mapToCell(c,d);if(a){f=a.element}else {b._setColumn(d);f=c}}Ext.dataview.Location.prototype.attach.call(this,f);h=b.item;if(h&&h.isGridRow){b.row=h;b.summary=h.isSummaryRow;if(!a){a=g.mapToCell(f);if(!a){e=g.getVisibleColumns();i=e[0];if(i){a=h.getCellByColumn(i)}}}b.cell=a;if(a){b.column=k=a.getColumn();e=e||g.getVisibleColumns();b.columnIndex=e.indexOf(k);b.isTreeLocation=!!a.isTreeCell}else {b.rowBody=g.mapToRowBody(f)}}},beforeEdit:function(a){return this.fireEditEvent('beforeedit',a)},fireEditEvent:function(d,b){var a=this,c=a.view;if(b){a.editor=b}return c.fireEvent(d,c,a)},clone:function(c){var b=this,a=Ext.dataview.Location.prototype.clone.call(this),e,d,f;if(c){if(c.record!==undefined){e=c.record}if(c.column!==undefined){d=c.column}delete a.sourceElement}if(e!=null){delete b.source;b.superclass.attach.call(a,e);a.row=a.item}else {a.row=a.child=b.row;a.summary=b.summary;a.rowBody=b.rowBody}if(d!=null){a._setColumn(d)}else {a.cell=f=b.cell;a.column=b.column;a.columnIndex=b.columnIndex;b.isTreeLocation=!!(f&&f.isTreeCell)}return a},cloneForColumn:function(a){return this.clone({column:a})},equals:function(a){var b=this;if(a&&a.view===b.view&&a.isGridLocation){if(b.actionable!==a.actionable){return !1}if(b.sourceElement&&b.actionable){return a.sourceElement===b.sourceElement}if(b.recordIndex!==a.recordIndex||b.record!==a.record){return !1}return b.column===a.column}return !1},equalCell:function(a){var b=this;return a&&a.view===b.view&&a.isGridLocation&&b.recordIndex===a.recordIndex&&b.column===a.column},getFocusEl:function(c){var b=this,a;if(b.actionable){a=b.sourceElement}else {a=b.get();a=a&&!a.destroyed&&a.el.dom}return Ext.getBody().contains(a)?b.as(a,c||'el'):null},getCell:function(b){var a=this.cell,c=null;if(a){c=b==='dom'||b===!0?a.el.dom:b==='cmp'?a:a.el}return c},get:function(){return this.cell},isFirstColumn:function(){var a=this.column,b=!1;if(a){b=this.view.isFirstVisibleColumn(a)}return b},isLastColumn:function(){var a=this.column,b=!1;if(a){b=this.view.isLastVisibleColumn(a)}return b},refresh:function(){var b=this,e=b.column,c=b.columnIndex,a=b.view.getHeaderContainer().indexOfLeaf(e),d;if(a===-1){a=c===-1?0:c}d=Ext.dataview.Location.prototype.refresh.call(this);return d._setColumn(a)},next:function(c){var b=this,a;if(b.actionable){return b.navigate()}else {for(a=b.nextCell(c);a&&!a.get().el.isFocusable();a=a.nextCell(c)){}return a||b}},previous:function(c){var b=this,a;if(b.actionable){return b.navigate(!0)}else {for(a=b.previousCell(c);a&&!a.get().el.isFocusable();a=a.previousCell(c)){}return a||b}},down:function(b){var d=this,e=b&&b.column||d.column,a=d.nextItem(b),c;if(a){a._setColumn(e);c=a.get();while(a&&(!c||!c.el.isFocusable())){a=a.nextItem(b);if(a){a._setColumn(e);c=a.get()}}if(a&&!a.equals(d)){return a}}return d},up:function(b){var d=this,e=b&&b.column||d.column,a=d.previousItem(b),c;if(a){a._setColumn(e);c=a.get();while(a&&(!c||!c.el.isFocusable())){a=a.previousItem(b);if(a){a._setColumn(e);c=a.get()}}}if(a&&!a.equals(d)){return a}return d},privates:{determineActionable:function(){var a=this.sourceElement,b=this.cell,c=!1;if(a&&(!b||b.destroyed||b.element.dom!==a)){c=Ext.fly(a).isFocusable(!0)}return c},navigate:function(m){var d=this,c=d.sourceElement,j=d.view,l=j.getScrollable(),g=j.getNavigationModel().actionables,n=g&&g.length,a=d.clone(),k=d.clone(),i,o={callback:function(a){i=Ext.fly(a);if(!i.$isFocusTrap&&i.isFocusable()){h=Ext.Component.from(a);if(!h||!h.getDisabled()){e.push(a)}}},reverse:m,skipSelf:!0},e=[],f,b,h;while(a&&!b&&a.get()){e.length=0;a.get().el.visit(o);c=e[c?Ext.Array.indexOf(e,c)+1:0];if(c){b=a;b.source=b.sourceElement=c;delete b.actionable;if(a.child){l.ensureVisible(a.child.el)}l.ensureVisible(c);c.focus()}else {a=a[m?'previousCell':'nextCell']();if(a.equals(k)){return d}if(a&&n){for(f=0;!b&&f<n;f++){j.ensureVisible(a.record,{column:a.columnIndex,focus:!0});b=g[f].activateCell(a)}}}k=a}return b||d},activate:function(){var h=this,g=h.view,f=g.getScrollable(),e=g.getNavigationModel().actionables,i=e&&e.length,b=h.clone(),c,d,a;b.get().el.visit({callback:function(a){if(Ext.fly(a).isFocusable()){c=a;return !1}},skipSelf:!0});if(c){a=b;a.source=a.sourceElement=c;delete a.actionable;if(b.child){f.ensureVisible(b.child.el)}f.ensureVisible(c);c.focus()}else {for(d=0;!a&&d<i;d++){a=e[d].activateCell(b)}}return a},getFocusables:function(){var a=[],b=this.sourceElement;if(b){Ext.fly(b).visit({callback:function(b){if(Ext.fly(b).isFocusable()){a.push(b)}},skipSelf:!0})}return a},nextCell:function(d){var b=this,h=b.clone(),a=b.clone(),c=b.getVisibleColumns(),f=b.view.store.indexOf(b.row.getRecord()),e,g=!1;if(d){if(typeof d==='boolean'){g=d}else {g=d.wrap}}do{e=c.indexOf(a.column)+1;if(e===c.length||!b.child.isGridRow){if(f<b.view.store.getData().count()-1){a=b.getUpdatedLocation(c[0],f+1)}else if(g){a=b.getUpdatedLocation(c[0],0)}}else {a=b.getUpdatedLocation(c[e],f)}if(a&&a.equals(h)){break}if(!a){a=h;break}}while(a&&!a.sourceElement);return a},getVisibleColumns:function(){var f=this,d=f.view,c=d.allPartners||[d],e=c.length,a,b=[];for(a=0;a<e;a++){b=b.concat(c[a].getVisibleColumns())}return b},previousCell:function(d){var b=this,h=b.clone(),a=b.clone(),c=b.getVisibleColumns(),f=b.view.store.indexOf(b.row.getRecord()),e,g=!1;if(d){if(typeof d==='boolean'){g=d}else {g=d.wrap}}do{e=c.indexOf(a.column)-1;if(e===-1||!b.child.isGridRow){if(f>0){a=b.getUpdatedLocation(c[c.length-1],f-1)}else if(g){a=b.getUpdatedLocation(c[c.length-1],b.view.store.getData().count()-1)}}else {a=b.getUpdatedLocation(c[e],f)}if(a&&a.equals(h)){break}if(!a){a=h;break}}while(a&&!a.sourceElement);return a},getUpdatedLocation:function(b,e){var c=this,d=b.getGrid(),f=c.view.store.getData().getAt(e),a=d.createLocation(f);a.column=b;a.columnIndex=d.getVisibleColumns().indexOf(b);a.cell=a.row&&a.row.getCellByColumn(b);if(a.cell){delete c.event;delete c.actionable;a.isTreeLocation=!!a.cell.isTreeCell;a.sourceElement=a.cell.el.dom;return a}else {return null}},_setColumn:function(b){var a=this,d=a.view.getVisibleColumns(),c;if(typeof b==='number'){c=b;b=d[c]}else {c=d.indexOf(b)}delete a.event;delete a.actionable;a.column=b;a.columnIndex=c;a.cell=a.row&&a.row.getCellByColumn(b);if(a.cell){a.isTreeLocation=!!a.cell.isTreeCell;a.sourceElement=a.cell.el.dom}return a}}},0,0,0,0,0,0,[Ext.grid,'Location'],function(a){a.defineProtoProperty('actionable','determineActionable')});Ext.cmd.derive('Ext.grid.NavigationModel',Ext.dataview.NavigationModel,{locationClass:'Ext.grid.Location',statics:{ignoreInputFieldKeys:{PAGE_UP:!0,PAGE_DOWN:!0,END:!0,HOME:!0,LEFT:!0,UP:!0,RIGHT:!0,DOWN:!0}},setLocation:function(a,b){var c=this,e=c.getView(),d=b&&b.event;c.columnIndex=-1;if(a!=null&&!a.isGridLocation){if(Ext.isArray(a)){a={column:a[0],record:a[1]}}else if(typeof a==='number'){a=e.store.getAt(a)}a=c.createLocation(a);if(d){a.event=d}}return Ext.dataview.NavigationModel.prototype.setLocation.call(this,a,b)},clearLocation:function(){var a=this,b;if(a.location){a.previousLocation=a.location;b=a.location.sourceElement;if(b){Ext.fly(b).removeCls(a.focusedCls)}a.location=null}},registerActionable:function(a){var b=this,f=b.getView(),e=b.actionables||(b.actionables=[]),c,d;if(!Ext.Array.contains(e,a)){e.push(a);c=a.getTriggerEvent();if(c){d={scope:b,args:[a]};d[c]='triggerActionable';a.triggerEventListener=f.bodyElement.on(d)}}},unregisterActionable:function(b){var a=this.actionables;if(a){Ext.Array.remove(a,b)}},privates:{onFocusMove:function(c){var a=this,d=a.getView(),b=a.getLocation();if(c.toElement===d.el.dom&&b){a.clearLocation();return a.setLocation(b)}b=a.createLocation(c);if(!b.equals(a.location)){a.handleLocationChange(b,{event:c,navigate:!1})}},processViewEvent:function(a){var d=this,c=d.getView(),b=c.mapToCell(a);if(Ext.fly(a.target).isInputField()&&d.self.ignoreInputFieldKeys[a.getKeyName()]){return !1}if(b&&b.row.grid===c){return a}},activateCell:function(a){a.clone().activate()},triggerActionable:function(b,c){var a=this.createLocation(c);a=a.cell&&b.activateCell(a);if(a){this.setLocation(a)}},onChildTouchStart:function(c,a){var b=a.event;if(a.header||a.footer){b.preventDefault()}else {if(this.location&&!this.location.equalCell(a)){this.setLocation(a,{event:a.event,navigate:this.getView().getTriggerEvent()==='childtouchstart'})}}},onKeyUp:function(a){a.preventDefault();if(!this.location.actionable){if(this.location){this.moveUp(a)}else {this.setLocation(0)}}},onKeyDown:function(a){a.preventDefault();if(!this.location.actionable){if(this.location){this.moveDown(a)}else {this.setLocation(0)}}},onKeyLeft:function(b){var a=this.location,c=a.isLastColumn()&&a.isFirstColumn();if(!a.actionable){b.preventDefault();if(a.isTreeLocation&&!a.record.isLeaf()&&a.record.isExpanded()){if(c===!b.ctrlKey){return a.cell.collapse()}}if(!(b.shiftKey&&a.isFirstColumn())){this.movePrevious({event:b})}}else if(Ext.fly(b.target).isInputField()){return !0}},onKeyRight:function(b){var a=this.location,c=a.isLastColumn()&&a.isFirstColumn();if(!a.actionable){b.preventDefault();if(a.isTreeLocation&&!a.record.isLeaf()&&!a.record.isExpanded()){if(c===!b.ctrlKey){return a.cell.expand()}}if(!(b.shiftKey&&a.isLastColumn())){this.moveNext({event:b})}}else if(Ext.fly(b.target).isInputField()){return !0}},onKeyF2:function(a){if(this.location.actionable){this.onKeyEsc()}else {this.activateCell(this.location)}},onKeyEsc:function(a){if(this.location.actionable){this.location.get().el.focus()}},onKeyTab:function(d){var c=this,a=c.location,b;if(a.actionable){b=function(){c.location=d.shiftKey?a.previous():a.next()};b()}else {return !0}},onKeyPageDown:function(d){var c=this,b,e,a;d.preventDefault();if(!c.location.actionable){b=c.getView();e=(b.infinite?b.getItemTop(c.location.child):c.location.child.el.dom.offsetTop)+b.getVisibleHeight();a=b.getRecordIndexFromPoint(0,e);b.ensureVisible(a).then(function(){a=new Ext.grid.Location(b,{record:a,column:c.location.column});if(!(a.sourceElement&&Ext.fly(a.sourceElement).isFocusable())){a=a.up()}c.setLocation(a,{event:d})})}},onKeyPageUp:function(d){var c=this,b,e,a;d.preventDefault();if(!c.location.actionable){b=c.getView();e=(b.infinite?b.getItemTop(c.location.child):c.location.child.el.dom.offsetTop)-b.getVisibleHeight();a=b.getRecordIndexFromPoint(0,e);b.ensureVisible(a).then(function(){a=new Ext.grid.Location(b,{record:a,column:c.location.column});if(!(a.sourceElement&&Ext.fly(a.sourceElement).isFocusable())){a=a.down()}c.setLocation(a,{event:d})})}},onKeyHome:function(a){a.preventDefault();if(!this.location.actionable){if(a.ctrlKey){this.setLocation({record:this.getView().getStore().first(),column:this.location.column},{event:a})}else {this.setLocation({record:this.location.record,column:this.getView().getFirstVisibleColumn()},{event:a})}}},onKeyEnd:function(a){a.preventDefault();if(!this.location.actionable){if(a.ctrlKey){this.setLocation({record:this.getView().getStore().last(),column:this.location.column},{event:a})}else {this.setLocation({record:this.location.record,column:this.getView().getLastVisibleColumn()},{event:a})}}},onKeySpace:function(b){var e=Ext.fly(b.target),a,c,d;this.onNavigate(b);if(!this.location.actionable){c=this.location.getFocusables();if(c.length){a=Ext.get(c[0]).events}}else {if(e.isInputField()){d=!0}else {a=e.events}}if(a){if(a.tap){a.tap.fire(b)}if(a.click){a.click.fire(b)}}return d},onKeyEnter:function(b){var a=this.location;b.stopEvent();if(!a.actionable){if(a.isTreeLocation&&a.record.data.checked!=null){a.record.set('checked',!a.record.data.checked)}else {this.activateCell(a)}}else {this.onKeySpace(b)}},onSelectAllKeyPress:function(a){if(Ext.fly(a.target).isInputField()){return !0}else {return Ext.dataview.NavigationModel.prototype.onSelectAllKeyPress.call(this,a)}},moveUp:function(b){var a=this.getLocation();if(a){a=a.up();if(a){this.setLocation(a,{event:b})}}},moveDown:function(b){var a=this.getLocation();if(a){a=a.down();if(a){this.setLocation(a,{event:b})}}}}},0,0,0,0,['navmodel.grid'],0,[Ext.grid,'NavigationModel'],0);Ext.cmd.derive('Ext.grid.cell.Base',Ext.Widget,{isGridCell:!0,cachedConfig:{align:null,cls:null,bodyCls:null,bodyStyle:null,cellCls:null,selectable:null},config:{column:null,hidden:!1,record:null,value:null},classCls:'x-gridcell',dirtyCls:'x-dirty',alignCls:{left:'x-align-left',center:'x-align-center',right:'x-align-right'},inheritUi:!0,cellSelector:'.x-gridcell',defaultBindProperty:'value',toolDefaults:{zone:'head',ui:'gridcell'},getTemplate:function(){var a={reference:'bodyElement',cls:'x-body-el',uiCls:'body-el'};if(!(a.children=this.innerTemplate)){a.html='\xa0'}return [a]},doDestroy:function(){this.setColumn(null);this.setRecord(null);this.mixins.toolable.doDestroy.call(this);Ext.Widget.prototype.doDestroy.call(this)},getComputedWidth:function(){return this.getHidden()?0:this.getWidth()},updateAlign:function(d,c){var a=this,b=a.alignCls;if(c){a.removeCls(b[c])}if(d){a.addCls(b[d])}a.syncToolableAlign()},updateBodyCls:function(b,a){if(b||a){this.bodyElement.replaceCls(a,b)}},updateBodyStyle:function(a){this.bodyElement.applyStyles(a)},updateCellCls:function(b,a){this.element.replaceCls(a,b)},updateCls:function(b,a){this.element.replaceCls(a,b)},updateColumn:function(a){var b=null,c=this.row;if(a){b=c&&c.isSummaryRow&&a.getSummaryDataIndex()||a.getDataIndex()}this.dataIndex=b},updateRecord:function(){if(!this.destroyed&&!this.destroying){this.refresh()}},updateSelectable:function(a){this.toggleCls('x-item-no-select',a===!1)},refresh:function(b){var a=this,f=a.refreshContext,e,c,d;if(!a.isBound('value')){b=b||f;c=b&&b.modified;if(!c||a.bound(c)){a.refreshContext=e=a.beginRefresh(b);d=a.refreshValue(e);if(d!==a.getValue()){a.setValue(d)}else if(a.writeValue){a.writeValue()}a.refreshContext=f}}},refreshValue:function(b){var a=this,f=b.record,d=b.dataIndex,g,c,e;if(b.summary){g=a.summarize(b)}else if(f&&d){g=f.get(d);e=f.modified;c=!!(e&&e.hasOwnProperty(d));if(c!==a.$dirty){a.toggleCls(a.dirtyCls,c);a.$dirty=c}}return g},privates:{$dirty:!1,refreshContext:null,storeMethodRe:/^(?:average|max|min|sum)$/,augmentToolHandler:function(c,a){var b=a[1]={event:a.pop(),record:this.getRecord(),column:this.getColumn(),cell:a[0],tool:a[1]};a[0]=b.grid=b.column.getGrid()},beginRefresh:function(a){var b=this,c=b.getColumn(),d=b.row;a=a||(d?d.beginRefresh():{record:b.getRecord()});a.cell=b;a.column=c;a.dataIndex=b.dataIndex;a.scope=c.getScope();return a},bound:function(a){return !!a[this.dataIndex]},summarize:function(d){var h=this,g=d.column,a=g.getSummaryType(),c=d.dataIndex,i=d.group,e=d.store,f=d.records,b;if(a){if(Ext.isFunction(a)){b=a.call(e,e.data.items.slice(),c)}else if(a==='count'){b=e.getCount()}else if(h.storeMethodRe.test(a)){b=e[a](c)}else {b=Ext.callback(a,null,[e.data.items.slice(),c,e],0,h)}}else if(!(a=g.getSummary())){if(c){b=d.record.get(c)}}else {b=a.calculate(f,c,'data',0,f.length)}return b}},deprecated:{'6.5':{configs:{innerStyle:'bodyStyle',innerCls:'bodyCls'}}}},0,['gridcellbase'],['widget','gridcellbase'],{'widget':!0,'gridcellbase':!0},['widget.gridcellbase'],[[Ext.mixin.Toolable.prototype.mixinId||Ext.mixin.Toolable.$className,Ext.mixin.Toolable]],[Ext.grid.cell,'Base'],0);Ext.cmd.derive('Ext.grid.cell.Text',Ext.grid.cell.Base,{config:{encodeHtml:!0,rawValue:null,zeroValue:null},getTemplate:function(){var a=Ext.grid.cell.Base.prototype.getTemplate.call(this);a[0]['data-qoverflow']=!0;return a},formatValue:function(a){var g=this,d=g.refreshContext,e=d.column,h=g.getZeroValue(),b=e.getFormatter(),c,f;if(d.summary){c=e.getSummaryRenderer();if(c){b=null;f=d.scope;if(typeof c==='string'){a=Ext.callback(c,f,[a,d],0,e)}else {a=c.call(f||g,a,d)}}b=e.getSummaryFormatter()||b}else if(a===0&&h!==null){a=h;b=null}if(b){a=b(a)}if(a!=null){a=String(a)}else {a=''}return a},printValue:function(d){var a=this,c=a.refreshContext,b;a.refreshContext=a.beginRefresh(c);b=a.formatValue(d);if(a.getEncodeHtml()){b=Ext.htmlEncode(b)}a.refreshContext=c;return b},updateRawValue:function(a){var c=this.bodyElement.dom,b=a==null?'':a;if(this.getEncodeHtml()){c.textContent=b}else {c.innerHTML=b}},updateValue:function(){var a=this,c=a.refreshContext,b=a.row;if(b&&b.parent){if(!c){a.refreshContext=a.beginRefresh()}a.writeValue();a.refreshContext=c}},updateZeroValue:function(){if(!this.isConfiguring){this.refresh()}},writeValue:function(){var b=this,a=b.getValue();if(!(a=b.formatValue(a))){a=b.getColumn().getEmptyText()}b.setRawValue(a)}},0,['textcell'],['widget','gridcellbase','textcell'],{'widget':!0,'gridcellbase':!0,'textcell':!0},['widget.textcell'],0,[Ext.grid.cell,'Text'],0);Ext.cmd.derive('Ext.grid.cell.Cell',Ext.grid.cell.Text,{config:{tpl:null,renderer:null,formatter:null,scope:null},friendly:null,updateColumn:function(b,g){var c=this,e=!0,f,a,d;Ext.grid.cell.Text.prototype.updateColumn.call(this,b,g);if(b){f=b.getTpl();a=b.getRenderer();d=b.getFormatter();if(a!==null){c.setRenderer(a);e=typeof a==='function'&&a.length===1}if(f!==null){c.setTpl(f);e=!1}if(d!==null){c.setFormatter(d)}c.friendly=e}},applyTpl:function(a){return Ext.XTemplate.get(a)},applyFormatter:function(d){var c=this,a=d,b;if(typeof a==='string'){b=Ext.app.bind.Parser.fly(a);a=b.compileFormat();b.release();return function(b){return a(b,c.getScope()||c.resolveListenerScope())}}return a},updateTpl:function(){if(!this.isConfiguring){this.refresh()}},updateRenderer:function(){if(!this.isConfiguring){this.refresh()}},updateFormatter:function(){if(!this.isConfiguring){this.refresh()}},formatValue:function(h){var d=this,a=d.refreshContext,m=a.dataIndex,g=a.column,o=a.record,k=d.getZeroValue(),b=h,n=a.summary,i,j,e,c,f,l;if(!a.summary&&h===0&&k!==null){b=k}else if(!(l=d.getTpl(a))){e=d.getFormatter();if(n){c=g.getSummaryRenderer();if(c){e=null;f=a.scope;if(typeof c==='string'){b=Ext.callback(c,f,[h,a],0,g);d.friendly=!1}else {b=c.call(f||d,h,a);if(c.length>1){d.friendly=!1}}}e=g.getSummaryFormatter()||e}else {c=d.getRenderer();if(c){i=[h,o,m,d,g];f=d.getScope()||a.scope;if(typeof c==='function'){b=c.apply(f||g,i)}else {b=Ext.callback(c,f,i,0,d)}}}if(e){b=e(b)}}else {if(!(j=a.data)){a.data=j=a.summary?a.record.getData():a.grid.gatherData(a.record)}b=l.apply(j)}if(b!=null){b=String(b)}else {b=''}return b},privates:{bound:function(f){var d=this,a=!!f[d.dataIndex],c,b,e;if(!a){c=d.getColumn();b=c&&c.getDepends();if(b){for(e=b.length;!a&&e-->0;){a=!!f[b[e]]}}else if(!d.friendly){a=!0}}return a}}},0,['gridcell'],['widget','gridcellbase','textcell','gridcell'],{'widget':!0,'gridcellbase':!0,'textcell':!0,'gridcell':!0},['widget.gridcell'],0,[Ext.grid.cell,'Cell'],0);Ext.cmd.derive('Ext.grid.RowBody',Ext.Component,{config:{widget:null},classCls:'x-rowbody',inheritUi:!0,template:[{reference:'spacerElement',cls:'x-spacer-el'},{reference:'contentElement',cls:'x-content-el'}],initialize:function(){var c=this,a,b;Ext.Component.prototype.initialize.call(this);a=c.row.getGrid();if(a&&a.hasRowExpander){b=a.findPlugin('rowexpander');if(b){c.spacerElement.setWidth(b.getColumn().getWidth())}}},applyWidget:function(a){var b=this.row;if(a){a=Ext.apply({ownerCmp:b},a);a=Ext.widget(a)}return a},updateWidget:function(b,a){if(a){a.destroy()}if(b){this.contentElement.appendChild(b.element)}},updateRecord:function(b,a){var c=this.getTpl();if(c){Ext.Component.prototype.updateRecord.call(this,b,a)}},getInnerHtmlElement:function(){return this.contentElement},doDestroy:function(){this.setWidget(null);Ext.Component.prototype.doDestroy.call(this)}},0,['rowbody'],['widget','component','rowbody'],{'widget':!0,'component':!0,'rowbody':!0},['widget.rowbody'],0,[Ext.grid,'RowBody'],0);Ext.cmd.derive('Ext.grid.Row',Ext.Component,{isGridRow:!0,isRecordRefreshable:!0,hasGridCells:!0,cachedConfig:{collapsed:!0},config:{body:null,expandedField:null,defaultCellUI:null,stickyVisibility:null,flexbox:!1},classCls:['x-listitem','x-gridrow'],inheritUi:!0,expandedCls:'x-expanded',flexboxCls:'x-flexbox',element:{reference:'element',children:[{reference:'cellsElement',className:'x-cells-el'}]},constructor:function(a){this.cells=[];this.columnMap={};Ext.Component.prototype.constructor.call(this,a)},updateFlexbox:function(a){this.cellsElement.el.toggleCls(this.flexboxCls,a)},doDestroy:function(){var a=this;a.setRecord(null);a.setBody(null);a.cells=Ext.destroy(a.cells);Ext.Component.prototype.doDestroy.call(this)},collapse:function(){this.setCollapsed(!0)},expand:function(){this.setCollapsed(!1)},toggleCollapsed:function(){this.setCollapsed(!this.getCollapsed())},updateCollapsed:function(b){var a=this,e=a.getBody(),i=a.getParent(),c=a.getRecord(),g=a.getExpandedField(),h=a.expandedCls,f=a.expanderCell,d;if(c){if(g){c.set(g,!b)}else {d=i.$recordsExpanded||(i.$recordsExpanded={});if(b){delete d[c.internalId]}else {d[c.internalId]=!0}}}if(f){f.setCollapsed(b)}if(e){if(b){e.hide();a.removeCls(h)}else {e.show();a.addCls(h)}}},applyBody:function(b,a){return Ext.updateWidget(a,b,this,'createBody')},createBody:function(a){return Ext.merge({xtype:'rowbody',ownerCmp:this,row:this,hidden:!0},a)},updateBody:function(a){var b=this,c=b.getParent();if(a){b.bodyElement.appendChild(a.element);if(b.rendered&&!a.rendered){a.setRendered(!0)}}if(c){c.setVariableHeights(!0);if(!c.hasRowExpander){b.expand()}}},onAdded:function(g){var e=this,d=e.cells,b,h,c,a,f,i;Ext.Component.prototype.onAdded.apply(this,arguments);if(g){c=g.getColumns();for(a=0,i=c.length;a<i;a++){b=d[a];h=c[a];if(b){if(b.getColumn()===h){continue}for(f=d.length;f-->a;){b=d[f];e.removeColumn(b.getColumn())}}e.addColumn(c[a])}}},addColumn:function(a){this.insertColumn(this.cells.length,a)},getCells:function(a){return a?Ext.ComponentQuery.query(a,this.cells):this.cells},getRefItems:function(f){var a=[],b=this.getConfig('body',!1,!0),e=this.cells,g=e&&e.length,d,c;for(d=0;d<g;d++){c=e[d];a.push(c);if(f&&c.getRefItems){a.push.apply(a,c.getRefItems())}}if(b){a.push(b);if(f&&b.getRefItems){a.push.apply(a,b.getRefItems())}}return a},insertColumn:function(e,d){var b=this,c=b.cells,a;if(d.isHeaderGroup){return}a=b.createCell(d);if(e>=c.length){b.cellsElement.appendChild(a.element);c.push(a)}else {a.element.insertBefore(c[e].element);c.splice(e,0,a)}b.columnMap[d.getId()]=a;if(a.isExpanderCell){b.expanderCell=a}if(b.rendered){a.setRendered(!0)}},insertColumnBefore:function(f,h){var b=this,i=b.columnMap,j=f.getId(),a=i[j],e=b.cells,d,c,g;if(h){d=b.getCellByColumn(h);c=e.indexOf(d)}else {c=e.length-(a?1:0)}if(a){g=e.indexOf(a);Ext.Array.move(e,g,c);if(d){a.element.insertBefore(d.element)}else {b.cellsElement.appendChild(a.element)}}else {b.insertColumn(c,f)}},removeColumn:function(e){var d=this,b=d.columnMap,c=e.getId(),a=b[c];if(a){Ext.Array.remove(d.cells,a);delete b[c];a.destroy()}},updateRecord:function(a){if(!this.destroyed&&!this.destroying){this.refresh()}},setColumnWidth:function(a){var b=this.getCellByColumn(a);if(b){b.setWidth(a.getComputedWidth())}},showColumn:function(a){this.setCellHidden(a,!1)},hideColumn:function(a){this.setCellHidden(a,!0)},getCellByColumn:function(a){return this.columnMap[a.getId()]},getColumnByCell:function(a){return a.getColumn()},updateStickyVisibility:function(a){this.fireEvent('stickyvisiblitychange',a)},refresh:function(a){var b=this,l=b.cells,e=b.getBody(),o=l.length,j=b.getExpandedField(),f=b.getParent(),m=f.getSelectable(),k=m.getSelection(),n=k.isCells||k.isColumns,g,h,d,c,i;b.refreshContext=a=b.beginRefresh(a);c=a.record;b.syncDirty(c);for(g=0,h=0;g<o;++g){d=l[g];if(!a.summary||!d.getColumn().getIgnore()){if(d.getRecord()===c){d.refresh(a)}else {d.refreshContext=a;d.setRecord(c);d.refreshContext=null}if(n){d.toggleCls(f.selectedCls,m.isCellSelected(b._recordIndex,h))}}if(!d.isHidden()){h++}}a.cell=a.column=a.dataIndex=a.scope=null;if(e){e.refreshContext=a;if(e.getRecord()===c){e.updateRecord(c)}else {e.setRecord(c)}e.refreshContext=null;if(j){b.setCollapsed(!c.get(j))}else {i=f.$recordsExpanded||(f.$recordsExpanded={});if(f.hasRowExpander){b.setCollapsed(!i[c.internalId])}}}b.refreshContext=null},privates:{refreshContext:null,beginRefresh:function(a){var b=this,c=b.getParent();a=a||{};a.grid=c;a.record=b.getRecord();a.row=b;a.store=c.store;return a},createCell:function(b){var a=b.createCell(this);a=Ext.create(a);delete a.$initParent;if(a.inheritUi){a.doInheritUi()}a.el.setTabIndex(-1);return a},setCellHidden:function(b,c){var a=this.getCellByColumn(b);if(a){a.setHidden(c)}},getGrid:function(){return this.grid||this.getParent()}}},1,['gridrow'],['widget','component','gridrow'],{'widget':!0,'component':!0,'gridrow':!0},['widget.gridrow'],[[Ext.mixin.Queryable.prototype.mixinId||Ext.mixin.Queryable.$className,Ext.mixin.Queryable],[Ext.dataview.GenericItem.prototype.mixinId||Ext.dataview.GenericItem.$className,Ext.dataview.GenericItem],[Ext.dataview.Pinnable.prototype.mixinId||Ext.dataview.Pinnable.$className,Ext.dataview.Pinnable]],[Ext.grid,'Row'],0);Ext.cmd.derive('Ext.grid.HeaderContainer',Ext.Container,{isHeaderContainer:!0,config:{columns:null,defaultColumnUI:null,sortable:!0,verticalOverflow:null,reserveScrollbar:null,grid:null},docked:'top',defaultType:'column',layout:{type:'hbox',align:'stretch'},inheritUi:!0,scrollable:{x:!1,y:!1},weighted:!0,autoSize:null,constructor:function(b){var a=this,c=!a.isGridColumn;a.isRootHeader=c;if(c){b.grid._headerContainer=a}a.columns=[];Ext.Container.prototype.constructor.call(this,b);if(c){b.grid._headerContainer=null}},initialize:function(){var a=this;Ext.Container.prototype.initialize.call(this);if(a.isRootHeader){a.setInstanceCls('x-headercontainer');a.on({tap:'onHeaderTap',triggertap:'onHeaderTriggerTap',columnresize:'onColumnResize',show:'onColumnShow',hide:'onColumnHide',sort:'onColumnSort',scope:a,delegate:'[isLeafHeader]'});a.on({tap:'onGroupTap',triggertap:'onGroupTriggerTap',show:'onGroupShow',hide:'onGroupHide',add:'onColumnAdd',move:'onColumnMove',remove:'onColumnRemove',scope:a,delegate:'[isHeaderGroup]'});a.on({add:'onColumnAdd',move:'onColumnMove',remove:'onColumnRemove',scope:a})}},getRootHeaderCt:function(){var a=this.getGrid();return a&&a.getHeaderContainer()},getColumnForField:function(d){var c=this.columns,e=c.length,b,a;for(a=0;a<e;++a){b=c[a].getColumnForField(d);if(b){return b}}return null},getColumns:function(a){var b=this.columns;if(a){if(typeof a==='string'){b=Ext.ComponentQuery.query(a,b)}else if(Ext.isFunction(a)){return b.filter(a)}}return b},getVisibleColumns:function(){var a=this,b=a.visibleColumns;if(!b){b=a.visibleColumns=a.columns.filter(a.visibleLeafFilter)}return b},getClosestVisibleHeader:function(b){var a=typeof b==='number'?this.getVisibleColumns()[b]:b;if(a&&a.hidden){a=a.next(':visible')||a.prev(':visible')}return a},indexOfLeaf:function(a){return this.getVisibleColumns().indexOf(a)},factoryItem:function(a){var b=this.getGrid();if(a.isComponent){if(a.isGridColumn){a.setGrid(b)}}else {a=Ext.apply({grid:b},a)}return Ext.Container.prototype.factoryItem.call(this,a)},updateColumns:function(b){var a=this;if(a.isRootHeader){a.columns=[];a.visibleColumns=null;a.add(b)}},beginColumnUpdate:function(){var a=this;if(!a.isRootHeader){return}a.hasBulkUpdate=a.hasBulkUpdate||0;a.hasBulkUpdate++;if(a.hasBulkUpdate===1){a.bulkAdd=[];a.updateMenuDisabledState=Ext.emptyFn}},endColumnUpdate:function(){var a=this,e,b,c,d;if(!a.isRootHeader||!a.hasBulkUpdate){return}a.hasBulkUpdate--;if(a.hasBulkUpdate===0){c=a.bulkAdd;e=c&&c.length;if(e){a.visibleColumns=null;a.columns=a.getLeaves();for(b=0;b<e;b++){d=c[b];d.columnIndex=a.columns.indexOf(d.column)}Ext.Array.sort(c,a.sortByColumnIndex);for(b=0;b<e;b++){d=c[b];a.fireEvent('columnadd',a,d.column,d.columnIndex)}}a.getGrid().refreshInnerWidth();a.bulkAdd=null;delete a.updateMenuDisabledState;a.updateMenuDisabledState();if(this.isRootHeader){this.onColumnComputedWidthChange()}}},sortByColumnIndex:function(a,b){return a.columnIndex-b.columnIndex},add:function(c){var b,a=this.getRootHeaderCt();if(a){a.beginColumnUpdate()}b=Ext.Container.prototype.add.call(this,c);if(a){a.endColumnUpdate()}return b},insert:function(c,d){var b,a=this.getRootHeaderCt();if(a){a.beginColumnUpdate()}b=Ext.Container.prototype.insert.call(this,c,d);if(a){a.endColumnUpdate()}return b},remove:function(d,c){var b,a=this.getRootHeaderCt();if(a){a.beginColumnUpdate()}b=Ext.Container.prototype.remove.call(this,d,c);if(a){a.endColumnUpdate()}return b},onColumnAdd:function(h,a){var b=this,g=b.getGrid(),d,e,c,f;if(a.isHeaderGroup){d=a.getItems().items;for(c=0,e=d.length;c<e;c++){b.onColumnAdd(a,d[c])}}else {f=a.getUi();if(f==null){a.setUi(b.getDefaultColumnUI())}a.setGrid(g);b.bulkAdd.push({column:a})}b.updateMenuDisabledState()},onColumnMove:function(g,b,h,d){var a=this,f=a.columns,e=null,c;a.visibleColumns=null;if(b.isHeaderGroup){c=b.getItems().items;e=b}else {c=[b]}d=f.indexOf(c[0]);a.columns=a.getLeaves();a.fireEvent('columnmove',a,c,e,d)},onColumnRemove:function(f,a){var b=this,d,c,e;b.visibleColumns=null;if(a.isHeaderGroup){if(!a.destroying){d=a.getItems().items;e=d.length;for(c=0;c<e;c++){b.onColumnRemove(a,d[c])}}}else {Ext.Array.remove(b.columns,a);b.fireEvent('columnremove',b,a)}b.updateMenuDisabledState()},onHeaderTap:function(b,c){var a=this.getGrid().getSelectable(),d=this.fireEvent('columntap',this,b,c);if(d!==!1){if(a.onHeaderTap){a.onHeaderTap(this,b,c)}}},onGroupTriggerTap:function(a){a.showMenu()},onHeaderTriggerTap:function(a){a.showMenu()},onColumnShow:function(b){var a=this;a.visibleColumns=null;a.fireEvent('columnshow',a,b);a.updateMenuDisabledState();if(this.isRootHeader){this.onColumnComputedWidthChange()}},onColumnHide:function(b){var a=this;a.visibleColumns=null;a.fireEvent('columnhide',a,b);a.updateMenuDisabledState();if(this.isRootHeader){this.onColumnComputedWidthChange()}},onGroupShow:function(d){var c=d.getInnerItems(),e=c.length,a,b;this.visibleColumns=null;for(a=0;a<e;a++){b=c[a];if(!b.isHidden()){this.fireEvent('columnshow',this,b)}}this.updateMenuDisabledState()},onGroupHide:function(d){var b=d.getInnerItems(),e=b.length,a,c;this.visibleColumns=null;for(a=0;a<e;a++){c=b[a];this.fireEvent('columnhide',this,c)}this.updateMenuDisabledState()},onGroupTap:function(a,b){return this.fireEvent('headergrouptap',this,a,b)},onColumnResize:function(b,c,a){this.fireEvent('columnresize',this,b,c,a)},onColumnSort:function(c,a,b){if(a!==null){this.fireEvent('columnsort',this,c,a,b)}},scrollTo:function(a){this.getScrollable().scrollTo(a)},updateGrid:function(a){if(this.isRootHeader){this.parent=a}},doDestroy:function(){this.setGrid(null);Ext.Container.prototype.doDestroy.call(this)},afterRender:function(){(arguments.callee.$previous||Ext.Container.prototype.afterRender).call(this);if(this.isRootHeader){this.onColumnComputedWidthChange()}},privates:{columnsResizing:null,updateVerticalOverflow:function(){this.syncReserveSpace()},updateReserveScrollbar:function(){this.syncReserveSpace()},updateMenuDisabledState:function(){if(this.rendered){var h=this.isRootHeader?this:this.getRootHeaderCt(),d=[],c=[],g,b,e,f,a;h.visitPreOrder('gridcolumn:not([hidden])',function(a){d.push(a);if(!a.isHidden(!0)&&!a.getMenuDisabled()&&a.getConfig('menu',!0)){c.push(a)}});g=d.length;for(b=0;b<g;++b){e=d[b];a=e.getHideShowMenuItem(!1);if(a){f=c.length>1||c[0]!==e;a['set'+(a.getMenu()?'CheckChange':'')+'Disabled'](!f)}}}},getLeaves:function(){return this.query('[isLeafHeader]')},onColumnComputedWidthChange:function(h,j){var a=this,d=0,b=a.columnsResizing,f,i,e,c,g;if(a.destroying){return}if(b){b.push(h);return}a.columnsResizing=b=[];f=a.getColumns();i=f.length;for(e=0;e<i;e++){c=f[e];if(c===h){b.push(c);g=j}else {g=c.isHidden(!0)?0:c.measureWidth()}d+=g}d=Math.floor(d);a.getGrid().onColumnComputedWidthChange(b,d);a.columnsResizing=null},setRendered:function(a){this.visibleColumns=null;(arguments.callee.$previous||Ext.Container.prototype.setRendered).call(this,a)},setSortState:function(){var j=this.getGrid(),b=j.getStore(),g=j.getColumns(),f=b.isGrouped(),l=g&&g.length,k=b.getSorters(),i=b.getGrouper(),h=b.getGroupers(!1),d,c,e,a;for(d=0;d<l;d++){c=g[d];a=c.sorter;if(h&&h.length){f=!1}else {e=b.getGroupField()===c.getDataIndex()}if(a){if(f&&!e){a=null}else if(f&&e){a=i}else if(!(k.contains(a)||i===a)){a=null}}c.setSortState(a)}},syncReserveSpace:function(){var a=this,e=a.getVerticalOverflow()||a.getReserveScrollbar(),b=0,d,c;if(e){d=a.getGrid();if(d){c=d.getScrollable();if(c){b=c.getScrollbarSize().width+'px'}}}a.el.setStyle('padding-right',b);a.fireEvent('synreservespace',a,b)},visibleLeafFilter:function(a){return a.isLeafHeader&&!a.isHidden()}}},1,['headercontainer'],['widget','component','container','headercontainer'],{'widget':!0,'component':!0,'container':!0,'headercontainer':!0},['widget.headercontainer'],0,[Ext.grid,'HeaderContainer'],0);Ext.cmd.derive('Ext.menu.CheckItem',Ext.menu.Item,{isMenuCheckItem:!0,hideOnClick:!1,config:{checked:!1,checkHandler:null,checkChangeDisabled:!1,value:null,showCheckbox:null},classCls:'x-menucheckitem',checkedCls:'x-checked',checkboxIconElCls:'x-checkbox-icon-el',ariaRole:'menuitemcheckbox',defaultBindProperty:'checked',submenuText:'{0} submenu',href:null,target:null,element:{reference:'element',tabindex:Ext.is.iOS?-1:null,cls:'x-unselectable x-has-left-icon'},focusEl:'checkboxElement',ariaEl:'checkboxElement',getTemplate:function(){var b=Ext.menu.Item.prototype.getTemplate.call(this),a=b[0];a.tag='div';a.href=null;a.children.push({tag:'input',type:'checkbox',reference:'checkboxElement',cls:'x-checkbox-el'});return b},initialize:function(){var a=this;Ext.menu.Item.prototype.initialize.call(this);a.element.on({mousedown:'onCheckboxMousedown',translate:!1,scope:a});a.checkboxElement.on({change:'onCheckboxChange',delegated:!1,scope:a});this.syncCheckboxCls()},enableFocusable:function(){this.mixins.focusable.enableFocusable();this.checkboxElement.dom.readOnly=''},disableFocusable:function(){this.mixins.focusable.disableFocusable();this.checkboxElement.dom.readOnly='readonly'},setChecked:function(d,b){var a=this,c=a.isConfiguring;if(b){a.isConfiguring=!0}(arguments.callee.$previous||Ext.menu.Item.prototype.setChecked).call(this,d);if(b){a.isConfiguring=c}},updateChecked:function(a){this.checkboxElement.dom.checked=a;this.onCheckChange()},updateCheckChangeDisabled:function(a){this.checkboxElement.dom.readOnly=a},updateValue:function(a){this.checkboxElement.dom.value=a},updateText:function(b){var a=this,c=a.ariaEl.dom;Ext.menu.Item.prototype.updateText.call(this,b);if(a.getValue()===null){a.setValue(b)}if(c&&a.getMenu()){c.setAttribute('aria-label',Ext.String.formatEncode(a.submenuText,b))}},applyShowCheckbox:function(a){return !!a},updateShowCheckbox:function(a){this.checkboxElement.setDisplayed(a)},updateIcon:function(b,a){Ext.menu.Item.prototype.updateIcon.call(this,b,a);if(!this.isConfiguring){this.syncCheckboxCls()}},updateIconCls:function(b,a){Ext.menu.Item.prototype.updateIconCls.call(this,b,a);if(!this.isConfiguring){this.syncCheckboxCls()}},updateIconAlign:function(b,a){Ext.menu.Item.prototype.updateIconAlign.call(this,b,a);if(!this.isConfiguring){this.syncCheckboxCls()}},privates:{onSpace:function(a){if(this.getDisabled()){a.preventDefault()}},onClick:function(a){var c=this,e=c.arrowElement,d,f,b;if(c.getDisabled()){a.preventDefault()}if(a.pointerType!=='mouse'){b=c.bodyElement.getRegion();if(c.getMenu()){b.setWidth(b.getWidth()-e.getWidth()-e.getMargin('lr'))}if(b.contains(a.getPoint())){d=!1}else {a.preventDefault()}}f=Ext.menu.Item.prototype.onClick.call(this,a);return d===!1?d:f},onCheckboxMousedown:function(a){if(Ext.isApple&&!Ext.isChrome||!this.checkboxElement.contains(a.target)){a.preventDefault()}},onCheckboxChange:function(){var a=this,c=a.checkboxElement.dom,d=a.getChecked(),b=c.checked;if(a.getCheckChangeDisabled()){c.checked=d;return !1}if(b===d||a.getDisabled()){return}if(a.fireEvent('beforecheckchange',a,b)===!1){c.checked=!b}else {a.setChecked(b)}},onCheckChange:function(){var a=this,b=a.checkboxElement.dom.checked,d=a.el,c=a.ariaEl.dom;d.toggleCls(a.checkedCls,!!b);if(c){c.setAttribute('aria-checked',a.getMenu()?'mixed':b)}a.publishState('checked',b);if(!a.isConfiguring){Ext.callback(a.getCheckHandler(),a.scope,[a,b],0,a);a.fireEvent('checkchange',a,b)}},syncHasIconCls:function(){var a=this;a.toggleCls(a.hasRightIconCls,a.hasIcon())},syncCheckboxCls:function(){var a=this,f=a.leftIconElement,e=a.rightIconElement,d=a.checkboxIconElCls,c,b;if(a.hasIcon()&&a.getIconAlign()==='left'){c=e;b=f}else {c=f;b=e}c.addCls(d);b.removeCls(d)}}},0,['menucheckitem'],['widget','component','menuitem','menucheckitem'],{'widget':!0,'component':!0,'menuitem':!0,'menucheckitem':!0},['widget.menucheckitem'],0,[Ext.menu,'CheckItem'],0);Ext.cmd.derive('Ext.grid.column.Column',Ext.grid.HeaderContainer,{alternateClassName:'Ext.grid.column.Template',isGridColumn:!0,config:{align:undefined,cell:{xtype:'gridcell'},dataIndex:null,locked:null,defaultWidth:100,depends:null,emptyText:{cached:!0,$value:'\xa0'},text:'\xa0',sortable:!0,groupable:!0,resizable:!0,hideable:!0,renderer:null,formatter:null,scope:null,editable:null,editor:null,defaultEditor:{lazy:!0,$value:{}},editorDefaults:{cached:!0,$value:{'default':{xtype:'textfield',autoComplete:!1,textAlign:undefined},'bool,boolean':{xtype:'checkboxfield',bodyAign:undefined},date:{xtype:'datefield',textAlign:undefined},'float,number':{xtype:'numberfield',textAlign:undefined},'int,integer':{xtype:'numberfield',decimals:0,textAlign:undefined}}},ignore:!1,ignoreExport:!1,exportStyle:null,exportRenderer:!1,summary:null,summaryCell:null,summaryDataIndex:null,summaryFormatter:null,summaryRenderer:null,summaryType:null,summaries:{$value:{count:!0},lazy:!0,merge:function(a,b){return this.mergeSets(a,b)}},exportSummaryRenderer:!1,minWidth:40,tpl:null,computedWidth:null,filterType:null,grouper:{lazy:!0,$value:null},groupHeaderTpl:null,groupFormatter:!1,sorter:{lazy:!0,$value:!0},scratchCell:{lazy:!0,$value:!0},menu:{lazy:!0,$value:{}},menuDisabled:null,hideShowMenuItem:{lazy:!0,$value:{xtype:'menucheckitem'}}},updateLocked:function(g){var f=this,d=f.getGrid(),c=d&&d.region,b,e,a;if(c){b=c.lockedGrid;e=b.getRegionKey(g);a=b.getRegion(e);if(a&&a!==c){b.handleChangeRegion(a,f)}}return g},toolDefaults:{ui:'gridcolumn',zone:'tail'},toolAnchorName:'titleWrapElement',dockTools:!1,scrollable:!1,docked:null,sortState:null,ariaSortStates:{ASC:'ascending',DESC:'descending'},inheritUi:!0,classCls:'x-gridcolumn',sortedCls:'x-sorted',secondarySortCls:'x-secondary-sort',auxSortCls:'x-aux-sort',resizableCls:'x-resizable',groupCls:'x-group',leafCls:'x-leaf',menuOpenCls:'x-menu-open',alignCls:{left:'x-align-left',center:'x-align-center',right:'x-align-right'},onSummaryChange:null,grouperIdPrefix:'x-gridgrouper',constructor:function(c){var a=this,b,d;if(c.columns||a.columns){b=a.isHeaderGroup=!0}else {a.isLeafHeader=!0}Ext.grid.HeaderContainer.prototype.constructor.call(this,c);a.addCls(b?a.groupCls:a.leafCls);d=a.getConfig('menu',!0);if(!d&&a.getMenuDisabled()===null){a.setMenuDisabled(!0)}},getTemplate:function(){var d=this,b=d.beforeTitleTemplate,c=d.afterTitleTemplate,a=[];if(b){a.push.apply(a,b)}a.push({reference:'titleElement',className:'x-title-el',children:[{reference:'textElement',className:'x-text-el','data-qoverflow':!0},{reference:'sortIconElement',cls:'x-sort-icon-el x-font-icon'}]});if(c){a.push.apply(a,c)}return [{reference:'headerElement',cls:'x-header-el',children:[{reference:'titleWrapElement',cls:'x-title-wrap-el',uiCls:'title-wrap-el',children:a},{reference:'resizerElement',cls:'x-resizer-el x-item-no-tap'},{reference:'triggerElement',cls:'x-trigger-el x-font-icon x-item-no-tap'}]},{reference:'bodyElement',cls:'x-body-el',uiCls:'body-el'}]},getWeight:function(){var a=this;if(a.rendered){return a.parent.indexOf(a)}return a._weight},initialize:function(){var a=this;if(a.isLeafHeader&&!a.getWidth()&&a.getFlex()==null){a.setWidth(a.getDefaultWidth())}Ext.grid.HeaderContainer.prototype.initialize.call(this);a.element.on({tap:'onColumnTap',longpress:'onColumnLongPress',scope:this});a.triggerElement.on({tap:'onTriggerTap',scope:this});a.resizerElement.on({tap:'onResizerTap',doubletap:'onResizerDoubleTap',scope:this});if(a.isHeaderGroup){a.on({add:'doVisibilityCheck',remove:'doVisibilityCheck',show:'onColumnShow',hide:'onColumnHide',move:'onColumnMove',delegate:'> column',scope:a});a.on({show:'onShow',scope:a})}},doDestroy:function(){var a=this;a.destroyMembers('editor','resizeListener','menu','hideShowMenuItem','childColumnsMenu');a.setScratchCell(null);a.mixins.toolable.doDestroy.call(a);Ext.grid.HeaderContainer.prototype.doDestroy.call(this)},onAdded:function(b,a){this.visibleIndex=null;Ext.grid.HeaderContainer.prototype.onAdded.call(this,b,a)},ensureEditor:function(){var b=this,c=b.getEditable(),a=c!==!1&&b.getEditor(),d;if(!a&&c){d=b.getDefaultEditor();a=Ext.create(d);b.setEditor(a)}return a},getVisibleIndex:function(){var a=this.visibleIndex,b;if(a==null){if(this.isHeaderGroup){a=!1}else {b=this.getRootHeaderCt();if(b){a=b.indexOfLeaf(this)}}this.visibleIndex=a}return a},_columnScopeRe:/^column\./,_gridScopeRe:/^grid\./,applyMenu:function(a){var c=this,f=c.getGrid(),j=c._columnScopeRe,k=c._gridScopeRe,h,e,i,b,g,d;Ext.destroy(c.sortChangeListener);if(a&&!a.isMenu){if(Ext.isArray(a)){h=a;a=null}else if(!a.items){a={items:a}}if(!(e=f.getColumnMenu())){a=a?Ext.clone(a):{}}else {e=Ext.clone(e);a=a?Ext.merge(e,a):e}a.ownerCmp=c;a=Ext.create(a);c.sortChangeListener=a.on({groupchange:'onColumnMenuGroupChange',scope:c});g=a.getItems().items;for(i=g&&g.length;i-->0;){b=g[i];if(j.test(d=b.getHandler()||'')){b.setHandler(d.substr(7));b.scope=c}else if(k.test(d)){b.setHandler(d.substr(5));b.scope=f}else if(b.isMenuCheckItem){if(j.test(d=b.getCheckHandler()||'')){b.setCheckHandler(d.substr(7));b.scope=c}else if(k.test(d)){b.setCheckHandler(d.substr(5));b.scope=f}}}if(h){a.add(h)}f.fireEvent('columnmenucreated',f,c,a)}return a},updateMenu:function(b,a){if(a){a.destroy()}},beforeShowMenu:function(b){var d=this,a=d.getGrid().getStore(),h=a&&!!a.getGrouper(),e=b.getComponent('groupByThis'),c=b.getComponent('showInGroups'),g=b.getComponent('sortAsc'),f=b.getComponent('sortDesc');g.setDisabled(!a);f.setDisabled(!a);if(!a){e.setHidden(!0);c.setHidden(!0);return}b.suspendEvent('groupchange');if(g){d.syncMenuItemState(g)}if(f){d.syncMenuItemState(f)}if(e){e.setHidden(!(d.canGroup()&&!a.isTreeStore))}b.resumeEvent('groupchange');if(c){c.setHidden(a.isTreeStore);c.setChecked(h);c.setDisabled(!h)}},showMenu:function(){var a=this,b=!a.getMenuDisabled()&&a.getMenu(),d=a.menuOpenCls,c;if(b){c=a.getGrid();if(a.beforeShowMenu(b)!==!1&&c.beforeShowColumnMenu(a,b)!==!1){b.showBy(a.triggerElement);a.addCls(d);b.on({single:!0,hide:function(){if(!(a.destroyed||a.destroying)){a.removeCls(d)}if(!(c.destroyed||c.destroying)){c.onColumnMenuHide(a,b)}}})}}},getCells:function(){var c=[],d=this.getGrid().items.items,e=d.length,a,b;for(a=0;a<e;++a){b=d[a];if(b.isGridRow){c.push(b.getCellByColumn(this))}}return c},getColumnForField:function(a){if(a===this.getDataIndex()){return this}return Ext.grid.HeaderContainer.prototype.getColumnForField.call(this,a)},isHideable:function(){var a=[];this.getRootHeaderCt().visitPreOrder('gridcolumn:not([hidden])',function(b){if(!b.getMenuDisabled()&&b.getConfig('menu',!0)){a.push(b)}});return a.length>1||a[0]!==this},applyTpl:function(a){return Ext.XTemplate.get(a)},applyAlign:function(a,b){if(a==null){a=this.isHeaderGroup?'center':'left'}return a},updateAlign:function(d,c){var a=this,b=a.alignCls;if(c){a.removeCls(b[c])}if(d){a.addCls(b[d])}a.syncToolableAlign()},updateMenuDisabled:function(a){if(this.triggerElement){this.triggerElement.setVisible(!a)}},onColumnTap:function(d){var a=this,g=a.getGrid(),f=g.getSelectable(),c=g.getStore(),i=c&&c.getSorters(!0),b=c&&a.pickSorter(),e=b?i.indexOf(b):-1,h=b&&(e!==-1||b===c.getGrouper());if(Ext.Component.from(d)!==a||d.getTarget('.x-item-no-tap',a)){return}if(c&&a.isSortable()&&(!f||!f.getColumns())){if(b.isGrouper){b.toggle();c.group(b)}else if(e===0){a.toggleSortState()}else {if(h){c.sort(b,'prepend')}else {a.sort('ASC')}}}return a.fireEvent('tap',a,d)},onTriggerTap:function(a){this.fireEvent('triggertap',this,a)},onResizerTap:function(a){if(a.getPoint().isContainedBy(this.triggerElement.getRegion())){this.fireEvent('triggertap',this,a)}},onResizerDoubleTap:function(a){a.claimGesture();Ext.asap(this.autoSize,this)},onColumnLongPress:function(a){this.fireEvent('longpress',this,a)},onGroupByThis:function(){var a=this,e=a.getGrid(),b=a.getGrouper(),d=e.getStore(),c;if(!b){c=a.getDataIndex();if(c!=null){a.setGrouper({property:c});b=a.getGrouper()}}if(b){d.setGrouper(b)}},onColumnMenuGroupChange:function(c,a,b){if(a==='sortDir'){this.setSortDirection(b)}},getSortDirection:function(){var a=this.pickSorter();return a&&a.getDirection()},setSortDirection:function(b){var d=this,g=d.getGrid(),e=g.getStore(),a=d.pickSorter(),c=e.getSorters(!0),f=a&&(c.contains(a)||a.isGrouper);if(b){if(f){if(a.getDirection()!==b){a.setDirection(b);if(a.isGrouper){e.group(a)}else {c.beginUpdate();c.endUpdate()}}}else {return d.sort(b)}}else if(a){c.remove(a)}if(!e.getRemoteSort()){d.getRootHeaderCt().setSortState()}},syncMenuItemState:function(a){if(a){var c=this,d=c.isSortable(),f=c.getGrid().getStore(),b=c.pickSorter(),e=b&&(f.getSorters().contains(b)||b.isGrouper);a.setDisabled(!d);a.setChecked(d&&e&&b.getDirection()===a.getValue())}},onToggleShowInGroups:function(){var b=this.getGrid(),a=b.getStore();a.setGrouper(null)},updateResizable:function(){var a=this,b=a.getWidth()!=null,c=a.getFlex()!=null;a.toggleCls(a.resizableCls,!!(a.getResizable()&&(b||c||a.isLeafHeader)))},updateText:function(a){this.setHtml(a||'\xa0')},onResize:function(){if(!this.isHidden(!0)){this.updateResizable(this.getResizable());this.measureWidth();this.syncRowHeight()}},syncRowHeight:function(){var b=this.getGrid().allPartners||[this.getGrid()],a,d=b.length,c;for(a=0;a<d;++a){c=b[a];c.syncRowsToHeight(!0)}},getComputedWidth:function(){return this.isVisible(!0)?this._computedWidth:0},updateColumns:function(a){this.getItems();this.add(a)},measureWidth:function(){var a=this.el.measure('w');this.setComputedWidth(a);return a},updateComputedWidth:function(c,d){var a=this,b=!a.isConfiguring&&a.getRootHeaderCt();if(b){b.onColumnComputedWidthChange(a,c);a.fireEvent('columnresize',a,c,d)}},updateDataIndex:function(b){var a;if(!this.isConfiguring){a=this.pickSorter();if(a){this.setSorter(null)}}},applyGroupHeaderTpl:function(a){return Ext.XTemplate.get(a)},updateGroupHeaderTpl:function(b){var a=this.grouper;if(a){a.headerTpl=b}},isSortable:function(){var a=this;return a.isLeafHeader&&a.getSortable()&&(a.pickSorter()||a.getDataIndex())&&a.getRootHeaderCt().getSortable()&&a.getGrid().sortableColumns!==!1},applyEditor:function(a){if(a&&!a.isInstance){if(typeof a==='string'){a={xtype:a}}if(!a.xtype){a=Ext.apply({xtype:a.field?'celleditor':'textfield'},a)}return Ext.create(a)}return a},applyEditorDefaults:function(b){var e={},a,d,c;if(b){for(d in b){c=d.split(',');for(a=0;a<c.length;++a){e[c[a]]=b[d]}}}return e},applyDefaultEditor:function(b){var c=this,g=c.getDataIndex(),e='bodyAlign',f='textAlign',a,h,d,i;if(g){h=c.getGrid().store.getModel();d=h.getField(g);if(!b.isInstance){b=Ext.clone(b);if(!b.xtype){a=c.getEditorDefaults();a=Ext.clone(d&&a[d.type]||a['default']);if(f in a&&a[f]===i){a[f]=c.getAlign()}else if(e in a&&a[e]===i){a[e]=c.getAlign()}Ext.applyIf(b,a)}}b._validationField=d}return b},updateEditor:function(a,b){if(b&&(!a||a.isCellEditor&&a.getField()!==b)){b.destroy()}if(a){a.$column=this}},applyFormatter:function(d){var c=this,a=d,b;if(a){b=Ext.app.bind.Parser.fly(a);a=b.compileFormat();b.release();return function(b){return a(b,c.getScope()||c.resolveListenerScope())}}return a},applySummaryFormatter:function(d){var c=this,a=d,b;if(a){b=Ext.app.bind.Parser.fly(a);a=b.compileFormat();b.release();return function(b){return a(b,c.getScope()||c.resolveListenerScope())}}return a},applyGrouper:function(b){var c=this,a=b;if(a&&!a.isInstance){if(typeof a==='string'){a={groupFn:a}}else {a=Ext.apply({},a)}if(typeof a.groupFn==='string'){a=c.scopeReplacer(a,b,'groupFn','setGroupFn')}if(typeof a.sorterFn==='string'){a=c.scopeReplacer(a,b,'sorterFn','setSorterFn')}b=new Ext.util.Grouper(a)}if(b){b.owner=c.getGrid();b.headerTpl=c.getGroupHeaderTpl()}return b},updateGrouper:function(c,b){var a=this.getGrid().getStore();if(a&&b){if(b===a.getGrouper()){a.setGrouper(c)}}this.grouper=c},applySorter:function(b){var d=this,a=b,c;if(a&&!a.isInstance){if(a===!0){c=d.getSortParam();if(!c){return null}a={property:c,direction:'ASC'}}else {if(typeof a==='string'){a={sorterFn:a}}if(typeof a.sorterFn==='string'){a=d.scopeReplacer(a,b,'sorterFn','setSorterFn')}}b=new Ext.util.Sorter(a)}if(b){b.owner=d.getGrid()}return b},updateSorter:function(c,b){var d=this.getGrid().getStore(),a=d?d.getSorters():null,e;if(a){if(b&&(e=a.indexOf(b))>-1){if(c){a.splice(e,1,c)}else {a.remove(b)}}}this.sorter=c},pickSorter:function(){var b=this,c=b.getGrid().getStore(),a,d;if(c.isGrouped()){d=c.getGroupers(!1);if(d){a=d.get(b.getDataIndex())}else if(c.getGroupField()===b.getDataIndex()){a=b.getGrouper()||c.getGrouper()}if(a){b.sortState=a.getDirection()}}if(!a){a=b.getSorter()}return a},applyHideShowMenuItem:function(b,a){return Ext.updateWidget(a,b,this,'createHideShowMenuItem')},createHideShowMenuItem:function(a){return Ext.apply({text:this.getText(),checked:!this.getHidden(),column:this},a)},getHideShowMenuItem:function(g){var a=this,c=(arguments.callee.$previous||Ext.grid.HeaderContainer.prototype.getHideShowMenuItem).call(this),e=a.items.items,h=e.length,f=[],b=a.childColumnsMenu,d;if(a.isHeaderGroup&&g!==!1){if(!b){c.setMenu({});a.childColumnsMenu=b=c.getMenu()}if(!b.items.length||a.rebuildChildColumnsMenu){for(d=0;d<h;d++){if(e[d].getHideable()){f.push(e[d].getHideShowMenuItem())}}b.removeAll(!1);b.add(f)}}c['set'+(c.getMenu()?'CheckChange':'')+'Disabled'](!a.isHideable());return c},getInnerHtmlElement:function(){return this.textElement},getSortParam:function(){return this.getDataIndex()},applyCell:function(a,b){if(b){a=Ext.apply(b,a)}return a},createCell:function(d){var b=this,c={row:d,ownerCmp:d||b,column:b,width:b.rendered?b.getComputedWidth()||b.measureWidth():b.getWidth(),minWidth:b.getMinWidth()},e=b.getAlign(),a;if(d&&d.isSummaryRow){a=b.getSummaryCell();if(!a){a=b.getCell();if(a.xtype==='widgetcell'){a=Ext.apply({},a);a.xtype='gridcell';delete a.widget}}}else {a=b.getCell()}if(e){c.align=e}if(d){c.hidden=b.isHidden(d.getGrid().getHeaderContainer());c.record=d.getRecord();if(!(c.ui=d.getDefaultCellUI())){delete c.ui}}if(typeof a==='string'){c.xtype=a}else {Ext.apply(c,a)}return c},applyScratchCell:function(a,c){var b=this;if(a){a=Ext.create(b.createCell());if(!a.printValue){Ext.destroy(a);a=b.createCell();a.xtype='gridcell';a=Ext.create(a)}a.addCls(b.floatingCls)}if(c){c.destroy()}return a},printValue:function(d){var c=this,b=c.getGrid().dataItems[0],a;if(b&&b.isGridRow){a=b.getCellByColumn(c)}a=a&&a.printValue?a:c.getScratchCell();return a.printValue(d)},autoSize:function(){var d=this,h=Math.max,m=new Ext.util.TextMetrics(),n=0,a=0,i=d.getCells(),p=d.getGrid(),g,j,k,e,f,b,c,q,o,l;if(!d.getResizable()){return}e=p.getStore();g=d.getDataIndex();if(e&&g){if(e.isVirtualStore){c=e.pageMap.pages}else {c=e.getData()&&e.getData().items}if(g&&Ext.isArray(c)){f=c.length;for(b=0;b<f;b++){j=m.getWidth(c[b].get(g));a=h(a,j)}}else if(Ext.isObject(c)){for(q in c){k=c[q].records;f=k&&k.length;for(b=0;b<f;b++){j=m.getWidth(k[b].get(g));a=h(a,j)}}}}o=d.textElement.dom.offsetWidth+d.titleElement.getPadding('lr');a=h(a,o);if(i.length){f=i.length;l=i[0].element;for(b=0;b<f;b++){a=h(a,i[b].element.getTextWidth())}if(Ext.supports.ScrollWidthInlinePaddingBug){n+=l.getPadding('r')}if(p.getColumnLines()){n+=l.getBorderWidth('lr')}a+=n}a=h(a+1,d.getMinWidth());d.setWidth(a);m.destroy()},getListOfSummaries:function(){var d=[],e=this.getSummaries()||{},c=Ext.Object.getAllKeys(e),f=c.length,a,b;for(a=0;a<f;a++){b=c[a];if(e[b]){d.push(b)}}return d},applySummaries:function(a,c){var b=this.self.getConfigurator().configs.summaries;return b.mergeSets(a)},privates:{directionSequence:{'null':'ASC','ASC':'DESC','DESC':null},applySummary:function(a){if(a){a=Ext.Factory.dataSummary(a)}return a},beginRefresh:function(a){var c=this,b=c.getGrid();a=a||{};a.column=c;a.grid=b;a.store=b.store;return a},canGroup:function(){return this.getGroupable()&&(this.getDataIndex()||this.getGrouper())},sort:function(d,g){var b=this,a=b.pickSorter(),f=b.getGrid(),c=f.getStore(),e=c.getSorters();if(!b.isSortable()){return}if(a.isGrouper){if(a.getDirection()!==d){a.toggle();c.group(a)}}else if(d){if(a){if(e.indexOf(a)!==0){a.setDirection(d)}}else {b.setSorter({property:b.getSortParam(),direction:'ASC'});a=b.getSorter()}c.sort(a,g||f.getMultiColumnSort()?'multi':'replace')}else {if(a){e.remove(a);if(!c.getRemoteSort()){b.getRootHeaderCt().setSortState()}}}},toggleSortState:function(){this.sort(this.directionSequence[this.sortState])},setSortState:function(c){var a=this,k=a.getGrid().getStore(),q=k.isGrouped()&&k.getGrouper(),n=a.sortState,b=null,d=a.sortedCls,m=a.secondarySortCls,o=a.auxSortCls,j=d+'-asc',i=d+'-desc',h=a.ariaEl.dom,g='',p,f,e=[m,o],l;if(c){if(typeof c==='string'){b=c}else {if(c===q){f=0}else {f=k.getSorters().indexOf(c)}b=c.getDirection();g=f===1?m:f>1?o:''}}p=b!==n;a.sortState=b;switch(b){case 'DESC':l=[d,i,g];e.push(j);break;case 'ASC':l=[d,j,g];e.push(i);break;default:e.push(d,j,i);break;}a.replaceCls(e,l);if(h){if(b){h.setAttribute('aria-sort',a.ariaSortStates[b])}else {h.removeAttribute('aria-sort')}}if(p){a.fireEvent('sort',a,b,n)}},getVisibleCount:function(){var b=this.getInnerItems(),d=b.length,c=0,a;for(a=0;a<d;++a){if(b[a].isHeaderGroup){c+=b[a].getVisibleCount()}else {c+=b[a].isHidden()?0:1}}return c},onShow:function(){var a;if(!this.getVisibleCount()){a=this.getComponent(0);if(a){a.show()}}},doVisibilityCheck:function(){var a=this,c=a.getInnerItems(),e=c.length,b,d;for(b=0;b<e;b++){d=c[b];if(!d.isHidden()){if(a.isHidden()){if(a.initialized){a.show()}else {a.setHidden(!1)}}return}}a.hide();a.rebuildChildColumnsMenu=!0;a.updateMenuDisabledState()},onColumnShow:function(){var a=this,b;if(a.getVisibleCount()>0){a.show();b=a.getHideShowMenuItem(!1);b.setChecked(!0);b.setCheckChangeDisabled(!1)}a.rebuildChildColumnsMenu=!0;a.updateMenuDisabledState()},onColumnHide:function(c){var a=this,b;if(a.getVisibleCount()===0){a.hide();b=a.getHideShowMenuItem(!1);b.setChecked(!1);b.setCheckChangeDisabled(!0)}a.rebuildChildColumnsMenu=!0;a.updateMenuDisabledState()},onColumnMove:function(a){this.rebuildChildColumnsMenu=!0},scopeReplacer:function(a,e,b,c){var f=this,d=a[b];if(typeof d==='string'){b=b||'sorterFn';c=c||'setSorterFn';if(e===a){a=Ext.apply({},a)}a[b]=function(){var g=f.resolveListenerScope(),h=g&&g[d],i=0;if(h){this[c](h.bind(g));i=h.apply(g,arguments)}return i}}return a}}},1,['column','gridcolumn','templatecolumn'],['widget','component','container','headercontainer','gridcolumn','column','templatecolumn'],{'widget':!0,'component':!0,'container':!0,'headercontainer':!0,'gridcolumn':!0,'column':!0,'templatecolumn':!0},['widget.column','widget.gridcolumn','widget.templatecolumn'],[[Ext.mixin.StyleCacher.prototype.mixinId||Ext.mixin.StyleCacher.$className,Ext.mixin.StyleCacher],[Ext.mixin.Toolable.prototype.mixinId||Ext.mixin.Toolable.$className,Ext.mixin.Toolable]],[Ext.grid.column,'Column',Ext.grid.column,'Template'],0);Ext.define('Ext.grid.filters.Column',{override:'Ext.grid.column.Column',config:{filter:null},createFilter:function(f){var b=this,a=b.getFilter(),e,c,d;if(a!==!1){if(!a||a===!0){e=!0;a={}}else if(typeof a==='string'){e=!0;a={type:a}}if(!a.type){if(!e){e=!0;a=Ext.clone(a)}if(!(a.type=b.defaultFilterType||b.columnFilterTypes[b.xtype])){d=b.getGrid().getStore();d=d&&d.getModel();c=b.getDataIndex();if(c&&d){c=d.getField(c);a.type=b.fieldFilterTypes[c&&c.type]}}if(!a.type){a=!1}}if(f&&a){if(!e){a=Ext.clone(a)}a=Ext.apply(a,f)}}return a},privates:{columnFilterTypes:{booleancolumn:'boolean',datecolumn:'date',numbercolumn:'number'},fieldFilterTypes:{auto:'string',bool:'boolean','boolean':'boolean',date:'date','float':'number',number:'number','int':'number',integer:'number',string:'string'}}},function(){Ext.Factory.define('gridFilters',{defaultType:'string'})});Ext.cmd.derive('Ext.grid.cell.Date',Ext.grid.cell.Text,{isDateCell:!0,config:{format:''},updateColumn:function(a,c){var b;Ext.grid.cell.Text.prototype.updateColumn.call(this,a,c);if(a&&a.isDateColumn){b=a.getFormat();if(b!==null){this.setFormat(b)}}},applyFormat:function(a){return a||Ext.Date.defaultFormat},updateFormat:function(a){if(!this.isConfiguring){this.writeValue()}},formatValue:function(a){return a?Ext.isDate(a)?Ext.Date.format(a,this.getFormat()):a:''}},0,['datecell'],['widget','gridcellbase','textcell','datecell'],{'widget':!0,'gridcellbase':!0,'textcell':!0,'datecell':!0},['widget.datecell'],0,[Ext.grid.cell,'Date'],0);Ext.cmd.derive('Ext.grid.column.Date',Ext.grid.column.Column,{isDateColumn:!0,config:{format:null,defaultEditor:{xtype:'datepickerfield'},cell:{xtype:'datecell'},summaries:{min:!0,max:!0,count:!1}}},0,['datecolumn'],['widget','component','container','headercontainer','gridcolumn','column','templatecolumn','datecolumn'],{'widget':!0,'component':!0,'container':!0,'headercontainer':!0,'gridcolumn':!0,'column':!0,'templatecolumn':!0,'datecolumn':!0},['widget.datecolumn'],0,[Ext.grid.column,'Date'],0);Ext.cmd.derive('Ext.grid.menu.AddGroup',Ext.menu.Item,{iconCls:'x-headermenu-add-group',text:'Add to grouping'},0,['gridaddgroupmenuitem'],['widget','component','menuitem','gridaddgroupmenuitem'],{'widget':!0,'component':!0,'menuitem':!0,'gridaddgroupmenuitem':!0},['widget.gridaddgroupmenuitem'],0,[Ext.grid.menu,'AddGroup'],0);Ext.define('Ext.locale.fr.grid.menu.AddGroup',{override:'Ext.grid.menu.AddGroup',config:{text:'Ajouter au groupement'}});Ext.cmd.derive('Ext.grid.menu.Shared',Ext.menu.Item,{config:{grid:null},doDestroy:function(){this.setGrid(null);Ext.menu.Item.prototype.doDestroy.call(this)},updateGrid:function(a,c){var b=this;if(c){c.removeSharedMenuItem(b)}b.grid=a;if(a){a.addSharedMenuItem(b)}},onBeforeShowColumnMenu:function(a){a.add(this)},onColumnMenuHide:function(a){if(!this.destroyed){a.remove(this,!1)}}},0,0,['widget','component','menuitem'],{'widget':!0,'component':!0,'menuitem':!0},0,0,[Ext.grid.menu,'Shared'],0);Ext.cmd.derive('Ext.grid.menu.Columns',Ext.grid.menu.Shared,{iconCls:'x-headermenu-columns-icon',text:'Columns',menu:{},updateMenu:function(a,c){var b=this;Ext.grid.menu.Shared.prototype.updateMenu.call(this,a,c);Ext.destroy(b.menuListeners);if(a){b.menuListeners=a.on({checkchange:'onCheckItem',delegate:'menucheckitem',scope:b,destroyable:!0})}},onBeforeShowColumnMenu:function(h,g,f){var c=f.getHeaderContainer().items.items,e=[],i=c.length,d=this.getMenu(),b,a;Ext.grid.menu.Shared.prototype.onBeforeShowColumnMenu.call(this,h,g,f);for(b=0;b<i;++b){a=c[b];if(a.getHideable()){if(a._hideShowMenuItem&&a._hideShowMenuItem.destroyed){a.setHideShowMenuItem(null);a.setHideShowMenuItem(a.config.hideShowMenuItem)}e.push(a.getHideShowMenuItem())}}d.removeAll(!1);d.add(e)},onCheckItem:function(a,b){a.column.setHidden(!b)}},0,['gridcolumnsmenu'],['widget','component','menuitem','gridcolumnsmenu'],{'widget':!0,'component':!0,'menuitem':!0,'gridcolumnsmenu':!0},['widget.gridcolumnsmenu'],0,[Ext.grid.menu,'Columns'],0);Ext.cmd.derive('Ext.grid.menu.GroupByThis',Ext.menu.Item,{iconCls:'x-headermenu-group-by-this',text:'Group by this field'},0,['gridgroupbythismenuitem'],['widget','component','menuitem','gridgroupbythismenuitem'],{'widget':!0,'component':!0,'menuitem':!0,'gridgroupbythismenuitem':!0},['widget.gridgroupbythismenuitem'],0,[Ext.grid.menu,'GroupByThis'],0);Ext.cmd.derive('Ext.grid.menu.Groups',Ext.menu.Item,{iconCls:'x-headermenu-groups',text:'Groups',menu:[{iconCls:'x-headermenu-expand-groups',text:'Expand all',handler:'up.expandAll'},{iconCls:'x-headermenu-collapse-groups',text:'Collapse all',handler:'up.collapseAll'}]},0,['gridgroupsmenuitem'],['widget','component','menuitem','gridgroupsmenuitem'],{'widget':!0,'component':!0,'menuitem':!0,'gridgroupsmenuitem':!0},['widget.gridgroupsmenuitem'],0,[Ext.grid.menu,'Groups'],0);Ext.define('Ext.locale.fr.grid.menu.Groups',{override:'Ext.grid.menu.Groups',config:{text:'Groupes',menu:[{text:'Dvelopper tout'},{text:'Rduire tout'}]}});Ext.cmd.derive('Ext.grid.menu.RemoveGroup',Ext.menu.Item,{iconCls:'x-headermenu-remove-group',text:'Remove from grouping'},0,['gridremovegroupmenuitem'],['widget','component','menuitem','gridremovegroupmenuitem'],{'widget':!0,'component':!0,'menuitem':!0,'gridremovegroupmenuitem':!0},['widget.gridremovegroupmenuitem'],0,[Ext.grid.menu,'RemoveGroup'],0);Ext.define('Ext.locale.fr.grid.menu.RemoveGroup',{override:'Ext.grid.menu.RemoveGroup',config:{text:'Supprimer du groupement'}});Ext.cmd.derive('Ext.grid.menu.ShowInGroups',Ext.menu.CheckItem,{hideOnClick:!0,text:'Show in groups'},0,['gridshowingroupsmenuitem'],['widget','component','menuitem','menucheckitem','gridshowingroupsmenuitem'],{'widget':!0,'component':!0,'menuitem':!0,'menucheckitem':!0,'gridshowingroupsmenuitem':!0},['widget.gridshowingroupsmenuitem'],0,[Ext.grid.menu,'ShowInGroups'],0);Ext.cmd.derive('Ext.menu.RadioItem',Ext.menu.CheckItem,{classCls:'x-menuradioitem',nameable:!0,shareableName:!0,ariaRole:'menuitemradio',config:{group:null,allowUncheck:null},privates:{onSpace:function(a){if(this.checkboxElement.dom.checked){a.preventDefault()}},updateGroup:function(a){this.name=a},onCheckboxChange:function(){var a=this.checkboxElement.dom,b=a.checked;if(b===this.getChecked()||this.getDisabled()){return}if(!b&&!this.getAllowUncheck()){a.checked=!0}else {Ext.menu.CheckItem.prototype.onCheckboxChange.call(this)}},onCheckChange:function(){var d=this,h=d.checkboxElement.dom,a=d.getParent(),c,b,f,g,e;d.getGroup();c=d.name;if(c&&a&&!a.updatingGroups){b={};if(h.checked){b[c]=d.getValue();a.setGroups(b)}else {f=a.lookupName(c);g=f&&f.length;for(e=0;e<g&&!f[e].checkboxElement.dom.checked;e++){}if(e===g){b[c]=null;a.setGroups(b)}}}Ext.menu.CheckItem.prototype.onCheckChange.call(this)}}},0,['menuradioitem'],['widget','component','menuitem','menucheckitem','menuradioitem'],{'widget':!0,'component':!0,'menuitem':!0,'menucheckitem':!0,'menuradioitem':!0},['widget.menuradioitem'],0,[Ext.menu,'RadioItem'],0);Ext.cmd.derive('Ext.grid.menu.SortAsc',Ext.menu.RadioItem,{iconCls:'x-headermenu-sort-asc',text:'Sort Ascending',value:'ASC',allowUncheck:!0,group:'grid-sorters'},0,['gridsortascmenuitem'],['widget','component','menuitem','menucheckitem','menuradioitem','gridsortascmenuitem'],{'widget':!0,'component':!0,'menuitem':!0,'menucheckitem':!0,'menuradioitem':!0,'gridsortascmenuitem':!0},['widget.gridsortascmenuitem'],0,[Ext.grid.menu,'SortAsc'],0);Ext.cmd.derive('Ext.grid.menu.SortDesc',Ext.menu.RadioItem,{iconCls:'x-headermenu-sort-desc',text:'Sort Descending',value:'DESC',allowUncheck:!0,group:'grid-sorters'},0,['gridsortdescmenuitem'],['widget','component','menuitem','menucheckitem','menuradioitem','gridsortdescmenuitem'],{'widget':!0,'component':!0,'menuitem':!0,'menucheckitem':!0,'menuradioitem':!0,'gridsortdescmenuitem':!0},['widget.gridsortdescmenuitem'],0,[Ext.grid.menu,'SortDesc'],0);Ext.cmd.derive('Ext.grid.selection.Cells',Ext.dataview.selection.Selection,{isCells:!0,clone:function(){var a=this,b=new a.self(a.view);if(a.startCell){b.startCell=a.startCell.clone();b.endCell=a.endCell.clone()}return b},isSelected:function(a,c){var b;if(this.startCell){if(a.isGridLocation){c=a.columnIndex;a=a.recordIndex}b=this.getRowRange();if(a>=b[0]&&a<=b[1]){b=this.getColumnRange();return c>=b[0]&&c<=b[1]}}return !1},eachRow:function(f,d){var b=this,c=b.getRowRange(),e=b.view.store,a;for(a=c[0];a<=c[1];a++){if(f.call(d||b,e.getAt(a))===!1){return}}},eachColumn:function(e,d){var b=this.getColumnRange(),c=this.view.getVisibleColumns(),a;for(a=b[0];a<=b[1];a++){if(e.call(d||this,c[a],a)===!1){return}}},eachCell:function(k,i){var c=this,h=c.view,j=h.store,g=c.getRowRange(),e=c.getColumnRange(),d,f,b,a;for(b=g[0];b<=g[1];b++){d=new Ext.grid.Location(h,j.getAt(b));for(a=e[0];a<=e[1];a++){f=d.cloneForColumn(a);if(k.call(i||c,f,a,b)===!1){return}}}},getFirstRowIndex:function(){return this.startCell?Math.min(this.startCell.recordIndex,this.endCell.recordIndex):0},getLastRowIndex:function(){return this.startCell?Math.max(this.startCell.recordIndex,this.endCell.recordIndex):-1},getFirstColumnIndex:function(){return this.startCell?Math.min(this.startCell.columnIndex,this.endCell.columnIndex):0},getLastColumnIndex:function(){return this.startCell?Math.max(this.startCell.columnIndex,this.endCell.columnIndex):-1},privates:{clear:function(d){var a=this,c=a.view,b;if(c.getVisibleColumns().length){a.eachCell(function(a){c.onCellDeselect(a);b=!0})}a.startCell=a.endCell=null;if(b&&!d){this.getSelectionModel().fireSelectionChange()}},setRangeStart:function(a){this.startCell=(this.endCell=a.clone()).clone();this.view.onCellSelect(a);this.fireCellSelection()},setRangeEnd:function(o){var e=this,d=e.view,p=d.store,i=d.renderInfo,n=d.getVisibleColumns().length-1,a,f,k,m,j,l,c,b,g,h;e.endCell=o.clone();a=e.getRange();f=e.lastRange||a;k=Math.max(Math.min(a[0][1],f[0][1]),i.indexTop);m=Math.min(Math.max(a[1][1],f[1][1]),i.indexBottom-1);j=Math.min(a[0][0],f[0][0]);l=Math.min(Math.max(a[1][0],f[1][0]),n);for(c=k;c<=m;c++){h=new Ext.grid.Location(d,p.getAt(c));for(b=j;b<=l;b++){g=h.cloneForColumn(b);if(c<a[0][1]||c>a[1][1]||b<a[0][0]||b>a[1][0]){d.onCellDeselect(g)}else {d.onCellSelect(g)}}}e.lastRange=a;e.fireCellSelection()},extendRange:function(b){var a=this,c=a.view,d;if(b[b.type]<0){d=new Ext.grid.Location(c,{record:a.getLastRowIndex(),column:a.getLastColumnIndex()});a.startCell=b.start.clone();a.setRangeEnd(d);c.getNavigationModel().setLocation({column:b.start.columnIndex,record:b.start.record})}else {a.startCell=new Ext.grid.Location(c,{record:a.getFirstRowIndex(),column:a.getFirstColumnIndex()});a.setRangeEnd(b.end);c.getNavigationModel().setLocation({column:b.end.columnIndex,record:b.end.record})}},reduceRange:function(a){var b=this,d=b.view,c;if(a.type==='rows'){c=new Ext.grid.Location(d,{record:a.end.recordIndex-1,column:a.end.columnIndex});b.setRangeEnd(c);d.getNavigationModel().setLocation({column:a.end.columnIndex,record:b.view.getStore().getAt(a.end.recordIndex-1)})}else {c=new Ext.grid.Location(d,{record:a.end.recordIndex,column:a.end.columnIndex});b.setRangeEnd(c);d.getNavigationModel().setLocation({column:a.end.columnIndex,record:b.view.getStore().getAt(a.end.recordIndex)})}},getRange:function(){return [[this.getFirstColumnIndex(),this.getFirstRowIndex()],[this.getLastColumnIndex(),this.getLastRowIndex()]]},getRangeSize:function(){return this.getCount()},getRecords:function(){var a=this.getRowRange();return this.getSelectionModel().getStore().getRange(a[0],a[1])},getCount:function(){var a=this.getRange();return (a[1][0]-a[0][0]+1)*(a[1][1]-a[0][1]+1)},fireCellSelection:function(){var b=this,c=b.getSelectionModel(),a=c.getView();a.fireEvent('cellselection',a,b.getRange())},selectAll:function(){var b=this,a=b.view,c=a.getVisibleColumns();b.clear();b.setRangeStart(new Ext.grid.Location(a,{record:0,column:0}));b.setRangeEnd(new Ext.grid.Location(a,{record:a.store.last(),column:c[c.length-1]}))},isAllSelected:function(){var b=this.startCell,a=this.endCell;if(b){if(!b.columnIndex&&!b.recordIndex){return a.columnIndex===a.view.getVisibleColumns().length-1&&a.recordIndex===a.view.store.getCount()-1}}return !1},getColumnRange:function(){return [this.getFirstColumnIndex(),this.getLastColumnIndex()]},getLastSelected:function(){return this.view.getStore().getAt(this.endCell.recordIndex)},getRowRange:function(){return [this.getFirstRowIndex(),this.getLastRowIndex()]},onSelectionFinish:function(){var a=this,b=a.view;if(a.getCount()){a.getSelectionModel().onSelectionFinish(a,new Ext.grid.Location(b,{record:a.getFirstRowIndex(),column:a.getFirstColumnIndex()}),new Ext.grid.Location(b,{record:a.getLastRowIndex(),column:a.getLastColumnIndex()}))}else {a.getSelectionModel().onSelectionFinish(a)}}}},0,0,0,0,['selection.cells'],0,[Ext.grid.selection,'Cells'],0);Ext.define('App.overrides.grid.selection.Cells',{override:'Ext.grid.selection.Cells',isSelected:function(a,b){if(!a){return !1}arguments.callee.$previous.apply(this,arguments)}});Ext.cmd.derive('Ext.grid.selection.Columns',Ext.dataview.selection.Selection,{isColumns:!0,clone:function(){var a=this,c=new a.self(a.view),b=a.selectedColumns;if(b){c.selectedColumns=Ext.Array.slice(b)}return c},eachRow:function(c,b){var a=this.selectedColumns;if(a&&a.length){this.view.getStore().each(c,b||this)}},eachColumn:function(f,e){var d=this,b=d.selectedColumns,c,a;if(b){c=b.length;for(a=0;a<c;a++){if(f.call(e||d,b[a],a)===!1){return !1}}}},eachCell:function(h,g){var d=this,e=d.view,c=d.selectedColumns,a=new Ext.grid.Location(e),f,b;if(c){f=c.length;e.getStore().each(function(e){a=a.clone({record:e});for(b=0;b<f;b++){a=a.clone({column:c[b]});if(h.call(g||d,a,a.columnIndex,a.recordIndex)===!1){return !1}}})}},isSelected:function(b){var a=this.selectedColumns;if(b&&b.isGridColumn&&a&&a.length){return Ext.Array.contains(a,b)}return !1},getCount:function(){var a=this.selectedColumns;return a?a.length:0},getColumns:function(){return this.selectedColumns||[]},privates:{add:function(c,d){var a=this,b;b=a.getSelectionModel();Ext.Array.include(a.selectedColumns||(a.selectedColumns=[]),c);a.refreshColumns(c);b.updateHeaderState();if(!d){b.fireSelectionChange();a.fireColumnSelection()}},clear:function(d){var a=this,c=a.getSelectionModel(),b=a.selectedColumns;if(b&&b.length){a.selectedColumns=[];a.refreshColumns.apply(a,b);c.updateHeaderState();if(!d){c.fireSelectionChange();a.fireColumnSelection()}}},setRangeStart:function(b){var a=this,c=a.getColumns();c.push(b);a.clear(!0);a.startColumn=b;a.add(b)},setRangeEnd:function(h){var a=this,f=a.getColumns(),e=this.view.ownerGrid.getHeaderContainer(),g=e.getVisibleColumns(),c=e.indexOfLeaf(a.startColumn),d=e.indexOfLeaf(h),b;if(d<c){b=c;c=d;d=b}a.selectedColumns=[];for(b=c;b<=d;b++){a.selectedColumns.push(g[b]);f.push(g[b])}a.refreshColumns.apply(a,f);a.fireColumnSelection()},isAllSelected:function(){var b=this.selectedColumns,a;if(!b){return !1}a=this.view.getHeaderContainer();return b.length===a.getVisibleColumns().length},refreshColumns:function(k){var i=this,b=i.view,j=b.store,f=b.renderInfo,e=arguments,h=e.length,g=[],c,d,a;if(b.rendered){for(a=0;a<h;a++){g[a]=i.isSelected(e[a])}for(d=f.indexTop;d<f.indexBottom;d++){c=new Ext.grid.Location(b,j.getAt(d));for(a=0;a<h;a++){c=c.cloneForColumn(e[a]);if(g[a]){b.onCellSelect(c)}else {b.onCellDeselect(c)}}}}},remove:function(b,d){var a=this,c=a.getSelectionModel();if(a.selectedColumns){Ext.Array.remove(a.selectedColumns,b);if(b.getGrid()&&b.isVisible()){a.refreshColumns(b);c.updateHeaderState();if(!d){c.fireSelectionChange();a.fireColumnSelection()}}}},fireColumnSelection:function(){var b=this,c=b.getSelectionModel(),a=c.getView();a.fireEvent('columnselection',a,b.selectedColumns)},selectAll:function(){var a=this;a.clear();a.selectedColumns=a.getSelectionModel().lastContiguousColumnRange=a.view.getHeaderContainer().getVisibleColumns();a.refreshColumns.apply(a,a.selectedColumns)},extendRange:function(b){var c=this,d=c.view.getHeaderContainer().getVisibleColumns(),a;for(a=b.start.columnIndex;a<=b.end.columnIndex;a++){c.add(d[a])}},reduceRange:function(c){var b=this,g=b.view.getHeaderContainer().getVisibleColumns(),f=c.start.columnIndex,d=c.end.columnIndex,e=Math.abs(f-d)+1,h=b.selectedColumns.length-e,a;for(a=h;a>0;a--){b.remove(g[d+a])}},onSelectionFinish:function(){var a=this,b=a.getContiguousSelection(),c,d;if(b){c=new Ext.grid.Location(a.view,{record:0,column:b[0]});d=new Ext.grid.Location(a.view,{record:a.view.getStore().getCount()-1,column:b[1]});a.getSelectionModel().onSelectionFinish(a,c,d)}else {a.getSelectionModel().onSelectionFinish(a)}},getContiguousSelection:function(){var a=Ext.Array.sort(this.getColumns(),function(a,b){var e=a.getGrid().ownerGrid,c=e.getHeaderContainer().indexOfLeaf(a),f=b.getGrid().ownerGrid,d=f.getHeaderContainer().indexOfLeaf(b);return c-d}),c=a.length,b;if(c){for(b=1;b<c;b++){if(a[b].getVisibleIndex()!==a[b-1].getVisibleIndex()+1){return !1}}return [a[0],a[c-1]]}}}},0,0,0,0,['selection.columns'],0,[Ext.grid.selection,'Columns'],0);Ext.cmd.derive('Ext.grid.selection.Replicator',Ext.plugin.Abstract,{init:function(a){this.gridListeners=a.on({beforeselectionextend:this.onBeforeSelectionExtend,scope:this,destroyable:!0})},onBeforeSelectionExtend:function(c,a,b){var d=this.columns=[];a.eachColumn(function(e){d.push(e)});return this.replicateSelection(c,a,b)},replicateSelection:function(w,r,e){var l=this,j,i,a,f,k,o,p,g,m,c,h,d,q,v,n,s,b,t,u;if(e.columns||r.isColumns){return}j=l.columns;g=r.getFirstRowIndex();m=r.getLastRowIndex();s=m-g+1;b=[];i=j.length;d=j[0].getGrid().getStore();if(s===1){k=l.getColumnValues(r.view.getStore().getAt(g))}else {k=new Array(i);if(e.rows<0){b=[d.getAt(g+1),d.getAt(g)]}else {b=[d.getAt(m-1),d.getAt(m)]}b[0]=l.getColumnValues(b[0]);b[1]=l.getColumnValues(b[1]);for(a=0;a<i;a++){t=b[1][a];u=b[0][a];if(!isNaN(t)&&!isNaN(u)){k[a]=Number(t)-Number(u)}}}if(e.rows<0){o=e.end.recordIndex;p=e.start.recordIndex-1;h=-1}else {o=e.start.recordIndex;p=e.end.recordIndex+1;h=1}if(s===1){for(c=o;c!==p;c+=h){q=d.getAt(c);for(a=0;a<i;a++){f=j[a];if(f.getDataIndex()){q.set(f.getDataIndex(),k[a])}}}}else {for(c=o;c!==p;c+=h){q=d.getAt(c);v=l.getColumnValues(d.getAt(c-h));for(a=0;a<i;a++){f=j[a];if(f.getDataIndex()){n=v[a];if(!isNaN(n)){q.set(f.getDataIndex(),Ext.coerce(Number(n)+k[a],n))}}}}}},getColumnValues:function(e){var b=this.columns,f=b.length,a,c,d=new Array(b.length);for(a=0;a<f;a++){c=b[a];if(c.getDataIndex()){d[a]=e.get(c.getDataIndex())}}return d},destroy:function(){this.gridListeners=Ext.destroy(this.gridListeners);Ext.plugin.Abstract.prototype.destroy.call(this)}},0,0,0,0,['plugin.selectionreplicator'],0,[Ext.grid.selection,'Replicator'],0);Ext.cmd.derive('Ext.grid.selection.SelectionExtender',Ext.Base,{maskBox:{},constructor:function(b){var a=this,c=b.view,d={dragstart:'onDragStart',dragend:'onDragEnd',scope:a};Ext.apply(a,b);a.el=c.outerCt;a.handle=c.bodyElement.createChild({cls:'x-selmodel-extender-drag-handle'}).hide();if(Ext.supports.Touch){d.longpress='onHandleLongpress'}a.handle.on(d);a.mask=c.outerCt.createChild({cls:'x-selmodel-extender-mask'}).hide();a.scrollListener=c.getScrollable().on({scroll:a.onViewScroll,scope:a,destroyable:!0});a.viewListener=c.on({columnresize:'alignHandle',columnhide:'alignHandle',columnshow:'alignHandle',columnmove:'alignHandle',scope:a,destroyable:!0});if(b&&b.axes){a.setAxes(b.axes)}},setAxes:function(a){var b=this;b.axes=a;b.extendX=!!(a&1);b.extendY=!!(a&2)},setHandle:function(c,b){var a=this;a.firstPos=c;a.endPos=b;if(c&&b&&b.getCell(!0)){a.curPos=b;a.alignHandle()}else {a.disable()}},alignHandle:function(){var b=this,a=b.endPos;if(b.firstPos&&a&&b.view.isRecordRendered(a.recordIndex)){a=a.clone({record:a.record,column:a.column}).getCell();if(a&&a.isVisible()){b.enable()}else {b.disable()}b.handle.alignTo(a,'c-br')}else {b.disable()}},enable:function(){this.handle.show()},disable:function(){this.handle.hide();this.mask.hide()},onHandleLongpress:function(a){a.startDrag()},onDragStart:function(a){if(a.pointerType!=='touch'||a.longpress){a.claimGesture();this.handle.on('drag',this.onDrag,this)}},onDrag:function(d){var a=this,k,l,g,f,j,e,c,i,h,b;if(d.changedTouches){f=d.changedTouches[0];if(f&&!Ext.fly(f.target).getRegion().contains(f.point)){j=Ext.event.Event.resolveTextNode(Ext.Element.fromPagePoint(f.pageX,f.pageY,!0));if(j){d.target=j}}}k=d.target;l=a.view;g=l.getScrollable().getElement().getClientRegion();e=new Ext.grid.Location(l,k);c=a.scrollTask||(a.scrollTask=Ext.util.TaskManager.newTask({run:a.doAutoScroll,scope:a,interval:10}));i=25*(window.devicePixelRatio||1);h=3*(window.devicePixelRatio||1);b=a.scrollBy||(a.scrollBy=[]);d.claimGesture();a.lastXY=[d.pageX,d.pageY];if(!a.el.contains(k)){b[0]=b[1]=0;return c.stop()}if(a.lastXY[1]>g.bottom-i){if(a.extendY){b[1]=h;c.start()}}else if(a.lastXY[1]<g.top+i){if(a.extendY){b[1]=-h;c.start()}}else if(a.lastXY[0]>g.right-i){if(a.extendX){b[0]=h;c.start()}}else if(a.lastXY[0]<g.left+i){if(a.extendX){b[0]=-h;c.start()}}else {b[0]=b[1]=0;c.stop()}if(e&&e.getCell()&&!e.equals(a.lastOverCell)){a.lastOverCell=e;a.syncMaskOnCell(e)}},doAutoScroll:function(){var b=this,d=b.view,c=d.getScrollable(),a;c.scrollBy.apply(c,b.scrollBy);a=document.elementFromPoint.apply(document,b.lastXY);if(a){a=new Ext.grid.Location(b.view,a);if(a&&a.getCell()&&!a.equals(b.lastOverCell)){b.lastOverCell=a;b.syncMaskOnCell(a)}}},onDragEnd:function(d){var a=this,b=a.view.getSelectable(),c=b&&b.getSelection();a.handle.un('drag',a.onDrag,a);if(a.scrollTask){a.scrollTask.stop()}if(a.extensionDescriptor){a.disable();if(c.isColumns&&d.direction.y<0||c.isRows&&d.direction.x<0){a.alignHandle();return}b.extendSelection(a.extensionDescriptor)}},onViewScroll:function(){var a=this;if(a.active&&a.lastOverCell||a.firstPos){a.endPos=a.endPos.clone({record:a.endPos.recordIndex});a.alignHandle()}},stopEvent:function(a){a.stopEvent()},syncMaskOnCell:function(e){var a=this,h=a.view,i=h.renderInfo,c=a.maskBox,l=a.firstPos.recordIndex,j=a.endPos.recordIndex,f=a.firstPos.clone({record:l}),g=a.endPos.clone({record:j}),m=!a.allowReduceSelection,b,k,n,p,o,d;k=a.firstPos.clone({record:Ext.Number.constrain(Math.min(l,j),i.indexTop,i.indexBottom-1),column:a.firstPos.column});p=a.endPos.clone({record:Ext.Number.constrain(Math.max(k.recordIndex,j),i.indexTop,i.indexBottom-1)});n=k.getCell();o=p.getCell();a.selectionRegion=b=n.getRegion().union(o.getRegion());a.curPos=d=e;e=e.getCell('el');a.mask.dom.style.borderTopWidth=a.mask.dom.style.borderRightWidth=a.mask.dom.style.borderBottomWidth=a.mask.dom.style.borderLeftWidth='';if(d.recordIndex<a.firstPos.recordIndex&&a.extendY){a.extensionDescriptor={type:'rows',start:f.clone({record:d.recordIndex}),end:g.clone({record:a.firstPos.recordIndex-1}),rows:d.recordIndex-a.firstPos.recordIndex,mousePosition:a.lastXY};a.mask.dom.style.borderBottomWidth='0';c.x=b.x;c.y=e.getY();c.width=b.right-b.left;c.height=b.top-e.getY()}else if(d.recordIndex>a.endPos.recordIndex&&a.extendY){a.extensionDescriptor={type:'rows',start:f.clone({record:a.endPos.recordIndex+1}),end:g.clone({record:d.recordIndex}),rows:d.recordIndex-a.endPos.recordIndex,mousePosition:a.lastXY};a.mask.dom.style.borderTopWidth='0';c.x=b.x;c.y=b.bottom;c.width=b.right-b.left;c.height=e.getRegion().bottom-b.bottom}else if(!m&&d.recordIndex<a.endPos.recordIndex&&a.extendY&&d.columnIndex===a.endPos.columnIndex){a.extensionDescriptor={type:'rows',start:f.clone({record:a.endPos.recordIndex}),end:g.clone({record:d.recordIndex+1}),rows:-1,mousePosition:a.lastXY,reduce:!0};a.mask.dom.style.borderTopWidth='0';c.x=b.x;c.y=b.top;c.width=b.right-b.left;c.height=e.getRegion().bottom-b.top}else {if(d.columnIndex<a.firstPos.columnIndex&&a.extendX){a.extensionDescriptor={type:'columns',start:f.clone({column:d.columnIndex}),end:g.clone({column:a.firstPos.columnIndex-1}),columns:d.columnIndex-a.firstPos.columnIndex,mousePosition:a.lastXY};a.mask.dom.style.borderRightWidth='0';c.x=e.getX();c.y=b.top;c.width=b.left-e.getX();c.height=b.bottom-b.top}else if(d.columnIndex>a.endPos.columnIndex&&a.extendX){a.extensionDescriptor={type:'columns',start:f.clone({column:a.endPos.columnIndex+1}),end:g.clone({column:d.columnIndex}),columns:d.columnIndex-a.endPos.columnIndex,mousePosition:a.lastXY};a.mask.dom.style.borderLeftWidth='0';c.x=b.right;c.y=b.top;c.width=e.getRegion().right-b.right;c.height=b.bottom-b.top}else if(!m&&d.columnIndex<a.endPos.columnIndex&&a.extendX){a.extensionDescriptor={type:'columns',start:f.clone({column:a.firstPos.columnIndex}),end:g.clone({column:d.columnIndex}),columns:-1,mousePosition:a.lastXY,reduce:!0};a.mask.dom.style.borderLeftWidth='0';c.x=b.left;c.y=b.top;c.width=e.getRegion().right-b.left;c.height=b.bottom-b.top}else {a.extensionDescriptor=null}}if(h.hasListeners.selectionextenderdrag){h.fireEvent('selectionextenderdrag',h,h.getSelectable().getSelection(),a.extensionDescriptor)}if(a.extensionDescriptor){a.mask.show();a.mask.setBox(c)}else {a.mask.hide()}},destroy:function(){this.destroyMembers('viewListener','scrollListener','mask','handle')}},1,0,0,0,0,0,[Ext.grid.selection,'SelectionExtender'],0);Ext.cmd.derive('Ext.grid.cell.Number',Ext.grid.cell.Text,{isNumberCell:!0,config:{format:'0,000.00',renderer:null,scope:null},classCls:'x-numbercell',zeroValue:null,updateColumn:function(a,d){var e=this,c,b;Ext.grid.cell.Text.prototype.updateColumn.call(this,a,d);if(a&&a.isNumberColumn){c=a.getFormat();b=a.getRenderer();if(b!==null){e.setRenderer(b)}if(c!==null){this.setFormat(c)}}},updateFormat:function(a){if(!this.isConfiguring){this.writeValue()}},formatValue:function(a){var b=this,c=b.refreshContext,i=c?c.column.getDataIndex():b.dataIndex,h=c?c.column:b.column,k=c?c.record:b.record,g=b.getZeroValue(),j=a||a===0,d=b.getRenderer(),f,e;if(a===0&&g!==null){a=g||''}else if(d){f=[a,k,i,b,h];e=b.getScope()||c.scope;if(typeof d==='function'){a=d.apply(e||h,f)}else {a=Ext.callback(d,e,f,0,b)}}else {a=j?Ext.util.Format.number(a,this.getFormat()):''}return a}},0,['numbercell'],['widget','gridcellbase','textcell','numbercell'],{'widget':!0,'gridcellbase':!0,'textcell':!0,'numbercell':!0},['widget.numbercell'],0,[Ext.grid.cell,'Number'],0);Ext.cmd.derive('Ext.grid.cell.Check',Ext.grid.cell.Base,{config:{disabled:null},innerTemplate:[{reference:'checkboxElement',tabIndex:-1,cls:'x-checkbox-el x-font-icon'}],classCls:'x-checkcell',disabledCls:'x-disabled',checkedCls:'x-checked',constructor:function(a){Ext.grid.cell.Base.prototype.constructor.call(this,a);this.checkboxElement.on('tap','onTap',this)},applyValue:function(a){return !!a},updateValue:function(a,d){var b=this,c=b.getColumn();b.el.toggleCls(b.checkedCls,!!a);if(a){c.updateHeaderState()}else {c.setHeaderStatus(a)}},updateColumn:function(a,b){Ext.grid.cell.Base.prototype.updateColumn.call(this,a,b);if(a){this.setDisabled(a.getDisabled())}},applyDisabled:function(a){return Boolean(a)},updateDisabled:function(a){this.element.toggleCls(this.disabledCls,a)},disable:function(){this.setDisabled(!0)},enable:function(){this.setDisabled(!1)},onTap:function(e){var c=this,a=c.getRecord(),b=c.getColumn(),f=b.up('grid').getStore().indexOf(a),d;if(a){d=!b.isRecordChecked(a);if(c.getDisabled()){return}if(b.fireEvent('beforecheckchange',c,f,d,a,e)!==!1){if(c.getColumn().getStopSelection()){e.stopSelection=!0}if(a){b.setRecordChecked(a,d,e)}if(b.hasListeners.checkchange){b.fireEvent('checkchange',c,f,d,a,e)}}}}},1,['checkcell'],['widget','gridcellbase','checkcell'],{'widget':!0,'gridcellbase':!0,'checkcell':!0},['widget.checkcell'],0,[Ext.grid.cell,'Check'],0);Ext.define('Ext.theme.material.grid.cell.Check',{override:'Ext.grid.cell.Check',config:{ripple:{delegate:'.x-checkbox-el',bound:!1,color:'default',centered:!0}}});Ext.cmd.derive('Ext.grid.column.Check',Ext.grid.column.Column,{isCheckColumn:!0,cachedConfig:{headerCheckboxAlign:'bottom'},config:{stopSelection:!0,headerCheckbox:!1},align:'center',classCls:'x-checkcolumn',noHeaderCheckboxCls:'x-no-header-checkbox',checkedCls:'x-checked',hasTextCls:'x-has-text',checkboxAlignCls:{top:'x-checkbox-align-top',right:'x-checkbox-align-right',bottom:'x-checkbox-align-bottom',left:'x-checkbox-align-left'},text:'',ignoreExport:!0,cell:{xtype:'checkcell'},afterTitleTemplate:[{reference:'checkboxElement',classList:['x-checkbox-el','x-font-icon']}],onColumnTap:function(b){var a=this;if(b.target===a.checkboxElement.dom&&!a.getDisabled()){a.toggleAll(b)}Ext.grid.column.Column.prototype.onColumnTap.call(this,b)},toggleAll:function(c){var a=this,b=!a.allChecked;if(a.fireEvent('beforeheadercheckchange',a,b,c)!==!1){a.doToggleAll(b);a.setHeaderStatus(b);a.fireEvent('headercheckchange',a,b,c)}},doToggleAll:function(b){var a=this,c=a.getGrid().getStore();c.each(function(c){a.setRecordChecked(c,b)})},setRecordChecked:function(b,a,c){a=!!a;this.doSetRecordChecked(b,a);if(a){this.updateHeaderState()}else {this.setHeaderStatus(a)}},doSetRecordChecked:function(c,b){var a=this.getDataIndex();if(c.get(a)!==b){c.set(a,b)}},areAllChecked:function(){var e=this,a=e.getGrid().getStore(),c,d,b;if(a&&!a.isVirtualStore&&a.getCount()>0){c=a.getData().items;d=c.length;for(b=0;b<d;++b){if(!e.isRecordChecked(c[b])){return !1}}return !0}},isRecordChecked:function(a){return a.get(this.getDataIndex())},updateHeaderState:function(){if(!this.destroyed&&this.getHeaderCheckbox()!==!1){this.setHeaderStatus(this.areAllChecked())}},setHeaderStatus:function(b){var a=this;if(a.allChecked!==b){a.allChecked=b;a.el.toggleCls(a.checkedCls,b)}},updateDisabled:function(c,g){var f=this,d=f.getGrid(),b,e,a;Ext.grid.column.Column.prototype.updateDisabled.call(this,c,g);if(d){b=d.getViewItems();e=b.length;for(a=0;a<e;a++){b[a].getCellByColumn(f).setDisabled(c)}}},updateHeaderCheckboxAlign:function(d,c){var a=this,b=a.checkboxAlignCls;if(c){a.removeCls(b[c])}if(d){a.addCls(b[d])}},updateHeaderCheckbox:function(b){var a=this,c=a.getGrid();a.el.toggleCls(a.noHeaderCheckboxCls,!b);a.setSortable(a.getSortable()&&!b);if(c){a.updateHeaderState()}},updateText:function(a){this.setHtml(a);this.toggleCls(this.hasTextCls,!!a)}},0,['checkcolumn'],['widget','component','container','headercontainer','gridcolumn','column','templatecolumn','checkcolumn'],{'widget':!0,'component':!0,'container':!0,'headercontainer':!0,'gridcolumn':!0,'column':!0,'templatecolumn':!0,'checkcolumn':!0},['widget.checkcolumn'],0,[Ext.grid.column,'Check'],0);Ext.cmd.derive('Ext.grid.column.Selection',Ext.grid.column.Check,{classCls:'x-selectioncolumn',cell:{cls:'x-selection-cell'},weight:-900,menu:null,sortable:!1,draggable:!1,resizable:!1,hideable:!1,ignore:!0,stopSelection:!1,updateHeaderState:function(){if(!this.isConfiguring){this.getGrid().getSelectable().updateHeaderState()}},toggleAll:function(a){this.getGrid().getSelectable().toggleAll(this,a)},setRecordChecked:function(b,c,d){var a=this.getGrid().getSelectable();if(c){a.select(b,a.getMode()!=='single')}else {a.deselect(b)}},isRecordChecked:function(a){return this.getGrid().getSelectable().isRowSelected(a)}},0,['selectioncolumn'],['widget','component','container','headercontainer','gridcolumn','column','templatecolumn','checkcolumn','selectioncolumn'],{'widget':!0,'component':!0,'container':!0,'headercontainer':!0,'gridcolumn':!0,'column':!0,'templatecolumn':!0,'checkcolumn':!0,'selectioncolumn':!0},['widget.selectioncolumn'],0,[Ext.grid.column,'Selection'],0);Ext.cmd.derive('Ext.grid.column.Number',Ext.grid.column.Column,{isNumberColumn:!0,config:{format:null,summaries:{sum:!0,min:!0,max:!0,average:!0,variance:!0,variancep:!0,stddev:!0,stddevp:!0},groupable:!1},cell:{xtype:'numbercell'},defaultEditor:{xtype:'numberfield'}},0,['numbercolumn'],['widget','component','container','headercontainer','gridcolumn','column','templatecolumn','numbercolumn'],{'widget':!0,'component':!0,'container':!0,'headercontainer':!0,'gridcolumn':!0,'column':!0,'templatecolumn':!0,'numbercolumn':!0},['widget.numbercolumn'],0,[Ext.grid.column,'Number'],0);Ext.cmd.derive('Ext.grid.cell.RowNumberer',Ext.grid.cell.Number,{classCls:'x-rownumberercell',format:'0,000',refreshValue:function(b){var c=b.row,a;if(b.summary){a='\xa0'}else {a=c?c.$datasetIndex+1:null}return a}},0,['rownumberercell'],['widget','gridcellbase','textcell','numbercell','rownumberercell'],{'widget':!0,'gridcellbase':!0,'textcell':!0,'numbercell':!0,'rownumberercell':!0},['widget.rownumberercell'],0,[Ext.grid.cell,'RowNumberer'],0);Ext.cmd.derive('Ext.grid.column.RowNumberer',Ext.grid.column.Number,{isRowNumberer:!0,cell:{xtype:'rownumberercell'},menu:null,align:'right',hideable:!1,ignore:!0,ignoreExport:!0,sortable:!1,text:'',width:'auto',minWidth:null,onAdded:function(d,c){var a=this,b;Ext.grid.column.Number.prototype.onAdded.call(this,d,c);a.checkWidth();b=a.getGrid();a.gridListeners=b.on({storechange:'attachStoreListeners',scope:a,destroyable:!0});a.attachStoreListeners(b.getStore())},onRemoved:function(a){Ext.destroy(this.gridListeners,this.storeListeners);Ext.grid.column.Number.prototype.onRemoved.call(this,a)},privates:{attachStoreListeners:function(a){Ext.destroy(this.storeListeners);if(a){this.storeListeners=a.on({datachanged:'checkWidth',totalcountchange:'checkWidth',scope:this,destroyable:!0})}},getCharWidth:function(){var b=this,c=b._charWidth,f,a,d,e,g;if(!c){f='0000000000';a=b.getScratchCell();d=b.getCell().ui;if(d){a.addUi(d)}e=b.getGrid().getUi();if(e){a.addUi(e)}document.body.appendChild(a.el.dom);g=Ext.util.TextMetrics.measure(a.bodyElement,f).width;document.body.removeChild(a.el.dom);b._charWidth=c=g/f.length}return c},checkWidth:function(){var a=this;if(document.fonts){document.fonts.ready.then(function(){if(!a.destroyed){a.doCheckWidth()}})}else {a.doCheckWidth()}},doCheckWidth:function(){var a=this,b=a.getGrid().getStore(),c=1,d=a.getCharWidth();if(b&&b.getTotalCount()){c=a.getScratchCell().printValue(b.getTotalCount()).length}a.textElement.setStyle('min-width',Math.ceil(c*d)+'px')}}},0,['rownumberer'],['widget','component','container','headercontainer','gridcolumn','column','templatecolumn','numbercolumn','rownumberer'],{'widget':!0,'component':!0,'container':!0,'headercontainer':!0,'gridcolumn':!0,'column':!0,'templatecolumn':!0,'numbercolumn':!0,'rownumberer':!0},['widget.rownumberer'],0,[Ext.grid.column,'RowNumberer'],0);Ext.cmd.derive('Ext.grid.selection.Model',Ext.dataview.selection.Model,{isGridSelectionModel:!0,config:{columns:{$value:!1,lazy:!0},cells:{$value:!1,lazy:!0},rows:{$value:!0,lazy:!0},drag:!1,extensible:{$value:!1,lazy:!0},reducible:!0,checkbox:!1,headerCheckbox:!0,checkboxDefaults:{xtype:'selectioncolumn',text:null,width:30},showNumbererColumn:!1},checkboxSelect:!1,checkboxColumnIndex:0,mode:'multi',columnSelectCls:'x-selmodel-column-select',rowNumbererHeaderCls:'x-selmodel-row-numberer-hd',updateView:function(b,e){var a=this,c=a.numbererColumn=b.getRowNumbers(),d=a.getCheckbox();Ext.dataview.selection.Model.prototype.updateView.call(this,b,e);if(e){a.navigationModel=null;Ext.destroy(a.viewListeners)}if(b){if(c){c.setCell({cls:a.rowNumbererCellCls});c.setCls(a.rowNumbererHeaderCls)}if(d){b.registerColumn(d)}a.viewListeners=b.on(a.getViewListeners())}},onViewCreated:function(a){if(this.getColumns()){a.addCls(this.columnSelectCls)}this.updateHeaderState()},updateDrag:function(c){var b=this.getView(),a={dragstart:'onViewDragStart',delegate:b.eventDelegate,scope:this};if(Ext.supports.Touch){a.longpress='onViewLongpress'}b.innerCt[c?'on':'un'](a)},getSelection:function(a,d){var c,b;if(a==='rows'||a==='records'){a=this.getStore().isVirtualStore?'rows':'records'}b=(arguments.callee.$previous||Ext.dataview.selection.Model.prototype.getSelection).call(this);if(a){a=a.toLowerCase();if(!b||b.type!==a){c={type:a};if(a==='records'){c.selected=this.getSelected()}this.setSelection(c);b=(arguments.callee.$previous||Ext.dataview.selection.Model.prototype.getSelection).call(this)}else if(d){b.clear(!0)}}return b},createCheckboxColumn:function(a){var b=this;return Ext.apply({headerCheckbox:b.getHeaderCheckbox()!==!1},a)},onHeaderTap:function(e,b,c){var a=this,d=a.getSelection(),g=!1,h,i,f;if(b===this.numbererColumn){a.toggleAll(b,c)}else if(a.getColumns()&&b!==a.getCheckbox()){if(c.shiftKey&&d&&d.lastColumnSelected){if(!c.ctrlKey){d.clear()}e=a.getView().getHeaderContainer();i=e.getColumns();h=Ext.Array.sort([e.indexOfLeaf(d.lastColumnSelected),e.indexOf(b)],Ext.Array.numericSortFn);for(f=h[0];f<=h[1];f++){a.selectColumn(i[f],!0)}}else {g=a.isColumnSelected(b);if(!c.ctrlKey){d.clear()}else if(g){a.deselectColumn(b);a.getSelection().lastColumnSelected=null}if(!g||!c.ctrlKey&&c.pointerType!=='touch'){a.selectColumn(b,c.ctrlKey);a.getSelection().lastColumnSelected=b}a.updateSelectionExtender()}}},toggleAll:function(d,c){var a=this,b=a.getSelection();c.stopEvent();if(!b||!b.isAllSelected()){a.selectAll()}else {a.deselectAll()}a.updateHeaderState();a.lastColumnSelected=null},selectByLocation:function(b){var a=this,d=b.record,c=b.column;if(a.getCells()){a.selectCells(b,b)}else if(a.getRows()&&d){this.select(d)}else if(a.getColumns()&&c){a.selectColumn(c)}},updateHeaderState:function(){var e=this,d=e.getStore(),a=e.getSelection(),c=!1,f=e.getCheckbox(),b;if(d&&a&&a.isRows){b=d.getCount();if(d.isBufferedStore){c=a.allSelected}else {c=b>0&&b===a.getCount()}}if(f){f.setHeaderStatus(c)}},onColumnUpdate:function(b,c){var d=this,a=d.getCheckbox();if(a){if(b){b.remove(a,!1)}c.push(a)}},select:function(a,g,f){var e=this,i=e.getSelection('records'),h=e.getStore(),d,b,c;if(!Ext.isArray(a)){a=[a]}d=a.length;for(b=0;b<d;b++){c=a[b];if(typeof c==='number'){a[b]=c=h.getAt(c)}}i.add(a,g,f)},deselect:function(a,g){var f=this,d=f.getSelection('records'),h=f.getView().getStore(),e,b,c;if(d&&d.isRecords){if(!Ext.isArray(a)){a=[a]}e=a.length;for(b=0;b<e;b++){c=a[b];if(typeof c==='number'){a[b]=c=h.getAt(c)}}}d.remove(a,g)},onCollectionRemove:function(a,b){this.updateHeaderState();Ext.dataview.selection.Model.prototype.onCollectionRemove.call(this,a,b)},onCollectionAdd:function(a,b){this.updateHeaderState();Ext.dataview.selection.Model.prototype.onCollectionAdd.call(this,a,b)},selectCells:function(a,b,f){var c=this,e=c.getView(),d;a=a.isGridLocation?a.clone():new Ext.grid.Location(e,{record:a[0],column:a[1]});b=b.isGridLocation?b.clone():new Ext.grid.Location(e,{record:b[0],column:b[1]});c.resetSelection(!0);d=c.getSelection('cells');d.setRangeStart(a);d.setRangeEnd(b);if(!f){c.fireSelectionChange()}},selectAll:function(d){var a=this,c=a.getSelection(),b;if(a.getRows()){c=a.getSelection('records');b=!0}else if(a.getCells()){c=a.getSelection('cells');b=!0}else if(a.getColumns()){c=a.getSelection('columns');b=!0}if(b){c.selectAll(d)}},deselectAll:function(b){var a=this.getSelection();if(a&&a.getCount()){a.clear(b)}},selectRows:function(c,a,b){var d=this.getSelection('records');if(!a){this.resetSelection(!0)}d.add(c,a,b)},isSelected:function(a){return this.isRowSelected(a)},selectColumn:function(b,c,d){var a=this.getSelection('columns');if(!a.isSelected(b)){if(!c){a.clear(d);a.setRangeStart(b)}else {a.add(b)}}},deselectColumn:function(b,c){var a=this.getSelection();if(a&&a.isColumns&&a.isSelected(b)){a.remove(b,c)}},destroy:function(){var a=this,b=a.getView(),c=a.checkbox;if(b&&!b.destroying&&c){b.unregisterColumn(c,!0)}Ext.destroy(a.viewListeners,a.getConfig('extensible',null,!0));Ext.dataview.selection.Model.prototype.destroy.call(this)},privates:{axesConfigs:{x:1,y:2,xy:3,both:3,'true':3},getViewListeners:function(){return {columnschanged:'onColumnsChanged',columnmove:'onColumnMove',scope:this,destroyable:!0}},refreshSelection:function(){var a=this.getSelection();if(a.isRecords||a.isRows){Ext.dataview.selection.Model.prototype.refreshSelection.call(this)}else {this.resetSelection()}},onColumnsChanged:function(){var b=this,a=b.getSelection(),c,d;if(a){c=a.view;if(a.isCells){if(c.visibleColumns().length){a.eachCell(function(a){c.onCellDeselect(a)})}else {b.clearSelections()}}else if(a.isColumns){d=!1;a.eachColumn(function(a){if(!a.isVisible()||!c.isAncestor(a)){b.remove(a);d=!0}})}}Ext.on('idle',d?b.fireSelectionChange:b.updateSelectionExtender,b,{single:!0})},onColumnMove:function(){this.updateSelectionExtender()},resetSelection:function(b){var a=this.getSelection();if(a){a.clear(b)}},onViewLongpress:function(a){if(a.pointerType==='touch'){a.startDrag()}},onViewDragStart:function(b){if(b.pointerType==='touch'&&!b.longpress){return}var a=this,d=a.getView(),c=new Ext.grid.Location(d,b),h=c.column,i=d.getNavigationModel().getLocation(),f=h===a.getCheckbox(),g=!1,e;if(!c.cell){return}if(b.claimed||b.button>0||b.altKey||i&&i.actionable||!d.shouldSelectItem(b)){return}if(h){b.claimGesture();a.mousedownPosition=c.clone();if(f){a.checkCellClicked=c.cell.element.dom}if(h===a.numbererColumn||f||!a.getCells()){if(a.getRows()){if(b.shiftKey&&a.isSelected(c.record)){g=!0}else if(!b.shiftKey&&!f&&a.checkboxOnly){return}e=a.getSelection('records');if(!b.shiftKey&&!b.ctrlKey&&!f){e.clear()}}else if(a.getColumns()){e=a.getSelection('columns');if(b.shiftKey&&a.isColumnSelected(c.column)){g=!0}else if(!b.shiftKey&&!b.ctrlKey&&!f){e.clear()}}else {return !1}}else {e=a.getSelection('cells');if(b.shiftKey&&a.isCellSelected(c.recordIndex,c.columnIndex)){g=!0}else if(!b.shiftKey){e.clear()}}if(!g){a.lastDragLocation=null}if(b.longpress){c.row.removeCls(d.pressedCls);a.onViewSelectionDrag(b)}if(e){d.innerCt.on('dragend',a.onViewDragEnd,a,{single:!0});a.mousemoveListener=d.innerCt.on({drag:'onViewSelectionDrag',scope:a,delegate:d.eventDelegate,destroyable:!0})}}},onViewSelectionDrag:function(a){var c=this,d=c.getView(),f,b,e;if(a.changedTouches){b=a.changedTouches[0];if(b&&!Ext.fly(b.target).getRegion().contains(b.point)){e=Ext.event.Event.resolveTextNode(Ext.Element.fromPagePoint(b.pageX,b.pageY,!0));if(e){a.target=e}}}c.stopAutoScroller();if(!Ext.fly(a.target).up(d.eventDelegate)){c.scrollTowardsPointer(a,d);return}f=c.dragLocation=new Ext.grid.Location(d,a);c.changeSelectionRange(d,f,a)},changeSelectionRange:function(l,b,m){var c=this,i=b.column,j=b.record,k=b.recordIndex,g=c.lastDragLocation,a,d,h,f,e;m.claimGesture();if(g){d=g.record;h=g.column}if(c.checkCellClicked){a=c.getSelection('rows');a.setRangeStart(c.getStore().indexOf(j));c.checkCellClicked=null;return}a=c.getSelection();if(c.getExtensible()){c.getExtensible().disable()}if(i){f=j!==d;e=i!==h;if(a.isRows||a.isRecords){if(f){if(d){a.setRangeEnd(k)}else {a.setRangeStart(k)}}}else if(a.isCells){if(f||e){if(d){a.setRangeEnd(b)}else {a.setRangeStart(b)}}}else if(a.isColumns){if(e){if(h){a.setRangeEnd(b.column)}else {a.setRangeStart(b.column)}}}if(f||e){l.getNavigationModel().setLocation(b)}c.lastDragLocation=b}},scrollTowardsPointer:function(h,i){var b=this,c=i.getScrollable().getElement().getClientRegion(),g=h.getXY(),e=b.scrollTask||(b.scrollTask=Ext.util.TaskManager.newTask({run:b.doAutoScroll,args:[h,i],scope:b,interval:10})),f=25*(window.devicePixelRatio||1),d=3*(window.devicePixelRatio||1),a=b.scrollBy||(b.scrollBy=[]);h.claimGesture();if(g[1]>c.bottom-f){a[0]=0;a[1]=d;e.start()}else if(g[1]<c.top+f){a[0]=0;a[1]=-d;e.start()}else if(g[0]>c.right-f){a[0]=d;a[1]=0;e.start()}else if(g[0]<c.left+f){a[0]=-d;a[1]=0;e.start()}},doAutoScroll:function(g,c){var a=this,e=c.getScrollable().getElement().getClientRegion(),h=c.getScrollable(),d=[],b,f;h.scrollBy.apply(h,a.scrollBy);if(a.scrollBy[0]){d[0]=a.scrollBy[0]>0?e.right-5:e.left+5}else {d[0]=g.getX()}if(a.scrollBy[1]){d[1]=a.scrollBy[1]>0?e.bottom-5:e.top+5}else {d[1]=g.getY()}b=document.elementFromPoint.apply(document,d);if(b){b=Ext.fly(b).up(c.cellSelector);if(!b){a.stopAutoScroller();return}f=new Ext.grid.Location(c,b);if(b&&!f.equals(a.lastDragLocation)){a.changeSelectionRange(c,f,g)}}},stopAutoScroller:function(){var a=this;if(a.scrollTask){a.scrollBy[0]=a.scrollBy[1]=0;a.scrollTask.stop();a.scrollTask=null}},onViewDragEnd:function(d){var a=this,b=a.getView(),e=a.dragLocation,f=!e||!e.equals(a.mousedownPosition),g=d.location,c;a.checkCellClicked=null;a.stopAutoScroller();if(b&&!b.destroyed){if(!g){d.location=new Ext.grid.Location(b,d)}if(a.getExtensible()&&f){a.getExtensible().disable()}a.mousemoveListener.destroy();if((c=a.getSelection())&&c.isRows){c.addRange(!0)}else if(f){a.fireSelectionChange()}}},onNavigate:function(c){var b=this,w=b.getView(),v=b.getStore(),l=b.getRows(),h=b.getCells(),i=b.getColumns(),j=b.getCheckbox(),p=b.checkboxOnly,o=b.getMode(),f=c.to,d=f.column,k=f.record,a=b.getSelection(),g=c.ctrlKey,n=c.shiftKey,t=!0,s=c.getKey()===c.SPACE,u,r,e,m,q;if(c.stopSelection||d===b.checkboxColumn){return}if(!c.pointerType&&!s){if(g){return}r=!c.from||f.recordIndex!==c.from.recordIndex;if(!r&&!(h||i)){return}}if(a&&(a.isCells||a.isColumns&&l&&!(g||n))&&a.getCount()>1&&!n&&c.type==='click'){return}if(!(h||i||l)||!k||c.type==='mousedown'){return}if(g&&c.keyCode===c.A&&o==='multi'){if(!a||a.getCount()<2){b.selectAll()}else {b.deselectAll()}b.updateHeaderState();return}if(n&&o==='multi'){if(d===b.numbererColumn||d===b.checkColumn||!(h||i)||a&&(a.isRows||a.isRecords)){if(l){if(d!==j&&p){return}a=b.getSelection('records');if(!a.getRangeSize()){if(b.selectionStart==null){b.selectionStart=f.recordIndex}a.setRangeStart(b.selectionStart)}else {q=Ext.isEmpty(a.lastSelectedRecIndx)?(new Ext.grid.Location(w,b.getLastSelected())).recordIndex:a.lastSelectedRecIndx;a.setRangeStart(q)}a.setRangeEnd(f.recordIndex);e=!0}}else {if(h){a=b.getSelection('cells');u=a.getCount();if(!a.getRangeSize()){a.setRangeStart(c.from||new Ext.grid.Location(b.getView(),{record:0,column:0}))}a.setRangeEnd(f);t=u<a.getCount();e=!0}else if(i){a=b.getSelection('columns');if(!a.getCount()){a.setRangeStart(d)}a.setRangeEnd(d);e=!0}}}else {b.selectionStart=null;if(a&&(o!=='multi'||!g)&&!s){a.clear(!0)}if(l&&(d===b.numbererColumn||d===j||!h)){if(d!==j&&p||c.keyCode&&c.from&&k===c.from.record){return}a=b.getSelection('records');if(a.isSelected(k)){if(g||d===j||b.getDeselectable()){a.remove(k);e=!0}}else {a.add(k,g||d===j);e=!0}if(e&&(m=a.getSelected())&&m.length){b.selectionStart=v.indexOf(m.first());a.setRangeStart(b.selectionStart)}}else {if(h){a=b.getSelection('cells',!0);a.setRangeStart(f);e=!0}else if(i){a=b.getSelection('columns');if(g){if(a.isSelected(d)){a.remove(d)}else {a.add(d)}}else {a.setRangeStart(d)}e=!0}}}if(e){if(!a.isRecords){b.fireSelectionChange(null,t)}}b.lastDragLocation=f},isColumnSelected:function(c){var d=this,a=d.getSelection(),b=!1;if(a&&a.isColumns){b=a.isSelected(c)}return b},isCellSelected:function(c,b){var a=this.getSelection();if(a){if(a.isColumns){if(typeof b==='number'){b=this.getView().getVisibleColumns()[b]}return a.isSelected(b)}if(a.isCells){return a.isSelected(c,b)}return a.isSelected(c)}return !1},updateSelection:function(a,c){var b=this.getView();Ext.destroy(c);if(a&&a.getCount()){b=a.view;if(a.isRows){a.eachRow(b.onRowSelect,b)}else if(a.isColumns){a.eachCell(b.onCellSelect,b)}else if(a.isCells){a.eachCell(b.onCellSelect,b)}}},updateRows:function(b){var a;if(!b){this.setCheckbox(!1);a=this.getSelection();if(a&&a.isRows){a.clear()}}},updateColumns:function(c){var a=this,d=a.getView(),b=a.getSelection();if(!c&&b&&b.isColumns){b.clear();a.fireSelectionChange()}d.toggleCls(a.columnSelectCls,!!c)},updateCells:function(c){var b=this,a=b.getSelection();if(!c&&a&&a.isCells){a.clear();b.fireSelectionChange()}},updateMode:function(a){if(a==='multi'){this.setDrag(this.getInitialConfig().drag)}else if(!this.isConfiguring){this.setDrag(!1)}},fireSelectionChange:function(e,d){var b=this,c=b.getView(),a=b.getSelection();b.updateSelectionExtender();b.fireEvent('selectionchange',c,b.getSelection());if(a.isCells){c.fireEvent('selectionchange',c,a.getRange(),d,a)}else {c.fireEvent('selectionchange',c,a.isRecords?e:a.isCells?a.getRecords():null,d,b.getSelection())}},updateSelectionExtender:function(){var a=this.getSelection();if(a){a.onSelectionFinish()}},onSelectionFinish:function(d,b,c){var a=this.getExtensible();if(a){a.setHandle(b,c)}},applyExtensible:function(a,b){var d=this,c;if(!a){return undefined}if(a===!0||typeof a==='string'){c=d.axesConfigs[a];if(b){b.setAxes(c);return b}a={axes:c}}else {a=Ext.Object.chain(a)}a.allowReduceSelection=d.getReducible();a.view=d.getView();if(b){b.destroy()}return new Ext.grid.selection.SelectionExtender(a)},applyReducible:function(a){return !!a},updateReducible:function(b){var a;a=this.getConfig('extensible',null,!0);if(a){a.allowReduceSelection=b}},applyCheckbox:function(a){var b=this;if(a){b.checkboxOnly=a==='only';b.checkboxColumn=a=Ext.create(b.createCheckboxColumn(b.getCheckboxDefaults()))}return a},updateCheckbox:function(d,c){var b=this,a;if(!b.isConfiguring){a=b.getView();if(c){a.unregisterColumn(c,!0)}if(d){a.registerColumn(d);b.setRows(!0)}}},applyView:function(a){return a.ownerGrid},extendSelection:function(a){var c=this,d=c.getView(),b=c.getSelection(),e=a.reduce?'reduce':'extend';if(d.fireEvent('beforeselectionextend',d,b,a)!==!1){b[e+'Range'](a);if(!b.isRows){c.fireSelectionChange()}}},onIdChanged:function(e,c,b,d){var a=this.getSelection();if(a&&a.isRecords){a.getSelected().updateKey(c,b)}},onSelectionStoreAdd:function(){Ext.dataview.selection.Model.prototype.onSelectionStoreAdd.apply(this,arguments);this.updateHeaderState()},onSelectionStoreClear:function(){Ext.dataview.selection.Model.prototype.onSelectionStoreClear.apply(this,arguments);this.updateHeaderState()},onSelectionStoreLoad:function(){Ext.dataview.selection.Model.prototype.onSelectionStoreLoad.apply(this,arguments);this.updateHeaderState()}}},0,0,0,0,['selmodel.grid'],0,[Ext.grid.selection,'Model'],function(c){var b=Ext.ClassManager.get('Ext.grid.column.RowNumberer'),a;if(b){a=Ext.grid.column.RowNumberer.prototype.cellCls;c.prototype.rowNumbererCellCls=(a?a+' ':'')+'x-selmodel-row-numberer-cell'}});Ext.cmd.derive('Ext.grid.plugin.ColumnResizing',Ext.Component,{config:{grid:null,realtime:!1},hasResizingCls:'x-has-columnresizing',resizingCls:'x-resizing',columnSelector:'.x-gridcolumn',resizerSelector:'.x-gridcolumn .x-resizer-el',init:function(a){this.setGrid(a);a.getHeaderContainer().setTouchAction({panX:!1})},updateGrid:function(c,d){var a=this,f=a.hasResizingCls,b,e;if(d){b=d.getHeaderContainer();b.renderElement.un({touchstart:'onContainerTouchStart',scope:a,priority:100});d.removeCls(f)}if(c){a._resizeMarker=e=c.resizeMarkerElement;a._resizeMarkerParent=e.parent();b=c.getHeaderContainer();b.renderElement.on({touchstart:'onContainerTouchStart',scope:a});c.addCls(f)}},onContainerTouchStart:function(c){var a=this,e=a.getGrid().getHeaderContainer(),d=c.getTarget(a.columnSelector),f=c.getTarget(a.resizerSelector),b;if(f&&!c.multitouch&&d&&!a._resizeColumn){b=Ext.Component.from(d);if(b&&b.getResizable()){a._startColumnWidth=b.getComputedWidth();a._minColumnWidth=b.getMinWidth();a._maxColumnWidth=b.getMaxWidth();a._resizeColumn=b;a._startX=c.getX();b.addCls(a.resizingCls);e.renderElement.suspendEvent('drag','longpress');if(!this.getRealtime()){a._resizeMarker.show();a._resizeMarker.setLeft(b.el.getOffsetsTo(a._resizeMarkerParent)[0]+a._startColumnWidth)}else {b.setWidth(a._startColumnWidth)}a.touchListeners=Ext.getBody().on({touchEnd:'onTouchEnd',touchMove:'onTouchMove',scope:a,destroyable:!0})}}else if(c.multitouch&&a._resizeColumn){a.endResize()}},onTouchMove:function(c){var a=this,b=a._resizeColumn,d;if(c.isMultitouch){a.endResize()}else if(b){d=c.getX()-a._startX;a.currentColumnWidth=Math.max(Math.ceil(a._startColumnWidth+d),a._minColumnWidth);if(a._maxColumnWidth){a.currentColumnWidth=Math.min(a.currentColumnWidth,a._maxColumnWidth)}if(a.getRealtime()){b.setWidth(a.currentColumnWidth);b.renderElement.setWidth(a.currentColumnWidth)}else {a._resizeMarker.setLeft(b.el.getOffsetsTo(a._resizeMarkerParent)[0]+a.currentColumnWidth)}b.resizing=!0;c.claimGesture()}},onTouchEnd:function(b){var a=this._resizeColumn,c=b.getX()!==this._startX;Ext.destroy(this.touchListeners);if(a){this.endResize();if(!c){a.onResizerTap(b)}}},endResize:function(){var a=this,b=a._resizeColumn,c=a.getGrid();if(b){if(!a.getRealtime()){c.resizeMarkerElement.hide()}if(a.currentColumnWidth){b.setFlex(null);if(b.resizing){b.setWidth(a.currentColumnWidth);b.resizing=!1}else if(a._resizeColumn.getWidth()===a._startColumnWidth){b.setWidth(a._startColumnWidth)}}b.removeCls(a.resizingCls);a._resizeColumn=null}}},0,0,['widget','component'],{'widget':!0,'component':!0},['plugin.columnresizing','plugin.gridcolumnresizing'],0,[Ext.grid.plugin,'ColumnResizing'],0);Ext.cmd.derive('Ext.dd.ScrollManager',Ext.Base,{singleton:!0,scrollTowardsPointer:function(c){var a=this,b=a.scrollTask||(a.scrollTask=Ext.util.TaskManager.newTask({run:Ext.dd.ScrollManager.doAutoScroll,args:[c],scope:a,interval:100}));b.start()},stopAutoScroller:function(){var a=this;if(a.scrollTask){a.scrollTask.stop();a.scrollTask=null}},doAutoScroll:function(h){var d=this,e=!0,b,j,g,f,c,i,a;if(!d.info){Ext.dd.ScrollManager.stopAutoScroller.apply(d);return}i=Ext.dd.ScrollManager.getScrollDirection(h,d.info);a=h.getScrollable();if(!a){a=d.getViewScrollable()}if(!i||!a){return}b=d.scrollAmount;j=a.position;c=j.y;if(h.isLockedGrid){e=!1}if(i===-1){if(c>=b){a.scrollBy(0,-b,e)}else if(c>0){a.scrollBy(0,-c,e)}}else {g=a.getMaxPosition();f=g.y-c;if(f>0&&g.y>=c){if(f<b){b=f}a.scrollBy(0,b,e)}}},getScrollDirection:function(e,f){var a=e.bodyElement.getBox(),b=f.cursor.current,d,c;if(b.x>a.right||b.x<a.left){return 0}d=b.y-a.y;c=d/a.height*100;return c<15?-1:c>85?1:0}},0,0,0,0,0,0,[Ext.dd,'ScrollManager'],0);Ext.cmd.derive('Ext.dd.Manager',Ext.Base,{singleton:!0,getTargetEl:function(a){var c=a.source,b=a.cursor.current;return c.manager.elementFromPoint(b.x,b.y)},getPosition:function(h,c,a){var f=h.cursor.current,g=c.element.getBox(),e,d,b;a=a||'y';e=f[a]-g[a];d=c.element[a==='y'?'getHeight':'getWidth']();b=e/d*100;return b<50?'before':'after'},toggleTargetNodeCls:function(c,a,e){var b,d;if(Ext.isArray(a)){d=a.length;for(b=0;b<d;b++){c.toggleCls(a[b],e)}}else {c.toggleCls(a,e)}},getTargetComp:function(c){var b=this.getTargetEl(c),a;if(b){a=Ext.Component.from(b);if(a.isGridCell){a=a.row}}return a},getSourceComp:function(a){return Ext.Component.from(a.eventTarget)},toggleMarkerCls:function(e,f,j,h){var l=this,g,i,b,c,d,k,a;if(e.isLockedGrid){i=e.getStore();g=f.getRecord();d=i.indexOf(g);if(d!==-1){b=e.visibleGrids;k=b.length;for(a=0;a<k;a++){c=b[a].getItemAt(d);if(c){l.toggleTargetNodeCls(c,j,h)}}}}else {l.toggleTargetNodeCls(f,j,h)}},toggleProxyCls:function(c,d,b){var a=c.proxy;if(a&&a.element){a.element.toggleCls(d,b)}}},0,0,0,0,0,0,[Ext.dd,'Manager'],0);Ext.cmd.derive('Ext.plugin.dd.DragDrop',Ext.plugin.Abstract,{dragText:undefined,enableDrag:!0,containerScroll:!0,dropIndicator:null,enableDrop:!0,handle:null,groups:null,overCls:'',scrollAmount:80,activateOnLongPress:Ext.supports.Touch&&Ext.supports.TouchEvents?!0:!1,enable:function(){var a=this;if(a.dragZone){a.dragZone.unlock()}if(a.dropZone){a.dropZone.unlock()}},disable:function(){var a=this;if(a.dragZone){a.dragZone.lock()}if(a.dropZone){a.dropZone.lock()}},destroy:function(){var a=this;a.dragZone=a.dropZone=Ext.destroy(a.dragZone,a.dropZone);Ext.plugin.Abstract.prototype.destroy.call(this)}},0,0,0,0,['plugin.viewdragdrop'],0,[Ext.plugin.dd,'DragDrop'],0);Ext.cmd.derive('Ext.grid.plugin.HeaderReorder',Ext.plugin.dd.DragDrop,{config:{grid:null},handle:'.x-gridcolumn',groups:'gridHeaderGroup',dropIndicator:'x-grid-column-drop-indicator',updateGrid:function(b,c){var a=this;if(c){a.dragZone=a.dropZone=Ext.destroy(a.dragZone,a.dropZone)}if(b){a.initializeDrag(b)}},initializeDrag:function(c){var a=this,d=c.getHeaderContainer(),b={};if(a.enableDrag){if(a.proxy){b.proxy=a.proxy}if(a.activateOnLongPress){b.activateOnLongPress=a.activateOnLongPress}a.dragZone=new Ext.grid.HeaderDragZone(Ext.apply({element:d.bodyElement,handle:a.handle,groups:a.groups,view:c,constrain:Ext.getBody()},b))}if(a.enableDrop){a.dropZone=new Ext.grid.HeaderDropZone({element:d.el,groups:a.groups,view:c,dropIndicator:a.dropIndicator})}}},0,0,0,0,['plugin.headerreorder'],0,[Ext.grid.plugin,'HeaderReorder'],0);Ext.cmd.derive('Ext.grid.RowHeader',Ext.dataview.ItemHeader,{classCls:'x-rowheader',isRowHeader:!0,toolDefaults:{ui:'itemheader rowheader'},privates:{augmentToolHandler:function(b,a){Ext.dataview.ItemHeader.prototype.augmentToolHandler.call(this,b,a);a[1].grid=a[1].list},getGroupHeaderTplData:function(){var a=Ext.dataview.ItemHeader.prototype.getGroupHeaderTplData.call(this,!0),e=this.parent,d=e.allPartners||[e],g=d.length,c,f,b;if(a){for(c=0;c<g;++c){f=d[c];b=f.getColumnForField(a.groupField);if(b){break}}}if(b){a.columnName=b.getText();if(b.printValue){a.html=b.printValue(a.value)}}else if(a){a.html=Ext.htmlEncode(a.name)}return a}}},0,['rowheader'],['widget','component','itemheader','rowheader'],{'widget':!0,'component':!0,'itemheader':!0,'rowheader':!0},['widget.rowheader'],0,[Ext.grid,'RowHeader'],0);Ext.cmd.derive('Ext.grid.Grid',Ext.dataview.List,{isGrid:!0,storeEventListeners:{sort:'onStoreSort'},config:{columns:null,columnMenu:{cached:!0,$value:{xtype:'menu',weighted:!0,align:'tl-bl?',hideOnParentHide:!1,items:{sortAsc:{xtype:'gridsortascmenuitem',group:'sortDir',weight:-100},sortDesc:{xtype:'gridsortdescmenuitem',group:'sortDir',weight:-90},groupByThis:{xtype:'gridgroupbythismenuitem',handler:'column.onGroupByThis',separator:!0,weight:-50},showInGroups:{xtype:'gridshowingroupsmenuitem',handler:'column.onToggleShowInGroups',weight:-40}}}},columnResize:!0,headerContainer:{xtype:'headercontainer'},hideHeaders:!1,enableColumnMove:!0,hideScrollbar:null,itemsFocusable:!1,title:'',titleBar:{xtype:'titlebar',docked:'top'},sortable:!0,multiColumnSort:!1,columnsMenuItem:{lazy:!0,$value:{xtype:'gridcolumnsmenu',weight:-80,separator:!0}},columnLines:null,rowNumbers:null},itemConfig:{xtype:'gridrow'},groupHeader:{xtype:'rowheader'},infinite:!0,navigationModel:'grid',pinnedHeader:{xtype:'rowheader'},scrollable:!0,scrollToTopOnRefresh:!1,striped:!0,proxyConfig:{headerContainer:['reserveScrollbar']},selectionModel:'grid',classCls:'x-grid',columnLinesCls:'x-column-lines',columnStateEventMap:{columnhide:'hidden',columnmove:'weight',columnresize:'width',columnshow:'hidden'},columnStateEventDelay:100,getTemplate:function(){var a=Ext.dataview.List.prototype.getTemplate.call(this);a.push({reference:'resizeMarkerElement',className:'x-resize-marker-el',hidden:!0});return a},beforeInitialize:function(){this.ownerGrid=this;this.registerColumnState();Ext.dataview.List.prototype.beforeInitialize.call(this)},initialize:function(){var a=this,g=a.getColumns(),c=a.registeredColumns,f=a.getTitleBar(),b=a.getHeaderContainer(),e=a.getScrollable(),d=a.getSelectable();Ext.dataview.List.prototype.initialize.call(this);if(e){b.getScrollable().addPartner(e,'x')}if(f){a.insert(0,f)}a.add(b);if(d){d.onViewCreated(a)}if(!g.length&&c&&c.length){b.add(c)}},doDestroy:function(){this.destroyMembers('columnsMenu','columnsMenuItem','rowNumbererColumn');Ext.dataview.List.prototype.doDestroy.call(this)},addColumn:function(a){return this.getHeaderContainer().add(a)},addSharedMenuItem:function(a){(this.sharedMenuItems||(this.sharedMenuItems=[])).push(a)},removeSharedMenuItem:function(b){var a=this.sharedMenuItems;if(a){Ext.Array.remove(a,b)}},beforeShowColumnMenu:function(d,f){var a=this,c,g,e,b;a.getColumnsMenuItem();b=a.sharedMenuItems;for(c=0,g=b&&b.length;c<g;++c){e=b[c];e.onBeforeShowColumnMenu(f,d,a)}return a.fireEvent('beforeshowcolumnmenu',a,d,f)},onColumnMenuHide:function(f,d){var e=this,c=e.sharedMenuItems,g=c&&c.length,b,a;for(b=0;b<g;++b){a=c[b];if(!a.destroyed&&!a.destroying&&!d.isHidden()){a.onColumnMenuHide(d,f,e)}}},getColumnForField:function(a){return this.getHeaderContainer().getColumnForField(a)},getColumns:function(a){return this.getHeaderContainer().getColumns(a)},getVisibleColumns:function(){return this.getHeaderContainer().getVisibleColumns()},insertColumn:function(b,a){return this.getHeaderContainer().insert(b,a)},insertColumnBefore:function(c,a){var b;if(!a){b=this.getHeaderContainer().add(c)}else {b=a.getParent().insertBefore(c,a)}return b},mapToCell:function(a,b){var d=this,c;if(a){if(a.isGridCell&&a.row.getGrid()===d){c=a}else {if(a.isEntity){a=d.mapToItem(a)}if(a){if(a.isGridRow){b=b||d.getFirstVisibleColumn();if(b){c=a.getCellByColumn(b)}}else {c=Ext.Component.from(a,d.innerCt,'gridcellbase')}}}}return c||null},mapToItem:function(a,b){if(a&&a.isGridCell){a=a.row}return Ext.dataview.List.prototype.mapToItem.call(this,a,b)},mapToRowBody:function(a){if(a){if(!a.isGridRow){a=this.mapToItem(a)}if(a&&a.isGridRow){a=a.getBody()}}return a||null},removeColumn:function(a){return this.getHeaderContainer().remove(a)},registerActionable:function(a){this.getNavigationModel().registerActionable(a)},unregisterActionable:function(a){this.getNavigationModel().unregisterActionable(a)},onColumnAdd:function(h,c,f){var a=this,d,g,b,e;if(!a.initializingColumns&&!a.destroying){d=a.items.items;g=d.length;for(b=0;b<g;b++){e=d[b];if(e.hasGridCells){e.insertColumn(f,c)}}a.onColumnChange('columnadd',[a,c,f])}if(!a.isConfiguring&&c.headerId==null){a.onStateChange();a.applyColumnState()}},onColumnHide:function(g,e){var a=this,c,f,b,d;if(a.initialized&&!a.destroying){c=a.items.items;f=c.length;for(b=0;b<f;b++){d=c[b];if(d.hasGridCells){d.hideColumn(e)}}a.onColumnChange('columnhide',[a,e])}},onColumnMove:function(n,f,o,m){var a=this,g=null,j=f.length,h,l,c,e,i,b,k,d;if(a.initialized&&!a.destroying){h=a.items.items;l=h.length;d=a.getHeaderContainer().getColumns();k=d.indexOf(f[j-1]);g=d[k+1]||null;for(c=j-1;c>=0;--c){b=f[c];for(e=0;e<l;e++){i=h[e];if(i.hasGridCells){i.insertColumnBefore(b,g)}}a.onColumnChange('columnmove',[a,b,m+c,d.indexOf(b)]);g=b}}},onColumnRemove:function(g,c){var a=this,d,f,b,e;if(a.initialized&&!a.destroying){if(c===a.sortedColumn){a.sortedColumn=null}d=a.items.items;f=d.length;for(b=0;b<f;b++){e=d[b];if(e.hasGridCells){e.removeColumn(c)}}a.onColumnChange('columnremove',[a,c])}},onColumnResize:function(e,b,d,c){var a=this;if(!a.destroying){if(c&&!b.getHidden()){if(a.infinite){a.refreshScrollerSize()}a.fireEvent('columnresize',a,b,d)}}},onColumnShow:function(g,e){var a=this,c,f,b,d;if(a.initialized&&!a.destroying){c=a.items.items;f=c.length;for(b=0;b<f;b++){d=c[b];if(d.hasGridCells){d.showColumn(e)}}a.onColumnChange('columnshow',[a,e])}},onColumnSort:function(c,b,a){this.fireEvent('columnsort',this,b,a)},onRender:function(){var a=this._hideHeaders;Ext.dataview.List.prototype.onRender.call(this);if(a){this.updateHideHeaders(a)}},applyColumns:function(a){if(this.isColumnsStateful()){a=Ext.clone(a)}return a},privates:{dataItemMap:{header:1,footer:1},headerIdSeparator:'-',handleStoreSort:function(){if(this.rendered){this.getHeaderContainer().setSortState()}},onStoreGroupChange:function(b,a){Ext.dataview.List.prototype.onStoreGroupChange.call(this,b,a);this.handleStoreSort()},onStoreSort:function(){this.handleStoreSort()},registerColumn:function(a){var b=this,d=b.registeredColumns,c=b.getHeaderContainer();if(!a.isGridColumn){a=Ext.create(a)}if(!d){b.registeredColumns=d=[]}d.push(a);if(!b.isConfiguring||c&&c.items.getCount()){c.add(a)}return a},unregisterColumn:function(a,d){var c=this.registeredColumns,b=this.getHeaderContainer();if(!this.destroying){if(c){Ext.Array.remove(c,a)}if(b){b.remove(a,d===!0)}}return a},generateSelectorFunctions:function(){var a=this;Ext.dataview.List.prototype.generateSelectorFunctions.call(this);a.eventDelegate=function(e){var b=Ext.Component.from(e),d=!0,c;if(!b||b===a){return !1}if(b.getRefOwner()===a){d=b.isGridRow||a.dataItemMap[b.$dataItem]}else {c=b.row;d=c&&c.isGridRow&&(c.grid||c.list)===a}return d}},getFirstVisibleColumn:function(){var a=this.getVisibleColumns();return a.length?a[0]:null},getLastVisibleColumn:function(){var a=this.getVisibleColumns(),b=a.length;return b?a[b-1]:null},isFirstVisibleColumn:function(a){return this.getFirstVisibleColumn()===a},isLastVisibleColumn:function(a){return this.getLastVisibleColumn()===a},createDataItem:function(b){var a=Ext.dataview.List.prototype.createDataItem.call(this,b);a.grid=this;return a},onColumnChange:function(a,c){var b=this;if(a!=='columnmove'&&a!=='columnadd'&&a!=='columnremove'){b.refreshInnerWidth()}if(!b.isConfiguring){b.fireEventArgs(a,c)}b.clearItemCaches()},refreshInnerWidth:function(){var a=this.getHeaderContainer().bodyElement.dom;this.setInnerWidth(Math.max(a.scrollWidth,a.clientWidth))},onColumnComputedWidthChange:function(b,c){var a=this,d=a.groupingInfo;if(!a.destroying){a.setInnerWidth(c);a.setCellSizes(b,a.items.items);a.setCellSizes(b,a.itemCache);if(a.isGrouping()){a.setCellSizes(b,d.header.unused);a.setCellSizes(b,d.footer.unused)}if(a.hasListeners.columnlayout){a.fireEvent('columnlayout',a,b,c)}}},onCellSelect:function(b){var a=b.getCell();if(a){a.addCls(this.selectedCls)}},onCellDeselect:function(b){var a=b.getCell();if(a){a.removeCls(this.selectedCls)}},setCellSizes:function(d,e){var g=e.length,f=d.length,c,a,b;for(a=0;a<g;a++){c=e[a];if(c.hasGridCells){for(b=0;b<f;b++){c.setColumnWidth(d[b])}}}},updateColumnLines:function(a){this.el.toggleCls(this.columnLinesCls,a)},updateColumnResize:function(b){var a=this,c=a.findPlugin('columnresizing');if(!c){if(b){a.addPlugin('columnresizing')}}else {c.setGrid(b?a:null)}},updateColumns:function(c){var b=this,a=b.getHeaderContainer(),e=c&&c.length,d=b.registeredColumns;if(a){b.rowHeight=null;if(a){a.beginColumnUpdate();if(a.getItems().getCount()){if(d){a.remove(d,!1)}if(e){a.remove(c.filter(function(a){return a.isInstance}),!1)}a.removeAll(!0,!0)}if(e){b.initializingColumns=b.isConfiguring;if(b.isColumnsStateful()){b.updateColumnStateProp(c);b.adjustColumnFromState(c)}a.setColumns(c);if(d){a.add(d)}delete b.initializingColumns}a.endColumnUpdate()}}},applyStore:function(b,a){var d=this,c=Ext.dataview.List.prototype.applyStore.call(this,b,a);return c},applyRowNumbers:function(a){var b=this;if(a){a=b.rowNumbererColumn=Ext.create(Ext.apply({xtype:'rownumberer',weight:-1000,editRenderer:b.renderEmpty},a))}return a},updateRowNumbers:function(b,a){if(a){this.unregisterColumn(a,!0)}if(b){this.registerColumn(b)}},renderEmpty:function(){return '\xa0'},applyColumnsMenuItem:function(b,a){return Ext.updateWidget(a,b,this,'createColumnsMenuItem')},createColumnsMenuItem:function(a){return Ext.apply({grid:this},a)},applyHeaderContainer:function(b,a){return Ext.updateWidget(a,b,this,'createHeaderContainer')},createHeaderContainer:function(a){a=this.mergeProxiedConfigs('headerContainer',a,!0);a.sortable=this.getSortable();a.grid=this;return a},updateHeaderContainer:function(a){if(a){a.on({columnresize:'onColumnResize',columnshow:'onColumnShow',columnhide:'onColumnHide',columnadd:'onColumnAdd',columnmove:'onColumnMove',columnremove:'onColumnRemove',columnsort:'onColumnSort',columngroupremove:'onColumnGroupRemove',scope:this})}},updateHideHeaders:function(b){if(this.rendered){var a=this.getHeaderContainer();if(b){a.el.setStyle({visibility:'hidden',marginBottom:'-'+a.el.measure('h')+'px'})}else {a.el.setStyle({visibility:'',marginBottom:''})}}},updateHideScrollbar:function(a){var b=Ext.scrollbar.width();this.element.setStyle('margin-right',a?-b+'px':'')},updateTitle:function(b){var a=this.getTitleBar();if(a){if(b){a.setTitle(b);if(a.isHidden()){a.show()}}else {a.hide()}}},applyTitleBar:function(b,a){return Ext.updateWidget(a,b)},updateTitleBar:function(a){if(a&&!a.getTitle()){a.setTitle(this.getTitle())}},applyTotalColumnWidth:function(a){var b=this.dataItems;return b.length===0?undefined:a},updateVerticalOverflow:function(f,h){var g=this.getHeaderContainer(),e=this.findPlugin('summaryrow')||this.findPlugin('gridsummaryrow'),a=this.getScrollable(),c=a&&a.getScrollbarSize().width,i=!!(a&&a.getY()),d=i&&c>0&&f,b;Ext.dataview.List.prototype.updateVerticalOverflow.call(this,f,h);g.setVerticalOverflow(d);if(e){b=e.getRow();if(!b.destroyed){b.rightSpacer.setStyle({width:(d?c-1:0)+'px'})}}},updateEnableColumnMove:function(c){var b=this,a=b.findPlugin('headerreorder');if(!a&&c){a=b.addPlugin('headerreorder')}if(a){a.setGrid(c?b:null)}},getSelection:function(){var d=this,c=d.getSelectable(),a=c.getSelection(),b=a.type;if(b==='columns'){return a.lastColumnSelected}if(b==='cells'){return a.endCell&&a.endCell.record}return Ext.dataview.List.prototype.getSelection.call(this)},registerColumnState:function(){var a=this,d=a.columnStateEventMap,b={},c;if(!a.isColumnsStateful()){return}for(c in d){b[c]='onStateChange'}b.scope=a;b.buffer=a.columnStateEventDelay;a.on(b)},onStateChange:function(){var a=this,c,b;if(!a.isColumnsStateful()){return}c=a.columnStateData||{};b=a.getHeaderContainer().items;a.updateColumnStateProp(b.items);a.columnStateData=a.calculateColumnState(b,c);a.persistColumnState(a.columnStateData)},updateColumnStateProp:function(d,c){var b,a;c=c?c+this.headerIdSeparator:'';for(b=0;b<d.length;b++){a=d[b];a.headerId=this.getColumnStateId(a)||c+'h'+b;if(a.isHeaderGroup||!Ext.isEmpty(a.columns)){this.updateColumnStateProp(a.innerItems||a.columns,a.headerId)}}return d},calculateColumnState:function(i,b){var f=this,g=f.columnStateEventMap,h,e,d,a,c;i.each(function(j){if(j.getStateful()===!1){return}a=f.getColumnStateId(j);if(j.region&&j.region!==j.regionKey){a=j.regionKey+':'+a}b[a]=b[a]||{};for(h in g){d=g[h];e=j.self.$config.configs[d];if(e){c=j[e.names.get]();if(!Ext.isEmpty(c)){b[a][d]=c}}}delete b[a].parentHeaderId;if(j.parent&&j.parent.headerId){b[a].parentHeaderId=j.parent.headerId}if(j.region){b[a].region=j.region}else {delete b[a].region}if(j.isHeaderGroup){f.calculateColumnState(j.items,b)}});return b},adjustColumnFromState:function(c){var a=this,b;if(!a.isColumnsStateful()){return}b=a.getColumnState();if(Ext.Object.isEmpty(b)){return}if(a.fireEvent('beforestaterestore',a,b)===!1){return}a.updateColumnStateBeforeAdd(b,c);a.fireEvent('staterestore',a,b)},findColumnByParentHeaderId:function(c,f){var b,a,d,e;for(b=0;b<c.length;b++){a=c[b]||c.items[b];if(a.headerId===f.parentHeaderId){return a}else if(!Ext.isEmpty(a.columns)||a.isHeaderGroup){e=a.isGridColumn?a.innerItems:a.columns;d=this.findColumnByParentHeaderId(e,f);if(d){return d}}}},updateColumnStateBeforeAdd:function(f,b){var e=this,c,a,d;if(!e.isColumnsStateful()||Ext.isEmpty(b)){return}for(c=0;c<b.length;c++){a=b[c];d=f[a.headerId];if(d){Ext.apply(a,d);if(!Ext.isEmpty(a.columns)){e.updateColumnStateBeforeAdd(f,a.columns)}}}e.adjustNestedStateBeforeAdd(b)},adjustNestedStateBeforeAdd:function(d){var e=this,c,b,a,f;for(c=0;c<d.length;c++){b=d[c];f=e._columns;if(!b.parentHeaderId){if(f.indexOf(b)===-1){e.rearrangeColumn(f,d,b);c=-1}continue}a=e.findColumnByParentHeaderId(d,b);if(a&&Ext.isArray(a.columns)){e.rearrangeColumn(a.columns,d,b);c=-1}else {a=e.findColumnByParentHeaderId(f,b);if(a&&Ext.isArray(a.columns)&&a.columns.indexOf(b)===-1){e.rearrangeColumn(a.columns,d,b);c=-1}}}},rearrangeColumn:function(c,b,a){Ext.Array.insert(c,a.weight,[a]);Ext.Array.removeAt(b,b.indexOf(a))},applyColumnState:function(b,e){var a=this,g=a.columnStateEventMap,c,h,d,f;if(!a.isColumnsStateful()){return}b=b||a.getColumnState();if(Ext.Object.isEmpty(b)){return}if(Ext.isEmpty(e)){e=a.getHeaderContainer().items}e.each(function(i){if(i.region){return}c=b[a.getColumnStateId(i)];if(c){for(h in g){d=g[h];if(Ext.isEmpty(c[d])||d==='weight'&&c.parentHeaderId!==a.getColumnStateId(i.parent)){continue}f=i.self.$config.configs[d];if(f){i[f.names.set](c[d])}}if(i.isHeaderGroup){a.applyColumnState(b,i.items)}}});a.adjustNestedState(e,b)},adjustNestedState:function(b,e){var c,d,a,f;b.each(function(g){d=g.parentHeaderId;a=e[g.headerId];if(a){d=a.parentHeaderId;g.parentHeaderId=d}if(!d){f=g.getRootHeaderCt();if(f.indexOf(g)===-1){f.insert(a.weight,g);this.adjustNestedState(b,e);return !1}return}c=this.findColumnByParentHeaderId(b,g);if(c&&c.isHeaderGroup){c.insert(a.weight,g);this.adjustNestedState(b,e);return !1}},this)},getColumnState:function(){var a=this,b,c,d;if(!a.isColumnsStateful()){return}if(a.columnStateData){return a.columnStateData}b=a.getStateBuilder();if(b){c=Ext.state.Provider.get();d=b.root.id+'-column-state';return c.get(d)}},persistColumnState:function(b){var a=this,c,d,e;if(a.fireEvent('beforestatesave',a,b)===!1){return}c=a.getStateBuilder();if(c){d=Ext.state.Provider.get();e=c.root.id+'-column-state';d.set(e,b);a.fireEvent('statesave',a,b)}},isColumnsStateful:function(){var a=this,d=a.getStateId(),c=a.config.stateful,b=a.columnStateEventMap;return !(!d||!c||Ext.Object.isEmpty(b))},onColumnGroupRemove:function(e,b){var a=this,d,c;if(!a.isColumnsStateful()){return}c=a.region;d=a.getColumnStateId(b);if(c&&c.isLockedGridRegion){a.fireEvent('regioncolumngroupremove',b,d);return}b.setHidden(!0);a.onStateChange()},getColumnStateId:function(a){return a.stateId||a._stateId||a.headerId}}},0,['grid'],['widget','component','container','componentdataview','list','grid'],{'widget':!0,'component':!0,'container':!0,'componentdataview':!0,'list':!0,'grid':!0},['widget.grid'],[[Ext.mixin.ConfigProxy.prototype.mixinId||Ext.mixin.ConfigProxy.$className,Ext.mixin.ConfigProxy]],[Ext.grid,'Grid'],function(a){a.prototype.indexModifiedFields=Ext.Array.toMap});Ext.define('Ext.theme.material.grid.Grid',{override:'Ext.grid.Grid',config:{rowLines:!0,striped:!1}});Ext.cmd.derive('Ext.plugin.dd.DragZone',Ext.drag.Source,{dragMarkerCls:'x-drag-indicator',describe:function(a){var b=this.getDragData(a.eventTarget);a.setData('dragData',b)},proxy:{type:'placeholder',cls:'x-proxy-drag-el',cursorOffset:Ext.supports.Touch&&Ext.supports.TouchEvents?[44,-75]:[12,20]},beforeDragStart:function(b){var a=this.getProxy();if(a&&a.setHtml){a.setHtml(this.getDragText(b))}},getDragText:function(a){return ''},getDragData:Ext.emptyFn},0,0,0,0,0,0,[Ext.plugin.dd,'DragZone'],0);Ext.cmd.derive('Ext.plugin.dd.DropZone',Ext.drag.Target,{dropMarkerCls:'x-drop-indicator',validDropCls:'x-valid-drop',onDragMove:Ext.emptyFn,onDrop:Ext.emptyFn,onDragLeave:function(a){this.removeDropMarker();Ext.dd.Manager.toggleProxyCls(a,this.validDropCls,!1)},getViewScrollable:Ext.emptyFn,removeDropMarker:Ext.emptyFn},0,0,0,0,0,0,[Ext.plugin.dd,'DropZone'],0);Ext.cmd.derive('Ext.grid.GridDropZone',Ext.plugin.dd.DropZone,{onDragMove:function(d){var b=this,i=Ext.dd.Manager,a=i.getTargetComp(d),j,h,k,c,e,g,f;k=i.getPosition(d,a);f=b.dropMarkerCls+'-'+k;if(!a||a.hasCls(f)){return}if(a.getRecord){e=a.getRecord()}h=Ext.Array.intersect(b.getGroups(),d.source.getGroups()).length;if(!e||!h){if(a.getStore){c=a.getStore()}if(!c||c&&c.getCount()>0){return}}j=d.data.dragData.records;g=j.indexOf(e)===-1;if(b.ddEl){b.removeDropMarker()}if(g){b.addDropMarker(a,[b.dropIndicator,f]);b.ddEl=a}},onDrop:function(h){var b=this,d,f,a,g,c,e;if(!b.ddEl){return}d=h.data.dragData;f=b.ddEl.hasCls(b.dropMarkerCls+'-before')?'before':'after';a=Ext.dd.Manager.getTargetComp(h);if(a.isGridRow){g=a.parent}c=a.getRecord();e=b.view;if(e.fireEvent('beforedrop',a,d,c,f)!==!1){b.onNodeDrop(d,c,f,g||e);e.fireEvent('drop',a,d,c,f)}b.removeDropMarker()},onNodeDrop:function(l,k,i,c){var h=l.view,d=c.getStore(),n=c!==h,a=l.records,f=n||a.length>1,e,b,m,j,g;if(this.copy){m=a.length;for(b=0;b<m;b++){a[b]=a[b].copy()}}else if(f){h.getStore().remove(a)}if(k&&i){e=d.indexOf(k);if(i!=='before'){e++}d.insert(e,a)}else {d.add(a)}if(f){g=c.getSelectable();j=g.getSelection().getSelectionModel();j.select(a)}},addDropMarker:function(c,d){var a=this,b=Ext.dd.Manager;b.toggleProxyCls(a.info,a.validDropCls,!0);b.toggleMarkerCls(a.view,c,d,!0);if(a.overCls){b.toggleTargetNodeCls(c,a.overCls,!0)}},removeDropMarker:function(){var a=this,c=a.dropMarkerCls+'-',b=Ext.dd.Manager,d;if(a.info){b.toggleProxyCls(a.info,a.validDropCls,!1)}if(a.ddEl){d=[a.dropIndicator,c+'before',c+'after'];b.toggleMarkerCls(a.view,a.ddEl,d,!1);if(a.overCls){b.toggleTargetNodeCls(a.ddEl,a.overCls,!1)}a.ddEl=null}}},0,0,0,0,0,0,[Ext.grid,'GridDropZone'],0);Ext.cmd.derive('Ext.grid.HeaderDragZone',Ext.plugin.dd.DragZone,{autoDestroy:!1,resizerCls:'x-resizer-el',maskCls:'x-mask',beforeDragStart:function(a){var b=Ext.dd.Manager.getSourceComp(a),c=b.renderElement,e=Ext.dd.Manager.getTargetEl(a),d=c.isSuspended('drag')||c.isSuspended('longpress');if(d||b.isDragColumn||b.getDraggable()===!1||Ext.fly(a.eventTarget).hasCls(this.resizerCls)||Ext.fly(e).hasCls(this.maskCls)){return !1}Ext.plugin.dd.DragZone.prototype.beforeDragStart.call(this,a)},getDragText:function(b){var a=Ext.dd.Manager.getTargetComp(b);return a.getText&&a.getText()||''}},0,0,0,0,0,0,[Ext.grid,'HeaderDragZone'],0);Ext.cmd.derive('Ext.grid.HeaderDropZone',Ext.grid.GridDropZone,{dropMarkerCls:'x-header-drop-indicator',autoDestroy:!1,isValidDrag:function(f,e){var h=this.info,g,d,c,a,b;if(!!f.up(e)){return !1}g=h.cursor.current;d=e.previousSibling();c=e.nextSibling();if(f===d){a=d.element.getBox();b=(g.x-a.left)/a.width;if(b>0.5){return !1}}else if(f===c){a=c.element.getBox();b=(g.x-a.left)/a.width;if(b<=0.5){return !1}}return !0},onDragMove:function(f){var b=this,d=Ext.dd.Manager,a=d.getTargetComp(f),h=a.isDragColumn,e=d.getSourceComp(f),i=!a.isHeaderContainer||!e.isHeaderContainer,g,c;if(i||a===e||h||a.getParent()===b.view){if(this.ddEl){this.removeDropMarker()}return}g=d.getPosition(f,a,'x');c=b.dropMarkerCls+'-'+g;if(a.hasCls(c)){return}if(this.ddEl){this.removeDropMarker()}if(b.isValidDrag(a,e)){b.ddEl=a;b.addDropMarker(a,[b.dropIndicator,c])}},trackHeaderMove:function(a,c){var b;if(!a||a===c||a.innerItems.length){return}b=a.getParent();c.fireEvent('columngroupremove',b,a);b.remove(a);this.trackHeaderMove(b,c)},onDrop:function(h){var i=this,k='insertBefore',g,b,e,a,f,l,c,d,m,j;if(!i.ddEl){return}g=Ext.dd.Manager;b=g.getTargetComp(h);e=b.getParent()||b.getRootHeaderCt();a=g.getSourceComp(h);d=a.getRootHeaderCt();m=d.indexOf(a);f=e.indexOf(b);l=g.getPosition(h,b,'x');j=a.getParent();i.removeDropMarker();if(f===-1){return}if(l==='after'){c=e.getAt(f+1);if(!c){k='insertAfter';c=b}}else {c=e.getAt(f)}e[k](a,c||null);i.trackHeaderMove(j,d);d.fireEvent('move',d,a,f,m)}},0,0,0,0,0,0,[Ext.grid,'HeaderDropZone'],0);Ext.cmd.derive('Ext.grid.PagingToolbar',Ext.Toolbar,{classCls:'x-pagingtoolbar',config:{prevButton:{xtype:'button',iconCls:'x-pagingtoolbar-prev'},nextButton:{xtype:'button',iconCls:'x-pagingtoolbar-next'},sliderField:{xtype:'singlesliderfield',liveUpdate:!0,value:1,flex:1,minValue:1},summaryComponent:{xtype:'component',cls:'x-pagingtoolbar-summary'}},inheritUi:!0,initialize:function(){var a=this;Ext.Toolbar.prototype.initialize.call(this);a.add([a.getPrevButton(),a.getSummaryComponent(),a.getSliderField(),a.getNextButton()])},applyPrevButton:function(b,a){return Ext.factory(b,Ext.Button,a)},applyNextButton:function(b,a){return Ext.factory(b,Ext.Button,a)},applySliderField:function(b,a){return Ext.factory(b,Ext.field.SingleSlider,a)},applySummaryComponent:function(b,a){return Ext.factory(b,Ext.Component,a)}},0,['pagingtoolbar'],['widget','component','container','toolbar','pagingtoolbar'],{'widget':!0,'component':!0,'container':!0,'toolbar':!0,'pagingtoolbar':!0},['widget.pagingtoolbar'],0,[Ext.grid,'PagingToolbar'],0);Ext.cmd.derive('Ext.grid.SummaryRow',Ext.grid.Row,{isSummaryRow:!0,config:{group:null},defaultCellUI:'summary',classCls:'x-summaryrow',element:{reference:'element',children:[{reference:'cellsElement',className:'x-cells-el'},{reference:'rightSpacer',className:'x-cells-el-right-spacer'}]},updateGroup:function(){this.syncSummary()},privates:{beginRefresh:function(a){var c=this,b=c.getGroup();a=Ext.grid.Row.prototype.beginRefresh.call(this,a);a.group=b;a.records=(b?b.data:a.store.data).items;a.summary=!0;return a},syncSummary:function(){var a=this,d=a.getGroup()||a.parent.store,b=d.getSummaryRecord(),c=a.getViewModel();if(b===a.getRecord()){a.refresh()}else {a.setRecord(b);if(c){c.setData({record:b})}}}}},0,['gridsummaryrow'],['widget','component','gridrow','gridsummaryrow'],{'widget':!0,'component':!0,'gridrow':!0,'gridsummaryrow':!0},['widget.gridsummaryrow'],0,[Ext.grid,'SummaryRow'],0);Ext.cmd.derive('Ext.grid.mixin.Menus',Ext.Mixin,{mixinConfig:{id:'gridmenus',before:{beforeShowColumnMenu:'onBeforeShowColumnMenuMixin'}},onGroupByThisMenu:function(f){var c=this.getStore().getGroupers(),e=this.getHeaderContainer(),g=c.length,b,d,a;for(b=0;b<g;b++){d=c.items[b];a=e.down('[dataIndex='+d.getProperty()+']');if(a){a.show()}}a=f.up('gridcolumn');if(a){a.hide();c.replaceAll(this.createGrouperFromHeader(a))}},onAddGroupMenu:function(c){var b=this.getStore().getGroupers(),a=c.up('gridcolumn');if(a){a.hide();b.add(this.createGrouperFromHeader(a))}},onRemoveGroupMenu:function(c){var b=this.getStore().getGroupers(),a=c.up('gridcolumn');if(a){b.remove(this.createGrouperFromHeader(a))}},createGrouperFromHeader:function(a){var b=a.getGrouper(),c=a.getSorter();if(!b){b=new Ext.util.Grouper({property:a.getDataIndex(),direction:c?c.getDirection():'ASC',formatter:a.getGroupFormatter()});a.setGrouper(b)}return b},onBeforeShowColumnMenuMixin:function(g,a){var i=this.getStore(),f=i.getGroupers(),h=f.indexOf(g.getGrouper()),e=g.getGroupable(),d=a.getComponent('groups'),c=a.getComponent('addGroup'),b=a.getComponent('removeGroup');if(d){d.setHidden(!f.length)}if(c){c.setDisabled(!(e&&h<0))}if(b){b.setDisabled(!(e&&h>=0))}}},0,0,0,0,0,0,[Ext.grid.mixin,'Menus'],0);Ext.cmd.derive('Ext.grid.grouped.NavigationModel',Ext.grid.NavigationModel,{groupHeaderSelector:'.x-grid-group-header-collapsible',privates:{onKeyEnter:function(d){var c=this,f=c.location,e=d.getTarget(c.groupHeaderSelector),b=c.getView().store,a=b&&b.isMultigroupStore?b.getRenderData(f.record):null;d.stopEvent();if(a&&(a.isGroup||a.isGroupSummary||a.isSummary)){if(e){b.doExpandCollapseByPath(a.group.getPath(),a.group.isCollapsed)}}else {Ext.grid.NavigationModel.prototype.onKeyEnter.call(this,d)}}}},0,0,0,0,['navmodel.groupedgrid'],0,[Ext.grid.grouped,'NavigationModel'],0);Ext.cmd.derive('Ext.grid.grouped.selection.Rows',Ext.dataview.selection.Rows,{isSelected:function(c){var f=this,e=f.getSelected().spans,g=e.length,b,d,a;b=c.isEntity?f.view.store.indexOf(c):c;for(a=0;a<g;a++){d=e[a];if(b>=d[0]&&b<d[1]){return !0}}return !1},eachCell:function(l,j){var c=this,m=c.getSelected(),k=c.view,e=k.ownerGrid.getVisibleColumnManager().getColumns(),h=c.dragRange,g,b,f,a,i,d=!1;if(e){g=e.length;a=new Ext.grid.Location(k);if(m){c.eachRow(function(f){a.setItem(f);for(b=0;b<g;b++){a.setColumn(e[b]);if(l.call(j||c,a,a.columnIndex,a.recordIndex)===!1){d=!0;return !1}}})}if(!d&&h!=null){c.view.store.getRange(h[0],h[1],{forRender:!1,callback:function(h){i=h.length;for(b=0;!d&&b<i;b++){a.setItem(h[b]);for(f=0;!d&&f<g;f++){a.setColumn(e[f]);if(l.call(j||c,a,a.columnIndex,a.recordIndex)===!1){d=!0}}}}})}}}},0,0,0,0,['selection.groupedrows'],0,[Ext.grid.grouped.selection,'Rows'],0);Ext.cmd.derive('Ext.grid.grouped.selection.Records',Ext.dataview.selection.Records,{getFirstRowIndex:function(){return this.getCount()?this.view.store.indexOf(this.getSelected().first()):0},getLastRowIndex:function(){return this.getCount()?this.view.store.indexOf(this.getSelected().last()):-1},privates:{addRecordRange:function(a,b){var c=b;if(a>b){b=a;a=c}this.getSelected().add(this.view.store.getRange(a,b||a))},removeRecordRange:function(a,b){var c=b;if(a>b){b=a;a=c}this.getSelected().remove(this.view.store.getRange(a,b||a))},getContiguousSelection:function(){var b=this.view.store,a,c,d;a=Ext.Array.sort(this.getSelected().getRange(),function(a,c){return b.indexOf(a)-b.indexOf(c)});c=a.length;if(c){if(c===1&&b.indexOf(a[0])===-1){return !1}for(d=1;d<c;d++){if(b.indexOf(a[d])!==b.indexOf(a[d-1])+1){return !1}}return [b.indexOf(a[0]),b.indexOf(a[c-1])]}},refresh:function(){var i=this,m=i.view,l=i.getSelectionModel(),a=m.store.getData(),p=a.getFilters().getFilterFn(),b=l.ignoredFilter,f=i.getSelected(),o=l.getLastSelected(),d,k,h=[],e=[],n,j,g,c;if(b){if(b.getDisabled()){b=null}else {b.setDisabled(!0);a=a.getSource()||a}}if(o){d=a.get(a.getKey(o));if(d&&b&&!p(d)){d=null}}if(i.getCount()){k=f.getRange();n=k.length;for(j=0;j<n;j++){g=k[j];c=a.get(a.getKey(g));if(c&&b&&!p(c)){c=null}if(c){if(c!==g){h.push(g);e.push(c)}}else {h.push(g)}}if(m.beforeSelectionRefresh){m.beforeSelectionRefresh(h,e)}f.suppressEvent=!0;f.splice(f.getCount(),h,e);f.suppressEvent=!1}if(b){b.setDisabled(!1)}l.setLastSelected(d||e[e.length-1]||null)}}},0,0,0,0,['selection.groupedrecords'],0,[Ext.grid.grouped.selection,'Records'],0);Ext.cmd.derive('Ext.grid.grouped.selection.Model',Ext.grid.selection.Model,{isGroupedGridSelectionModel:!0,selection:{type:'groupedrecords'},getSelection:function(a,d){var b,c;if(a==='rows'||a==='records'){a='grouped'+(this.getStore().isVirtualStore?'rows':'records')}b=(arguments.callee.$previous||Ext.grid.selection.Model.prototype.getSelection).call(this);if(a){a=a.toLowerCase();if(!b||b.type!==a){c={type:a};if(a==='records'){c.selected=this.getSelected()}this.setSelection(c);b=(arguments.callee.$previous||Ext.grid.selection.Model.prototype.getSelection).call(this)}else if(d){b.clear(!0)}}return b},privates:{applySelection:function(a,b){var c;if(b){if(b.type===a.type){b.setConfig(a);return b}Ext.destroy(b)}if(a){c=this.getStore();a=Ext.Factory.selection(Ext.apply({selectionModel:this,type:'grouped'+(c&&c.isVirtualStore?'rows':'records'),selected:this.getSelected()},a))}return a}}},0,0,0,0,['selmodel.groupedgrid'],0,[Ext.grid.grouped.selection,'Model'],0);Ext.cmd.derive('Ext.grid.cell.Group',Ext.grid.cell.Cell,{config:{innerGroupStyle:null,innerGroupCls:null,userGroupStyle:null,userGroupCls:null},innerTemplate:[{reference:'iconElement',classList:['x-grid-group-icon','x-font-icon']},{reference:'groupElement',classList:['x-grid-group-title']}],noGroupCls:'x-gridcell-nogroup',groupHeaderCls:'x-grid-group-header',groupHeaderCollapsibleCls:'x-grid-group-header-collapsible',groupHeaderCollapsedCls:'x-grid-group-header-collapsed',nestedGroupPadding:25,encodeHtml:!1,handleEvent:function(g,i){var d=this,h=d.row,c=h.getGrid(),f=d.getRecord(),b=c.store,a=b&&b.isMultigroupStore?b.getRenderData(f):null,e='group',j=Ext.applyIf({grid:c,record:f,column:d.getColumn(),cell:d,row:h,e:i});if(!a){return}if(a.isGroup&&a.group&&g==='tap'&&b){b.doExpandCollapseByPath(a.group.getPath(),a.group.isCollapsed)}if(a.isGroupSummary){e='groupsummary'}else if(a.isSummary){e='summary'}c.fireEvent(e+g,c,j,i);return !1},updateInnerGroupCls:function(b,a){this.groupElement.replaceCls(a,b)},updateRawValue:function(a){var c=this.groupElement.dom,b=a==null?'':a;if(this.getEncodeHtml()){c.textContent=b}else {c.innerHTML=b}},refresh:function(i){var a=this,h=a.getRecord(),f=a.row.getGrid(),g=f.store,c=a.noGroupCls,b=g&&g.getRenderData(h),d,e;if(b&&h){e=b.group;if(e){c=a.groupHeaderCls;if(b.isGroup){d=a.nestedGroupPadding*(b.group.getLevel()-1)}else {d=a.nestedGroupPadding*b.group.getLevel()}a.bodyElement.setStyle(f.isRTL()?'padding-right':'padding-left',d+'px')}else {a.bodyElement.setStyle(f.isRTL()?'padding-right':'padding-left','0px')}if(b.isGroup){c+=' '+a.groupHeaderCollapsibleCls;if(e.isCollapsed){c+=' '+a.groupHeaderCollapsedCls}}}a.setCellCls(c);Ext.grid.cell.Cell.prototype.refresh.call(this,i)},refreshValue:function(h){var f=this.row.getGrid(),e=h.record,a=h.column,g=f.store,d=g&&g.getRenderData(e),i='&#160;',b,c;if(d){if(d.isGroup){b=a.getGroupHeaderTpl()}else if(d.isGroupSummary){b=a.getGroupSummaryTpl()}else if(d.isSummary){b=a.getSummaryTpl();c={store:f.getStore().getSource()}}}else if(e.isSummaryModel){b=a.getSummaryTpl();c={store:f.getStore().getSource()}}if(b){if(!c){c=Ext.apply({groupField:a.getDataIndex(),columnName:a.getText(),name:e.group.getLabel(),column:a},d)}i=b.apply(c)}return i}},0,['groupcell'],['widget','gridcellbase','textcell','gridcell','groupcell'],{'widget':!0,'gridcellbase':!0,'textcell':!0,'gridcell':!0,'groupcell':!0},['widget.groupcell'],0,[Ext.grid.cell,'Group'],0);Ext.cmd.derive('Ext.grid.column.Groups',Ext.grid.column.Column,{isGroupsColumn:!0,config:{groupHeaderTpl:'{name}',groupSummaryTpl:'Summary ({name})',summaryTpl:'Summary ({store.data.length})'},text:'Groups',draggable:!1,ignoreExport:!0,hideable:!1,sortable:!1,groupable:!1,defaultEditor:null,editable:!1,weight:-1000,width:200,cell:{xtype:'groupcell'},groupHeaderTpl:'{columnName}: {name}',groupSummaryTpl:'Summary ({name})',summaryTpl:'Summary',applyGroupHeaderTpl:function(a){return Ext.XTemplate.get(a)},applyGroupSummaryTpl:function(a){return Ext.XTemplate.get(a)},applySummaryTpl:function(a){return Ext.XTemplate.get(a)}},0,['groupscolumn'],['widget','component','container','headercontainer','gridcolumn','column','templatecolumn','groupscolumn'],{'widget':!0,'component':!0,'container':!0,'headercontainer':!0,'gridcolumn':!0,'column':!0,'templatecolumn':!0,'groupscolumn':!0},['widget.groupscolumn'],0,[Ext.grid.column,'Groups'],0);Ext.define('Ext.locale.fr.grid.column.Groups',{override:'Ext.grid.column.Groups',config:{groupSummaryTpl:'Sommaire ({name})',summaryTpl:'Sommaire ({store.data.length})'},text:'Groupes'});Ext.cmd.derive('Ext.grid.row.Group',Ext.grid.Row,{isGroupRow:!0,groupCls:'x-grid-group',summaryCls:'x-summaryrow',updateRecord:function(b,c){var a=this;Ext.grid.Row.prototype.updateRecord.call(this,b,c);a.removeCls([a.groupCls,a.summaryCls]);if(b){if(b.isGroup||b.isSummary){a.addCls(a.groupCls)}else if(b.isSummaryModel){a.addCls(a.summaryCls)}}},refresh:function(a){var c=this,r=c.cells,g=c.getBody(),w=r.length,n=c.getExpandedField(),e=c.getParent(),o=e.store,u=e.getSelectable(),p=u.getSelection(),v=p.isCells||p.isColumns,i,j,b,d,m,q,l,k,f,h,s,t;if(!e.isTreeGroupedGrid){return Ext.grid.Row.prototype.refresh.call(this,a)}c.refreshContext=a=c.beginRefresh(a);d=a.record;l=e.getGroupSummaryPosition();f=o&&o.getRenderData(d);h=!0;if(f){if(f.isGroupSummary||f.isSummary){h=!0}else if(f.isGroup){s=f.group;h=!(l==='bottom'&&!s.isCollapsed||l==='hidden')}}c.syncDirty(d);for(i=0,j=0;i<w;++i){b=r[i];if(b){q=b.getColumn();if(q.isGroupsColumn){k=!0}else {k=h}if(k){if(b.getRecord()===d){b.refresh(a)}else {b.refreshContext=a;b.setRecord(d);b.refreshContext=null}if(v){b.toggleCls(e.selectedCls,u.isCellSelected(c._recordIndex,j))}}else {t=a.record;a.record=null;b.refreshContext=a;b.setRecord(null);b.refreshContext=null;a.record=t}if(!b.isHidden()){j++}}}a.cell=a.column=a.dataIndex=a.scope=null;if(g){g.refreshContext=a;if(g.getRecord()===d){g.updateRecord(d)}else {g.setRecord(d)}g.refreshContext=null;if(n){c.setCollapsed(!d.get(n))}else {m=e.$recordsExpanded||(e.$recordsExpanded={});if(e.hasRowExpander){c.setCollapsed(!m[d.internalId])}}}c.refreshContext=null}},0,['gridgrouprow'],['widget','component','gridrow','gridgrouprow'],{'widget':!0,'component':!0,'gridrow':!0,'gridgrouprow':!0},['widget.gridgrouprow'],0,[Ext.grid.row,'Group'],0);Ext.cmd.derive('Ext.grid.TreeGrouped',Ext.grid.Grid,{isTreeGroupedGrid:!0,eventedConfig:{summaryPosition:'bottom',groupSummaryPosition:'bottom'},config:{groupsColumn:{xtype:'groupscolumn',minWidth:150},startCollapsed:!0,groupHeaderTpl:'{name}',groupSummaryTpl:'Summary ({name})',summaryTpl:'Summary ({store.data.length})'},itemConfig:{xtype:'gridgrouprow'},columnMenu:{items:{showInGroups:!1,groups:{xtype:'gridgroupsmenuitem',separator:!0,weight:-70},groupByThis:{separator:!1,weight:-60,handler:'up.onGroupByThisMenu'},addGroup:{xtype:'gridaddgroupmenuitem',weight:-50,handler:'up.onAddGroupMenu'},removeGroup:{xtype:'gridremovegroupmenuitem',weight:-40,handler:'up.onRemoveGroupMenu'}}},selectionModel:'groupedgrid',navigationModel:'groupedgrid',cellSelector:'.x-gridcell',variableHeights:!0,enableColumnMove:!1,initialize:function(){var a=this,c=a.getStore(),b=c&&c.getGroupers(!1);a.groupingColumn=a.registerColumn(Ext.merge({groupHeaderTpl:a.getGroupHeaderTpl(),groupSummaryTpl:a.getGroupSummaryTpl(),summaryTpl:a.getSummaryTpl(),hidden:!(b&&b.length)},a.getGroupsColumn()));Ext.grid.Grid.prototype.initialize.call(this)},expandAll:function(){var a=this.store;if(a&&a.isMultigroupStore){a.setStartCollapsed(!1);a.refreshData(!0)}},collapseAll:function(){var a=this.store;if(a&&a.isMultigroupStore){a.setStartCollapsed(!0);a.refreshData(!0)}},updateSummaryPosition:function(b){var a=this.store;if(a&&a.isMultigroupStore&&!this.isConfiguring){a.setSummaryPosition(b)}},updateGroupSummaryPosition:function(b){var a=this.store;if(a&&a.isMultigroupStore&&!this.isConfiguring){a.setGroupSummaryPosition(b)}},isRTL:function(){if(Ext.isFunction(this.isLocalRtl)){return this.isLocalRtl()}return !1},onStoreRefresh:function(d){var a=this,e=a.groupingColumn,b=a.getStore(),c=b&&b.getGroupers(!1);if(e){e.setHidden(!(c&&c.length>0))}if(d.isMultigroupStore&&a.dataRange){a.dataRange.records=d.getRange()}Ext.grid.Grid.prototype.onStoreRefresh.apply(this,arguments)},onChildTap:function(a){this.handleRowEvent('tap',a.event);Ext.grid.Grid.prototype.onChildTap.call(this,a)},onChildTapHold:function(a){this.handleRowEvent('taphold',a.event);Ext.grid.Grid.prototype.onChildTapHold.call(this,a)},onChildSingleTap:function(a){this.handleRowEvent('singletap',a.event);Ext.grid.Grid.prototype.onChildSingleTap.call(this,a)},onChildDoubleTap:function(a){this.handleRowEvent('doubletap',a.event);Ext.grid.Grid.prototype.onChildDoubleTap.call(this,a)},onChildContextMenu:function(a){this.handleRowEvent('contextmenu',a.event);Ext.grid.Grid.prototype.onChildContextMenu.call(this,a)},handleRowEvent:function(e,d){var a=Ext.fly(d.getTarget(this.cellSelector)),c=this.getNavigationModel(),b;if(a&&a.component&&a.component.handleEvent){a.component.handleEvent(e,d);if(c){b=c.getLocation();if(b){b.refresh()}}}},isGrouping:function(){return !1},privates:{applyStore:function(d,c){var b=this,a=Ext.grid.Grid.prototype.applyStore.call(this,d,c);if(a){b.store=a=new Ext.grid.AdvancedGroupStore({fireReplaceEvent:!1,source:a,groupSummaryPosition:b.getGroupSummaryPosition(),summaryPosition:b.getSummaryPosition(),startCollapsed:b.getStartCollapsed(),storeEventListeners:{sort:'onStoreSort'},onStoreSort:function(b,a){this.fireEvent('sort',b,a)}})}return a}}},0,['treegroupedgrid'],['widget','component','container','componentdataview','list','grid','treegroupedgrid'],{'widget':!0,'component':!0,'container':!0,'componentdataview':!0,'list':!0,'grid':!0,'treegroupedgrid':!0},['widget.treegroupedgrid'],[[Ext.grid.mixin.Menus.prototype.mixinId||Ext.grid.mixin.Menus.$className,Ext.grid.mixin.Menus]],[Ext.grid,'TreeGrouped'],0);Ext.define('Ext.locale.fr.grid.TreeGrouped',{override:'Ext.grid.TreeGrouped',config:{groupSummaryTpl:'Sommaire ({name})',summaryTpl:'Sommaire ({store.data.length})'}});Ext.cmd.derive('Ext.grid.cell.Boolean',Ext.grid.cell.Text,{isBooleanCell:!0,config:{falseText:'False',trueText:'True',undefinedText:'\xa0'},updateColumn:function(b,c){var a;Ext.grid.cell.Text.prototype.updateColumn.call(this,b,c);if(b&&b.isBooleanColumn){a=b.getFalseText();if(a!==null){this.setFalseText(a)}a=b.getTrueText();if(a!==null){this.setTrueText(a)}a=b.getUndefinedText();if(a!==null){this.setUndefinedText(a)}}},updateFalseText:function(){if(!this.isConfiguring){this.writeValue()}},updateTrueText:function(){if(!this.isConfiguring){this.writeValue()}},updateUndefinedText:function(){if(!this.isConfiguring){this.writeValue()}},formatValue:function(a){var b=this,c=b._record,d=c&&c.isSummaryModel;if(d){a=a||''}else if(a===undefined){a=b.getUndefinedText()}else if(!a||a==='false'){a=b.getFalseText()}else {a=b.getTrueText()}return a}},0,['booleancell'],['widget','gridcellbase','textcell','booleancell'],{'widget':!0,'gridcellbase':!0,'textcell':!0,'booleancell':!0},['widget.booleancell'],0,[Ext.grid.cell,'Boolean'],0);Ext.cmd.derive('Ext.grid.cell.Expander',Ext.grid.cell.Base,{isExpanderCell:!0,config:{collapsed:!0},align:'center',classCls:'x-expandercell',expandedCls:'x-expanded',innerTemplate:[{reference:'iconElement',cls:'x-icon-el x-font-icon'}],updateCollapsed:function(a){this.element.toggleCls(this.expandedCls,!a)}},0,['expandercell'],['widget','gridcellbase','expandercell'],{'widget':!0,'gridcellbase':!0,'expandercell':!0},['widget.expandercell'],0,[Ext.grid.cell,'Expander'],0);Ext.cmd.derive('Ext.grid.column.Boolean',Ext.grid.column.Column,{isBooleanColumn:!0,config:{trueText:null,falseText:null,undefinedText:null,defaultEditor:{xtype:'checkboxfield'},cell:{xtype:'booleancell'}}},0,['booleancolumn'],['widget','component','container','headercontainer','gridcolumn','column','templatecolumn','booleancolumn'],{'widget':!0,'component':!0,'container':!0,'headercontainer':!0,'gridcolumn':!0,'column':!0,'templatecolumn':!0,'booleancolumn':!0},['widget.booleancolumn'],0,[Ext.grid.column,'Boolean'],0);Ext.cmd.derive('Ext.grid.filters.menu.Base',Ext.menu.CheckItem,{isFilterMenuItem:!0,text:'Filter',menu:{indented:!1},weight:-70,bufferableMethods:{onInputChange:300},syncFilter:function(){var e=this,h=e.column.getDataIndex(),j=e.plugin.getQuery(),c=j.getFilters(),i=e.getMenu().getItems().items,b,f,g,a,d;for(f=i.length;f-->0;){a=i[f];if(a.operator){d=null;for(g=h&&c&&c.length;g-->0;){b=c[g];if(b.property===h&&b.operator===a.operator){d=b.value;break}}a.setValue(d)}}},syncQuery:function(){var b=this,e=b.column.getDataIndex(),h=b.plugin,m=h.getOwner(),l=h.getQuery(),i=0,k=0,g,a,d,f,j,c;if(e){a=Ext.clone(l.getFilters());j=b.getMenu().getItems().items;for(d=a&&a.length;d-->0;){if(a[d].property===e){a.splice(d,1);++k}}if(b.getChecked()){for(d=j.length;d-->0;){f=j[d];if(f.operator){c=f.getValue();if(c!==null&&c!==''){++i;if(Ext.isDate(c)){c=Ext.Date.format(c,'C')}(a||(a=[])).push({property:e,operator:f.operator,value:c})}}}}if(!i){b.setChecked(!1)}if(i||k){h.setActiveFilter(a)}g=a&&Ext.Array.contains(Ext.Array.pluck(a,'property'),e);b.setColumnActive(g);m.fireEventArgs(g?'filteractivate':'filterdeactivate',[b,b.column])}},setColumnActive:function(a){this.column[a?'addCls':'removeCls'](this.plugin.filterCls)},getDefaultToFilterBy:function(a){if(Ext.isObject(a)&&a.value!==undefined){return a.value}else {return a}},privates:{doOnInputChange:function(){this.setChecked(!0);this.syncQuery()},initialize:function(){var g=this.column.getFilter(),a,b,e=this.getMenu().getItems().items,f,d,c;if(g){b=this.getDefaultToFilterBy(g);if(b!==undefined){if(Ext.isObject(b)){for(f in b){for(d=e.length;d-->0;){a=e[d];if(a.operator&&a.operator===f){a.setValue(b[f])}}}}else {if(e.length===1){c=e[0]}else {for(d=e.length;d-->0;){a=e[d];if(a.defaultFilter===!0||a.getValue()===b){c=a}}}if(c){if(c.setChecked){c.setChecked(!0)}else {c.setValue(b)}}}}}Ext.menu.CheckItem.prototype.initialize.call(this)}}},0,0,['widget','component','menuitem','menucheckitem'],{'widget':!0,'component':!0,'menuitem':!0,'menucheckitem':!0},0,[[Ext.mixin.Bufferable.prototype.mixinId||Ext.mixin.Bufferable.$className,Ext.mixin.Bufferable]],[Ext.grid.filters.menu,'Base'],0);Ext.cmd.derive('Ext.grid.filters.menu.Boolean',Ext.grid.filters.menu.Base,{menu:{defaults:{name:'boolfilter',group:'value',xtype:'menuradioitem',operator:'==',checkHandler:'up.onInputChange'},items:{yes:{value:!0,text:'True',weight:10},no:{value:!1,text:'False',weight:20}}},syncFilter:function(){var e=this,j=e.column,h=j.getDataIndex(),k=e.plugin.getQuery(),d=k.getFilters(),i=e.getMenu().getItems().items,b,f,g,a,c;for(f=i.length;f-->0;){a=i[f];if(a.operator){c=null;for(g=h&&d&&d.length;g-->0;){b=d[g];if(b.property===h&&b.operator===a.operator){if(a.getChecked){if(b.value===a.getValue()){c=b.value;break}}else {c=b.value;break}}}if(a.operator==='=='&&a.getChecked){if(a.getValue()===c){a.setChecked(!0)}else {a.setChecked(!1)}}else {a.setValue(c)}}}},syncQuery:function(){var e=this,f=e.column.getDataIndex(),j=e.plugin,k=j.getQuery(),g=0,i=0,b,c,a,h,d;if(f){b=Ext.clone(k.getFilters());h=e.getMenu().getItems().items;for(c=b&&b.length;c-->0;){if(b[c].property===f){b.splice(c,1);++i}}if(e.getChecked()){for(c=h.length;c-->0;){a=h[c];if(a.operator){if(a&&a.getChecked){if(a.getChecked()&&(a.getValue()===!0||a.getValue()===!1)){d=a.getValue()}else {d=null}}else {d=a.getValue();e.setChecked(!0)}if(d!==null&&d!==''){++g;(b||(b=[])).push({property:f,operator:a.operator,value:d})}}}}if(!g){e.setChecked(!1)}if(g||i){j.setActiveFilter(b)}}}},0,0,['widget','component','menuitem','menucheckitem'],{'widget':!0,'component':!0,'menuitem':!0,'menucheckitem':!0},['gridFilters.boolean'],0,[Ext.grid.filters.menu,'Boolean'],0);Ext.define('App.overrides.grid.filters.menu.Boolean',{override:'Ext.grid.filters.menu.Boolean',menu:{defaults:{name:'boolfilter',group:'value',xtype:'menuradioitem',operator:'==',checkHandler:'up.onInputChange'},items:{yes:{value:!0,text:'Oui',weight:10},no:{value:!1,text:'Non',weight:20}}}});Ext.cmd.derive('Ext.grid.filters.menu.Date',Ext.grid.filters.menu.Base,{menu:{items:{lt:{xtype:'datefield',label:'Before',placeholder:'Before...',operator:'<',weight:10,listeners:{change:'up.onInputChange'}},gt:{xtype:'datefield',label:'After',placeholder:'After...',operator:'>',weight:20,listeners:{change:'up.onInputChange'}},eq:{xtype:'datefield',label:'On',placeholder:'On...',operator:'=',separator:!0,weight:30,listeners:{change:'up.onInputChange'},defaultFilter:!0}}},syncFilter:function(){var f=this,e=f.column,i=e.getDataIndex(),k=f.plugin.getQuery(),d=k.getFilters(),j=f.getMenu().getItems().items,a,g,h,c,b;for(g=j.length;g-->0;){c=j[g];if(c.operator){b=null;for(h=i&&d&&d.length;h-->0;){a=d[h];if(a.operator==='=='&&!c.getChecked&&!(typeof a.value==='boolean')){a.operator='='}if(a.property===i&&a.operator===c.operator){b=a.value;break}}if(e.columnFilterTypes[e.xtype]==='date'){b=b&&Ext.Date.parse(b)}c.setValue(b)}}}},0,0,['widget','component','menuitem','menucheckitem'],{'widget':!0,'component':!0,'menuitem':!0,'menucheckitem':!0},['gridFilters.date'],0,[Ext.grid.filters.menu,'Date'],0);Ext.define('App.overrides.grid.filters.menu.Date',{override:'Ext.grid.filters.menu.Date',menu:{items:{lt:{xtype:'datefield',label:'Avant',placeholder:'Avant...',operator:'<',weight:10,listeners:{change:'up.onInputChange',buffer:150}},gt:{xtype:'datefield',label:'Aprs',placeholder:'Aprs...',operator:'>',weight:20,listeners:{change:'up.onInputChange',buffer:150}},eq:{xtype:'datefield',label:'A la Date du',placeholder:'Au...',operator:'=',separator:!0,weight:30,listeners:{change:'up.onInputChange',buffer:150},defaultFilter:!0}}}});Ext.cmd.derive('Ext.grid.filters.menu.List',Ext.grid.filters.menu.Base,{menu:{items:{list:{xtype:'comboboxfield',queryMode:'local',cls:'x-grid-filters-menu-list-combobox',operator:'in',placeholder:'Choose',listeners:{change:'up.onInputChange'}}}},config:{sorted:null,sortDirection:'ASC'},cachedConfig:{storeListenersConfig:{load:'onDataChanged',add:'onDataChanged',refresh:'onDataChanged',remove:'onDataChanged',update:'onDataChanged'}},classCls:'x-filters-menu-list',onDataChanged:function(a){this.createValueRange(a)},oldRange:[],createValueRange:function(i){var d,b,c,e,g,f,a=this,h=a.column.getDataIndex();d=i.collect(h,!1,!0);b=Ext.Array.sort(Ext.clone(d));if(Ext.Array.equals(b,a.oldRange)){return}a.oldRange=b;if(a.getSorted()){d=a.getSortDirection()==='DESC'?Ext.clone(b).reverse():b}e=a.combobox.getDisplayField();g=a.combobox.getValueField();f=d.map(function(a){c={};c[e]=a;c[g]=a;return c});a.combobox.getStore().setData(f)},getDefaultToFilterBy:function(a){if(!a){return}return a.value},privates:{initialize:function(){var b,a=this;a.grid=this.plugin.getOwner();a.combobox=this.getMenu().down('combobox');if(!a.combobox.getStore()){a.combobox.setStore({internalUse:!0});a.doUpdateSorted();a.gridListeners=a.grid.on({scope:a,destroyable:!0,'storechange':'onGridStoreChange'});b=a.grid.getStore();if(b){a.storeListeners=b.on(Ext.apply({scope:a,destroyable:!0},a.getStoreListenersConfig()));if(b.isLoaded()){a.onDataChanged(b)}}}Ext.grid.filters.menu.Base.prototype.initialize.call(this)}},onInputChange:function(b,c){var a=this;a.combobox.operator=a.combobox.getMultiSelect()?'in':'==';a.callParent()},updateSorted:function(){this.doUpdateSorted()},updateSortDirection:function(){this.doUpdateSorted()},doUpdateSorted:function(){var a=this,b,d=a.getSorted(),c=a.getSortDirection();if(!a.combobox){return}b=a.combobox.getStore();if(!b.internalUse){return}if(d){b.getSorters().add({id:'sort',property:a.combobox.getDisplayField(),direction:c?c:'ASC'})}else {b.getSorters().removeByKey('sort')}},onGridStoreChange:function(d,b,c){var a=this;if(c){Ext.destroy(a.storeListeners)}if(b){a.storeListeners=b.on(Ext.apply({scope:a,destroyable:!0},a.getStoreListenersConfig()));if(b.isLoaded()){a.onDataChanged(b)}}}},0,0,['widget','component','menuitem','menucheckitem'],{'widget':!0,'component':!0,'menuitem':!0,'menucheckitem':!0},['gridFilters.list'],0,[Ext.grid.filters.menu,'List'],0);Ext.cmd.derive('Ext.grid.filters.menu.Number',Ext.grid.filters.menu.Base,{menu:{items:{lt:{xtype:'numberfield',label:'Less than',placeholder:'Less than...',floatedPickerAlign:'tl-tr?',operator:'<',weight:10,listeners:{change:'up.onInputChange'}},gt:{xtype:'numberfield',label:'Greater than',placeholder:'Greater than...',floatedPickerAlign:'tl-tr?',operator:'>',weight:20,listeners:{change:'up.onInputChange'}},eq:{xtype:'numberfield',label:'Equal to',placeholder:'Equal to...',floatedPickerAlign:'tl-tr?',operator:'=',separator:!0,weight:30,listeners:{change:'up.onInputChange'},defaultFilter:!0}}},syncFilter:function(){var e=this,h=e.column.getDataIndex(),j=e.plugin.getQuery(),c=j.getFilters(),i=e.getMenu().getItems().items,a,f,g,b,d;for(f=i.length;f-->0;){b=i[f];if(b.operator){d=null;for(g=h&&c&&c.length;g-->0;){a=c[g];if(a.operator==='=='&&!b.getChecked&&!(typeof a.value==='boolean')){a.operator='='}if(a.property===h&&a.operator===b.operator){d=a.value;break}}b.setValue(d)}}}},0,0,['widget','component','menuitem','menucheckitem'],{'widget':!0,'component':!0,'menuitem':!0,'menucheckitem':!0},['gridFilters.number'],0,[Ext.grid.filters.menu,'Number'],0);Ext.define('App.overrides.grid.filters.menu.Number',{override:'Ext.grid.filters.menu.Number',menu:{items:{lt:{xtype:'numberfield',label:'Infrieur ',placeholder:'Infrieur ...',floatedPickerAlign:'tl-tr?',operator:'<',weight:10,listeners:{change:'up.onInputChange'}},gt:{xtype:'numberfield',label:'Suprieur ',placeholder:'Suprieur ...',floatedPickerAlign:'tl-tr?',operator:'>',weight:20,listeners:{change:'up.onInputChange'}},eq:{xtype:'numberfield',label:'Egale ',placeholder:'Egale ...',floatedPickerAlign:'tl-tr?',operator:'=',separator:!0,weight:30,listeners:{change:'up.onInputChange'},defaultFilter:!0}}}});Ext.cmd.derive('Ext.grid.filters.menu.String',Ext.grid.filters.menu.Base,{menu:{items:{like:{xtype:'textfield',placeholder:'Like...',operator:'like',listeners:{change:'up.onInputChange'}}}}},0,0,['widget','component','menuitem','menucheckitem'],{'widget':!0,'component':!0,'menuitem':!0,'menucheckitem':!0},['gridFilters.string'],0,[Ext.grid.filters.menu,'String'],0);Ext.define('App.overrides.grid.filters.menu.String',{override:'Ext.grid.filters.menu.String',menu:{items:{like:{xtype:'textfield',placeholder:'Rechercher...',operator:'like',listeners:{change:'up.onInputChange',buffer:300}}}}});Ext.cmd.derive('Ext.grid.filters.Plugin',Ext.plugin.Abstract,{bufferableMethods:{queryModified:100},config:{activeFilter:null,query:{type:'default',format:'filters'}},filterCls:'x-grid-filters-filtered-column',stateful:['activeFilter'],init:function(a){this.setOwner(a);a.on({beforeshowcolumnmenu:'onBeforeShowColumnMenu',scope:this});this.initColumns()},destroy:function(){this.setOwner(null);Ext.plugin.Abstract.prototype.destroy.call(this)},updateActiveFilter:function(a){var b=this.getQuery();if(Ext.isString(a)){b.setSource(a)}else {b.setFilters(a)}},applyQuery:function(a,b){return Ext.Factory.query.update(b,a)},updateQuery:function(a){if(a){var c=this,b=a.compile;a.compile=function(){b.call(a);c.queryModified(a)}}},updateStore:function(b,a){var c=this,d=c.getQuery();c.mixins.storewatcher.updateStore.call(c,b,a);if(a&&!(a.destroying||a.destroyed)){a.getFilters().remove(d)}if(b){b.getFilters().add(d)}},onSetFilter:function(a){this.setActiveFilter(a.rec.data.query)},privates:{initColumns:function(){var d=this.getOwner(),c=d.getColumns(),e=c.length,a,b;for(a=0;a<e;a++){b=c[a];this.createFilter(d,b,b.getMenu())}},createFilter:function(g,c,e){var f=this,a,b,d;if(!e){return}a=e.getComponent('filter');if(!a){b=c.createFilter({itemId:'filter',plugin:f,column:c});a=b&&e.add(Ext.Factory.gridFilters(b));if(a){a.setCheckHandler(f.onFilterItemCheckChange.bind(f));d=c.getFilter();if(!Ext.isObject(d)||d.value===undefined){a.syncFilter()}}}return a},onBeforeShowColumnMenu:function(d,c,b){var e=this,a=b.getComponent('filter');if(!a){a=e.createFilter(d,c,b)}if(a){a.syncFilter()}},onFilterItemCheckChange:function(a){a.syncQuery()},doQueryModified:function(){var a=this.cmp.getStore();a=a&&a.getFilters();if(a){a.beginUpdate();++a.generation;a.endUpdate()}}}},0,0,0,0,['plugin.gridfilters'],[[Ext.state.Stateful.prototype.mixinId||Ext.state.Stateful.$className,Ext.state.Stateful],[Ext.mixin.StoreWatcher.prototype.mixinId||Ext.mixin.StoreWatcher.$className,Ext.mixin.StoreWatcher],[Ext.mixin.Bufferable.prototype.mixinId||Ext.mixin.Bufferable.$className,Ext.mixin.Bufferable]],[Ext.grid.filters,'Plugin'],0);Ext.cmd.derive('Ext.layout.Fit',Ext.layout.Auto,{isFit:!0,cls:'x-layout-fit',itemCls:'x-layout-fit-item'},0,0,0,0,['layout.fit'],0,[Ext.layout,'Fit'],0);Ext.cmd.derive('Ext.grid.plugin.CellEditing',Ext.plugin.Abstract,{config:{grid:null,triggerEvent:'doubletap',selectOnEdit:null},init:function(a){this.setGrid(a);a.setTouchAction({doubleTapZoom:!1});a.$cellEditing=!0},getEditor:function(c){var b=c.column,g=b.getDataIndex(),f=c.record,e=b.getEditable(),a,d;if(!(a=e!==!1&&b.getEditor(c.record))&&e){a=Ext.create(b.getDefaultEditor())}if(a){if(!a.isCellEditor){a=Ext.create({xtype:'celleditor',field:a,plugin:this})}b.setEditor(a);a.editingPlugin=this;d=a.getField();d.addUi('celleditor');d.setValidationField(f.getField(g),f)}return a},getActiveEditor:function(){return this.activeEditor},updateGrid:function(b,a){if(a){a.unregisterActionable(this)}if(b){b.registerActionable(this)}},activateCell:function(a){var c=this,f=c.activeEditor,e=c.$previousEditor,b,d,g;if(f&&f.editing&&f.$activeLocation.cell===a.cell){return f.$activeLocation}else {b=c.getEditor(a);if(b){if(e){if(e.isCancelling){e.cancelEdit()}else {e.completeEdit()}}g=b.startEdit(a);if(b.editing){if(c.getSelectOnEdit()){d=c.getGrid().getSelectable();if(d.getCells()){d.selectCells(a,a)}else if(d.getRows()){d.select(a.record)}}c.$previousEditor=b;return g}else {b.onEditComplete(!1,!0)}}}},startEdit:function(b,a){this.activateCell(new Ext.grid.Location(this.getGrid(),{record:b,column:a}))},destroy:function(){var a=this.getGrid();if(a){a.$cellEditing=!1}this.$previousEditor=null;Ext.plugin.Abstract.prototype.destroy.call(this)}},0,0,0,0,['plugin.cellediting','plugin.gridcellediting'],0,[Ext.grid.plugin,'CellEditing'],0);Ext.cmd.derive('Ext.menu.Separator',Ext.Component,{isMenuSeparator:!0,focusable:!1,classCls:'x-menuseparator',ariaRole:'separator'},0,['menuseparator'],['widget','component','menuseparator'],{'widget':!0,'component':!0,'menuseparator':!0},['widget.menuseparator'],0,[Ext.menu,'Separator'],0);Ext.cmd.derive('Ext.grid.plugin.grouping.Column',Ext.Component,{isGroupingPanelColumn:!0,config:{text:'&#160;',grouper:null,idColumn:'',column:null,menu:{lazy:!0,$value:{}}},layout:{type:'hbox'},element:{reference:'element',cls:'x-unselectable',listeners:{tap:'onColumnTap'}},template:[{reference:'bodyElement',cls:'x-body-el',children:[{reference:'iconElement',cls:'x-icon-el x-font-icon'},{reference:'textElement',cls:'x-text-el'},{reference:'triggerElement',cls:'x-trigger-el x-font-icon x-item-no-tap'}]}],classCls:'x-grid-group-column',updateText:function(a){var b=this.textElement.dom;b.innerHTML=a||'&#160;';b.setAttribute('data-title',a)},overCls:'x-grid-group-column-over',cls:'x-unselectable',btnIconCls:'x-grid-group-column-btn-image',btnAscSortIconCls:'x-grid-group-column-btn-sort-asc',btnDescSortIconCls:'x-grid-group-column-btn-sort-desc',onColumnTap:function(){var a=this.getGrouper();if(!a){return}a.toggle();this.changeSortCls()},doDestroy:function(){this.setGrouper(null);Ext.Component.prototype.doDestroy.call(this)},initRenderData:function(){return Ext.apply(this.callParent(arguments),{header:this.header})},afterRender:function(){this.changeSortCls();(arguments.callee.$previous||Ext.Component.prototype.afterRender).call(this)},updateGrouper:function(a){this.changeSortCls()},changeSortCls:function(){var a=this,d=a.getGrouper(),b=a.iconElement,c;if(d&&b){c=d.getDirection();if(c==='ASC'||!c){b.addCls(a.btnAscSortIconCls);b.removeCls(a.btnDescSortIconCls)}else {b.addCls(a.btnDescSortIconCls);b.removeCls(a.btnAscSortIconCls)}b.addCls(a.btnIconCls)}}},0,['groupingpanelcolumn'],['widget','component','groupingpanelcolumn'],{'widget':!0,'component':!0,'groupingpanelcolumn':!0},['widget.groupingpanelcolumn'],0,[Ext.grid.plugin.grouping,'Column'],0);Ext.cmd.derive('Ext.grid.plugin.grouping.DragZone',Ext.plugin.dd.DragZone,{autoDestroy:!1,groups:'groupHeaders',grid:null,view:null,handle:'.x-grid-group-column',platformConfig:{phone:{activateOnLongPress:!0}},beforeDragStart:function(a){var c=this,b=Ext.dd.Manager.getSourceComp(a),d=b.renderElement,f=Ext.dd.Manager.getTargetEl(a),e=d.isSuspended('drag')||d.isSuspended('longpress');if(e||!b.isGroupingPanelColumn||b.getDraggable()===!1||Ext.fly(a.eventTarget).hasCls(c.resizerCls)||Ext.fly(f).hasCls(c.maskCls)){return !1}a.setData('column',b);a.setData('panel',c.view);a.setData('grid',c.grid);Ext.plugin.dd.DragZone.prototype.beforeDragStart.call(this,a)},getDragText:function(b){var a=Ext.dd.Manager.getTargetComp(b);return a.getText&&a.getText()||''}},0,0,0,0,0,0,[Ext.grid.plugin.grouping,'DragZone'],0);Ext.cmd.derive('Ext.grid.plugin.grouping.DropZone',Ext.grid.HeaderDropZone,{groups:'groupHeaders',dropIndicator:'x-grid-column-drop-indicator',grid:null,view:null,onDragMove:function(c){var a=this,b=c.data.column,g=a.view.getItems(),n=g.length,l=Ext.dd.Manager,h=l.getTargetComp(c),i=b&&a.grid===c.data.grid&&(b.isGroupingPanelColumn||b.isGridColumn&&b.getGroupable()),f=-1,d,k,e,m,j;if(i&&b.isGridColumn){for(j=0;j<n;j++){m=g.items[j];i=i&&m.getColumn()!==b}}if(!i){if(a.ddEl){a.removeDropMarker()}return}e=h;if(h===a.view){if(g.length===0){d='before';f=0}else {e=g.last();f=g.length;d='after'}}else {d=l.getPosition(c,h,'x')}k=a.dropMarkerCls+'-'+d;if(e.hasCls(k)){return}if(a.ddEl){a.removeDropMarker()}a.ddEl=e;a.addDropMarker(e,[a.dropIndicator,k]);if(f<0){f=a.findNewIndex(h,d,c)}c.setData('index',f)},onDrop:function(g){var b=this,a=g.data,d=a.column,e=a.panel,f=a.index,c=b.view;if(!b.ddEl||!c){return}b.removeDropMarker();c.dragDropColumn(e,d,f)},findNewIndex:function(e,g,f){var c=this.view.getItems(),a=c.indexOf(e),b=c.indexOf(f.data.column),d=b>=0&&b<a;if(g==='before'){a=d?a-1:a}else {a=d?a:a+1}return a}},0,0,0,0,0,0,[Ext.grid.plugin.grouping,'DropZone'],0);Ext.cmd.derive('Ext.grid.plugin.grouping.Panel',Ext.Panel,{isGroupingPanel:!0,config:{grid:null,store:null,columnConfig:{xtype:'groupingpanelcolumn'}},docked:'top',weight:90,weighted:!0,height:36,layout:'hbox',border:!1,header:!1,padding:0,touchAction:{panX:!1,pinchZoom:!1,doubleTapZoom:!1},cls:'x-grid-group-panel-body',hintTextCls:'x-grid-group-panel-hint',groupingPanelText:'Drag a column header here to group by that column',showGroupingPanelText:'Show Group By Panel',hideGroupingPanelText:'Hide Group By Panel',clearGroupText:'Clear Group',sortAscText:'Sort Ascending',sortDescText:'Sort Descending',moveLeftText:'Move left',moveRightText:'Move right',moveBeginText:'Move to beginning',moveEndText:'Move to end',removeText:'Remove',ascSortIconCls:'x-grid-group-column-sort-icon-asc',descSortIconCls:'x-grid-group-column-sort-icon-desc',groupingPanelIconCls:'x-grid-group-panel-icon',clearGroupIconCls:'x-grid-group-panel-clear-icon',initialize:function(){var a=this,b=a.getGrid();a.dragZone=new Ext.grid.plugin.grouping.DragZone({element:a.el,view:a,grid:b,constrain:Ext.getBody()});a.dropZone=new Ext.grid.plugin.grouping.DropZone({element:a.el,view:a,grid:b});a.infoEl=a.bodyElement.createChild({cls:a.hintTextCls+' x-unselectable',html:a.groupingPanelText});a.setInfoElVisibility();a.manageBorders=!1;Ext.Panel.prototype.initialize.call(this)},destroy:function(){var a=this;Ext.destroy(a.dragZone,a.dropZone);Ext.Panel.prototype.destroy.call(this)},setInfoElVisibility:function(){var a=this.infoEl;if(!a){return}if(!this.getItems().length){a.show()}else {a.hide()}},dragDropColumn:function(f,a,e){var d=this,c,b;if(a.isGroupingPanelColumn){d.insert(e,a)}else if(a.isGridColumn){c=a.getSorter();b=a.getGrouper();if(!b){b=new Ext.util.Grouper({property:a.getDataIndex(),direction:c?c.getDirection():'ASC',formatter:a.getGroupFormatter()});a.setGrouper(b)}d.addColumn({text:a.getText(),idColumn:a.getId(),grouper:b,column:a},e);a.hide()}d.notifyGroupChange()},notifyGroupChange:function(){var e=this,d=e.getInnerItems(),h=d&&d.length,b=[],g=this.getStore(),a,c,f;for(a=0;a<h;a++){f=d[a];c=f.getGrouper();if(c){b.push(c)}}e.suspendChanges=!0;if(!b.length){g.clearGrouping()}else {g.setGroupers(b)}e.setInfoElVisibility()},updateGrid:function(b){var a=this,c=null;Ext.destroy(a.gridListeners);if(b){a.gridListeners=b.on({storechange:a.onGridStoreChange,scope:a,destroyable:!0});c=b.getStore()}a.setStore(c)},updateStore:function(b){var a=this;Ext.destroy(a.storeListeners);if(b){a.storeListeners=b.on({groupschange:a.initGroupingColumns,groupchange:a.initGroupingColumns,scope:a,destroyable:!0});a.initGroupingColumns()}},onGridStoreChange:function(b,a){this.setStore(a)},addColumn:function(e,c,f){var b=this,d=Ext.apply({},b.getColumnConfig()),a;a=Ext.create(Ext.apply(d,e));if(c!==-1){b.insert(c,a)}else {b.add(a)}if(f===!0){a.focus();b.notifyGroupChange()}},initGroupingColumns:function(){var b=this,l=b.getGrid(),k=b.getStore(),f=k.getGroupers(!1),j=f&&f.length,g=l.getColumns(),m=g.length,i=Ext.Array.toValueMap(g,'_dataIndex'),d,e,a,c,h;if(b.suspendChanges){b.suspendChanges=!1;return}b.removeAll(!0);Ext.suspendLayouts();for(d=0;d<j;d++){c=f.items[d];h=!1;for(e=0;e<m;e++){a=g[e];if(a.getGrouper()===c){h=!0;break}}if(!h){a=i[c.getProperty()];a.setGrouper(c)}if(a){b.addColumn({text:a.getText(),idColumn:a.getId(),grouper:c,column:a},-1);a.hide()}}b.setInfoElVisibility();Ext.resumeLayouts(!0)}},0,['groupingpanel'],['widget','component','container','panel','groupingpanel'],{'widget':!0,'component':!0,'container':!0,'panel':!0,'groupingpanel':!0},['widget.groupingpanel'],0,[Ext.grid.plugin.grouping,'Panel'],0);Ext.define('Ext.locale.fr.grid.plugin.grouping.Panel',{override:'Ext.grid.plugin.grouping.Panel',groupingPanelText:'Faites glisser une en-tte de colonne ici pour regrouper cette colonne',showGroupingPanelText:'Afficher le groupe par panneau',hideGroupingPanelText:'Masquer le groupe par panneau',clearGroupText:'Groupe clair',sortAscText:'Trier par ordre croissant',sortDescText:'Trier par ordre dcroissant',moveLeftText:'Se dplacer  gauche',moveRightText:'Dplacer vers la droite',moveBeginText:'Dmnager au dbut',moveEndText:'Passer  la fin',removeText:'Supprimer'});Ext.cmd.derive('Ext.grid.plugin.header.DragZone',Ext.plugin.dd.DragZone,{autoDestroy:!1,groups:'groupHeaders',resizerCls:'x-resizer-el',maskCls:'x-mask',handle:'.x-gridcolumn',platformConfig:{phone:{activateOnLongPress:!0}},beforeDragStart:function(a){var c=this,b=Ext.dd.Manager.getSourceComp(a),d=b.renderElement,f=Ext.dd.Manager.getTargetEl(a),e=d.isSuspended('drag')||d.isSuspended('longpress');if(e||b.isDragColumn||b.getDraggable()===!1||b.isGroupsColumn||Ext.fly(a.eventTarget).hasCls(c.resizerCls)||Ext.fly(f).hasCls(c.maskCls)){return !1}a.setData('column',b);a.setData('panel',c.view);a.setData('grid',c.grid);Ext.plugin.dd.DragZone.prototype.beforeDragStart.call(this,a)},getDragText:function(b){var a=Ext.dd.Manager.getTargetComp(b);return a.getText&&a.getText()||''}},0,0,0,0,0,0,[Ext.grid.plugin.header,'DragZone'],0);Ext.cmd.derive('Ext.grid.plugin.header.DropZone',Ext.grid.HeaderDropZone,{groups:'groupHeaders',dropIndicator:'x-grid-column-drop-indicator',grid:null,view:null,onDragMove:function(g){var b=this,e=Ext.dd.Manager,a=e.getTargetComp(g),h=a.isDragColumn,c=e.getSourceComp(g),i=!a.isHeaderContainer||!(c.isHeaderContainer||c.isGroupingPanelColumn),f,d;if(i||a===c||h||a.getParent()===b.view){if(this.ddEl){this.removeDropMarker()}return}f=e.getPosition(g,a,'x');d=b.dropMarkerCls+'-'+f;if(a.hasCls(d)){return}if(this.ddEl){this.removeDropMarker()}if(a.isGroupsColumn&&f==='before'){return}if(b.isValidDrag(a,c)){b.ddEl=a;b.addDropMarker(a,[b.dropIndicator,d])}},onDrop:function(h){var j=this,p=h.data,l=p&&p.panel,m='insertBefore',g,b,e,a,f,n,c,d,o,k,i;if(!j.ddEl){return}g=Ext.dd.Manager;b=g.getTargetComp(h);e=b.getParent()||b.getRootHeaderCt();a=g.getSourceComp(h);if(a.isGroupingPanelColumn){i=a;a=a.getColumn()}d=a.getRootHeaderCt();o=d.indexOf(a);f=e.indexOf(b);n=g.getPosition(h,b,'x');k=a.getParent();j.removeDropMarker();if(f===-1){return}if(n==='after'){c=e.getAt(f+1);if(!c){m='insertAfter';c=b}}else {c=e.getAt(f)}e[m](a,c||null);j.trackHeaderMove(k,d);d.fireEvent('move',d,a,f,o);if(i){i.destroy();a.show();if(l){l.notifyGroupChange()}}}},0,0,0,0,0,0,[Ext.grid.plugin.header,'DropZone'],0);Ext.cmd.derive('Ext.grid.plugin.GroupingPanel',Ext.grid.plugin.BaseGroupingPanel,{gridListeners:{initialize:'onAfterGridRendered',beforeshowcolumnmenu:'onBeforeShowColumnMenu'},destroy:function(){var a=this;a.menus=Ext.destroy(a.menus,a.dragZone,a.dropZone);Ext.grid.plugin.BaseGroupingPanel.prototype.destroy.call(this)},updateGrid:function(a,d){var c=this,b;if(a){b=a.getHeaderContainer();c.dragZone=new Ext.grid.plugin.header.DragZone({element:b.bodyElement,view:a,grid:a,constrain:Ext.getBody()});c.dropZone=new Ext.grid.plugin.header.DropZone({element:b.el,view:a,grid:a})}Ext.grid.plugin.BaseGroupingPanel.prototype.updateGrid.call(this,a,d)},onBeforeShowColumnMenu:function(f,e,c){var d=this,a=c.down('#groupingPanel'),b=d.getBar();if(!a){c.add('-');a=c.add({itemId:'groupingPanel',iconCls:'x-headermenu-group-by-this',handler:'toggleGroupingPanel',scope:d});d.menus=a}a.setText(b.getHidden()?b.showGroupingPanelText:b.hideGroupingPanelText)},addGroupingPanel:function(){var c=this,b=c.getGrid(),e=b.getHeaderContainer(),f=b.indexOf(e)||0,d=Ext.apply({grid:b},c.getPanel()),a;a=b.insert(f,d);a=a&&a.length?a[0]:a;return a}},0,0,0,0,['plugin.groupingpanel'],0,[Ext.grid.plugin,'GroupingPanel'],0);Ext.cmd.derive('Ext.grid.plugin.PagingToolbar',Ext.plugin.Abstract,{config:{grid:null,currentPage:1,pageSize:0,totalCount:0,totalPages:0,loadPages:null,buffer:250,toolbar:{xtype:'pagingtoolbar',docked:'bottom'}},init:function(a){this.setGrid(a);a.add(this.getToolbar())},destroy:function(){this.setBuffer(null);this.setGrid(null);Ext.plugin.Abstract.prototype.destroy.call(this)},updateGrid:function(b,c){var a=this;a.gridListeners=a.storeListeners=a.scrollListeners=Ext.destroy(a.gridListeners,a.storeListeners,a.scrollListeners);if(b){a.gridListeners=b.on({updatevisiblecount:'onUpdateVisibleCount',storechange:'onStoreChanged',destroyable:!0,scope:a});a.scrollListeners=b.getScrollable().on({scrollend:'checkPageChange',buffer:100,scope:a});a.bindStore(b.getStore())}},bindStore:function(b){var a=this;Ext.destroy(a.storeListeners);a.getToolbar().setDisabled(!!b);if(!b){return}a.storeListeners=b.on({add:'onTotalCountChange',remove:'onTotalCountChange',refresh:'onTotalCountChange',clear:'onTotalCountChange',destroyable:!0,scope:a});a.setLoadPages(b.pageSize>0);a.cancelBufferTask();if(b.isLoaded()){a.onTotalCountChange(b)}},onStoreChanged:function(b,a){this.bindStore(a)},getPageData:function(){var e=this.getGrid(),a=e.getStore(),b=a.getTotalCount()||a.getCount(),d=this.getLoadPages()?a.pageSize:e.visibleCount,c=Math.ceil(b/d);return {totalCount:b,totalPages:Ext.Number.isFinite(c)?c:1,currentPage:a.currentPage,pageSize:d}},checkPageChange:function(){var a=this,d=a.getGrid(),c=a.getPageSize(),f=a.getCurrentPage(),e=d.topVisibleIndex,b=Math.ceil((e+c)/c);if(d.getStore()&&!a.getLoadPages()&&b>0&&b!==f){a.preventGridScroll=!0;a.setCurrentPage(b);a.preventGridScroll=!1}},updateBuffer:function(c){var a=this,b=a.bufferTask;if(Ext.isNumber(c)){a.bufferTask=b||new Ext.util.DelayedTask(a.bufferTaskRun,a);a.cancelBufferTask()}else if(b){b.cancel();a.bufferTask=null}},cancelBufferTask:function(){if(this.bufferTask){this.bufferTask.cancel()}},loadCurrentPage:function(){this.getGrid().getStore().loadPage(this.getCurrentPage())},bufferTaskRun:function(){this.loadCurrentPage()},applyToolbar:function(b,a){return Ext.factory(b,Ext.Toolbar,a)},updateToolbar:function(a){var b=this;if(a){a.getSliderField().on({change:'onPageChange',dragstart:'onPageSliderDrag',drag:'onPageSliderDrag',dragend:'onPageSliderDragEnd',scope:b});a.getNextButton().on({tap:'onNextPageTap',scope:b});a.getPrevButton().on({tap:'onPreviousPageTap',scope:b})}},onPageChange:function(b,a){this.setCurrentPage(a)},onPageSliderDrag:function(c,b,a){this.isDragging=!0;this.setCurrentPage(Ext.isArray(a)?a[0]:a)},onPageSliderDragEnd:function(){var a=this;a.isDragging=!1;if(a.getBuffer()==='dragend'||a.bufferTask.Id){a.cancelBufferTask();a.loadCurrentPage()}},onNextPageTap:function(){var a=this.getCurrentPage()+1;if(a<=this.getTotalPages()){this.setCurrentPage(a)}},onPreviousPageTap:function(){var a=this.getCurrentPage()-1;if(a>0){this.setCurrentPage(a)}},onTotalCountChange:function(c){var a=this,b=a.getPageData();a.bulkConfigs=!0;a.setConfig(b);a.bulkConfigs=!1;a.syncSummary()},onUpdateVisibleCount:function(d,a){var b=d.getStore(),c;if(b&&!this.getLoadPages()){a-=1;this.setPageSize(a);c=b.getTotalCount()||b.getCount();this.setTotalPages(Math.ceil(c/a))}},updateTotalPages:function(){if(!this.isConfiguring){this.syncSummary()}},updateCurrentPage:function(e){var a=this,d=a.isDragging,c=a.bufferTask,b=a.getBuffer();if(!a.isConfiguring){if(a.getLoadPages()){if(c&&Ext.isNumber(b)&&d){c.delay(b)}else if(b!=='dragend'||!d){a.getGrid().getStore().loadPage(e)}}else {a.syncSummary()}}},updateTotalCount:function(a){if(!this.isConfiguring){this.syncSummary()}},getPageTopRecord:function(e){var b=this.getGrid(),a=b&&b.getStore(),d=this.getPageSize(),c=(e-1)*d;return a&&a.getAt(c)},privates:{syncSummary:function(){var a=this,g=a.getGrid(),d=a.getToolbar(),f=d.getSliderField(),b=a.getCurrentPage(),c=a.getTotalPages(),e;if(a.bulkConfigs){return}d.getSummaryComponent().element.dom.innerHTML=b+' / '+c;f.setMaxValue(c||1);f.setValue(b);f.setDisabled(c<=1);e=a.getPageTopRecord(b);if(g&&!a.preventGridScroll&&e){g.scrollToRecord(e)}d.getNextButton().setDisabled(b===c);d.getPrevButton().setDisabled(b===1)}}},0,0,0,0,['plugin.gridpagingtoolbar','plugin.pagingtoolbar'],[[Ext.mixin.Hookable.prototype.mixinId||Ext.mixin.Hookable.$className,Ext.mixin.Hookable]],[Ext.grid.plugin,'PagingToolbar'],0);Ext.cmd.derive('Ext.grid.plugin.RowExpander',Ext.plugin.Abstract,{config:{grid:null,column:{weight:-1100,xtype:'gridcolumn',align:'center',text:'',width:50,resizable:!1,hideable:!1,sortable:!1,editable:!1,ignore:!0,ignoreExport:!0,cell:{xtype:'expandercell'},menuDisabled:!0}},expanderSelector:'.x-expandercell .x-icon-el',init:function(a){a.setVariableHeights(!0);this.setGrid(a)},destroy:function(){var a=this.getGrid(),b=this.colInstance;if(b&&!a.destroying){a.unregisterColumn(b,!0)}Ext.plugin.Abstract.prototype.destroy.call(this)},applyColumn:function(b,a){return Ext.factory(Ext.apply({},b),null,a)},updateGrid:function(a){var b=this;if(a){a.hasRowExpander=!0;a.addCls('x-has-rowexpander');b.colInstance=a.registerColumn(b.getColumn());a.refreshScrollerSize();a.element.on({tap:'onGridTap',delegate:b.expanderSelector,scope:b})}},onGridTap:function(c){var b=Ext.Component.from(c),a=b.row;if(a.getGrid()===this.getGrid()){a.toggleCollapsed()}}},0,0,0,0,['plugin.rowexpander'],0,[Ext.grid.plugin,'RowExpander'],0);Ext.cmd.derive('Ext.grid.plugin.RowOperations',Ext.plugin.Abstract,{alternateClassName:'Ext.grid.plugin.MultiSelection',config:{operation:{lazy:!0,$value:{xtype:'button',ui:'alt decline',align:'right',handler:'me.onOperationTap',margin:'0 0 0 10'}},selectButton:{lazy:!0,$value:{xtype:'button',ui:'alt',align:'right',margin:'0 0 0 10'}},selectionColumn:{sortable:!1},useTriggerButton:!0,triggerText:'Select',cancelText:'Done',deleteText:'Delete',disableSelection:!0,selecting:null},init:function(a){if(!this.useSelectButton()){this.setSelecting(!0)}if(this.getDisableSelection()){a.setDisableSelection(!0)}},destroy:function(){this.setOperation(null);this.setSelectButton(null);Ext.plugin.Abstract.prototype.destroy.call(this)},getRecords:function(){var a=this.cmp;return a.getSelections()},onOperationTap:function(){this.deleteSelectedRecords()},onTriggerTap:function(){this.setSelecting(!this.getSelecting())},applyOperation:function(b,a){return Ext.updateWidget(a,b,this,'createOperation')},createOperation:function(c){var b=this,a=Ext.apply({text:b.getDeleteText()},c);a.plugin=b;if(a.handler==='me.onOperationTap'){a.handler='onOperationTap';a.scope=b}return a},updateOperation:function(c){var a,b,d;if(c){a=this.useSelectButton();b=this.cmp.getTitleBar();if(b){if(a){d=a.getParent();b.insert(d.indexOf(a),c)}else {b.add(c)}}}},applySelectButton:function(b,a){return Ext.updateWidget(a,b,this,'createSelectButton')},createSelectButton:function(c){var b=this,a=Ext.apply({text:b.getTriggerText()},c);a.handler='onTriggerTap';a.scope=b;return a},updateSelectButton:function(a){if(a){this.cmp.getTitleBar().add(a)}},updateSelecting:function(b){var a=this,g=a.cmp,d=a.getDisableSelection(),f=a.getOperation(),e=a.useSelectButton(),c=g.getSelectable();if(f){f.setHidden(!b)}if(e){e.setText(b?a.getCancelText():a.getTriggerText())}if(d){g.setDisableSelection(!b)}c.setCheckbox(b&&a.getSelectionColumn());c.setMode(b?'multi':'single');if(d||!b){c.deselectAll()}},privates:{deleteSelectedRecords:function(){var a=this.getRecords(),b=this.cmp.getStore();b.remove(a)},useSelectButton:function(){var a=this,b=a.cmp.getTitleBar();return a.getUseTriggerButton()&&b&&b.getTitle()&&a.getSelectButton()}}},0,0,0,0,['plugin.gridmultiselection','plugin.multiselection','plugin.rowoperations'],0,[Ext.grid.plugin,'RowOperations',Ext.grid.plugin,'MultiSelection'],0);Ext.cmd.derive('Ext.grid.row.Summary',Ext.grid.Row,{isSummaryRow:!0,config:{group:null},defaultCellUI:'summary',classCls:'x-summaryrow',updateGroup:function(){this.syncSummary()},privates:{beginRefresh:function(a){var b=this;a=Ext.grid.Row.prototype.beginRefresh.call(this,a);a.group=b.getGroup();a.records=(a.group||b.parent.getStore().getData()).items;a.summary=!0;return a},syncSummary:function(){var a=this,d=a.getGroup()||a.parent.getStore(),b=d.getSummaryRecord(),c=a.getViewModel();if(b===a.getRecord()){a.refresh()}else {a.setRecord(b);if(c){c.setData({record:b})}}}}},0,['groupedgridsummaryrow'],['widget','component','gridrow','groupedgridsummaryrow'],{'widget':!0,'component':!0,'gridrow':!0,'groupedgridsummaryrow':!0},['widget.groupedgridsummaryrow'],0,[Ext.grid.row,'Summary'],0);Ext.cmd.derive('Ext.grid.plugin.Summaries',Ext.grid.plugin.BaseSummaries,{config:{row:{lazy:!0,$value:{xtype:'groupedgridsummaryrow',docked:'bottom',scrollable:{x:!1,y:!1}}},enableContextMenu:!0,enableSummaryMenu:!0,headerListeners:{synreservespace:'syncReserveSpace'},gridListeners:{childlongpress:'onSummaryGridCellContextMenu',childcontextmenu:'onSummaryGridCellContextMenu',columnadd:'onGridColumnAdd',beforeshowcolumnmenu:'onBeforeShowColumnMenu',summaryPositionChange:'onSummaryPositionChanged'},summaryRowListeners:{longpress:'onSummaryCellContextMenu',contextmenu:'onSummaryCellContextMenu'},summaryPosition:null},inheritUi:!0,storeListeners:{add:'syncSummary',clear:'syncSummary',remove:'syncSummary',datachanged:'syncSummary',update:'syncSummary',summarieschanged:'onSummariesChanged'},bufferableMethods:{syncSummary:5},summaryRowSelector:'.x-summaryrow',summaryGroupSelector:'.x-grid-group',destroy:function(){var a=this;a.setOwner(null);a.setRow(null);a.lastSummaryMenuItem=Ext.destroy(a.lastSummaryMenuItem);Ext.grid.plugin.BaseSummaries.prototype.destroy.call(this)},createRow:function(a){return Ext.apply({viewModel:this.getGrid().getItemConfig().viewModel},a)},applyRow:function(a){if(a){a=this.createRow(a);a=this.cmp.add(a)}return a},updateRow:function(a,b){Ext.destroy(b);if(a&&a.element){a.element.on(Ext.apply({scope:this},this.getSummaryRowListeners()))}},updateStore:function(a,c){var b=a&&a.isMultigroupStore?a.getSource():a;this.mixins.storewatcher.updateStore.call(this,b,c);if(b&&b.isLoaded()){this.syncSummary()}},updateGrid:function(a,e){var b=this,f=b.getHeaderListeners(),d=b.getRow(),c;b.listenersHeader=Ext.destroy(b.listenersHeader);if(d&&e){c=e.getScrollable();if(c){c.removePartner(d.getScrollable())}}if(a){c=a.getScrollable();if(d&&c){c.addPartner(d.getScrollable(),'x')}b.setOwner(a);b.setSummaryPosition(a.getSummaryPosition());a.addCls('x-grid-has-summaryrow');if(f){b.listenersHeader=a.getHeaderContainer().on(Ext.apply(f,{scope:b,destroyable:!0}))}b.parseSummariesFromColumns(a,a.getColumns())}Ext.grid.plugin.BaseSummaries.prototype.updateGrid.call(this,a,e)},updateSummaryPosition:function(a){var b=this.getRow();b.setHidden(a!=='docked')},onSummaryPositionChanged:function(b,a){this.setSummaryPosition(a)},onGridColumnAdd:function(b,a){this.parseSummariesFromColumns(b,[a])},parseSummariesFromColumns:function(h,f){var i=f.length,a=h.getStore(),e=!1,g={},c,b,d;if(!a||a.isDestroyed){return}if(a.isMultigroupStore){a=a.getSource()}for(c=0;c<i;c++){b=f[c];d=b.getSummary();if(d){g[b.getDataIndex()]=d;b.setSummary(null);e=!0}}if(e){a.setFieldsSummaries(g)}},onSummariesChanged:function(f){var d=this.getGrid(),c=d?d.innerItems:[],e=c.length,a,b;for(a=0;a<e;a++){b=c[a];if(b.isSummaryRows){b.syncSummary()}}},onSummaryGridCellContextMenu:function(b,a){this.showMenu(this.getParams(a.event))},onSummaryCellContextMenu:function(a,b){this.showMenu(this.getParams(a))},getDataIndex:function(a){return a.getDataIndex()},canShowMenu:function(b){var a=b.row;return a&&(a.isGroupRow||a.isSummaryRows||a.isSummaryRow)&&Ext.grid.plugin.BaseSummaries.prototype.canShowMenu.call(this,b)},getParams:function(b){var e=b.getTarget(this.summaryRowSelector)||b.getTarget(this.summaryGroupSelector),c=Ext.fly(e),a=Ext.fly(b.getTarget('.x-gridcell')),d={e:b,row:c&&c.component};if(c&&a&&a.component){a=a.component;d.cell=a;d.column=a.getColumn()}return d},createMenu:function(a){a.xtype='menu';return Ext.create(a)},onBeforeShowColumnMenu:function(d,b,c){var a=c.down('#summaryMenuItem');if(!a){a=c.add({text:this.summaryText,itemId:'summaryMenuItem',iconCls:'x-summaries-icon'})}a.setHidden(b.isGroupsColumn);a.setMenu(this.getSummaryMenu(b));this.lastSummaryMenuItem=a},syncReserveSpace:function(c,b){var a=this.getRow();if(a){a.cellsElement.setStyle('padding-right',b)}},privates:{doSyncSummary:function(){var a=this.getRow();if(a){a.syncSummary()}}}},0,0,0,0,['plugin.gridsummaries','plugin.summaries'],[[Ext.mixin.Bufferable.prototype.mixinId||Ext.mixin.Bufferable.$className,Ext.mixin.Bufferable],[Ext.mixin.StoreWatcher.prototype.mixinId||Ext.mixin.StoreWatcher.$className,Ext.mixin.StoreWatcher]],[Ext.grid.plugin,'Summaries'],0);Ext.define('Ext.locale.fr.grid.plugin.Summaries',{override:'Ext.grid.plugin.Summaries',textNone:'Rien',summaryText:'Sommaire'});Ext.cmd.derive('Ext.grid.plugin.Summary',Ext.plugin.Abstract,{alternateClassName:'Ext.grid.plugin.SummaryRow',config:{row:{lazy:!0,$value:{xtype:'gridsummaryrow',docked:'bottom'}}},inheritUi:!0,storeListeners:{add:'syncSummary',clear:'syncSummary',remove:'syncSummary',refresh:'syncSummary',update:'syncSummary'},bufferableMethods:{syncSummary:5},init:function(c){var d=c.getScrollable(),b,a;this.setOwner(c);b=this.getRow();c.addCls('x-grid-has-summaryrow');if(d){a=b.getScrollable();if(!a){b.setScrollable({x:!1,y:!1});a=b.getScrollable()}a.addPartner(d,'x')}},destroy:function(){this.setOwner(null);Ext.plugin.Abstract.prototype.destroy.call(this)},createRow:function(a){return Ext.apply({viewModel:this.getOwner().getItemConfig().viewModel},a)},applyRow:function(a){if(a){a=this.createRow(a);a=this.cmp.add(a)}return a},updateStore:function(a,b){this.mixins.storewatcher.updateStore.call(this,a,b);if(a&&a.isLoaded()){this.syncSummary()}},privates:{doSyncSummary:function(){var a=this.getRow();if(a){a.syncSummary()}},onContainerScroll:function(d,c){var b=this.getRow(),a;if(!(a=b.getScrollable())){b.setScrollable({x:!1,y:!1});a=b.getScrollable()}a.scrollTo(c,null)}}},0,0,0,0,['plugin.gridsummary','plugin.gridsummaryrow','plugin.summaryrow'],[[Ext.mixin.Bufferable.prototype.mixinId||Ext.mixin.Bufferable.$className,Ext.mixin.Bufferable],[Ext.mixin.StoreWatcher.prototype.mixinId||Ext.mixin.StoreWatcher.$className,Ext.mixin.StoreWatcher]],[Ext.grid.plugin,'Summary',Ext.grid.plugin,'SummaryRow'],0);Ext.cmd.derive('Ext.grid.plugin.ViewOptionsListItem',Ext.dataview.SimpleListItem,{toolDefaults:{hideMode:'visibility'},tools:{handle:{zone:'start',cls:'x-no-ripple',iconCls:'x-column-options-sortablehandle'},icon:{zone:'start',iconCls:''},group:{zone:'end',iconCls:'x-column-options-groupindicator',stopEvent:!1},hide:{zone:'end',iconCls:'x-column-options-visibleindicator',stopEvent:!1}},cls:'x-column-options-item',updateRecord:function(b,d){var a=this,c;if(!b){return}Ext.dataview.SimpleListItem.prototype.updateRecord.call(this,b,d);a.toggleCls(a.hiddenColumnCls,b.get('hidden'));a.toggleCls(a.groupedColumnCls,b.get('grouped'));c=a.lookupTool('icon');c.setIconCls(b.get('header')?a.headerCls:a.leafCls);a.lookupTool('group').setHidden(!b.get('groupable'));a.lookupTool('hide').setHidden(!b.get('hideable'))},privates:{groupedColumnCls:'x-column-options-grouped',headerCls:'x-column-options-folder',hiddenColumnCls:'x-column-options-hidden',leafCls:'x-column-options-leaf'}},0,['viewoptionslistitem'],['widget','component','simplelistitem','viewoptionslistitem'],{'widget':!0,'component':!0,'simplelistitem':!0,'viewoptionslistitem':!0},['widget.viewoptionslistitem'],0,[Ext.grid.plugin,'ViewOptionsListItem'],0);Ext.cmd.derive('Ext.grid.plugin.ViewOptions',Ext.plugin.Abstract,{config:{grid:null,sheetWidth:320,sheet:{lazy:!0,$value:{xtype:'sheet',cls:'x-gridviewoptions',items:[{docked:'top',xtype:'titlebar',title:'Customize',items:[{xtype:'button',text:'Done',ui:'action',align:'right',role:'donebutton'}]}],hidden:!0,hideOnMaskTap:!0,enter:'right',exit:'right',modal:!0,right:0,layout:'fit',stretchY:!0}},columnList:{lazy:!0,$value:{xtype:'nestedlist',title:'Columns',clearSelectionOnListChange:!1,listConfig:{triggerEvent:null,infinite:!0,mode:'MULTI',variableHeights:!0,scrollToTopOnRefresh:!1,plugins:{sortablelist:{source:{handle:'.x-column-options-sortablehandle'}}},itemConfig:{xtype:'viewoptionslistitem'},itemTpl:'{text}'},store:{type:'tree',fields:['id','text','dataIndex','header','hidden','hideable','grouped','groupable'],root:{text:'Columns'}}}},visibleIndicatorSelector:'.x-column-options-visibleindicator',groupIndicatorSelector:'.x-column-options-groupindicator'},init:function(a){this.setGrid(a)},destroy:function(){this.destroyMembers('sheet','columnList');Ext.plugin.Abstract.prototype.destroy.call(this)},updateGrid:function(b,a){if(a){a.getHeaderContainer().renderElement.un({contextmenu:'onHeaderContextMenu',longpress:'onHeaderLongPress',scope:this});a.un({columnadd:'onColumnAdd',columnmove:'onColumnMove',columnremove:'onColumnRemove',columnhide:'onColumnHide',columnshow:'onColumnShow',scope:this})}if(b){b.getHeaderContainer().renderElement.on({contextmenu:'onHeaderContextMenu',longpress:'onHeaderLongPress',scope:this})}},applySheet:function(a){if(a&&!a.isComponent){a=Ext.factory(a,Ext.Sheet)}return a},applyColumnList:function(a){if(a&&!a.isComponent){a=Ext.factory(a,Ext.Container)}return a},updateColumnList:function(a){if(a){a.on({listchange:'onListChange',scope:this});a.on('dragsort','onColumnDrag',this,{delegate:'> list'});this.attachTapListeners()}},updateSheet:function(a){a.setWidth(this.getSheetWidth());a.add(this.getColumnList());a.on('hide','onSheetHide',this)},onDoneButtonTap:function(){this.getSheet().hide()},onColumnDrag:function(i,h,b){var d=Ext.getCmp(h.getRecord().get('id')),e=d.getParent(),g=e.getInnerItems(),a,f,c;for(a=0,f=b;a<f;a++){c=g[a];if(!c.isHeaderGroup&&c.getIgnore()){b+=1}}this.isMoving=!0;e.insert(b,d);this.isMoving=!1},attachTapListeners:function(){var a=this.getColumnList().getActiveItem();if(!a.hasAttachedTapListeners){a.onBefore({childtap:'onListChildTap',scope:this});a.hasAttachedTapListeners=!0}},onListChange:function(i,g){var f=g.getStore(),e=f.getNode(),c=e.childNodes,h=c.length,a,d,b;for(a=0;a<h;a++){b=c[a];d=Ext.getCmp(b.getId());b.set('hidden',d.isHidden())}this.attachTapListeners()},onListChildTap:function(e,a){var b=this,c=!1,d=a.event;if(Ext.fly(d.target).is(b.getVisibleIndicatorSelector())){b.onVisibleIndicatorTap(a.row,a.record);c=!0}else if(Ext.fly(d.target).is(b.getGroupIndicatorSelector())){b.onGroupIndicatorTap(a.row,a.record);c=!0}return !c},onVisibleIndicatorTap:function(e,a){var c=!a.get('hidden'),b=Ext.getCmp(a.get('id')),d=this.getGrid().getVisibleColumns().length;if(d>1||d&&b.isHidden()){b.setHidden(c);a.set('hidden',c)}},onGroupIndicatorTap:function(e,a){var d=this,c=!a.get('grouped'),b=d.getGrid().getStore();this.getListRoot().cascade(function(b){b.set('grouped',!1)});if(c){b.setGrouper({property:a.get('dataIndex')});a.set('grouped',!0)}else {b.setGrouper(null)}},onColumnHide:function(f,d){var c=this.getColumnList(),b=c.getActiveItem(),e=b.getStore(),a=e.getById(d.getId());if(a){a.set('hidden',!0)}},onColumnShow:function(f,d){var c=this.getColumnList(),b=c.getActiveItem(),e=b.getStore(),a=e.getById(d.getId());if(a){a.set('hidden',!1)}},onColumnAdd:function(i,a){var n=this,j,g,b,l,c,f,h,k,m,d,e;if(a.getIgnore()||this.isMoving){return}j=n.getColumnList();g=i.getHeaderContainer();b=a.getParent();l=j.getStore();c=l.getRoot();f=i.getGrouped();h=i.getStore().getGrouper();k=a.getDataIndex();m={id:a.getId(),text:a.getText()||'\xa0',groupable:f&&a.canGroup(),hidden:a.isHidden(),hideable:a.getHideable(),grouped:!!(f&&h&&h.getProperty()===k),dataIndex:a.getDataIndex(),leaf:!0};if(b!==g){e=c.findChild('id',b.getId());if(!e){d=b.getParent().indexOf(b);e=c.insertChild(d,{groupable:!1,header:!0,hidden:b.isHidden(),id:b.getId(),text:b.getText()})}d=b.indexOf(a);c=e}else {d=g.indexOf(a)}c.insertChild(d,m)},onColumnMove:function(a,b,c){this.onColumnRemove(a,b);this.onColumnAdd(a,b,c)},onColumnRemove:function(d,b){var c,a;if(b.getIgnore()||this.isMoving){return}c=this.getListRoot();a=c.findChild('id',b.getId(),!0);if(a){a.parentNode.removeChild(a,!0)}},onHeaderContextMenu:function(a){a.preventDefault()},onHeaderLongPress:function(a){if(!this.getSheet().isVisible()){this.showViewOptions()}},hideViewOptions:function(){var a=this,b=a.getSheet();a.getGrid().getHeaderContainer().setSortable(a.cachedSortable);delete a.cachedSortable;b.hide()},onSheetHide:function(){this.hideViewOptions()},showViewOptions:function(){var a=this,c=a.getSheet(),b;a.setup();if(!c.isVisible()){b=a.getGrid().getHeaderContainer();a.cachedSortable=b.getSortable();b.setSortable(!1);a.updateListInfo();c.show()}},privates:{getListRoot:function(){return this.getColumnList().getStore().getRoot()},setup:function(){var a=this,b=a.getGrid(),c,d;if(a.doneSetup){return}a.doneSetup=!0;d=this.getListRoot();d.removeAll();b.getColumns().forEach(function(c){a.onColumnAdd(b,c)});b.on({columnadd:'onColumnAdd',columnmove:'onColumnMove',columnremove:'onColumnRemove',columnhide:'onColumnHide',columnshow:'onColumnShow',scope:a});c=a.getSheet();c.down('button[role=donebutton]').on({tap:'onDoneButtonTap',scope:a})},updateListInfo:function(){var b=this.getGrid(),e=b.getStore(),a=e.getGrouper(),c=b.getGrouped(),d=a&&a.getProperty();this.getColumnList().getStore().getRoot().cascade(function(e){var b=!1,a;if(c){a=e.get('dataIndex');b=a&&a===d}e.set('grouped',a&&b)})}}},0,0,0,0,['plugin.gridviewoptions'],0,[Ext.grid.plugin,'ViewOptions'],0);Ext.cmd.derive('Ext.navigation.Bar',Ext.TitleBar,{isToolbar:!0,config:{cls:'x-navigation-bar',ui:'dark',title:null,defaultType:'button',layout:{type:'hbox'},defaultBackButtonText:'Back',animation:{duration:300},useTitleForBackButtonText:null,view:null,android2Transforms:!1,backButton:{align:'left',ui:'back',hidden:!0}},baseCls:'x-toolbar',constructor:function(a){a=a||{};if(!a.items){a.items=[]}this.backButtonStack=[];this.activeAnimations=[];Ext.TitleBar.prototype.constructor.call(this,a)},applyBackButton:function(a){return Ext.factory(a,Ext.Button,this.getBackButton())},updateBackButton:function(a,b){if(b){this.remove(b)}if(a){this.add(a);a.on({scope:this,tap:this.onBackButtonTap})}},onBackButtonTap:function(){this.fireEvent('back',this)},updateView:function(h){var a=this,f,g,d,e,c,i,b;a.getItems();f=a.getBackButton();if(h){g=h.getInnerItems();for(d=0;d<g.length;d++){c=g[d];i=c.getTitle?c.getTitle():c.config.title;a.backButtonStack.push(i||'&nbsp;')}b=a.getTitleText();if(b===undefined){b=''}a.setTitle(b);e=a.getBackButtonText();if(e){f.setText(e);f.show()}}},onViewAdd:function(f,a){var b=this,c=b.backButtonStack,d,e;b.endAnimation();e=a.getTitle?a.getTitle():a.config.title;c.push(e||'&nbsp;');d=c.length>1;b.doChangeView(f,d,!1)},onViewRemove:function(d){var a=this,b=a.backButtonStack,c;a.endAnimation();b.pop();c=b.length>1;a.doChangeView(d,c,!0)},doChangeView:function(p,l,r){var a=this,o=a.leftBox,j=o.element,k=a.titleComponent,f=k.element,b=a.getBackButton(),n=a.getTitleText(),i=a.getBackButtonText(),m=a.getAnimation()&&p.getLayout().getAnimation(),q=m&&m.isAnimation&&p.isPainted(),c,e,d,h,g;if(q){e=a.createProxy(o.element);j.setStyle('opacity','0');b.setText(i);b[l?'show':'hide']();d=a.createProxy(k.element.getParent());f.setStyle('opacity','0');a.setTitle(n);c=a.measureView(e,d,r);h=c.left;g=c.title;a.isAnimating=!0;a.animate(j,h.element);a.animate(f,g.element,function(){f.setLeft(c.titleLeft);a.isAnimating=!1;a.refreshTitlePosition()});a.animate(e.ghost,h.ghost);a.animate(d.ghost,g.ghost,function(){e.ghost.destroy();d.ghost.destroy()})}else {if(l){b.setText(i);b.show()}else {b.hide()}a.setTitle(n)}},measureView:function(k,w,r){var l=this,i=l.element,s=l.leftBox.element,g=l.titleComponent.element,p=Math.min(i.getWidth()/3,200),t=s.getWidth(),e=i.getX(),q=i.getWidth(),c=g.getX(),j=g.getLeft(!0),h=g.getWidth(),v=k.x,m=k.width,u=k.left,a,b,o,n,f,d;d=e-v-m;if(r){a=d;b=Math.min(c-m,p)}else {b=d;a=Math.min(c-e,p)}o={element:{from:{transform:{translateX:a},opacity:0},to:{transform:{translateX:0},opacity:1}},ghost:{to:{transform:{translateX:b},opacity:0}}};d=e-c+t;if(u+h>c){f=e-c-h}if(r){g.setLeft(0);b=e+q-c-h;if(f!==undefined){a=f}else {a=d}}else {a=e+q-c-h;if(f!==undefined){b=f}else {b=d}a=Math.max(j,a)}n={element:{from:{transform:{translateX:a},opacity:0},to:{transform:{translateX:j},opacity:1}},ghost:{to:{transform:{translateX:b},opacity:0}}};return {left:o,title:n,titleLeft:j}},animate:function(e,c,d){var b=this,a;e.setLeft(0);c=Ext.apply(c,{element:e,easing:'ease-in-out',duration:b.getAnimation().duration||250,preserveEndState:!0});a=new Ext.fx.Animation(c);a.on('animationend',function(){if(d){d.call(b)}},b);Ext.Animator.run(a);b.activeAnimations.push(a)},endAnimation:function(){var c=this.activeAnimations,a,b,d;if(c){d=c.length;for(b=0;b<d;b++){a=c[b];if(a.isAnimating){a.stopAnimation()}else {a.destroy()}}this.activeAnimations=[]}},refreshTitlePosition:function(){if(!this.isAnimating){Ext.TitleBar.prototype.refreshTitlePosition.call(this)}},getBackButtonText:function(){var a=this.backButtonStack[this.backButtonStack.length-2],b=this.getUseTitleForBackButtonText();if(!b){if(a){a=this.getDefaultBackButtonText()}}return a},getTitleText:function(){return this.backButtonStack[this.backButtonStack.length-1]},beforePop:function(b){var a;b--;for(a=0;a<b;a++){this.backButtonStack.pop()}},updateHidden:function(a){if(!a){this.element.setStyle({position:'relative',top:'auto',left:'auto',width:'auto'})}else {this.element.setStyle({position:'absolute',top:'-1000px',left:'-1000px',width:this.element.getWidth()+'px'})}},createProxy:function(b){var a,d,e,f,c;a=b.dom.cloneNode(!0);a.id=b.id+'-proxy';b.getParent().dom.appendChild(a);a=Ext.get(a);d=b.getX();e=b.getY();f=b.getLeft(!0);c=b.getWidth();a.setStyle('position','absolute');a.setX(d);a.setY(e);a.setHeight(b.getHeight());a.setWidth(c);return {x:d,y:e,left:f,width:c,ghost:a}}},1,0,['widget','component','container','titlebar'],{'widget':!0,'component':!0,'container':!0,'titlebar':!0},0,0,[Ext.navigation,'Bar'],0);Ext.define('Ext.theme.material.navigation.Bar',{override:'Ext.navigation.Bar',config:{defaultBackButtonText:'',useTitleForBackButtonText:!1,backButton:{align:'left',ui:'back',hidden:!0,iconCls:'md-icon-arrow-back'}}});Ext.cmd.derive('Ext.navigation.View',Ext.Container,{alternateClassName:'Ext.NavigationView',config:{navigationBar:{docked:'top'},defaultBackButtonText:'Back',useTitleForBackButtonText:!1,layout:{type:'card',animation:{duration:300,easing:'ease-out',type:'slide',direction:'left'}}},baseCls:'x-navigationview',initialize:function(){var a=this,b=a.getNavigationBar(),c;Ext.Container.prototype.initialize.call(this);if(b){b.on({back:a.onBackButtonTap,scope:a});a.relayEvents(b,'rightbuttontap');a.relayEvents(a,{add:'push',remove:'pop'})}},onBackButtonTap:function(){this.pop();this.fireEvent('back',this)},push:function(a){return this.add(a)},pop:function(a){if(this.beforePop(a)){return this.doPop()}},beforePop:function(a){var g=this,c=g.getInnerItems(),e,b,f,d;if(Ext.isString(a)||Ext.isObject(a)){e=c.length-1;for(b=e;b>=0;b--){if(Ext.isString(a)&&Ext.ComponentQuery.is(c[b],a)||Ext.isObject(a)&&a===c[b]){a=e-b;break}}if(!Ext.isNumber(a)){return !1}}f=c.length;if(!Ext.isNumber(a)||a<1){a=1}a=Math.min(a,f-1);if(a){g.getNavigationBar().beforePop(a);d=c.splice(-a,a-1);for(b=0;b<d.length;b++){this.remove(d[b])}return !0}return !1},doPop:function(){var c=this,a=this.getInnerItems(),b;c.remove(a[a.length-1]);if(a.length<3&&this.$backButton){this.$backButton.hide()}if(this.$titleContainer){b=a[a.length-2];this.$titleContainer.setTitle(b.getTitle?b.getTitle():b.config.title)}return this.getActiveItem()},getPreviousItem:function(){var a=this.getInnerItems();return a[a.length-2]},updateUseTitleForBackButtonText:function(b){var a=this.getNavigationBar();if(a){a.setUseTitleForBackButtonText(b)}},updateDefaultBackButtonText:function(b){var a=this.getNavigationBar();if(a){a.setDefaultBackButtonText(b)}},onBackButtonContainerAdd:function(b,a){a.on({scope:this,show:this.refreshBackButtonContainer,hide:this.refreshBackButtonContainer});this.refreshBackButtonContainer()},onBackButtonContainerRemove:function(b,a){a.un({scope:this,show:this.refreshBackButtonContainer,hide:this.refreshBackButtonContainer});this.refreshBackButtonContainer()},refreshBackButtonContainer:function(){var c,b,d,a;if(!this.$backButtonContainer){return}c=this.$backButtonContainer;b=c.items;for(a=0;a<b.length;a++){d=b.get(a);if(!d.isHidden()){this.$backButtonContainer.show();return}}this.$backButtonContainer.hide()},applyNavigationBar:function(b){var a=this,c;if(!b){b={hidden:!0,docked:'top'}}a.getItems();if(b.title){delete b.title}b.view=a;b.useTitleForBackButtonText=a.getUseTitleForBackButtonText();if(b.splitNavigation){a.$titleContainer=a.add({docked:'top',xtype:'titlebar',ui:'light',title:a.$currentTitle||''});c=b.splitNavigation===!0?{}:b.splitNavigation;a.$backButtonContainer=a.add({xtype:'toolbar',docked:'bottom',hidden:!0});a.$backButtonContainer.on({scope:a,add:a.onBackButtonContainerAdd,remove:a.onBackButtonContainerRemove});a.$backButton=a.$backButtonContainer.add({xtype:'button',text:'Back',hidden:!0,ui:'back'});if(b.items){a.$backButtonContainer.add(b.items)}if(c.items){a.$titleContainer.add(c.items)}a.$backButton.on({scope:a,tap:a.onBackButtonTap});b={hidden:!0,docked:'top'}}return Ext.factory(b,Ext.navigation.Bar,this.getNavigationBar())},updateNavigationBar:function(a,b){if(b){this.remove(b,!0)}if(a){this.add(a)}},applyActiveItem:function(b,c){var a=this,d=a.getInnerItems();a.getItems();if(!a.initialized){b=d.length-1}return Ext.Container.prototype.applyActiveItem.call(this,b,c)},doResetActiveItem:function(b){var a=this,d=a.getInnerItems(),c=a.getLayout().getAnimation();if(b>0){if(c&&c.isAnimation){c.setReverse(!0)}a.setActiveItem(b-1);a.getNavigationBar().onViewRemove(a,d[b],b)}},doRemove:function(){var a=this.getLayout().getAnimation();if(a&&a.isAnimation){a.setReverse(!1)}Ext.Container.prototype.doRemove.apply(this,arguments)},onItemAdd:function(a,c){var b=this,e=b.initialized,d;if(a&&a.getDocked()&&a.config.title===!0){b.$titleContainer=a}b.doItemLayoutAdd(a,c);if(e&&a.isInnerItem()){b.setActiveItem(a);d=this.getNavigationBar();if(d){this.getNavigationBar().onViewAdd(b,a,c)}if(b.$backButtonContainer){b.$backButton.show()}}if(a&&a.isInnerItem()){b.updateTitleContainerTitle(a.getTitle?a.getTitle():a.config.title)}if(e){b.fireEvent('add',b,a,c)}},updateTitleContainerTitle:function(a){if(this.$titleContainer){this.$titleContainer.setTitle(a)}else {this.$currentTitle=a}},reset:function(){return this.pop(this.getInnerItems().length)}},0,['navigationview'],['widget','component','container','navigationview'],{'widget':!0,'component':!0,'container':!0,'navigationview':!0},['widget.navigationview'],0,[Ext.navigation,'View',Ext,'NavigationView'],0);Ext.cmd.derive('Ext.panel.Collapser',Ext.Base,{config:{animation:{duration:250},collapseAnimation:null,collapsed:!1,collapseToolText:'Collapse panel',direction:'top',drawer:{xtype:'panel',border:!0,top:0,left:0,cls:'x-drawer'},drawerHideDelay:500,dynamic:null,expandAnimation:null,expandToolText:'Expand panel',target:null,tool:{xtype:'tool',weight:900},useDrawer:!0,state:'expanded'},proxyConfig:{target:['titleCollapse']},collapsed:!1,collapsing:!1,expanded:!1,expanding:!1,extraSpace:0,$unanimated:!1,constructor:function(a){this.initConfig(a)},initialize:function(){var a=this;a.rendered=!0;a.ensureCollapseTool();if(a.getCollapsed()){a.doExpandCollapse(!0,!0)}a.initialized=!0;a.setupHeaderListeners()},destroy:function(){var a=this,b=a.activeOperation,c=a.drawerTask;a.destroying=!0;if(c){c.cancel()}if(b){b.anim.end()}if(!a.getTarget().destroying){a.reattachBodyWrap()}Ext.destroy(a.headerListeners,a.drawerListeners,a.drawer,a.collapsibleTool);a.callParent()},collapse:function(a){return this.toggleCollapsed(!0,a)},expand:function(a){return this.toggleCollapsed(!1,a)},hideDrawer:function(b){var a=this,d=a.drawer,c;if(a.isSliding||!a.getCollapsed()||!d||!a.drawerVisible){return}b=a.parseAnimation(!1,b);if(b){a.getTarget().element.addCls(a.slidingCls);c=a.doAnimation(!1,a.getSlideOutCfg(a.getDirection(),a.afterDrawerHide,b));a.isSliding=!0}else {a.afterDrawerHide();c=Ext.Promise.resolve()}return c},isDynamic:function(){var a=this.getDynamic(),b;if(a===null){b=this.getTarget();a=b.getFloated()||!b.getRefOwner()}return a},showDrawer:function(c){var a=this,k=a.savedProps,d=a.getDirection(),l=a.getTarget(),e=a.getHeaderSize(),j=a.endDirection,m=a.verticalMap[d],b,i,h,g,f;if(a.isSliding||!a.getCollapsed()||!a.getDrawer()){return Ext.Promise.resolve()}b=a.createDrawer();if(m){h='100%';i=k.measuredWidth||a.defaultSize;b.setTop(0);b.setBottom(0);if(j[d]){b.setLeft(null);b.setRight(e)}else {b.setRight(null);b.setLeft(e)}}else {i='100%';h=k.measuredHeight||a.defaultSize;b.setRight(0);b.setLeft(0);if(j[d]){b.setTop(null);b.setBottom(e)}else {b.setBottom(null);b.setTop(e)}if(l.getHeader()&&l.getHeaderPosition()===d){f=b.ensureHeader();if(f){f.hide()}}}a.configureDrawer(b,i,h);b.show();c=a.parseAnimation(!1,c);a.isSliding=!0;if(c){c=a.getSlideInCfg(d,a.afterDrawerShow,c);c.preserveEndState=!0;a.getTarget().element.addCls(a.slidingCls);g=a.doAnimation(!1,c)}else {a.afterDrawerShow();g=Ext.Promise.resolve()}return g},toggleCollapsed:function(c,b){var a=this,d=a.getTarget(),h=a.getCollapsed(),e,f,g;if(a.activeOperation){a.activeOperation.anim.end();h=a.getCollapsed()}if(c===h){return Ext.Promise.resolve()}if(a.$unanimated){a.$unanimated=b=!1}else if(a.rendered){b=a.parseAnimation(c,b)}else {b=null}e='before'+(c?'collapse':'expand');if(a.initialized&&d.hasListeners[e]){f={animation:b};if(d.fireEvent(e,d,f)===!1){return Ext.Promise.resolve()}b=f.animation}a.hideDrawer(!1);if(b){g=a.doExpandCollapseAnimated(c,b)}else {g=a.doExpandCollapse(c)}return g},applyAnimation:function(a){if(a===!0){a={}}return a},updateCollapsed:function(b){var a=this;if(a.rendered&&!a.preventUpdate){a._collapsed=!b;a.toggleCollapsed(b)}else {a.setState(b?'collapsed':'expanded')}},updateCollapseToolText:function(a){this.setToolTextIf(a,this.getCollapsed())},updateDirection:function(c,b){var a=this;if(!a.isConfiguring){if(a.getCollapsed()){a.getTarget().moveHeaderPosition(c,b)}a.ensureCollapseTool()}},updateDynamic:function(c){var a=this,b=a.drawer;if(c&&b){if(a.hasDetachedBody){a.reattachBodyWrap()}a.drawer=Ext.destroy(b)}},updateExpandToolText:function(a){this.setToolTextIf(a,!this.getCollapsed())},updateState:function(b,a){var c=this,d=c.getTarget();if(a){c[a]=d[a]=!1}if(b){c[b]=d[b]=!0}},updateTitleCollapse:function(){if(this.rendered){this.setupHeaderListeners()}},updateUseDrawer:function(){if(this.rendered){this.setupHeaderListeners()}},privates:{animateEndCls:'x-placeholder-animate-end',collapsingDirections:{top:['up','down'],left:['left','right'],bottom:['down','up'],right:['right','left']},defaultSize:300,endDirection:{right:1,bottom:1},headerChangePosition:{top:['top','bottom'],left:['left','right'],bottom:['bottom','top'],right:['right','left']},hasDetachedBody:!1,rendered:!1,slidingCls:'x-sliding',verticalMap:{right:1,left:1},afterAnimation:function(a){a.deferred.resolve();this.activeOperation=null},afterDrawerHide:function(){var a=this,c=a.getTarget(),d=a.activeOperation,e=a.drawer,b;c.element.removeCls(a.slidingCls);a.drawerVisible=a.isSliding=!1;if(!a.destroying){a.drawerListeners=Ext.destroy(a.drawerListeners);e.hide();b=e.getHeader();if(b){b.show()}c.fireEvent('drawerhide',c)}if(d){a.afterAnimation(d)}},afterDrawerShow:function(){var a=this,f=a.activeOperation,c,d,b=a.getTarget(),e;a.isSliding=!1;a.drawerVisible=!0;if(!a.destroying){b.element.removeCls(a.slidingCls);d={mouseleave:'handleElMouseLeave',mouseenter:'handleElMouseEnter',scope:a,destroyable:!0};c=[Ext.on('mousedown','handleGlobalDrawerEvent',a,{destroyable:!0}),Ext.getDoc().on('mousemove','handleGlobalDrawerEvent',a,{destroyable:!0}),a.drawer.element.on(d)];e=b.getHeader();if(e){c.push(e.element.on(d))}a.drawerListeners=c;b.fireEvent('drawershow',b)}if(f){a.afterAnimation(f)}},afterExpandCollapseAnimation:function(){var c=this,a=c.activeOperation,e=c.getTarget(),g=a.animCls,d,b,f;if(!c.destroying){b=e.getHeader();if(a.placeHolder){c.drawer.hide()}if(a.reattach){c.reattachBodyWrap()}if(b&&a.restoreHeaderVis){b.element.setVisibility(!0)}if(g){e.element.removeCls(g)}if(a.restore){d=a.anim.config;if(d.to.height){d.element.setHeight(null)}if(d.to.width){d.element.setWidth(null)}c.restoreProps();f=e.bodyWrapElement;f.setWidth(null).setHeight(null);b=b&&b.element;if(b){b.setWidth(null).setHeight(null)}}c.afterExpandCollapse(a.collapsed,!0)}c.afterAnimation(a)},afterExpandCollapse:function(c){var b=this,a=b.getTarget(),h=b.headerChangePosition,f=b.getDirection(),e=a.getHeaderPosition(),d=c?'collapse':'expand',g=Ext.GlobalEvents;a.bodyWrapElement.setVisible(!c);if(h[e].indexOf(f)<0){a.moveHeaderPosition(c?f:e,!c?f:e)}b.setState(c?'collapsed':'expanded');b.preventUpdate=!0;a._collapsed=!c;a.setCollapsed(c);b.preventUpdate=!1;b.ensureCollapseTool();a.toggleCls(b.expandedCls,!c);if(b.initialized){if(a.hasListeners[d]){a.fireEvent(d,a)}if(g.hasListeners[d]){g.fireEvent(d,a)}}},createDrawer:function(){var b=this,a=b.drawer;if(!a){b.drawer=a=Ext.create(b.getDrawer());a.bodyWrapElement.hide()}return a},configureDrawer:function(a,g,f,e){var b=this,d=b.getTarget(),c=d.bodyWrapElement;a.setTitle(d.getTitle());a.setWidth(g);a.setHeight(f);if(e){a.setTop(0);a.setRight(null);a.setBottom(null);a.setLeft(0)}a.element.append(c);b.getContainerTarget().appendChild(a.element);c.show();a.show();b.hasDetachedBody=!0},doAnimation:function(e,d,a){var b,c;a=a||{};b=a.deferred||new Ext.Deferred();c=new Ext.fx.Animation(d);a.anim=c;a.deferred=b;a.collapsed=e;this.activeOperation=a;Ext.Animator.run(c);return b.promise},doExpandCollapse:function(d,e){var a=this,c=a.getTarget(),b;if(a.rendered){if(d){a.saveProps();c.setFlex(null);b=a.getDirection();if(b==='top'||b==='bottom'){c.setHeight(null)}else {c.setWidth(null)}}else {a.reattachBodyWrap();a.restoreProps()}a.afterExpandCollapse(d)}return e?null:Ext.Promise.resolve()},doExpandCollapseAnimated:function(b,c){var a=this;a.setState(b?'collapsing':'expanding');if(a.isDynamic()){return a.doExpandCollapseDynamic(b,c)}return a.doExpandCollapsePlaceholder(b,c)},doExpandCollapseDynamic:function(f,u){var a=this,b=a.getTarget(),c=b.getHeaderPosition(),d=a.getDirection(),m=b.element,l=b.bodyWrapElement,t=b.getHeader(),g=t&&t.element,h={},i={},e=d==='top'||d==='bottom',r=c==='top'||c==='bottom',k=a.getHeaderSize(),j=c!==d,s=a.extraSpace,n,o,p,q;a.extraSpace=0;if(f){p=a.saveProps();n=p.measuredHeight;o=p.measuredWidth;if(e){a.measureAndSet(l,'Height');if(j){a.measureAndSet(g,'Height')}h.height=n;i.height=r?k:0;b.setHeight(null);b.setMinHeight(null)}else {a.measureAndSet(l,'Width');if(j){a.measureAndSet(g,'Width')}h.width=o;i.width=r?k:0;b.setWidth(null);b.setMinWidth(null)}b.setFlex(null)}else {j=c!==d;a.reattachBodyWrap();if(e){m.setHeight(null)}else {m.setWidth(null)}a.restoreProps(!0);if(j){b.moveHeaderPosition(f?d:c,!f?d:c)}l.show();if(g){g.setWidth(null).setHeight(null)}a.measureAndSet(l,e?'Height':'Width',!0);q=m.measure();n=q.height;o=q.width;b.setFlex(null);a.measureAndSet(g,e?'Height':'Width');if(e){h.height=k;i.height=n+s;b.setHeight(null)}else {h.width=k;i.width=o+s;b.setWidth(null)}}return a.doAnimation(f,Ext.apply({scope:a,callback:a.afterExpandCollapseAnimation,element:m,preserveEndState:!0,from:h,to:i},u),{restore:!f})},doExpandCollapsePlaceholder:function(d,s){var a=this,v=a.collapsingDirections,c=a.getTarget(),h=c.element,f=c.getHeaderPosition(),b=a.getDirection(),o=b==='top'||b==='bottom',u=f==='top'||f==='bottom',e=c.getHeader(),q=o!==u,r=a.getContainerTarget().getBox(),k,l,g,m,j,p,i,n,t;g=a.createDrawer();if(d){i=a.saveProps();k=i.measuredHeight;l=i.measuredWidth}else {a.reattachBodyWrap();a.restoreProps(!0);n=h.measure();k=n.height;l=n.width}a.configureDrawer(g,l,k,!0);g.setLeft(h.getLeft()-r.left);g.setTop(h.getTop()-r.top);if(o){c.setHeight(null);c.setMinHeight(null)}else {c.setWidth(null);c.setMinWidth(null)}c.setFlex(null);if(d){if(q&&v[f].indexOf(b)<0){c.moveHeaderPosition(d?b:f,!d?b:f)}if(e){e.element.setVisibility(!1)}m=a.getSlideOutCfg(b,function(){if(a.destroying){return}t=a.activeOperation;g.hide();if(e){e.element.setVisibility(!0);a.doAnimation(d,{type:'slideIn',element:e.element,reverse:!0,direction:b,isElementBoxFit:!1,scope:a,callback:a.afterExpandCollapseAnimation},t)}else {a.afterExpandCollapseAnimation()}},s)}else {m=a.getSlideInCfg(b,a.afterExpandCollapseAnimation,s);if(a.endDirection[b]){j=a.animateEndCls;h.addCls(j)}if(!q){e.element.setVisibility(!1);p=!0}}return a.doAnimation(d,m,{placeHolder:!0,restore:!d,reattach:!0,animCls:j,restoreHeaderVis:p})},ensureCollapseTool:function(){var a=this,d=a.getTarget(),h=d.ensureHeader(),g=a.getDirection(),c=a.getCollapsed(),e=a.collapsingDirections,b=a.collapsibleTool,f=a.getTool();if(h&&f){if(!b){a.collapsibleTool=b=d.addTool(Ext.apply({handler:a.onToggleToolTap,scope:a,$internal:!0},f))[0]}b.setType(c?e[g][1]:e[g][0]);b.setTooltip(c?a.getExpandToolText():a.getCollapseToolText())}else {a.collapsibleTool=Ext.destroy(b)}},getAnimationFor:function(a){var b=a?this.getCollapseAnimation():this.getExpandAnimation();return b||this.getAnimation()},getContainerTarget:function(){return this.getTarget().element.parent()},getDrawerTask:function(){var a=this,b=a.drawerTask;if(!b){a.drawerTask=b=new Ext.util.DelayedTask(a.hideDrawer,a)}return b},getHeaderSize:function(){var b=this.getTarget().ensureHeader(),a=b&&b.element;return a?Math.min(a.measure('h'),a.measure('w')):0},getSlideInCfg:function(b,c,a){return Ext.apply({type:'slideIn',direction:b,reverse:!0,element:this.drawer.element,isElementBoxFit:!1,scope:this,callback:c},a)},getSlideOutCfg:function(b,c,a){return Ext.apply({type:'slideOut',direction:b,element:this.drawer.element,isElementBoxFit:!1,scope:this,callback:c},a)},handleElMouseEnter:function(){this.getDrawerTask().cancel()},handleElMouseLeave:function(d){var a=this,b=d.getRelatedTarget(),c=a.getTarget();if(b&&(c.owns(b)||a.drawer.owns(b))){return}a.getDrawerTask().delay(a.getDrawerHideDelay())},handleGlobalDrawerEvent:function(c){var a=this,d=a.drawer,e=a.getTarget(),b;b=a.getDrawerTask();if(e.owns(c)||d.owns(c)){b.cancel()}else {b.delay(a.getDrawerHideDelay())}},measureAndSet:function(a,c,e){var b,d;if(!a){return}b='set'+c;d='get'+c;if(e){a[b](null)}a[b](a[d](!1,!0))},onHeaderTap:function(e){var a=this,d=a.getTitleCollapse(),b=a.getCollapsed(),c=Ext.Component.from(e);if(!(c.isPanelTitle||c.isPanelHeader)){return}if(d){a.toggleCollapsed(!b)}else if(a.getUseDrawer()&&b&&!a.isDynamic()){a[a.drawerVisible?'hideDrawer':'showDrawer']()}},onToggleToolTap:function(){this.toggleCollapsed(!this.getCollapsed())},parseAnimation:function(b,a){if(a===undefined){a=this.getAnimationFor(b)}else if(a){if(typeof a==='boolean'){a={}}a=Ext.apply({},a,this.getAnimationFor(b))}return a},reattachBodyWrap:function(){if(this.hasDetachedBody){this.getTarget().reattachBodyWrap();this.hasDetachedBody=!1}},restoreProps:function(e){var d=this,b=d.getTarget(),a=d.savedProps,c;if(a){c=a.flex;if(c){b.setFlex(c)}b.setMinHeight(a.minHeight);b.setMinWidth(a.minWidth);b.setHeight(a.height);b.setWidth(a.width);if(!e){d.savedProps=null}}},saveProps:function(){var d=this,a=d.getTarget(),c=a.element.measure(),b;d.savedProps=b={flex:a.getFlex(),minHeight:a.getMinHeight(),minWidth:a.getMinWidth(),height:a.getHeight(),width:a.getWidth(),measuredWidth:c.width,measuredHeight:c.height};return b},setToolTextIf:function(a,c){var b=this.collapsibleTool;if(a&&b&&c){b.setTooltip(a)}},setupHeaderListeners:function(){var a=this,b=a.getTarget().getHeader();a.headerListeners=Ext.destroy(a.headerListeners);if(b&&(a.getUseDrawer()||a.getTitleCollapse())){a.headerListeners=b.element.on({destroyable:!0,scope:a,tap:'onHeaderTap'})}},unanimated:function(a){this.$unanimated=!0;if(a){a(this);this.$unanimated=!1}return this}}},1,0,0,0,0,[[Ext.mixin.ConfigProxy.prototype.mixinId||Ext.mixin.ConfigProxy.$className,Ext.mixin.ConfigProxy]],[Ext.panel,'Collapser'],0);Ext.cmd.derive('Ext.panel.Header',Ext.Container,{isPanelHeader:!0,config:{icon:null,iconAlign:null,iconCls:null,titleRotation:'auto',title:null,titleAlign:null,layout:{type:'box',vertical:!1,align:'center'},position:null},autoSize:null,classCls:'x-panelheader',verticalCls:'x-vertical',horizontalCls:'x-horizontal',toolEndCls:'x-end',toolStartCls:'x-start',rotationMap:{top:'0',right:'90',bottom:'0',left:'270'},dockCls:{top:'x-docked-top',right:'x-docked-right',bottom:'x-docked-bottom',left:'x-docked-left'},weighted:!0,vertical:!1,inheritUi:!0,addTools:function(b){var a=Ext.Array.from(b);if(a&&a.length){a=this.add(a)}return a},applyTitle:function(a,c){var b=c;if(b){if(!a||typeof a==='string'){b.setText(a||'')}else if(a){b.setConfig(a)}}else {b=Ext.create(this.createTitle(a))}return b},createTitle:function(a){var b=this.getRefOwner();if(a&&typeof a==='string'){a={text:a}}return Ext.merge({xtype:'paneltitle',instanceCls:b&&b.titleCls||null,flex:'1 1 auto'},a)},onItemAdd:function(a,f){var b=this,c=b.getTitle(),d=c&&c.weight||-10,e=a.weight||0;Ext.Container.prototype.onItemAdd.call(this,a,f);if(a.isTool){a.addCls(e<d?b.toolStartCls:b.toolEndCls)}},onItemRemove:function(a,c,b){Ext.Container.prototype.onItemRemove.call(this,a,c,b);if(a.isTool){a.removeCls([this.toolStartCls,this.toolEndCls])}},updateIcon:function(a){this.ensureTitle().setIcon(a)},updateIconAlign:function(a){this.ensureTitle().setIconAlign(a)},updateIconCls:function(a){this.ensureTitle().setIconCls(a)},updateTitle:function(b,a){if(a){a.setConfig(b)}else {this.add(b)}},updateTitleAlign:function(a){this.ensureTitle().setTextAlign(a)},updateTitleRotation:function(b){var a=this,c;if(b==='auto'){if(a.isConfiguring){return}c=a.getRefOwner();if(c){b=a.rotationMap[c.getHeaderPosition()]}}a.rotateTitle(b)},updatePosition:function(b,d){var a=this,i=a.getLayout(),h=b==='left',j=b==='right',f=a.vertical=h||j,e=a.verticalCls,c=a.horizontalCls,g=a.dockCls;i.setVertical(f);i.setReverse(h);if(d){a.removeCls(g[d])}if(b){a.addCls(g[b])}if(f){a.replaceCls(c,e)}else {a.replaceCls(e,c)}if(a.getTitleRotation()==='auto'){a.rotateTitle(a.rotationMap[b])}},privates:{clearTools:function(){var c=this.getItems().items,a,b;for(b=c.length;b-->0;){a=c[b];if(a.isTool&&!a.$internal){this.remove(a)}}},ensureTitle:function(){var b=this,a=b.getTitle();if(!a){b.setTitle('');a=b.getTitle()}return a},isVertical:function(){return this.vertical},rotateTitle:function(a){this.ensureTitle().setRotation(a)},sortByWeight:function(a,b){return (a.weight||0)-(b.weight||0)}},deprecated:{'6.5':{configs:{glyph:null}}}},0,['panelheader'],['widget','component','container','panelheader'],{'widget':!0,'component':!0,'container':!0,'panelheader':!0},['widget.panelheader'],0,[Ext.panel,'Header'],0);Ext.define('Ext.theme.material.panel.Header',{override:'Ext.panel.Header',config:{titleAlign:'left'}});Ext.cmd.derive('Ext.scroll.NativeScroller',Ext.scroll.Scroller,{config:{monitorScroll:null,scrollingElement:null,spacerXY:null,xCls:null,yCls:null},statics:{initViewportScroller:function(){var a=Ext.getViewportScroller();if(!a.getElement()){a.setElement(Ext.getBody())}}},constructor:function(b){var a=this;a.trackingPosition={x:null,y:null};Ext.scroll.Scroller.prototype.constructor.call(this,b);a.syncXCls();a.syncYCls()},doDestroy:function(){var b=Ext.scroll.Scroller,a=this;a.setX(null);a.setY(null);if(a._spacer){a._spacer.destroy()}if(a.scrollListener){a.scrollListener.destroy()}if(a.translatable){a.translatable=null}if(b.viewport===a){b.viewport=null}Ext.scroll.Scroller.prototype.doDestroy.call(this)},getClientSize:function(){var a=this.getElement().dom;return {x:a.clientWidth,y:a.clientHeight}},getScrollbarSize:function(){var h=this,j=0,i=0,g=h.getScrollingElement(),b,e,f,c,d,a;if(g&&!g.destroyed){e=h.getX();f=h.getY();b=g.dom;if(e||f){a=Ext.scrollbar.size()}if(e==='scroll'){c=!0}else if(e){c=b.scrollWidth>b.clientWidth}if(f==='scroll'){d=!0}else if(f){d=b.scrollHeight>b.clientHeight}if(c){i=a.height}if(d){j=a.width}}return {width:j,height:i,reservedWidth:d?a.reservedWidth:'',reservedHeight:c?a.reservedHeight:''}},getSize:function(){var a=this.getScrollingElement(),b,c;if(a&&!a.destroyed){c=a.dom;b={x:c.scrollWidth,y:c.scrollHeight}}else {b={x:0,y:0}}return b},getMaxPosition:function(){var b=this.getScrollingElement(),c=0,d=0,a;if(b&&!b.destroyed){a=b.dom;c=a.scrollWidth-a.clientWidth;d=a.scrollHeight-a.clientHeight}return {x:c,y:d}},getMaxUserPosition:function(){var c=this,b=c.getScrollingElement(),d=0,e=0,a;if(b&&!b.destroyed){a=b.dom;if(c.getX()){d=a.scrollWidth-a.clientWidth}if(c.getY()){e=a.scrollHeight-a.clientHeight}}return {x:d,y:e}},refresh:function(){var a=this,c=a.getElementScroll(),e=c.left,f=c.top,d=a.position,b=a.trackingPosition;d.x=b.x=e;d.y=b.y=f;return Ext.scroll.Scroller.prototype.refresh.call(this)},updateElement:function(a,d){var b=this,e=b.nativeScrollerCls,c=null;Ext.scroll.Scroller.prototype.updateElement.call(this,a,d);if(d&&!d.destroyed){d.removeCls([e,this.getXCls(),this.getYCls()])}if(a){if(a.dom===document.documentElement||a.dom===document.body){c=Ext.scroll.Scroller.getScrollingElement()}else {c=a}a.addCls(e)}b.setScrollingElement(c);if(!b.isConfiguring){b.syncXCls();b.syncYCls();b.getTranslatable().setElement(c)}},updateSize:function(e){var d=this,f=d.getScrollingElement(),a=e.x,b=e.y,c;if(f){c=d.getSpacer();if(!a&&!b){c.hide()}else {if(a>0){a-=1}if(b>0){b-=1}d.setSpacerXY({x:a,y:b});c.show()}}},updateX:function(a){if(!this.isConfiguring){this.syncXCls()}},updateY:function(a){if(!this.isConfiguring){this.syncYCls()}},privates:{nativeScrollerCls:'x-nativescroller',spacerCls:'x-scroller-spacer',overflowXClsMap:{auto:'x-overflow-x-auto','true':'x-overflow-x-auto','false':'x-overflow-x-hidden',scroll:'x-overflow-x-scroll'},overflowYClsMap:{auto:'x-overflow-y-auto','true':'x-overflow-y-auto','false':'x-overflow-y-hidden',scroll:'x-overflow-y-scroll'},constrainScrollRange:function(g){if(g<1000000){return g}if(!this.maxSpacerTranslate){var b=Math.pow(2,32),c=b,a=500,f=Ext.getBody().createChild({style:{position:'absolute',left:'-10000px',top:'0',width:'500px',height:'500px'},cn:{cls:this.spacerCls}},null,!0),e=Ext.get(f.firstChild),d=e.dom.style;e.translate(0,b-1);d.lineHeight=Number(!parseInt(d.lineHeight,10))+'px';while(c!==a+1){e.translate(0,b=a+Math.floor((c-a)/2));d.lineHeight=Number(!parseInt(d.lineHeight,10))+'px';if(f.scrollHeight<b){c=b}else {a=b}}e.translate(0,Ext.scroll.Scroller.prototype.maxSpacerTranslate=a);c=a*2;while(c!==a+1){e.dom.style.marginTop=(b=a+Math.floor((c-a)/2))+'px';d.lineHeight=Number(!parseInt(d.lineHeight,10))+'px';if(f.scrollHeight<b){c=b}else {a=b}}Ext.fly(f).destroy();Ext.scroll.Scroller.prototype.maxSpacerMargin=a-Ext.scroll.Scroller.prototype.maxSpacerTranslate}return Math.min(g,this.maxSpacerTranslate)},doHighlight:function(b,a){if(a!==!0){Ext.fly(b).highlight(a)}else {Ext.fly(b).highlight()}},doScrollTo:function(a,e,j){var b=this,k=b.getScrollingElement(),f=b.getTranslatable(),g,h,i,d,c;if(k&&!k.destroyed){h=a===Infinity;i=e===Infinity;if(h||i){g=b.getMaxPosition();if(h){a=g.x}if(i){e=g.y}}if(a!==null){a=b.convertX(a)}if(j){c=new Ext.Deferred();f.on('animationend',function(){if(b.destroyed){c.reject()}else {c.resolve()}},Ext.global,{single:!0,onFrame:!0});f.translate(a,e,j);d=c.promise}else {f.translate(a,e);d=Ext.Deferred.getCachedResolved();b.onScroll()}}else {d=Ext.Deferred.getCachedRejected()}return d},getElementScroll:function(){return this.getScrollingElement().getScroll()},getSpacer:function(){var c=this,a=c._spacer,b;if(!a){b=c.getScrollingElement();a=c._spacer=b.createChild({cls:c.spacerCls,role:'presentation'},b.dom.firstChild);a.setVisibilityMode(2);a.hide();b.position()}return a},onScroll:function(h){var a=this,d=a.position,g=a.getElementScroll(),b=g.left,c=g.top,e=b-d.x,f=c-d.y;if(e||f){if(h){if(!a.getX()&&!a.getY()&&!a.getMonitorScroll()){h.preventDefault();return}}d.x=b;d.y=c;if(!a.isScrolling){a.setPrimary(!0);a.callPartners('onPartnerScrollStart',b,c);a.fireScrollStart(b,c,e,f);a.callPartners('fireScrollStart',b,c)}if(a.isPrimary){a.callPartners('onPartnerScroll',b,c);a.fireScroll(b,c,e,f);a.callPartners('fireScroll',b,c);a.onScrollEnd(b,c)}}},doOnScrollEnd:function(d,e){var a=this,c=a.position,b=a.trackingPosition;if(!a.destroying&&!a.destroyed){a.isScrolling=Ext.isScrolling=!1;b.x=c.x;b.y=c.y;a.callPartners('onPartnerScrollEnd');a.fireScrollEnd(d,e);a.callPartners('fireScrollEnd',d,e);if(!a.isScrolling){a.setPrimary(null)}}},restoreState:function(){var b=this,a=b.trackingPosition;b.doScrollTo(a.x,a.y)},syncXCls:function(){var a=this;if(a.getElement()){a.setXCls(a.overflowXClsMap[a.getX()])}},syncYCls:function(){var a=this;if(a.getElement()){a.setYCls(a.overflowYClsMap[a.getY()])}},translateSpacer:function(a,b){this.getSpacer().translate(a,b)},updateScrollingElement:function(c,g){var a=this,f=document,e=a.scrollListener,d,b;if(e){e.destroy();a.scrollListener=null}if(c){d=c.dom;if(d===f.scrollingElement||d===f.documentElement){b=Ext.getWin()}else {b=c}a.scrollListener=b.on({scroll:'onScroll',scope:a,destroyable:!0})}},applySpacerXY:function(a,b){if(b&&a.x===b.x&&a.y===b.y){a=undefined}return a},updateSpacerXY:function(e){var a=this,f=a.getSpacer(),b=f.dom.style,c=e.y,d;b.marginTop='';a.translateSpacer(e.x,a.constrainScrollRange(c));b.lineHeight=Number(!parseInt(b.lineHeight,10))+'px';if(c>1000000){d=c-a.getScrollingElement().dom.scrollHeight;if(d>0){b.marginTop=Math.min(d,a.maxSpacerMargin||0)+'px'}}},createTranslatable:function(a){if(this.isConfiguring){this.getElement()}return Ext.apply({element:this.getScrollingElement()},a)},updateXCls:function(c,b){var a=this.getScrollingElement();if(a&&!a.destroyed){a.replaceCls(b,c)}},updateYCls:function(c,b){var a=this.getScrollingElement();if(a&&!a.destroyed){a.replaceCls(b,c)}}}},1,0,0,0,['scroller.native'],0,[Ext.scroll,'NativeScroller'],function(a){var b=Ext.scroll.Scroller;Ext.getViewportScroller=function(d){var c=b.viewport;if(!c&&d!==!1){b.viewport=c=new a();a.initViewportScroller()}return c};Ext.setViewportScroller=function(c){var d=b.viewport;if(c!==d){Ext.destroy(d);if(c&&!c.isScroller){c=new a(c)}b.viewport=c}};Ext.onReady(function(){a.initViewportScrollerTimer=Ext.defer(a.initViewportScroller,100)})});Ext.cmd.derive('Ext.scroll.indicator.Indicator',Ext.Widget,{factoryConfig:{defaultType:'overlay',aliasPrefix:'scrollindicator.'},isScrollIndicator:!0,classCls:'x-scrollindicator',config:{axis:null,enabled:null,scroller:null,value:null},privates:{axisClsMap:{x:'x-horizontal',y:'x-vertical'},updateAxis:function(a){this.addCls(this.axisClsMap[a])}}},0,0,['widget'],{'widget':!0},['scrollindicator.indicator'],[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.scroll.indicator,'Indicator'],0);Ext.cmd.derive('Ext.scroll.indicator.Bar',Ext.scroll.indicator.Indicator,{isScrollbar:!0,config:{stylesheet:!0},classCls:'x-scrollbar',enabledCls:'x-enabled',scrollCls:'x-overflow-scroll',cornerCls:'x-scrollbar-corner',maxScrollSize:100000,scale:1,position:0,template:[{reference:'spacerElement',cls:'x-spacer-el'}],constructor:function(a){Ext.scroll.indicator.Indicator.prototype.constructor.call(this,a);this.element.on('scroll','onScrollbarScroll',this)},doDestroy:function(){this.setEnabled(null);Ext.scroll.indicator.Indicator.prototype.doDestroy.call(this)},privates:{hasRules:{x:!1,y:!1},names:{x:{scrollerCls:'x-has-horizontal-scrollbar',margin:'margin-right',spacerMargin:'margin-left',getAxis:'getX',size:'height',oppositeSize:'width',scrollPosition:'scrollLeft',minSize:'min-height'},y:{scrollerCls:'x-has-vertical-scrollbar',margin:'margin-bottom',spacerMargin:'margin-top',getAxis:'getY',size:'width',oppositeSize:'height',scrollPosition:'scrollTop',minSize:'min-width'}},onRefresh:function(){var a=this,b=a.getScroller(),k=b.getElement(),c=a.getAxis(),d=a.names[c],i=b[d.getAxis](),g=b.getSize()[c],f=k[c==='x'?'getWidth':'getHeight'](),j=b.getMaxPosition()[c],h=b.getScrollbarSize()[d.oppositeSize],e=a.maxScrollSize;if(f&&g){a.setEnabled(b.isAxisEnabled(a.getAxis()));a.toggleCls(a.scrollCls,i==='scroll');a.scale=Math.max(j/(e-f+h),1);a.spacerElement.setStyle(d.spacerMargin,Math.min(g,e)-1+'px')}},onScroll:function(){var a=this,c=a.getScroller(),b=a.getAxis();if(!c.isScrollbarScrolling){a.element.dom[a.names[b].scrollPosition]=Math.round(a.getScroller().position[b]/a.scale);a.readPosition()}},onScrollbarScroll:function(){var b=this,a=b.getScroller(),f=b.getAxis(),e=b.position,c=b.readPosition(),d=f==='y';if(e!==c&&(!a.isScrolling||a.isScrollbarScrolling)){a.isScrollbarScrolling=!0;a.doScrollTo(d?null:c,d?c:null)}},readPosition:function(){var a=this,b=Math.round(a.element.dom[a.names[a.getAxis()].scrollPosition]*a.scale);a.position=b;return b},updateAxis:function(d,h){var c=this,e=c.el,g=c.getScroller().getInnerElement(),a=c.names[d],f=Ext.isIE?1:0,b=Ext.scrollbar.size()[a.size]+f+'px';Ext.scroll.indicator.Indicator.prototype.updateAxis.call(this,d,h);e.setStyle(a.size,b);e.setStyle(a.margin,b);g.setStyle(a.minSize,'calc(100% - '+b+')')},updateEnabled:function(d){var a=this,c=a.getScroller(),b;if(!a.destroying&&!a.destroyed){a.toggleCls(a.enabledCls,!!d)}if(c){b=c.getElement();if(b&&!b.destroyed){b.toggleCls(a.names[a.getAxis()].scrollerCls,!!d)}}},updateScroller:function(a){var c=this,b;if(a){b=a.getElement();if(b){b.appendChild(c.el);if(!a.isConfiguring){c.setEnabled(a.isAxisEnabled(c.getAxis()))}}}},applyStylesheet:function(){var b=this.self.prototype,a=b.stylesheet;if(!a){b.stylesheet=a=Ext.util.CSS.createStyleSheet('')}return a}}},1,0,['widget'],{'widget':!0},['scrollindicator.bar'],0,[Ext.scroll.indicator,'Bar'],0);Ext.cmd.derive('Ext.scroll.indicator.Overlay',Ext.scroll.indicator.Indicator,{config:{axis:null,hideAnimation:!0,hideDelay:100},defaultHideAnimation:{to:{opacity:0},duration:300},names:{x:{side:'l',getSize:'getHeight',setLength:'setWidth',translate:'translateX'},y:{side:'t',getSize:'getWidth',setLength:'setHeight',translate:'translateY'}},oppositeAxis:{x:'y',y:'x'},classCls:'x-scrolloverlay',visible:!1,element:{reference:'element',style:'opacity: 0'},applyHideAnimation:function(a){if(a){a=Ext.mergeIf({onEnd:this.onHideAnimationEnd,scope:this},this.defaultHideAnimation,a)}return a},constructor:function(c){var a=this,b;Ext.scroll.indicator.Indicator.prototype.constructor.call(this,c);if(Ext.os.is.iOS){a.addUi('ios')}if(Ext.os.is.Android){a.addUi('android')}b=a.getAxis();a.names=a.names[b]},hide:function(){var a=this,b=a.getHideDelay();if(!a.visible){return}a.visible=!1;if(b){a._hideTimer=Ext.defer(a.doHide,b,a)}else {a.doHide()}},updateScroller:function(a){a.getElement().appendChild(this.element)},updateValue:function(c){var b=this,m=b.element,k=b.names,l=b.getAxis(),j=b.getScroller(),f=j.getMaxUserPosition()[l],g=j.getClientSize()[l],a=b.length,e=a,i=g-a-b.sizeAdjust,h=Math.round,d;if(c<0){e=h(a+a*c/g);d=0}else if(c>f){e=h(a-a*(c-f)/g);d=i+a-e}else {d=h(c/f*i)}b[k.translate](d);m[k.setLength](e)},show:function(){var a=this,b=a.element,c=b.getActiveAnimation();if(a.visible){return}a.visible=!0;if(c){c.end()}if(b.stopAnimation){b.stopAnimation()}if(!a.size){a.cacheStyles()}a.refreshLength();clearTimeout(a._hideTimer);b.setStyle('opacity','')},destroy:function(){Ext.scroll.indicator.Indicator.prototype.destroy.call(this);clearTimeout(this._hideTimer)},privates:{cacheStyles:function(){var a=this,c=a.element,b=a.names;a.size=c[b.getSize]();a.margin=c.getMargin(b.side)},doHide:function(){var a=this.getHideAnimation(),b=this.element;if(a){b.animate(a)}else {b.setStyle('opacity',0)}},hasOpposite:function(){return this.getScroller().isAxisEnabled(this.oppositeAxis[this.getAxis()])},onHideAnimationEnd:function(){this.element.setStyle('opacity','0')},onScroll:function(){var a=this;a.setValue(a.getScroller().position[a.getAxis()])},onScrollEnd:function(){this.hide()},onScrollStart:function(){var a=this;a.setValue(a.getScroller().position[a.getAxis()]);a.show()},refreshLength:function(){var a=this,i=a.names,g=a.getAxis(),e=a.getScroller(),h=e.getSize()[g],c=e.getClientSize()[g],j=c/h,b=a.margin*2,d=a.hasOpposite()?b+a.size:b,f=Math.round((c-d)*j);a.sizeAdjust=d;a.length=f;a.element[i.setLength](f)},translateX:function(a){this.element.translate(a)},translateY:function(a){this.element.translate(0,a)}}},1,0,['widget'],{'widget':!0},['scrollindicator.overlay'],0,[Ext.scroll.indicator,'Overlay'],0);Ext.cmd.derive('Ext.scroll.VirtualScroller',Ext.scroll.Scroller,{isVirtualScroller:!0,config:{autoRefresh:!1,barIndicator:{lazy:!0,$value:{type:'bar'}},bounceEasing:{duration:400},directionLock:!1,disabled:null,clientSize:undefined,scrollbarSize:{width:0,height:0},indicators:{x:!0,y:!0},infinite:!0,innerElement:null,maxAbsoluteVelocity:6,maxPosition:{x:0,y:0},maxUserPosition:{x:0,y:0},minPosition:{x:0,y:0},minUserPosition:{x:0,y:0},momentumEasing:{momentum:{acceleration:30,friction:0.5},bounce:{acceleration:30,springTension:0.3},minVelocity:1},outOfBoundRestrictFactor:0.5,overlayIndicator:{lazy:!0,$value:{type:'overlay'}},pageSize:{x:500000,y:500000},slotSnapEasing:{duration:150},slotSnapOffset:{x:0,y:0},slotSnapSize:{x:0,y:0},startMomentumResetTime:300},eventedConfig:{offsetX:0,offsetY:0},translatable:'csstransform',dragStartTime:0,dragEndTime:0,isDragging:!1,isWheeling:!1,isAnimating:!1,touchScrollCount:0,isMouseEvent:{mousedown:1,mousemove:1,mouseup:1},listenerMap:{touchstart:'onTouchStart',touchmove:'onTouchMove',dragstart:'onDragStart',drag:'onDrag',dragend:'onDragEnd'},constructor:function(d){var a=this,b='onEvent',c;a.elementListeners={touchstart:b,touchmove:b,dragstart:b,drag:b,dragend:b,wheel:'onWheel',scroll:'onNativeScroll',scope:a};a.minPosition={x:0,y:0};a.startPosition={x:0,y:0};a.velocity={x:0,y:0};a.isAxisEnabledFlags={x:!1,y:!1};a.flickStartPosition={x:0,y:0};a.flickStartTime={x:0,y:0};a.lastDragPosition={x:0,y:0};a.dragDirection={x:0,y:0};a.scrollbarSize={width:0,height:0};Ext.scroll.Scroller.prototype.constructor.call(this,d);c=a.getAutoRefresh();a.refreshScrollbarSize();if(c){a.refresh(!0)}else {a.refreshAxes();a.callIndicators('onRefresh')}a.scheduleRefresh={idle:a.doRefresh,scope:a,single:!0,destroyable:!0}},doDestroy:function(){var a=this,c=a.getElement(),b=a.getInnerElement(),d=a.sizeMonitors;if(d){d.element.destroy();d.container.destroy()}if(c&&!c.destroyed){c.removeCls(a.cls)}if(b&&!b.destroyed){b.removeCls(a.innerCls)}if(a._isWrapped){if(!c.destroyed){a.unwrapContent()}b.destroy()}a.setElement(null);a.setInnerElement(null);a.setIndicators(null);Ext.destroyMembers(a,'scrollbarCorner');Ext.scroll.Scroller.prototype.doDestroy.call(this)},refresh:function(b){var a=this;if(b){a.doRefresh()}else if(!a.refreshScheduled){a.refreshScheduled=Ext.on(a.scheduleRefresh)}return a},updateDisabled:function(a){if(!this.isConfiguring){if(a){this.detachListeners()}else {this.attachListeners()}}},updateElement:function(c,b){var a=this,f=a.virtualScrollerCls,d=a.getInnerElement(),e;Ext.scroll.Scroller.prototype.updateElement.call(this,c,b);if(b&&!b.destroyed){b.removeCls(f)}if(c){c.addCls(f);if(!d){d=a.wrapContent(c);a.setInnerElement(d)}if(!a.getDisabled()){a.attachListeners()}if(!a.isConfiguring){e=a.getAutoRefresh();if(e){a.toggleResizeListeners(e);a.refresh()}}}},applyIndicators:function(a,g){var i=this,h,f,b,c,d,e;if(a){if(a===!0||typeof a==='string'){b=c=a}else {h=a.type;b=a.x;c=a.y}}if(g){a=g}else {a={x:null,y:null}}if(b||c){f=Ext.scrollbar.width()&&h!=='overlay'?'barIndicator':'overlayIndicator'}d=a.x;e=a.y;if(b){a.x=Ext.Factory.scrollindicator.update(d,b,i,'createXIndicator',f)}else if(d){d.destroy();a.x=null}if(c){a.y=Ext.Factory.scrollindicator.update(e,c,i,'createYIndicator',f)}else if(e){e.destroy();a.y=null}return a},updateIndicators:function(a){if(!this.isConfiguring){this.refreshScrollbarSize()}},createXIndicator:function(a){return Ext.apply({axis:'x',scroller:this},a)},createYIndicator:function(a){return Ext.apply({axis:'y',scroller:this},a)},applySlotSnapSize:function(a){if(typeof a==='number'){a={x:a,y:a}}return a},updateX:function(){if(!this.isConfiguring){this.refreshAxes();this.refreshScrollbarSize()}},updateY:function(){if(!this.isConfiguring){this.refreshAxes();this.refreshScrollbarSize()}},privates:{virtualScrollerCls:'x-virtualscroller',innerCls:'x-scroller-inner',scrollbarCornerCls:'x-scrollbar-corner',attachListeners:function(){this.getElement().on(this.elementListeners)},callIndicators:function(a,f){var e=this,d=e.getIndicators(),b,c;if(d){if(f||e.isAxisEnabled('x')){b=d.x;if(b&&b[a]){b[a]()}}if(f||e.isAxisEnabled('y')){c=d.y;if(c&&c[a]){c[a]()}}}},constrainX:function(a){return Math.min(this.getMaxPosition().x,Math.max(a,0))},constrainY:function(a){return Math.min(this.getMaxPosition().y,Math.max(a,0))},convertEasingConfig:function(a){return a},detachListeners:function(){this.getElement().un(this.elementListeners)},doRefresh:function(c){var a=this,b=a.configuredSize;if(a.refreshScheduled){a.refreshScheduled=a.refreshScheduled.destroy()}if(a.getElement()){a.stopAnimation();a.getTranslatable().refresh();a.setSize({x:b.x?undefined:null,y:b.y?undefined:null});a.fireEvent('refresh',a)}},doScrollTo:function(b,c,f){var a=this,d=a.isDragging,l=a.isPrimary,m,h,e,i,g,j,k;if(a.destroyed||!a.getElement()){return a}g=a.getTranslatable();e=a.position;if(!d||a.isAxisEnabled('x')){if(isNaN(b)||typeof b!=='number'){b=e.x}else {if(l!==!1&&!d){b=a.constrainX(b)}if(e.x!==b){i=!0}}}if(!d||a.isAxisEnabled('y')){if(isNaN(c)||typeof c!=='number'){c=e.y}else {if(l!==!1&&!d){c=a.constrainY(c)}if(e.y!==c){i=!0}}}if(i){if(!a.isScrolling){a.onScrollStart()}j=a.convertX(-b);k=-c;if(f){h=new Ext.Deferred();g.on('animationend',function(){if(a.destroyed){h.reject()}else {h.resolve()}},Ext.global,{single:!0,onFrame:!0});g.translateAnimated(j,k,f);m=h.promise}else {g.translate(j,k);a.onScroll(b,c);if(a.isWheeling||a.isScrollbarScrolling){a.onScrollEnd()}else if(!d){a.doOnScrollEnd()}}}else if(f&&f.callback){f.callback()}return m||Ext.Deferred.getCachedResolved()},getAnimationEasing:function(b,m){if(!this.isAxisEnabled(b)){return null}var a=this,c=a.position[b],k=a.getMinUserPosition()[b],i=a.getMaxUserPosition()[b],g=a.getMaxAbsoluteVelocity(),d=null,j=a.dragEndTime,e=m.flick.velocity[b],l=b==='x',h,f;if(c<k){d=k}else if(c>i){d=i}if(l){c=a.convertX(c);d=a.convertX(d)}if(d!==null){f=a.getBounceEasing()[b];f.setConfig({startTime:j,startValue:-c,endValue:-d});return f}if(e===0){return null}if(e<-g){e=-g}else if(e>g){e=g}f=a.getMomentumEasing()[b];h={startTime:j,startValue:-c,startVelocity:e*1.5,minMomentumValue:-i,maxMomentumValue:0};if(l){a.convertEasingConfig(h)}f.setConfig(h);return f},getSnapPosition:function(d){var e=this,c=e.getSlotSnapSize()[d],f=null,b,h,g,a;if(c!==0&&e.isAxisEnabled(d)){b=e.position[d];h=e.getSlotSnapOffset()[d];g=e.getMaxUserPosition()[d];a=Math.floor((b-h)%c);if(a!==0){if(b!==g){if(Math.abs(a)>c/2){f=Math.min(g,b+(a>0?c-a:a-c))}else {f=b-a}}else {f=b-a}}}return f},isAxisEnabled:function(a){this.getX();this.getY();return this.isAxisEnabledFlags[a]},onAnimationEnd:function(){this.isAnimating=!1;this.snapToBoundary();this.onScrollEnd()},onAnimationFrame:function(c,a,b){this.onScroll(this.convertX(-a),-b)},onAnimationStart:function(){this.isAnimating=!0},onAxisDrag:function(a,k){if(k&&this.isAxisEnabled(a)){var b=this,o=b.flickStartPosition,g=b.flickStartTime,f=b.lastDragPosition,d=b.dragDirection,r=b.position[a],q=b.getMinUserPosition()[a],e=b.getMaxUserPosition()[a],p=b.startPosition[a],l=f[a],c=p-k,i=d[a],h=b.getOutOfBoundRestrictFactor(),n=b.getStartMomentumResetTime(),m=Ext.Date.now(),j;if(c<q){c*=h}else if(c>e){j=c-e;c=e+j*h}if(c>l){d[a]=1}else if(c<l){d[a]=-1}if(i!==0&&d[a]!==i||m-g[a]>n){o[a]=r;g[a]=m}f[a]=c;return !0}},onDrag:function(c){var a=this,b=a.lastDragPosition;if(!a.isDragging){return}if(a.onAxisDrag('x',a.convertX(c.deltaX))|a.onAxisDrag('y',c.deltaY)){a.doScrollTo(b.x,b.y)}},onDragEnd:function(d){var a=this,b,c;if(a.isDragging){a.dragEndTime=Ext.Date.now();a.onDrag(d);a.isDragging=!1;b=a.getAnimationEasing('x',d);c=a.getAnimationEasing('y',d);if(b||c){a.getTranslatable().animate(b,c)}else {a.onScrollEnd()}}},onDragStart:function(c){var a=this,m=c.absDeltaX,n=c.absDeltaY,k=a.startPosition,f=a.flickStartPosition,i=a.flickStartTime,g=a.lastDragPosition,h=a.position,j=a.dragDirection,d=h.x,e=h.y,b=Ext.Date.now(),l=a.getX(),o=a.getY();Ext.undefer(a.scrollEndTimer);if(a.getDirectionLock()&&!(l&&o)){if(l&&m>n||o&&n>m){c.stopPropagation()}else {return}}g.x=d;g.y=e;f.x=d;f.y=e;k.x=d;k.y=e;i.x=b;i.y=b;j.x=0;j.y=0;a.dragStartTime=b;a.isDragging=!0;if(!a.isScrolling){a.onScrollStart()}},onElementResize:function(){this.refresh(!0)},onEvent:function(b){var a=this,c=a.self;if((!c.isTouching||a.isTouching)&&!c.isWheeling&&b.pointerType!=='mouse'&&(a.getY()||a.getX())){return a[a.listenerMap[b.type]](b)}},onInnerElementResize:function(){this.refresh(!0)},onNativeScroll:function(d){var a=d.target,b=a.scrollLeft,c=a.scrollTop;if(b||c){a.scrollLeft=0;a.scrollTop=0;this.scrollBy(b,c,!1)}},onPartnerScroll:function(a,b){Ext.scroll.Scroller.prototype.onPartnerScroll.call(this,a,b);this.callIndicators('onScroll')},onPartnerScrollStart:function(c,d,a,b){Ext.scroll.Scroller.prototype.onPartnerScrollStart.call(this,c,d,a,b);this.callIndicators('onScrollStart')},onPartnerScrollEnd:function(){Ext.scroll.Scroller.prototype.onPartnerScrollEnd.call(this);this.callIndicators('onScrollEnd',!0)},onScroll:function(d,e){var a=this,f=a.position,l=d-f.x,m=e-f.y,i,b,c,j,k,g,h;if(l||m){f.x=d;f.y=e;if(a.getInfinite()){i=a.getPageSize();b=i.x;if(b){j=a.getOffsetX();g=d-j;if(g>b){a.setOffsetX(Math.floor(d/b)*b)}else if(g<-b){a.setOffsetX(Math.ceil(d/b)*b)}}c=i.y;if(c){k=a.getOffsetY();h=e-k;if(h>c){a.setOffsetY(Math.floor(e/c)*c)}else if(h<-c){a.setOffsetY(Math.ceil(e/c)*c)}}}if(a.isPrimary){a.callIndicators('onScroll');a.callPartners('onPartnerScroll',d,e);a.fireScroll(d,e,l,m);a.callPartners('fireScroll',d,e)}}},doOnScrollEnd:function(){var a=this,b=a.position,c=b.x,d=b.y;if(!a.destroying&&!a.destroyed&&a.isScrolling&&a.isPrimary&&!a.isTouching&&!a.snapToSlot()&&a.touchScrollCount<=1){a.isScrolling=Ext.isScrolling=a.isWheeling=a.self.isWheeling=a.isScrollbarScrolling=!1;a.callIndicators('onScrollEnd');a.callPartners('onPartnerScrollEnd');a.fireScrollEnd(c,d);a.callPartners('fireScrollEnd',c,d);if(!a.isScrolling){a.setPrimary(null)}}if(a.touchScrollCount>0){a.touchScrollCount--}},onScrollStart:function(){var a=this,d=a.position,b=d.x,c=d.y;if(!a.isScrolling){a.setPrimary(!0);a.callIndicators('onScrollStart');a.callPartners('onPartnerScrollStart',b,c);a.fireScrollStart(b,c,0,0);a.callPartners('fireScrollStart',b,c)}},onTouchEnd:function(){var a=this;a.isTouching=a.self.isTouching=!1;if(!a.isAnimating){a.onScrollEnd()}},onTouchMove:function(a){a.preventDefault()},onTouchStart:function(b){var a=this;Ext.getDoc().on({touchend:'onTouchEnd',scope:a,single:!0});a.isTouching=a.self.isTouching=!0;a.stopAnimation();a.touchScrollCount++},onWheel:function(c){var a=this,j=a.self,f=c.deltaX,g=c.deltaY,b=a.position,h=b.x,i=b.y,d=a.constrainX(b.x+f),e=a.constrainY(b.y+g);if(d!==h||e!==i){a.isWheeling=j.isWheeling=!0;a.doScrollTo(d,e);c.preventDefault()}else if(a.isScrolling){a.onScrollEnd()}},refreshAxes:function(){var a=this,b=a.isAxisEnabledFlags,h=a.getSize(),g=a.getClientSize(),e,f,c,d;if(!h||!g){return}e=Math.max(0,h.x-g.x);f=Math.max(0,h.y-g.y);c=a.getX();d=a.getY();a.setMaxPosition({x:e,y:f});if(c===!0||c==='auto'){b.x=!!e}else if(c===!1){b.x=!1}else if(c==='scroll'){b.x=!0}if(d===!0||d==='auto'){b.y=!!f}else if(d===!1){b.y=!1}else if(d==='scroll'){b.y=!0}a.setMaxUserPosition({x:b.x?e:0,y:b.y?f:0});if(!a.isConfiguring){a.callIndicators('onRefresh',!0)}},refreshScrollbarSize:function(){var a=this,b=a.getIndicators(),f=a.scrollbarSize,e=Ext.scrollbar.size(),c,d;if(b){c=b.x;d=b.y;if(c&&c.isScrollbar&&a.getX()){f.height=e.height}if(d&&d.isScrollbar&&a.getY()){f.width=e.width}}},refreshSize:function(z,o){var a=this,v=a.getElement(),w=Ext.isIE?1:0,q,n,m,p,f,e,h,i,c,d,u,l,b,x,y,r,j,k,s,t,g;if(v&&!v.destroyed){u=v.dom;l=a.getInnerElement().dom;c=z.x;d=z.y;q=a.scrollbarSize;n=q.width;m=q.height;p=Ext.scrollbar.size();f=!1;e=!1;r=a.getIndicators();j=r.x;k=r.y;g=a.scrollbarCorner;if(c===undefined){c=o&&o.x}if(d===undefined){d=o&&o.y}if(c==null){c=l.scrollWidth;x=!0}if(d==null){d=l.scrollHeight;y=!0}h=u.clientWidth;i=u.clientHeight;b=a.getScrollbarFlags(c,d,h,i);f=!!(b&1);e=!!(b&2);if(b&&b!==a.scrollbarFlags){if(j){j.setEnabled(a.getX()==='scroll');j.setStyle('visibility','hidden')}if(k){k.setEnabled(a.getY()==='scroll');k.setStyle('visibility','hidden')}if(x&&f){k.setEnabled(!0);s=!0}if(y&&e){j.setEnabled(!0);t=!0}if(s){c=l.scrollWidth}if(t){d=l.scrollHeight}if(s||t){b=a.getScrollbarFlags(c,d,h,i);f=!!(b&1);e=!!(b&2)}if(e&&f){if(!g){a.scrollbarCorner=g=a.getElement().createChild({cls:a.scrollbarCornerCls});g.setVisibilityMode(2);if(Ext.isWindows){g.setStyle({width:n+w+'px',height:m+w+'px'})}}g.show()}else if(g){g.hide()}if(j){j.setStyle('visibility','')}if(k){k.setStyle('visibility','')}a.scrollbarFlags=b;a.setScrollbarSize({width:f?n:0,height:e?m:0,reservedWidth:f?p.reservedWidth:'',reservedHeight:e?p.reservedHeight:''})}h=f?h-n:h;i=e?i-m:i;a.setClientSize({x:h,y:i});return {x:Math.max(c,h),y:Math.max(d,i)}}return null},getScrollbarFlags:function(h,i,f,g){var d=this,a=0,e=d.scrollbarSize,c=e.width,b=e.height;if(c&&(d.getY()==='scroll'||i>g)){a|=1}if(b&&(d.getX()==='scroll'||h>f)){a|=2}if(a&1&&(b&&h>f-c)){a|=2}if(a&2&&(c&&i>g-b)){a|=1}return a},snapToBoundary:function(){var a=this,d=a.getPosition();if(a.isConfiguring||!(d.x||d.y)){return}var f=a.getMinUserPosition(),e=a.getMaxUserPosition(),i=f.x,j=f.y,g=e.x,h=e.y,b=Math.round(d.x),c=Math.round(d.y);if(b<i){b=i}else if(b>g){b=g}if(c<j){c=j}else if(c>h){c=h}a.doScrollTo(b,c)},snapToSlot:function(){var a=this,c=a.getSnapPosition('x'),d=a.getSnapPosition('y'),b=a.getSlotSnapEasing();if(c!==null||d!==null){a.doScrollTo(c,d,{easingX:b.x,easingY:b.y});return !0}return !1},stopAnimation:function(){this.getTranslatable().stopAnimation()},syncOffsets:function(a){a.setOffsetX(-this.getOffsetX());a.setOffsetY(-this.getOffsetY())},toggleResizeListeners:function(e){var a=this,d=a.getElement(),b,c;if(d){c=a.getInnerElement();b=e?'on':'un';d[b]('resize','onElementResize',a);c[b]('resize','onInnerElementResize',a)}},unwrapContent:function(){var a=this.getInnerElement().dom,c=this.getElement().dom,b;while(b=a.firstChild){c.insertBefore(b,a)}},wrapContent:function(d){var a=document.createElement('div'),c=d.dom,b;while(b=c.lastChild){a.insertBefore(b,a.firstChild)}c.appendChild(a);this.setInnerElement(a);this._isWrapped=!0;return this.getInnerElement()},updateAutoRefresh:function(a){this.toggleResizeListeners(a)},applyBounceEasing:function(b){var a=Ext.fx.easing.EaseOut;return {x:Ext.factory(b,a),y:Ext.factory(b,a)}},updateBounceEasing:function(a){this.getTranslatable().setEasingX(a.x).setEasingY(a.y)},updateClientSize:function(){if(!this.isConfiguring){this.refreshAxes()}},applyInnerElement:function(a){if(a){if(!a.isElement){a=Ext.get(a)}}return a},updateInnerElement:function(a){if(a){a.addCls(this.innerCls)}this.getTranslatable().setElement(a)},applyMaxPosition:function(a,c){if(c&&a.x===c.x&&a.y===c.y){return}var d=this.getTranslatable(),b;if(d.isAnimating){b=d.activeEasingY;if(b&&b.getStartVelocity&&b.getStartVelocity()<0&&a.y<c.y){b.setMinMomentumValue(-a.y)}}return a},applyMaxUserPosition:function(b,a){if(!a||b.x!==a.x||b.y!==a.y){return b}},updateMaxUserPosition:function(){this.snapToBoundary()},updateMinUserPosition:function(){this.snapToBoundary()},applyMomentumEasing:function(b){var a=Ext.fx.easing.BoundMomentum;return {x:Ext.factory(b,a),y:Ext.factory(b,a)}},updateOffsetX:function(a){if(!this.isConfiguring){this.getTranslatable().setOffsetX(a)}},updateOffsetY:function(a){if(!this.isConfiguring){this.getTranslatable().setOffsetY(a)}},applySize:function(a,b){a=Ext.scroll.Scroller.prototype.applySize.call(this,a,b);return this.refreshSize(a,b)},updateSize:function(b,a){if(!this.isConfiguring){this.refreshAxes()}},applySlotSnapEasing:function(b){var a=Ext.fx.easing.EaseOut;return {x:Ext.factory(b,a),y:Ext.factory(b,a)}},applySlotSnapOffset:function(a){if(typeof a==='number'){a={x:a,y:a}}return a},updateTranslatable:function(a){if(a){a.on({animationframe:'onAnimationFrame',animationstart:'onAnimationStart',animationend:'onAnimationEnd',scope:this})}},createTranslatable:function(a){return Ext.apply({element:this.getInnerElement()},a)}}},1,0,0,0,['scroller.virtual'],0,[Ext.scroll,'VirtualScroller'],0);Ext.cmd.derive('Ext.state.Builder',Ext.Base,{constructor:function(b,c){var a=this;a.name=c||null;a.parent=b||null;a.root=b?b.root:a},child:function(a){return new this.self(this,a)},get:function(c){var a=this.getData(),b;if(a&&a.$){b=a.$[c]}return b},remove:function(b){var a=this.getData();if(a&&a.$){delete a.$[b]}},save:function(a,b){var g=this,d=a.self.$config.configs[b],e=a[d.names.get](),c=a.$statefulConfigs,f=c&&c[b];if(!f&&!d.equals(a.config[b],e)){c=c||(a.$statefulConfigs={});c[b]=f=!0}if(f){if(!d.save||d.save(g,b,e,a)!==!1){g.set(b,e)}}return g},set:function(b,e){var c=this,a=c.data,d;if(typeof b==='string'){if(e===undefined){if(a){a=a.$}if(a){delete a[b]}}else {a=a||c.getData(!0);a=a.$||(a.$={});a[b]=e}}else {for(d in b){c.set(d,b[d])}}return c},privates:{data:null,id:null,owner:null,clear:function(){var a=this,b=a.parent,c=b&&b.getData();if(c){delete c[a.name]}a.data=null},getData:function(d){var c=this,a=c.parent,b=c.data,e=c.name;if(!b){if(a){a=a.getData(d);if(a){if(!(b=a[e]||null)&&d){a[e]=b={}}}}else if(d){b={}}c.data=b}return b}}},1,0,0,0,0,0,[Ext.state,'Builder'],0);Ext.cmd.derive('Ext.state.LocalStorage',Ext.state.Provider,{config:{storage:{id:'ext-state'}},applyStorage:function(a){return a&&new Ext.util.LocalStorage(a)},updateStorage:function(b){if(b){var e=this.state={},d=b.getKeys(),a,c;for(a=0;a<d.length;++a){c=d[a];e[c]=this.decodeValue(b.getItem(c))}}},clear:function(){this.getStorage().clear();Ext.state.Provider.prototype.clear.call(this)},set:function(b,a){var d=this,c=d.getStorage();Ext.state.Provider.prototype.set.call(this,b,a);if(a==null){c.removeItem(b)}else {c.setItem(b,d.encodeValue(a))}}},0,0,0,0,0,0,[Ext.state,'LocalStorage'],0);Ext.cmd.derive('Ext.tab.Tab',Ext.Button,{alternateClassName:'Ext.Tab',isTab:!0,config:{active:null,title:null,closable:null,tabPosition:'top',rotation:'default'},standardizedRotationByValue:{0:'none',none:'none',1:'right',right:'right',2:'left',left:'left'},defaultRotationForPosition:{top:'none',right:'right',bottom:'none',left:'left'},rotationClass:{none:'x-tab-rotate-none',right:'x-tab-rotate-right',left:'x-tab-rotate-left'},iconAlignForRotation:{left:{left:'x-icon-align-bottom',none:'x-icon-align-left',right:'x-icon-align-top'},top:{left:'x-icon-align-left',none:'x-icon-align-top',right:'x-icon-align-left'},right:{left:'x-icon-align-top',none:'x-icon-align-right',right:'x-icon-align-bottom'},bottom:{left:'x-icon-align-left',none:'x-icon-align-top',right:'x-icon-align-left'}},positionClass:{'top':'x-tab-position-top','right':'x-tab-position-right','bottom':'x-tab-position-bottom','left':'x-tab-position-left'},applyRotation:function(a){return a||'default'},updateRotation:function(a){this.syncRotationAndPosition()},updateTabPosition:function(){this.syncRotationAndPosition()},getActualRotation:function(){var a=this.getRotation()||'default';a=a==='default'?this.defaultRotationForPosition[this.getTabPosition()]:a;return this.standardizedRotationByValue[a]},syncRotationAndPosition:function(){var a=this,b=a.getActualRotation(),e=a._rotationCls,h=a._rotationCls=a.rotationClass[b],c=a._iconAlignCls||'x-icon-align-'+a.getIconAlign(),f=a._iconAlignCls=a.iconAlignForRotation[a.getIconAlign()][b],d=a._positionCls,g=a._positionCls=a.positionClass[a.getTabPosition()];a.replaceCls(e,h);a.replaceCls(c,f);a.replaceCls(d,g)},pressedDelay:!0,classCls:'x-tab',activeCls:'x-active',closableCls:'x-closable',getTemplate:function(){var a=Ext.Button.prototype.getTemplate.call(this);a.push({reference:'activeIndicatorElement',cls:'x-active-indicator-el'},{reference:'closeIconElement',cls:'x-close-icon-el x-font-icon x-no-ripple',listeners:{click:'onClick'}});return a},shouldRipple:function(){return this.getRipple()},onClick:function(b){var a=this,c=a.tabBar;if(b.currentTarget===a.closeIconElement.dom){if(c&&!a.getDisabled()){c.closeTab(a)}b.stopPropagation()}else {return Ext.Button.prototype.onClick.call(this,b)}},updateTitle:function(a){this.setText(a)},updateActive:function(e,c){var a=this,d=a.el,b=a.activeCls;if(e&&!c){d.addCls(b);a.fireEvent('activate',a)}else if(c){d.removeCls(b);a.fireEvent('deactivate',a)}},updateClosable:function(a){this.toggleCls(this.closableCls,!!a)},onAdded:function(a,b){Ext.Button.prototype.onAdded.call(this,a,b);this.tabBar=a.isTabBar?a:null},onRemoved:function(a){Ext.Button.prototype.onRemoved.call(this,a);this.tabBar=null}},0,['tab'],['widget','component','button','tab'],{'widget':!0,'component':!0,'button':!0,'tab':!0},['widget.tab'],0,[Ext.tab,'Tab',Ext,'Tab'],function(){this.override({activate:function(){this.setActive(!0)},deactivate:function(){this.setActive(!1)}})});Ext.define('Ext.theme.material.tab.Tab',{override:'Ext.tab.Tab',config:{iconAlign:'top',flex:1},platformConfig:{desktop:{maxWidth:200}}});Ext.cmd.derive('Ext.tab.Bar',Ext.Toolbar,{alternateClassName:'Ext.TabBar',isTabBar:!0,config:{defaultTabUI:null,animateIndicator:!1,tabRotation:'default'},defaultType:'tab',layout:{type:'hbox',align:'stretch'},eventedConfig:{activeTab:null},baseCls:'x-tabbar',indicatorAnimationSpeed:150,initialize:function(){var a=this;Ext.Toolbar.prototype.initialize.call(this);a.on({tap:'onTabTap',delegate:'> tab',scope:a})},getTemplate:function(){var a=Ext.Toolbar.prototype.getTemplate.call(this);a.push({reference:'stripElement',cls:'x-strip-el'});return a},onTabTap:function(a){this.setActiveTab(a)},applyActiveTab:function(a,c){var b=this.parseActiveTab(a);if(!a&&a!==0){return}if(!b){return}return b},updateTabRotation:function(c){var b=this.getTabs(),a;for(a=0;a<b.length;a++){b[a].setRotation(c)}},updateDocked:function(b){var h=this,a=h.getLayout(),g=h.getInitialConfig(),c,d,e,f;if(!g.layout||!g.layout.pack){e=b==='bottom'?'center':'left';if(a.isLayout){a.setPack(e)}else {a.pack=a&&a.pack?a.pack:e}}d=b==='right'||b==='left';if(a.getVertical()!==d){a.setVertical(d)}f=this.getTabs();for(c=0;c<f.length;c++){f[c].setTabPosition(b)}Ext.Toolbar.prototype.updateDocked.apply(this,arguments)},updateActiveTab:function(b,a){var d=this,c=this.getAnimateIndicator();if(c&&b&&a&&a.parent){d.animateTabIndicator(b,a)}else {if(b){b.setActive(!0)}if(a&&a.parent){a.setActive(!1);this.previousTab=a}}},updateAnimateIndicator:function(){var a=this;if(a.$animateIndicatorElement){a.$animateIndicatorElement.destroy()}if(a.$indicatorAnimationListeners){a.$indicatorAnimationListeners.destroy()}a.$indicatorAnimationListeners=a.$animateIndicatorElement=null},animateTabIndicator:function(h,i){var a=this,m=h.element,n=i.element,l=i.activeIndicatorElement,k=h.activeIndicatorElement,e,d,b,g,f,c,j=this.getDocked();g=j==='left'||j==='right';c=function(c,a){var b={width:a.getWidth(),height:a.getHeight(),x:a.getX(),y:c.getY(),'background-color':a.getStyle('background-color')};if(!g){b.x=c.getX();b.y=a.getY()}return b};e=c(n,l);d=c(m,l);k.hide();h.setActive(!0);i.setActive(!1);f=g?'width':'height';if(e[f]||d[f]){b=a.$animateIndicatorElement;b=a.$animateIndicatorElement=a.element.insertFirst({cls:'x-active-indicator-el'});if(a.$indicatorAnimationListeners){a.$indicatorAnimationListeners.destroy();a.$indicatorAnimationListeners=null}a.$indicatorAnimation=b.animate({duration:a.indicatorAnimationSpeed,from:e,to:d});a.$indicatorAnimationListeners=a.$indicatorAnimation.on({destroyable:!0,animationend:{fn:function(){k.show();b.hide();b.destroy();a.$indicatorAnimationListeners.destroy();a.$indicatorAnimation=a.$indicatorAnimationListeners=null},single:!0}})}},getTabs:function(){return this.query('> tab')},parseActiveTab:function(a){if(typeof a==='number'){return this.getTabs()[a]}else if(typeof a==='string'){a=this.getComponent(a)||Ext.getCmp(a)}return a},onItemAdd:function(a,d){var b=this,c=b.getDefaultTabUI();if(a.isTab){a.setRotation(b.getTabRotation());a.setTabPosition(b.getDocked());if(c&&a.getUi()==null){a.setUi(c)}}Ext.Toolbar.prototype.onItemAdd.call(this,a,d)},privates:{findNextActivatableTab:function(b){var d=this,a=d.previousTab,c;if(b.getActive()&&d.getItems().getCount()>1){if(a&&a!==b&&!a.getDisabled()){c=a}else {c=b.next('tab:not([disabled=true])')||b.prev('tab:not([disabled=true])')}}return c||d.getActiveTab()},closeTab:function(a){var d=this,b=d.findNextActivatableTab(a),c=d.parent;if(c&&c.isTabPanel){if(a.card.fireEvent('beforeclose',a.card)===!1){return}if(b){c.setActiveItem(b.card)}c.remove(a.card)}else {if(b){d.setActiveTab(b)}d.remove(a)}}}},0,['tabbar'],['widget','component','container','toolbar','tabbar'],{'widget':!0,'component':!0,'container':!0,'toolbar':!0,'tabbar':!0},['widget.tabbar'],0,[Ext.tab,'Bar',Ext,'TabBar'],0);Ext.define('Ext.theme.material.tab.Bar',{override:'Ext.tab.Bar',config:{animateIndicator:!0},platformConfig:{desktop:{layout:{pack:'center'}}}});Ext.cmd.derive('Ext.tab.Panel',Ext.Container,{alternateClassName:'Ext.TabPanel',isTabPanel:!0,config:{autoOrientAnimation:null,tabBar:!0,tabBarPosition:'top',tabRotation:'default',layout:{type:'card',animation:{type:'slide'}},cls:'x-tabpanel'},defaults:{allowHeader:!1},initialize:function(){var a=this;Ext.Container.prototype.initialize.call(this);a.on({beforeactivetabchange:'doTabChange',delegate:'> tabbar',scope:a});a.on({disabledchange:'onItemDisabledChange',delegate:'> component',scope:a})},applyScrollable:function(){return !1},updateTabRotation:function(b){var a=this.getTabBar();if(a){a.setTabRotation(b)}},updateUi:function(b,c){var a;Ext.Container.prototype.updateUi.call(this,b,c);a=this.getTabBar();if(this.initialized&&a){a.setUi(b)}},updateActiveItem:function(f,h){var e,g,a,b,d,c;if(!f){return}e=this.getInnerItems();g=e.indexOf(h);a=e.indexOf(f);b=this.getTabBar();d=b.parseActiveTab(g);c=b.parseActiveTab(a);Ext.Container.prototype.updateActiveItem.apply(this,arguments);if(a!==-1){this.forcedChange=!0;b.setActiveTab(a);this.forcedChange=!1;if(d){d.setActive(!1)}if(c){c.setActive(!0)}}},doTabChange:function(d,c){var b=this.getActiveItem(),a;this.setActiveItem(d.indexOf(c));a=this.getActiveItem();return this.forcedChange||b!==a},applyTabBar:function(a){var c,b;if(this.isConfiguring){b=this.initialConfig.activeItem||0}else {c=this.getInnerItems();b=c.indexOf(this._activeItem)}if(a===!0){a={}}if(a){Ext.applyIf(a,{ui:this.getUi(),docked:this.getTabBarPosition(),activeItem:b});return Ext.factory(a,Ext.tab.Bar,this.getTabBar())}return null},updateTabBar:function(b,c){var a=this;if(c&&a.removingTabBar===undefined){a.remove(c,!0)}if(b){a.add(b);a.setTabBarPosition(b.getDocked())}},doAutoOrientAnimation:function(){var a=this.getTabBarPosition(),c=this.getLayout(),b=a==='left'||a==='right'?'top':'left';c.setAnimation({type:'slide',direction:b})},updateAutoOrientAnimation:function(c){var b=this.getLayout(),a=this.getInitialConfig('layout');if(c){this.doAutoOrientAnimation()}else {b.setAnimation(a.animation)}},updateTabBarPosition:function(c){var a=this.getTabBar(),b=this.getAutoOrientAnimation();if(a){a.setDocked(c);if(b){this.doAutoOrientAnimation()}}},onItemAdd:function(a,u){var t=this;if(!a.isInnerItem()){return Ext.Container.prototype.onItemAdd.call(this,a,u)}var e=t.getTabBar(),c=a.getInitialConfig(),b=c.tab||{},p=a.getTitle?a.getTitle():c.title,j=a.getClosable?a.getClosable():c.closable,i=a.getIconAlign?a.getIconAlign():c.iconAlign,m=a.getIconCls?a.getIconCls():c.iconCls,q=a.getIcon?a.getIcon():c.icon,o=a.getHidden?a.getHidden():c.hidden,k=a.getDisabled?a.getDisabled():c.disabled,h=a.getBadgeText?a.getBadgeText():c.badgeText,l=t.getInnerItems(),f=l.indexOf(a),s=e.query('> tab'),n=e.getActiveTab(),g=s.length>=l.length&&s[f],r=a.getConfig('header',!1,!0),d;if(p&&!b.title){b.title=p}if(j&&!b.closable){b.closable=j}if(i&&!b.iconAlign){b.iconAlign=i}if(m&&!b.iconCls){b.iconCls=m}if(q&&!b.icon){b.icon=q}if(o&&!b.hidden){b.hidden=o}if(k&&!b.disabled){b.disabled=k}if(h&&!b.badgeText){b.badgeText=h}d=Ext.factory(b,Ext.tab.Tab,g);if(!g){e.insert(f,d)}a.tab=d;d.card=a;if(r){r.setHidden(!0)}Ext.Container.prototype.onItemAdd.call(this,a,f);if(!n&&n!==0){e.setActiveTab(d)}},onItemDisabledChange:function(a,b){if(a&&a.tab){a.tab.setDisabled(b)}},onItemRemove:function(c,g,d){var a=this,f=a.destroying,e,b;if(!f){b=a.getTabBar();if(c===b){e=a.removingTabBar===undefined}else if(b){b.remove(c.tab,!0)}}Ext.Container.prototype.onItemRemove.call(this,c,g,d);if(e){a.removingTabBar=d;a.setTabBar(null);delete a.removingTabBar}}},0,['tabpanel'],['widget','component','container','tabpanel'],{'widget':!0,'component':!0,'container':!0,'tabpanel':!0},['widget.tabpanel'],0,[Ext.tab,'Panel',Ext,'TabPanel'],0);Ext.cmd.derive('Ext.tip.Manager',Ext.Base,{config:{tooltip:{xtype:'tooltip',align:'',anchorToTarget:!1,anchor:!1,closeAction:'hide',quickShowInterval:0,maxWidth:'80vw'},overflowTip:{align:'l-r?',anchor:!0,showOnTap:!0}},interceptTitles:!1,constructor:function(c){var a=this,b;a.initConfig(c);a._fly=new Ext.dom.Fly();a.tip=b=Ext.create(a.createTooltip());b.allowRealign=!1;b.on({beforeshow:'onBeforeShow',hovertarget:'onHoverTarget',scope:a});a.globalListeners=Ext.on({scope:a,destroyable:!0,dragstart:'dragDisable',dragend:'dragEnable',dragcancel:'dragEnable'});if(!a.self.instance){a.self.instance=a}},disable:function(){var a=++this.disabled;if(a===1){this.getTooltip().disable()}},enable:function(){var a=--this.disabled;if(a===0){this.getTooltip().enable()}else if(a<0){this.disabled=0}},destroy:function(){var a=this;if(a.self.instance===a){a.self.instance=null}a._fly.detach();a.globalListeners=a.tip=Ext.destroy(a.tip,a.globalListeners);a.callParent()},createTooltip:function(){var a=this,b=a.getTooltip();return Ext.apply({id:'ext-global-tooltip',delegate:a.delegateQuickTip.bind(a),target:Ext.getBody()},b)},hide:function(){if(this.tip){this.tip.hide()}},privates:{disabled:0,_propertyMap:function(){var c=function(a){return parseInt(a,10)},b=function(a){return !!a},a=Ext.identityFn;return {ui:{prop:'data-qui',parse:a},html:{prop:'data-qtip',parse:a},width:{prop:'data-qwidth',parse:c},minWidth:{prop:'data-qminWidth',parse:a},maxWidth:{prop:'data-qmaxWidth',parse:a},title:{prop:'data-qtitle',parse:a},autoHide:{prop:'data-qautoHide',parse:b},cls:{prop:'data-qcls',parse:a},axisLock:{prop:'data-axislock',parse:a},align:{prop:'data-qalign',parse:a},alignDelegate:{prop:'data-qaligndelegate',parse:a},anchor:{prop:'data-qanchor',parse:a},showDelay:{prop:'data-qshowDelay',parse:c},hideDelay:{prop:'data-qhideDelay',parse:c},dismissDelay:{prop:'data-qdismissDelay',parse:c},trackMouse:{prop:'data-qtrackMouse',parse:b},anchorToTarget:{prop:'data-qanchorToTarget',parse:b},allowOver:{prop:'data-qallowover',parse:b},closable:!0}}(),applyOverflowTip:function(b){var a=Ext.platformTags.phone;return Ext.apply({axisLock:!a,maxWidth:a?'80vw':400},b)},delegateQuickTip:function(b){var a=this.getTipConfig(b,'html');return !!a},dragDisable:function(){if(!this.disabled){this.tip.disable()}},dragEnable:function(){if(!this.disabled){this.tip.enable()}},getTipConfig:function(a,b){var h=this,i=h._propertyMap,f=h._tipDefaults,m=h._fly,k=m.attach(a).getData().qtip,n=h.tip,l=i.html.prop,g,d,e,j,c;if(!f&&b!=='html'){h._tipDefaults=f={};for(g in i){f[g]=n.getConfig(g)}}if(k){if(b){e=k[b]}else {e=Ext.apply({},f);Ext.apply(e,k)}}else {if(a.hasAttribute(l)){d=a.getAttribute(l);if(!d){d=h.interceptTitles&&a.title;if(d){a.setAttribute(l,d);a.removeAttribute('title')}}}else if(a.hasAttribute('data-qoverflow')){d=m.dom.innerHTML;if(b!=='html'){f=Ext.apply({},h.getOverflowTip(),f)}if(!b){if(!h.hasTextOverflow(a)){return !1}}}if(d){if(b==='html'){e=d}else if(b){c=i[b];if(c.prop){if(a.hasAttribute(c.prop)){e=c.parse(a.getAttribute(c.prop))}}}else {e=k={html:d};for(g in i){if(g!=='html'){c=i[g];j=null;if(c.prop){if(a.hasAttribute(c.prop)){j=c.parse(a.getAttribute(c.prop))}}if(j===null){j=f[g]}k[g]=j}}}}}m.detach();if(b&&e==null&&b!=='html'){e=f[b]}return e},onBeforeShow:function(c){var e=this,d=c.currentTarget.dom,a,b;if(d){a=e.getTipConfig(d);if(a===!1){return !1}if(!a){return}a.anchorToTarget=!!(a.align||a.anchor);c.setConfig(a);b=c.getHeader();if(b){b.setHidden(!a.title&&!a.closable)}}},priorityConfigs:['showDelay','anchor','anchorToTarget','align','trackMouse'],onHoverTarget:function(d,c){var b=c.dom,a;if(b){a={};this.priorityConfigs.forEach(function(e){a[e]=this.getTipConfig(b,e)},this);a.anchorToTarget=!!(a.align||a.anchor);d.setConfig(a)}},hasTextOverflow:function(a){var b;if(Ext.fly(a).isStyle('text-overflow','ellipsis')){b=Ext.util.TextMetrics.measure(a,a.innerHTML);return b.width>Ext.fly(a).getViewRegion().width}}}},1,0,0,0,0,0,[Ext.tip,'Manager'],0);Ext.cmd.derive('Ext.util.Geolocation',Ext.Evented,{alternateClassName:['Ext.util.GeoLocation'],config:{autoUpdate:!0,frequency:10000,latitude:null,longitude:null,accuracy:null,altitude:null,altitudeAccuracy:null,heading:null,speed:null,timestamp:null,allowHighAccuracy:!1,timeout:Infinity,maximumAge:0,provider:undefined},updateMaximumAge:function(){if(this.watchOperation){this.updateWatchOperation()}},updateTimeout:function(){if(this.watchOperation){this.updateWatchOperation()}},updateAllowHighAccuracy:function(){if(this.watchOperation){this.updateWatchOperation()}},applyProvider:function(a){if(Ext.feature.has.Geolocation){if(!a){if(navigator&&navigator.geolocation){a=navigator.geolocation}else if(window.google){a=google.gears.factory.create('beta.geolocation')}}}else {this.fireEvent('locationerror',this,!1,!1,!0,'This device does not support Geolocation.')}return a},updateAutoUpdate:function(c,d){var a=this,b=a.getProvider();if(d&&b){Ext.uninterval(a.watchOperationId);a.watchOperationId=null}if(c){if(!b){a.fireEvent('locationerror',a,!1,!1,!0,null);return}try{a.updateWatchOperation()}catch(e){a.fireEvent('locationerror',a,!1,!1,!0,e.message)}}},updateWatchOperation:function(){var a=this,b=a.getProvider();if(a.watchOperationId){Ext.uninterval(a.watchOperationId)}function pollPosition(){b.getCurrentPosition(Ext.bind(a.fireUpdate,a),Ext.bind(a.fireError,a),a.parseOptions())}pollPosition();a.watchOperationId=Ext.interval(pollPosition,this.getFrequency())},updateLocation:function(b,e,f){var a=this,d=a.getProvider(),c=function(d,c){if(c){a.fireError(c)}else {a.fireEvent('locationerror',a,!1,!1,!0,d)}if(b){b.call(e||a,null,a)}};if(!d){c(null);return}try{d.getCurrentPosition(function(c){a.fireUpdate(c);if(b){b.call(e||a,a,a)}},function(a){c(null,a)},f||a.parseOptions())}catch(g){c(g.message)}},fireUpdate:function(b){var c=this,a=b.coords;this.position=b;c.setConfig({timestamp:b.timestamp,latitude:a.latitude,longitude:a.longitude,accuracy:a.accuracy,altitude:a.altitude,altitudeAccuracy:a.altitudeAccuracy,heading:a.heading,speed:a.speed});c.fireEvent('locationupdate',c)},fireError:function(a){var b=a.code;this.fireEvent('locationerror',this,b===a.TIMEOUT,b===a.PERMISSION_DENIED,b===a.POSITION_UNAVAILABLE,a.message===undefined?null:a.message)},parseOptions:function(){var a=this.getTimeout(),b={maximumAge:this.getMaximumAge(),enableHighAccuracy:this.getAllowHighAccuracy()};if(a!==Infinity){b.timeout=a}return b},destroy:function(){this.setAutoUpdate(!1);Ext.Evented.prototype.destroy.call(this)}},0,0,0,0,0,0,[Ext.util,'Geolocation',Ext.util,'GeoLocation'],0);Ext.namespace('Ext.theme.is').Neptune=!0;Ext.theme.name='Neptune';Ext.theme.getDocCls=function(){return Ext.platformTags.desktop?'':'x-big'};Ext.cmd.derive('Ext.theme.Material',Ext.Base,{singleton:!0,_autoUpdateMeta:!0,_defaultWeight:'500',_colors:{'red':{50:'#ffebee',100:'#ffcdd2',200:'#ef9a9a',300:'#e57373',400:'#ef5350',500:'#f44336',600:'#e53935',700:'#d32f2f',800:'#c62828',900:'#b71c1c','a100':'#ff8a80','a200':'#ff5252','a400':'#ff1744','a700':'#d50000'},'pink':{50:'#fce4ec',100:'#f8bbd0',200:'#f48fb1',300:'#f06292',400:'#ec407a',500:'#e91e63',600:'#d81b60',700:'#c2185b',800:'#ad1457',900:'#880e4f','a100':'#ff80ab','a200':'#ff4081','a400':'#f50057','a700':'#c51162'},'purple':{50:'#f3e5f5',100:'#e1bee7',200:'#ce93d8',300:'#ba68c8',400:'#ab47bc',500:'#9c27b0',600:'#8e24aa',700:'#7b1fa2',800:'#6a1b9a',900:'#4a148c','a100':'#ea80fc','a200':'#e040fb','a400':'#d500f9','a700':'#aa00ff'},'deep-purple':{50:'#ede7f6',100:'#d1c4e9',200:'#b39ddb',300:'#9575cd',400:'#7e57c2',500:'#673ab7',600:'#5e35b1',700:'#512da8',800:'#4527a0',900:'#311b92','a100':'#b388ff','a200':'#7c4dff','a400':'#651fff','a700':'#6200ea'},'indigo':{50:'#e8eaf6',100:'#c5cae9',200:'#9fa8da',300:'#7986cb',400:'#5c6bc0',500:'#3f51b5',600:'#3949ab',700:'#303f9f',800:'#283593',900:'#1a237e','a100':'#8c9eff','a200':'#536dfe','a400':'#3d5afe','a700':'#304ffe'},'blue':{50:'#e3f2fd',100:'#bbdefb',200:'#90caf9',300:'#64b5f6',400:'#42a5f5',500:'#2196f3',600:'#1e88e5',700:'#1976d2',800:'#1565c0',900:'#0d47a1','a100':'#82b1ff','a200':'#448aff','a400':'#2979ff','a700':'#2962ff'},'light-blue':{50:'#e1f5fe',100:'#b3e5fc',200:'#81d4fa',300:'#4fc3f7',400:'#29b6f6',500:'#03a9f4',600:'#039be5',700:'#0288d1',800:'#0277bd',900:'#01579b','a100':'#80d8ff','a200':'#40c4ff','a400':'#00b0ff','a700':'#0091ea'},'cyan':{50:'#e0f7fa',100:'#b2ebf2',200:'#80deea',300:'#4dd0e1',400:'#26c6da',500:'#00bcd4',600:'#00acc1',700:'#0097a7',800:'#00838f',900:'#006064','a100':'#84ffff','a200':'#18ffff','a400':'#00e5ff','a700':'#00b8d4'},'teal':{50:'#e0f2f1',100:'#b2dfdb',200:'#80cbc4',300:'#4db6ac',400:'#26a69a',500:'#009688',600:'#00897b',700:'#00796b',800:'#00695c',900:'#004d40','a100':'#a7ffeb','a200':'#64ffda','a400':'#1de9b6','a700':'#00bfa5'},'green':{50:'#e8f5e9',100:'#c8e6c9',200:'#a5d6a7',300:'#81c784',400:'#66bb6a',500:'#4caf50',600:'#43a047',700:'#388e3c',800:'#2e7d32',900:'#1b5e20','a100':'#b9f6ca','a200':'#69f0ae','a400':'#00e676','a700':'#00c853'},'light-green':{50:'#f1f8e9',100:'#dcedc8',200:'#c5e1a5',300:'#aed581',400:'#9ccc65',500:'#8bc34a',600:'#7cb342',700:'#689f38',800:'#558b2f',900:'#33691e','a100':'#ccff90','a200':'#b2ff59','a400':'#76ff03','a700':'#64dd17'},'lime':{50:'#f9fbe7',100:'#f0f4c3',200:'#e6ee9c',300:'#dce775',400:'#d4e157',500:'#cddc39',600:'#c0ca33',700:'#afb42b',800:'#9e9d24',900:'#827717','a100':'#f4ff81','a200':'#eeff41','a400':'#c6ff00','a700':'#aeea00'},'yellow':{50:'#fffde7',100:'#fff9c4',200:'#fff59d',300:'#fff176',400:'#ffee58',500:'#ffeb3b',600:'#fdd835',700:'#fbc02d',800:'#f9a825',900:'#f57f17','a100':'#ffff8d','a200':'#ffff00','a400':'#ffea00','a700':'#ffd600'},'amber':{50:'#fff8e1',100:'#ffecb3',200:'#ffe082',300:'#ffd54f',400:'#ffca28',500:'#ffc107',600:'#ffb300',700:'#ffa000',800:'#ff8f00',900:'#ff6f00','a100':'#ffe57f','a200':'#ffd740','a400':'#ffc400','a700':'#ffab00'},'orange':{50:'#fff3e0',100:'#ffe0b2',200:'#ffcc80',300:'#ffb74d',400:'#ffa726',500:'#ff9800',600:'#fb8c00',700:'#f57c00',800:'#ef6c00',900:'#e65100','a100':'#ffd180','a200':'#ffab40','a400':'#ff9100','a700':'#ff6d00'},'deep-orange':{50:'#fbe9e7',100:'#ffccbc',200:'#ffab91',300:'#ff8a65',400:'#ff7043',500:'#ff5722',600:'#f4511e',700:'#e64a19',800:'#d84315',900:'#bf360c','a100':'#ff9e80','a200':'#ff6e40','a400':'#ff3d00','a700':'#dd2c00'},'brown':{50:'#efebe9',100:'#d7ccc8',200:'#bcaaa4',300:'#a1887f',400:'#8d6e63',500:'#795548',600:'#6d4c41',700:'#5d4037',800:'#4e342e',900:'#3e2723'},'grey':{50:'#fafafa',100:'#f5f5f5',200:'#eeeeee',300:'#e0e0e0',400:'#bdbdbd',500:'#9e9e9e',600:'#757575',700:'#616161',800:'#424242',900:'#212121'},'blue-grey':{50:'#eceff1',100:'#cfd8dc',200:'#b0bec5',300:'#90a4ae',400:'#78909c',500:'#607d8b',600:'#546e7a',700:'#455a64',800:'#37474f',900:'#263238',1000:'#11171a'}},hasFashion:function(){return !!window.Fashion&&!!Fashion.css&&Fashion.css.setVariables},setAutoUpdateMeta:function(a){this._autoUpdateMeta=a},getAutoUpdateMeta:function(){return this._autoUpdateMeta},getDefaultWeight:function(){return this._defaultWeight},setDarkMode:function(a){if(!this.hasFashion()){return}Fashion.css.setVariables({'dark-mode':a?'true':'false'})},setColors:function(a){var b={},d,c;if(!this.hasFashion()){return}a=Ext.merge({baseWeight:this.getDefaultWeight(),accentWeight:this.getDefaultWeight()},a);d=this._colors[a.base];c=this._colors[a.accent];if(d){if(d[a.baseWeight]){b['base-color-name']=a.base;if(this.getAutoUpdateMeta()){this.updateMetaThemeColor(a.base,a.baseWeight)}}else {Ext.Logger.warn('Base color weight: '+a.baseWeight+' is not a valid weight',this)}}else if(a.base){Ext.Logger.warn('Base color: '+a.base+' is not a valid material color',this)}if(c){if(c[a.accentWeight]){b['accent-color-name']=a.accent}else {Ext.Logger.warn('Accent color weight: '+a.accentWeight+' is not a valid weight',this)}}else if(a.accent){Ext.Logger.warn('Accent color: '+a.accent+' is not a valid material color',this)}if(a.darkMode!==null){b['dark-mode']=a.darkMode?'true':'false'}Fashion.css.setVariables(b)},updateMetaThemeColor:function(e,b){var a=this._colors[e],d=Ext.manifest.material.toolbar.dynamic,c;if(!b){b=this.getDefaultWeight()}if(Ext.platformTags.android&&Ext.platformTags.chrome&&d&&a){a=a[b];c=Ext.query('meta[name="theme-color"]')[0];if(c){c.setAttribute('content',a)}}},getColors:function(){return this._colors}},0,0,0,0,0,0,[Ext.theme,'Material'],0);var color,toolbarIsDynamic,head,meta;if(Ext.platformTags.android&&Ext.platformTags.chrome&&Ext.manifest.material&&Ext.manifest.material.toolbar){color=Ext.manifest.material.toolbar.color;toolbarIsDynamic=Ext.manifest.material.toolbar.dynamic;head=document.head;if(toolbarIsDynamic&&Ext.supports.CSSVariables){color=getComputedStyle(document.body).getPropertyValue('--primary-color-md');color=color.replace(/ /g,'').replace(/^#(?:\\3)?/,'#')}if(color){meta=document.createElement('meta');meta.setAttribute('name','theme-color');meta.setAttribute('content',color);head.appendChild(meta)}}Ext.namespace('Ext.theme.is').Material=!0;Ext.theme.name='Material';Ext.namespace('Ext.theme.is')['coworkee']=!0;Ext.theme.name='coworkee';Ext.define(null,{override:'Ext.ux.gauge.needle.Abstract',compatibility:Ext.isIE10p,setTransform:function(c,d,b){var a=this.getNeedleGroup();this.callParent([c,d,b]);a.set({transform:getComputedStyle(a.dom).getPropertyValue('transform')})},updateStyle:function(b){var a;this.callParent([b]);if(Ext.isObject(b)&&'transform' in b){a=this.getNeedlePath();a.set({transform:getComputedStyle(a.dom).getPropertyValue('transform')})}}});Ext.cmd.derive('Ext.ux.ajax.Simlet',Ext.Base,function(){var d=/([^?#]*)(#.*)?$/,b=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2}(?:\.\d*)?)Z$/,c=/^[+-]?\d+$/,a=/^[+-]?\d+\.\d+$/;function parseParamValue(d){var e;if(Ext.isDefined(d)){d=decodeURIComponent(d);if(c.test(d)){d=parseInt(d,10)}else if(a.test(d)){d=parseFloat(d)}else if(!!(e=b.exec(d))){d=new Date(Date.UTC(+e[1],+e[2]-1,+e[3],+e[4],+e[5],+e[6]))}}return d}return {isSimlet:!0,responseProps:['responseText','responseXML','status','statusText','responseHeaders'],status:200,statusText:'OK',constructor:function(a){Ext.apply(this,a)},doGet:function(a){return this.handleRequest(a)},doPost:function(a){return this.handleRequest(a)},doRedirect:function(a){return !1},doDelete:function(a){var d=this,c=a.xhr,b=c.options.records;d.removeFromData(a,b)},exec:function(a){var c=this,b={},e='do'+Ext.String.capitalize(a.method.toLowerCase()),d=c[e];if(d){b=d.call(c,c.getCtx(a.method,a.url,a))}else {b={status:405,statusText:'Method Not Allowed'}}return b},getCtx:function(b,a,c){return {method:b,params:this.parseQueryString(a),url:a,xhr:c}},handleRequest:function(d){var b=this,c={},a;Ext.Array.forEach(b.responseProps,function(e){if(e in b){a=b[e];if(Ext.isFunction(a)){a=a.call(b,d)}c[e]=a}});return c},openRequest:function(b,e,d,f){var g=this.getCtx(b,e),c=this.doRedirect(g),a;if(d.action==='destroy'){b='delete'}if(c){a=c}else {a=new Ext.ux.ajax.SimXhr({mgr:this.manager,simlet:this,options:d});a.open(b,e,f)}return a},parseQueryString:function(j){var h=d.exec(j),b={},a,e,c,g,f,i;if(h&&h[1]){g=h[1].split('&');for(f=0,i=g.length;f<i;++f){if((c=g[f].split('='))[0]){a=decodeURIComponent(c.shift());e=parseParamValue(c.length>1?c.join('='):c[0]);if(!(a in b)){b[a]=e}else if(Ext.isArray(b[a])){b[a].push(e)}else {b[a]=[b[a],e]}}}}return b},redirect:function(b,a,c){switch(arguments.length){case 2:if(typeof a==='string'){break};c=a;case 1:a=b;b='GET';break;}if(c){a=Ext.urlAppend(a,Ext.Object.toQueryString(c))}return this.manager.openRequest(b,a)},removeFromData:function(b,f){var e=this,d=e.getData(b),g=b.xhr.options.proxy&&b.xhr.options.proxy.getModel()||{},c=g.idProperty||'id',a;Ext.each(f,function(g){var h=g.get(c);for(a=d.length;a-->0;){if(d[a][c]===h){e.deleteRecord(a);break}}})}}}(),1,0,0,0,['simlet.basic'],0,[Ext.ux.ajax,'Simlet'],0);Ext.cmd.derive('Ext.ux.ajax.DataSimlet',Ext.ux.ajax.Simlet,function(){function makeSortFn(a,c){var b=a.direction,d=b&&b.toUpperCase()==='DESC'?-1:1;return function(e,b){var f=e[a.property],g=b[a.property],h=f<g?-1:g<f?1:0;if(h||!c){return h*d}return c(e,b)}}function makeSortFns(b,d){var a,c;for(a=d,c=b&&b.length;c;){a=makeSortFn(b[--c],a)}return a}return {buildNodes:function(g,e){var h=this,f={data:[]},i=g.length,c,b,a,d;h.nodes[e]=f;for(b=0;b<i;++b){f.data.push(a=g[b]);d=a.text||a.title;a.id=e?e+'/'+d:d;c=a.children;if(!(a.leaf=!c)){delete a.children;h.buildNodes(c,a.id)}}},deleteRecord:function(a){if(this.data&&typeof this.data!=='function'){Ext.Array.removeAt(this.data,a)}},fixTree:function(e,d){var a=this,b=e.params.node,c;if(!(c=a.nodes)){a.nodes=c={};a.buildNodes(d,'')}b=c[b];if(b){if(a.node){a.node.sortedData=a.sortedData;a.node.currentOrder=a.currentOrder}a.node=b;a.data=b.data;a.sortedData=b.sortedData;a.currentOrder=b.currentOrder}else {a.data=null}},getData:function(c){var d=this,b=c.params,h=(b.filter||'')+(b.group||'')+'-'+(b.sort||'')+'-'+(b.dir||''),j=d.tree,i,a,e,f,g;if(j){d.fixTree(c,j)}a=d.data;if(typeof a==='function'){i=!0;a=a.call(this,c)}if(!a||h==='--'){return a||[]}if(!i&&h===d.currentOrder){return d.sortedData}c.filterSpec=b.filter&&Ext.decode(b.filter);c.groupSpec=b.group&&Ext.decode(b.group);e=b.sort;if(b.dir){e=[{direction:b.dir,property:e}]}else if(b.sort){e=Ext.decode(b.sort)}else {e=null}if(c.filterSpec){g=new Ext.util.FilterCollection();g.add(this.processFilters(c.filterSpec));a=Ext.Array.filter(a,g.getFilterFn())}f=makeSortFns(c.sortSpec=e);if(c.groupSpec){f=makeSortFns([c.groupSpec],f)}a=Ext.isArray(a)?a.slice(0):a;if(f){Ext.Array.sort(a,f)}d.sortedData=a;d.currentOrder=h;return a},processFilters:Ext.identityFn,getPage:function(c,e){var d=e,a=e.length,b=c.params.start||0,f=c.params.limit?Math.min(a,b+c.params.limit):a;if(b||f<a){d=d.slice(b,f)}return d},getGroupSummary:function(b,a,c){return a[0]},getSummary:function(g,h,i){var j=this,c=g.groupSpec.property,b,f={},d=[],a,e;Ext.each(i,function(b){a=b[c];f[a]=!0});function flush(){if(b){d.push(j.getGroupSummary(c,b,g));b=null}}Ext.each(h,function(j){a=j[c];if(e!==a){flush();e=a}if(!f[a]){return !d.length}if(b){b.push(j)}else {b=[j]}return !0});flush();return d}}}(),0,0,0,0,0,0,[Ext.ux.ajax,'DataSimlet'],0);Ext.cmd.derive('Ext.ux.ajax.JsonSimlet',Ext.ux.ajax.DataSimlet,{doGet:function(a){var f=this,e=f.getData(a),c=f.getPage(a,e),d=a.xhr.options.proxy&&a.xhr.options.proxy.getReader(),g=d&&d.getRootProperty(),h=Ext.ux.ajax.DataSimlet.prototype.doGet.apply(this,arguments),b={};if(g&&Ext.isArray(c)){b[g]=c;b[d.getTotalProperty()]=e.length}else {b=c}if(a.groupSpec){b.summaryData=f.getSummary(a,e,c)}h.responseText=Ext.encode(b);return h},doPost:function(a){return this.doGet(a)}},0,0,0,0,['simlet.json'],0,[Ext.ux.ajax,'JsonSimlet'],0);Ext.cmd.derive('Ext.ux.ajax.SimXhr',Ext.Base,{readyState:0,mgr:null,simlet:null,constructor:function(b){var a=this;Ext.apply(a,b);a.requestHeaders={}},abort:function(){var a=this;if(a.timer){Ext.undefer(a.timer);a.timer=null}a.aborted=!0},getAllResponseHeaders:function(){var a=[];if(Ext.isObject(this.responseHeaders)){Ext.Object.each(this.responseHeaders,function(c,b){a.push(c+': '+b)})}return a.join('\r\n')},getResponseHeader:function(b){var a=this.responseHeaders;return a&&a[b]||null},open:function(c,f,d,e,b){var a=this;a.method=c;a.url=f;a.async=d!==!1;a.user=e;a.password=b;a.setReadyState(1)},overrideMimeType:function(a){this.mimeType=a},schedule:function(){var a=this,b=a.simlet.delay||a.mgr.delay;if(b){a.timer=Ext.defer(function(){a.onTick()},b)}else {a.onTick()}},send:function(b){var a=this;a.body=b;if(a.async){a.schedule()}else {a.onComplete()}},setReadyState:function(b){var a=this;if(a.readyState!==b){a.readyState=b;a.onreadystatechange()}},setRequestHeader:function(a,b){this.requestHeaders[a]=b},onreadystatechange:Ext.emptyFn,onComplete:function(){var me=this,callback,text;me.readyState=4;Ext.apply(me,me.simlet.exec(me));callback=me.jsonpCallback;if(callback){text=callback+'('+me.responseText+')';eval(text)}},onTick:function(){var a=this;a.timer=null;a.onComplete();if(a.onreadystatechange){a.onreadystatechange()}}},1,0,0,0,0,0,[Ext.ux.ajax,'SimXhr'],0);Ext.cmd.derive('Ext.ux.ajax.SimManager',Ext.Base,{singleton:!0,defaultType:'basic',delay:150,ready:!1,constructor:function(){this.simlets=[]},getSimlet:function(a){var h=this,c=a.indexOf('?'),g=h.simlets,i=g.length,d,e,b,f;if(c<0){c=a.indexOf('#')}if(c>0){a=a.substring(0,c)}for(d=0;d<i;++d){e=g[d];b=e.url;if(b instanceof RegExp){f=b.test(a)}else {f=b===a}if(f){return e}}return h.defaultSimlet},getXhr:function(d,b,c,e){var a=this.getSimlet(b);if(a){return a.openRequest(d,b,c,e)}return null},init:function(b){var a=this;Ext.apply(a,b);if(!a.ready){a.ready=!0;if(!('defaultSimlet' in a)){a.defaultSimlet=new Ext.ux.ajax.Simlet({status:404,statusText:'Not Found'})}a._openRequest=Ext.data.Connection.prototype.openRequest;Ext.data.request.Ajax.override({openRequest:function(e,d,f){var c=!e.nosim&&a.getXhr(d.method,d.url,e,f);if(!c){c=this.callParent(arguments)}return c}});if(Ext.data.JsonP){Ext.data.JsonP.self.override({createScript:function(g,f,d){var e=Ext.urlAppend(g,Ext.Object.toQueryString(f)),c=!d.nosim&&a.getXhr('GET',e,d,!0);if(!c){c=this.callParent(arguments)}return c},loadScript:function(a){var c=a.script;if(c.simlet){c.jsonpCallback=a.params[a.callbackKey];c.send(null);a.script=document.createElement('script')}else {this.callParent(arguments)}}})}}return a},openRequest:function(a,d,b){var c={method:a,url:d};return this._openRequest.call(Ext.data.Connection.prototype,{},c,b)},register:function(a){var b=this;b.init();function reg(d){var c=d;if(!c.isSimlet){c=Ext.create('simlet.'+(c.type||c.stype||b.defaultType),d)}b.simlets.push(c);c.manager=b}if(Ext.isArray(a)){Ext.each(a,reg)}else if(a.isSimlet||a.url){reg(a)}else {Ext.Object.each(a,function(c,b){b.url=c;reg(b)})}return b}},1,0,0,0,0,0,[Ext.ux.ajax,'SimManager'],0);Ext.cmd.derive('Ext.draw.ContainerBase',Ext.Container,{constructor:function(a){Ext.Container.prototype.constructor.call(this,a);this.initAnimator()},onResize:function(b,a,d,c){this.handleResize({width:b,height:a},!0)},addElementListener:function(){var a=this.element;a.on.apply(a,arguments)},removeElementListener:function(){var a=this.element;a.un.apply(a,arguments)},preview:function(a){var b;a=a||this.getImage();if(a.type==='svg-markup'){b={xtype:'container',html:a.data}}else {b={xtype:'image',mode:'img',imageCls:'',cls:'x-chart-preview',src:a.data}}Ext.Viewport.add({xtype:'panel',layout:'fit',modal:!0,border:1,shadow:!0,width:'90%',height:'90%',hideOnMaskTap:!0,centered:!0,floated:!0,scrollable:!1,closable:!0,closeAction:'hide',items:[b],listeners:{hide:function(){this.destroy()}}}).show()}},1,0,['widget','component','container'],{'widget':!0,'component':!0,'container':!0},0,0,[Ext.draw,'ContainerBase'],0);Ext.cmd.derive('Ext.draw.SurfaceBase',Ext.Widget,{getOwnerBody:function(){return this.getRefOwner().bodyElement}},0,0,['widget'],{'widget':!0},0,0,[Ext.draw,'SurfaceBase'],0);Ext.cmd.derive('Ext.draw.sprite.AnimationParser',Ext.Base,function(){function compute(a,c,b){return a+(c-a)*b}return {singleton:!0,attributeRe:/^url\(#([a-zA-Z-]+)\)$/,color:{parseInitial:function(a,b){if(Ext.isString(a)){a=Ext.util.Color.create(a)}if(Ext.isString(b)){b=Ext.util.Color.create(b)}if(a&&a.isColor&&(b&&b.isColor)){return [[a.r,a.g,a.b,a.a],[b.r,b.g,b.b,b.a]]}else {return [a||b,b||a]}},compute:function(a,b,c){if(!Ext.isArray(a)||!Ext.isArray(b)){return b||a}else {return [compute(a[0],b[0],c),compute(a[1],b[1],c),compute(a[2],b[2],c),compute(a[3],b[3],c)]}},serve:function(a){var b=Ext.util.Color.fly(a[0],a[1],a[2],a[3]);return b.toString()}},number:{parse:function(a){return a===null?null:+a},compute:function(a,b,c){if(!Ext.isNumber(a)||!Ext.isNumber(b)){return b||a}else {return compute(a,b,c)}}},angle:{parseInitial:function(b,a){if(a-b>Math.PI){a-=Math.PI*2}else if(a-b<-Math.PI){a+=Math.PI*2}return [b,a]},compute:function(a,b,c){if(!Ext.isNumber(a)||!Ext.isNumber(b)){return b||a}else {return compute(a,b,c)}}},path:{parseInitial:function(m,l){var e=m.toStripes(),c=l.toStripes(),a,i,f=e.length,g=c.length,j,h,k,d=c[g-1],b=[d[d.length-2],d[d.length-1]];for(a=f;a<g;a++){e.push(e[f-1].slice(0))}for(a=g;a<f;a++){c.push(b.slice(0))}k=e.length;c.path=l;c.temp=new Ext.draw.Path();for(a=0;a<k;a++){j=e[a];h=c[a];f=j.length;g=h.length;c.temp.commands.push('M');for(i=g;i<f;i+=6){h.push(b[0],b[1],b[0],b[1],b[0],b[1])}d=c[c.length-1];b=[d[d.length-2],d[d.length-1]];for(i=f;i<g;i+=6){j.push(b[0],b[1],b[0],b[1],b[0],b[1])}for(a=0;a<h.length;a++){h[a]-=j[a]}for(a=2;a<h.length;a+=6){c.temp.commands.push('C')}}return [e,c]},compute:function(e,b,f){if(f>=1){return b.path}var c=0,k=e.length,a=0,g,d,h,i=b.temp.params,j=0;for(;c<k;c++){d=e[c];h=b[c];g=d.length;for(a=0;a<g;a++){i[j++]=h[a]*f+d[a]}}return b.temp}},data:{compute:function(e,i,j,a){var f=e.length-1,g=i.length-1,h=Math.max(f,g),b,d,c;if(!a||a===e){a=[]}a.length=h+1;for(b=0;b<=h;b++){d=e[Math.min(b,f)];c=i[Math.min(b,g)];if(Ext.isNumber(d)){if(!Ext.isNumber(c)){c=0}a[b]=d+(c-d)*j}else {a[b]=c}}return a}},text:{compute:function(b,c,a){return b.substr(0,Math.round(b.length*(1-a)))+c.substr(Math.round(c.length*(1-a)))}},limited:'number',limited01:'number'}},0,0,0,0,0,0,[Ext.draw.sprite,'AnimationParser'],0);(function(){if(!Ext.global.Float32Array){var a=function(a){var b,c;if(typeof a==='number'){this.length=a}else if('length' in a){this.length=a.length;for(b=0,c=a.length;b<c;b++){this[b]=+a[b]}}};a.prototype=[];Ext.global.Float32Array=a}})();Ext.cmd.derive('Ext.draw.Draw',Ext.Base,{singleton:!0,radian:Math.PI/180,pi2:Math.PI*2,reflectFn:function(a){return a},rad:function(a){return a%360*this.radian},degrees:function(a){return a/this.radian%360},isBBoxIntersect:function(a,b,c){c=c||0;return Math.max(a.x,b.x)-c>Math.min(a.x+a.width,b.x+b.width)||Math.max(a.y,b.y)-c>Math.min(a.y+a.height,b.y+b.height)},isPointInBBox:function(b,c,a){return !!a&&b>=a.x&&b<=a.x+a.width&&c>=a.y&&c<=a.y+a.height},naturalSpline:function(c){var a,e,i=c.length,g,j,k,d,h=0,b=new Float32Array(c.length),f=new Float32Array(c.length*3-2);b[0]=0;b[i-1]=0;for(a=1;a<i-1;a++){b[a]=c[a+1]+c[a-1]-2*c[a]-b[a-1];h=1/(4-h);b[a]*=h}for(a=i-2;a>0;a--){h=3.732050807568877+48.248711305964385/(-13.928203230275537+Math.pow(0.07179676972449123,a));b[a]-=b[a+1]*h}d=c[0];g=d-b[0];for(a=0,e=0;a<i-1;e+=3){k=d;j=g;a++;d=c[a];g=d-b[a];f[e]=k;f[e+1]=(g+2*j)/3;f[e+2]=(g*2+j)/3}f[e]=d;return f},spline:function(a){return this.naturalSpline(a)},cardinalToBezier:function(d,a,b,e,c){return [a,a+(b-d)/6*c,b-(e-a)/6*c,b]},cardinalSpline:function(b,f){var e=b.length,d=new Float32Array(e*3-2),c,a;if(f===undefined){f=0.5}a=this.cardinalToBezier(b[0],b[0],b[1],b[2],f);d[0]=a[0];d[1]=a[1];d[2]=a[2];d[3]=a[3];for(c=0;c<e-3;c++){a=this.cardinalToBezier(b[c],b[c+1],b[c+2],b[c+3],f);d[4+c*3]=a[1];d[4+c*3+1]=a[2];d[4+c*3+2]=a[3]}a=this.cardinalToBezier(b[e-3],b[e-2],b[e-1],b[e-1],f);d[4+c*3]=a[1];d[4+c*3+1]=a[2];d[4+c*3+2]=a[3];return d},getAnchors:function(s,c,f,a,r,b,m){var j=Math.PI,q=j/2,n=Math.abs,v=Math.sin,u=Math.cos,t=Math.atan,o,p,d,e,k,g,l,h,i;m=m||4;o=(f-s)/m;p=(r-f)/m;if(a>=c&&a>=b||a<=c&&a<=b){d=e=q}else {d=t((f-s)/n(a-c));if(c<a){d=j-d}e=t((r-f)/n(a-b));if(b<a){e=j-e}}i=q-(d+e)%(j*2)/2;if(i>q){i-=j}d+=i;e+=i;k=f-o*v(d);g=a+o*u(d);l=f+p*v(e);h=a+p*u(e);if(a>c&&g<c||a<c&&g>c){k+=n(c-g)*(k-f)/(g-a);g=c}if(a>b&&h<b||a<b&&h>b){l-=n(b-h)*(l-f)/(h-a);h=b}return {x1:k,y1:g,x2:l,y2:h}},smooth:function(i,j,p){var o=i.length,m,n,c,d,k,l,e,f,g=[],h=[],a,b;for(a=0;a<o-1;a++){m=i[a];n=j[a];if(a===0){e=m;f=n;g.push(e);h.push(f);if(o===1){break}}c=i[a+1];d=j[a+1];k=i[a+2];l=j[a+2];if(!(Ext.isNumber(k)&&Ext.isNumber(l))){g.push(e,c,c);h.push(f,d,d);break}b=this.getAnchors(m,n,c,d,k,l,p);g.push(e,b.x1,c);h.push(f,b.y1,d);e=b.x2;f=b.y2}return {smoothX:g,smoothY:h}},beginUpdateIOS:Ext.os.is.iOS?function(){this.iosUpdateEl=Ext.getBody().createChild({style:'position: absolute; top: 0px; bottom: 0px; left: 0px; right: 0px; background: rgba(0,0,0,0.001); z-index: 100000'})}:Ext.emptyFn,endUpdateIOS:function(){this.iosUpdateEl=Ext.destroy(this.iosUpdateEl)}},0,0,0,0,0,0,[Ext.draw,'Draw'],0);Ext.cmd.derive('Ext.draw.gradient.Gradient',Ext.Base,{isGradient:!0,config:{stops:[]},applyStops:function(e){var d=[],f=e.length,c,b,a;for(c=0;c<f;c++){b=e[c];a=b.color;if(!(a&&a.isColor)){a=Ext.util.Color.fly(a||Ext.util.Color.NONE)}d.push({offset:Math.min(1,Math.max(0,'offset' in b?b.offset:b.position||0)),color:a.toString()})}d.sort(function(a,b){return a.offset-b.offset});return d},onClassExtended:function(b,a){if(!a.alias&&a.type){a.alias='gradient.'+a.type}},constructor:function(a){this.initConfig(a)},generateGradient:Ext.emptyFn},1,0,0,0,0,0,[Ext.draw.gradient,'Gradient'],0);Ext.cmd.derive('Ext.draw.gradient.GradientDefinition',Ext.Base,{singleton:!0,urlStringRe:/^url\(#([\w-]+)\)$/,gradients:{},add:function(c){var e=this.gradients,b,d,a;for(b=0,d=c.length;b<d;b++){a=c[b];if(Ext.isString(a.id)){e[a.id]=a}}},get:function(b){var d=this.gradients,a=b.match(this.urlStringRe),c;if(a&&a[1]&&(c=d[a[1]])){return c||b}return b}},0,0,0,0,0,0,[Ext.draw.gradient,'GradientDefinition'],0);Ext.cmd.derive('Ext.draw.sprite.AttributeParser',Ext.Base,{singleton:!0,attributeRe:/^url\(#([a-zA-Z-]+)\)$/,'default':Ext.identityFn,string:function(a){return String(a)},number:function(a){if(Ext.isNumber(+a)){return a}},angle:function(a){if(Ext.isNumber(a)){a%=Math.PI*2;if(a<-Math.PI){a+=Math.PI*2}else if(a>=Math.PI){a-=Math.PI*2}return a}},data:function(a){if(Ext.isArray(a)){return a.slice()}else if(a instanceof Float32Array){return new Float32Array(a)}},bool:function(a){return !!a},color:function(a){if(a&&a.isColor){return a.toString()}else if(a&&a.isGradient){return a}else if(!a){return Ext.util.Color.NONE}else if(Ext.isString(a)){if(a.substr(0,3)==='url'){a=Ext.draw.gradient.GradientDefinition.get(a);if(Ext.isString(a)){return a}}else {return Ext.util.Color.fly(a).toString()}}if(a.type==='linear'){return Ext.create('Ext.draw.gradient.Linear',a)}else if(a.type==='radial'){return Ext.create('Ext.draw.gradient.Radial',a)}else if(a.type==='pattern'){return Ext.create('Ext.draw.gradient.Pattern',a)}else {return Ext.util.Color.NONE}},limited:function(a,b){return function(c){c=+c;return Ext.isNumber(c)?Math.min(Math.max(c,a),b):undefined}},limited01:function(a){a=+a;return Ext.isNumber(a)?Math.min(Math.max(a,0),1):undefined},enums:function(){var b={},c=Array.prototype.slice.call(arguments,0),a,d;for(a=0,d=c.length;a<d;a++){b[c[a]]=!0}return function(a){return a in b?a:undefined}}},0,0,0,0,0,0,[Ext.draw.sprite,'AttributeParser'],0);Ext.cmd.derive('Ext.draw.sprite.AttributeDefinition',Ext.Base,{config:{defaults:{$value:{},lazy:!0},aliases:{},animationProcessors:{},processors:{$value:{},lazy:!0},dirtyTriggers:{},triggers:{},updaters:{}},inheritableStatics:{processorFactoryRe:/^(\w+)\(([\w\-,]*)\)$/},spriteClass:null,constructor:function(a){var b=this;b.initConfig(a)},applyDefaults:function(b,a){a=Ext.apply(a||{},this.normalize(b));return a},applyAliases:function(b,a){return Ext.apply(a||{},b)},applyProcessors:function(g,j){this.getAnimationProcessors();var h=j||{},b=Ext.draw.sprite.AttributeParser,i=this.self.processorFactoryRe,f={},e,d,c,a;for(d in g){a=g[d];if(typeof a==='string'){c=a.match(i);if(c){a=b[c[1]].apply(b,c[2].split(','))}else if(b[a]){f[d]=a;e=!0;a=b[a]}}h[d]=a}if(e){this.setAnimationProcessors(f)}return h},applyAnimationProcessors:function(e,b){var d=Ext.draw.sprite.AnimationParser,c,a;if(!b){b={}}for(c in e){a=e[c];if(a==='none'){b[c]=null}else if(Ext.isString(a)&&!(c in b)){if(a in d){while(Ext.isString(d[a])){a=d[a]}b[c]=d[a]}}else if(Ext.isObject(a)){b[c]=a}}return b},updateDirtyTriggers:function(a){this.setTriggers(a)},applyTriggers:function(c,a){var b;if(!a){a={}}for(b in c){a[b]=c[b].split(',')}return a},applyUpdaters:function(b,a){return Ext.apply(a||{},b)},batchedNormalize:function(d,n){if(!d){return {}}var j=this.getProcessors(),k=this.getAliases(),h=d.translation||d.translate,a={},i,o,c,f,b,e,l,m,g;if('rotation' in d){b=d.rotation}else {b='rotate' in d?d.rotate:undefined}if('scaling' in d){e=d.scaling}else {e='scale' in d?d.scale:undefined}if(typeof e!=='undefined'){if(Ext.isNumber(e)){a.scalingX=e;a.scalingY=e}else {if('x' in e){a.scalingX=e.x}if('y' in e){a.scalingY=e.y}if('centerX' in e){a.scalingCenterX=e.centerX}if('centerY' in e){a.scalingCenterY=e.centerY}}}if(typeof b!=='undefined'){if(Ext.isNumber(b)){b=Ext.draw.Draw.rad(b);a.rotationRads=b}else {if('rads' in b){a.rotationRads=b.rads}else if('degrees' in b){if(Ext.isArray(b.degrees)){a.rotationRads=Ext.Array.map(b.degrees,function(a){return Ext.draw.Draw.rad(a)})}else {a.rotationRads=Ext.draw.Draw.rad(b.degrees)}}if('centerX' in b){a.rotationCenterX=b.centerX}if('centerY' in b){a.rotationCenterY=b.centerY}}}if(typeof h!=='undefined'){if('x' in h){a.translationX=h.x}if('y' in h){a.translationY=h.y}}if('matrix' in d){l=Ext.draw.Matrix.create(d.matrix);g=l.split();a.matrix=l;a.rotationRads=g.rotation;a.rotationCenterX=0;a.rotationCenterY=0;a.scalingX=g.scaleX;a.scalingY=g.scaleY;a.scalingCenterX=0;a.scalingCenterY=0;a.translationX=g.translateX;a.translationY=g.translateY}for(c in d){f=d[c];if(typeof f==='undefined'){continue}else if(Ext.isArray(f)){if(c in k){c=k[c]}if(c in j){a[c]=[];for(i=0,o=f.length;i<o;i++){m=j[c].call(this,f[i]);if(typeof m!=='undefined'){a[c][i]=m}}}else if(n){a[c]=f}}else {if(c in k){c=k[c]}if(c in j){f=j[c].call(this,f);if(typeof f!=='undefined'){a[c]=f}}else if(n){a[c]=f}}}return a},normalize:function(c,l){if(!c){return {}}var j=this.getProcessors(),k=this.getAliases(),h=c.translation||c.translate,a={},e,f,b,d,i,g;if('rotation' in c){b=c.rotation}else {b='rotate' in c?c.rotate:undefined}if('scaling' in c){d=c.scaling}else {d='scale' in c?c.scale:undefined}if(h){if('x' in h){a.translationX=h.x}if('y' in h){a.translationY=h.y}}if(typeof d!=='undefined'){if(Ext.isNumber(d)){a.scalingX=d;a.scalingY=d}else {if('x' in d){a.scalingX=d.x}if('y' in d){a.scalingY=d.y}if('centerX' in d){a.scalingCenterX=d.centerX}if('centerY' in d){a.scalingCenterY=d.centerY}}}if(typeof b!=='undefined'){if(Ext.isNumber(b)){b=Ext.draw.Draw.rad(b);a.rotationRads=b}else {if('rads' in b){a.rotationRads=b.rads}else if('degrees' in b){a.rotationRads=Ext.draw.Draw.rad(b.degrees)}if('centerX' in b){a.rotationCenterX=b.centerX}if('centerY' in b){a.rotationCenterY=b.centerY}}}if('matrix' in c){i=Ext.draw.Matrix.create(c.matrix);g=i.split();a.matrix=i;a.rotationRads=g.rotation;a.rotationCenterX=0;a.rotationCenterY=0;a.scalingX=g.scaleX;a.scalingY=g.scaleY;a.scalingCenterX=0;a.scalingCenterY=0;a.translationX=g.translateX;a.translationY=g.translateY}for(e in c){f=c[e];if(typeof f==='undefined'){continue}if(e in k){e=k[e]}if(e in j){f=j[e].call(this,f);if(typeof f!=='undefined'){a[e]=f}}else if(l){a[e]=f}}return a},setBypassingNormalization:function(c,a,b){return a.pushDown(c,b)},set:function(c,b,a){a=this.normalize(a);return this.setBypassingNormalization(c,b,a)}},1,0,0,0,0,0,[Ext.draw.sprite,'AttributeDefinition'],0);Ext.cmd.derive('Ext.draw.Matrix',Ext.Base,{isMatrix:!0,statics:{createAffineMatrixFromTwoPair:function(f,g,n,o,j,k,l,m){var b=n-f,c=o-g,h=l-j,i=m-k,a=1/(b*b+c*c),d=b*h+c*i,e=h*c-b*i,p=-d*f-e*g,q=e*f-d*g;return new this(d*a,-e*a,e*a,d*a,p*a+j,q*a+k)},createPanZoomFromTwoPair:function(b,c,l,m,f,h,g,i){if(arguments.length===2){return this.createPanZoomFromTwoPair.apply(this,b.concat(c))}var j=l-b,k=m-c,p=(b+l)*0.5,q=(c+m)*0.5,d=g-f,e=i-h,n=(f+g)*0.5,o=(h+i)*0.5,s=j*j+k*k,r=d*d+e*e,a=Math.sqrt(r/s);return new this(a,0,0,a,n-a*p,o-a*q)},fly:function(){var a=null,b=function(b){a.elements=b;return a};return function(c){if(!a){a=new Ext.draw.Matrix()}a.elements=c;Ext.draw.Matrix.fly=b;return a}}(),create:function(a){if(a instanceof this){return a}return new this(a)}},constructor:function(a,d,e,f,b,c){if(a&&a.length===6){this.elements=a.slice()}else if(a!==undefined){this.elements=[a,d,e,f,b,c]}else {this.elements=[1,0,0,1,0,0]}},prepend:function(b,c,d,e,l,m){var a=this.elements,h=a[0],i=a[1],j=a[2],k=a[3],f=a[4],g=a[5];a[0]=b*h+d*i;a[1]=c*h+e*i;a[2]=b*j+d*k;a[3]=c*j+e*k;a[4]=b*f+d*g+l;a[5]=c*f+e*g+m;return this},prependMatrix:function(a){return this.prepend.apply(this,a.elements)},append:function(h,i,j,k,f,g){var a=this.elements,b=a[0],c=a[1],d=a[2],e=a[3],l=a[4],m=a[5];a[0]=h*b+i*d;a[1]=h*c+i*e;a[2]=j*b+k*d;a[3]=j*c+k*e;a[4]=f*b+g*d+l;a[5]=f*c+g*e+m;return this},appendMatrix:function(a){return this.append.apply(this,a.elements)},set:function(d,e,f,g,b,c){var a=this.elements;a[0]=d;a[1]=e;a[2]=f;a[3]=g;a[4]=b;a[5]=c;return this},inverse:function(i){var a=this.elements,b=a[0],c=a[1],d=a[2],e=a[3],g=a[4],h=a[5],f=1/(b*e-c*d);b*=f;c*=f;d*=f;e*=f;if(i){i.set(e,-c,-d,b,d*h-e*g,c*g-b*h);return i}else {return new Ext.draw.Matrix(e,-c,-d,b,d*h-e*g,c*g-b*h)}},translate:function(a,b,c){if(c){return this.prepend(1,0,0,1,a,b)}else {return this.append(1,0,0,1,a,b)}},scale:function(d,c,a,b,f){var e=this;if(c==null){c=d}if(a===undefined){a=0}if(b===undefined){b=0}if(f){return e.prepend(d,0,0,c,a-a*d,b-b*c)}else {return e.append(d,0,0,c,a-a*d,b-b*c)}},rotate:function(e,b,c,g){var f=this,a=Math.cos(e),d=Math.sin(e);b=b||0;c=c||0;if(g){return f.prepend(a,d,-d,a,b-a*b+c*d,c-a*c-b*d)}else {return f.append(a,d,-d,a,b-a*b+c*d,c-a*c-b*d)}},rotateFromVector:function(c,d,g){var e=this,f=Math.sqrt(c*c+d*d),a=c/f,b=d/f;if(g){return e.prepend(a,b,-b,a,0,0)}else {return e.append(a,b,-b,a,0,0)}},clone:function(){return new Ext.draw.Matrix(this.elements)},flipX:function(){return this.append(-1,0,0,1,0,0)},flipY:function(){return this.append(1,0,0,-1,0,0)},skewX:function(a){return this.append(1,0,Math.tan(a),1,0,0)},skewY:function(a){return this.append(1,Math.tan(a),0,1,0,0)},shearX:function(a){return this.append(1,0,a,1,0,0)},shearY:function(a){return this.append(1,a,0,1,0,0)},reset:function(){return this.set(1,0,0,1,0,0)},precisionCompensate:function(a,b){var c=this.elements,d=c[0],f=c[1],g=c[2],e=c[3],h=c[4],i=c[5],j=f*g-d*e;b.b=a*f/d;b.c=a*g/e;b.d=a;b.xx=d/a;b.yy=e/a;b.dx=(i*d*g-h*d*e)/j/a;b.dy=(h*f*e-i*d*e)/j/a},precisionCompensateRect:function(a,b){var c=this.elements,d=c[0],e=c[1],j=c[2],f=c[3],h=c[4],i=c[5],g=j/d;b.b=a*e/d;b.c=a*g;b.d=a*f/d;b.xx=d/a;b.yy=d/a;b.dx=(i*j-h*f)/(e*g-f)/a;b.dy=-(i*d-h*e)/(e*g-f)/a},x:function(b,c){var a=this.elements;return b*a[0]+c*a[2]+a[4]},y:function(b,c){var a=this.elements;return b*a[1]+c*a[3]+a[5]},get:function(a,b){return +this.elements[a+b*2].toFixed(4)},transformPoint:function(b){var a=this.elements,c,d;if(b.isPoint){c=b.x;d=b.y}else {c=b[0];d=b[1]}return [c*a[0]+d*a[2]+a[4],c*a[1]+d*a[3]+a[5]]},transformBBox:function(h,e,b){var a=this.elements,p=h.x,q=h.y,d=h.width*0.5,c=h.height*0.5,j=a[0],k=a[1],l=a[2],m=a[3],n=p+d,o=q+c,g,f,i;if(e){d-=e;c-=e;i=[Math.sqrt(a[0]*a[0]+a[2]*a[2]),Math.sqrt(a[1]*a[1]+a[3]*a[3])];g=Math.abs(d*j)+Math.abs(c*l)+Math.abs(i[0]*e);f=Math.abs(d*k)+Math.abs(c*m)+Math.abs(i[1]*e)}else {g=Math.abs(d*j)+Math.abs(c*l);f=Math.abs(d*k)+Math.abs(c*m)}if(!b){b={}}b.x=n*j+o*l+a[4]-g;b.y=n*k+o*m+a[5]-f;b.width=g+g;b.height=f+f;return b},transformList:function(d){var a=this.elements,h=a[0],j=a[2],e=a[4],i=a[1],k=a[3],f=a[5],g=d.length,c,b;for(b=0;b<g;b++){c=d[b];d[b]=[c[0]*h+c[1]*j+e,c[0]*i+c[1]*k+f]}return d},isIdentity:function(){var a=this.elements;return a[0]===1&&a[1]===0&&a[2]===0&&a[3]===1&&a[4]===0&&a[5]===0},isEqual:function(c){var b=c&&c.isMatrix?c.elements:c,a=this.elements;return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]&&a[4]===b[4]&&a[5]===b[5]},equals:function(a){return this.isEqual(a)},toArray:function(){var a=this.elements;return [a[0],a[2],a[4],a[1],a[3],a[5]]},toVerticalArray:function(){return this.elements.slice()},toString:function(){var a=this;return [a.get(0,0),a.get(0,1),a.get(1,0),a.get(1,1),a.get(2,0),a.get(2,1)].join(',')},toContext:function(a){a.transform.apply(a,this.elements);return this},toSvg:function(){var a=this.elements;return 'matrix('+a[0].toFixed(9)+','+a[1].toFixed(9)+','+a[2].toFixed(9)+','+a[3].toFixed(9)+','+a[4].toFixed(9)+','+a[5].toFixed(9)+')'},getScaleX:function(){var a=this.elements;return Math.sqrt(a[0]*a[0]+a[2]*a[2])},getScaleY:function(){var a=this.elements;return Math.sqrt(a[1]*a[1]+a[3]*a[3])},getXX:function(){return this.elements[0]},getXY:function(){return this.elements[1]},getYX:function(){return this.elements[2]},getYY:function(){return this.elements[3]},getDX:function(){return this.elements[4]},getDY:function(){return this.elements[5]},split:function(){var b=this.elements,c=b[0],d=b[1],e=b[3],a={translateX:b[4],translateY:b[5]};a.rotate=a.rotation=Math.atan2(d,c);a.scaleX=c/Math.cos(a.rotate);a.scaleY=e/c*a.scaleX;return a}},3,0,0,0,0,0,[Ext.draw,'Matrix'],function(){function registerName(b,c,a){b[c]={get:function(){return this.elements[a]},set:function(d){this.elements[a]=d}}}if(Object.defineProperties){var a={};registerName(a,'a',0);registerName(a,'b',1);registerName(a,'c',2);registerName(a,'d',3);registerName(a,'e',4);registerName(a,'f',5);Object.defineProperties(this.prototype,a)}this.prototype.multiply=this.prototype.appendMatrix});Ext.cmd.derive('Ext.draw.modifier.Modifier',Ext.Base,{isModifier:!0,config:{lower:null,upper:null,sprite:null},constructor:function(a){this.mixins.observable.constructor.call(this,a)},updateUpper:function(a){if(a){a.setLower(this)}},updateLower:function(a){if(a){a.setUpper(this)}},prepareAttributes:function(a){if(this._lower){this._lower.prepareAttributes(a)}},popUp:function(b,a){if(this._upper){this._upper.popUp(b,a)}else {Ext.apply(b,a)}},filterChanges:function(f,c,e){var d=f.targets,a,b;if(e){for(a in c){b=c[a];if(b!==f[a]||d&&b!==d[a]){e[a]=b}}}else {for(a in c){b=c[a];if(b===f[a]&&(!d||b===d[a])){delete c[a]}}}return e||c},pushDown:function(b,a){return this._lower?this._lower.pushDown(b,a):this.filterChanges(b,a)}},1,0,0,0,0,[['observable',Ext.mixin.Observable]],[Ext.draw.modifier,'Modifier'],0);Ext.cmd.derive('Ext.draw.modifier.Target',Ext.draw.modifier.Modifier,{statics:{uniqueId:0},prepareAttributes:function(a){if(this._lower){this._lower.prepareAttributes(a)}a.attributeId='attribute-'+Ext.draw.modifier.Target.uniqueId++;if(!a.hasOwnProperty('canvasAttributes')){a.bbox={plain:{dirty:!0},transform:{dirty:!0}};a.dirty=!0;a.pendingUpdaters={};a.canvasAttributes={};a.matrix=new Ext.draw.Matrix();a.inverseMatrix=new Ext.draw.Matrix()}},applyChanges:function(b,h){Ext.apply(b,h);var f=this.getSprite(),g=b.pendingUpdaters,n=f.self.def.getTriggers(),m,k,e,a,l,d,c,j,i;for(a in h){l=!0;if(m=n[a]){f.scheduleUpdaters(b,m,[a])}if(b.template&&h.removeFromInstance&&h.removeFromInstance[a]){delete b[a]}}if(!l){return}if(g.canvas){d=g.canvas;delete g.canvas;for(c=0,i=d.length;c<i;c++){a=d[c];b.canvasAttributes[a]=b[a]}}if(b.hasOwnProperty('children')){k=b.children;for(c=0,i=k.length;c<i;c++){e=k[c];Ext.apply(e.pendingUpdaters,g);if(d){for(j=0;j<d.length;j++){a=d[j];e.canvasAttributes[a]=e[a]}}f.callUpdaters(e)}}f.setDirty(!0);f.callUpdaters(b)},popUp:function(b,a){this.applyChanges(b,a)},pushDown:function(b,a){if(this._lower){a=this._lower.pushDown(b,a)}this.applyChanges(b,a);return a}},0,0,0,0,['modifier.target'],0,[Ext.draw.modifier,'Target'],0);Ext.cmd.derive('Ext.draw.TimingFunctions',Ext.Base,function(){var b=Math.pow,k=Math.sin,j=Math.cos,i=Math.sqrt,h=Math.PI,f=['quad','cube','quart','quint'],d={pow:function(a,c){return b(a,c||6)},expo:function(a){return b(2,8*(a-1))},circ:function(a){return 1-i(1-a*a)},sine:function(a){return 1-k((1-a)*h/2)},back:function(b,a){a=a||1.616;return b*b*((a+1)*b-a)},bounce:function(d){var c,a;for(c=0,a=1;1;c+=a,a/=2){if(d>=(7-4*c)/11){return a*a-b((11-6*c-11*d)/4,2)}}},elastic:function(a,c){return b(2,10*--a)*j(20*a*h*(c||1)/3)}},a={},e,g,c;function createPoly(a){return function(c){return b(c,a)}}function addEasing(c,b){a[c+'In']=function(a){return b(a)};a[c+'Out']=function(a){return 1-b(1-a)};a[c+'InOut']=function(a){return a<=0.5?b(2*a)/2:(2-b(2*(1-a)))/2}}for(c=0,g=f.length;c<g;++c){d[f[c]]=createPoly(c+2)}for(e in d){addEasing(e,d[e])}a.linear=Ext.identityFn;a.easeIn=a.quadIn;a.easeOut=a.quadOut;a.easeInOut=a.quadInOut;return {singleton:!0,easingMap:a}},0,0,0,0,0,0,[Ext.draw,'TimingFunctions'],function(a){Ext.apply(a,a.easingMap)});Ext.cmd.derive('Ext.draw.Animator',Ext.Base,{singleton:!0,frameCallbacks:{},frameCallbackId:0,scheduled:0,frameStartTimeOffset:Ext.now(),animations:[],running:!1,animationTime:function(){return Ext.AnimationQueue.frameStartTime-this.frameStartTimeOffset},add:function(a){var b=this;if(!b.contains(a)){b.animations.push(a);b.ignite();if('fireEvent' in a){a.fireEvent('animationstart',a)}}},remove:function(a){var d=this,c=d.animations,b=0,e=c.length;for(;b<e;++b){if(c[b]===a){c.splice(b,1);if('fireEvent' in a){a.fireEvent('animationend',a)}return}}},contains:function(a){return Ext.Array.indexOf(this.animations,a)>-1},empty:function(){return this.animations.length===0},idle:function(){return this.scheduled===0&&this.animations.length===0},step:function(e){var f=this,c=f.animations,a,b=0,d=c.length;for(;b<d;b++){a=c[b];a.step(e);if(!a.animating){c.splice(b,1);b--;d--;if(a.fireEvent){a.fireEvent('animationend',a)}}}},schedule:function(a,b){var c='frameCallback'+this.frameCallbackId++;b=b||this;if(Ext.isString(a)){a=b[a]}Ext.draw.Animator.frameCallbacks[c]={fn:a,scope:b,once:!0};this.scheduled++;Ext.draw.Animator.ignite();return c},scheduleIf:function(a,b){var d=Ext.draw.Animator.frameCallbacks,c,e;b=b||this;if(Ext.isString(a)){a=b[a]}for(e in d){c=d[e];if(c.once&&c.fn===a&&c.scope===b){return null}}return this.schedule(a,b)},cancel:function(a){if(Ext.draw.Animator.frameCallbacks[a]&&Ext.draw.Animator.frameCallbacks[a].once){this.scheduled=Math.max(--this.scheduled,0);delete Ext.draw.Animator.frameCallbacks[a];Ext.draw.Draw.endUpdateIOS()}if(this.idle()){this.extinguish()}},clear:function(){this.animations.length=0;Ext.draw.Animator.frameCallbacks={};this.extinguish()},addFrameCallback:function(a,b){var c='frameCallback'+this.frameCallbackId++;b=b||this;if(Ext.isString(a)){a=b[a]}Ext.draw.Animator.frameCallbacks[c]={fn:a,scope:b};return c},removeFrameCallback:function(a){delete Ext.draw.Animator.frameCallbacks[a];if(this.idle()){this.extinguish()}},fireFrameCallbacks:function(){var c=this.frameCallbacks,d,b,a;for(d in c){a=c[d];b=a.fn;if(Ext.isString(b)){b=a.scope[b]}b.call(a.scope);if(c[d]&&a.once){this.scheduled=Math.max(--this.scheduled,0);delete c[d]}}},handleFrame:function(){var a=this;a.step(a.animationTime());a.fireFrameCallbacks();if(a.idle()){a.extinguish()}},ignite:function(){if(!this.running){this.running=!0;Ext.AnimationQueue.start(this.handleFrame,this);Ext.draw.Draw.beginUpdateIOS()}},extinguish:function(){this.running=!1;Ext.AnimationQueue.stop(this.handleFrame,this);Ext.draw.Draw.endUpdateIOS()}},0,0,0,0,0,0,[Ext.draw,'Animator'],0);Ext.cmd.derive('Ext.draw.modifier.Animation',Ext.draw.modifier.Modifier,{config:{easing:Ext.identityFn,duration:0,customEasings:{},customDurations:{}},constructor:function(b){var a=this;a.anyAnimation=a.anySpecialAnimations=!1;a.animating=0;a.animatingPool=[];Ext.draw.modifier.Modifier.prototype.constructor.call(this,b)},prepareAttributes:function(a){if(!a.hasOwnProperty('timers')){a.animating=!1;a.timers={};a.targets=Ext.Object.chain(a);a.targets.prototype=a}if(this._lower){this._lower.prepareAttributes(a.targets)}},updateSprite:function(a){this.setConfig(a.config.animation)},updateDuration:function(a){this.anyAnimation=a>0},applyEasing:function(a){if(typeof a==='string'){a=Ext.draw.TimingFunctions.easingMap[a]}return a},applyCustomEasings:function(g,b){var e,f,d,a,c,h;b=b||{};for(f in g){e=!0;a=g[f];d=f.split(',');if(typeof a==='string'){a=Ext.draw.TimingFunctions.easingMap[a]}for(c=0,h=d.length;c<h;c++){b[d[c]]=a}}if(e){this.anySpecialAnimations=e}return b},setEasingOn:function(a,e){var c={},b,d;a=Ext.Array.from(a).slice();for(b=0,d=a.length;b<d;b++){c[a[b]]=e}this.setCustomEasings(c)},clearEasingOn:function(a){var b,c;a=Ext.Array.from(a,!0);for(b=0,c=a.length;b<c;b++){delete this._customEasings[a[b]]}},applyCustomDurations:function(f,a){var d,e,g,c,b,h;a=a||{};for(e in f){d=!0;g=f[e];c=e.split(',');for(b=0,h=c.length;b<h;b++){a[c[b]]=g}}if(d){this.anySpecialAnimations=d}return a},setDurationOn:function(a,e){var c={},b,d;a=Ext.Array.from(a).slice();for(b=0,d=a.length;b<d;b++){c[a[b]]=e}this.setCustomDurations(c)},clearDurationOn:function(a){var b,c;a=Ext.Array.from(a,!0);for(b=0,c=a.length;b<c;b++){delete this._customDurations[a[b]]}},setAnimating:function(c,e){var b=this,a=b.animatingPool,d;if(c.animating!==e){c.animating=e;if(e){a.push(c);if(b.animating===0){Ext.draw.Animator.add(b)}b.animating++}else {for(d=a.length;d--;){if(a[d]===c){a.splice(d,1)}}b.animating=a.length}}},setAttrs:function(h,c){var g=this,j=h.timers,t=g._sprite.self.def._animationProcessors,s=g._easing,r=g._duration,n=g._customDurations,o=g._customEasings,p=g.anySpecialAnimations,u=g.anyAnimation||p,k=h.targets,q=!1,b,a,e,d,f,m,i,l;if(!u){for(a in c){if(h[a]===c[a]){delete c[a]}else {h[a]=c[a]}delete k[a];delete j[a]}return c}else {for(a in c){e=c[a];d=h[a];if(e!==d&&d!==undefined&&d!==null&&(f=t[a])){m=s;i=r;if(p){if(a in o){m=o[a]}if(a in n){i=n[a]}}if(d&&d.isGradient||e&&e.isGradient){i=0}if(i){if(!j[a]){j[a]={}}b=j[a];b.start=0;b.easing=m;b.duration=i;b.compute=f.compute;b.serve=f.serve||Ext.identityFn;b.remove=c.removeFromInstance&&c.removeFromInstance[a];if(f.parseInitial){l=f.parseInitial(d,e);b.source=l[0];b.target=l[1]}else if(f.parse){b.source=f.parse(d);b.target=f.parse(e)}else {b.source=d;b.target=e}k[a]=e;delete c[a];q=!0;continue}else {delete k[a]}}else {delete k[a]}delete j[a]}}if(q&&!h.animating){g.setAnimating(h,!0)}return c},updateAttributes:function(c){if(!c.animating){return {}}var d={},i=!1,e=c.timers,h=c.targets,g=Ext.draw.Animator.animationTime(),b,a,f;if(c.lastUpdate===g){return null}for(b in e){a=e[b];if(!a.start){a.start=g;f=0}else {f=(g-a.start)/a.duration}if(f>=1){d[b]=h[b];delete h[b];if(e[b].remove){d.removeFromInstance=d.removeFromInstance||{};d.removeFromInstance[b]=!0}delete e[b]}else {d[b]=a.serve(a.compute(a.source,a.target,a.easing(f),c[b]));i=!0}}c.lastUpdate=g;this.setAnimating(c,i);return d},pushDown:function(b,a){a=Ext.draw.modifier.Modifier.prototype.pushDown.call(this,b.targets,a);return this.setAttrs(b,a)},popUp:function(a,b){a=a.prototype;b=this.setAttrs(a,b);if(this._upper){return this._upper.popUp(a,b)}else {return Ext.apply(a,b)}},step:function(g){var a=this,e=a.animatingPool.slice(),f=e.length,d=0,c,b;for(;d<f;d++){c=e[d];b=a.updateAttributes(c);if(b&&a._upper){a._upper.popUp(c,b)}}},stop:function(){var a=this,c=a.animatingPool,b,d;this.step();for(b=0,d=c.length;b<d;b++){c[b].animating=!1}a.animatingPool.length=0;a.animating=0;Ext.draw.Animator.remove(a)},destroy:function(){Ext.draw.Animator.remove(this);Ext.draw.modifier.Modifier.prototype.destroy.call(this)}},1,0,0,0,['modifier.animation'],0,[Ext.draw.modifier,'Animation'],0);Ext.cmd.derive('Ext.draw.modifier.Highlight',Ext.draw.modifier.Modifier,{config:{enabled:!1,style:null},preFx:!0,applyStyle:function(b,a){a=a||{};if(this.getSprite()){Ext.apply(a,this.getSprite().self.def.normalize(b))}else {Ext.apply(a,b)}return a},prepareAttributes:function(a){if(!a.hasOwnProperty('highlightOriginal')){a.highlighted=!1;a.highlightOriginal=Ext.Object.chain(a);a.highlightOriginal.prototype=a;a.highlightOriginal.removeFromInstance={}}if(this._lower){this._lower.prepareAttributes(a.highlightOriginal)}},updateSprite:function(a,e){var c=this,d=c.getStyle(),b;if(a){b=a.self.def;if(d){c._style=b.normalize(d)}c.setStyle(a.config.highlight);b.setConfig({defaults:{highlighted:!1},processors:{highlighted:'bool'}})}this.setSprite(a)},filterChanges:function(c,b){var f=this,d=c.highlightOriginal,e=f.getStyle(),a;if(c.highlighted){for(a in b){if(e.hasOwnProperty(a)){d[a]=b[a];delete b[a]}}}return b},pushDown:function(d,a){var f=this.getStyle(),c=d.highlightOriginal,g=c.removeFromInstance,e,b,h,i;if(a.hasOwnProperty('highlighted')){e=a.highlighted;delete a.highlighted;if(this._lower){a=this._lower.pushDown(c,a)}a=this.filterChanges(d,a);if(e!==d.highlighted){if(e){for(b in f){if(b in a){c[b]=a[b]}else {h=d.template&&d.template.ownAttr;if(h&&!d.prototype.hasOwnProperty(b)){g[b]=!0;c[b]=h.targets[b]}else {i=c.timers[b];if(i&&i.remove){g[b]=!0}c[b]=d[b]}}if(c[b]!==f[b]){a[b]=f[b]}}}else {for(b in f){if(!(b in a)){a[b]=c[b]}delete c[b]}a.removeFromInstance=a.removeFromInstance||{};Ext.apply(a.removeFromInstance,g);c.removeFromInstance={}}a.highlighted=e}}else {if(this._lower){a=this._lower.pushDown(c,a)}a=this.filterChanges(d,a)}return a},popUp:function(b,a){a=this.filterChanges(b,a);Ext.draw.modifier.Modifier.prototype.popUp.call(this,b,a)}},0,0,0,0,['modifier.highlight'],0,[Ext.draw.modifier,'Highlight'],0);Ext.cmd.derive('Ext.draw.sprite.Sprite',Ext.Base,{isSprite:!0,$configStrict:!1,statics:{defaultHitTestOptions:{fill:!0,stroke:!0}},inheritableStatics:{def:{processors:{strokeStyle:'color',fillStyle:'color',strokeOpacity:'limited01',fillOpacity:'limited01',lineWidth:'number',lineCap:'enums(butt,round,square)',lineJoin:'enums(round,bevel,miter)',lineDash:'data',lineDashOffset:'number',miterLimit:'number',shadowColor:'color',shadowOffsetX:'number',shadowOffsetY:'number',shadowBlur:'number',globalAlpha:'limited01',globalCompositeOperation:'enums(source-over,destination-over,source-in,destination-in,source-out,destination-out,source-atop,destination-atop,lighter,xor,copy)',hidden:'bool',transformFillStroke:'bool',zIndex:'number',translationX:'number',translationY:'number',rotationRads:'number',rotationCenterX:'number',rotationCenterY:'number',scalingX:'number',scalingY:'number',scalingCenterX:'number',scalingCenterY:'number',constrainGradients:'bool'},aliases:{'stroke':'strokeStyle','fill':'fillStyle','color':'fillStyle','stroke-width':'lineWidth','stroke-linecap':'lineCap','stroke-linejoin':'lineJoin','stroke-miterlimit':'miterLimit','text-anchor':'textAlign','opacity':'globalAlpha',translateX:'translationX',translateY:'translationY',rotateRads:'rotationRads',rotateCenterX:'rotationCenterX',rotateCenterY:'rotationCenterY',scaleX:'scalingX',scaleY:'scalingY',scaleCenterX:'scalingCenterX',scaleCenterY:'scalingCenterY'},defaults:{hidden:!1,zIndex:0,strokeStyle:'none',fillStyle:'none',lineWidth:1,lineDash:[],lineDashOffset:0,lineCap:'butt',lineJoin:'miter',miterLimit:10,shadowColor:'none',shadowOffsetX:0,shadowOffsetY:0,shadowBlur:0,globalAlpha:1,strokeOpacity:1,fillOpacity:1,transformFillStroke:!1,translationX:0,translationY:0,rotationRads:0,rotationCenterX:null,rotationCenterY:null,scalingX:1,scalingY:1,scalingCenterX:null,scalingCenterY:null,constrainGradients:!1},triggers:{zIndex:'zIndex',globalAlpha:'canvas',globalCompositeOperation:'canvas',transformFillStroke:'canvas',strokeStyle:'canvas',fillStyle:'canvas',strokeOpacity:'canvas',fillOpacity:'canvas',lineWidth:'canvas',lineCap:'canvas',lineJoin:'canvas',lineDash:'canvas',lineDashOffset:'canvas',miterLimit:'canvas',shadowColor:'canvas',shadowOffsetX:'canvas',shadowOffsetY:'canvas',shadowBlur:'canvas',translationX:'transform',translationY:'transform',rotationRads:'transform',rotationCenterX:'transform',rotationCenterY:'transform',scalingX:'transform',scalingY:'transform',scalingCenterX:'transform',scalingCenterY:'transform',constrainGradients:'canvas'},updaters:{bbox:'bboxUpdater',zIndex:function(a){a.dirtyZIndex=!0},transform:function(a){a.dirtyTransform=!0;a.bbox.transform.dirty=!0}}}},config:{parent:null,surface:null},onClassExtended:function(a,b){var c=a.superclass.self.def.initialConfig,d=b.inheritableStatics&&b.inheritableStatics.def,e;if(d){e=Ext.Object.merge({},c,d);a.def=new Ext.draw.sprite.AttributeDefinition(e);delete b.inheritableStatics.def}else {a.def=new Ext.draw.sprite.AttributeDefinition(c)}a.def.spriteClass=a},constructor:function(b){var a=this,c=a.self.def,e=c.getDefaults(),f=c.getProcessors(),d,g;b=Ext.isObject(b)?b:{};a.id=b.id||Ext.id(null,'ext-sprite-');a.attr={};a.mixins.observable.constructor.apply(a,arguments);d=Ext.Array.from(b.modifiers,!0);a.createModifiers(d);a.initializeAttributes();a.setAttributes(e,!0);a.setAttributes(b)},updateSurface:function(b,a){if(a){a.remove(this)}},getDirty:function(){return this.attr.dirty},setDirty:function(b){var a;this.attr.dirty=b;if(b){a=this.getParent();if(a){a.setDirty(!0)}}},addModifier:function(a,g){var e=this,b=e.modifiers,d=b.animation,f=b.target,c;if(!(a instanceof Ext.draw.modifier.Modifier)){c=typeof a==='string'?a:a.type;if(c&&!b[c]){b[c]=a=Ext.factory(a,null,null,'modifier')}}a.setSprite(e);if(a.preFx||a.config&&a.config.preFx){if(d._lower){d._lower.setUpper(a)}a.setUpper(d)}else {f._lower.setUpper(a);a.setUpper(f)}if(g){e.initializeAttributes()}return a},createModifiers:function(d){var a=this,e=Ext.draw.modifier,g=a.getInitialConfig().animation,b,c,f;a.modifiers=b={target:new e.Target({sprite:a}),animation:new e.Animation(Ext.apply({sprite:a},g))};b.animation.setUpper(b.target);for(c=0,f=d.length;c<f;c++){a.addModifier(d[c],!1)}return b},getAnimation:function(){return this.modifiers.animation},setAnimation:function(a){if(!this.isConfiguring){this.modifiers.animation.setConfig(a||{duration:0})}},initializeAttributes:function(){this.modifiers.target.prepareAttributes(this.attr)},callUpdaters:function(e){var b=this,i=b.self.def.getUpdaters(),f=!1,g=!1,c,h,d,a;e=e||this.attr;c=e.pendingUpdaters;b.callUpdaters=Ext.emptyFn;do{f=!1;for(d in c){f=!0;h=c[d];delete c[d];a=i[d];if(typeof a==='string'){a=b[a]}if(a){a.call(b,e,h)}}g=g||f}while(f);delete b.callUpdaters;if(g){b.setDirty(!0)}},callUpdater:function(a,c,b){this.scheduleUpdater(a,c,b);this.callUpdaters(a)},scheduleUpdaters:function(d,c,b){var a,e,f;d=d||this.attr;if(b){for(e=0,f=c.length;e<f;e++){a=c[e];this.scheduleUpdater(d,a,b)}}else {for(a in c){b=c[a];this.scheduleUpdater(d,a,b)}}},scheduleUpdater:function(d,c,b){var a;b=b||[];d=d||this.attr;a=d.pendingUpdaters;if(c in a){if(b.length){a[c]=Ext.Array.merge(a[c],b)}}else {a[c]=b}},setAttributes:function(b,d,e){var c=this,a;if(d){if(e){a=b}else {a=Ext.apply({},b)}}else {a=c.self.def.normalize(b)}c.modifiers.target.pushDown(c.attr,a)},setAttributesBypassingNormalization:function(b,a){return this.setAttributes(b,!0,a)},bboxUpdater:function(a){var d=a.rotationRads!==0,e=a.scalingX!==1||a.scalingY!==1,b=a.rotationCenterX===null||a.rotationCenterY===null,c=a.scalingCenterX===null||a.scalingCenterY===null;a.bbox.plain.dirty=!0;a.bbox.transform.dirty=!0;if(d&&b||e&&c){this.scheduleUpdater(a,'transform')}},getBBox:function(e){var c=this,f=c.attr,d=f.bbox,a=d.plain,b=d.transform;if(a.dirty){c.updatePlainBBox(a);a.dirty=!1}if(!e){c.applyTransformations();if(b.dirty){c.updateTransformedBBox(b,a);b.dirty=!1}return b}return a},updatePlainBBox:Ext.emptyFn,updateTransformedBBox:function(a,b){this.attr.matrix.transformBBox(b,0,a)},getBBoxCenter:function(b){var a=this.getBBox(b);if(a){return [a.x+a.width*0.5,a.y+a.height*0.5]}else {return [0,0]}},hide:function(){this.attr.hidden=!0;this.setDirty(!0);return this},show:function(){this.attr.hidden=!1;this.setDirty(!0);return this},useAttributes:function(a,i){this.applyTransformations(this.isSpriteInstance);var h=this.attr,b=h.canvasAttributes,d=b.strokeStyle,e=b.fillStyle,g=b.lineDash,f=b.lineDashOffset,c;if(d){if(d.isGradient){a.strokeStyle='black';a.strokeGradient=d}else {a.strokeGradient=!1}}if(e){if(e.isGradient){a.fillStyle='black';a.fillGradient=e}else {a.fillGradient=!1}}if(g){a.setLineDash(g)}if(Ext.isNumber(f)&&Ext.isNumber(a.lineDashOffset)){a.lineDashOffset=f}for(c in b){if(b[c]!==undefined&&b[c]!==a[c]){a[c]=b[c]}}this.setGradientBBox(a,i)},setGradientBBox:function(c,a){var b=this.attr;if(b.constrainGradients){c.setGradientBBox({x:a[0],y:a[1],width:a[2],height:a[3]})}else {c.setGradientBBox(this.getBBox(b.transformFillStroke))}},applyTransformations:function(q){if(!q&&!this.attr.dirtyTransform){return}var p=this,a=p.attr,m=p.getBBoxCenter(!0),k=m[0],l=m[1],r=a.translationX,s=a.translationY,d=a.scalingX,e=a.scalingY===null?a.scalingX:a.scalingY,n=a.scalingCenterX===null?k:a.scalingCenterX,o=a.scalingCenterY===null?l:a.scalingCenterY,h=a.rotationRads,i=a.rotationCenterX===null?k:a.rotationCenterX,j=a.rotationCenterY===null?l:a.rotationCenterY,b=Math.cos(h),c=Math.sin(h),f,g;if(d===1&&e===1){n=0;o=0}if(h===0){i=0;j=0}f=n*(1-d)-i;g=o*(1-e)-j;a.matrix.elements=[b*d,c*d,-c*e,b*e,b*f-c*g+i+r,c*f+b*g+j+s];a.matrix.inverse(a.inverseMatrix);a.dirtyTransform=!1;a.bbox.transform.dirty=!0},transform:function(a,e){var b=this.attr,c=b.matrix,d;if(a&&a.isMatrix){d=a.elements}else {d=a}c.prepend.apply(c,d.slice());c.inverse(b.inverseMatrix);if(e){this.updateTransformAttributes()}b.dirtyTransform=!1;b.bbox.transform.dirty=!0;this.setDirty(!0);return this},updateTransformAttributes:function(){var a=this.attr,b=a.matrix.split();a.rotationRads=b.rotate;a.rotationCenterX=0;a.rotationCenterY=0;a.scalingX=b.scaleX;a.scalingY=b.scaleY;a.scalingCenterX=0;a.scalingCenterY=0;a.translationX=b.translateX;a.translationY=b.translateY},resetTransform:function(b){var a=this.attr;a.matrix.reset();a.inverseMatrix.reset();if(!b){this.updateTransformAttributes()}a.dirtyTransform=!1;a.bbox.transform.dirty=!0;this.setDirty(!0);return this},setTransform:function(b,a){this.resetTransform(!0);this.transform.call(this,b,a);return this},preRender:Ext.emptyFn,render:Ext.emptyFn,hitTest:function(e,f){var b,c,a,d;if(this.isVisible()){b=e[0];c=e[1];a=this.getBBox();d=a&&b>=a.x&&b<=a.x+a.width&&c>=a.y&&c<=a.y+a.height;if(d){return {sprite:this}}}return null},isVisible:function(){var a=this.attr,b=this.getParent(),e=b&&(b.isSurface||b.isVisible()),h=e&&!a.hidden&&a.globalAlpha,c=Ext.util.Color.NONE,d=Ext.util.Color.RGBA_NONE,g=a.fillOpacity&&a.fillStyle!==c&&a.fillStyle!==d,f=a.strokeOpacity&&a.strokeStyle!==c&&a.strokeStyle!==d,i=h&&(g||f);return !!i},repaint:function(){var a=this.getSurface();if(a){a.renderFrame()}},remove:function(){var a=this.getSurface();if(a&&a.isSurface){return a.remove(this)}return null},destroy:function(){var a=this,b=a.modifiers.target,c;while(b){c=b;b=b._lower;c.destroy()}delete a.attr;a.remove();if(a.fireEvent('beforedestroy',a)!==!1){a.fireEvent('destroy',a)}a.callParent()}},1,0,0,0,['sprite.sprite'],[['observable',Ext.mixin.Observable]],[Ext.draw.sprite,'Sprite'],function(){this.def=new Ext.draw.sprite.AttributeDefinition(this.def);this.def.spriteClass=this});Ext.cmd.derive('Ext.draw.Path',Ext.Base,{statics:{pathRe:/,?([achlmqrstvxz]),?/gi,pathRe2:/-/gi,pathSplitRe:/\s|,/g},svgString:'',constructor:function(b){var a=this;a.commands=[];a.params=[];a.cursor=null;a.startX=0;a.startY=0;if(b){a.fromSvgString(b)}},clear:function(){var a=this;a.params.length=0;a.commands.length=0;a.cursor=null;a.startX=0;a.startY=0;a.dirt()},dirt:function(){this.svgString=''},moveTo:function(b,c){var a=this;if(!a.cursor){a.cursor=[b,c]}a.params.push(b,c);a.commands.push('M');a.startX=b;a.startY=c;a.cursor[0]=b;a.cursor[1]=c;a.dirt()},lineTo:function(b,c){var a=this;if(!a.cursor){a.cursor=[b,c];a.params.push(b,c);a.commands.push('M')}else {a.params.push(b,c);a.commands.push('L')}a.cursor[0]=b;a.cursor[1]=c;a.dirt()},bezierCurveTo:function(b,c,f,g,d,e){var a=this;if(!a.cursor){a.moveTo(b,c)}a.params.push(b,c,f,g,d,e);a.commands.push('C');a.cursor[0]=d;a.cursor[1]=e;a.dirt()},quadraticCurveTo:function(b,c,d,e){var a=this;if(!a.cursor){a.moveTo(b,c)}a.bezierCurveTo((2*b+a.cursor[0])/3,(2*c+a.cursor[1])/3,(2*b+d)/3,(2*c+e)/3,d,e)},closePath:function(){var a=this;if(a.cursor){a.cursor=null;a.commands.push('Z');a.dirt()}},arcTo:function(l,m,e,f,d,b,n){var i=this;if(b===undefined){b=d}if(n===undefined){n=0}if(!i.cursor){i.moveTo(l,m);return}if(d===0||b===0){i.lineTo(l,m);return}e-=l;f-=m;var g=i.cursor[0]-l,h=i.cursor[1]-m,q=e*h-f*g,j,k,x,z,y,A,v=Math.sqrt(g*g+h*h),w=Math.sqrt(e*e+f*f),u,c,a,t;if(q===0){i.lineTo(l,m);return}if(b!==d){j=Math.cos(n);k=Math.sin(n);x=j/d;z=k/b;y=-k/d;A=j/b;t=x*g+z*h;h=y*g+A*h;g=t;t=x*e+z*f;f=y*e+A*f;e=t}else {g/=d;h/=b;e/=d;f/=b}c=g*w+e*v;a=h*w+f*v;u=1/(Math.sin(Math.asin(Math.abs(q)/(v*w))*0.5)*Math.sqrt(c*c+a*a));c*=u;a*=u;var B=(c*g+a*h)/(g*g+h*h),C=(c*e+a*f)/(e*e+f*f),r=g*B-c,s=h*B-a,D=e*C-c,E=f*C-a,o=Math.atan2(s,r),p=Math.atan2(E,D);if(q>0){if(p<o){p+=Math.PI*2}}else {if(o<p){o+=Math.PI*2}}if(b!==d){c=j*c*d-k*a*b+l;a=k*a*b+j*a*b+m;i.lineTo(j*d*r-k*b*s+c,k*d*r+j*b*s+a);i.ellipse(c,a,d,b,n,o,p,q<0)}else {c=c*d+l;a=a*b+m;i.lineTo(d*r+c,b*s+a);i.ellipse(c,a,d,b,n,o,p,q<0)}},ellipse:function(k,l,h,i,g,d,e,m){var b=this,a=b.params,o=a.length,n,j,c,f;if(e-d>=Math.PI*2){b.ellipse(k,l,h,i,g,d,d+Math.PI,m);b.ellipse(k,l,h,i,g,d+Math.PI,e,m);return}if(!m){if(e<d){e+=Math.PI*2}n=b.approximateArc(a,k,l,h,i,g,d,e)}else {if(d<e){d+=Math.PI*2}n=b.approximateArc(a,k,l,h,i,g,e,d);for(c=o,f=a.length-2;c<f;c+=2,f-=2){j=a[c];a[c]=a[f];a[f]=j;j=a[c+1];a[c+1]=a[f+1];a[f+1]=j}}if(!b.cursor){b.cursor=[a[a.length-2],a[a.length-1]];b.commands.push('M')}else {b.cursor[0]=a[a.length-2];b.cursor[1]=a[a.length-1];b.commands.push('L')}for(c=2;c<n;c+=6){b.commands.push('C')}b.dirt()},arc:function(e,f,a,c,d,b){this.ellipse(e,f,a,a,0,c,d,b)},rect:function(b,c,e,d){var a=this;if(e===0||d===0){return}a.moveTo(b,c);a.lineTo(b+e,c);a.lineTo(b+e,c+d);a.lineTo(b,c+d);a.closePath()},approximateArc:function(s,f,g,q,r,y,t,a){var m=Math.cos(y),n=Math.sin(y),k=Math.cos(t),l=Math.sin(t),z=m*k*q-n*l*r,B=-m*l*q-n*k*r,A=n*k*q+m*l*r,C=-n*l*q+m*k*r,x=Math.PI/2,u=2,d=z,b=B,e=A,c=C,p=0.547443256150549,o,i,h,j,v,w;a-=t;if(a<0){a+=Math.PI*2}s.push(z+f,A+g);while(a>=x){s.push(d+b*p+f,e+c*p+g,d*p+b+f,e*p+c+g,b+f,c+g);u+=6;a-=x;o=d;d=b;b=-o;o=e;e=c;c=-o}if(a){i=(0.3294738052815987+0.012120855841304373*a)*a;h=Math.cos(a);j=Math.sin(a);v=h+i*j;w=j-i*h;s.push(d+b*i+f,e+c*i+g,d*v+b*w+f,e*v+c*w+g,d*h+b*j+f,e*h+c*j+g);u+=6}return u},arcSvg:function(b,c,j,y,m,v,x){if(b<0){b=-b}if(c<0){c=-c}var n=this,u=n.cursor[0],w=n.cursor[1],q=(u-v)/2,r=(w-x)/2,g=Math.cos(j),h=Math.sin(j),o=q*g+r*h,p=-q*h+r*g,k=o/b,l=p/c,a=k*k+l*l,s=(u+v)*0.5,t=(w+x)*0.5,e=0,f=0,i,d;if(a>=1){a=Math.sqrt(a);b*=a;c*=a}else {a=Math.sqrt(1/a-1);if(y===m){a=-a}e=a*b*l;f=-a*c*k;s+=g*e-h*f;t+=h*e+g*f}i=Math.atan2((p-f)/c,(o-e)/b);d=Math.atan2((-p-f)/c,(-o-e)/b)-i;if(m){if(d<=0){d+=Math.PI*2}}else {if(d>=0){d-=Math.PI*2}}n.ellipse(s,t,b,c,j,i,i+d,1-m)},fromSvgString:function(k){if(!k){return}var e=this,b,g={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0,A:7,C:6,H:1,L:2,M:2,Q:4,S:4,T:2,V:1,Z:0},h='',i,j,c=0,d=0,l=!1,a,f;if(Ext.isString(k)){b=k.replace(Ext.draw.Path.pathRe,' $1 ').replace(Ext.draw.Path.pathRe2,' -').split(Ext.draw.Path.pathSplitRe)}else if(Ext.isArray(k)){b=k.join(',').split(Ext.draw.Path.pathSplitRe)}for(a=0,f=0;a<b.length;a++){if(b[a]!==''){b[f++]=b[a]}}b.length=f;e.clear();for(a=0;a<b.length;){h=l;l=b[a];a++;switch(l){case 'M':e.moveTo(c=+b[a],d=+b[a+1]);a+=2;while(a<f&&!g.hasOwnProperty(b[a])){e.lineTo(c=+b[a],d=+b[a+1]);a+=2};break;case 'L':e.lineTo(c=+b[a],d=+b[a+1]);a+=2;while(a<f&&!g.hasOwnProperty(b[a])){e.lineTo(c=+b[a],d=+b[a+1]);a+=2};break;case 'A':while(a<f&&!g.hasOwnProperty(b[a])){e.arcSvg(+b[a],+b[a+1],+b[a+2]*Math.PI/180,+b[a+3],+b[a+4],c=+b[a+5],d=+b[a+6]);a+=7};break;case 'C':while(a<f&&!g.hasOwnProperty(b[a])){e.bezierCurveTo(+b[a],+b[a+1],i=+b[a+2],j=+b[a+3],c=+b[a+4],d=+b[a+5]);a+=6};break;case 'Z':e.closePath();break;case 'm':e.moveTo(c+=+b[a],d+=+b[a+1]);a+=2;while(a<f&&!g.hasOwnProperty(b[a])){e.lineTo(c+=+b[a],d+=+b[a+1]);a+=2};break;case 'l':e.lineTo(c+=+b[a],d+=+b[a+1]);a+=2;while(a<f&&!g.hasOwnProperty(b[a])){e.lineTo(c+=+b[a],d+=+b[a+1]);a+=2};break;case 'a':while(a<f&&!g.hasOwnProperty(b[a])){e.arcSvg(+b[a],+b[a+1],+b[a+2]*Math.PI/180,+b[a+3],+b[a+4],c+=+b[a+5],d+=+b[a+6]);a+=7};break;case 'c':while(a<f&&!g.hasOwnProperty(b[a])){e.bezierCurveTo(c+ +b[a],d+ +b[a+1],i=c+ +b[a+2],j=d+ +b[a+3],c+=+b[a+4],d+=+b[a+5]);a+=6};break;case 'z':e.closePath();break;case 's':if(!(h==='c'||h==='C'||h==='s'||h==='S')){i=c;j=d};while(a<f&&!g.hasOwnProperty(b[a])){e.bezierCurveTo(c+c-i,d+d-j,i=c+ +b[a],j=d+ +b[a+1],c+=+b[a+2],d+=+b[a+3]);a+=4};break;case 'S':if(!(h==='c'||h==='C'||h==='s'||h==='S')){i=c;j=d};while(a<f&&!g.hasOwnProperty(b[a])){e.bezierCurveTo(c+c-i,d+d-j,i=+b[a],j=+b[a+1],c=+b[a+2],d=+b[a+3]);a+=4};break;case 'q':while(a<f&&!g.hasOwnProperty(b[a])){e.quadraticCurveTo(i=c+ +b[a],j=d+ +b[a+1],c+=+b[a+2],d+=+b[a+3]);a+=4};break;case 'Q':while(a<f&&!g.hasOwnProperty(b[a])){e.quadraticCurveTo(i=+b[a],j=+b[a+1],c=+b[a+2],d=+b[a+3]);a+=4};break;case 't':if(!(h==='q'||h==='Q'||h==='t'||h==='T')){i=c;j=d};while(a<f&&!g.hasOwnProperty(b[a])){e.quadraticCurveTo(i=c+c-i,j=d+d-j,c+=+b[a+1],d+=+b[a+2]);a+=2};break;case 'T':if(!(h==='q'||h==='Q'||h==='t'||h==='T')){i=c;j=d};while(a<f&&!g.hasOwnProperty(b[a])){e.quadraticCurveTo(i=c+c-i,j=d+d-j,c=+b[a+1],d=+b[a+2]);a+=2};break;case 'h':while(a<f&&!g.hasOwnProperty(b[a])){e.lineTo(c+=+b[a],d);a++};break;case 'H':while(a<f&&!g.hasOwnProperty(b[a])){e.lineTo(c=+b[a],d);a++};break;case 'v':while(a<f&&!g.hasOwnProperty(b[a])){e.lineTo(c,d+=+b[a]);a++};break;case 'V':while(a<f&&!g.hasOwnProperty(b[a])){e.lineTo(c,d=+b[a]);a++};break;}}},clone:function(){var b=this,a=new Ext.draw.Path();a.params=b.params.slice(0);a.commands=b.commands.slice(0);a.cursor=b.cursor?b.cursor.slice(0):null;a.startX=b.startX;a.startY=b.startY;a.svgString=b.svgString;return a},transform:function(a){if(a.isIdentity()){return}var i=a.getXX(),k=a.getYX(),f=a.getDX(),j=a.getXY(),l=a.getYY(),g=a.getDY(),c=this.params,b=0,h=c.length,d,e;for(;b<h;b+=2){d=c[b];e=c[b+1];c[b]=d*i+e*k+f;c[b+1]=d*j+e*l+g}this.dirt()},getDimension:function(a){if(!a){a={}}if(!this.commands||!this.commands.length){a.x=0;a.y=0;a.width=0;a.height=0;return a}a.left=Infinity;a.top=Infinity;a.right=-Infinity;a.bottom=-Infinity;var f=0,b=0,g=this.commands,c=this.params,h=g.length,d,e;for(;f<h;f++){switch(g[f]){case 'M':case 'L':d=c[b];e=c[b+1];a.left=Math.min(d,a.left);a.top=Math.min(e,a.top);a.right=Math.max(d,a.right);a.bottom=Math.max(e,a.bottom);b+=2;break;case 'C':this.expandDimension(a,d,e,c[b],c[b+1],c[b+2],c[b+3],d=c[b+4],e=c[b+5]);b+=6;break;}}a.x=a.left;a.y=a.top;a.width=a.right-a.left;a.height=a.bottom-a.top;return a},getDimensionWithTransform:function(d,a){if(!this.commands||!this.commands.length){if(!a){a={}}a.x=0;a.y=0;a.width=0;a.height=0;return a}a.left=Infinity;a.top=Infinity;a.right=-Infinity;a.bottom=-Infinity;var i=d.getXX(),k=d.getYX(),g=d.getDX(),j=d.getXY(),l=d.getYY(),h=d.getDY(),m=0,b=0,n=this.commands,c=this.params,o=n.length,e,f;for(;m<o;m++){switch(n[m]){case 'M':case 'L':e=c[b]*i+c[b+1]*k+g;f=c[b]*j+c[b+1]*l+h;a.left=Math.min(e,a.left);a.top=Math.min(f,a.top);a.right=Math.max(e,a.right);a.bottom=Math.max(f,a.bottom);b+=2;break;case 'C':this.expandDimension(a,e,f,c[b]*i+c[b+1]*k+g,c[b]*j+c[b+1]*l+h,c[b+2]*i+c[b+3]*k+g,c[b+2]*j+c[b+3]*l+h,e=c[b+4]*i+c[b+5]*k+g,f=c[b+4]*j+c[b+5]*l+h);b+=6;break;}}if(!a){a={}}a.x=a.left;a.y=a.top;a.width=a.right-a.left;a.height=a.bottom-a.top;return a},expandDimension:function(a,l,n,h,j,i,k,m,o){var c=this,e=a.left,f=a.right,g=a.top,d=a.bottom,b=c.dim||(c.dim=[]);c.curveDimension(l,h,i,m,b);e=Math.min(e,b[0]);f=Math.max(f,b[1]);c.curveDimension(n,j,k,o,b);g=Math.min(g,b[0]);d=Math.max(d,b[1]);a.left=e;a.right=f;a.top=g;a.bottom=d},curveDimension:function(e,g,j,h,k){var l=3*(-e+3*(g-j)+h),i=6*(e-2*g+j),m=-3*(e-g),a,b,d=Math.min(e,h),c=Math.max(e,h),f;if(l===0){if(i===0){k[0]=d;k[1]=c;return}else {a=-m/i;if(0<a&&a<1){b=this.interpolate(e,g,j,h,a);d=Math.min(d,b);c=Math.max(c,b)}}}else {f=i*i-4*l*m;if(f>=0){f=Math.sqrt(f);a=(f-i)/2/l;if(0<a&&a<1){b=this.interpolate(e,g,j,h,a);d=Math.min(d,b);c=Math.max(c,b)}if(f>0){a-=f/l;if(0<a&&a<1){b=this.interpolate(e,g,j,h,a);d=Math.min(d,b);c=Math.max(c,b)}}}}k[0]=d;k[1]=c},interpolate:function(c,e,f,d,a){var b;if(a===0){return c}if(a===1){return d}b=(1-a)/a;return a*a*a*(d+b*(3*f+b*(3*e+b*c)))},fromStripes:function(e){var a=this,c=0,g=e.length,d,f,b;a.clear();for(;c<g;c++){b=e[c];a.params.push.apply(a.params,b);a.commands.push('M');for(d=2,f=b.length;d<f;d+=6){a.commands.push('C')}}if(!a.cursor){a.cursor=[]}a.cursor[0]=a.params[a.params.length-2];a.cursor[1]=a.params[a.params.length-1];a.dirt()},toStripes:function(m){var j=m||[],g,e,f,c,d,k,l,h,a,i=this.commands,b=this.params,n=i.length;for(h=0,a=0;h<n;h++){switch(i[h]){case 'M':g=[k=c=b[a++],l=d=b[a++]];j.push(g);break;case 'L':e=b[a++];f=b[a++];g.push((c+c+e)/3,(d+d+f)/3,(c+e+e)/3,(d+f+f)/3,c=e,d=f);break;case 'C':g.push(b[a++],b[a++],b[a++],b[a++],c=b[a++],d=b[a++]);break;case 'Z':e=k;f=l;g.push((c+c+e)/3,(d+d+f)/3,(c+e+e)/3,(d+f+f)/3,c=e,d=f);break;}}return j},updateSvgString:function(){var c=[],e=this.commands,b=this.params,f=e.length,d=0,a=0;for(;d<f;d++){switch(e[d]){case 'M':c.push('M'+b[a]+','+b[a+1]);a+=2;break;case 'L':c.push('L'+b[a]+','+b[a+1]);a+=2;break;case 'C':c.push('C'+b[a]+','+b[a+1]+' '+b[a+2]+','+b[a+3]+' '+b[a+4]+','+b[a+5]);a+=6;break;case 'Z':c.push('Z');break;}}this.svgString=c.join('')},toString:function(){if(!this.svgString){this.updateSvgString()}return this.svgString}},3,0,0,0,0,0,[Ext.draw,'Path'],0);Ext.define('Ext.draw.overrides.hittest.Path',{override:'Ext.draw.Path',rayOrigin:{x:-10000,y:-10000},isPointInPath:function(j,k){var m=this,n=m.commands,h=Ext.draw.PathUtil,c=m.rayOrigin,b=m.params,o=n.length,f=null,l=null,d=0,e=0,g=0,i,a;for(i=0,a=0;i<o;i++){switch(n[i]){case 'M':if(f!==null){if(h.linesIntersection(f,l,d,e,c.x,c.y,j,k)){g+=1}};f=d=b[a];l=e=b[a+1];a+=2;break;case 'L':if(h.linesIntersection(d,e,b[a],b[a+1],c.x,c.y,j,k)){g+=1};d=b[a];e=b[a+1];a+=2;break;case 'C':g+=h.cubicLineIntersections(d,b[a],b[a+2],b[a+4],e,b[a+1],b[a+3],b[a+5],c.x,c.y,j,k).length;d=b[a+4];e=b[a+5];a+=6;break;case 'Z':if(f!==null){if(h.linesIntersection(f,l,d,e,c.x,c.y,j,k)){g+=1}};break;}}return g%2===1},isPointOnPath:function(h,i){var l=this,k=l.commands,f=Ext.draw.PathUtil,b=l.params,m=k.length,e=null,j=null,c=0,d=0,g,a;for(g=0,a=0;g<m;g++){switch(k[g]){case 'M':if(e!==null){if(f.pointOnLine(e,j,c,d,h,i)){return !0}};e=c=b[a];j=d=b[a+1];a+=2;break;case 'L':if(f.pointOnLine(c,d,b[a],b[a+1],h,i)){return !0};c=b[a];d=b[a+1];a+=2;break;case 'C':if(f.pointOnCubic(c,b[a],b[a+2],b[a+4],d,b[a+1],b[a+3],b[a+5],h,i)){return !0};c=b[a+4];d=b[a+5];a+=6;break;case 'Z':if(e!==null){if(f.pointOnLine(e,j,c,d,h,i)){return !0}};break;}}return !1},getSegmentIntersections:function(h,j,i,k,o,q,p,r){var u=this,n=arguments.length,g=Ext.draw.PathUtil,t=u.commands,b=u.params,v=t.length,l=null,m=null,e=0,f=0,d=[],s,a,c;for(s=0,a=0;s<v;s++){switch(t[s]){case 'M':if(l!==null){switch(n){case 4:c=g.linesIntersection(l,m,e,f,h,j,i,k);if(c){d.push(c)};break;case 8:c=g.cubicLineIntersections(h,i,o,p,j,k,q,r,l,m,e,f);d.push.apply(d,c);break;}};l=e=b[a];m=f=b[a+1];a+=2;break;case 'L':switch(n){case 4:c=g.linesIntersection(e,f,b[a],b[a+1],h,j,i,k);if(c){d.push(c)};break;case 8:c=g.cubicLineIntersections(h,i,o,p,j,k,q,r,e,f,b[a],b[a+1]);d.push.apply(d,c);break;};e=b[a];f=b[a+1];a+=2;break;case 'C':switch(n){case 4:c=g.cubicLineIntersections(e,b[a],b[a+2],b[a+4],f,b[a+1],b[a+3],b[a+5],h,j,i,k);d.push.apply(d,c);break;case 8:c=g.cubicsIntersections(e,b[a],b[a+2],b[a+4],f,b[a+1],b[a+3],b[a+5],h,i,o,p,j,k,q,r);d.push.apply(d,c);break;};e=b[a+4];f=b[a+5];a+=6;break;case 'Z':if(l!==null){switch(n){case 4:c=g.linesIntersection(l,m,e,f,h,j,i,k);if(c){d.push(c)};break;case 8:c=g.cubicLineIntersections(h,i,o,p,j,k,q,r,l,m,e,f);d.push.apply(d,c);break;}};break;}}return d},getIntersections:function(e){var l=this,k=l.commands,b=l.params,m=k.length,h=null,j=null,f=0,g=0,c=[],i,a,d;for(i=0,a=0;i<m;i++){switch(k[i]){case 'M':if(h!==null){d=e.getSegmentIntersections.call(e,h,j,f,g);c.push.apply(c,d)};h=f=b[a];j=g=b[a+1];a+=2;break;case 'L':d=e.getSegmentIntersections.call(e,f,g,b[a],b[a+1]);c.push.apply(c,d);f=b[a];g=b[a+1];a+=2;break;case 'C':d=e.getSegmentIntersections.call(e,f,g,b[a],b[a+1],b[a+2],b[a+3],b[a+4],b[a+5]);c.push.apply(c,d);f=b[a+4];g=b[a+5];a+=6;break;case 'Z':if(h!==null){d=e.getSegmentIntersections.call(e,h,j,f,g);c.push.apply(c,d)};break;}}return c}});Ext.cmd.derive('Ext.draw.sprite.Path',Ext.draw.sprite.Sprite,{type:'path',isPath:!0,inheritableStatics:{def:{processors:{path:function(a,b){if(!(a instanceof Ext.draw.Path)){a=new Ext.draw.Path(a)}return a}},aliases:{d:'path'},triggers:{path:'bbox'},updaters:{path:function(b){var a=b.path;if(!a||a.bindAttr!==b){a=new Ext.draw.Path();a.bindAttr=b;b.path=a}a.clear();this.updatePath(a,b);this.scheduleUpdater(b,'bbox',['path'])}}}},updatePlainBBox:function(a){if(this.attr.path){this.attr.path.getDimension(a)}},updateTransformedBBox:function(a){if(this.attr.path){this.attr.path.getDimensionWithTransform(this.attr.matrix,a)}},render:function(d,b){var c=this.attr.matrix,a=this.attr;if(!a.path||a.path.params.length===0){return}c.toContext(b);b.appendPath(a.path);b.fillStroke(a)},updatePath:function(b,a){}},0,0,0,0,['Ext.draw.Sprite','sprite.path'],0,[Ext.draw.sprite,'Path'],0);Ext.define('Ext.draw.overrides.hittest.sprite.Path',{override:'Ext.draw.sprite.Path',isPointInPath:function(f,g){var b=this.attr,a,d,c,e;if(b.fillStyle===Ext.util.Color.RGBA_NONE){return this.isPointOnPath(f,g)}a=b.path;d=b.matrix;if(!d.isIdentity()){c=a.params.slice(0);a.transform(b.matrix)}e=a.isPointInPath(f,g);if(c){a.params=c}return e},isPointOnPath:function(f,g){var c=this.attr,a=c.path,e=c.matrix,b,d;if(!e.isIdentity()){b=a.params.slice(0);a.transform(c.matrix)}d=a.isPointOnPath(f,g);if(b){a.params=b}return d},hitTest:function(i,a){var e=this,d=e.attr,b=d.path,l=d.matrix,f=i[0],g=i[1],k=(arguments.callee.$previous||Ext.draw.sprite.Sprite.prototype.hitTest).call(this,i,a),c=null,h,j;if(!k){return c}a=a||Ext.draw.sprite.Sprite.defaultHitTestOptions;if(!l.isIdentity()){h=b.params.slice(0);b.transform(d.matrix)}if(a.fill&&a.stroke){j=d.fillStyle!==Ext.util.Color.NONE&&d.fillStyle!==Ext.util.Color.RGBA_NONE;if(j){if(b.isPointInPath(f,g)){c={sprite:e}}}else {if(b.isPointInPath(f,g)||b.isPointOnPath(f,g)){c={sprite:e}}}}else if(a.stroke&&!a.fill){if(b.isPointOnPath(f,g)){c={sprite:e}}}else if(a.fill&&!a.stroke){if(b.isPointInPath(f,g)){c={sprite:e}}}if(h){b.params=h}return c},getIntersections:function(g){if(!(g.isSprite&&g.isPath)){return []}var e=this.attr,f=g.attr,a=e.path,b=f.path,i=e.matrix,j=f.matrix,c,d,h;if(!i.isIdentity()){c=a.params.slice(0);a.transform(e.matrix)}if(!j.isIdentity()){d=b.params.slice(0);b.transform(f.matrix)}h=a.getIntersections(b);if(c){a.params=c}if(d){b.params=d}return h}});Ext.cmd.derive('Ext.draw.sprite.Circle',Ext.draw.sprite.Path,{type:'circle',inheritableStatics:{def:{processors:{cx:'number',cy:'number',r:'number'},aliases:{radius:'r',x:'cx',y:'cy',centerX:'cx',centerY:'cy'},defaults:{cx:0,cy:0,r:4},triggers:{cx:'path',cy:'path',r:'path'}}},updatePlainBBox:function(b){var c=this.attr,d=c.cx,e=c.cy,a=c.r;b.x=d-a;b.y=e-a;b.width=a+a;b.height=a+a},updateTransformedBBox:function(a){var c=this.attr,f=c.cx,g=c.cy,h=c.r,b=c.matrix,i=b.getScaleX(),j=b.getScaleY(),d,e;d=i*h;e=j*h;a.x=b.x(f,g)-d;a.y=b.y(f,g)-e;a.width=d+d;a.height=e+e},updatePath:function(b,a){b.arc(a.cx,a.cy,a.r,0,Math.PI*2,!1)}},0,0,0,0,['sprite.circle'],0,[Ext.draw.sprite,'Circle'],0);Ext.cmd.derive('Ext.draw.sprite.Arc',Ext.draw.sprite.Circle,{type:'arc',inheritableStatics:{def:{processors:{startAngle:'number',endAngle:'number',anticlockwise:'bool'},aliases:{from:'startAngle',to:'endAngle',start:'startAngle',end:'endAngle'},defaults:{startAngle:0,endAngle:Math.PI*2,anticlockwise:!1},triggers:{startAngle:'path',endAngle:'path',anticlockwise:'path'}}},updatePath:function(b,a){b.arc(a.cx,a.cy,a.r,a.startAngle,a.endAngle,a.anticlockwise)}},0,0,0,0,['sprite.arc'],0,[Ext.draw.sprite,'Arc'],0);Ext.cmd.derive('Ext.draw.sprite.Arrow',Ext.draw.sprite.Path,{inheritableStatics:{def:{processors:{x:'number',y:'number',size:'number'},defaults:{x:0,y:0,size:4},triggers:{x:'path',y:'path',size:'path'}}},updatePath:function(c,b){var a=b.size*1.5,d=b.x-b.lineWidth/2,e=b.y;c.fromSvgString('M'.concat(d-a*0.7,',',e-a*0.4,'l',[a*0.6,0,0,-a*0.4,a,a*0.8,-a,a*0.8,0,-a*0.4,-a*0.6,0],'z'))}},0,0,0,0,['sprite.arrow'],0,[Ext.draw.sprite,'Arrow'],0);Ext.cmd.derive('Ext.draw.sprite.Composite',Ext.draw.sprite.Sprite,{type:'composite',isComposite:!0,config:{sprites:[]},constructor:function(a){this.sprites=[];this.map={};Ext.draw.sprite.Sprite.prototype.constructor.call(this,a)},addSprite:function(a){var e=0,b,c,d;if(Ext.isArray(a)){c=[];while(e<a.length){c.push(this.addSprite(a[e++]))}return c}if(a&&a.type&&!a.isSprite){a=Ext.create('sprite.'+a.type,a)}if(!a||!a.isSprite||a.isComposite){return null}a.setSurface(null);a.setParent(this);b=this.attr;d=a.applyTransformations;a.applyTransformations=function(c){if(a.attr.dirtyTransform){b.dirtyTransform=!0;b.bbox.plain.dirty=!0;b.bbox.transform.dirty=!0}d.call(a,c)};this.sprites.push(a);this.map[a.id]=a.getId();b.bbox.plain.dirty=!0;b.bbox.transform.dirty=!0;return a},add:function(a){return this.addSprite(a)},removeSprite:function(a,e){var b=this,c,d;if(a){if(a.charAt){a=b.map[a]}if(!a||!a.isSprite){return null}if(a.destroyed||a.destroying){return a}c=a.getId();d=b.map[c];delete b.map[c];if(e){a.destroy()}if(!d){return a}a.setParent(null);Ext.Array.remove(b.sprites,a);b.dirtyZIndex=!0;b.setDirty(!0)}return a||null},addAll:function(a){var b=0;if(a.isSprite||a.type){this.add(a)}else if(Ext.isArray(a)){while(b<a.length){this.add(a[b++])}}},updatePlainBBox:function(b){var j=this,c=Infinity,h=-Infinity,d=Infinity,f=-Infinity,g,a,e,i;for(e=0,i=j.sprites.length;e<i;e++){g=j.sprites[e];g.applyTransformations();a=g.getBBox();if(c>a.x){c=a.x}if(h<a.x+a.width){h=a.x+a.width}if(d>a.y){d=a.y}if(f<a.y+a.height){f=a.y+a.height}}b.x=c;b.y=d;b.width=h-c;b.height=f-d},isVisible:function(){var b=this.attr,a=this.getParent(),c=a&&(a.isSurface||a.isVisible()),d=c&&!b.hidden&&b.globalAlpha;return !!d},render:function(d,f,e){var a=this,i=a.attr,g=a.attr.matrix,c=a.sprites,h=c.length,b=0;g.toContext(f);for(;b<h;b++){d.renderSprite(c[b],e)}},destroy:function(){var d=this,b=d.sprites,c=b.length,a;for(a=0;a<c;a++){b[a].destroy()}b.length=0;Ext.draw.sprite.Sprite.prototype.destroy.call(this)}},1,0,0,0,['sprite.composite'],0,[Ext.draw.sprite,'Composite'],0);Ext.cmd.derive('Ext.draw.sprite.Cross',Ext.draw.sprite.Path,{inheritableStatics:{def:{processors:{x:'number',y:'number',size:'number'},defaults:{x:0,y:0,size:4},triggers:{x:'path',y:'path',size:'path'}}},updatePath:function(c,b){var a=b.size/1.7,d=b.x-b.lineWidth/2,e=b.y;c.fromSvgString('M'.concat(d-a,',',e,'l',[-a,-a,a,-a,a,a,a,-a,a,a,-a,a,a,a,-a,a,-a,-a,-a,a,-a,-a,'z']))}},0,0,0,0,['sprite.cross'],0,[Ext.draw.sprite,'Cross'],0);Ext.cmd.derive('Ext.draw.sprite.Diamond',Ext.draw.sprite.Path,{inheritableStatics:{def:{processors:{x:'number',y:'number',size:'number'},defaults:{x:0,y:0,size:4},triggers:{x:'path',y:'path',size:'path'}}},updatePath:function(c,b){var a=b.size*1.25,d=b.x-b.lineWidth/2,e=b.y;c.fromSvgString(['M',d,e-a,'l',a,a,-a,a,-a,-a,a,-a,'z'])}},0,0,0,0,['sprite.diamond'],0,[Ext.draw.sprite,'Diamond'],0);Ext.cmd.derive('Ext.draw.sprite.Ellipse',Ext.draw.sprite.Path,{type:'ellipse',inheritableStatics:{def:{processors:{cx:'number',cy:'number',rx:'number',ry:'number',axisRotation:'number'},aliases:{radius:'r',x:'cx',y:'cy',centerX:'cx',centerY:'cy',radiusX:'rx',radiusY:'ry'},defaults:{cx:0,cy:0,rx:1,ry:1,axisRotation:0},triggers:{cx:'path',cy:'path',rx:'path',ry:'path',axisRotation:'path'}}},updatePlainBBox:function(a){var b=this.attr,e=b.cx,f=b.cy,c=b.rx,d=b.ry;a.x=e-c;a.y=f-d;a.width=c+c;a.height=d+d},updateTransformedBBox:function(c){var b=this.attr,m=b.cx,j=b.cy,k=b.rx,p=b.ry,l=p/k,a=b.matrix.clone(),d,e,f,g,n,o,i,h;a.append(1,0,0,l,0,j*(1-l));d=a.getXX();f=a.getYX();n=a.getDX();e=a.getXY();g=a.getYY();o=a.getDY();i=Math.sqrt(d*d+f*f)*k;h=Math.sqrt(e*e+g*g)*k;c.x=m*d+j*f+n-i;c.y=m*e+j*g+o-h;c.width=i+i;c.height=h+h},updatePath:function(b,a){b.ellipse(a.cx,a.cy,a.rx,a.ry,a.axisRotation,0,Math.PI*2,!1)}},0,0,0,0,['sprite.ellipse'],0,[Ext.draw.sprite,'Ellipse'],0);Ext.cmd.derive('Ext.draw.sprite.EllipticalArc',Ext.draw.sprite.Ellipse,{type:'ellipticalArc',inheritableStatics:{def:{processors:{startAngle:'number',endAngle:'number',anticlockwise:'bool'},aliases:{from:'startAngle',to:'endAngle',start:'startAngle',end:'endAngle'},defaults:{startAngle:0,endAngle:Math.PI*2,anticlockwise:!1},triggers:{startAngle:'path',endAngle:'path',anticlockwise:'path'}}},updatePath:function(b,a){b.ellipse(a.cx,a.cy,a.rx,a.ry,a.axisRotation,a.startAngle,a.endAngle,a.anticlockwise)}},0,0,0,0,['sprite.ellipticalArc'],0,[Ext.draw.sprite,'EllipticalArc'],0);Ext.cmd.derive('Ext.draw.sprite.Rect',Ext.draw.sprite.Path,{type:'rect',inheritableStatics:{def:{processors:{x:'number',y:'number',width:'number',height:'number',radius:'number'},aliases:{},triggers:{x:'path',y:'path',width:'path',height:'path',radius:'path'},defaults:{x:0,y:0,width:8,height:8,radius:0}}},updatePlainBBox:function(a){var b=this.attr;a.x=b.x;a.y=b.y;a.width=b.width;a.height=b.height},updateTransformedBBox:function(a,b){this.attr.matrix.transformBBox(b,this.attr.radius,a)},updatePath:function(d,g){var a=g.x,b=g.y,f=g.width,e=g.height,c=Math.min(g.radius,Math.abs(e)*0.5,Math.abs(f)*0.5);if(c===0){d.rect(a,b,f,e)}else {d.moveTo(a+c,b);d.arcTo(a+f,b,a+f,b+e,c);d.arcTo(a+f,b+e,a,b+e,c);d.arcTo(a,b+e,a,b,c);d.arcTo(a,b,a+c,b,c);d.closePath()}}},0,0,0,0,['sprite.rect'],0,[Ext.draw.sprite,'Rect'],0);Ext.cmd.derive('Ext.draw.sprite.Image',Ext.draw.sprite.Rect,{type:'image',statics:{imageLoaders:{}},inheritableStatics:{def:{processors:{src:'string'},triggers:{src:'src'},updaters:{src:'updateSource'},defaults:{src:'',width:null,height:null}}},updateSurface:function(a){if(a){this.updateSource(this.attr)}},updateSource:function(e){var g=this,f=e.src,d=g.getSurface(),a=Ext.draw.sprite.Image.imageLoaders[f],i=e.width,h=e.height,c,b;if(!d){return}if(!a){c=new Image();a=Ext.draw.sprite.Image.imageLoaders[f]={image:c,done:!1,pendingSprites:[g],pendingSurfaces:[d]};c.width=i;c.height=h;c.onload=function(){var c;if(!a.done){a.done=!0;for(b=0;b<a.pendingSprites.length;b++){c=a.pendingSprites[b];if(!c.destroyed){c.setDirty(!0)}}for(b=0;b<a.pendingSurfaces.length;b++){c=a.pendingSurfaces[b];if(!c.destroyed){c.renderFrame()}}}};c.src=f}else {Ext.Array.include(a.pendingSprites,g);Ext.Array.include(a.pendingSurfaces,d)}},render:function(d,e){var j=this,b=j.attr,h=b.matrix,i=b.src,k=b.x,l=b.y,g=b.width,f=b.height,c=Ext.draw.sprite.Image.imageLoaders[i],a;if(c&&c.done){h.toContext(e);a=c.image;e.drawImage(a,k,l,g||(a.naturalWidth||a.width)/d.devicePixelRatio,f||(a.naturalHeight||a.height)/d.devicePixelRatio)}},isVisible:function(){var b=this.attr,a=this.getParent(),c=a&&(a.isSurface||a.isVisible()),d=c&&!b.hidden&&b.globalAlpha;return !!d}},0,0,0,0,['sprite.image'],0,[Ext.draw.sprite,'Image'],0);Ext.cmd.derive('Ext.draw.sprite.Instancing',Ext.draw.sprite.Sprite,{type:'instancing',isInstancing:!0,config:{template:null,instances:null},instances:null,applyTemplate:function(a){var b;if(!a.isSprite){if(!a.xclass&&!a.type){a.type='circle'}a=Ext.create(a.xclass||'sprite.'+a.type,a)}b=a.getSurface();if(b){b.remove(a)}a.setParent(this);return a},updateTemplate:function(a,b){if(b){delete b.ownAttr}a.setSurface(this.getSurface());a.ownAttr=a.attr;this.clearAll();this.setDirty(!0)},updateInstances:function(b){var a,c;this.clearAll();if(Ext.isArray(b)){for(a=0,c=b.length;a<c;a++){this.add(b[a])}}},updateSurface:function(b){var a=this.getTemplate();if(a&&!a.destroyed){a.setSurface(b)}},get:function(a){return this.instances[a]},getCount:function(){return this.instances.length},clearAll:function(){var a=this.getTemplate();a.attr.children=this.instances=[];this.position=0},createInstance:function(c,a,b){return this.add(c,a,b)},add:function(g,e,f){var c=this,a=c.getTemplate(),d=a.attr,b=Ext.Object.chain(d);a.modifiers.target.prepareAttributes(b);a.attr=b;a.setAttributes(g,e,f);b.template=a;c.instances.push(b);a.attr=d;c.position++;return b},getBBox:function(){return null},getBBoxFor:function(e,c){var a=this.getTemplate(),d=a.attr,b;a.attr=this.instances[e];b=a.getBBox(c);a.attr=d;return b},isVisible:function(){var c=this.attr,a=this.getParent(),b;b=a&&a.isSurface&&!c.hidden&&c.globalAlpha;return !!b},isInstanceVisible:function(b){var d=this,a=d.getTemplate(),f=a.attr,e=d.instances,c=!1;if(!Ext.isNumber(b)||b<0||b>=e.length||!d.isVisible()){return c}a.attr=e[b];c=a.isVisible(point,options);a.attr=f;return c},render:function(e,b,h){var d=this,a=d.getTemplate(),f=e.getRect(),j=d.attr.matrix,i=a.attr,g=d.instances,k=d.position,c;j.toContext(b);a.preRender(e,b,h);a.useAttributes(b,f);a.isSpriteInstance=!0;for(c=0;c<k;c++){if(g[c].hidden){continue}b.save();a.attr=g[c];a.useAttributes(b,f);a.render(e,b,h);b.restore()}a.isSpriteInstance=!1;a.attr=i},setAttributesFor:function(f,b,d){var a=this.getTemplate(),e=a.attr,c=this.instances[f];if(!c){return}a.attr=c;if(d){b=Ext.apply({},b)}else {b=a.self.def.normalize(b)}a.modifiers.target.pushDown(c,b);a.attr=e},destroy:function(){var b=this,a=b.getTemplate();b.instances=null;if(a){a.destroy()}Ext.draw.sprite.Sprite.prototype.destroy.call(this)}},0,0,0,0,['sprite.instancing'],0,[Ext.draw.sprite,'Instancing'],0);Ext.define('Ext.draw.overrides.hittest.sprite.Instancing',{override:'Ext.draw.sprite.Instancing',hitTest:function(h,g){var e=this,c=e.getTemplate(),f=c.attr,d=e.instances,i=d.length,b=0,a=null;if(!e.isVisible()){return a}for(;b<i;b++){c.attr=d[b];a=c.hitTest(h,g);if(a){a.isInstance=!0;a.template=a.sprite;a.sprite=this;a.instance=d[b];a.index=b;return a}}c.attr=f;return a}});Ext.cmd.derive('Ext.draw.sprite.Line',Ext.draw.sprite.Sprite,{type:'line',inheritableStatics:{def:{processors:{fromX:'number',fromY:'number',toX:'number',toY:'number',crisp:'bool'},defaults:{fromX:0,fromY:0,toX:1,toY:1,crisp:!1,strokeStyle:'black'},aliases:{x1:'fromX',y1:'fromY',x2:'toX',y2:'toY'},triggers:{crisp:'bbox'}}},updateLineBBox:function(h,s,a,c,b,d){var l=this.attr,p=l.matrix,o=l.lineWidth/2,f,g,i,j,e,k,r,q,m,n;if(l.crisp){a=this.align(a);b=this.align(b);c=this.align(c);d=this.align(d)}if(s){e=p.transformPoint([a,c]);a=e[0];c=e[1];e=p.transformPoint([b,d]);b=e[0];d=e[1]}f=Math.min(a,b);i=Math.max(a,b);g=Math.min(c,d);j=Math.max(c,d);k=Math.atan2(i-f,j-g);r=Math.sin(k);q=Math.cos(k);m=o*q;n=o*r;f-=m;g-=n;i+=m;j+=n;h.x=f;h.y=g;h.width=i-f;h.height=j-g},updatePlainBBox:function(b){var a=this.attr;this.updateLineBBox(b,!1,a.fromX,a.fromY,a.toX,a.toY)},updateTransformedBBox:function(b,c){var a=this.attr;this.updateLineBBox(b,!0,a.fromX,a.fromY,a.toX,a.toY)},align:function(a){return Math.round(a)-0.5},render:function(e,b){var c=this,a=c.attr,d=a.matrix;d.toContext(b);b.beginPath();if(a.crisp){b.moveTo(c.align(a.fromX),c.align(a.fromY));b.lineTo(c.align(a.toX),c.align(a.toY))}else {b.moveTo(a.fromX,a.fromY);b.lineTo(a.toX,a.toY)}b.stroke()}},0,0,0,0,['sprite.line'],0,[Ext.draw.sprite,'Line'],0);Ext.cmd.derive('Ext.draw.sprite.Plus',Ext.draw.sprite.Path,{inheritableStatics:{def:{processors:{x:'number',y:'number',size:'number'},defaults:{x:0,y:0,size:4},triggers:{x:'path',y:'path',size:'path'}}},updatePath:function(c,b){var a=b.size/1.3,d=b.x-b.lineWidth/2,e=b.y;c.fromSvgString('M'.concat(d-a/2,',',e-a/2,'l',[0,-a,a,0,0,a,a,0,0,a,-a,0,0,a,-a,0,0,-a,-a,0,0,-a,'z']))}},0,0,0,0,['sprite.plus'],0,[Ext.draw.sprite,'Plus'],0);Ext.cmd.derive('Ext.draw.sprite.Sector',Ext.draw.sprite.Path,{type:'sector',inheritableStatics:{def:{processors:{centerX:'number',centerY:'number',startAngle:'number',endAngle:'number',startRho:'number',endRho:'number',margin:'number'},aliases:{rho:'endRho'},triggers:{centerX:'path,bbox',centerY:'path,bbox',startAngle:'path,bbox',endAngle:'path,bbox',startRho:'path,bbox',endRho:'path,bbox',margin:'path,bbox'},defaults:{centerX:0,centerY:0,startAngle:0,endAngle:0,startRho:0,endRho:150,margin:0,path:'M 0,0'}}},getMidAngle:function(){return this.midAngle||0},updatePath:function(g,a){var b=Math.min(a.startAngle,a.endAngle),c=Math.max(a.startAngle,a.endAngle),j=this.midAngle=(b+c)*0.5,k=Ext.Number.isEqual(Math.abs(c-b),Ext.draw.Draw.pi2,1.0E-10),i=a.margin,d=a.centerX,e=a.centerY,f=Math.min(a.startRho,a.endRho),h=Math.max(a.startRho,a.endRho);if(i){d+=i*Math.cos(j);e+=i*Math.sin(j)}if(!k){g.moveTo(d+f*Math.cos(b),e+f*Math.sin(b));g.lineTo(d+h*Math.cos(b),e+h*Math.sin(b))}g.arc(d,e,h,b,c,!1);g[k?'moveTo':'lineTo'](d+f*Math.cos(c),e+f*Math.sin(c));g.arc(d,e,f,c,b,!0)}},0,0,0,0,['sprite.sector'],0,[Ext.draw.sprite,'Sector'],0);Ext.cmd.derive('Ext.draw.sprite.Square',Ext.draw.sprite.Path,{inheritableStatics:{def:{processors:{x:'number',y:'number',size:'number'},defaults:{x:0,y:0,size:4},triggers:{x:'path',y:'path',size:'size'}}},updatePath:function(d,a){var c=a.size*1.2,b=c*2,e=a.x-a.lineWidth/2,f=a.y;d.fromSvgString('M'.concat(e-c,',',f-c,'l',[b,0,0,b,-b,0,0,-b,'z']))}},0,0,0,0,['sprite.square'],0,[Ext.draw.sprite,'Square'],0);Ext.cmd.derive('Ext.draw.TextMeasurer',Ext.Base,{singleton:!0,measureDiv:null,measureCache:{},precise:Ext.isIE8,measureDivTpl:{id:'ext-draw-text-measurer',tag:'div',style:{overflow:'hidden',position:'relative','float':'left',width:0,height:0},children:{tag:'div',style:{display:'block',position:'absolute',x:-100000,y:-100000,padding:0,margin:0,'z-index':-100000,'white-space':'nowrap'}}},actualMeasureText:function(g,e){var f=Ext.draw.TextMeasurer,a=f.measureDiv,b=100000,d,c;if(!a){c=Ext.Element.create({style:{'overflow':'hidden','position':'relative','float':'left','width':0,'height':0}});f.measureDiv=a=Ext.Element.create({style:{'position':'absolute','x':b,'y':b,'z-index':-b,'white-space':'nowrap','display':'block','padding':0,'margin':0}});Ext.getBody().appendChild(c);c.appendChild(a)}if(e){a.setStyle({font:e,lineHeight:'normal'})}a.setText('('+g+')');d=a.getSize();a.setText('()');d.width-=a.getSize().width;return d},measureTextSingleLine:function(b,c){var i=0,g=0,a,d,h,e,f,k,j;if(this.precise){return this.preciseMeasureTextSingleLine(b,c)}b=b.toString();a=this.measureCache;h=b.split('');if(!a[c]){a[c]={}}a=a[c];if(a[b]){return a[b]}for(f=0,k=h.length;f<k;f++){e=h[f];if(!(d=a[e])){j=this.actualMeasureText(e,c);d=a[e]=j}i+=d.width;g=Math.max(g,d.height)}return a[b]={width:i,height:g}},preciseMeasureTextSingleLine:function(b,c){var a;b=b.toString();a=this.measureDiv||(this.measureDiv=Ext.getBody().createChild(this.measureDivTpl).down('div'));a.setStyle({font:c||''});return Ext.util.TextMetrics.measure(a,b)},measureText:function(h,g){var f=h.split('\n'),i=f.length,e=0,d=0,a,b,c;if(i===1){return this.measureTextSingleLine(h,g)}c=[];for(b=0;b<i;b++){a=this.measureTextSingleLine(f[b],g);c.push(a);e+=a.height;d=Math.max(d,a.width)}return {width:d,height:e,sizes:c}}},0,0,0,0,0,0,[Ext.draw,'TextMeasurer'],0);Ext.cmd.derive('Ext.draw.sprite.Text',Ext.draw.sprite.Sprite,function(){var d={'xx-small':!0,'x-small':!0,'small':!0,'medium':!0,'large':!0,'x-large':!0,'xx-large':!0},c={normal:!0,bold:!0,bolder:!0,lighter:!0,100:!0,200:!0,300:!0,400:!0,500:!0,600:!0,700:!0,800:!0,900:!0},a={start:'start',left:'start',center:'center',middle:'center',end:'end',right:'end'},b={top:'top',hanging:'hanging',middle:'middle',center:'middle',alphabetic:'alphabetic',ideographic:'ideographic',bottom:'bottom'};return {type:'text',lineBreakRe:/\r?\n/g,inheritableStatics:{def:{animationProcessors:{text:'text'},processors:{x:'number',y:'number',text:'string',fontSize:function(a){if(Ext.isNumber(+a)){return a+'px'}else if(a.match(Ext.dom.Element.unitRe)){return a}else if(a in d){return a}},fontStyle:'enums(,italic,oblique)',fontVariant:'enums(,small-caps)',fontWeight:function(a){if(a in c){return String(a)}else {return ''}},fontFamily:'string',textAlign:function(b){return a[b]||'center'},textBaseline:function(a){return b[a]||'alphabetic'},font:'string'},aliases:{'font-size':'fontSize','font-family':'fontFamily','font-weight':'fontWeight','font-variant':'fontVariant','text-anchor':'textAlign','dominant-baseline':'textBaseline'},defaults:{fontStyle:'',fontVariant:'',fontWeight:'',fontSize:'10px',fontFamily:'sans-serif',font:'10px sans-serif',textBaseline:'alphabetic',textAlign:'start',strokeStyle:'rgba(0, 0, 0, 0)',fillStyle:'#000',x:0,y:0,text:''},triggers:{fontStyle:'fontX,bbox',fontVariant:'fontX,bbox',fontWeight:'fontX,bbox',fontSize:'fontX,bbox',fontFamily:'fontX,bbox',font:'font,bbox,canvas',textBaseline:'bbox',textAlign:'bbox',x:'bbox',y:'bbox',text:'bbox'},updaters:{fontX:'makeFontShorthand',font:'parseFontShorthand'}}},config:{preciseMeasurement:undefined},constructor:function(a){var b;if(a&&a.font){a=Ext.clone(a);for(b in a){if(b!=='font'&&b.indexOf('font')===0){delete a[b]}}}Ext.draw.sprite.Sprite.prototype.constructor.call(this,a)},fontValuesMap:{'italic':'fontStyle','oblique':'fontStyle','small-caps':'fontVariant','bold':'fontWeight','bolder':'fontWeight','lighter':'fontWeight',100:'fontWeight',200:'fontWeight',300:'fontWeight',400:'fontWeight',500:'fontWeight',600:'fontWeight',700:'fontWeight',800:'fontWeight',900:'fontWeight','xx-small':'fontSize','x-small':'fontSize','small':'fontSize','medium':'fontSize','large':'fontSize','x-large':'fontSize','xx-large':'fontSize'},makeFontShorthand:function(a){var b=[];if(a.fontStyle){b.push(a.fontStyle)}if(a.fontVariant){b.push(a.fontVariant)}if(a.fontWeight){b.push(a.fontWeight)}if(a.fontSize){b.push(a.fontSize)}if(a.fontFamily){b.push(a.fontFamily)}this.setAttributes({font:b.join(' ')},!0)},parseFontShorthand:function(i){var e=i.font,j=e.length,b={},h=this.fontValuesMap,c=0,d,f,a,g;while(c<j&&d!==-1){d=e.indexOf(' ',c);if(d<0){a=e.substr(c)}else if(d>c){a=e.substr(c,d-c)}else {continue}f=a.indexOf('/');if(f>0){a=a.substr(0,f)}else if(f===0){continue}if(a!=='normal'&&a!=='inherit'){g=h[a];if(g){b[g]=a}else if(a.match(Ext.dom.Element.unitRe)){b.fontSize=a}else {b.fontFamily=e.substr(c);break}}c=d+1}if(!b.fontStyle){b.fontStyle=''}if(!b.fontVariant){b.fontVariant=''}if(!b.fontWeight){b.fontWeight=''}this.setAttributes(b,!0)},fontProperties:{fontStyle:!0,fontVariant:!0,fontWeight:!0,fontSize:!0,fontFamily:!0},setAttributes:function(a,d,e){var b,c;if(a&&a.font){c={};for(b in a){if(!(b in this.fontProperties)){c[b]=a[b]}}a=c}Ext.draw.sprite.Sprite.prototype.setAttributes.call(this,a,d,e)},getBBox:function(d){var b=this,a=b.attr.bbox.plain,c=b.getSurface();if(a.dirty){b.updatePlainBBox(a);a.dirty=!1}if(c&&c.getInherited().rtl&&c.getFlipRtlText()){b.updatePlainBBox(a,!0)}return Ext.draw.sprite.Sprite.prototype.getBBox.call(this,d)},rtlAlignments:{start:'end',center:'center',end:'start'},updatePlainBBox:function(l,u){var c=this,b=c.attr,h=b.x,n=b.y,m=[],w=b.font,x=b.text,v=b.textBaseline,o=b.textAlign,s=c.getPreciseMeasurement(),g,r;if(u&&c.oldSize){g=c.oldSize}else {r=Ext.draw.TextMeasurer.precise;if(Ext.isBoolean(s)){Ext.draw.TextMeasurer.precise=s}g=c.oldSize=Ext.draw.TextMeasurer.measureText(x,w);Ext.draw.TextMeasurer.precise=r}var j=c.getSurface(),k=j&&j.getInherited().rtl||!1,t=k&&j.getFlipRtlText(),f=g.sizes,i=g.height,d=g.width,q=f?f.length:0,e,p,a=0;switch(v){case 'hanging':case 'top':break;case 'ideographic':case 'bottom':n-=i;break;case 'alphabetic':n-=i*0.8;break;case 'middle':n-=i*0.5;break;}if(t){p=j.getRect();h=p[2]-p[0]-h;o=c.rtlAlignments[o]}switch(o){case 'start':if(k){for(;a<q;a++){e=f[a].width;m.push(-(d-e))}};break;case 'end':h-=d;if(k){break};for(;a<q;a++){e=f[a].width;m.push(d-e)};break;case 'center':h-=d*0.5;for(;a<q;a++){e=f[a].width;m.push((k?-1:1)*(d-e)*0.5)};break;}b.textAlignOffsets=m;l.x=h;l.y=n;l.width=d;l.height=i},setText:function(a){this.setAttributes({text:a},!0)},render:function(k,d,n){var g=this,b=g.attr,m=Ext.draw.Matrix.fly(b.matrix.elements.slice(0)),l=g.getBBox(!0),j=b.textAlignOffsets,i=Ext.util.Color.RGBA_NONE,f,h,a,c,e;if(b.text.length===0){return}c=b.text.split(g.lineBreakRe);e=l.height/c.length;f=b.bbox.plain.x;h=b.bbox.plain.y+e*0.78;m.toContext(d);if(k.getInherited().rtl){f+=b.bbox.plain.width}for(a=0;a<c.length;a++){if(d.fillStyle!==i){d.fillText(c[a],f+(j[a]||0),h+e*a)}if(d.strokeStyle!==i){d.strokeText(c[a],f+(j[a]||0),h+e*a)}}}}},1,0,0,0,['sprite.text'],0,[Ext.draw.sprite,'Text'],0);Ext.cmd.derive('Ext.draw.sprite.Tick',Ext.draw.sprite.Line,{inheritableStatics:{def:{processors:{x:'number',y:'number',size:'number'},defaults:{x:0,y:0,size:4},triggers:{x:'tick',y:'tick',size:'tick'},updaters:{tick:function(a){var c=a.size*1.5,b=a.lineWidth/2,d=a.x,e=a.y;this.setAttributes({fromX:d-b,fromY:e-c,toX:d-b,toY:e+c})}}}}},0,0,0,0,['sprite.tick'],0,[Ext.draw.sprite,'Tick'],0);Ext.cmd.derive('Ext.draw.sprite.Triangle',Ext.draw.sprite.Path,{inheritableStatics:{def:{processors:{x:'number',y:'number',size:'number'},defaults:{x:0,y:0,size:4},triggers:{x:'path',y:'path',size:'path'}}},updatePath:function(c,b){var a=b.size*2.2,d=b.x,e=b.y;c.fromSvgString('M'.concat(d,',',e,'m0-',a*0.48,'l',a*0.5,',',a*0.87,'-',a,',0z'))}},0,0,0,0,['sprite.triangle'],0,[Ext.draw.sprite,'Triangle'],0);Ext.cmd.derive('Ext.draw.gradient.Linear',Ext.draw.gradient.Gradient,{type:'linear',config:{degrees:0,radians:0},applyRadians:function(a,b){if(Ext.isNumber(a)){return a}return b},applyDegrees:function(a,b){if(Ext.isNumber(a)){return a}return b},updateRadians:function(a){this.setDegrees(Ext.draw.Draw.degrees(a))},updateDegrees:function(a){this.setRadians(Ext.draw.Draw.rad(a))},generateGradient:function(m,e){var g=this.getRadians(),k=Math.cos(g),l=Math.sin(g),d=e.width,a=e.height,i=e.x+d*0.5,j=e.y+a*0.5,h=this.getStops(),n=h.length,f,c,b;if(Ext.isNumber(i)&&Ext.isNumber(j)&&a>0&&d>0){c=Math.sqrt(a*a+d*d)*Math.abs(Math.cos(g-Math.atan(a/d)))/2;f=m.createLinearGradient(i+k*c,j+l*c,i-k*c,j-l*c);for(b=0;b<n;b++){f.addColorStop(h[b].offset,h[b].color)}return f}return Ext.util.Color.NONE}},0,0,0,0,0,0,[Ext.draw.gradient,'Linear'],0);Ext.cmd.derive('Ext.draw.gradient.Radial',Ext.draw.gradient.Gradient,{type:'radial',config:{start:{x:0,y:0,r:0},end:{x:0,y:0,r:1}},applyStart:function(a,c){var b;if(!c){return a}b={x:c.x,y:c.y,r:c.r};if('x' in a){b.x=a.x}else if('centerX' in a){b.x=a.centerX}if('y' in a){b.y=a.y}else if('centerY' in a){b.y=a.centerY}if('r' in a){b.r=a.r}else if('radius' in a){b.r=a.radius}return b},applyEnd:function(a,c){var b;if(!c){return a}b={x:c.x,y:c.y,r:c.r};if('x' in a){b.x=a.x}else if('centerX' in a){b.x=a.centerX}if('y' in a){b.y=a.y}else if('centerY' in a){b.y=a.centerY}if('r' in a){b.r=a.r}else if('radius' in a){b.r=a.radius}return b},generateGradient:function(k,d){var e=this.getStart(),g=this.getEnd(),c=d.width*0.5,a=d.height*0.5,i=d.x+c,j=d.y+a,h=k.createRadialGradient(i+e.x*c,j+e.y*a,e.r*Math.max(c,a),i+g.x*c,j+g.y*a,g.r*Math.max(c,a)),f=this.getStops(),l=f.length,b;for(b=0;b<l;b++){h.addColorStop(f[b].offset,f[b].color)}return h}},0,0,0,0,0,0,[Ext.draw.gradient,'Radial'],0);Ext.cmd.derive('Ext.draw.Surface',Ext.draw.SurfaceBase,{devicePixelRatio:window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI,deprecated:{'5.1.0':{statics:{methods:{stableSort:function(a){return Ext.Array.sort(a,function(b,c){return b.attr.zIndex-c.attr.zIndex})}}}}},cls:'x-surface',config:{rect:null,background:null,items:[],dirty:!1,flipRtlText:!1},isSurface:!0,isPendingRenderFrame:!1,dirtyPredecessorCount:0,emptyRect:[0,0,0,0],constructor:function(b){var a=this;a.predecessors=[];a.successors=[];a.map={};Ext.draw.SurfaceBase.prototype.constructor.call(this,b);a.matrix=new Ext.draw.Matrix();a.inverseMatrix=a.matrix.inverse()},roundPixel:function(a){return Math.round(this.devicePixelRatio*a)/this.devicePixelRatio},waitFor:function(a){var b=this,c=b.predecessors;if(!Ext.Array.contains(c,a)){c.push(a);a.successors.push(b);if(a.getDirty()){b.dirtyPredecessorCount++}}},updateDirty:function(d){var c=this.successors,e=c.length,b=0,a;for(;b<e;b++){a=c[b];if(d){a.dirtyPredecessorCount++;a.setDirty(!0)}else {a.dirtyPredecessorCount--;if(a.dirtyPredecessorCount===0&&a.isPendingRenderFrame){a.renderFrame()}}}},applyBackground:function(a,b){this.setDirty(!0);if(Ext.isString(a)){a={fillStyle:a}}return Ext.factory(a,Ext.draw.sprite.Rect,b)},applyRect:function(a,b){if(b&&a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]){return b}if(Ext.isArray(a)){return [a[0],a[1],a[2],a[3]]}else if(Ext.isObject(a)){return [a.x||a.left,a.y||a.top,a.width||a.right-a.left,a.height||a.bottom-a.top]}},updateRect:function(a){var d=this,b=a[0],c=a[1],h=b+a[2],g=c+a[3],e=d.getBackground(),f=d.element;f.setLocalXY(Math.floor(b),Math.floor(c));f.setSize(Math.ceil(h-Math.floor(b)),Math.ceil(g-Math.floor(c)));if(e){e.setAttributes({x:0,y:0,width:Math.ceil(h-Math.floor(b)),height:Math.ceil(g-Math.floor(c))})}d.setDirty(!0)},resetTransform:function(){this.matrix.set(1,0,0,1,0,0);this.inverseMatrix.set(1,0,0,1,0,0);this.setDirty(!0)},get:function(a){return this.map[a]||this.getItems()[a]},add:function(){var d=this,h=Array.prototype.slice.call(arguments),j=Ext.isArray(h[0]),i=d.map,e=[],b,c,a,f,g,k;b=Ext.Array.clean(j?h[0]:h);if(!b.length){return e}for(g=0,k=b.length;g<k;g++){c=b[g];if(!c||c.destroyed){continue}a=null;if(c.isSprite&&!i[c.getId()]){a=c}else if(!i[c.id]){a=this.createItem(c)}if(a){i[a.getId()]=a;e.push(a);f=a.getSurface();if(f&&f.isSurface){f.remove(a)}a.setParent(d);a.setSurface(d);d.onAdd(a)}}b=d.getItems();if(b){b.push.apply(b,e)}d.dirtyZIndex=!0;d.setDirty(!0);if(!j&&e.length===1){return e[0]}else {return e}},onAdd:Ext.emptyFn,remove:function(a,f){var b=this,e=b.clearing,d,c;if(a){if(a.charAt){a=b.map[a]}if(!a||!a.isSprite){return null}d=a.id;c=b.map[d];delete b.map[d];if(a.destroyed||a.destroying){if(c&&!e){Ext.Array.remove(b.getItems(),a)}return a}if(!c){if(f){a.destroy()}return a}a.setParent(null);a.setSurface(null);if(f){a.destroy()}if(!e){Ext.Array.remove(b.getItems(),a);b.dirtyZIndex=!0;b.setDirty(!0)}}return a||null},removeAll:function(e){var a=this,d=a.getItems(),b,c;a.clearing=!!e;for(c=d.length-1;c>=0;c--){b=d[c];if(e){b.destroy()}else {b.setParent(null);b.setSurface(null)}}a.clearing=!1;d.length=0;a.map={};a.dirtyZIndex=!0;if(!a.destroying){a.setDirty(!0)}},applyItems:function(a){if(this.getItems()){this.removeAll(!0)}return Ext.Array.from(this.add(a))},createItem:function(a){return Ext.create(a.xclass||'sprite.'+a.type,a)},getBBox:function(b,j){var c=Infinity,g=-Infinity,d=Infinity,f=-Infinity,h,a,e,i;b=Ext.Array.from(b);for(e=0,i=b.length;e<i;e++){h=b[e];a=h.getBBox(j);if(c>a.x){c=a.x}if(g<a.x+a.width){g=a.x+a.width}if(d>a.y){d=a.y}if(f<a.y+a.height){f=a.y+a.height}}return {x:c,y:d,width:g-c,height:f-d}},getEventXY:function(i){var b=this,h=b.getInherited().rtl,c=i.getXY(),f=b.getOwnerBody(),e=f.getXY(),d=b.getRect()||b.emptyRect,a=[],g;if(h){g=f.getWidth();a[0]=e[0]-c[0]-d[0]+g}else {a[0]=c[0]-e[0]-d[0]}a[1]=c[1]-e[1]-d[1];return a},clear:Ext.emptyFn,orderByZIndex:function(){var e=this,b=e.getItems(),d=!1,a,c;if(e.getDirty()){for(a=0,c=b.length;a<c;a++){if(b[a].attr.dirtyZIndex){d=!0;break}}if(d){Ext.Array.sort(b,function(a,b){return a.attr.zIndex-b.attr.zIndex});this.setDirty(!0)}for(a=0,c=b.length;a<c;a++){b[a].attr.dirtyZIndex=!1}}},repaint:function(){var a=this;a.repaint=Ext.emptyFn;Ext.defer(function(){delete a.repaint;a.element.repaint()},1)},renderFrame:function(){var a=this,c,d,e,b,f;if(!(a.element&&a.getDirty()&&a.getRect())){return}if(a.dirtyPredecessorCount>0){a.isPendingRenderFrame=!0;return}c=a.getBackground();d=a.getItems();a.orderByZIndex();if(a.getDirty()){a.clear();a.clearTransform();if(c){a.renderSprite(c)}for(b=0,f=d.length;b<f;b++){e=d[b];if(a.renderSprite(e)===!1){return}e.attr.textPositionCount=a.textPosition}a.setDirty(!1)}},renderSprite:Ext.emptyFn,clearTransform:Ext.emptyFn,destroy:function(){var a=this;a.destroying=!0;a.removeAll(!0);a.destroying=!1;a.predecessors=a.successors=null;if(a.hasListeners.destroy){a.fireEvent('destroy',a)}Ext.draw.SurfaceBase.prototype.destroy.call(this)}},1,['surface'],['widget','surface'],{'widget':!0,'surface':!0},['widget.surface'],0,[Ext.draw,'Surface'],0);Ext.define('Ext.draw.overrides.hittest.Surface',{override:'Ext.draw.Surface',hitTest:function(f,b){var g=this,e=g.getItems(),a,d,c;b=b||Ext.draw.sprite.Sprite.defaultHitTestOptions;for(a=e.length-1;a>=0;a--){d=e[a];if(d.hitTest){c=d.hitTest(f,b);if(c){return c}}}return null},hitTestEvent:function(b,a){var c=this.getEventXY(b);return this.hitTest(c,a)}});Ext.cmd.derive('Ext.draw.engine.SvgContext',Ext.Base,{toSave:['strokeOpacity','strokeStyle','fillOpacity','fillStyle','globalAlpha','lineWidth','lineCap','lineJoin','lineDash','lineDashOffset','miterLimit','shadowOffsetX','shadowOffsetY','shadowBlur','shadowColor','globalCompositeOperation','position','fillGradient','strokeGradient'],strokeOpacity:1,strokeStyle:'none',fillOpacity:1,fillStyle:'none',lineDas:[],lineDashOffset:0,globalAlpha:1,lineWidth:1,lineCap:'butt',lineJoin:'miter',miterLimit:10,shadowOffsetX:0,shadowOffsetY:0,shadowBlur:0,shadowColor:'none',globalCompositeOperation:'src',urlStringRe:/^url\(#([\w-]+)\)$/,constructor:function(b){var a=this;a.surface=b;a.state=[];a.matrix=new Ext.draw.Matrix();a.path=null;a.clear()},clear:function(){this.group=this.surface.mainGroup;this.position=0;this.path=null},getElement:function(a){return this.surface.getSvgElement(this.group,a,this.position++)},save:function(){var d=this.toSave,c={},e=this.getElement('g'),a,b;for(b=0;b<d.length;b++){a=d[b];if(a in this){c[a]=this[a]}}this.position=0;c.matrix=this.matrix.clone();this.state.push(c);this.group=e;return e},restore:function(){var e=this.toSave,d=this.state.pop(),c=this.group,f=c.dom.childNodes,a,b;while(f.length>this.position){c.last().destroy()}for(b=0;b<e.length;b++){a=e[b];if(a in d){this[a]=d[a]}else {delete this[a]}}this.setTransform.apply(this,d.matrix.elements);this.group=c.getParent()},transform:function(d,f,e,g,b,c){var a;if(this.path){a=Ext.draw.Matrix.fly([d,f,e,g,b,c]).inverse();this.path.transform(a)}this.matrix.append(d,f,e,g,b,c)},setTransform:function(c,e,d,f,a,b){if(this.path){this.path.transform(this.matrix)}this.matrix.reset();this.transform(c,e,d,f,a,b)},scale:function(a,b){this.transform(a,0,0,b,0,0)},rotate:function(a){var b=Math.cos(a),d=Math.sin(a),c=-Math.sin(a),e=Math.cos(a);this.transform(b,d,c,e,0,0)},translate:function(a,b){this.transform(1,0,0,1,a,b)},setGradientBBox:function(a){this.bbox=a},beginPath:function(){this.path=new Ext.draw.Path()},moveTo:function(a,b){if(!this.path){this.beginPath()}this.path.moveTo(a,b);this.path.element=null},lineTo:function(a,b){if(!this.path){this.beginPath()}this.path.lineTo(a,b);this.path.element=null},rect:function(a,b,d,c){this.moveTo(a,b);this.lineTo(a+d,b);this.lineTo(a+d,b+c);this.lineTo(a,b+c);this.closePath()},strokeRect:function(c,d,b,a){this.beginPath();this.rect(c,d,b,a);this.stroke()},fillRect:function(c,d,b,a){this.beginPath();this.rect(c,d,b,a);this.fill()},closePath:function(){if(!this.path){this.beginPath()}this.path.closePath();this.path.element=null},arcSvg:function(d,e,a,b,c,f,g){if(!this.path){this.beginPath()}this.path.arcSvg(d,e,a,b,c,f,g);this.path.element=null},arc:function(e,f,d,b,c,a){if(!this.path){this.beginPath()}this.path.arc(e,f,d,b,c,a);this.path.element=null},ellipse:function(g,h,e,f,d,b,c,a){if(!this.path){this.beginPath()}this.path.ellipse(g,h,e,f,d,b,c,a);this.path.element=null},arcTo:function(d,f,e,g,b,c,a){if(!this.path){this.beginPath()}this.path.arcTo(d,f,e,g,b,c,a);this.path.element=null},bezierCurveTo:function(a,d,b,e,c,f){if(!this.path){this.beginPath()}this.path.bezierCurveTo(a,d,b,e,c,f);this.path.element=null},strokeText:function(c,d,e){var b,a;c=String(c);if(this.strokeStyle){b=this.getElement('text');a=this.surface.getSvgElement(b,'tspan',0);this.surface.setElementAttributes(b,{'x':d,'y':e,'transform':this.matrix.toSvg(),'stroke':this.strokeStyle,'fill':'none','opacity':this.globalAlpha,'stroke-opacity':this.strokeOpacity,'style':'font: '+this.font,'stroke-dasharray':this.lineDash.join(','),'stroke-dashoffset':this.lineDashOffset});if(this.lineDash.length){this.surface.setElementAttributes(b,{'stroke-dasharray':this.lineDash.join(','),'stroke-dashoffset':this.lineDashOffset})}if(a.dom.firstChild){a.dom.removeChild(a.dom.firstChild)}this.surface.setElementAttributes(a,{'alignment-baseline':'alphabetic'});a.dom.appendChild(document.createTextNode(Ext.String.htmlDecode(c)))}},fillText:function(c,d,e){var b,a;c=String(c);if(this.fillStyle){b=this.getElement('text');a=this.surface.getSvgElement(b,'tspan',0);this.surface.setElementAttributes(b,{'x':d,'y':e,'transform':this.matrix.toSvg(),'fill':this.fillStyle,'opacity':this.globalAlpha,'fill-opacity':this.fillOpacity,'style':'font: '+this.font});if(a.dom.firstChild){a.dom.removeChild(a.dom.firstChild)}this.surface.setElementAttributes(a,{'alignment-baseline':'alphabetic'});a.dom.appendChild(document.createTextNode(Ext.String.htmlDecode(c)))}},drawImage:function(b,j,k,d,c,o,p,n,i){var a=this,e=a.getElement('image'),l=j,m=k,h=typeof d==='undefined'?b.width:d,g=typeof c==='undefined'?b.height:c,f=null;if(typeof i!=='undefined'){f=j+' '+k+' '+d+' '+c;l=o;m=p;h=n;g=i}e.dom.setAttributeNS('http://www.w3.org/1999/xlink','href',b.src);a.surface.setElementAttributes(e,{viewBox:f,x:l,y:m,width:h,height:g,opacity:a.globalAlpha,transform:a.matrix.toSvg()})},fill:function(){var a=this,f,c,b,d,e;if(!a.path){return}if(a.fillStyle){c=a.fillGradient;b=a.path.element;d=a.bbox;if(!b){f=a.path.toString();b=a.path.element=a.getElement('path');a.surface.setElementAttributes(b,{'d':f,'transform':a.matrix.toSvg()})}if(c&&d){e=c.generateGradient(a,d)}else {e=a.fillStyle}a.surface.setElementAttributes(b,{'fill':e,'fill-opacity':a.fillOpacity*a.globalAlpha})}},stroke:function(){var a=this,f,c,b,e,d;if(!a.path){return}if(a.strokeStyle){c=a.strokeGradient;b=a.path.element;e=a.bbox;if(!b||!a.path.svgString){f=a.path.toString();if(!f){return}b=a.path.element=a.getElement('path');a.surface.setElementAttributes(b,{'fill':'none','d':f,'transform':a.matrix.toSvg()})}if(c&&e){d=c.generateGradient(a,e)}else {d=a.strokeStyle}a.surface.setElementAttributes(b,{'stroke':d,'stroke-linecap':a.lineCap,'stroke-linejoin':a.lineJoin,'stroke-width':a.lineWidth,'stroke-opacity':a.strokeOpacity*a.globalAlpha,'stroke-dasharray':a.lineDash.join(','),'stroke-dashoffset':a.lineDashOffset});if(a.lineDash.length){a.surface.setElementAttributes(b,{'stroke-dasharray':a.lineDash.join(','),'stroke-dashoffset':a.lineDashOffset})}}},fillStroke:function(c,b){var a=this,g=a.fillStyle,f=a.strokeStyle,e=a.fillOpacity,d=a.strokeOpacity;if(b===undefined){b=c.transformFillStroke}if(!b){c.inverseMatrix.toContext(a)}if(g&&e!==0){a.fill()}if(f&&d!==0){a.stroke()}},appendPath:function(a){this.path=a.clone()},setLineDash:function(a){this.lineDash=a},getLineDash:function(){return this.lineDash},createLinearGradient:function(d,f,e,g){var a=this,c=a.surface.getNextDef('linearGradient'),b;a.surface.setElementAttributes(c,{'x1':d,'y1':f,'x2':e,'y2':g,'gradientUnits':'userSpaceOnUse'});b=new Ext.draw.engine.SvgContext.Gradient(a,a.surface,c);return b},createRadialGradient:function(f,h,e,g,i,d){var a=this,c=a.surface.getNextDef('radialGradient'),b;a.surface.setElementAttributes(c,{fx:f,fy:h,cx:g,cy:i,r:d,gradientUnits:'userSpaceOnUse'});b=new Ext.draw.engine.SvgContext.Gradient(a,a.surface,c,e/d);return b}},1,0,0,0,0,0,[Ext.draw.engine,'SvgContext'],0);Ext.cmd.derive('Ext.draw.engine.SvgContext.Gradient',Ext.Base,{isGradient:!0,constructor:function(e,d,c,b){var a=this;a.ctx=e;a.surface=d;a.element=c;a.position=0;a.compression=b||0},addColorStop:function(d,c){var a=this,e=a.surface.getSvgElement(a.element,'stop',a.position++),b=a.compression;a.surface.setElementAttributes(e,{'offset':(((1-b)*d+b)*100).toFixed(2)+'%','stop-color':c,'stop-opacity':Ext.util.Color.fly(c).a.toFixed(15)})},toString:function(){var a=this.element.dom.childNodes;while(a.length>this.position){Ext.fly(a[a.length-1]).destroy()}return 'url(#'+this.element.getId()+')'}},3,0,0,0,0,0,[Ext.draw.engine.SvgContext,'Gradient'],0);Ext.cmd.derive('Ext.draw.engine.Svg',Ext.draw.Surface,{isSVG:!0,config:{highPrecision:!1},getElementConfig:function(){return {reference:'element',style:{position:'absolute'},children:[{reference:'bodyElement',style:{width:'100%',height:'100%',position:'relative'},children:[{tag:'svg',reference:'svgElement',namespace:'http://www.w3.org/2000/svg',width:'100%',height:'100%',version:1.1}]}]}},constructor:function(b){var a=this;Ext.draw.Surface.prototype.constructor.call(this,b);a.mainGroup=a.createSvgNode('g');a.defsElement=a.createSvgNode('defs');a.svgElement.appendChild(a.mainGroup);a.svgElement.appendChild(a.defsElement);a.ctx=new Ext.draw.engine.SvgContext(a)},createSvgNode:function(b){var a=document.createElementNS('http://www.w3.org/2000/svg',b);return Ext.get(a)},getSvgElement:function(e,f,b){var c=e.dom.childNodes,d=c.length,a;if(b<d){a=c[b];if(a.tagName===f){return Ext.get(a)}else {Ext.destroy(a)}}else if(b>d){Ext.raise('Invalid position.')}a=Ext.get(this.createSvgNode(f));if(b===0){e.insertFirst(a)}else {a.insertAfter(Ext.fly(c[b-1]))}a.cache={};return a},setElementAttributes:function(d,c){var f=d.dom,e=d.cache,a,b;for(a in c){b=c[a];if(e[a]!==b){e[a]=b;f.setAttribute(a,b)}}},getNextDef:function(a){return this.getSvgElement(this.defsElement,a,this.defsPosition++)},clearTransform:function(){var a=this;a.mainGroup.set({transform:a.matrix.toSvg()})},clear:function(){this.ctx.clear();this.removeSurplusDefs();this.defsPosition=0},removeSurplusDefs:function(){var b=this.defsElement,c=b.dom.childNodes,d=c.length,a;for(a=d-1;a>this.defsPosition;a--){b.removeChild(c[a])}},renderSprite:function(a){var d=this,c=d.getRect(),b=d.ctx;if(a.attr.hidden||a.attr.globalAlpha===0){b.save();b.restore();return}a.element=b.save();a.preRender(this);a.useAttributes(b,c);if(!1===a.render(this,b,[0,0,c[2],c[3]])){return !1}a.setDirty(!1);b.restore()},toSVG:function(f,e){var g=Ext.getClassName(this),a,b,d,c;a='<svg version="1.1" baseProfile="full" xmlns="http://www.w3.org/2000/svg" width="'+f.width+'" height="'+f.height+'">';for(c=0;c<e.length;c++){b=e[c];if(Ext.getClassName(b)!==g){continue}d=b.getRect();a+='<g transform="translate('+d[0]+','+d[1]+')">';a+=this.serializeNode(b.svgElement.dom);a+='</g>'}a+='</svg>';return a},b64EncodeUnicode:function(a){return btoa(encodeURIComponent(a).replace(/%([0-9A-F]{2})/g,function(c,b){return String.fromCharCode('0x'+b)}))},flatten:function(c,b){var a='<?xml version="1.0" standalone="yes"?>';a+=this.toSVG(c,b);return {data:'data:image/svg+xml;base64,'+this.b64EncodeUnicode(a),type:'svg'}},serializeNode:function(a){var c='',b,d,e,f;if(a.nodeType===document.TEXT_NODE){return a.nodeValue}c+='<'+a.nodeName;if(a.attributes.length){for(b=0,d=a.attributes.length;b<d;b++){e=a.attributes[b];c+=' '+e.name+'="'+Ext.String.htmlEncode(e.value)+'"'}}c+='>';if(a.childNodes&&a.childNodes.length){for(b=0,d=a.childNodes.length;b<d;b++){f=a.childNodes[b];c+=this.serializeNode(f)}}c+='</'+a.nodeName+'>';return c},destroy:function(){var a=this;a.ctx.destroy();a.mainGroup.destroy();a.defsElement.destroy();delete a.mainGroup;delete a.defsElement;delete a.ctx;Ext.draw.Surface.prototype.destroy.call(this)},remove:function(a,b){if(a&&a.element){a.element.destroy();a.element=null}Ext.draw.Surface.prototype.remove.apply(this,arguments)}},1,0,['widget','surface'],{'widget':!0,'surface':!0},0,0,[Ext.draw.engine,'Svg'],0);if(!Ext.draw){Ext.draw={}}if(!Ext.draw.engine){Ext.draw.engine={}}Ext.draw.engine.excanvas=!0;if(!document.createElement('canvas').getContext){(function(){var f=Math;var b=f.round;var n=f.sin;var m=f.cos;var t=f.abs;var s=f.sqrt;var c=10;var e=c/2;var u=+navigator.userAgent.match(/MSIE ([\d.]+)?/)[1];function getContext(){return this.context_||(this.context_=new CanvasRenderingContext2D_(this))}var p=Array.prototype.slice;function bind(c,a,d){var b=p.call(arguments,2);return function(){return c.apply(a,b.concat(p.call(arguments)))}}function encodeHtmlAttribute(a){return String(a).replace(/&/g,'&amp;').replace(/"/g,'&quot;')}function addNamespace(b,a,c){Ext.onReady(function(){if(!b.namespaces[a]){b.namespaces.add(a,c,'#default#VML')}})}function addNamespacesAndStylesheet(a){addNamespace(a,'g_vml_','urn:schemas-microsoft-com:vml');addNamespace(a,'g_o_','urn:schemas-microsoft-com:office:office');if(!a.styleSheets['ex_canvas_']){var b=a.createStyleSheet();b.owningElement.id='ex_canvas_';b.cssText='canvas{display:inline-block;overflow:hidden;text-align:left;width:300px;height:150px}'}}addNamespacesAndStylesheet(document);var o={init:function(b){var a=b||document;a.createElement('canvas');a.attachEvent('onreadystatechange',bind(this.init_,this,a))},init_:function(c){var b=c.getElementsByTagName('canvas');for(var a=0;a<b.length;a++){this.initElement(b[a])}},initElement:function(a){if(!a.getContext){a.getContext=getContext;addNamespacesAndStylesheet(a.ownerDocument);a.innerHTML='';a.attachEvent('onpropertychange',onPropertyChange);a.attachEvent('onresize',onResize);var b=a.attributes;if(b.width&&b.width.specified){a.style.width=b.width.nodeValue+'px'}else {a.width=a.clientWidth}if(b.height&&b.height.specified){a.style.height=b.height.nodeValue+'px'}else {a.height=a.clientHeight}}return a}};function onPropertyChange(b){var a=b.srcElement;switch(b.propertyName){case 'width':a.getContext().clearRect();a.style.width=a.attributes.width.nodeValue+'px';a.firstChild.style.width=a.clientWidth+'px';break;case 'height':a.getContext().clearRect();a.style.height=a.attributes.height.nodeValue+'px';a.firstChild.style.height=a.clientHeight+'px';break;}}function onResize(b){var a=b.srcElement;if(a.firstChild){a.firstChild.style.width=a.clientWidth+'px';a.firstChild.style.height=a.clientHeight+'px'}}o.init();var h=[];for(var i=0;i<16;i++){for(var j=0;j<16;j++){h[i*16+j]=i.toString(16)+j.toString(16)}}function createMatrixIdentity(){return [[1,0,0],[0,1,0],[0,0,1]]}function matrixMultiply(f,g){var d=createMatrixIdentity();for(var a=0;a<3;a++){for(var b=0;b<3;b++){var e=0;for(var c=0;c<3;c++){e+=f[a][c]*g[c][b]}d[a][b]=e}}return d}function copyState(a,b){b.fillStyle=a.fillStyle;b.lineCap=a.lineCap;b.lineJoin=a.lineJoin;b.lineDash=a.lineDash;b.lineWidth=a.lineWidth;b.miterLimit=a.miterLimit;b.shadowBlur=a.shadowBlur;b.shadowColor=a.shadowColor;b.shadowOffsetX=a.shadowOffsetX;b.shadowOffsetY=a.shadowOffsetY;b.strokeStyle=a.strokeStyle;b.globalAlpha=a.globalAlpha;b.font=a.font;b.textAlign=a.textAlign;b.textBaseline=a.textBaseline;b.arcScaleX_=a.arcScaleX_;b.arcScaleY_=a.arcScaleY_;b.lineScale_=a.lineScale_}var r={aliceblue:'#F0F8FF',antiquewhite:'#FAEBD7',aquamarine:'#7FFFD4',azure:'#F0FFFF',beige:'#F5F5DC',bisque:'#FFE4C4',black:'#000000',blanchedalmond:'#FFEBCD',blueviolet:'#8A2BE2',brown:'#A52A2A',burlywood:'#DEB887',cadetblue:'#5F9EA0',chartreuse:'#7FFF00',chocolate:'#D2691E',coral:'#FF7F50',cornflowerblue:'#6495ED',cornsilk:'#FFF8DC',crimson:'#DC143C',cyan:'#00FFFF',darkblue:'#00008B',darkcyan:'#008B8B',darkgoldenrod:'#B8860B',darkgray:'#A9A9A9',darkgreen:'#006400',darkgrey:'#A9A9A9',darkkhaki:'#BDB76B',darkmagenta:'#8B008B',darkolivegreen:'#556B2F',darkorange:'#FF8C00',darkorchid:'#9932CC',darkred:'#8B0000',darksalmon:'#E9967A',darkseagreen:'#8FBC8F',darkslateblue:'#483D8B',darkslategray:'#2F4F4F',darkslategrey:'#2F4F4F',darkturquoise:'#00CED1',darkviolet:'#9400D3',deeppink:'#FF1493',deepskyblue:'#00BFFF',dimgray:'#696969',dimgrey:'#696969',dodgerblue:'#1E90FF',firebrick:'#B22222',floralwhite:'#FFFAF0',forestgreen:'#228B22',gainsboro:'#DCDCDC',ghostwhite:'#F8F8FF',gold:'#FFD700',goldenrod:'#DAA520',grey:'#808080',greenyellow:'#ADFF2F',honeydew:'#F0FFF0',hotpink:'#FF69B4',indianred:'#CD5C5C',indigo:'#4B0082',ivory:'#FFFFF0',khaki:'#F0E68C',lavender:'#E6E6FA',lavenderblush:'#FFF0F5',lawngreen:'#7CFC00',lemonchiffon:'#FFFACD',lightblue:'#ADD8E6',lightcoral:'#F08080',lightcyan:'#E0FFFF',lightgoldenrodyellow:'#FAFAD2',lightgreen:'#90EE90',lightgrey:'#D3D3D3',lightpink:'#FFB6C1',lightsalmon:'#FFA07A',lightseagreen:'#20B2AA',lightskyblue:'#87CEFA',lightslategray:'#778899',lightslategrey:'#778899',lightsteelblue:'#B0C4DE',lightyellow:'#FFFFE0',limegreen:'#32CD32',linen:'#FAF0E6',magenta:'#FF00FF',mediumaquamarine:'#66CDAA',mediumblue:'#0000CD',mediumorchid:'#BA55D3',mediumpurple:'#9370DB',mediumseagreen:'#3CB371',mediumslateblue:'#7B68EE',mediumspringgreen:'#00FA9A',mediumturquoise:'#48D1CC',mediumvioletred:'#C71585',midnightblue:'#191970',mintcream:'#F5FFFA',mistyrose:'#FFE4E1',moccasin:'#FFE4B5',navajowhite:'#FFDEAD',oldlace:'#FDF5E6',olivedrab:'#6B8E23',orange:'#FFA500',orangered:'#FF4500',orchid:'#DA70D6',palegoldenrod:'#EEE8AA',palegreen:'#98FB98',paleturquoise:'#AFEEEE',palevioletred:'#DB7093',papayawhip:'#FFEFD5',peachpuff:'#FFDAB9',peru:'#CD853F',pink:'#FFC0CB',plum:'#DDA0DD',powderblue:'#B0E0E6',rosybrown:'#BC8F8F',royalblue:'#4169E1',saddlebrown:'#8B4513',salmon:'#FA8072',sandybrown:'#F4A460',seagreen:'#2E8B57',seashell:'#FFF5EE',sienna:'#A0522D',skyblue:'#87CEEB',slateblue:'#6A5ACD',slategray:'#708090',slategrey:'#708090',snow:'#FFFAFA',springgreen:'#00FF7F',steelblue:'#4682B4',tan:'#D2B48C',thistle:'#D8BFD8',tomato:'#FF6347',turquoise:'#40E0D0',violet:'#EE82EE',wheat:'#F5DEB3',whitesmoke:'#F5F5F5',yellowgreen:'#9ACD32'};function getRgbHslContent(a){var c=a.indexOf('(',3);var d=a.indexOf(')',c+1);var b=a.substring(c+1,d).split(',');if(b.length!=4||a.charAt(3)!='a'){b[3]=1}return b}function percent(a){return parseFloat(a)/100}function clamp(c,b,a){return Math.min(a,Math.max(b,c))}function hslToRgb(e){var j,g,f,b,c,a;b=parseFloat(e[0])/360%360;if(b<0){b++}c=clamp(percent(e[1]),0,1);a=clamp(percent(e[2]),0,1);if(c==0){j=g=f=a}else {var d=a<0.5?a*(1+c):a+c-a*c;var i=2*a-d;j=hueToRgb(i,d,b+1/3);g=hueToRgb(i,d,b);f=hueToRgb(i,d,b-1/3)}return '#'+h[Math.floor(j*255)]+h[Math.floor(g*255)]+h[Math.floor(f*255)]}function hueToRgb(b,c,a){if(a<0){a++}if(a>1){a--}if(6*a<1){return b+(c-b)*6*a}else if(2*a<1){return c}else if(3*a<2){return b+(c-b)*(2/3-a)*6}else {return b}}var k={};function processStyle(a){if(a in k){return k[a]}var c,e=1;a=String(a);if(a.charAt(0)=='#'){c=a}else if(/^rgb/.test(a)){var b=getRgbHslContent(a);var c='#',f;for(var d=0;d<3;d++){if(b[d].indexOf('%')!=-1){f=Math.floor(percent(b[d])*255)}else {f=+b[d]}c+=h[clamp(f,0,255)]}e=+b[3]}else if(/^hsl/.test(a)){var b=getRgbHslContent(a);c=hslToRgb(b);e=b[3]}else {c=r[a]||a}return k[a]={color:c,alpha:e}}var g={style:'normal',variant:'normal',weight:'normal',size:10,family:'sans-serif'};var l={};function processFontStyle(b){if(l[b]){return l[b]}var c=document.createElement('div');var a=c.style;try{a.font=b}catch(v){}return l[b]={style:a.fontStyle||g.style,variant:a.fontVariant||g.variant,weight:a.fontWeight||g.weight,size:a.fontSize||g.size,family:a.fontFamily||g.family}}function getComputedStyle(b,f){var a={};for(var e in b){a[e]=b[e]}var d=parseFloat(f.currentStyle.fontSize),c=parseFloat(b.size);if(typeof b.size=='number'){a.size=b.size}else if(b.size.indexOf('px')!=-1){a.size=c}else if(b.size.indexOf('em')!=-1){a.size=d*c}else if(b.size.indexOf('%')!=-1){a.size=d/100*c}else if(b.size.indexOf('pt')!=-1){a.size=c/0.75}else {a.size=d}a.size*=0.981;return a}function buildStyle(a){return a.style+' '+a.variant+' '+a.weight+' '+a.size+'px '+a.family}var q={'butt':'flat','round':'round'};function processLineCap(a){return q[a]||'square'}function CanvasRenderingContext2D_(a){this.m_=createMatrixIdentity();this.mStack_=[];this.aStack_=[];this.currentPath_=[];this.strokeStyle='#000';this.fillStyle='#000';this.lineWidth=1;this.lineJoin='miter';this.lineDash=[];this.lineCap='butt';this.miterLimit=c*1;this.globalAlpha=1;this.font='10px sans-serif';this.textAlign='left';this.textBaseline='alphabetic';this.canvas=a;var e='width:'+a.clientWidth+'px;height:'+a.clientHeight+'px;overflow:hidden;position:absolute';var b=a.ownerDocument.createElement('div');b.style.cssText=e;a.appendChild(b);var d=b.cloneNode(!1);d.style.backgroundColor='red';d.style.filter='alpha(opacity=0)';a.appendChild(d);this.element_=b;this.arcScaleX_=1;this.arcScaleY_=1;this.lineScale_=1}var a=CanvasRenderingContext2D_.prototype;a.clearRect=function(){if(this.textMeasureEl_){this.textMeasureEl_.removeNode(!0);this.textMeasureEl_=null}this.element_.innerHTML=''};a.beginPath=function(){this.currentPath_=[]};a.moveTo=function(b,c){var a=getCoords(this,b,c);this.currentPath_.push({type:'moveTo',x:a.x,y:a.y});this.currentX_=a.x;this.currentY_=a.y};a.lineTo=function(b,c){var a=getCoords(this,b,c);this.currentPath_.push({type:'lineTo',x:a.x,y:a.y});this.currentX_=a.x;this.currentY_=a.y};a.bezierCurveTo=function(a,b,c,d,g,h){var i=getCoords(this,g,h);var e=getCoords(this,a,b);var f=getCoords(this,c,d);bezierCurveTo(this,e,f,i)};function bezierCurveTo(b,c,d,a){b.currentPath_.push({type:'bezierCurveTo',cp1x:c.x,cp1y:c.y,cp2x:d.x,cp2y:d.y,x:a.x,y:a.y});b.currentX_=a.x;b.currentY_=a.y}a.quadraticCurveTo=function(d,e,g,h){var c=getCoords(this,d,e);var b=getCoords(this,g,h);var a={x:this.currentX_+2/3*(c.x-this.currentX_),y:this.currentY_+2/3*(c.y-this.currentY_)};var f={x:a.x+(b.x-this.currentX_)/3,y:a.y+(b.y-this.currentY_)/3};bezierCurveTo(this,a,f,b)};a.arc=function(d,f,a,g,i,h){a*=c;var p=h?'at':'wa';var b=d+m(g)*a-e;var q=f+n(g)*a-e;var l=d+m(i)*a-e;var r=f+n(i)*a-e;if(b==l&&!h){b+=0.125}var o=getCoords(this,d,f);var j=getCoords(this,b,q);var k=getCoords(this,l,r);this.currentPath_.push({type:p,x:o.x,y:o.y,radius:a,xStart:j.x,yStart:j.y,xEnd:k.x,yEnd:k.y})};a.rect=function(a,b,d,c){this.moveTo(a,b);this.lineTo(a+d,b);this.lineTo(a+d,b+c);this.lineTo(a,b+c);this.closePath()};a.strokeRect=function(a,b,d,c){var e=this.currentPath_;this.beginPath();this.moveTo(a,b);this.lineTo(a+d,b);this.lineTo(a+d,b+c);this.lineTo(a,b+c);this.closePath();this.stroke();this.currentPath_=e};a.fillRect=function(a,b,d,c){var e=this.currentPath_;this.beginPath();this.moveTo(a,b);this.lineTo(a+d,b);this.lineTo(a+d,b+c);this.lineTo(a,b+c);this.closePath();this.fill();this.currentPath_=e};a.createLinearGradient=function(b,d,c,e){var a=new CanvasGradient_('gradient');a.x0_=b;a.y0_=d;a.x1_=c;a.y1_=e;return a};a.createRadialGradient=function(d,f,b,e,g,c){var a=new CanvasGradient_('gradientradial');a.x0_=d;a.y0_=f;a.r0_=b;a.x1_=e;a.y1_=g;a.r1_=c;return a};a.drawImage=function(a,u){var j,k,i,h,d,e,m,l;var t=a.runtimeStyle.width;var s=a.runtimeStyle.height;a.runtimeStyle.width='auto';a.runtimeStyle.height='auto';var g=a.width;var f=a.height;a.runtimeStyle.width=t;a.runtimeStyle.height=s;if(arguments.length==3){j=arguments[1];k=arguments[2];d=e=0;m=i=g;l=h=f}else if(arguments.length==5){j=arguments[1];k=arguments[2];i=arguments[3];h=arguments[4];d=e=0;m=g;l=f}else if(arguments.length==9){d=arguments[1];e=arguments[2];m=arguments[3];l=arguments[4];j=arguments[5];k=arguments[6];i=arguments[7];h=arguments[8]}else {throw Error('Invalid number of arguments')}var r=getCoords(this,j,k);var o=[];var q=10;var p=10;var n=this.m_;o.push(' <g_vml_:group',' coordsize="',c*q,',',c*p,'"',' coordorigin="0,0"',' style="width:',b(q*n[0][0]),'px;height:',b(p*n[1][1]),'px;position:absolute;','top:',b(r.y/c),'px;left:',b(r.x/c),'px; rotation:',b(Math.atan(n[0][1]/n[1][1])*180/Math.PI),';');o.push('" >','<g_vml_:image src="',a.src,'"',' style="width:',c*i,'px;',' height:',c*h,'px"',' cropleft="',d/g,'"',' croptop="',e/f,'"',' cropright="',(g-d-m)/g,'"',' cropbottom="',(f-e-l)/f,'"',' />','</g_vml_:group>');this.element_.insertAdjacentHTML('BeforeEnd',o.join(''))};a.setLineDash=function(a){if(a.length===1){a=a.slice();a[1]=a[0]}this.lineDash=a};a.getLineDash=function(){return this.lineDash};a.stroke=function(g){var d=[];var j=10;var i=10;d.push('<g_vml_:shape',' filled="',!!g,'"',' style="position:absolute;width:',j,'px;height:',i,'px;left:0px;top:0px;"',' coordorigin="0,0"',' coordsize="',c*j,',',c*i,'"',' stroked="',!g,'"',' path="');var f={x:null,y:null};var e={x:null,y:null};for(var h=0;h<this.currentPath_.length;h++){var a=this.currentPath_[h];var k;switch(a.type){case 'moveTo':k=a;d.push(' m ',b(a.x),',',b(a.y));break;case 'lineTo':d.push(' l ',b(a.x),',',b(a.y));break;case 'close':d.push(' x ');a=null;break;case 'bezierCurveTo':d.push(' c ',b(a.cp1x),',',b(a.cp1y),',',b(a.cp2x),',',b(a.cp2y),',',b(a.x),',',b(a.y));break;case 'at':case 'wa':d.push(' ',a.type,' ',b(a.x-this.arcScaleX_*a.radius),',',b(a.y-this.arcScaleY_*a.radius),' ',b(a.x+this.arcScaleX_*a.radius),',',b(a.y+this.arcScaleY_*a.radius),' ',b(a.xStart),',',b(a.yStart),' ',b(a.xEnd),',',b(a.yEnd));break;}if(a){if(f.x==null||a.x<f.x){f.x=a.x}if(e.x==null||a.x>e.x){e.x=a.x}if(f.y==null||a.y<f.y){f.y=a.y}if(e.y==null||a.y>e.y){e.y=a.y}}}d.push(' ">');if(!g){appendStroke(this,d)}else {appendFill(this,d,f,e)}d.push('</g_vml_:shape>');this.element_.insertAdjacentHTML('beforeEnd',d.join(''))};function appendStroke(a,e){var d=processStyle(a.strokeStyle);var f=d.color;var c=d.alpha*a.globalAlpha;var b=a.lineScale_*a.lineWidth;if(b<1){c*=b}e.push('<g_vml_:stroke',' opacity="',c,'"',' joinstyle="',a.lineJoin,'"',' dashstyle="',a.lineDash.join(' '),'"',' miterlimit="',a.miterLimit,'"',' endcap="',processLineCap(a.lineCap),'"',' weight="',b,'px"',' color="',f,'" />')}function appendFill(b,m,g,v){var a=b.fillStyle;var h=b.arcScaleX_;var i=b.arcScaleY_;var k=v.x-g.x;var j=v.y-g.y;if(a instanceof CanvasGradient_){var e=0;var o={x:0,y:0};var p=0;var s=1;if(a.type_=='gradient'){var I=a.x0_/h;var K=a.y0_/i;var J=a.x1_/h;var L=a.y1_/i;var l=getCoords(b,I,K);var w=getCoords(b,J,L);var G=w.x-l.x;var H=w.y-l.y;e=Math.atan2(G,H)*180/Math.PI;if(e<0){e+=360}if(e<1.0E-6){e=0}}else {var l=getCoords(b,a.x0_,a.y0_);o={x:(l.x-g.x)/k,y:(l.y-g.y)/j};k/=h*c;j/=i*c;var r=f.max(k,j);p=2*a.r0_/r;s=2*a.r1_/r-p}var d=a.colors_;d.sort(function(a,c){return a.offset-c.offset});var n=d.length;var D=d[0].color;var E=d[n-1].color;var A=d[0].alpha*b.globalAlpha;var B=d[n-1].alpha*b.globalAlpha;var t=[];for(var q=0;q<n;q++){var u=d[q];t.push(u.offset*s+p+' '+u.color)}m.push('<g_vml_:fill type="',a.type_,'"',' method="none" focus="100%"',' color="',D,'"',' color2="',E,'"',' colors="',t.join(','),'"',' opacity="',B,'"',' g_o_:opacity2="',A,'"',' angle="',e,'"',' focusposition="',o.x,',',o.y,'" />')}else if(a instanceof CanvasPattern_){if(k&&j){var y=-g.x;var z=-g.y;m.push('<g_vml_:fill',' position="',y/k*h*h,',',z/j*i*i,'"',' type="tile"',' src="',a.src_,'" />')}}else {var x=processStyle(b.fillStyle);var F=x.color;var C=x.alpha*b.globalAlpha;m.push('<g_vml_:fill color="',F,'" opacity="',C,'" />')}}a.fill=function(){this.$stroke(!0)};a.closePath=function(){this.currentPath_.push({type:'close'})};function getCoords(f,b,d){var a=f.m_;return {x:c*(b*a[0][0]+d*a[1][0]+a[2][0])-e,y:c*(b*a[0][1]+d*a[1][1]+a[2][1])-e}}a.save=function(){var a={};copyState(this,a);this.aStack_.push(a);this.mStack_.push(this.m_)};a.restore=function(){if(this.aStack_.length){copyState(this.aStack_.pop(),this);this.m_=this.mStack_.pop()}};function matrixIsFinite(a){return isFinite(a[0][0])&&isFinite(a[0][1])&&isFinite(a[1][0])&&isFinite(a[1][1])&&isFinite(a[2][0])&&isFinite(a[2][1])}function setM(b,a,c){if(!matrixIsFinite(a)){return}b.m_=a;if(c){var d=a[0][0]*a[1][1]-a[0][1]*a[1][0];b.lineScale_=s(t(d))}}a.translate=function(a,b){var c=[[1,0,0],[0,1,0],[a,b,1]];setM(this,matrixMultiply(c,this.m_),!1)};a.rotate=function(a){var b=m(a);var c=n(a);var d=[[b,c,0],[-c,b,0],[0,0,1]];setM(this,matrixMultiply(d,this.m_),!1)};a.scale=function(a,b){this.arcScaleX_*=a;this.arcScaleY_*=b;var c=[[a,0,0],[0,b,0],[0,0,1]];setM(this,matrixMultiply(c,this.m_),!0)};a.transform=function(a,b,c,d,e,f){var g=[[a,b,0],[c,d,0],[e,f,1]];setM(this,matrixMultiply(g,this.m_),!0)};a.setTransform=function(a,b,c,d,e,f){var g=[[a,b,0],[c,d,0],[e,f,1]];setM(this,g,!0)};a.drawText_=function(q,r,s,t,j){var i=this.m_,k=1000,e=0,h=k,g={x:0,y:0},d=[];var f=getComputedStyle(processFontStyle(this.font),this.element_);var n=buildStyle(f);var l=this.element_.currentStyle;var a=this.textAlign.toLowerCase();switch(a){case 'left':case 'center':case 'right':break;case 'end':a=l.direction=='ltr'?'right':'left';break;case 'start':a=l.direction=='rtl'?'right':'left';break;default:a='left';}switch(this.textBaseline){case 'hanging':case 'top':g.y=f.size/1.75;break;case 'middle':break;default:case null:case 'alphabetic':case 'ideographic':case 'bottom':g.y=-f.size/3;break;}switch(a){case 'right':e=k;h=0.05;break;case 'center':e=h=k/2;break;}var m=getCoords(this,r+g.x,s+g.y);d.push('<g_vml_:line from="',-e,' 0" to="',h,' 0.05" ',' coordsize="100 100" coordorigin="0 0"',' filled="',!j,'" stroked="',!!j,'" style="position:absolute;width:1px;height:1px;left:0px;top:0px;">');if(j){appendStroke(this,d)}else {appendFill(this,d,{x:-e,y:0},{x:h,y:f.size})}var p=i[0][0].toFixed(3)+','+i[1][0].toFixed(3)+','+i[0][1].toFixed(3)+','+i[1][1].toFixed(3)+',0,0';var o=b(m.x/c)+','+b(m.y/c);d.push('<g_vml_:skew on="t" matrix="',p,'" ',' offset="',o,'" origin="',e,' 0" />','<g_vml_:path textpathok="true" />','<g_vml_:textpath on="true" string="',encodeHtmlAttribute(q),'" style="v-text-align:',a,';font:',encodeHtmlAttribute(n),'" /></g_vml_:line>');this.element_.insertAdjacentHTML('beforeEnd',d.join(''))};a.fillText=function(b,c,d,a){this.drawText_(b,c,d,a,!1)};a.strokeText=function(b,c,d,a){this.drawText_(b,c,d,a,!0)};a.measureText=function(a){if(!this.textMeasureEl_){var c='<span style="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;"></span>';this.element_.insertAdjacentHTML('beforeEnd',c);this.textMeasureEl_=this.element_.lastChild}var b=this.element_.ownerDocument;this.textMeasureEl_.innerHTML='';this.textMeasureEl_.style.font=this.font;this.textMeasureEl_.appendChild(b.createTextNode(a));return {width:this.textMeasureEl_.offsetWidth}};a.clip=function(){};a.arcTo=function(){};a.createPattern=function(b,a){return new CanvasPattern_(b,a)};function CanvasGradient_(a){this.type_=a;this.x0_=0;this.y0_=0;this.r0_=0;this.x1_=0;this.y1_=0;this.r1_=0;this.colors_=[]}CanvasGradient_.prototype.addColorStop=function(b,a){a=processStyle(a);this.colors_.push({offset:b,color:a.color,alpha:a.alpha})};function CanvasPattern_(a,b){assertImageIsValid(a);switch(b){case 'repeat':case null:case '':this.repetition_='repeat';break;case 'repeat-x':case 'repeat-y':case 'no-repeat':this.repetition_=b;break;default:throwException('SYNTAX_ERR');}this.src_=a.src;this.width_=a.width;this.height_=a.height}function throwException(a){throw new DOMException_(a)}function assertImageIsValid(a){if(!a||a.nodeType!=1||a.tagName!='IMG'){throwException('TYPE_MISMATCH_ERR')}if(a.readyState!='complete'){throwException('INVALID_STATE_ERR')}}function DOMException_(a){this.code=this[a];this.message=a+': DOM Exception '+this.code}var d=DOMException_.prototype=new Error();d.INDEX_SIZE_ERR=1;d.DOMSTRING_SIZE_ERR=2;d.HIERARCHY_REQUEST_ERR=3;d.WRONG_DOCUMENT_ERR=4;d.INVALID_CHARACTER_ERR=5;d.NO_DATA_ALLOWED_ERR=6;d.NO_MODIFICATION_ALLOWED_ERR=7;d.NOT_FOUND_ERR=8;d.NOT_SUPPORTED_ERR=9;d.INUSE_ATTRIBUTE_ERR=10;d.INVALID_STATE_ERR=11;d.SYNTAX_ERR=12;d.INVALID_MODIFICATION_ERR=13;d.NAMESPACE_ERR=14;d.INVALID_ACCESS_ERR=15;d.VALIDATION_ERR=16;d.TYPE_MISMATCH_ERR=17;G_vmlCanvasManager=o;CanvasRenderingContext2D=CanvasRenderingContext2D_;CanvasGradient=CanvasGradient_;CanvasPattern=CanvasPattern_;DOMException=DOMException_})()}Ext.cmd.derive('Ext.draw.engine.Canvas',Ext.draw.Surface,{isCanvas:!0,config:{highPrecision:!1},statics:{contextOverrides:{setGradientBBox:function(a){this.bbox=a},fill:function(){var d=this.fillStyle,b=this.fillGradient,a=this.fillOpacity,e=this.globalAlpha,c=this.bbox;if(d!==Ext.util.Color.RGBA_NONE&&a!==0){if(b&&c){this.fillStyle=b.generateGradient(this,c)}if(a!==1){this.globalAlpha=e*a}this.$fill();if(a!==1){this.globalAlpha=e}if(b&&c){this.fillStyle=d}}},stroke:function(){var d=this.strokeStyle,b=this.strokeGradient,a=this.strokeOpacity,e=this.globalAlpha,c=this.bbox;if(d!==Ext.util.Color.RGBA_NONE&&a!==0){if(b&&c){this.strokeStyle=b.generateGradient(this,c)}if(a!==1){this.globalAlpha=e*a}this.$stroke();if(a!==1){this.globalAlpha=e}if(b&&c){this.strokeStyle=d}}},fillStroke:function(d,b){var a=this,j=this.fillStyle,f=this.fillOpacity,h=this.strokeStyle,e=this.strokeOpacity,g=a.shadowColor,i=a.shadowBlur,c=Ext.util.Color.RGBA_NONE;if(b===undefined){b=d.transformFillStroke}if(!b){d.inverseMatrix.toContext(a)}if(j!==c&&f!==0){a.fill();a.shadowColor=c;a.shadowBlur=0}if(h!==c&&e!==0){a.stroke()}a.shadowColor=g;a.shadowBlur=i},setLineDash:function(a){if(this.$setLineDash){this.$setLineDash(a)}},getLineDash:function(){if(this.$getLineDash){return this.$getLineDash()}},ellipse:function(e,f,c,d,g,i,j,h){var a=Math.cos(g),b=Math.sin(g);this.transform(a*c,b*c,-b*d,a*d,e,f);this.arc(0,0,1,i,j,h);this.transform(a/c,-b/d,b/c,a/d,-(a*e+b*f)/c,(b*e-a*f)/d)},appendPath:function(f){var c=this,d=0,a=0,e=f.commands,b=f.params,g=e.length;c.beginPath();for(;d<g;d++){switch(e[d]){case 'M':c.moveTo(b[a],b[a+1]);a+=2;break;case 'L':c.lineTo(b[a],b[a+1]);a+=2;break;case 'C':c.bezierCurveTo(b[a],b[a+1],b[a+2],b[a+3],b[a+4],b[a+5]);a+=6;break;case 'Z':c.closePath();break;}}},save:function(){var c=this.toSave,e=c.length,d=e&&{},b=0,a;for(;b<e;b++){a=c[b];if(a in this){d[a]=this[a]}}this.state.push(d);this.$save()},restore:function(){var b=this.state.pop(),a;if(b){for(a in b){this[a]=b[a]}}this.$restore()}}},splitThreshold:3000,toSave:['fillGradient','strokeGradient'],element:{reference:'element',children:[{reference:'bodyElement',style:{width:'100%',height:'100%',position:'relative'}}]},createCanvas:function(){var b,c,a,d;b=Ext.Element.create({tag:'canvas',cls:'x-surface-canvas'});if(window.G_vmlCanvasManager){G_vmlCanvasManager.initElement(b.dom);this.isVML=!0}c=Ext.draw.engine.Canvas.contextOverrides;a=b.dom.getContext('2d');if(a.ellipse){delete c.ellipse}a.state=[];a.toSave=this.toSave;for(d in c){a['$'+d]=a[d]}Ext.apply(a,c);if(this.getHighPrecision()){this.enablePrecisionCompensation(a)}else {this.disablePrecisionCompensation(a)}this.bodyElement.appendChild(b);this.canvases.push(b);this.contexts.push(a)},updateHighPrecision:function(d){var c=this.contexts,e=c.length,a,b;for(a=0;a<e;a++){b=c[a];if(d){this.enablePrecisionCompensation(b)}else {this.disablePrecisionCompensation(b)}}},precisionNames:['rect','fillRect','strokeRect','clearRect','moveTo','lineTo','arc','arcTo','save','restore','updatePrecisionCompensate','setTransform','transform','scale','translate','rotate','quadraticCurveTo','bezierCurveTo','createLinearGradient','createRadialGradient','fillText','strokeText','drawImage'],disablePrecisionCompensation:function(e){var d=Ext.draw.engine.Canvas.contextOverrides,c=this.precisionNames,f=c.length,a,b;for(a=0;a<f;a++){b=c[a];if(!(b in d)){delete e[b]}}this.setDirty(!0)},enablePrecisionCompensation:function(k){var h=this,a=1,c=1,d=0,e=0,g=new Ext.draw.Matrix(),j=[],f={},i=Ext.draw.engine.Canvas.contextOverrides,b=k.constructor.prototype,l={toSave:h.toSave,rect:function(h,i,g,f){return b.rect.call(this,h*a+d,i*c+e,g*a,f*c)},fillRect:function(h,i,g,f){this.updatePrecisionCompensateRect();b.fillRect.call(this,h*a+d,i*c+e,g*a,f*c);this.updatePrecisionCompensate()},strokeRect:function(h,i,g,f){this.updatePrecisionCompensateRect();b.strokeRect.call(this,h*a+d,i*c+e,g*a,f*c);this.updatePrecisionCompensate()},clearRect:function(h,i,g,f){return b.clearRect.call(this,h*a+d,i*c+e,g*a,f*c)},moveTo:function(f,g){return b.moveTo.call(this,f*a+d,g*c+e)},lineTo:function(f,g){return b.lineTo.call(this,f*a+d,g*c+e)},arc:function(i,j,h,f,g,c){this.updatePrecisionCompensateRect();b.arc.call(this,i*a+d,j*a+e,h*a,f,g,c);this.updatePrecisionCompensate()},arcTo:function(g,i,h,j,f){this.updatePrecisionCompensateRect();b.arcTo.call(this,g*a+d,i*c+e,h*a+d,j*c+e,f*a);this.updatePrecisionCompensate()},save:function(){j.push(g);g=g.clone();i.save.call(this);b.save.call(this)},restore:function(){g=j.pop();i.restore.call(this);b.restore.call(this);this.updatePrecisionCompensate()},updatePrecisionCompensate:function(){g.precisionCompensate(h.devicePixelRatio,f);a=f.xx;c=f.yy;d=f.dx;e=f.dy;b.setTransform.call(this,h.devicePixelRatio,f.b,f.c,f.d,0,0)},updatePrecisionCompensateRect:function(){g.precisionCompensateRect(h.devicePixelRatio,f);a=f.xx;c=f.yy;d=f.dx;e=f.dy;b.setTransform.call(this,h.devicePixelRatio,f.b,f.c,f.d,0,0)},setTransform:function(c,d,e,f,a,b){g.set(c,d,e,f,a,b);this.updatePrecisionCompensate()},transform:function(c,d,e,f,a,b){g.append(c,d,e,f,a,b);this.updatePrecisionCompensate()},scale:function(a,b){this.transform(a,0,0,b,0,0)},translate:function(a,b){this.transform(1,0,0,1,a,b)},rotate:function(a){var b=Math.cos(a),c=Math.sin(a);this.transform(b,c,-c,b,0,0)},quadraticCurveTo:function(f,g,h,i){b.quadraticCurveTo.call(this,f*a+d,g*c+e,h*a+d,i*c+e)},bezierCurveTo:function(f,g,h,i,j,l){b.bezierCurveTo.call(this,f*a+d,g*c+e,h*a+d,i*c+e,j*a+d,l*c+e)},createLinearGradient:function(g,i,h,j){var f;this.updatePrecisionCompensateRect();f=b.createLinearGradient.call(this,g*a+d,i*c+e,h*a+d,j*c+e);this.updatePrecisionCompensate();return f},createRadialGradient:function(h,j,f,i,l,g){var c;this.updatePrecisionCompensateRect();c=b.createLinearGradient.call(this,h*a+d,j*a+e,f*a,i*a+d,l*a+e,g*a);this.updatePrecisionCompensate();return c},fillText:function(c,d,e,a){b.setTransform.apply(this,g.elements);if(typeof a==='undefined'){b.fillText.call(this,c,d,e)}else {b.fillText.call(this,c,d,e,a)}this.updatePrecisionCompensate()},strokeText:function(c,d,e,a){b.setTransform.apply(this,g.elements);if(typeof a==='undefined'){b.strokeText.call(this,c,d,e)}else {b.strokeText.call(this,c,d,e,a)}this.updatePrecisionCompensate()},fill:function(){var a=this.fillGradient,c=this.bbox;this.updatePrecisionCompensateRect();if(a&&c){this.fillStyle=a.generateGradient(this,c)}b.fill.call(this);this.updatePrecisionCompensate()},stroke:function(){var a=this.strokeGradient,c=this.bbox;this.updatePrecisionCompensateRect();if(a&&c){this.strokeStyle=a.generateGradient(this,c)}b.stroke.call(this);this.updatePrecisionCompensate()},drawImage:function(f,g,h,i,j,l,m,o,n){switch(arguments.length){case 3:return b.drawImage.call(this,f,g*a+d,h*c+e);case 5:return b.drawImage.call(this,f,g*a+d,h*c+e,i*a,j*c);case 9:return b.drawImage.call(this,f,g,h,i,j,l*a+d,m*c*e,o*a,n*c);}}};Ext.apply(k,l);this.setDirty(!0)},updateRect:function(c){Ext.draw.Surface.prototype.updateRect.call(this,c);var a=this,s=Math.floor(c[0]),u=Math.floor(c[1]),t=Math.ceil(c[0]+c[2]),r=Math.ceil(c[1]+c[3]),f=a.devicePixelRatio,g=a.canvases,q=t-s,p=r-u,d=Math.round(a.splitThreshold/f),n=a.xSplits=Math.ceil(q/d),o=a.ySplits=Math.ceil(p/d),l,m,e,h,i,b,k,j;for(m=0,i=0;m<o;m++,i+=d){for(l=0,h=0;l<n;l++,h+=d){e=m*n+l;if(e>=g.length){a.createCanvas()}b=g[e].dom;b.style.left=h+'px';b.style.top=i+'px';j=Math.min(d,p-i);if(j*f!==b.height){b.height=j*f;b.style.height=j+'px'}k=Math.min(d,q-h);if(k*f!==b.width){b.width=k*f;b.style.width=k+'px'}a.applyDefaults(a.contexts[e])}}a.activeCanvases=e=n*o;while(g.length>e){g.pop().destroy()}a.clear()},clearTransform:function(){var a=this,g=a.xSplits,j=a.ySplits,i=a.contexts,f=a.splitThreshold,e=a.devicePixelRatio,b,c,h,d;for(b=0;b<g;b++){for(c=0;c<j;c++){h=c*g+b;d=i[h];d.translate(-f*b,-f*c);d.scale(e,e);a.matrix.toContext(d)}}},renderSprite:function(b){var c=this,p=c.getRect(),u=c.matrix,d=b.getParent(),n=Ext.draw.Matrix.fly([1,0,0,1,0,0]),f=c.splitThreshold/c.devicePixelRatio,q=c.xSplits,v=c.ySplits,g,h,e,a,o,m,i=0,s,j=0,r,x=p[2],w=p[3],k,l,t;while(d&&d.isSprite){n.prependMatrix(d.matrix||d.attr&&d.attr.matrix);d=d.getParent()}n.prependMatrix(u);a=b.getBBox();if(a){a=n.transformBBox(a)}b.preRender(c);if(b.attr.hidden||b.attr.globalAlpha===0){b.setDirty(!1);return}for(l=0,h=0;l<v;l++,h+=f){for(k=0,g=0;k<q;k++,g+=f){t=l*q+k;e=c.contexts[t];o=Math.min(f,x-g);m=Math.min(f,w-h);i=g;s=i+o;j=h;r=j+m;if(a){if(a.x>s||a.x+a.width<i||a.y>r||a.y+a.height<j){continue}}e.save();b.useAttributes(e,p);if(!1===b.render(c,e,[i,j,o,m])){return !1}e.restore()}}b.setDirty(!1)},flatten:function(j,i){var b=document.createElement('canvas'),k=Ext.getClassName(this),d=this.devicePixelRatio,l=b.getContext('2d'),a,c,g,e,f,h;b.width=Math.ceil(j.width*d);b.height=Math.ceil(j.height*d);for(e=0;e<i.length;e++){a=i[e];if(Ext.getClassName(a)!==k){continue}g=a.getRect();for(f=0;f<a.canvases.length;f++){c=a.canvases[f];h=c.getOffsetsTo(c.getParent());l.drawImage(c.dom,(g[0]+h[0])*d,(g[1]+h[1])*d)}}return {data:b.toDataURL(),type:'png'}},applyDefaults:function(a){var b=Ext.util.Color.RGBA_NONE;a.strokeStyle=b;a.fillStyle=b;a.textAlign='start';a.textBaseline='alphabetic';a.miterLimit=1},clear:function(){var b=this,e=b.activeCanvases,a,c,d;for(a=0;a<e;a++){c=b.canvases[a].dom;d=b.contexts[a];d.setTransform(1,0,0,1,0,0);d.clearRect(0,0,c.width,c.height)}b.setDirty(!0)},destroy:function(){var b=this,c=b.canvases,d=c.length,a;for(a=0;a<d;a++){b.contexts[a]=null;c[a].destroy();c[a]=null}b.contexts=b.canvases=null;Ext.draw.Surface.prototype.destroy.call(this)},privates:{initElement:function(){var a=this;Ext.draw.Surface.prototype.initElement.call(this);a.canvases=[];a.contexts=[];a.activeCanvases=a.xSplits=a.ySplits=0}}},0,0,['widget','surface'],{'widget':!0,'surface':!0},0,0,[Ext.draw.engine,'Canvas'],function(){var c=this,b=c.prototype,a=1.0E10;if(Ext.os.is.Android4&&Ext.browser.is.Chrome){a=3000}else if(Ext.is.iOS){a=2200}b.splitThreshold=a});Ext.cmd.derive('Ext.draw.Container',Ext.draw.ContainerBase,{alternateClassName:'Ext.draw.Component',defaultType:'surface',isDrawContainer:!0,engine:'Ext.draw.engine.Canvas',config:{cls:['x-draw-container','x-unselectable'],resizeHandler:null,sprites:null,gradients:[],downloadServerUrl:undefined,touchAction:{panX:!1,panY:!1,pinchZoom:!1,doubleTapZoom:!1},surfaceZIndexes:{main:1}},defaultDownloadServerUrl:'http://svg.sencha.io',supportedFormats:['png','pdf','jpeg','gif'],supportedOptions:{version:Ext.isNumber,data:Ext.isString,format:function(a){return Ext.Array.indexOf(this.supportedFormats,a)>=0},filename:Ext.isString,width:Ext.isNumber,height:Ext.isNumber,scale:Ext.isNumber,pdf:Ext.isObject,jpeg:Ext.isObject},initAnimator:function(){this.frameCallbackId=Ext.draw.Animator.addFrameCallback('renderFrame',this)},applyDownloadServerUrl:function(a){var b=this.defaultDownloadServerUrl;if(!a){a=b}return a},applyGradients:function(d){var b=[],c,f,a,e;if(!Ext.isArray(d)){return b}for(c=0,f=d.length;c<f;c++){a=d[c];if(!Ext.isObject(a)){continue}if(typeof a.type!=='string'){a.type='linear'}if(a.angle){a.degrees=a.angle;delete a.angle}if(Ext.isObject(a.stops)){a.stops=function(c){var b=[],a;for(e in c){a=c[e];a.offset=e/100;b.push(a)}return b}(a.stops)}b.push(a)}Ext.draw.gradient.GradientDefinition.add(b);return b},applySprites:function(c){var e,a,b,d,f;if(!c){return}c=Ext.Array.from(c);e=[];for(d=0,f=c.length;d<f;d++){b=c[d];a=b.surface;if(!(a&&a.isSurface)){if(Ext.isString(a)){a=this.getSurface(a);delete b.surface}else {a=this.getSurface('main')}}b=a.add(b);e.push(b)}return e},resizeDelay:500,resizeTimerId:0,lastResizeTime:null,size:null,handleResize:function(b,h){var a=this,f=a.element,g=a.getResizeHandler()||a.defaultResizeHandler,d=a.resizeDelay,c=a.lastResizeTime,e,i;if(!f){return}b=b||f.getSize();if(!(b.width&&b.height)){return}a.size=b;a.stopResizeTimer();e=!h&&c&&Ext.Date.now()-c<d;if(e){a.resizeTimerId=Ext.defer(a.handleResize,d,a,[b,!0]);return}a.fireEvent('bodyresize',a,b);Ext.callback(g,null,[b],0,a);if(i!==!1){a.renderFrame()}a.lastResizeTime=Ext.Date.now()},stopResizeTimer:function(){if(this.resizeTimerId){Ext.undefer(this.resizeTimerId);this.resizeTimerId=0}},defaultResizeHandler:function(a){this.getItems().each(function(b){b.setRect([0,0,a.width,a.height])})},getSurface:function(b,a){var c=this,e=c.getItems(),g=e.getCount(),f=c.getSurfaceZIndexes(),d;b=b||'main';a=a||b;d=c.createSurface(b);if(a in f){d.element.setStyle('zIndex',f[a])}if(e.getCount()>g){c.handleResize(null,!0)}return d},createSurface:function(b){var c=this,d=c.getItems(),a;b=this.getId()+'-'+(b||'main');a=d.get(b);if(!a){a=c.add({xclass:c.engine,id:b})}return a},renderFrame:function(){var e=this,c=e.getItems(),a,d,b;for(a=0,d=c.length;a<d;a++){b=c.items[a];if(b.isSurface){b.renderFrame()}}},getSurfaces:function(g){var a=Array.prototype.slice.call(this.items.items),e=this.getSurfaceZIndexes(),b,c,d,f;if(g){for(c=1;c<a.length;c++){d=a[c];f=e[d.type];b=c-1;while(b>=0&&e[a[b].type]>f){a[b+1]=a[b];b--}a[b+1]=d}}return a},getImage:function(e){var f=this.bodyElement.getSize(),c=this.getSurfaces(!0),d=c[0],a,b;if((Ext.isIE||Ext.isEdge)&&d.isSVG){a={data:d.toSVG(f,c),type:'svg-markup'}}else {a=d.flatten(f,c);if(e==='image'){b=new Image();b.src=a.data;a.data=b;return a}if(e==='stream'){a.data=a.data.replace(/^data:image\/[^;]+/,'data:application/octet-stream');return a}}return a},download:function(a){var d=this,e=[],f,b,c;if(Ext.isIE8){return !1}a=a||{};a.version=2;if(!a.data){a.data=d.getImage().data}for(b in a){if(a.hasOwnProperty(b)){c=a[b];if(b in d.supportedOptions){if(d.supportedOptions[b].call(d,c)){e.push({tag:'input',type:'hidden',name:b,value:Ext.String.htmlEncode(Ext.isObject(c)?Ext.JSON.encode(c):c)})}}}}f=Ext.dom.Helper.markup({tag:'html',children:[{tag:'head'},{tag:'body',children:[{tag:'form',method:'POST',action:a.url||d.getDownloadServerUrl(),children:e},{tag:'script',type:'text/javascript',children:'document.getElementsByTagName("form")[0].submit();'}]}]});window.open('','ImageDownload_'+Date.now()).document.write(f)},doDestroy:function(){var b=this,a=b.frameCallbackId;if(a){Ext.draw.Animator.removeFrameCallback(a)}b.stopResizeTimer();Ext.draw.ContainerBase.prototype.doDestroy.call(this)}},0,['draw'],['widget','component','container','draw'],{'widget':!0,'component':!0,'container':!0,'draw':!0},['widget.draw'],0,[Ext.draw,'Container',Ext.draw,'Component'],function(){if(location.search.match('svg')){Ext.draw.Container.prototype.engine='Ext.draw.engine.Svg'}else if(Ext.os.is.BlackBerry&&Ext.os.version.getMajor()===10||Ext.browser.is.AndroidStock4&&(Ext.os.version.getMinor()===1||Ext.os.version.getMinor()===2||Ext.os.version.getMinor()===3)){Ext.draw.Container.prototype.engine='Ext.draw.engine.Svg'}});Ext.cmd.derive('Ext.chart.theme.BaseTheme',Ext.Base,{defaultsDivCls:'x-root'},0,0,0,0,0,0,[Ext.chart.theme,'BaseTheme'],0);Ext.cmd.derive('Ext.chart.theme.Base',Ext.chart.theme.BaseTheme,{factoryConfig:{type:'chart.theme'},isTheme:!0,isBase:!0,config:{baseColor:null,colors:undefined,gradients:null,chart:{defaults:{captions:{title:{docked:'top',padding:5,style:{textAlign:'center',fontFamily:'default',fontWeight:'500',fillStyle:'black',fontSize:'default*1.6'}},subtitle:{docked:'top',style:{textAlign:'center',fontFamily:'default',fontWeight:'normal',fillStyle:'black',fontSize:'default*1.3'}},credits:{docked:'bottom',padding:5,style:{textAlign:'left',fontFamily:'default',fontWeight:'lighter',fillStyle:'black',fontSize:'default'}}},background:'white'}},axis:{defaults:{label:{x:0,y:0,textBaseline:'middle',textAlign:'center',fontSize:'default',fontFamily:'default',fontWeight:'default',fillStyle:'black'},title:{fillStyle:'black',fontSize:'default*1.23',fontFamily:'default',fontWeight:'default'},style:{strokeStyle:'black'},grid:{strokeStyle:'rgb(221, 221, 221)'}},top:{style:{textPadding:5}},bottom:{style:{textPadding:5}}},series:{defaults:{label:{fillStyle:'black',strokeStyle:'none',fontFamily:'default',fontWeight:'default',fontSize:'default*1.077',textBaseline:'middle',textAlign:'center'},labelOverflowPadding:5}},sprites:{text:{fontSize:'default',fontWeight:'default',fontFamily:'default',fillStyle:'black'}},legend:{label:{fontSize:14,fontWeight:'default',fontFamily:'default',fillStyle:'black'},border:{lineWidth:1,radius:4,fillStyle:'none',strokeStyle:'gray'},background:'white'},seriesThemes:undefined,markerThemes:{type:['circle','cross','plus','square','triangle','diamond']},useGradients:!1,background:null},colorDefaults:['#94ae0a','#115fa6','#a61120','#ff8809','#ffd13e','#a61187','#24ad9a','#7c7474','#a66111'],constructor:function(a){this.initConfig(a);this.resolveDefaults()},defaultRegEx:/^default([+\-/*]\d+(?:\.\d+)?)?$/,defaultOperators:{'*':function(a,b){return a*b},'+':function(a,b){return a+b},'-':function(a,b){return a-b}},resolveChartDefaults:function(){var c=Ext.clone(this.getChart()),e,d,a,b;for(e in c){a=c[e];if('captions' in a){for(d in a.captions){b=a.captions[d];if(b){this.replaceDefaults(b.style)}}}}this.setChart(c)},resolveDefaults:function(){var a=this;Ext.onInternalReady(function(){var g=Ext.clone(a.getSprites()),h=Ext.clone(a.getLegend()),f=Ext.clone(a.getAxis()),e=Ext.clone(a.getSeries()),b,d,c;if(!a.superclass.defaults){b=Ext.getBody().createChild({tag:'div',cls:a.defaultsDivCls});a.superclass.defaults={fontFamily:b.getStyle('fontFamily'),fontWeight:b.getStyle('fontWeight'),fontSize:parseFloat(b.getStyle('fontSize')),fontVariant:b.getStyle('fontVariant'),fontStyle:b.getStyle('fontStyle')};b.destroy()}a.resolveChartDefaults();a.replaceDefaults(g.text);a.setSprites(g);a.replaceDefaults(h.label);a.setLegend(h);for(d in f){c=f[d];a.replaceDefaults(c.label);a.replaceDefaults(c.title)}a.setAxis(f);for(d in e){c=e[d];a.replaceDefaults(c.label)}a.setSeries(e)})},replaceDefaults:function(d){var e=this,g=e.superclass.defaults,h=e.defaultRegEx,c,b,a,f;if(Ext.isObject(d)){for(c in g){a=h.exec(d[c]);if(a){b=g[c];a=a[1];if(a){f=e.defaultOperators[a.charAt(0)];b=Math.round(f(b,parseFloat(a.substr(1))))}d[c]=b}}}},applyBaseColor:function(b){var a,c;if(b){a=b.isColor?b:Ext.util.Color.fromString(b);c=a.getHSL()[2];if(c<0.15){a=a.createLighter(0.3)}else if(c<0.3){a=a.createLighter(0.15)}else if(c>0.85){a=a.createDarker(0.3)}else if(c>0.7){a=a.createDarker(0.15)}this.setColors([a.createDarker(0.3).toString(),a.createDarker(0.15).toString(),a.toString(),a.createLighter(0.12).toString(),a.createLighter(0.24).toString(),a.createLighter(0.31).toString()])}return b},applyColors:function(a){return a||this.colorDefaults},updateUseGradients:function(a){if(a){this.updateGradients({type:'linear',degrees:90})}},updateBackground:function(b){var a;if(b){a=this.getChart();a.defaults.background=b;this.setChart(a)}},updateGradients:function(d){var c=this.getColors(),g=[],e,a,f,b,h;if(Ext.isObject(d)){for(b=0,h=c&&c.length||0;b<h;b++){a=Ext.util.Color.fromString(c[b]);if(a){f=a.createLighter(0.15).toString();e=Ext.apply(Ext.Object.chain(d),{stops:[{offset:1,color:a.toString()},{offset:0,color:f.toString()}]});g.push(e)}}this.setColors(g)}},applySeriesThemes:function(a){var b,c;this.getBaseColor();this.getUseGradients();this.getGradients();b=this.getColors();if(!a){a={fillStyle:Ext.Array.clone(b),strokeStyle:Ext.Array.map(b,function(b){c=Ext.util.Color.fromString(b.stops?b.stops[0].color:b);return c.createDarker(0.15).toString()})}}return a}},1,0,0,0,0,[['factoryable',Ext.mixin.Factoryable]],[Ext.chart.theme,'Base'],0);Ext.cmd.derive('Ext.chart.theme.Default',Ext.chart.theme.Base,{singleton:!0},0,0,0,0,['chart.theme.Base','chart.theme.Default','chart.theme.default'],0,[Ext.chart.theme,'Default'],0);Ext.cmd.derive('Ext.chart.Util',Ext.Base,{singleton:!0,expandRange:function(b,f){var g=f.length,d=b[0],c=b[1],e,a;for(e=0;e<g;e++){a=f[e];if(a==null||!isFinite(a)){continue}if(a<d||!isFinite(d)){d=a}if(a>c||!isFinite(c)){c=a}}b[0]=d;b[1]=c},defaultRange:[0,1],validateRange:function(a,b,c){var d,e;b=b||this.defaultRange.slice();if(!(c===0||c>0)){c=0.5}if(!a||a.length!==2){return b}a=[a[0],a[1]];if(!a[0]){a[0]=0}if(!a[1]){a[1]=0}if(c&&a[0]===a[1]){a=[a[0]-c,a[0]+c];if(a[0]===a[1]){return b}}d=isFinite(a[0]);e=isFinite(a[1]);if(!d&&!e){return b}if(d&&!e){a[1]=a[0]+Ext.Number.sign(a[1])*(b[1]-b[0])}else if(e&&!d){a[0]=a[1]+Ext.Number.sign(a[0])*(b[1]-b[0])}return [Math.min(a[0],a[1]),Math.max(a[0],a[1])]},applyAnimation:function(a,b){if(!a){a={duration:0}}else if(a===!0){a={easing:'easeInOut',duration:500}}return b?Ext.apply({},a,b):a}},0,0,0,0,0,0,[Ext.chart,'Util'],0);Ext.cmd.derive('Ext.chart.Markers',Ext.draw.sprite.Instancing,{isMarkers:!0,defaultCategory:'default',constructor:function(){Ext.draw.sprite.Instancing.prototype.constructor.apply(this,arguments);this.categories={};this.revisions={}},destroy:function(){this.categories=null;this.revisions=null;Ext.draw.sprite.Instancing.prototype.destroy.call(this)},getMarkerFor:function(b,c){var a;if(b in this.categories){a=this.categories[b];if(c in a){return this.get(a[c])}}},clear:function(a){a=a||this.defaultCategory;if(!(a in this.revisions)){this.revisions[a]=1}else {this.revisions[a]++}},clearAll:function(){Ext.draw.sprite.Instancing.prototype.clearAll.call(this);this.categories={};this.revisions={}},putMarkerFor:function(b,g,e,f,h){var a=this,c,d;b=b||this.defaultCategory;c=a.categories[b]||(a.categories[b]={});if(e in c){a.setAttributesFor(c[e],g,f)}else {c[e]=a.getCount();a.add(g,f)}d=a.get(c[e]);if(d){d.category=b;if(!h){d.revision=a.revisions[b]||(a.revisions[b]=1)}}},getMarkerBBoxFor:function(b,c,d){var a;if(b in this.categories){a=this.categories[b];if(c in a){return this.getBBoxFor(a[c],d)}}},getBBox:function(){return null},render:function(f,b,h){var d=this,g=f.getRect(),j=d.revisions,k=d.attr.matrix,a=d.getTemplate(),i=a.attr,l=d.instances.length,c,e;k.toContext(b);a.preRender(f,b,h);a.useAttributes(b,g);for(e=0;e<l;e++){c=d.get(e);if(c.hidden||c.revision!==j[c.category]){continue}b.save();a.attr=c;a.useAttributes(b,g);a.render(f,b,h);b.restore()}a.attr=i}},1,0,0,0,0,0,[Ext.chart,'Markers'],0);Ext.cmd.derive('Ext.chart.modifier.Callout',Ext.draw.modifier.Modifier,{alternateClassName:'Ext.chart.label.Callout',prepareAttributes:function(a){if(!a.hasOwnProperty('calloutOriginal')){a.calloutOriginal=Ext.Object.chain(a);a.calloutOriginal.prototype=a}if(this._lower){this._lower.prepareAttributes(a.calloutOriginal)}},setAttrs:function(f,a){var b=f.callout,i=f.calloutOriginal,o=f.bbox.plain,h=(o.width||0)+f.labelOverflowPadding,g=(o.height||0)+f.labelOverflowPadding,d,e,c,l,m,j,k,n,p;if('callout' in a){b=a.callout}if('callout' in a||'calloutPlaceX' in a||'calloutPlaceY' in a||'x' in a||'y' in a){c='rotationRads' in a?i.rotationRads=a.rotationRads:i.rotationRads;l='x' in a?i.x=a.x:i.x;m='y' in a?i.y=a.y:i.y;j='calloutPlaceX' in a?a.calloutPlaceX:f.calloutPlaceX;k='calloutPlaceY' in a?a.calloutPlaceY:f.calloutPlaceY;n='calloutVertical' in a?a.calloutVertical:f.calloutVertical;c%=Math.PI*2;if(Math.cos(c)<0){c=(c+Math.PI)%(Math.PI*2)}if(c>Math.PI){c-=Math.PI*2}if(n){c=c*(1-b)-Math.PI/2*b;p=h;h=g;g=p}else {c=c*(1-b)}a.rotationRads=c;a.x=l*(1-b)+j*b;a.y=m*(1-b)+k*b;d=j-l;e=k-m;if(Math.abs(e*h)>Math.abs(d*g)){if(e>0){a.calloutEndX=a.x-g/2*(d/e)*b;a.calloutEndY=a.y-g/2*b}else {a.calloutEndX=a.x+g/2*(d/e)*b;a.calloutEndY=a.y+g/2*b}}else {if(d>0){a.calloutEndX=a.x-h/2;a.calloutEndY=a.y-h/2*(e/d)*b}else {a.calloutEndX=a.x+h/2;a.calloutEndY=a.y+h/2*(e/d)*b}}if(a.calloutStartX&&a.calloutStartY){a.calloutHasLine=d>0&&a.calloutStartX<a.calloutEndX||d<=0&&a.calloutStartX>a.calloutEndX||e>0&&a.calloutStartY<a.calloutEndY||e<=0&&a.calloutStartY>a.calloutEndY}else {a.calloutHasLine=!0}}return a},pushDown:function(b,a){a=Ext.draw.modifier.Modifier.prototype.pushDown.call(this,b.calloutOriginal,a);return this.setAttrs(b,a)},popUp:function(a,b){a=a.prototype;b=this.setAttrs(a,b);if(this._upper){return this._upper.popUp(a,b)}else {return Ext.apply(a,b)}}},0,0,0,0,0,0,[Ext.chart.modifier,'Callout',Ext.chart.label,'Callout'],0);Ext.cmd.derive('Ext.chart.sprite.Label',Ext.draw.sprite.Text,{alternateClassName:'Ext.chart.label.Label',inheritableStatics:{def:{processors:{callout:'limited01',calloutHasLine:'bool',calloutPlaceX:'number',calloutPlaceY:'number',calloutStartX:'number',calloutStartY:'number',calloutEndX:'number',calloutEndY:'number',calloutColor:'color',calloutWidth:'number',calloutVertical:'bool',labelOverflowPadding:'number',display:'enums(none,under,over,rotate,insideStart,insideEnd,inside,outside)',orientation:'enums(horizontal,vertical)',renderer:'default'},defaults:{callout:0,calloutHasLine:!0,calloutPlaceX:0,calloutPlaceY:0,calloutStartX:0,calloutStartY:0,calloutEndX:0,calloutEndY:0,calloutWidth:1,calloutVertical:!1,calloutColor:'black',labelOverflowPadding:5,display:'none',orientation:'',renderer:null},triggers:{callout:'transform',calloutPlaceX:'transform',calloutPlaceY:'transform',labelOverflowPadding:'transform',calloutRotation:'transform',display:'hidden'},updaters:{hidden:function(a){a.hidden=a.display==='none'}}}},config:{animation:{customDurations:{callout:200}},field:null,calloutLine:!0,hideLessThan:20},applyCalloutLine:function(a){if(a){return Ext.apply({},a)}return a},createModifiers:function(){var b=this,a=Ext.draw.sprite.Text.prototype.createModifiers.apply(this,arguments);a.callout=new Ext.chart.modifier.Callout({sprite:b});a.animation.setUpper(a.callout);a.callout.setUpper(a.target)},render:function(e,a){var b=this,d=b.attr,c=d.calloutColor;a.save();a.globalAlpha*=d.callout;if(a.globalAlpha>0&&d.calloutHasLine){if(c&&c.isGradient){c=c.getStops()[0].color}a.strokeStyle=c;a.fillStyle=c;a.lineWidth=d.calloutWidth;a.beginPath();a.moveTo(b.attr.calloutStartX,b.attr.calloutStartY);a.lineTo(b.attr.calloutEndX,b.attr.calloutEndY);a.stroke();a.beginPath();a.arc(b.attr.calloutStartX,b.attr.calloutStartY,1*d.calloutWidth,0,2*Math.PI,!0);a.fill();a.beginPath();a.arc(b.attr.calloutEndX,b.attr.calloutEndY,1*d.calloutWidth,0,2*Math.PI,!0);a.fill()}a.restore();Ext.draw.sprite.Text.prototype.render.apply(b,arguments)}},0,0,0,0,0,0,[Ext.chart.sprite,'Label',Ext.chart.label,'Label'],0);Ext.cmd.derive('Ext.chart.series.Series',Ext.Base,{isSeries:!0,defaultBindProperty:'store',type:null,seriesType:'sprite',identifiablePrefix:'ext-line-',observableType:'series',darkerStrokeRatio:0.15,config:{chart:null,title:null,renderer:null,showInLegend:!0,triggerAfterDraw:!1,theme:null,style:{},subStyle:{},themeStyle:{},colors:null,useDarkerStrokeColor:!0,store:null,label:null,labelOverflowPadding:null,showMarkers:!0,marker:null,markerSubStyle:null,itemInstancing:null,background:null,surface:null,overlaySurface:null,hidden:!1,highlight:!1,highlightCfg:{merge:function(a){return a},$value:{fillStyle:'yellow',strokeStyle:'red'}},animation:null,tooltip:null},directions:[],sprites:null,themeColorCount:function(){return 1},isStoreDependantColorCount:!1,themeMarkerCount:function(){return 0},getFields:function(d){var f=this,a=[],e=d.length,c,b;for(c=0;c<e;c++){b=f['get'+d[c]+'Field']();if(Ext.isArray(b)){a.push.apply(a,b)}else {a.push(b)}}return a},applyAnimation:function(b,a){var c=this.getChart();if(!c.isSettingSeriesAnimation){this.isUserAnimation=!0}return Ext.chart.Util.applyAnimation(b,a)},updateAnimation:function(e){var f=this.getSprites(),d,c,b,g,a;for(b=0,g=f.length;b<g;b++){a=f[b];if(a.isMarkerHolder){d=a.getMarker('items');if(d){d.getTemplate().setAnimation(e)}c=a.getMarker('markers');if(c){c.getTemplate().setAnimation(e)}}a.setAnimation(e)}},getAnimation:function(){var b=this.getChart(),a;if(b&&b.animationSuspendCount){a={duration:0}}else {if(this.isUserAnimation){a=(arguments.callee.$previous||Ext.Base.prototype.getAnimation).call(this)}else {a=b.getAnimation()}}return a},updateTitle:function(){var b=this,a=b.getChart();if(a&&!a.isInitializing){a.refreshLegendStore()}},applyHighlight:function(a,c){var d=this,b=d.getHighlightCfg();if(Ext.isObject(a)){a=Ext.merge({},b,a)}else if(a===!0){a=b}if(a){a.type='highlight'}return a&&Ext.merge({},c,a)},updateHighlight:function(d){var a=this,g=a.sprites,i=a.getHighlightCfg(),c,h,b,f,e;a.getStyle();a.getMarker();if(!Ext.Object.isEmpty(d)){a.addItemHighlight();for(c=0,h=g.length;c<h;c++){b=g[c];if(b.isMarkerHolder){f=b.getMarker('items');if(f){f.getTemplate().modifiers.highlight.setStyle(d)}e=b.getMarker('markers');if(e){e.getTemplate().modifiers.highlight.setStyle(d)}}}}else if(!Ext.Object.equals(i,this.defaultConfig.highlightCfg)){this.addItemHighlight()}},updateHighlightCfg:function(a){if(!this.isConfiguring&&!Ext.Object.equals(a,this.defaultConfig.highlightCfg)){this.addItemHighlight()}},applyItemInstancing:function(a,b){if(a&&b&&(!a.type||a.type===b.type)){a=Ext.merge({},b,a)}if(a&&!a.type){a=null}return a},setAttributesForItem:function(b,c){var a=b&&b.sprite,d;if(a){if(a.isMarkerHolder&&b.category==='items'){a.putMarker(b.category,c,b.index,!1,!0)}if(a.isMarkerHolder&&b.category==='markers'){a.putMarker(b.category,c,b.index,!1,!0)}else if(a.isInstancing){a.setAttributesFor(b.index,c)}else if(Ext.isArray(a)){for(d=0;d<a.length;d++){a[d].setAttributes(c)}}else {a.setAttributes(c)}}},getBBoxForItem:function(b){var a=b&&b.sprite,c=null;if(a){if(a.getMarker('items')&&b.category==='items'){c=a.getMarkerBBox(b.category,b.index)}else if(a instanceof Ext.draw.sprite.Instancing){c=a.getBBoxFor(b.index)}else {c=a.getBBox()}}return c},dataRange:null,constructor:function(a){var b=this,c;a=a||{};if(a.tips){a=Ext.apply({tooltip:a.tips},a)}if(a.highlightCfg){a=Ext.apply({highlight:a.highlightCfg},a)}if('id' in a){c=a.id}else if('id' in b.config){c=b.config.id}else {c=b.getId()}b.setId(c);b.sprites=[];b.dataRange=[];b.mixins.observable.constructor.call(b,a);b.initBindable()},lookupViewModel:function(b){var a=this.getChart();return a?a.lookupViewModel(b):null},applyTooltip:function(a,c){var b=Ext.apply({xtype:'tooltip',renderer:Ext.emptyFn,constrainPosition:!0,shrinkWrapDock:!0,autoHide:!0,hideDelay:200,mouseOffset:[20,20],trackMouse:!0},a);return Ext.create(b)},updateTooltip:function(){this.addItemHighlight()},addItemHighlight:function(){var d=this.getChart(),a,c,e,b;if(!d){return}a=d.getInteractions();for(b=0;b<a.length;b++){c=a[b];if(c.isItemHighlight||c.isItemEdit){e=!0;break}}if(!e){a.push('itemhighlight');d.setInteractions(a)}},showTooltip:function(b,d){var c=this,a=c.getTooltip();if(!a){return}Ext.callback(a.renderer,a.scope,[a,b.record,b],0,c);a.showBy(d)},showTooltipAt:function(c,e,f){var d=this,a=d.getTooltip(),b=a.config.mouseOffset;if(!a||!a.showAt){return}if(b){e+=b[0];f+=b[1]}Ext.callback(a.renderer,a.scope,[a,c.record,c],0,d);a.showAt([e,f])},hideTooltip:function(d,b){var c=this,a=c.getTooltip();if(!a){return}if(b){a.hide()}else {a.delayHide()}},applyStore:function(a){return a&&Ext.StoreManager.lookup(a)},getStore:function(){return this._store||this.getChart()&&this.getChart().getStore()},updateStore:function(c,b){var a=this,g=a.getChart(),i=g&&g.getStore(),e,f,h,d;b=b||i;if(b&&b!==c){b.un({datachanged:'onDataChanged',update:'onDataChanged',scope:a})}if(c){c.on({datachanged:'onDataChanged',update:'onDataChanged',scope:a});e=a.getSprites();for(d=0,h=e.length;d<h;d++){f=e[d];if(f.setStore){f.setStore(c)}}a.onDataChanged()}a.fireEvent('storechange',a,c,b)},onStoreChange:function(c,a,b){if(!this._store){this.updateStore(a,b)}},defaultRange:[0,1],coordinate:function(d,j,n){var a=this,q=a.getStore(),l=a.getHidden(),p=q.getData().items,f=a['get'+d+'Axis'](),c=[NaN,NaN],g=a['fieldCategory'+d]||[d],o=a.getFields(g),b,m,i,e={},h=a.getSprites(),k;if(h.length&&!Ext.isBoolean(l)||!l){for(b=0;b<g.length;b++){m=o[b];i=a.coordinateData(p,m,f);Ext.chart.Util.expandRange(c,i);e['data'+g[b]]=i}c=Ext.chart.Util.validateRange(c,a.defaultRange,0);a.dataRange[j]=c[0];a.dataRange[j+n]=c[1];e['dataMin'+d]=c[0];e['dataMax'+d]=c[1];if(f){k=f.getRange(!0);f.setBoundSeriesRange(k)}for(b=0;b<h.length;b++){h[b].setAttributes(e)}}},coordinateData:function(d,f,g){var c=[],h=d.length,e=g&&g.getLayout(),a,b;for(a=0;a<h;a++){b=d[a].data[f];if(!Ext.isEmpty(b,!0)){if(e){c[a]=e.getCoordFor(b,f,a,d)}else {b=+b;c[a]=Ext.isNumber(b)?b:a}}else {c[a]=b}}return c},updateLabelData:function(){var i=this.getLabel();if(!i){return}var l=this.getStore(),h=l.getData().items,f=this.getSprites(),k=i.getTemplate(),e=Ext.Array.from(k.getField()),a,d,j,g,b,c;if(!f.length||!e.length){return}for(a=0;a<f.length;a++){b=f[a];if(!b.getField){continue}g=[];c=b.getField();if(Ext.Array.indexOf(e,c)<0){c=e[a]}for(d=0,j=h.length;d<j;d++){g.push(h[d].get(c))}b.setAttributes({labels:g})}},processData:function(){var a=this,f=a.directions,c,d,e,b,g;if(a.isProcessingData||!a.getStore()){return}a.isProcessingData=!0;for(b=0,g=f.length;b<g;b++){c=f[b];d=a['get'+c+'Axis']();if(d){d.processData(a);continue}e='coordinate'+c;if(a[e]){a[e]()}}a.updateLabelData();a.isProcessingData=!1},applyBackground:function(c){var a,b;if(this.getChart()){a=this.getSurface();a.setBackground(c);b=a.getBackground()}else {b=c}return b},updateChart:function(b,c){var a=this,d=a._store;if(c){c.un('axeschange','onAxesChange',a);a.clearSprites();a.setSurface(null);a.setOverlaySurface(null);c.unregister(a);a.onChartDetached(c);if(!d){a.updateStore(null)}}if(b){a.setSurface(b.getSurface('series'));a.setOverlaySurface(b.getSurface('overlay'));b.on('axeschange','onAxesChange',a);if(b.getAxes()){a.onAxesChange(b)}a.onChartAttached(b);b.register(a);if(!d){a.updateStore(b.getStore())}}},onAxesChange:function(h,l){if(h.destroying||h.destroyed){return}var f=this,k=h.getAxes(),c,e={},i={},j=!1,g=this.directions,a,b,d;for(b=0,d=g.length;b<d;b++){a=g[b];i[a]=f.getFields(f['fieldCategory'+a])}for(b=0,d=k.length;b<d;b++){c=k[b];a=c.getDirection();if(!e[a]){e[a]=[c]}else {e[a].push(c)}}for(b=0,d=g.length;b<d;b++){a=g[b];if(!l&&f['get'+a+'Axis']()){continue}if(e[a]){c=f.findMatchingAxis(e[a],i[a]);if(c){f['set'+a+'Axis'](c);if(c.getNeedHighPrecision()){j=!0}}}}this.getSurface().setHighPrecision(j)},findMatchingAxis:function(f,d){var a,e,b,c;for(b=0;b<f.length;b++){a=f[b];e=a.getFields();if(!e.length){return a}else if(d){for(c=0;c<d.length;c++){if(Ext.Array.indexOf(e,d[c])>=0){return a}}}}},onChartDetached:function(b){var a=this;a.fireEvent('chartdetached',b,a);b.un('storechange','onStoreChange',a)},onChartAttached:function(b){var a=this;a.fireEvent('chartattached',b,a);b.on('storechange','onStoreChange',a);a.processData()},updateOverlaySurface:function(a){var b=this.getLabel();if(a&&b){a.add(b)}},getLabel:function(){return this.labelMarker},setLabel:function(b){var c=this,e=c.getChart(),a=c.labelMarker,d;if(!b&&a){a.getTemplate().destroy();a.destroy();c.labelMarker=a=null}if(b){if(!a){a=c.labelMarker=new Ext.chart.Markers({zIndex:10});a.setTemplate(new Ext.chart.sprite.Label());c.getOverlaySurface().add(a)}d=a.getTemplate();d.setAttributes(b);d.setConfig(b);if(b.field){d.setField(b.field)}if(b.display){a.setAttributes({hidden:b.display==='none'})}a.setDirty(!0)}c.updateLabelData();if(e&&!e.isInitializing&&!c.isConfiguring){e.redraw()}},createItemInstancingSprite:function(g,e){var d=this,a=new Ext.chart.Markers(),f=Ext.apply({modifiers:'highlight'},e),h=d.getStyle(),c,b;a.setAttributes({zIndex:Number.MAX_VALUE});a.setTemplate(f);c=a.getTemplate();c.setAttributes(h);b=c.getAnimation();b.on('animationstart','onSpriteAnimationStart',this);b.on('animationend','onSpriteAnimationEnd',this);g.bindMarker('items',a);d.getSurface().add(a);return a},getDefaultSpriteConfig:function(){return {type:this.seriesType,renderer:this.getRenderer()}},updateRenderer:function(c){var b=this,a=b.getChart();if(a&&a.isInitializing){return}if(b.sprites.length){b.sprites[0].setAttributes({renderer:c||null});if(a&&!a.isInitializing){a.redraw()}}},updateShowMarkers:function(c){var b=this.getSprite(),a=b&&b.getMarker('markers');if(a){a.getTemplate().setAttributes({hidden:!c})}},createSprite:function(){var a=this,f=a.getSurface(),e=a.getItemInstancing(),b=f.add(a.getDefaultSpriteConfig()),d,c;b.setAttributes(a.getStyle());b.setSeries(a);if(e){a.createItemInstancingSprite(b,e)}if(b.isMarkerHolder){c=a.getLabel();if(c&&c.getTemplate().getField()){b.bindMarker('labels',c)}}if(b.setStore){b.setStore(a.getStore())}d=b.getAnimation();d.on('animationstart','onSpriteAnimationStart',a);d.on('animationend','onSpriteAnimationEnd',a);a.sprites.push(b);return b},getSprites:null,getSprite:function(){var a=this.getSprites();return a&&a[0]},withSprite:function(b){var a=this.getSprite();return a&&b(a)||undefined},forEachSprite:function(d){var b=this.getSprites(),a,c;for(a=0,c=b.length;a<c;a++){d(b[a])}},onDataChanged:function(){var a=this,b=a.getChart(),d=b&&b.getStore(),c=a.getStore();if(c!==d){a.processData()}},isXType:function(a){return a==='series'},getItemId:function(){return this.getId()},applyThemeStyle:function(a,e){var d=this,b,c;b=a&&a.subStyle&&a.subStyle.fillStyle;c=b&&a.subStyle.strokeStyle;if(b&&!c){a.subStyle.strokeStyle=d.getStrokeColorsFromFillColors(b)}b=a&&a.markerSubStyle&&a.markerSubStyle.fillStyle;c=b&&a.markerSubStyle.strokeStyle;if(b&&!c){a.markerSubStyle.strokeStyle=d.getStrokeColorsFromFillColors(b)}return Ext.apply(e||{},a)},applyStyle:function(b,a){return Ext.apply({},b,a)},applySubStyle:function(a,c){var d=Ext.ClassManager.getNameByAlias('sprite.'+this.seriesType),b=Ext.ClassManager.get(d);if(b&&b.def){a=b.def.batchedNormalize(a,!0)}return Ext.merge({},c,a)},applyMarker:function(a,d){var b,c;if(a){if(!Ext.isObject(a)){a={}}b=a.type||'circle';if(d&&b===d.type){a=Ext.merge({},d,a)}}if(b){c=Ext.ClassManager.get(Ext.ClassManager.getNameByAlias('sprite.'+b))}if(c&&c.def){a=c.def.normalize(a,!0);a.type=b}else {a=null}return a},updateMarker:function(g){var b=this,f=b.getSprites(),c,a,e,d,h;for(d=0,h=f.length;d<h;d++){c=f[d];if(!c.isMarkerHolder){continue}a=c.getMarker('markers');if(g){if(!a){a=new Ext.chart.Markers();c.bindMarker('markers',a);b.getOverlaySurface().add(a)}e=Ext.Object.merge({modifiers:'highlight'},g);a.setTemplate(e);a.getTemplate().getAnimation().setCustomDurations({translationX:0,translationY:0})}else if(a){c.releaseMarker('markers');b.getOverlaySurface().remove(a,!0)}c.setDirty(!0)}if(!b.isConfiguring){b.doUpdateStyles();b.updateHighlight(b.getHighlight())}},applyMarkerSubStyle:function(a,b){var d=a&&a.type||b&&b.type||'circle',c=Ext.ClassManager.get(Ext.ClassManager.getNameByAlias('sprite.'+d));if(c&&c.def){a=c.def.batchedNormalize(a,!0)}return Ext.merge(b||{},a)},updateHidden:function(b){var a=this;a.getColors();a.getSubStyle();a.setSubStyle({hidden:b});a.processData();a.doUpdateStyles();if(!Ext.isArray(b)){a.updateLegendStore(b)}},updateLegendStore:function(c,g){var f=this,d=f.getChart(),b=d&&d.getLegendStore(),e=f.getId(),a;if(b){if(arguments.length>1){a=b.findBy(function(a){return a.get('series')===e&&a.get('index')===g});if(a!==-1){a=b.getAt(a)}}else {a=b.findRecord('series',e)}if(a&&a.get('disabled')!==c){a.set('disabled',c)}}},setHiddenByIndex:function(c,b){var a=this;if(Ext.isArray(a.getHidden())){a.getHidden()[c]=b;a.updateHidden(a.getHidden());a.updateLegendStore(b,c)}else {a.setHidden(b)}},getStrokeColorsFromFillColors:function(c){var d=this,b=d.getUseDarkerStrokeColor(),e=Ext.isNumber(b)?b:d.darkerStrokeRatio,a;if(b){a=Ext.Array.map(c,function(a){a=Ext.isString(a)?a:a.stops[0].color;a=Ext.util.Color.fromString(a);return a.createDarker(e).toString()})}else {a=Ext.Array.clone(c)}return a},updateThemeColors:function(d){var a=this,b=a.getThemeStyle(),f=Ext.Array.clone(d),e=a.getStrokeColorsFromFillColors(d),c={fillStyle:f,strokeStyle:e};b.subStyle=Ext.apply(b.subStyle||{},c);b.markerSubStyle=Ext.apply(b.markerSubStyle||{},c);a.doUpdateStyles();if(!a.isConfiguring){a.getChart().refreshLegendStore()}},themeOnlyIfConfigured:{},updateTheme:function(o){var c=this,d=o.getSeries(),m=c.getInitialConfig(),l=c.defaultConfig,n=c.self.getConfigurator().configs,k=d.defaults,j=d[c.type],i=c.themeOnlyIfConfigured,b,a,g,e,f,h;d=Ext.merge({},k,j);for(b in d){a=d[b];h=n[b];if(a!==null&&a!==undefined&&h){f=m[b];g=Ext.isObject(a);e=f===l[b];if(g){if(e&&i[b]){continue}a=Ext.merge({},a,f)}if(e||g){c[h.names.set](a)}}}},updateChartColors:function(b){var a=this;if(!a.getColors()){a.updateThemeColors(b)}},updateColors:function(b){var a;this.updateThemeColors(b);if(!this.isConfiguring){a=this.getChart();if(a){a.refreshLegendStore()}}},updateStyle:function(){this.doUpdateStyles()},updateSubStyle:function(){this.doUpdateStyles()},updateThemeStyle:function(){this.doUpdateStyles()},doUpdateStyles:function(){var c=this,d=c.sprites,g=c.getItemInstancing(),h=d&&d.length,i=c.getConfig('showMarkers',!0),f,b,e,a;for(a=0;a<h;a++){b=d[a];f=c.getStyleByIndex(a);if(g){b.getMarker('items').getTemplate().setAttributes(f)}b.setAttributes(f);e=b.isMarkerHolder&&b.getMarker('markers');if(e){e.getTemplate().setAttributes(c.getMarkerStyleByIndex(a))}}},getStyleWithTheme:function(){var c=this,a=c.getThemeStyle(),b=Ext.clone(c.getStyle());if(a&&a.style){Ext.applyIf(b,a.style)}return b},getSubStyleWithTheme:function(){var c=this,a=c.getThemeStyle(),b=Ext.clone(c.getSubStyle());if(a&&a.subStyle){Ext.applyIf(b,a.subStyle)}return b},getStyleByIndex:function(h){var b=this,c=b.getThemeStyle(),g,e,f,d,a={};g=b.getStyle();e=c&&c.style||{};f=b.styleDataForIndex(b.getSubStyle(),h);d=b.styleDataForIndex(c&&c.subStyle,h);Ext.apply(a,e);Ext.apply(a,d);Ext.apply(a,g);Ext.apply(a,f);return a},getMarkerStyleByIndex:function(e){var c=this,b=c.getThemeStyle(),l,k,d,i,j,g,h,f,a={};l=c.getStyle();k=b&&b.style||{};d=c.styleDataForIndex(c.getSubStyle(),e);if(d.hasOwnProperty('hidden')){d.hidden=d.hidden||!this.getConfig('showMarkers',!0)}i=c.styleDataForIndex(b&&b.subStyle,e);j=c.getMarker();g=b&&b.marker||{};h=c.getMarkerSubStyle();f=c.styleDataForIndex(b&&b.markerSubStyle,e);Ext.apply(a,k);Ext.apply(a,i);Ext.apply(a,g);Ext.apply(a,f);Ext.apply(a,l);Ext.apply(a,d);Ext.apply(a,j);Ext.apply(a,h);return a},styleDataForIndex:function(d,e){var a,b,c={};if(d){for(b in d){a=d[b];if(Ext.isArray(a)){c[b]=a[e%a.length]}else {c[b]=a}}}return c},getItemForPoint:Ext.emptyFn,getItemByIndex:function(e,a){var c=this,d=c.getSprites(),b=d&&d[0],f;if(!b){return}if(a===undefined&&b.isMarkerHolder){a=c.getItemInstancing()?'items':'markers'}else if(!a||a===''||a==='sprites'){b=d[e]}if(b){f={series:c,category:a,index:e,record:c.getStore().getData().items[e],field:c.getYField(),sprite:b};return f}},onSpriteAnimationStart:function(a){this.fireEvent('animationstart',this,a)},onSpriteAnimationEnd:function(a){this.fireEvent('animationend',this,a)},resolveListenerScope:function(d){var c=this,e=Ext._namedScopes[d],a=c.getChart(),b;if(!e){b=a?a.resolveListenerScope(d,!1):d||c}else if(e.isThis){b=c}else if(e.isController){b=a?a.resolveListenerScope(d,!1):c}else if(e.isSelf){b=a?a.resolveListenerScope(d,!1):c;if(b===a&&!a.getInheritedConfig('defaultListenerScope')){b=c}}return b},provideLegendInfo:function(d){var b=this,c=b.getSubStyleWithTheme(),a=c.fillStyle;if(Ext.isArray(a)){a=a[0]}d.push({name:b.getTitle()||b.getYField()||b.getId(),mark:(Ext.isObject(a)?a.stops&&a.stops[0].color:a)||c.strokeStyle||'black',disabled:b.getHidden(),series:b.getId(),index:0})},clearSprites:function(){var c=this.sprites,a,b,d;for(b=0,d=c.length;b<d;b++){a=c[b];if(a&&a.isSprite){a.destroy()}}this.sprites=[]},destroy:function(){var a=this,b=a._store,c=a.getConfig('tooltip',!0);if(b&&b.getAutoDestroy()){Ext.destroy(b)}a.setChart(null);a.clearListeners();if(c){Ext.destroy(c)}a.callParent()}},1,0,0,0,0,[[Ext.mixin.Observable.prototype.mixinId||Ext.mixin.Observable.$className,Ext.mixin.Observable],[Ext.mixin.Bindable.prototype.mixinId||Ext.mixin.Bindable.$className,Ext.mixin.Bindable]],[Ext.chart.series,'Series'],0);Ext.cmd.derive('Ext.chart.interactions.Abstract',Ext.Base,{config:{gestures:{tap:'onGesture'},chart:null,enabled:!0},throttleGap:0,stopAnimationBeforeSync:!1,constructor:function(b){var a=this,c;b=b||{};if('id' in b){c=b.id}else if('id' in a.config){c=a.config.id}else {c=a.getId()}a.setId(c);a.mixins.observable.constructor.call(a,b)},updateChart:function(c,a){var b=this;if(a===c){return}if(a){a.unregister(b);b.removeChartListener(a)}if(c){c.register(b);b.addChartListener()}},updateEnabled:function(c){var a=this,b=a.getChart();if(b){if(c){a.addChartListener()}else {a.removeChartListener(b)}}},onGesture:Ext.emptyFn,getItemForEvent:function(d){var c=this,b=c.getChart(),a=b.getEventXY(d);return b.getItemForPoint(a[0],a[1])},getItemsForEvent:function(d){var c=this,b=c.getChart(),a=b.getEventXY(d);return b.getItemsForPoint(a[0],a[1])},addChartListener:function(){var a=this,d=a.getChart(),c=a.getGestures(),b;if(!a.getEnabled()){return}function insertGesture(b,c){d.addElementListener(b,a.listeners[b]=function(e){var f=a.getLocks(),d;if(a.getEnabled()&&(!(b in f)||f[b]===a)){d=(Ext.isFunction(c)?c:a[c]).apply(this,arguments);if(d===!1&&e&&e.stopPropagation){e.stopPropagation()}return d}},a)}a.listeners=a.listeners||{};for(b in c){insertGesture(b,c[b])}},removeChartListener:function(d){var a=this,c=a.getGestures(),b;function removeGesture(b){var c=a.listeners[b];if(c){d.removeElementListener(b,c);delete a.listeners[b]}}if(a.listeners){for(b in c){removeGesture(b)}}},lockEvents:function(){var b=this,d=b.getLocks(),a=Array.prototype.slice.call(arguments),c=a.length;while(c--){d[a[c]]=b}},unlockEvents:function(){var c=this.getLocks(),a=Array.prototype.slice.call(arguments),b=a.length;while(b--){delete c[a[b]]}},getLocks:function(){var a=this.getChart();return a.lockedEvents||(a.lockedEvents={})},doSync:function(){var a=this,b=a.getChart();if(a.syncTimer){Ext.undefer(a.syncTimer);a.syncTimer=null}if(a.stopAnimationBeforeSync){b.animationSuspendCount++}b.redraw();if(a.stopAnimationBeforeSync){b.animationSuspendCount--}a.syncThrottle=Date.now()+a.throttleGap},sync:function(){var a=this;if(a.throttleGap&&Ext.frameStartTime<a.syncThrottle){if(a.syncTimer){return}a.syncTimer=Ext.defer(function(){a.doSync()},a.throttleGap)}else {a.doSync()}},getItemId:function(){return this.getId()},isXType:function(a){return a==='interaction'},destroy:function(){var a=this;a.setChart(null);delete a.listeners;a.callParent()}},1,['interaction'],['interaction'],{'interaction':!0},['widget.interaction'],[['observable',Ext.mixin.Observable]],[Ext.chart.interactions,'Abstract'],function(){if(Ext.os.is.Android4){this.prototype.throttleGap=40}});Ext.cmd.derive('Ext.chart.MarkerHolder',Ext.Mixin,{mixinConfig:{id:'markerHolder',after:{constructor:'constructor',preRender:'preRender'},before:{destroy:'destroy'}},isMarkerHolder:!0,surfaceMatrix:null,inverseSurfaceMatrix:null,deprecated:{6:{methods:{getBoundMarker:{message:"Please use the 'getMarker' method instead.",fn:function(b){var a=this.boundMarkers[b];return a?[a]:a}}}}},constructor:function(){this.boundMarkers={};this.cleanRedraw=!1},bindMarker:function(c,a){var b=this,d=b.boundMarkers;if(a&&a.isMarkers){b.releaseMarker(c);d[c]=a;a.on('destroy',b.onMarkerDestroy,b)}},onMarkerDestroy:function(a){this.releaseMarker(a)},releaseMarker:function(a){var c=this.boundMarkers,b;if(a&&a.isMarkers){for(b in c){if(c[b]===a){delete c[b];break}}}else {b=a;a=c[b];delete c[b]}return a||null},getMarker:function(a){return this.boundMarkers[a]||null},preRender:function(h,j,i){var a=this,g=a.getId(),e=a.boundMarkers,b=a.getParent(),f,d,c;if(a.surfaceMatrix){c=a.surfaceMatrix.set(1,0,0,1,0,0)}else {c=a.surfaceMatrix=new Ext.draw.Matrix()}a.cleanRedraw=!a.attr.dirty;if(!a.cleanRedraw){for(f in e){d=e[f];if(d){d.clear(g)}}}while(b&&b.attr&&b.attr.matrix){c.prependMatrix(b.attr.matrix);b=b.getParent()}c.prependMatrix(b.matrix);a.surfaceMatrix=c;a.inverseSurfaceMatrix=c.inverse(a.inverseSurfaceMatrix)},putMarker:function(f,e,d,b,c){var a=this.boundMarkers[f];if(a){a.putMarkerFor(this.getId(),e,d,b,c)}},getMarkerBBox:function(d,c,b){var a=this.boundMarkers[d];if(a){return a.getMarkerBBoxFor(this.getId(),c,b)}},destroy:function(){var a=this.boundMarkers,c,b;for(c in a){b=a[c];b.destroy()}}},1,0,0,0,0,0,[Ext.chart,'MarkerHolder'],0);Ext.cmd.derive('Ext.chart.axis.sprite.Axis',Ext.draw.sprite.Sprite,{type:'axis',inheritableStatics:{def:{processors:{grid:'bool',axisLine:'bool',minorTicks:'bool',minorTickSize:'number',majorTicks:'bool',majorTickSize:'number',length:'number',startGap:'number',endGap:'number',dataMin:'number',dataMax:'number',visibleMin:'number',visibleMax:'number',position:'enums(left,right,top,bottom,angular,radial,gauge)',minStepSize:'number',estStepSize:'number',titleOffset:'number',textPadding:'number',min:'number',max:'number',centerX:'number',centerY:'number',radius:'number',totalAngle:'number',baseRotation:'number',data:'default',enlargeEstStepSizeByText:'bool'},defaults:{grid:!1,axisLine:!0,minorTicks:!1,minorTickSize:3,majorTicks:!0,majorTickSize:5,length:0,startGap:0,endGap:0,visibleMin:0,visibleMax:1,dataMin:0,dataMax:1,position:'',minStepSize:0,estStepSize:20,min:0,max:1,centerX:0,centerY:0,radius:1,baseRotation:0,data:null,titleOffset:0,textPadding:0,scalingCenterY:0,scalingCenterX:0,strokeStyle:'black',enlargeEstStepSizeByText:!1},triggers:{minorTickSize:'bbox',majorTickSize:'bbox',position:'bbox,layout',axisLine:'bbox,layout',minorTicks:'layout',min:'layout',max:'layout',length:'layout',minStepSize:'layout',estStepSize:'layout',data:'layout',dataMin:'layout',dataMax:'layout',visibleMin:'layout',visibleMax:'layout',enlargeEstStepSizeByText:'layout'},updaters:{layout:'layoutUpdater'}}},config:{label:null,labelOffset:10,layout:null,segmenter:null,renderer:null,layoutContext:null,axis:null},thickness:0,stepSize:0,getBBox:function(){return null},defaultRenderer:function(a){return this.segmenter.renderer(a,this)},layoutUpdater:function(){var b=this,i=b.getAxis().getChart();if(i.isInitializing){return}var a=b.attr,h=b.getLayout(),j=i.getInherited().rtl,f=a.dataMax-a.dataMin,e=a.dataMin+f*a.visibleMin,k=a.dataMin+f*a.visibleMax,c=k-e,d=a.position,g={attr:a,segmenter:b.getSegmenter(),renderer:b.defaultRenderer};if(d==='left'||d==='right'){a.translationX=0;a.translationY=k*a.length/c;a.scalingX=1;a.scalingY=-a.length/c;a.scalingCenterY=0;a.scalingCenterX=0;b.applyTransformations(!0)}else if(d==='top'||d==='bottom'){if(j){a.translationX=a.length+e*a.length/c+1}else {a.translationX=-e*a.length/c}a.translationY=0;a.scalingX=(j?-1:1)*a.length/c;a.scalingY=1;a.scalingCenterY=0;a.scalingCenterX=0;b.applyTransformations(!0)}if(h){h.calculateLayout(g);b.setLayoutContext(g)}},iterate:function(a,c){var b,f,j,h,g,d,k=Ext.Array.some,l=Math.abs,i,e;if(a.getLabel){if(a.min<a.from){c.call(this,a.min,a.getLabel(a.min),-1,a)}for(b=0;b<=a.steps;b++){c.call(this,a.get(b),a.getLabel(b),b,a)}if(a.max>a.to){c.call(this,a.max,a.getLabel(a.max),a.steps+1,a)}}else {h=this.getAxis();g=h.floatingAxes;d=[];i=(a.to-a.from)/(a.steps+1);if(h.getFloating()){for(j in g){d.push(g[j])}}e=function(b){return !d.length||k(d,function(d){return l(d-b)>i})};if(a.min<a.from&&e(a.min)){c.call(this,a.min,a.min,-1,a)}for(b=0;b<=a.steps;b++){f=a.get(b);if(e(f)){c.call(this,f,f,b,a)}}if(a.max>a.to&&e(a.max)){c.call(this,a.max,a.max,a.steps+1,a)}}},renderTicks:function(j,b,q,i){var c=this,a=c.attr,v=a.position,k=a.matrix,g=0.5*a.lineWidth,t=k.getXX(),r=k.getDX(),u=k.getYY(),s=k.getDY(),f=q.majorTicks,d=a.majorTickSize,e=q.minorTicks,h=a.minorTickSize,p;if(f){switch(v){case 'right':var m=function(a){return function(c,d,e){c=j.roundPixel(c*u+s)+g;b.moveTo(0,c);b.lineTo(a,c)}};c.iterate(f,m(d));if(e){c.iterate(e,m(h))};break;case 'left':var n=function(a){return function(c,d,e){c=j.roundPixel(c*u+s)+g;b.moveTo(i[2]-a,c);b.lineTo(i[2],c)}};c.iterate(f,n(d));if(e){c.iterate(e,n(h))};break;case 'bottom':var l=function(a){return function(c,d,e){c=j.roundPixel(c*t+r)-g;b.moveTo(c,0);b.lineTo(c,a)}};c.iterate(f,l(d));if(e){c.iterate(e,l(h))};break;case 'top':var o=function(a){return function(c,d,e){c=j.roundPixel(c*t+r)-g;b.moveTo(c,i[3]);b.lineTo(c,i[3]-a)}};c.iterate(f,o(d));if(e){c.iterate(e,o(h))};break;case 'angular':c.iterate(f,function(c,e,f){c=c/(a.max+1)*Math.PI*2+a.baseRotation;b.moveTo(a.centerX+a.length*Math.cos(c),a.centerY+a.length*Math.sin(c));b.lineTo(a.centerX+(a.length+d)*Math.cos(c),a.centerY+(a.length+d)*Math.sin(c))});break;case 'gauge':p=c.getGaugeAngles();c.iterate(f,function(c,e,f){c=(c-a.min)/(a.max-a.min)*a.totalAngle-a.totalAngle+p.start;b.moveTo(a.centerX+a.length*Math.cos(c),a.centerY+a.length*Math.sin(c));b.lineTo(a.centerX+(a.length+d)*Math.cos(c),a.centerY+(a.length+d)*Math.sin(c))});break;}}},renderLabels:function(e,I,i,s){var h=this,a=h.attr,p=0.5*a.lineWidth,t=a.position,C=a.matrix,H=a.textPadding,K=C.getXX(),v=C.getDX(),L=C.getYY(),J=C.getDY(),r=0,x=i.majorTicks,k=Math.max(a.majorTickSize,a.minorTickSize)+a.lineWidth,A=Ext.draw.Draw.isBBoxIntersect,b=h.getLabel(),F,w=h.getLabelOffset(),f=null,o=0,u=0,B=i.segmenter,n=h.getRenderer(),l=h.getAxis(),E=l.getTitle(),m=E&&E.attr.text!==''&&E.getBBox(),D,g=null,c,z,d,j,q,G,y;if(x&&b&&!b.attr.hidden){F=b.attr.font;if(I.font!==F){I.font=F}b.setAttributes({translationX:0,translationY:0},!0);b.applyTransformations();D=b.attr.inverseMatrix.elements.slice(0);switch(t){case 'left':j=m?m.x+m.width:0;switch(b.attr.textAlign){case 'start':q=e.roundPixel(j+v)-p;break;case 'end':q=e.roundPixel(s[2]-k+v)-p;break;default:q=e.roundPixel(j+(s[2]-j-k)/2+v)-p;};b.setAttributes({translationX:q},!0);break;case 'right':j=m?s[2]-m.x:0;switch(b.attr.textAlign){case 'start':q=e.roundPixel(k+v)+p;break;case 'end':q=e.roundPixel(s[2]-j+v)+p;break;default:q=e.roundPixel(k+(s[2]-k-j)/2+v)+p;};b.setAttributes({translationX:q},!0);break;case 'top':j=m?m.y+m.height:0;b.setAttributes({translationY:e.roundPixel(j+(s[3]-j-k)/2)-p},!0);break;case 'bottom':j=m?s[3]-m.y:0;b.setAttributes({translationY:e.roundPixel(k+(s[3]-k-j)/2)+p},!0);break;case 'radial':b.setAttributes({translationX:a.centerX},!0);break;case 'angular':b.setAttributes({translationY:a.centerY},!0);break;case 'gauge':b.setAttributes({translationY:a.centerY},!0);break;}if(t==='left'||t==='right'){h.iterate(x,function(h,a,j){if(a===undefined){return}if(n){d=Ext.callback(n,null,[l,a,i,f],0,l)}else {d=B.renderer(a,i,f)}f=a;b.setAttributes({text:String(d),translationY:e.roundPixel(h*L+J)},!0);b.applyTransformations();r=Math.max(r,b.getBBox().width+k);z=Ext.draw.Matrix.fly(b.attr.matrix.elements.slice(0));c=z.prepend.apply(z,D).transformBBox(b.getBBox(!0));if(g&&!A(c,g,H)){return}e.renderSprite(b);g=c;o+=c.height;u++})}else if(t==='top'||t==='bottom'){h.iterate(x,function(h,a,j){if(a===undefined){return}if(n){d=Ext.callback(n,null,[l,a,i,f],0,l)}else {d=B.renderer(a,i,f)}f=a;b.setAttributes({text:String(d),translationX:e.roundPixel(h*K+v)},!0);b.applyTransformations();r=Math.max(r,b.getBBox().height+k);z=Ext.draw.Matrix.fly(b.attr.matrix.elements.slice(0));c=z.prepend.apply(z,D).transformBBox(b.getBBox(!0));if(g&&!A(c,g,H)){return}e.renderSprite(b);g=c;o+=c.width;u++})}else if(t==='radial'){h.iterate(x,function(j,h,k){if(h===undefined){return}if(n){d=Ext.callback(n,null,[l,h,i,f],0,l)}else {d=B.renderer(h,i,f)}f=h;if(typeof d!=='undefined'){b.setAttributes({text:String(d),translationX:a.centerX-e.roundPixel(j)/a.max*a.length*Math.cos(a.baseRotation+Math.PI/2),translationY:a.centerY-e.roundPixel(j)/a.max*a.length*Math.sin(a.baseRotation+Math.PI/2)},!0);b.applyTransformations();c=b.attr.matrix.transformBBox(b.getBBox(!0));if(g&&!A(c,g)){return}e.renderSprite(b);g=c;o+=c.width;u++}})}else if(t==='angular'){w+=a.majorTickSize+a.lineWidth*0.5;h.iterate(x,function(j,h,k){if(h===undefined){return}if(n){d=Ext.callback(n,null,[l,h,i,f],0,l)}else {d=B.renderer(h,i,f)}f=h;r=Math.max(r,Math.max(a.majorTickSize,a.minorTickSize)+(a.lineCap!=='butt'?a.lineWidth*0.5:0));if(typeof d!=='undefined'){y=j/(a.max+1)*Math.PI*2+a.baseRotation;b.setAttributes({text:String(d),translationX:a.centerX+(a.length+w)*Math.cos(y),translationY:a.centerY+(a.length+w)*Math.sin(y)},!0);b.applyTransformations();c=b.attr.matrix.transformBBox(b.getBBox(!0));if(g&&!A(c,g)){return}e.renderSprite(b);g=c;o+=c.width;u++}})}else if(t==='gauge'){G=h.getGaugeAngles();w+=a.majorTickSize+a.lineWidth*0.5;h.iterate(x,function(j,h,k){if(h===undefined){return}if(n){d=Ext.callback(n,null,[l,h,i,f],0,l)}else {d=B.renderer(h,i,f)}f=h;if(typeof d!=='undefined'){y=(j-a.min)/(a.max-a.min)*a.totalAngle-a.totalAngle+G.start;b.setAttributes({text:String(d),translationX:a.centerX+(a.length+w)*Math.cos(y),translationY:a.centerY+(a.length+w)*Math.sin(y)},!0);b.applyTransformations();c=b.attr.matrix.transformBBox(b.getBBox(!0));if(g&&!A(c,g)){return}e.renderSprite(b);g=c;o+=c.width;u++}})}if(a.enlargeEstStepSizeByText&&u){o/=u;o+=k;o*=2;if(a.estStepSize<o){a.estStepSize=o}}if(Math.abs(h.thickness-r)>1){h.thickness=r;a.bbox.plain.dirty=!0;a.bbox.transform.dirty=!0;h.doThicknessChanged();return !1}}},renderAxisLine:function(g,b,j,f){var h=this,a=h.attr,c=a.lineWidth*0.5,i=a.position,d,e;if(a.axisLine&&a.length){switch(i){case 'left':d=g.roundPixel(f[2])-c;b.moveTo(d,-a.endGap);b.lineTo(d,a.length+a.startGap+1);break;case 'right':b.moveTo(c,-a.endGap);b.lineTo(c,a.length+a.startGap+1);break;case 'bottom':b.moveTo(-a.startGap,c);b.lineTo(a.length+a.endGap,c);break;case 'top':d=g.roundPixel(f[3])-c;b.moveTo(-a.startGap,d);b.lineTo(a.length+a.endGap,d);break;case 'angular':b.moveTo(a.centerX+a.length,a.centerY);b.arc(a.centerX,a.centerY,a.length,0,Math.PI*2,!0);break;case 'gauge':e=h.getGaugeAngles();b.moveTo(a.centerX+Math.cos(e.start)*a.length,a.centerY+Math.sin(e.start)*a.length);b.arc(a.centerX,a.centerY,a.length,e.start,e.end,!0);break;}}},getGaugeAngles:function(){var c=this,b=c.attr.totalAngle,a;if(b<=Math.PI){a=(Math.PI-b)*0.5}else {a=-(Math.PI*2-b)*0.5}a=Math.PI*2-a;return {start:a,end:a-b}},renderGridLines:function(s,t,p,r){var c=this,q=c.getAxis(),b=c.attr,j=b.matrix,i=b.startGap,k=b.endGap,n=j.getXX(),o=j.getYY(),l=j.getDX(),m=j.getDY(),g=b.position,f=q.getGridAlignment(),h=p.majorTicks,a,e,d;if(b.grid){if(h){if(g==='left'||g==='right'){d=b.min*o+m+k+i;c.iterate(h,function(g,h,b){a=g*o+m+k;c.putMarker(f+'-'+(b%2?'odd':'even'),{y:a,height:d-a},e=b,!0);d=a});e++;a=0;c.putMarker(f+'-'+(e%2?'odd':'even'),{y:a,height:d-a},e,!0)}else if(g==='top'||g==='bottom'){d=b.min*n+l+i;if(i){c.putMarker(f+'-even',{x:0,width:d},-1,!0)}c.iterate(h,function(g,h,b){a=g*n+l+i;c.putMarker(f+'-'+(b%2?'odd':'even'),{x:a,width:d-a},e=b,!0);d=a});e++;a=b.length+b.startGap+b.endGap;c.putMarker(f+'-'+(e%2?'odd':'even'),{x:a,width:d-a},e,!0)}else if(g==='radial'){c.iterate(h,function(e,h,g){if(!e){return}a=e/b.max*b.length;c.putMarker(f+'-'+(g%2?'odd':'even'),{scalingX:a,scalingY:a},g,!0);d=a})}else if(g==='angular'){c.iterate(h,function(g,h,e){if(!b.length){return}a=g/(b.max+1)*Math.PI*2+b.baseRotation;c.putMarker(f+'-'+(e%2?'odd':'even'),{rotationRads:a,rotationCenterX:0,rotationCenterY:0,scalingX:b.length,scalingY:b.length},e,!0);d=a})}}}},renderLimits:function(u){var k=this,c=k.attr,g=k.getAxis(),i=Ext.Array.from(g.getLimits());if(!i.length||c.dataMin===c.dataMax){if(g.limits){g.limits.titles.attr.hidden=!0}return}var t=g.getChart(),s=t.getInnerPadding(),m=g.limits.surface.getRect(),o=c.matrix,h=c.position,p=Ext.Object.chain,d=g.limits.titles,f,l,n,a,b,e,j,q,r;d.attr.hidden=!1;d.instances=[];d.position=0;if(h==='left'||h==='right'){for(e=0,j=i.length;e<j;e++){a=p(i[e]);if(!a.line){a.line={}}b=Ext.isString(a.value)?g.getCoordFor(a.value):a.value;b=b*o.getYY()+o.getDY();a.line.y=b+s.top;a.line.strokeStyle=a.line.strokeStyle||c.strokeStyle;k.putMarker('horizontal-limit-lines',a.line,e,!0);if(a.line.title){d.add(a.line.title);f=d.getBBoxFor(d.position-1);l=a.line.title.position||(h==='left'?'start':'end');switch(l){case 'start':q=10;break;case 'end':q=m[2]-10;break;case 'middle':q=m[2]/2;break;}d.setAttributesFor(d.position-1,{x:q,y:a.line.y-f.height/2,textAlign:l,fillStyle:a.line.title.fillStyle||a.line.strokeStyle})}}}else if(h==='top'||h==='bottom'){for(e=0,j=i.length;e<j;e++){a=p(i[e]);if(!a.line){a.line={}}b=Ext.isString(a.value)?g.getCoordFor(a.value):a.value;b=b*o.getXX()+o.getDX();a.line.x=b+s.left;a.line.strokeStyle=a.line.strokeStyle||c.strokeStyle;k.putMarker('vertical-limit-lines',a.line,e,!0);if(a.line.title){d.add(a.line.title);f=d.getBBoxFor(d.position-1);l=a.line.title.position||(h==='top'?'end':'start');switch(l){case 'start':r=m[3]-f.width/2-10;break;case 'end':r=f.width/2+10;break;case 'middle':r=m[3]/2;break;}d.setAttributesFor(d.position-1,{x:a.line.x+f.height/2,y:r,fillStyle:a.line.title.fillStyle||a.line.strokeStyle,rotationRads:Math.PI/2})}}}else if(h==='radial'){for(e=0,j=i.length;e<j;e++){a=p(i[e]);if(!a.line){a.line={}}b=Ext.isString(a.value)?g.getCoordFor(a.value):a.value;if(b>c.max){continue}b=b/c.max*c.length;a.line.cx=c.centerX;a.line.cy=c.centerY;a.line.scalingX=b;a.line.scalingY=b;a.line.strokeStyle=a.line.strokeStyle||c.strokeStyle;k.putMarker('circular-limit-lines',a.line,e,!0);if(a.line.title){d.add(a.line.title);f=d.getBBoxFor(d.position-1);d.setAttributesFor(d.position-1,{x:c.centerX,y:c.centerY-b-f.height/2,fillStyle:a.line.title.fillStyle||a.line.strokeStyle})}}}else if(h==='angular'){for(e=0,j=i.length;e<j;e++){a=p(i[e]);if(!a.line){a.line={}}b=Ext.isString(a.value)?g.getCoordFor(a.value):a.value;b=b/(c.max+1)*Math.PI*2+c.baseRotation;a.line.translationX=c.centerX;a.line.translationY=c.centerY;a.line.rotationRads=b;a.line.rotationCenterX=0;a.line.rotationCenterY=0;a.line.scalingX=c.length;a.line.scalingY=c.length;a.line.strokeStyle=a.line.strokeStyle||c.strokeStyle;k.putMarker('radial-limit-lines',a.line,e,!0);if(a.line.title){d.add(a.line.title);f=d.getBBoxFor(d.position-1);n=b>-0.5*Math.PI&&b<0.5*Math.PI||b>1.5*Math.PI&&b<2*Math.PI?1:-1;d.setAttributesFor(d.position-1,{x:c.centerX+0.5*c.length*Math.cos(b)+n*f.height/2*Math.sin(b),y:c.centerY+0.5*c.length*Math.sin(b)-n*f.height/2*Math.cos(b),rotationRads:n===1?b:b-Math.PI,fillStyle:a.line.title.fillStyle||a.line.strokeStyle})}}}else if(h==='gauge'){}},doThicknessChanged:function(){var a=this.getAxis();if(a){a.onThicknessChanged()}},render:function(e,a,d){var b=this,c=b.getLayoutContext();if(c){if(b.renderLabels(e,a,c,d)===!1){return !1}a.beginPath();b.renderTicks(e,a,c,d);b.renderAxisLine(e,a,c,d);b.renderGridLines(e,a,c,d);b.renderLimits(d);a.stroke()}}},0,0,0,0,['sprite.axis'],[['markerHolder',Ext.chart.MarkerHolder]],[Ext.chart.axis.sprite,'Axis'],0);Ext.cmd.derive('Ext.chart.axis.segmenter.Segmenter',Ext.Base,{config:{axis:null},constructor:function(a){this.initConfig(a)},renderer:function(a,b){return String(a)},from:function(a){return a},diff:Ext.emptyFn,align:Ext.emptyFn,add:Ext.emptyFn,preferredStep:Ext.emptyFn},1,0,0,0,0,0,[Ext.chart.axis.segmenter,'Segmenter'],0);Ext.cmd.derive('Ext.chart.axis.segmenter.Names',Ext.chart.axis.segmenter.Segmenter,{renderer:function(a,b){return a},diff:function(b,a,c){return Math.floor(a-b)},align:function(a,b,c){return Math.floor(a)},add:function(a,b,c){return a+b},preferredStep:function(d,a,b,c){return {unit:1,step:1}}},0,0,0,0,['segmenter.names'],0,[Ext.chart.axis.segmenter,'Names'],0);Ext.cmd.derive('Ext.chart.axis.segmenter.Numeric',Ext.chart.axis.segmenter.Segmenter,{isNumeric:!0,renderer:function(b,a){return b.toFixed(Math.max(0,a.majorTicks.unit.fixes))},diff:function(c,b,a){return Math.floor((b-c)/a.scale)},align:function(b,c,d){var a=d.scale*c;return Math.floor(b/a)*a},add:function(a,b,c){return a+b*c.scale},preferredStep:function(d,a){var b=Math.floor(Math.log(a)*Math.LOG10E),c=Math.pow(10,b);a/=c;if(a<2){a=2}else if(a<5){a=5}else if(a<10){a=10;b++}return {unit:{fixes:-b,scale:c},step:a}},leadingZeros:function(a){return -Math.floor(Ext.Number.log10(Math.abs(a)))},exactStep:function(d,a){var b=this.leadingZeros(a),c=Math.pow(10,b);return {unit:{fixes:b+(a%c===0?0:1),scale:a<1?a:1},step:a<1?1:a}},adjustByMajorUnit:function(h,g,d){var f=d[0],e=d[1],b=h*g,c,a;a=Math.max(1/(f||1),1/(b||1));a=a>1?a:1;c=f*a%(b*a)/a;if(c!==0){d[0]=f-c+(f<0?-b:0)}a=Math.max(1/(e||1),1/(b||1));a=a>1?a:1;c=e*a%(b*a)/a;if(c!==0){d[1]=e-c+(e>0?b:0)}}},0,0,0,0,['segmenter.numeric'],0,[Ext.chart.axis.segmenter,'Numeric'],0);Ext.cmd.derive('Ext.chart.axis.segmenter.Time',Ext.chart.axis.segmenter.Segmenter,{config:{step:null},renderer:function(b,c){var a=Ext.Date;switch(c.majorTicks.unit){case 'y':return a.format(b,'Y');case 'mo':return a.format(b,'Y-m');case 'd':return a.format(b,'Y-m-d');}return a.format(b,'Y-m-d\nH:i:s')},from:function(a){return new Date(a)},diff:function(b,a,c){if(isFinite(b)){b=new Date(b)}if(isFinite(a)){a=new Date(a)}return Ext.Date.diff(b,a,c)},updateStep:function(){var a=this.getAxis();if(a&&!this.isConfiguring){a.performLayout()}},align:function(a,b,c){if(c==='d'&&b>=7){a=Ext.Date.align(a,'d',b);a.setDate(a.getDate()-a.getDay()+1);return a}else {return Ext.Date.align(a,c,b)}},add:function(a,b,c){return Ext.Date.add(new Date(a),c,b)},timeBuckets:[{unit:Ext.Date.YEAR,steps:[1,2,5,10,20,50,100,200,500]},{unit:Ext.Date.MONTH,steps:[1,3,6]},{unit:Ext.Date.DAY,steps:[1,7,14]},{unit:Ext.Date.HOUR,steps:[1,6,12]},{unit:Ext.Date.MINUTE,steps:[1,5,15,30]},{unit:Ext.Date.SECOND,steps:[1,5,15,30]},{unit:Ext.Date.MILLI,steps:[1,2,5,10,20,50,100,200,500]}],getTimeBucket:function(j,i){var e=this.timeBuckets,h,d,f,g,b,a,c;for(a=0;a<e.length;a++){h=e[a].unit;d=this.diff(j,i,h);if(d>0){f=e[a].steps;for(c=0;c<f.length;c++){g=f[c];if(d<=g){break}}b={unit:h,step:g};break}}if(!b){b={unit:Ext.Date.MILLI,step:1}}return b},preferredStep:function(b,c){var a=this.getStep();return a?a:this.getTimeBucket(new Date(+b),new Date(+b+Math.ceil(c)))}},0,0,0,0,['segmenter.time'],0,[Ext.chart.axis.segmenter,'Time'],0);Ext.cmd.derive('Ext.chart.axis.layout.Layout',Ext.Base,{config:{axis:null},constructor:function(a){this.mixins.observable.constructor.call(this,a)},processData:function(d){var g=this,e=g.getAxis(),c=e.getDirection(),b=e.boundSeries,a,f;if(d){d['coordinate'+c]()}else {for(a=0,f=b.length;a<f;a++){b[a]['coordinate'+c]()}}},calculateMajorTicks:function(b){var e=this,a=b.attr,d=a.max-a.min,i=d/Math.max(1,a.length)*(a.visibleMax-a.visibleMin),h=a.min+d*a.visibleMin,g=a.min+d*a.visibleMax,f=a.estStepSize*i,c=e.snapEnds(b,a.min,a.max,f);if(c){e.trimByRange(b,c,h,g);b.majorTicks=c}},calculateMinorTicks:function(a){if(this.snapMinorEnds){a.minorTicks=this.snapMinorEnds(a)}},calculateLayout:function(a){var c=this,b=a.attr;if(b.length===0){return null}if(b.majorTicks){c.calculateMajorTicks(a);if(b.minorTicks){c.calculateMinorTicks(a)}}},snapEnds:Ext.emptyFn,trimByRange:function(i,a,d,g){var b=i.segmenter,c=a.unit,h=b.diff(a.from,d,c),j=b.diff(a.from,g,c),e=Math.max(0,Math.ceil(h/a.step)),f=Math.min(a.steps,Math.floor(j/a.step));if(f<a.steps){a.to=b.add(a.from,f*a.step,c)}if(a.max>g){a.max=a.to}if(a.from<d){a.from=b.add(a.from,e*a.step,c);while(a.from<d){e++;a.from=b.add(a.from,a.step,c)}}if(a.min<d){a.min=a.from}a.steps=f-e}},1,0,0,0,0,[['observable',Ext.mixin.Observable]],[Ext.chart.axis.layout,'Layout'],0);Ext.cmd.derive('Ext.chart.axis.layout.Discrete',Ext.chart.axis.layout.Layout,{isDiscrete:!0,processData:function(){var a=this,b=a.getAxis(),e=b.boundSeries,f=b.getDirection(),c,g,d;a.labels=[];a.labelMap={};for(c=0,g=e.length;c<g;c++){d=e[c];if(d['get'+f+'Axis']()===b){d['coordinate'+f]()}}b.getSprites()[0].setAttributes({data:a.labels});a.fireEvent('datachange',a.labels)},calculateLayout:function(a){a.data=this.labels;Ext.chart.axis.layout.Layout.prototype.calculateLayout.call(this,a)},calculateMajorTicks:function(b){var e=this,a=b.attr,h=b.data,d=a.max-a.min,g=a.min+d*a.visibleMin,f=a.min+d*a.visibleMax,c;c=e.snapEnds(b,Math.max(0,a.min),Math.min(a.max,h.length-1),1);if(c){e.trimByRange(b,c,g,f);b.majorTicks=c}},snapEnds:function(e,b,d,a){var f=e.data,c;a=Math.ceil(a);c=Math.floor((d-b)/a);return {min:b,max:d,from:b,to:c*a+b,step:a,steps:c,unit:1,getLabel:function(c){return f[this.from+this.step*c]},get:function(c){return this.from+this.step*c}}},trimByRange:function(i,a,c,f){var b=a.unit,g=Math.ceil((c-a.from)/b)*b,h=Math.floor((f-a.from)/b)*b,d=Math.max(0,Math.ceil(g/a.step)),e=Math.min(a.steps,Math.floor(h/a.step));if(e<a.steps){a.to=e}if(a.max>f){a.max=a.to}if(a.from<c&&a.step>0){a.from=a.from+d*a.step*b;while(a.from<c){d++;a.from+=a.step*b}}if(a.min<c){a.min=a.from}a.steps=e-d},getCoordFor:function(a,b,d,c){this.labels.push(a);return this.labels.length-1}},0,0,0,0,['axisLayout.discrete'],0,[Ext.chart.axis.layout,'Discrete'],0);Ext.cmd.derive('Ext.chart.axis.layout.CombineByIndex',Ext.chart.axis.layout.Discrete,{getCoordFor:function(c,e,d,f){var a=this.labels,b=d;if(a[d]!==c){b=a.push(c)-1}return b}},0,0,0,0,['axisLayout.combineByIndex'],0,[Ext.chart.axis.layout,'CombineByIndex'],0);Ext.cmd.derive('Ext.chart.axis.layout.CombineDuplicate',Ext.chart.axis.layout.Discrete,{getCoordFor:function(a,c,e,d){var b;if(!(a in this.labelMap)){b=this.labelMap[a]=this.labels.length;this.labels.push(a);return b}return this.labelMap[a]}},0,0,0,0,['axisLayout.combineDuplicate'],0,[Ext.chart.axis.layout,'CombineDuplicate'],0);Ext.cmd.derive('Ext.chart.axis.layout.Continuous',Ext.chart.axis.layout.Layout,{isContinuous:!0,config:{adjustMinimumByMajorUnit:!1,adjustMaximumByMajorUnit:!1},getCoordFor:function(a,b,d,c){return +a},snapEnds:function(n,b,f,l){var a=n.segmenter,j=this.getAxis(),m=!j.spriteAnimationCount,d=j.getMajorTickSteps(),h=d&&a.exactStep?a.exactStep(b,(f-b)/d):a.preferredStep(b,l),c=h.unit,k=h.step,g=a.diff(b,f,c),i=(d||g)+1,e;if(d||m&&+a.add(b,g,c)===f){e=b}else {e=a.align(b,k,c)}return {min:a.from(b),max:a.from(f),from:e,to:a.add(e,i,c),step:k,steps:i,unit:c,get:function(c){return a.add(this.from,this.step*c,this.unit)}}},snapMinorEnds:function(i){var a=i.majorTicks,c=this.getAxis().getMinorTickSteps(),h=i.segmenter,f=a.min,m=a.max,l=a.from,b=a.unit,e=a.step/c,d=e*b.scale,g=l-f,j=Math.floor(g/d),n=j+Math.floor((m-a.to)/d)+1,k=a.steps*c+n;return {min:f,max:m,from:f+g%d,to:h.add(l,k*e,b),step:e,steps:k,unit:b,get:function(a){return a%c+j+1!==0?h.add(this.from,this.step*a,b):null}}}},0,0,0,0,['axisLayout.continuous'],0,[Ext.chart.axis.layout,'Continuous'],0);Ext.cmd.derive('Ext.chart.axis.Axis',Ext.Base,{isAxis:!0,config:{position:'bottom',fields:[],label:undefined,grid:!1,limits:null,renderer:null,chart:null,style:null,margin:0,titleMargin:4,background:null,minimum:NaN,maximum:NaN,reconcileRange:!1,minZoom:1,maxZoom:10000,layout:'continuous',segmenter:'numeric',hidden:!1,majorTickSteps:0,minorTickSteps:0,adjustByMajorUnit:!0,title:null,expandRangeBy:0,length:0,center:null,radius:null,totalAngle:Math.PI,rotation:null,visibleRange:[0,1],needHighPrecision:!1,linkedTo:null,floating:null},titleOffset:0,spriteAnimationCount:0,boundSeries:[],sprites:null,surface:null,range:null,defaultRange:[0,1],rangePadding:0.5,xValues:[],yValues:[],masterAxis:null,applyRotation:function(b){var a=Math.PI*2;return (b%a+Math.PI)%a-Math.PI},updateRotation:function(c){var a=this.getSprites(),b=this.getPosition();if(!this.getHidden()&&b==='angular'&&a[0]){a[0].setAttributes({baseRotation:c})}},applyTitle:function(b,a){var c;if(Ext.isString(b)){b={text:b}}if(!a){a=Ext.create('sprite.text',b);if(c=this.getSurface()){c.add(a)}}else {a.setAttributes(b)}return a},getAdjustByMajorUnit:function(){return !this.getHidden()&&(arguments.callee.$previous||Ext.Base.prototype.getAdjustByMajorUnit).call(this)},applyFloating:function(a,b){if(a===null){a={value:null,alongAxis:null}}else if(Ext.isNumber(a)){a={value:a,alongAxis:null}}if(Ext.isObject(a)){if(b&&b.alongAxis){delete this.getChart().getAxis(b.alongAxis).floatingAxes[this.getId()]}return a}return b},constructor:function(b){var a=this,c;a.sprites=[];a.labels=[];a.floatingAxes={};b=b||{};if(b.position==='angular'){b.style=b.style||{};b.style.estStepSize=1}if('id' in b){c=b.id}else if('id' in a.config){c=a.config.id}else {c=a.getId()}a.setId(c);a.mixins.observable.constructor.apply(a,arguments)},getAlignment:function(){switch(this.getPosition()){case 'left':case 'right':return 'vertical';case 'top':case 'bottom':return 'horizontal';case 'radial':return 'radial';case 'angular':return 'angular';}},getGridAlignment:function(){switch(this.getPosition()){case 'left':case 'right':return 'horizontal';case 'top':case 'bottom':return 'vertical';case 'radial':return 'circular';case 'angular':return 'radial';}},getSurface:function(){var a=this,b=a.getChart(),d,c;if(b&&!a.surface){d=a.surface=b.getSurface(a.getId(),'axis');c=a.gridSurface=b.getSurface('main');c.waitFor(d);a.getGrid();a.createLimits()}return a.surface},createLimits:function(){var b=this,e=b.getChart(),d=b.getSprites()[0],c=b.getGridAlignment(),a;if(b.getLimits()&&c){c=c.replace('3d','');b.limits=a={surface:e.getSurface('overlay'),lines:new Ext.chart.Markers(),titles:new Ext.draw.sprite.Instancing()};a.lines.setTemplate({xclass:'grid.'+c});a.lines.getTemplate().setAttributes({strokeStyle:'black'},!0);a.surface.add(a.lines);d.bindMarker(c+'-limit-lines',b.limits.lines);b.limitTitleTpl=new Ext.draw.sprite.Text();a.titles.setTemplate(b.limitTitleTpl);a.surface.add(a.titles)}},applyGrid:function(a){if(a===!0){return {}}return a},updateGrid:function(c){var b=this,g=b.getChart(),f=b.gridSurface,e,d,a;if(!g){b.on({chartattached:Ext.bind(b.updateGrid,b,[c]),single:!0});return}e=b.getSprites()[0];d=b.getGridAlignment();if(c){a=b.gridSpriteEven;if(!a){a=b.gridSpriteEven=new Ext.chart.Markers();a.setTemplate({xclass:'grid.'+d});f.add(a);e.bindMarker(d+'-even',a)}if(Ext.isObject(c)){a.getTemplate().setAttributes(c);if(Ext.isObject(c.even)){a.getTemplate().setAttributes(c.even)}}a=b.gridSpriteOdd;if(!a){a=b.gridSpriteOdd=new Ext.chart.Markers();a.setTemplate({xclass:'grid.'+d});f.add(a);e.bindMarker(d+'-odd',a)}if(Ext.isObject(c)){a.getTemplate().setAttributes(c);if(Ext.isObject(c.odd)){a.getTemplate().setAttributes(c.odd)}}}},updateMinorTickSteps:function(e){var b=this,d=b.getSprites(),c=d&&d[0],a;if(c){c.setAttributes({minorTicks:!!e});a=b.getSurface();if(!b.isConfiguring&&a){a.renderFrame()}}},getCoordFor:function(c,a,d,b){return this.getLayout().getCoordFor(c,a,d,b)},applyPosition:function(a){return a.toLowerCase()},applyLength:function(a,b){return a>0?a:b},applyLabel:function(b,a){if(!a){a=new Ext.draw.sprite.Text({})}if(b){if(this.limitTitleTpl){this.limitTitleTpl.setAttributes(b)}a.setAttributes(b)}return a},applyLayout:function(a,b){a=Ext.factory(a,null,b,'axisLayout');a.setAxis(this);return a},applySegmenter:function(a,b){a=Ext.factory(a,null,b,'segmenter');a.setAxis(this);return a},updateMinimum:function(){this.range=null},updateMaximum:function(){this.range=null},hideLabels:function(){this.getSprites()[0].setDirty(!0);this.setLabel({hidden:!0})},showLabels:function(){this.getSprites()[0].setDirty(!0);this.setLabel({hidden:!1})},renderFrame:function(){this.getSurface().renderFrame()},updateChart:function(b,c){var a=this,d;if(c){c.unregister(a);c.un('serieschange',a.onSeriesChange,a);a.linkAxis();a.fireEvent('chartdetached',c,a)}if(b){b.on('serieschange',a.onSeriesChange,a);a.surface=null;d=a.getSurface();a.getLabel().setSurface(d);d.add(a.getSprites());d.add(a.getTitle());b.register(a);a.fireEvent('chartattached',b,a)}},applyBackground:function(a){var b=Ext.ClassManager.getByAlias('sprite.rect');return b.def.normalize(a)},processData:function(){this.getLayout().processData();this.range=null},getDirection:function(){return this.getChart().getDirectionForAxis(this.getPosition())},isSide:function(){var a=this.getPosition();return a==='left'||a==='right'},applyFields:function(a){return Ext.Array.from(a)},applyVisibleRange:function(a,b){var c;this.getChart();if(a[0]>a[1]){c=a[0];a[0]=a[1];a[0]=c}if(a[1]===a[0]){a[1]+=1/this.getMaxZoom()}if(a[1]>a[0]+1){a[0]=0;a[1]=1}else if(a[0]<0){a[1]-=a[0];a[0]=0}else if(a[1]>1){a[0]-=a[1]-1;a[1]=1}if(b&&a[0]===b[0]&&a[1]===b[1]){return undefined}return a},updateVisibleRange:function(a){this.fireEvent('visiblerangechange',this,a)},onSeriesChange:function(h){var a=this,c=h.getSeries(),g=[],e,d,f,b,i;if(c){f='get'+a.getDirection()+'Axis';for(b=0,i=c.length;b<i;b++){if(this===c[b][f]()){g.push(c[b])}}}a.boundSeries=g;e=a.getLinkedTo();d=!Ext.isEmpty(e)&&h.getAxis(e);if(d){a.linkAxis(d)}else {a.getLayout().processData()}},linkAxis:function(b){var a=this;function link(a,d,c){c.getLayout()[a]('datachange','onDataChange',d);c[a]('rangechange','onMasterAxisRangeChange',d)}if(a.masterAxis){if(!a.masterAxis.destroyed){link('un',a,a.masterAxis)}a.masterAxis=null}if(b){if(b.type!==this.type){Ext.Error.raise('Linked axes must be of the same type.')}link('on',a,b);a.onDataChange(b.getLayout().labels);a.onMasterAxisRangeChange(b,b.range);a.setStyle(Ext.apply({},a.config.style,b.config.style));a.setTitle(Ext.apply({},a.config.title,b.config.title));a.setLabel(Ext.apply({},a.config.label,b.config.label));a.masterAxis=b}},onDataChange:function(a){this.getLayout().labels=a},onMasterAxisRangeChange:function(b,a){this.range=a},applyRange:function(a){if(!a){return this.dataRange.slice(0)}else {return [a[0]===null?this.dataRange[0]:a[0],a[1]===null?this.dataRange[1]:a[1]]}},setBoundSeriesRange:function(h){var e=this.boundSeries,f={},d,a,c,b,g;f['range'+this.getDirection()]=h;for(a=0,g=e.length;a<g;a++){d=e[a];if(d.getHidden()===!0){continue}c=d.getSprites();for(b=0;b<c.length;b++){c[b].setAttributes(f)}}},getRange:function(f){var b=this,a=f?null:b.range,c=b.oldRange,e,d;if(!a){if(b.masterAxis){a=b.masterAxis.range}else {e=b.getMinimum();d=b.getMaximum();if(Ext.isNumber(e)&&Ext.isNumber(d)){a=[e,d]}else {a=b.calculateRange()}b.range=a}}if(a&&(!c||a[0]!==c[0]||a[1]!==c[1])){b.fireEvent('rangechange',b,a,c);b.oldRange=a}return a},isSingleDataPoint:function(a){return a[0]+this.rangePadding===0&&a[1]-this.rangePadding===0},calculateRange:function(){var b=this,l=b.boundSeries,o=b.getLayout(),f=b.getSegmenter(),n=b.getMinimum(),m=b.getMaximum(),k=b.getVisibleRange(),q='get'+b.getDirection()+'Range',h=b.getExpandRangeBy(),e,c,d,j,g,p,i,a=[NaN,NaN];for(g=0,p=l.length;g<p;g++){j=l[g];if(j.getHidden()===!0){continue}i=j[q]();if(i){Ext.chart.Util.expandRange(a,i)}}a=Ext.chart.Util.validateRange(a,b.defaultRange,b.rangePadding);if(h&&!b.isSingleDataPoint(a)){a[0]-=h;a[1]+=h}if(isFinite(n)){a[0]=n}if(isFinite(m)){a[1]=m}a[0]=Ext.Number.correctFloat(a[0]);a[1]=Ext.Number.correctFloat(a[1]);b.range=a;if(b.getReconcileRange()){b.reconcileRange()}if(a[0]!==a[1]&&b.getAdjustByMajorUnit()&&f.adjustByMajorUnit&&!b.getMajorTickSteps()){c=Ext.Object.chain(b.getSprites()[0].attr);c.min=a[0];c.max=a[1];c.visibleMin=k[0];c.visibleMax=k[1];e={attr:c,segmenter:f};o.calculateLayout(e);d=e.majorTicks;if(d){f.adjustByMajorUnit(d.step,d.unit.scale,a);c.min=a[0];c.max=a[1];e.majorTicks=null;o.calculateLayout(e);d=e.majorTicks;f.adjustByMajorUnit(d.step,d.unit.scale,a)}else if(!b.hasClearRangePending){b.hasClearRangePending=!0;b.getChart().on('layout','clearRange',b)}}return a},clearRange:function(){this.hasClearRangePending=null;this.range=null},reconcileRange:function(){var a=this,e=a.getChart().getAxes(),g=a.getDirection(),d,f,c,b;if(!e){return}for(d=0,f=e.length;d<f;d++){c=e[d];b=c.getRange();if(c===a||c.getDirection()!==g||!b||!c.getReconcileRange()){continue}if(b[0]<a.range[0]){a.range[0]=b[0]}if(b[1]>a.range[1]){a.range[1]=b[1]}}},applyStyle:function(b,a){var c=Ext.ClassManager.getByAlias('sprite.'+this.seriesType);if(c&&c.def){b=c.def.normalize(b)}a=Ext.apply(a||{},b);return a},themeOnlyIfConfigured:{grid:!0},updateTheme:function(p){var c=this,d=p.getAxis(),n=c.getPosition(),m=c.getInitialConfig(),l=c.defaultConfig,o=c.self.getConfigurator().configs,k=d.defaults,j=d[n],i=c.themeOnlyIfConfigured,b,a,g,e,f,h;d=Ext.merge({},k,j);for(b in d){a=d[b];h=o[b];if(a!==null&&a!==undefined&&h){f=m[b];g=Ext.isObject(a);e=f===l[b];if(g){if(e&&i[b]){continue}a=Ext.merge({},a,f)}if(e||g){c[h.names.set](a)}}}},updateCenter:function(e){var c=this,f=c.getSprites(),d=f[0],a=e[0],b=e[1];if(d){d.setAttributes({centerX:a,centerY:b})}if(c.gridSpriteEven){c.gridSpriteEven.getTemplate().setAttributes({translationX:a,translationY:b,rotationCenterX:a,rotationCenterY:b})}if(c.gridSpriteOdd){c.gridSpriteOdd.getTemplate().setAttributes({translationX:a,translationY:b,rotationCenterX:a,rotationCenterY:b})}},getSprites:function(){if(!this.getChart()){return}var a=this,g=a.getRange(),h=a.getPosition(),j=a.getChart(),f=j.getAnimation(),i=a.getLength(),e=a.superclass,b,c,d;if(f===!1){f={duration:0}}c=Ext.applyIf({position:h,axis:a,length:i,grid:a.getGrid(),hidden:a.getHidden(),titleOffset:a.titleOffset,layout:a.getLayout(),segmenter:a.getSegmenter(),totalAngle:a.getTotalAngle(),label:a.getLabel()},a.getStyle());if(g){c.min=g[0];c.max=g[1]}if(!a.sprites.length){while(!e.xtype){e=e.superclass}b=Ext.create('sprite.'+e.xtype,c);d=b.getAnimation();d.setCustomDurations({baseRotation:0});d.on('animationstart','onAnimationStart',a);d.on('animationend','onAnimationEnd',a);b.setLayout(a.getLayout());b.setSegmenter(a.getSegmenter());b.setLabel(a.getLabel());a.sprites.push(b);a.updateTitleSprite()}else {b=a.sprites[0];b.setAnimation(f);b.setAttributes(c)}if(a.getRenderer()){b.setRenderer(a.getRenderer())}return a.sprites},performLayout:function(){if(this.isConfiguring){return}var a=this,b=a.getSprites(),e=a.getSurface(),d=a.getChart(),c=b&&b[0];if(d&&e&&c){c.callUpdater(null,'layout');d.scheduleLayout()}},updateTitleSprite:function(){var c=this,i=c.getLength(),h,f,a,g,e,b,d;if(!c.sprites[0]||!Ext.isNumber(i)){return}f=this.sprites[0].thickness;h=c.getSurface();a=c.getTitle();g=c.getPosition();e=c.getMargin();b=c.getTitleMargin();d=h.roundPixel(i/2);if(a){switch(g){case 'top':a.setAttributes({x:d,y:e+b/2,textBaseline:'top',textAlign:'center'},!0);a.applyTransformations();c.titleOffset=a.getBBox().height+b;break;case 'bottom':a.setAttributes({x:d,y:f+b/2,textBaseline:'top',textAlign:'center'},!0);a.applyTransformations();c.titleOffset=a.getBBox().height+b;break;case 'left':a.setAttributes({x:e+b/2,y:d,textBaseline:'top',textAlign:'center',rotationCenterX:e+b/2,rotationCenterY:d,rotationRads:-Math.PI/2},!0);a.applyTransformations();c.titleOffset=a.getBBox().width+b;break;case 'right':a.setAttributes({x:f-e+b/2,y:d,textBaseline:'bottom',textAlign:'center',rotationCenterX:f+b/2,rotationCenterY:d,rotationRads:Math.PI/2},!0);a.applyTransformations();c.titleOffset=a.getBBox().width+b;break;}}},onThicknessChanged:function(){this.getChart().onThicknessChanged()},getThickness:function(){if(this.getHidden()){return 0}return (this.sprites[0]&&this.sprites[0].thickness||1)+this.titleOffset+this.getMargin()},onAnimationStart:function(){this.spriteAnimationCount++;if(this.spriteAnimationCount===1){this.fireEvent('animationstart',this)}},onAnimationEnd:function(){this.spriteAnimationCount--;if(this.spriteAnimationCount===0){this.fireEvent('animationend',this)}},getItemId:function(){return this.getId()},getAncestorIds:function(){return [this.getChart().getId()]},isXType:function(a){return a==='axis'},resolveListenerScope:function(d){var c=this,e=Ext._namedScopes[d],a=c.getChart(),b;if(!e){b=a?a.resolveListenerScope(d,!1):d||c}else if(e.isThis){b=c}else if(e.isController){b=a?a.resolveListenerScope(d,!1):c}else if(e.isSelf){b=a?a.resolveListenerScope(d,!1):c;if(b===a&&!a.getInheritedConfig('defaultListenerScope')){b=c}}return b},destroy:function(){var a=this;a.setChart(null);a.surface.destroy();a.surface=null;a.callParent()}},1,['axis'],['axis'],{'axis':!0},['widget.axis'],[['observable',Ext.mixin.Observable]],[Ext.chart.axis,'Axis'],0);Ext.cmd.derive('Ext.chart.legend.LegendBase',Ext.dataview.DataView,{config:{itemTpl:['<span class="','x-',"legend-item-marker {[ values.disabled ? Ext.baseCSSPrefix + 'legend-item-inactive' : '' ]}\" style=\"background:{mark};\"></span>{name}"],inline:!0,scrollable:!1},constructor:function(c){var a,b;Ext.dataview.DataView.prototype.constructor.call(this,c);a=this.getScrollable();b=a.onDrag;a.onDrag=function(a){a.stopPropagation();b.call(this,a)}},updateDocked:function(c,d){var a=this,b=a.el;Ext.dataview.DataView.prototype.updateDocked.call(this,c,d);switch(c){case 'top':case 'bottom':b.addCls(a.horizontalCls);b.removeCls(a.verticalCls);break;case 'left':case 'right':b.addCls(a.verticalCls);b.removeCls(a.horizontalCls);break;}},onChildTap:function(a){Ext.dataview.DataView.prototype.onChildTap.call(this,a);this.toggleItem(a.viewIndex)}},1,0,['widget','component','container','dataview'],{'widget':!0,'component':!0,'container':!0,'dataview':!0},0,0,[Ext.chart.legend,'LegendBase'],0);Ext.cmd.derive('Ext.chart.legend.Legend',Ext.chart.legend.LegendBase,{alternateClassName:'Ext.chart.Legend',type:'dom',isLegend:!0,isDomLegend:!0,config:{rect:null,toggleable:!0},baseCls:'x-legend',horizontalCls:'x-legend-horizontal',verticalCls:'x-legend-vertical',toggleItem:function(h){var f=0,g=!0,d,b,e,a,c;if(!this.getToggleable()){return}b=this.getStore();if(b){e=b.getCount();for(c=0;c<e;c++){a=b.getAt(c);if(a.get('disabled')){f++}}g=e-f>1;a=b.getAt(h);if(a){d=a.get('disabled');if(d||g){a.set('disabled',!d)}}}},onResize:function(f,e,d,c){var b=this,a=b.chart;if(!b.isConfiguring){if(a){a.scheduleLayout()}}}},0,['legend'],['widget','component','container','dataview','legend'],{'widget':!0,'component':!0,'container':!0,'dataview':!0,'legend':!0},['legend.dom','widget.legend'],0,[Ext.chart.legend,'Legend',Ext.chart,'Legend'],0);Ext.cmd.derive('Ext.chart.legend.sprite.Item',Ext.draw.sprite.Composite,{type:'legenditem',isLegendItem:!0,inheritableStatics:{def:{processors:{enabled:'limited01',markerLabelGap:'number'},animationProcessors:{enabled:null,markerLabelGap:null},defaults:{enabled:!0,markerLabelGap:5},triggers:{enabled:'enabled',markerLabelGap:'layout'},updaters:{layout:'layoutUpdater',enabled:'enabledUpdater'}}},config:{label:{$value:{type:'text'},lazy:!0},marker:{$value:{type:'circle'},lazy:!0},legend:null,store:null,record:null,series:null},applyLabel:function(a,b){var c;if(a){if(a.isSprite&&a.type==='text'){c=a}else {if(b&&a.type===b.type){b.setConfig(a);c=b;this.scheduleUpdater(this.attr,'layout')}else {c=new Ext.draw.sprite.Text(a)}}}return c},defaultMarkerSize:10,updateLabel:function(b,c){var a=this;a.removeSprite(c);b.setAttributes({textBaseline:'middle'});a.addSprite(b);a.scheduleUpdater(a.attr,'layout')},applyMarker:function(a){var b;if(a){if(a.isSprite){b=a}else {b=this.createMarker(a)}}b=this.resetMarker(b,a);return b},createMarker:function(a){var b;delete a.animation;if(a.type==='image'){delete a.width;delete a.height}b=Ext.create('sprite.'+a.type,a);return b},resetMarker:function(a,e){var d=e.size||this.defaultMarkerSize,c,f,b;a.setTransform([1,0,0,1,0,0],!0);if(e.type==='image'){a.setAttributes({width:d,height:d})}else {c=a.getBBox();f=Math.max(c.width,c.height);b=d/f;a.setAttributes({scalingX:b,scalingY:b})}return a},updateMarker:function(c,b){var a=this;a.removeSprite(b);a.addSprite(c);a.scheduleUpdater(a.attr,'layout')},updateSurface:function(a,c){var b=this;Ext.draw.sprite.Composite.prototype.updateSurface.call(this,a,c);if(a){b.scheduleUpdater(b.attr,'layout')}},enabledUpdater:function(b){var a=this.getMarker();if(a){a.setAttributes({globalAlpha:b.enabled?1:0.3})}},layoutUpdater:function(){var c=this,g=c.attr,f=c.getLabel(),e=c.getMarker(),b,a,d;a=e.getBBox();b=f.getBBox();d=Math.max(a.height,b.height);e.transform([1,0,0,1,-a.x,-a.y+(d-a.height)/2],!0);f.transform([1,0,0,1,-b.x+a.width+g.markerLabelGap,-b.y+(d-b.height)/2],!0);c.bboxUpdater(g)}},0,0,0,0,['sprite.legenditem'],0,[Ext.chart.legend.sprite,'Item'],0);Ext.cmd.derive('Ext.chart.legend.sprite.Border',Ext.draw.sprite.Rect,{type:'legendborder',isLegendBorder:!0},0,0,0,0,['sprite.legendborder'],0,[Ext.chart.legend.sprite,'Border'],0);Ext.cmd.derive('Ext.draw.PathUtil',Ext.Base,function(){var a=Math.abs,c=Math.pow,d=Math.cos,f=Math.acos,b=Math.sqrt,e=Math.PI;return {singleton:!0,cubicRoots:function(n){var q=n[0],u=n[1],v=n[2],w=n[3];if(q===0){return this.quadraticRoots(u,v,w)}var h=u/q,t=v/q,x=w/q,l=(3*t-c(h,2))/9,i=(9*h*t-27*x-2*c(h,3))/54,k=c(l,3)+c(i,2),g=[],o,p,s,m,j,r=Ext.Number.sign;if(k>=0){o=r(i+b(k))*c(a(i+b(k)),1/3);p=r(i-b(k))*c(a(i-b(k)),1/3);g[0]=-h/3+(o+p);g[1]=-h/3-(o+p)/2;g[2]=g[1];s=a(b(3)*(o-p)/2);if(s!==0){g[1]=-1;g[2]=-1}}else {m=f(i/b(-c(l,3)));g[0]=2*b(-l)*d(m/3)-h/3;g[1]=2*b(-l)*d((m+2*e)/3)-h/3;g[2]=2*b(-l)*d((m+4*e)/3)-h/3}for(j=0;j<3;j++){if(g[j]<0||g[j]>1){g[j]=-1}}return g},quadraticRoots:function(e,c,h){var f,g,a,d;if(e===0){return this.linearRoot(c,h)}f=c*c-4*e*h;if(f===0){a=[-c/(2*e)]}else if(f>0){g=b(f);a=[(-c-g)/(2*e),(-c+g)/(2*e)]}else {return []}for(d=0;d<a.length;d++){if(a[d]<0||a[d]>1){a[d]=-1}}return a},linearRoot:function(b,c){var a=-c/b;if(b===0||a<0||a>1){return []}return [a]},bezierCoeffs:function(b,c,d,e){var a=[];a[0]=-b+3*c-3*d+e;a[1]=3*b-6*c+3*d;a[2]=-3*b+3*c;a[3]=b;return a},cubicLineIntersections:function(s,t,u,v,w,x,y,z,d,e,h,p){var f=[],r=[],i=e-p,j=h-d,A=d*(p-e)-e*(h-d),a=this.bezierCoeffs(s,t,u,v),b=this.bezierCoeffs(w,x,y,z),k,q,l,c,g,m,n,o;f[0]=i*a[0]+j*b[0];f[1]=i*a[1]+j*b[1];f[2]=i*a[2]+j*b[2];f[3]=i*a[3]+j*b[3]+A;q=this.cubicRoots(f);for(k=0;k<q.length;k++){c=q[k];if(c<0||c>1){continue}g=c*c;m=g*c;n=a[0]*m+a[1]*g+a[2]*c+a[3];o=b[0]*m+b[1]*g+b[2]*c+b[3];if(h-d!==0){l=(n-d)/(h-d)}else {l=(o-e)/(p-e)}if(!(l<0||l>1)){r.push([n,o])}}return r},splitCubic:function(d,e,f,g,a){var h=a*a,k=a*h,b=a-1,c=b*b,j=b*c,i=k*g-3*h*b*f+3*a*c*e-j*d;return [[d,a*e-b*d,h*f-2*a*b*e+c*d,i],[i,h*g-2*a*b*f+c*e,a*g-b*f,g]]},cubicDimension:function(f,h,k,i){var l=3*(-f+3*(h-k)+i),j=6*(f-2*h+k),m=-3*(f-h),a,c,e=Math.min(f,i),d=Math.max(f,i),g;if(l===0){if(j===0){return [e,d]}else {a=-m/j;if(0<a&&a<1){c=this.interpolateCubic(f,h,k,i,a);e=Math.min(e,c);d=Math.max(d,c)}}}else {g=j*j-4*l*m;if(g>=0){g=b(g);a=(g-j)/2/l;if(0<a&&a<1){c=this.interpolateCubic(f,h,k,i,a);e=Math.min(e,c);d=Math.max(d,c)}if(g>0){a-=g/l;if(0<a&&a<1){c=this.interpolateCubic(f,h,k,i,a);e=Math.min(e,c);d=Math.max(d,c)}}}}return [e,d]},interpolateCubic:function(c,e,f,d,a){var b;if(a===0){return c}if(a===1){return d}b=(1-a)/a;return a*a*a*(d+b*(3*f+b*(3*e+b*c)))},cubicsIntersections:function(h,l,m,i,j,k,n,o,p,q,r,s,t,u,v,w){var b=this,x=b.cubicDimension(h,l,m,i),y=b.cubicDimension(j,k,n,o),z=b.cubicDimension(p,q,r,s),A=b.cubicDimension(t,u,v,w),d,e,f,g,c=[];if(x[0]>z[1]||x[1]<z[0]||y[0]>A[1]||y[1]<A[0]){return []}if(a(j-k)<1&&a(n-o)<1&&a(h-i)<1&&a(l-m)<1&&a(t-u)<1&&a(v-w)<1&&a(p-s)<1&&a(q-r)<1){return [[(h+i)*0.5,(j+k)*0.5]]}d=b.splitCubic(h,l,m,i,0.5);e=b.splitCubic(j,k,n,o,0.5);f=b.splitCubic(p,q,r,s,0.5);g=b.splitCubic(t,u,v,w,0.5);c.push.apply(c,b.cubicsIntersections.apply(b,d[0].concat(e[0],f[0],g[0])));c.push.apply(c,b.cubicsIntersections.apply(b,d[0].concat(e[0],f[1],g[1])));c.push.apply(c,b.cubicsIntersections.apply(b,d[1].concat(e[1],f[0],g[0])));c.push.apply(c,b.cubicsIntersections.apply(b,d[1].concat(e[1],f[1],g[1])));return c},linesIntersection:function(a,b,g,h,d,e,j,k){var i=(g-a)*(k-e)-(h-b)*(j-d),c,f;if(i===0){return null}c=((j-d)*(b-e)-(a-d)*(k-e))/i;f=((g-a)*(b-e)-(h-b)*(a-d))/i;if(c>=0&&c<=1&&f>=0&&f<=1){return [a+c*(g-a),b+c*(h-b)]}return null},pointOnLine:function(c,d,e,f,h,i){var g,b;if(a(e-c)<a(f-d)){b=c;c=d;d=b;b=e;e=f;f=b;b=h;h=i;i=b}g=(h-c)/(e-c);if(g<0||g>1){return !1}return a(d+g*(f-d)-i)<4},pointOnCubic:function(j,k,l,m,n,o,p,q,r,s){var b=this,h=b.bezierCoeffs(j,k,l,m),i=b.bezierCoeffs(n,o,p,q),c,d,f,g,e;h[3]-=r;i[3]-=s;f=b.cubicRoots(h);g=b.cubicRoots(i);for(c=0;c<f.length;c++){e=f[c];for(d=0;d<g.length;d++){if(e>=0&&e<=1&&a(e-g[d])<0.05){return !0}}}return !1}}},0,0,0,0,0,0,[Ext.draw,'PathUtil'],0);Ext.cmd.derive('Ext.draw.overrides.hittest.All',Ext.Base,{},0,0,0,0,0,0,[Ext.draw.overrides.hittest,'All'],0);Ext.cmd.derive('Ext.chart.legend.SpriteLegend',Ext.Base,{type:'sprite',isLegend:!0,isSpriteLegend:!0,config:{docked:'bottom',store:null,chart:null,surface:null,size:{width:0,height:0},toggleable:!0,padding:10,label:{preciseMeasurement:!0},marker:{},border:{$value:{type:'legendborder'},lazy:!0},background:null,hidden:!1},sprites:null,spriteZIndexes:{background:0,border:1,item:2},dockedValues:{left:!0,right:!0,top:!0,bottom:!0},constructor:function(b){var a=this;a.oldSize={width:0,height:0};a.getId();a.mixins.observable.constructor.call(a,b)},isXType:function(a){return a==='sprite'},applyStore:function(a){return a&&Ext.StoreManager.lookup(a)},updateStore:function(b,c){var a=this;if(c){c.un('datachanged',a.onDataChanged,a);c.un('update',a.onDataUpdate,a)}if(b){b.on('datachanged',a.onDataChanged,a);b.on('update',a.onDataUpdate,a);a.onDataChanged(b)}a.performLayout()},updateDocked:function(a){this.isTop=a==='top';if(!this.isConfiguring){this.layoutChart()}},updateHidden:function(b){var a;this.getChart();a=this.getSurface();if(a){a.setHidden(b)}if(!this.isConfiguring){this.layoutChart()}},layoutChart:function(){var a;if(!this.isConfiguring){a=this.getChart();if(a){a.scheduleLayout()}}},computeRect:function(a){var b,f,e,c,d;if(this.getHidden()){return null}b=[0,0,0,0];f=this.getDocked();e=this.getSize();c=e.height;d=e.width;switch(f){case 'top':b[1]=a[1];b[2]=a[2];b[3]=c;a[1]+=c;a[3]-=c;break;case 'bottom':a[3]-=c;b[1]=a[3];b[2]=a[2];b[3]=c;break;case 'left':a[0]+=d;a[2]-=d;b[2]=d;b[3]=a[3];break;case 'right':a[2]-=d;b[0]=a[2];b[2]=d;b[3]=a[3];break;}return b},applyBorder:function(b){var a;if(b){if(b.isSprite){a=b}else {a=Ext.create('sprite.'+b.type,b)}}if(a){a.isLegendBorder=!0;a.setAttributes({zIndex:this.spriteZIndexes.border})}return a},updateBorder:function(c,b){var a=this.getSurface();this.borderSprite=null;if(a){if(b){a.remove(b)}if(c){this.borderSprite=a.add(c)}}},scheduleLayout:function(){if(!this.scheduledLayoutId){this.scheduledLayoutId=Ext.draw.Animator.schedule('performLayout',this)}},cancelLayout:function(){Ext.draw.Animator.cancel(this.scheduledLayoutId);this.scheduledLayoutId=null},performLayout:function(){var f=this,l=f.getSize(),c=f.getPadding(),n=f.getSprites(),o=f.getSurface(),A=f.getBackground(),w=o.getRect(),E=f.getStore(),k=n&&n.length||0,a,r;if(!o||!w||!E){return !1}f.cancelLayout();var D=f.getDocked(),m=w[2],u=w[3],q=f.borderSprite,p=[],x,y,e,g,b,h,v,j,i,t,C,B,d,z,s;for(a=0;a<k;a++){r=n[a];d=r.getBBox();p.push(d)}if(d){B=d.height}switch(D){case 'bottom':case 'top':if(!m){return !1};e=0;do{h=0;b=0;g=0;e++;for(a=0;a<k;a++){d=p[a];if(d.width>b){b=d.width;b=Math.min(b,m-c*4)}if((a+1)%e===0){h+=b;b=0;g++}}if(a%e!==0){h+=b;g++}j=h+(g-1)*c;t=j+c*4}while(t>m);i=B*e+(e-1)*c;break;case 'right':case 'left':if(!u){return !1};e=k*2;do{e=(e>>1)+e%2;h=0;v=0;b=0;g=0;for(a=0;a<k;a++){d=p[a];if(!g){v+=d.height}if(d.width>b){b=d.width}if((a+1)%e===0){h+=b;b=0;g++}}if(a%e!==0){h+=b;g++}j=h+(g-1)*c;i=v+(e-1)*c;t=j+c*4;C=i+c*4}while(i>u);break;}x=(m-j)/2;y=(u-i)/2;z=0;s=0;b=0;for(a=0;a<k;a++){r=n[a];d=p[a];r.setAttributes({translationX:x+z,translationY:y+s});if(d.width>b){b=d.width}if((a+1)%e===0){z+=b+c;s=0;b=0}else {s+=d.height+c}}if(q){q.setAttributes({hidden:!k,x:x-c,y:y-c,width:j+c*2,height:i+c*2})}l.width=q.attr.width+c*2;l.height=q.attr.height+c*2;if(l.width!==f.oldSize.width||l.height!==f.oldSize.height){Ext.apply(f.oldSize,l);f.getChart().scheduleLayout();return !1}if(A){f.resizeBackground(o,A)}o.renderFrame();return !0},getSprites:function(){this.updateSprites();return this.sprites},createSprite:function(e,h){var c=this,b=h.data,k=c.getChart(),i=k.get(b.series),d=i.getMarker(),j=null,a,g,f;if(e){a=i.getMarkerStyleByIndex(b.index);a.fillStyle=b.mark;a.hidden=!1;if(d&&d.type){a.type=d.type}Ext.apply(a,c.getMarker());a.surface=e;g=c.getLabel();f={type:'legenditem',zIndex:c.spriteZIndexes.item,text:b.name,enabled:!b.disabled,marker:a,label:g,series:b.series,record:h};j=e.add(f)}return j},updateSprites:function(){var a=this,k=a.getChart(),l=a.getStore(),g=a.getSurface(),j,i,c,b,e,d,f,h;if(!(k&&l&&g)){return}a.sprites=d=a.sprites||[];i=l.getData().items;e=i.length;for(b=0;b<e;b++){j=i[b];c=d[b];if(c){a.updateSprite(c,j)}else {c=a.createSprite(g,j);g.add(c);d.push(c)}}f=Ext.Array.splice(d,b,d.length);for(b=0,e=f.length;b<e;b++){c=f[b];c.destroy()}h=a.getBorder();if(h){a.borderSprite=h}a.updateTheme(k.getTheme())},updateSprite:function(a,e){var c=e.data,h=this.getChart(),g=h.get(c.series),d,f,b;if(a){f=a.getLabel();f.setAttributes({text:c.name});a.setAttributes({enabled:!c.disabled});a.setConfig({series:c.series,record:e});b=g.getMarkerStyleByIndex(c.index);b.fillStyle=c.mark;b.hidden=!1;Ext.apply(b,this.getMarker());d=a.getMarker();d.setAttributes({fillStyle:b.fillStyle,strokeStyle:b.strokeStyle});a.layoutUpdater(a.attr)}},updateChart:function(a,c){var b=this;if(c){b.setSurface(null)}if(a){b.setSurface(a.getSurface('legend'))}},updateSurface:function(b,a){if(a){a.el.un('click','onClick',this);a.removeAll(!0)}if(b){b.isLegendSurface=!0;b.el.on('click','onClick',this)}},onClick:function(e){var c=this.getChart(),b=this.getSurface(),a,d;if(c&&c.hasFirstLayout&&b){d=b.getEventXY(e);a=b.hitTest(d);if(a&&a.sprite){this.toggleItem(a.sprite)}}},applyBackground:function(c,d){var b=this,f=b.getChart(),e=b.getSurface(),a;a=f.refreshBackground(e,c,d);if(a){a.setAttributes({zIndex:b.spriteZIndexes.background})}return a},resizeBackground:function(c,b){var e=b.attr.width,d=b.attr.height,a=c.getRect();if(a&&(e!==a[2]||d!==a[3])){b.setAttributes({width:a[2],height:a[3]})}},themeableConfigs:{background:!0},updateTheme:function(w){var e=this,v=e.getSurface(),o=v.getItems(),g=w.getLegend(),u=e.getLabel(),n=e.self.getConfigurator().configs,r=e.themeableConfigs,q=e.themeOnlyIfConfigured,t=e.getInitialConfig(),s=e.defaultConfig,b,h,l,j,k,f,d,m,a,c,i,p;for(i=0,p=o.length;i<p;i++){f=o[i];if(f.isLegendItem){d=g.label;if(d){c=null;for(a in d){if(!(a in u)){c=c||{};c[a]=d[a]}}if(c){m=f.getLabel();m.setAttributes(c)}}continue}else if(f.isLegendBorder){d=g.border}else {continue}if(d){c={};for(a in d){if(!(a in f.config)){c[a]=d[a]}}f.setAttributes(c)}}b=g.background;h=n.background;if(b!==null&&b!==undefined&&h){}for(a in g){if(!(a in r)){continue}b=g[a];h=n[a];if(b!==null&&b!==undefined&&h){k=t[a];l=Ext.isObject(b);j=k===s[a];if(l){if(j&&q[a]){continue}b=Ext.merge({},b,k)}if(j||l){e[h.names.set](b)}}}},onDataChanged:function(a){this.updateSprites();this.scheduleLayout()},onDataUpdate:function(i,g){var c=this,f=c.sprites,h=f.length,d=0,a,e,b;for(;d<h;d++){a=f[d];e=a.getRecord();if(e===g){b=a;break}}if(b){c.updateSprite(b,g);c.scheduleLayout()}},toggleItem:function(e){var g=0,h=!0,c,d,f,a,b;if(!this.getToggleable()||!e.isLegendItem){return}c=this.getStore();if(c){f=c.getCount();for(d=0;d<f;d++){a=c.getAt(d);if(a.get('disabled')){g++}}h=f-g>1;a=e.getRecord();if(a){b=a.get('disabled');if(b||h){a.set('disabled',!b);e.setAttributes({enabled:b})}}}},destroy:function(){var a=this;a.destroying=!0;a.cancelLayout();a.setChart(null);a.callParent()}},1,0,0,0,['legend.sprite'],[[Ext.mixin.Observable.prototype.mixinId||Ext.mixin.Observable.$className,Ext.mixin.Observable]],[Ext.chart.legend,'SpriteLegend'],0);Ext.cmd.derive('Ext.chart.Caption',Ext.Base,{isCaption:!0,config:{weight:0,text:'',align:'center',alignTo:'series',padding:0,hidden:!1,docked:'top',style:{fontSize:'14px',fontWeight:'bold',fontFamily:'Verdana, Aria, sans-serif'},chart:null,sprite:{type:'text',preciseMeasurement:!0,zIndex:10},rect:null},surfaceName:'caption',constructor:function(c){var a=this,b;if('id' in c){b=c.id}else if('id' in a.config){b=a.config.id}else {b=a.getId()}a.setId(b);a.mixins.observable.constructor.call(a,c);a.initBindable()},updateChart:function(){if(!this.isConfiguring){this.setSprite({type:'text'})}},applySprite:function(b){var a=this,d=a.getChart(),c=a.surface=d.getSurface(a.surfaceName);return b&&c.add(b)},updateSprite:function(b,a){if(a){a.destroy()}},updateText:function(a){this.getSprite().setAttributes({text:a})},updateStyle:function(a){this.getSprite().setAttributes(a)},updateRect:function(a){if(this.rectSprite){this.rectSprite.setAttributes({x:a[0],y:a[1],width:a[2],height:a[3]})}},updateDocked:function(){var a=this.getChart();if(a&&!this.isConfiguring){a.scheduleLayout()}},computeRect:function(d,c){if(this.getHidden()){return null}var b=[0,0,d[2],0],g=this.getDocked(),f=this.getPadding(),e=this.getSprite().getBBox(),a=e.height+f*2;switch(g){case 'top':b[1]=c.top;b[3]=a;d[1]+=a;d[3]-=a;c.top+=a;break;case 'bottom':d[3]-=a;c.bottom-=a;b[1]=c.bottom;b[3]=a;break;}this.setRect(b)},alignRect:function(b){var c=this.surface.getRect(),a=this.getRect();a[0]=b[0]-c[0];a[2]=b[2];this.setRect(a.slice())},performLayout:function(){var e=this,c=e.getRect(),f=c[0],m=c[1],g=c[2],i=c[3],b=e.getSprite(),k=b.attr.translationX,l=b.attr.translationY,a=b.getBBox(),j=e.getAlign(),d,h;switch(j){case 'left':d=f-a.x;break;case 'right':d=f+g-(a.x+a.width);break;case 'center':d=f+(g-a.width)/2-a.x;break;}h=m+(i-a.height)/2-a.y;b.setAttributes({translationX:k+d,translationY:l+h})},destroy:function(){var a=this;a.getSprite().destroy();a.callParent()}},1,0,0,0,0,[[Ext.mixin.Observable.prototype.mixinId||Ext.mixin.Observable.$className,Ext.mixin.Observable],[Ext.mixin.Bindable.prototype.mixinId||Ext.mixin.Bindable.$className,Ext.mixin.Bindable]],[Ext.chart,'Caption'],0);Ext.cmd.derive('Ext.chart.legend.store.Item',Ext.data.Model,{fields:['id','name','mark','disabled','series','index']},0,0,0,0,0,0,[Ext.chart.legend.store,'Item'],0);Ext.cmd.derive('Ext.chart.legend.store.Store',Ext.data.Store,{model:'Ext.chart.legend.store.Item',isLegendStore:!0,config:{autoDestroy:!0}},0,0,0,0,0,0,[Ext.chart.legend.store,'Store'],0);Ext.cmd.derive('Ext.chart.AbstractChart',Ext.draw.Container,{isChart:!0,defaultBindProperty:'store',config:{store:'ext-empty-store',theme:'default',captions:null,style:null,animation:!Ext.isIE8,series:[],axes:[],legend:null,colors:null,insetPadding:{top:10,left:10,right:10,bottom:10},background:null,interactions:[],mainRect:null,resizeHandler:null,highlightItem:null,surfaceZIndexes:{background:0,main:1,grid:2,series:3,axis:4,chart:5,caption:6,overlay:7,legend:8}},legendStore:null,animationSuspendCount:0,chartLayoutSuspendCount:0,chartLayoutCount:0,scheduledLayoutId:null,axisThicknessSuspendCount:0,isThicknessChanged:!1,constructor:function(b){var a=this;a.itemListeners={};a.surfaceMap={};a.chartComponents={};a.isInitializing=!0;a.suspendChartLayout();a.animationSuspendCount++;Ext.draw.Container.prototype.constructor.apply(this,arguments);a.isInitializing=!1;a.getSurface('main');a.getSurface('chart').setFlipRtlText(a.getInherited().rtl);a.getSurface('overlay').waitFor(a.getSurface('series'));a.animationSuspendCount--;a.resumeChartLayout()},applyAnimation:function(b,a){return Ext.chart.Util.applyAnimation(b,a)},updateAnimation:function(){if(this.isConfiguring){return}var c=this.getSeries(),d=c.length,b,a;this.isSettingSeriesAnimation=!0;for(b=0;b<d;b++){a=c[b];if(!a.isUserAnimation||this.animationSuspendCount===0){a.setAnimation(a.getAnimation())}}this.isSettingSeriesAnimation=!1},getAnimation:function(){var a;if(this.animationSuspendCount){a={duration:0}}else {a=(arguments.callee.$previous||Ext.draw.Container.prototype.getAnimation).call(this)}return a},suspendAnimation:function(){this.animationSuspendCount++;if(this.animationSuspendCount===1){this.updateAnimation()}},resumeAnimation:function(){this.animationSuspendCount--;if(this.animationSuspendCount===0){this.updateAnimation()}},applyInsetPadding:function(a,c){var b;if(!Ext.isObject(a)){b=Ext.util.Format.parseBox(a)}else if(!c){b=a}else {b=Ext.apply(c,a)}return b},suspendChartLayout:function(){var a=this;a.chartLayoutSuspendCount++;if(a.chartLayoutSuspendCount===1){if(a.scheduledLayoutId){a.layoutInSuspension=!0;a.cancelChartLayout()}else {a.layoutInSuspension=!1}}},resumeChartLayout:function(){var a=this;a.chartLayoutSuspendCount--;if(a.chartLayoutSuspendCount===0){if(a.layoutInSuspension){a.scheduleLayout()}}},cancelChartLayout:function(){if(this.scheduledLayoutId){Ext.draw.Animator.cancel(this.scheduledLayoutId);this.scheduledLayoutId=null;this.checkLayoutEnd()}},scheduleLayout:function(){var a=this;if(a.allowSchedule()&&!a.scheduledLayoutId){a.scheduledLayoutId=Ext.draw.Animator.schedule('doScheduleLayout',a)}},allowSchedule:function(){return !0},doScheduleLayout:function(){var a=this;a.scheduledLayoutId=null;if(a.chartLayoutSuspendCount){a.layoutInSuspension=!0}else {a.performLayout()}},suspendThicknessChanged:function(){this.axisThicknessSuspendCount++},resumeThicknessChanged:function(){if(this.axisThicknessSuspendCount>0){this.axisThicknessSuspendCount--;if(this.axisThicknessSuspendCount===0&&this.isThicknessChanged){this.onThicknessChanged()}}},onThicknessChanged:function(){if(this.axisThicknessSuspendCount===0){this.isThicknessChanged=!1;this.performLayout()}else {this.isThicknessChanged=!0}},applySprites:function(a){var b=this.getSurface('chart');a=Ext.Array.from(a);b.removeAll(!0);b.add(a);return a},initItems:function(){var a=this.items,b,d,c;if(a&&!a.isMixedCollection){this.items=[];a=Ext.Array.from(a);for(b=0,d=a.length;b<d;b++){c=a[b];if(c.type){Ext.raise("To add custom sprites to the chart use the 'sprites' config.")}else {this.items.push(c)}}}this.callParent()},applyBackground:function(a,b){var c=this.getSurface('background');return this.refreshBackground(c,a,b)},refreshBackground:function(c,b,a){var f,e,d;if(b){if(a){f=a.attr.width;e=a.attr.height;d=a.type===(b.type||'rect')}if(b.isSprite){a=b}else if(b.type==='image'&&Ext.isString(b.src)){if(d){a.setAttributes({src:b.src})}else {c.remove(a,!0);a=c.add(b)}}else {if(d){a.setAttributes({fillStyle:b})}else {c.remove(a,!0);a=c.add({type:'rect',fillStyle:b,animation:{customDurations:{x:0,y:0,width:0,height:0}}})}}}if(f&&e){a.setAttributes({width:f,height:e})}a.setAnimation(this.getAnimation());return a},defaultResizeHandler:function(a){this.scheduleLayout();return !1},applyMainRect:function(a,b){if(!b){return a}this.getSeries();this.getAxes();if(a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]){return b}else {return a}},register:function(a){var b=this.chartComponents,c=a.getId();b[c]=a},unregister:function(a){var b=this.chartComponents,c=a.getId();delete b[c]},get:function(a){return this.chartComponents[a]},getAxis:function(a){if(a instanceof Ext.chart.axis.Axis){return a}else if(Ext.isNumber(a)){return this.getAxes()[a]}else if(Ext.isString(a)){return this.get(a)}},getSurface:function(d,a){var e=this,c=e.surfaceMap,b;d=d||'main';a=a||d;b=Ext.draw.Container.prototype.getSurface.call(this,d,a);if(!c[a]){c[a]=[]}if(Ext.Array.indexOf(c[a],b)<0){b.type=a;c[a].push(b);b.on('destroy',e.forgetSurface,e)}return b},forgetSurface:function(c){var d=this.surfaceMap,a,b;if(!d||this.destroying){return}a=d[c.type];b=a?Ext.Array.indexOf(a,c):-1;if(b>=0){a.splice(b,1)}},applyAxes:function(e,i){var c=this,n={left:'right',right:'left'},g=[],a,b,h,j,f,m,d,l,k;c.animationSuspendCount++;c.getStore();if(!i){i=[];i.map={}}f=i.map;g.map={};e=Ext.Array.from(e,!0);for(d=0,k=e.length;d<k;d++){a=e[d];if(!a){continue}if(a instanceof Ext.chart.axis.Axis){b=f[a.getId()];a.setChart(c)}else {a=Ext.Object.chain(a);h=a.linkedTo;j=a.id;if(Ext.isNumber(h)){a=Ext.merge({},e[h],a)}else if(Ext.isString(h)){Ext.Array.each(e,function(b){if(b.id===a.linkedTo){a=Ext.merge({},b,a);return !1}})}a.id=j;a.chart=c;if(c.getInherited().rtl){a.position=n[a.position]||a.position}j=a.getId&&a.getId()||a.id;a=Ext.factory(a,null,b=f[j],'axis')}if(a){g.push(a);g.map[a.getId()]=a}}c.axesChangeSeries={};for(d in f){if(!g.map[d]){b=f[d];if(b&&!b.destroyed){for(l=0,k=b.boundSeries.length;l<k;l++){m=b.boundSeries[l];c.axesChangeSeries[m.getId()]=m}b.destroy()}}}c.animationSuspendCount--;return g},updateAxes:function(e){var a=this,c=a.axesChangeSeries,d,g,b,h,f;for(g in c){d=c[g];d.onAxesChange(a,!0)}for(b=0,h=e.length;b<h;b++){f=e[b];f.onSeriesChange(a)}if(!a.isConfiguring&&!a.destroying){a.scheduleLayout()}},circularCopyArray:function(b,e,f){var c=[],a,d=b&&b.length;if(d){for(a=0;a<f;a++){c.push(b[(e+a)%d])}}return c},circularCopyObject:function(d,f,e){var g=this,a,b,c={};if(e){for(a in d){if(d.hasOwnProperty(a)){b=d[a];if(Ext.isArray(b)){c[a]=g.circularCopyArray(b,f,e)}else {c[a]=b}}}}return c},getColors:function(){var b=this,a=b.config.colors,c=b.getTheme();if(Ext.isArray(a)&&a.length>0){a=b.applyColors(a)}return a||c&&c.getColors()},applyColors:function(a){a=Ext.Array.map(a,function(b){if(Ext.isString(b)){return b}else {return b.toString()}});return a},updateColors:function(k){var a=this,i=a.getTheme(),h=k||i&&i.getColors(),g=0,e=a.getSeries(),j=e&&e.length,b,d,f,c;if(h.length){for(b=0;b<j;b++){d=e[b];c=d.themeColorCount();f=a.circularCopyArray(h,g,c);g+=c;d.updateChartColors(f)}}if(!a.isConfiguring){a.refreshLegendStore()}},applyTheme:function(a){if(a&&a.isTheme){return a}return Ext.Factory.chartTheme(a)},updateGradients:function(a){if(!Ext.isEmpty(a)){this.updateTheme(this.getTheme())}},updateTheme:function(c,f){var a=this,e=a.getAxes(),d=a.getSeries(),g=a.getColors(),b;if(!d){return}a.updateChartTheme(c);for(b=0;b<e.length;b++){e[b].updateTheme(c)}for(b=0;b<d.length;b++){d[b].setTheme(c)}a.updateSpriteTheme(c);a.updateColors(g);a.redraw();a.fireEvent('themechange',a,c,f)},themeOnlyIfConfigured:{captions:!0},updateChartTheme:function(o){var c=this,d=o.getChart(),m=c.getInitialConfig(),l=c.defaultConfig,n=c.self.getConfigurator().configs,k=d.defaults,j=d[c.xtype],i=c.themeOnlyIfConfigured,b,a,g,e,f,h;d=Ext.merge({},k,j);for(b in d){a=d[b];h=n[b];if(a!==null&&a!==undefined&&h){f=m[b];g=Ext.isObject(a);e=f===l[b];if(g){if(e&&i[b]){continue}a=Ext.merge({},a,f)}if(e||g){c[h.names.set](a)}}}},updateSpriteTheme:function(l){var k=this,g,e,i,a,c,b,f,h,d,j;k.getSprites();g=k.getSurface('chart');e=g.getItems();i=l.getSprites();for(d=0,j=e.length;d<j;d++){a=e[d];c=i[a.type];if(c){f={};h=a.type==='text';for(b in c){if(!(b in a.config)){if(!(h&&b.indexOf('font')===0&&a.config.font)){f[b]=c[b]}}}a.setAttributes(f)}}},addSeries:function(b){var a=this.getSeries();a=a.concat(Ext.Array.from(b));this.setSeries(a)},removeSeries:function(c){var e=this.getSeries(),f=[],g={},a,d,b;c=Ext.Array.from(c);for(a=0,d=c.length;a<d;a++){b=c[a];if(typeof b!=='string'){b=b.getId()}g[b]=!0}for(a=0,d=e.length;a<d;a++){if(!g[e[a].getId()]){f.push(e[a])}}this.setSeries(f)},applySeries:function(g,h){var f=this,e=[],d,b,c,i,a;f.animationSuspendCount++;f.getAxes();if(h){d=h.map}else {h=[];d=h.map={}}e.map={};g=Ext.Array.from(g,!0);for(c=0,i=g.length;c<i;c++){a=g[c];if(!a){continue}b=d[a.getId&&a.getId()||a.id];if(a instanceof Ext.chart.series.Series){if(b&&b!==a){b.destroy()}a.setChart(f)}else if(Ext.isObject(a)){if(b){b.setConfig(a);a=b}else {if(Ext.isString(a)){a={type:a}}a.chart=f;a=Ext.create(a.xclass||'series.'+a.type,a)}}e.push(a);e.map[a.getId()]=a}for(c in d){if(!e.map[d[c].id]){d[c].destroy()}}f.animationSuspendCount--;return e},updateSeries:function(b,c){var a=this;if(a.destroying){return}a.animationSuspendCount++;a.fireEvent('serieschange',a,b,c);if(!Ext.isEmpty(b)){a.updateTheme(a.getTheme())}a.refreshLegendStore();if(!a.isConfiguring&&!a.destroying){a.scheduleLayout()}a.animationSuspendCount--},defaultLegendType:'sprite',applyLegend:function(b,c){var a=this,d=null,e;if(c&&!(c.destroyed||c.destroying)){if(a.legendStoreListeners){a.legendStoreListeners.destroy()}if(a.legendStore){a.legendStore.destroy()}c.destroy()}if(b){if(Ext.isBoolean(b)){d=Ext.create('legend.'+a.defaultLegendType,{docked:'bottom',chart:a})}else {b.docked=b.docked||'bottom';b.chart=a;e='legend.'+(b.type||a.defaultLegendType);d=Ext.create(e,b)}}return d},updateLegend:function(b){var a=this;a.destroyLegendStore();if(b){a.getItems();b.setStore(a.refreshLegendStore())}if(!a.isConfiguring){a.scheduleLayout()}},captionApplier:function(b,a){var d=this,c;if(a&&!(a.destroyed||a.destroying)){a.destroy()}if(b){b.chart=d;c=new Ext.chart.Caption(b)}return c},applyCaptions:function(e,c){var g={},a,d,b,f;for(b in e){a=e[b];if(a&&!a.length&&!(a.text&&a.text.length)){a=null}else if(typeof a==='string'){a={text:a};this.getInitialConfig().captions[b]=a}d=c&&c[b];a=this.captionApplier(a,d);if(a){f=!0;g[b]=a}}return f&&g},updateCaptions:function(){var a=this;if(!a.isConfiguring){a.scheduleLayout()}},getLegendStore:function(){var a=this,b=a.legendStore;if(!b){b=a.legendStore=new Ext.chart.legend.store.Store({chart:a});a.legendStoreListeners=b.on({scope:a,update:'onLegendStoreUpdate',destroyable:!0})}return b},destroyLegendStore:function(){var a=this.legendStore;if(a&&!(a.destroyed||a.destroying)){a.destroy()}this.legendStore=null},refreshLegendStore:function(){var g=this,b=g.getLegendStore(),e,d,c,a,f;if(b){d=g.getSeries();c=[];for(a=0,f=d.length;a<f;a++){e=d[a];if(e.getShowInLegend()){e.provideLegendInfo(c)}}b.setData(c)}return b},onLegendStoreUpdate:function(d,a){var c=this,b;if(a){b=this.getSeries().map[a.get('series')];if(b){b.setHiddenByIndex(a.get('index'),a.get('disabled'));c.redraw()}}},applyInteractions:function(e,d){var h=this,c=[],f,a,b,g;e=Ext.Array.from(e,!0);if(!d){d=[];d.map={}}f=d.map;c.map={};for(b=0,g=e.length;b<g;b++){a=e[b];if(!a){continue}a=Ext.factory(a,null,f[a.getId&&a.getId()||a.id],'interaction');if(a){a.setChart(h);c.push(a);c.map[a.getId()]=a}}for(b in f){if(!c.map[b]){f[b].destroy()}}return c},getInteraction:function(f){var b=this.getInteractions(),d=b&&b.length,e=null,c,a;if(d){for(a=0;a<d;++a){c=b[a];if(c.type===f){e=c;break}}}return e},applyStore:function(a){return a&&Ext.StoreManager.lookup(a)},updateStore:function(c,a){var b=this;if(a&&!a.destroyed){a.un({datachanged:'onDataChanged',update:'onDataChanged',scope:b,order:'after'});if(a.autoDestroy){a.destroy()}}if(c){c.on({datachanged:'onDataChanged',update:'onDataChanged',scope:b,order:'after'})}b.fireEvent('storechange',b,c,a);b.onDataChanged()},redraw:function(){this.fireEvent('redraw',this)},performLayout:function(){if(this.destroying||this.destroyed){return !1}var b=this,a=b.getLegend(),c=b.getChartRect(!0),f=b.getBackground(),e=!0,d;b.cancelChartLayout();if(f){b.getSurface('background').setRect(c.slice());f.setAttributes({width:c[2],height:c[3]})}if(a&&a.isSpriteLegend&&!a.isTop){d=a.computeRect(c)}b.layoutCaptions(c);if(a&&a.isSpriteLegend&&a.isTop){d=a.computeRect(c)}if(d){b.getSurface('legend').setRect(d);e=a.performLayout()}b.getSurface('chart').setRect(c);if(e){b.hasFirstLayout=!0}return e},layoutCaptions:function(c){var d=this.getCaptions(),h={left:0,top:0,right:c[2],bottom:c[3]},e,f,a,b,g;if(d){a=[];for(f in d){a.push(d[f])}a.sort(function(a,b){return a.getWeight()-b.getWeight()});for(b=0,g=a.length;b<g;b++){e=a[b];if(!b){this.getSurface(e.surfaceName).setRect(c.slice())}e.computeRect(c,h)}this.captionList=a}},checkLayoutEnd:function(){if(!this.chartLayoutCount&&!this.scheduledLayoutId){this.onLayoutEnd()}},onLayoutEnd:function(){var a=this;a.fireEvent('layout',a)},getChartRect:function(d){var a=this,b,c;if(d){a.chartRect=null}if(a.chartRect){b=a.chartRect}else {c=a.bodyElement.getSize();b=a.chartRect=[0,0,c.width,c.height]}return b},getEventXY:function(a){return this.getSurface('series').getEventXY(a)},getItemForPoint:function(f,g){var e=this,i=e.getSeries(),d=e.getMainRect(),j=i.length,h=Infinity,c=null,b,a;if(!(e.hasFirstLayout&&d&&f>=0&&f<=d[2]&&g>=0&&g<=d[3])){return null}for(b=j-1;b>=0;b--){a=i[b].getItemForPoint(f,g);if(a){if(!a.distance){c=a;break}if(a.distance<h){h=a.distance;c=a}}}return c},getItemsForPoint:function(h,i){var f=this,c=f.getSeries(),g=c.length,b=f.hasFirstLayout?g-1:-1,e=[],d,a;for(;b>=0;b--){d=c[b];a=d.getItemForPoint(h,i);if(a&&(a.category==='items'||a.category==='markers')){e.push(a)}}return e},onDataChanged:function(){var a=this,e,c,b,d;if(a.isInitializing){return}e=a.getMainRect();c=a.getStore();b=a.getSeries();d=a.getAxes();if(!c||!d||!b){return}if(!e){a.on({redraw:a.onDataChanged,scope:a,single:!0});return}a.processData();a.redraw()},recordCount:0,processData:function(){var a=this,e=a.getStore().getCount(),f=a.getSeries(),g=f.length,b=!1,d=0,c;for(;d<g;d++){c=f[d];c.processData();if(!b&&c.isStoreDependantColorCount){b=!0}}if(b&&e>a.recordCount){a.updateColors(a.getColors());a.recordCount=e}if(!a.isConfiguring){a.refreshLegendStore()}},bindStore:function(a){this.setStore(a)},applyHighlightItem:function(c,d){var a,b,e,f;if(c===d){return}if(Ext.isObject(c)&&Ext.isObject(d)){a=c;b=d;e=a.sprite&&(a.sprite[0]||a.sprite);f=b.sprite&&(b.sprite[0]||b.sprite);if(e===f&&a.index===b.index){return}}return c},updateHighlightItem:function(a,b){var c,d;if(b){d=b.series.getHighlight();if(d){b.series.setAttributesForItem(b,{highlighted:!1})}}if(a){c=a.series.getHighlight();if(c){a.series.setAttributesForItem(a,{highlighted:!0})}}if(d||c){this.fireEvent('itemhighlight',this,a,b)}},destroyChart:function(){var a=this;a.setInteractions(null);a.setAxes(null);a.setSeries(null);a.setLegend(null);a.setStore(null);a.cancelChartLayout()},getRefItems:function(h){var g=this,e=g.getSeries(),f=g.getAxes(),d=g.getInteractions(),i=g.getLegend(),b=[],a,c;for(a=0,c=e.length;a<c;a++){b.push(e[a]);if(e[a].getRefItems){b.push.apply(b,e[a].getRefItems(h))}}for(a=0,c=f.length;a<c;a++){b.push(f[a]);if(f[a].getRefItems){b.push.apply(b,f[a].getRefItems(h))}}for(a=0,c=d.length;a<c;a++){b.push(d[a]);if(d[a].getRefItems){b.push.apply(b,d[a].getRefItems(h))}}if(i){b.push(i)}return b}},1,0,['widget','component','container','draw'],{'widget':!0,'component':!0,'container':!0,'draw':!0},0,0,[Ext.chart,'AbstractChart'],0);Ext.define('Ext.chart.overrides.AbstractChart',{override:'Ext.chart.AbstractChart',zIndex:0,updateLegend:function(a,b){arguments.callee.$previous.call(this,a,b);if(a&&a.isDomLegend){this.add(a)}},onItemRemove:function(b,f,e){var c=this.surfaceMap,d=b.type,a=c&&c[d];(arguments.callee.$previous||Ext.draw.Container.prototype.onItemRemove).call(this,b,f,e);if(a){Ext.Array.remove(a,b);if(a.length===0){delete c[d]}}},doDestroy:function(){this.destroyChart();(arguments.callee.$previous||Ext.draw.Container.prototype.doDestroy).call(this)}});Ext.cmd.derive('Ext.chart.grid.HorizontalGrid',Ext.draw.sprite.Sprite,{inheritableStatics:{def:{processors:{x:'number',y:'number',width:'number',height:'number'},defaults:{x:0,y:0,width:1,height:1,strokeStyle:'#DDD'}}},render:function(c,a,b){var f=this.attr,e=c.roundPixel(f.y),d=a.lineWidth*0.5;a.beginPath();a.rect(b[0]-c.matrix.getDX(),e+d,+b[2],f.height);a.fill();a.beginPath();a.moveTo(b[0]-c.matrix.getDX(),e+d);a.lineTo(b[0]+b[2]-c.matrix.getDX(),e+d);a.stroke()}},0,0,0,0,['grid.horizontal'],0,[Ext.chart.grid,'HorizontalGrid'],0);Ext.cmd.derive('Ext.chart.grid.VerticalGrid',Ext.draw.sprite.Sprite,{inheritableStatics:{def:{processors:{x:'number',y:'number',width:'number',height:'number'},defaults:{x:0,y:0,width:1,height:1,strokeStyle:'#DDD'}}},render:function(c,a,b){var f=this.attr,e=c.roundPixel(f.x),d=a.lineWidth*0.5;a.beginPath();a.rect(e-d,b[1]-c.matrix.getDY(),f.width,b[3]);a.fill();a.beginPath();a.moveTo(e-d,b[1]-c.matrix.getDY());a.lineTo(e-d,b[1]+b[3]-c.matrix.getDY());a.stroke()}},0,0,0,0,['grid.vertical'],0,[Ext.chart.grid,'VerticalGrid'],0);Ext.cmd.derive('Ext.chart.CartesianChart',Ext.chart.AbstractChart,{alternateClassName:'Ext.chart.Chart',isCartesian:!0,config:{flipXY:!1,innerRect:[0,0,1,1],innerPadding:{top:0,left:0,right:0,bottom:0}},applyInnerPadding:function(a,b){if(!Ext.isObject(a)){return Ext.util.Format.parseBox(a)}else if(!b){return a}else {return Ext.apply(b,a)}},getDirectionForAxis:function(b){var c=this.getFlipXY(),a;if(b==='left'||b==='right'){a=c?'X':'Y'}else {a=c?'Y':'X'}return a},performLayout:function(){var a=this;if(Ext.chart.AbstractChart.prototype.performLayout.call(this)===!1){return}a.chartLayoutCount++;a.suspendAnimation();var r=a.getSurface('chart').getRect(),p=r[0],q=r[1],l=r[2],k=r[3],u=a.captionList,t=a.getAxes(),e,A=a.getSeries(),y,f,g,B=a.getInsetPadding(),d=a.getInnerPadding(),j,n,c=Ext.apply({},B),i,o,h,v,w,z,x,b,m,D=a.getInherited().rtl,C=a.getFlipXY(),s;if(l<=0||k<=0){return}a.suspendThicknessChanged();for(b=0;b<t.length;b++){e=t[b];f=e.getSurface();w=e.getFloating();z=w?w.value:null;g=e.getThickness();switch(e.getPosition()){case 'top':f.setRect([p,q+c.top+1,l,g]);break;case 'bottom':f.setRect([p,q+k-(c.bottom+g),l,g]);break;case 'left':f.setRect([p+c.left,q,g,k]);break;case 'right':f.setRect([p+l-(c.right+g),q,g,k]);break;}if(z===null){c[e.getPosition()]+=g}}l-=c.left+c.right;k-=c.top+c.bottom;i=[p+c.left,q+c.top,l,k];c.left+=d.left;c.top+=d.top;c.right+=d.right;c.bottom+=d.bottom;o=l-d.left-d.right;h=k-d.top-d.bottom;a.setInnerRect([c.left,c.top,o,h]);if(o<=0||h<=0){return}a.setMainRect(i);a.getSurface().setRect(i);for(b=0,m=a.surfaceMap.grid&&a.surfaceMap.grid.length;b<m;b++){n=a.surfaceMap.grid[b];n.setRect(i);n.matrix.set(1,0,0,1,d.left,d.top);n.matrix.inverse(n.inverseMatrix)}for(b=0;b<t.length;b++){e=t[b];e.getRange(!0);f=e.getSurface();x=f.matrix;v=x.elements;switch(e.getPosition()){case 'top':case 'bottom':v[4]=c.left;e.setLength(o);break;case 'left':case 'right':v[5]=c.top;e.setLength(h);break;}e.updateTitleSprite();x.inverse(f.inverseMatrix)}for(b=0,m=A.length;b<m;b++){y=A[b];j=y.getSurface();j.setRect(i);if(C){if(D){j.matrix.set(0,-1,-1,0,d.left+o,d.top+h)}else {j.matrix.set(0,-1,1,0,d.left,d.top+h)}}else {j.matrix.set(1,0,0,-1,d.left,d.top+h)}j.matrix.inverse(j.inverseMatrix);y.getOverlaySurface().setRect(i)}if(u){for(b=0,m=u.length;b<m;b++){s=u[b];if(s.getAlignTo()==='series'){s.alignRect(i)}s.performLayout()}}a.afterChartLayout();a.redraw();a.resumeAnimation();a.resumeThicknessChanged();a.chartLayoutCount--;a.checkLayoutEnd()},afterChartLayout:Ext.emptyFn,refloatAxes:function(){var i=this,m=i.getAxes(),q=m&&m.length||0,d,j,c,k,a,e,h,n=i.getChartRect(),f=i.getInsetPadding(),b=i.getInnerPadding(),p=n[2]-f.left-f.right,o=n[3]-f.top-f.bottom,g,l;for(l=0;l<q;l++){d=m[l];k=d.getFloating();a=k?k.value:null;if(a===null){d.floatingAtCoord=null;continue}j=d.getSurface();c=j.getRect();if(!c){continue}c=c.slice();e=i.getAxis(k.alongAxis);if(e){g=e.getAlignment()==='horizontal';if(Ext.isString(a)){a=e.getCoordFor(a)}e.floatingAxes[d.getId()]=a;h=e.getSprites()[0].attr.matrix;if(g){a=a*h.getXX()+h.getDX();d.floatingAtCoord=a+b.left+b.right}else {a=a*h.getYY()+h.getDY();d.floatingAtCoord=a+b.top+b.bottom}}else {g=d.getAlignment()==='horizontal';if(g){d.floatingAtCoord=a+b.top+b.bottom}else {d.floatingAtCoord=a+b.left+b.right}a=j.roundPixel(0.01*a*(g?o:p))}switch(d.getPosition()){case 'top':c[1]=f.top+b.top+a-c[3]+1;break;case 'bottom':c[1]=f.top+b.top+(e?a:o-a);break;case 'left':c[0]=f.left+b.left+a-c[2];break;case 'right':c[0]=f.left+b.left+(e?a:p-a)-1;break;}j.setRect(c)}},redraw:function(){var k=this,x=k.getSeries(),z=k.getAxes(),w=k.getMainRect(),t,s,f=k.getInnerPadding(),h,a,b,y,c,e,g,r,n,p,q,u,d,A=k.getFlipXY(),v=1000,j,o,i,m,l;if(!w){return}t=w[2]-f.left-f.right;s=w[3]-f.top-f.bottom;for(e=0;e<x.length;e++){i=x[e];p=i.getXAxis();if(p){d=p.getVisibleRange();a=p.getRange();a=[a[0]+(a[1]-a[0])*d[0],a[0]+(a[1]-a[0])*d[1]]}else {a=i.getXRange()}q=i.getYAxis();if(q){d=q.getVisibleRange();b=q.getRange();b=[b[0]+(b[1]-b[0])*d[0],b[0]+(b[1]-b[0])*d[1]]}else {b=i.getYRange()}c={visibleMinX:a[0],visibleMaxX:a[1],visibleMinY:b[0],visibleMaxY:b[1],innerWidth:t,innerHeight:s,flipXY:A};h=i.getSprites();for(g=0,r=h.length;g<r;g++){m=h[g];j=m.attr.zIndex;if(j<v){j+=(e+1)*100+v;m.attr.zIndex=j;l=m.getMarker('items');if(l){o=l.attr.zIndex;if(o===Number.MAX_VALUE){l.attr.zIndex=j}else if(o<v){l.attr.zIndex=j+o}}}m.setAttributes(c,!0)}}for(e=0;e<z.length;e++){n=z[e];y=n.isSide();h=n.getSprites();u=n.getRange();d=n.getVisibleRange();c={dataMin:u[0],dataMax:u[1],visibleMin:d[0],visibleMax:d[1]};if(y){c.length=s;c.startGap=f.bottom;c.endGap=f.top}else {c.length=t;c.startGap=f.left;c.endGap=f.right}for(g=0,r=h.length;g<r;g++){h[g].setAttributes(c,!0)}}k.renderFrame();Ext.chart.AbstractChart.prototype.redraw.call(this)},renderFrame:function(){this.refloatAxes();Ext.chart.AbstractChart.prototype.renderFrame.call(this)}},0,['cartesian','chart'],['widget','component','container','draw','cartesian','chart'],{'widget':!0,'component':!0,'container':!0,'draw':!0,'cartesian':!0,'chart':!0},['widget.cartesian','widget.chart'],0,[Ext.chart,'CartesianChart',Ext.chart,'Chart'],0);Ext.cmd.derive('Ext.chart.grid.CircularGrid',Ext.draw.sprite.Circle,{inheritableStatics:{def:{defaults:{r:1,strokeStyle:'#DDD'}}}},0,0,0,0,['grid.circular'],0,[Ext.chart.grid,'CircularGrid'],0);Ext.cmd.derive('Ext.chart.grid.RadialGrid',Ext.draw.sprite.Path,{inheritableStatics:{def:{processors:{startRadius:'number',endRadius:'number'},defaults:{startRadius:0,endRadius:1,scalingCenterX:0,scalingCenterY:0,strokeStyle:'#DDD'},triggers:{startRadius:'path,bbox',endRadius:'path,bbox'}}},render:function(){Ext.draw.sprite.Path.prototype.render.apply(this,arguments)},updatePath:function(b,a){var c=a.startRadius,d=a.endRadius;b.moveTo(c,0);b.lineTo(d,0)}},0,0,0,0,['grid.radial'],0,[Ext.chart.grid,'RadialGrid'],0);Ext.cmd.derive('Ext.chart.PolarChart',Ext.chart.AbstractChart,{isPolar:!0,config:{center:[0,0],radius:0,innerPadding:0},getDirectionForAxis:function(a){return a==='radial'?'Y':'X'},updateCenter:function(d){var h=this,f=h.getAxes(),e=h.getSeries(),a,b,g,c;for(a=0,b=f.length;a<b;a++){g=f[a];g.setCenter(d)}for(a=0,b=e.length;a<b;a++){c=e[a];c.setCenter(d)}},applyInnerPadding:function(a,b){return Ext.isNumber(a)?a:b},updateInnerPadding:function(){if(!this.isConfiguring){this.performLayout()}},doSetSurfaceRect:function(c,a){var b=this.getMainRect();c.setRect(a);c.matrix.set(1,0,0,1,b[0]-a[0],b[1]-a[1]);c.inverseMatrix.set(1,0,0,1,a[0]-b[0],a[1]-b[1])},applyAxes:function(a,g){var h=this,b=Ext.Array.from(h.config.series)[0],c,f,e,d;if(b&&b.type==='radar'&&a&&a.length){for(c=0,f=a.length;c<f;c++){e=a[c];if(e.position==='angular'){d=!0;break}}if(!d){a.push({type:'category',position:'angular',fields:b.xField||b.angleField,style:{estStepSize:1},grid:!0})}}return Ext.chart.AbstractChart.prototype.applyAxes.call(this,a,g)},performLayout:function(){var a=this,y=!0;try{a.chartLayoutCount++;a.suspendAnimation();if(Ext.chart.AbstractChart.prototype.performLayout.call(this)===!1){y=!1;return}a.suspendThicknessChanged();var d=a.getSurface('chart').getRect(),i=a.getInsetPadding(),h=a.getInnerPadding(),g=Ext.apply({},i),p=Math.max(1,d[2]-d[0]-i.left-i.right),o=Math.max(1,d[3]-d[1]-i.top-i.bottom),j=[d[0]+i.left,d[1]+i.top,p+d[0],o+d[1]],C=a.getSeries(),B=p-h*2,A=o-h*2,G=[(d[0]+B)*0.5+h,(d[1]+A)*0.5+h],E=Math.min(B,A)*0.5,l=a.getAxes(),t=[],v=[],r=E-h,x=a.surfaceMap.grid,u=a.captionList,b,e,s,w,F,f,m,q,k,c,D,z,n;a.setMainRect(j);a.doSetSurfaceRect(a.getSurface(),j);if(x){for(b=0,e=x.length;b<e;b++){a.doSetSurfaceRect(x[b],d)}}for(b=0,e=l.length;b<e;b++){c=l[b];switch(c.getPosition()){case 'angular':t.push(c);break;case 'radial':v.push(c);break;}}for(b=0,e=t.length;b<e;b++){c=t[b];w=c.getFloating();F=w?w.value:null;a.doSetSurfaceRect(c.getSurface(),d);D=c.getThickness();for(q in g){g[q]+=D}p=d[2]-g.left-g.right;o=d[3]-g.top-g.bottom;s=Math.min(p,o)*0.5;if(b===0){r=s-h}c.setMinimum(0);c.setLength(s);c.getSprites();z=c.sprites[0].attr.lineWidth*0.5;for(q in g){g[q]+=z}}for(b=0,e=v.length;b<e;b++){c=v[b];a.doSetSurfaceRect(c.getSurface(),d);c.setMinimum(0);c.setLength(r);c.getSprites()}for(b=0,e=C.length;b<e;b++){k=C[b];if(k.type==='gauge'&&!f){f=k}else {k.setRadius(r)}a.doSetSurfaceRect(k.getSurface(),j)}a.doSetSurfaceRect(a.getSurface('overlay'),d);if(f){f.setRect(j);m=f.getRadius()-h;a.setRadius(m);a.setCenter(f.getCenter());f.setRadius(m);if(l.length&&l[0].getPosition()==='gauge'){c=l[0];a.doSetSurfaceRect(c.getSurface(),d);c.setTotalAngle(f.getTotalAngle());c.setLength(m)}}else {a.setRadius(E);a.setCenter(G)}if(u){for(b=0,e=u.length;b<e;b++){n=u[b];if(n.getAlignTo()==='series'){n.alignRect(j)}n.performLayout()}}a.redraw()}finally{a.resumeAnimation();if(y){a.resumeThicknessChanged()}a.chartLayoutCount--;a.checkLayoutEnd()}},refloatAxes:function(){var g=this,i=g.getAxes(),f=g.getMainRect(),d,a,b,e,j,c,h;if(!f){return}h=0.5*Math.min(f[2],f[3]);for(e=0,j=i.length;e<j;e++){c=i[e];d=c.getFloating();a=d?d.value:null;if(a!==null){b=g.getAxis(d.alongAxis);if(c.getPosition()==='angular'){if(b){a=b.getLength()*a/b.getRange()[1]}else {a=0.01*a*h}c.sprites[0].setAttributes({length:a},!0)}else {if(b){if(Ext.isString(a)){a=b.getCoordFor(a)}a=a/(b.getRange()[1]+1)*Math.PI*2-Math.PI*1.5+c.getRotation()}else {a=Ext.draw.Draw.rad(a)}c.sprites[0].setAttributes({baseRotation:a},!0)}}}},redraw:function(){var c=this,f=c.getAxes(),g,d=c.getSeries(),e,a,b;for(a=0,b=f.length;a<b;a++){g=f[a];g.getSprites()}for(a=0,b=d.length;a<b;a++){e=d[a];e.getSprites()}c.renderFrame();Ext.chart.AbstractChart.prototype.redraw.call(this)},renderFrame:function(){this.refloatAxes();Ext.chart.AbstractChart.prototype.renderFrame.call(this)}},0,['polar'],['widget','component','container','draw','polar'],{'widget':!0,'component':!0,'container':!0,'draw':!0,'polar':!0},['widget.polar'],0,[Ext.chart,'PolarChart'],0);Ext.cmd.derive('Ext.chart.axis.Category',Ext.chart.axis.Axis,{type:'category',isCategory:!0,config:{layout:'combineDuplicate',segmenter:'names'}},0,0,['axis'],{'axis':!0},['axis.category'],0,[Ext.chart.axis,'Category'],0);Ext.cmd.derive('Ext.chart.axis.Numeric',Ext.chart.axis.Axis,{type:'numeric',config:{layout:'continuous',segmenter:'numeric',aggregator:'double'}},0,0,['axis'],{'axis':!0},['axis.numeric','axis.radial'],0,[Ext.chart.axis,'Numeric'],0);Ext.cmd.derive('Ext.chart.axis.Time',Ext.chart.axis.Numeric,{type:'time',config:{dateFormat:null,fromDate:null,toDate:null,layout:'continuous',segmenter:'time',aggregator:'time'},updateDateFormat:function(b){var a=this.getRenderer();if(!a||a.isDefault){a=function(c,a){return Ext.Date.format(new Date(a),b)};a.isDefault=!0;this.setRenderer(a);this.performLayout()}},updateRenderer:function(b){var a=this.getDateFormat();if(b){this.performLayout()}else if(a){this.updateDateFormat(a)}},updateFromDate:function(a){this.setMinimum(+a)},updateToDate:function(a){this.setMaximum(+a)},getCoordFor:function(a){if(Ext.isString(a)){a=new Date(a)}return +a}},0,0,['axis'],{'axis':!0},['axis.time'],0,[Ext.chart.axis,'Time'],0);Ext.cmd.derive('Ext.chart.interactions.Crosshair',Ext.chart.interactions.Abstract,{type:'crosshair',config:{axes:{top:{label:{},rect:{}},right:{label:{},rect:{}},bottom:{label:{},rect:{}},left:{label:{},rect:{}}},lines:{horizontal:{strokeStyle:'black',lineDash:[5,5]},vertical:{strokeStyle:'black',lineDash:[5,5]}},gesture:'drag'},applyAxes:function(b,a){return Ext.merge(a||{},b)},applyLines:function(b,a){return Ext.merge(a||{},b)},updateChart:function(a){if(a&&!a.isCartesian){Ext.raise('Crosshair interaction can only be used on cartesian charts.')}Ext.chart.interactions.Abstract.prototype.updateChart.apply(this,arguments)},getGestures:function(){var c=this,a={},b=c.getGesture();a[b]='onGesture';a[b+'start']='onGestureStart';a[b+'end']='onGestureEnd';a[b+'cancel']='onGestureCancel';return a},onGestureStart:function(I){var a=this,i=a.getChart(),C=i.getTheme().getAxis(),D,E=i.getSurface('overlay'),G=i.getInnerRect(),B=G[2],y=G[3],H=i.getEventXY(I),u=H[0],v=H[1],F=i.getAxes(),l=a.getAxes(),z=a.getLines(),f,p,t,s,r,b,g,h,x,w,q,A,e,d,o,m,c,j,k,n;I.claimGesture();if(u>0&&u<B&&v>0&&v<y){a.lockEvents(a.getGesture());j=Ext.apply({xclass:'Ext.chart.grid.HorizontalGrid',x:0,y:v,width:B},z.horizontal);k=Ext.apply({xclass:'Ext.chart.grid.VerticalGrid',x:u,y:0,height:y},z.vertical);a.axesLabels=a.axesLabels||{};for(n=0;n<F.length;n++){f=F[n];p=f.getSurface();t=p.getRect();A=f.getSprites()[0];s=t[2];r=t[3];b=f.getPosition();g=f.getAlignment();m=f.getTitle();c=m&&m.attr.text!==''&&m.getBBox();e=A.attr;d=e.axisLine?e.lineWidth:0;o=d/2;q=Math.max(e.majorTickSize,e.minorTickSize)+d;h=a.axesLabels[b]=p.add({type:'composite'});h.labelRect=h.addSprite(Ext.apply({type:'rect',fillStyle:'white',x:b==='right'?d:0,y:b==='bottom'?d:0,width:s-d-(g==='vertical'&&c?c.width:0),height:r-d-(g==='horizontal'&&c?c.height:0),translationX:b==='left'&&c?c.width:0,translationY:b==='top'&&c?c.height:0},l.rect||l[b].rect));if(g==='vertical'&&!k.strokeStyle){k.strokeStyle=e.strokeStyle}if(g==='horizontal'&&!j.strokeStyle){j.strokeStyle=e.strokeStyle}D=Ext.merge({},C.defaults,C[b]);x=Ext.apply({},f.config.label,D.label);w=l.label||l[b].label;h.labelText=h.addSprite(Ext.apply(x,w,{type:'text',x:a.calculateLabelTextPoint(!1,b,q,c,s,o),y:a.calculateLabelTextPoint(!0,b,q,c,r,o)}))}a.horizontalLine=E.add(j);a.verticalLine=E.add(k);return !1}},onGesture:function(G){var i=this;if(i.getLocks()[i.getGesture()]!==i){return}var m=i.getChart(),F=m.getSurface('overlay'),D=Ext.Array.slice(m.getInnerRect()),B=m.getInnerPadding(),o=B.left,p=B.top,A=D[2],z=D[3],E=m.getEventXY(G),d=E[0],e=E[1],C=m.getAxes(),g,y,x,s,f,l,r,h,a,j,k,v,w,t,u,b,c,n,q;if(d<0){d=0}else if(d>A){d=A}if(e<0){e=0}else if(e>z){e=z}d+=o;e+=p;for(q=0;q<C.length;q++){g=C[q];y=g.getPosition();x=g.getAlignment();s=g.getSurface();f=g.getSprites()[0];l=f.attr.matrix;k=f.attr.textPadding*2;a=i.axesLabels[y];r=f.getLayoutContext();h=g.getSegmenter();if(a){if(x==='vertical'){w=l.getYY();u=l.getDY();c=(e-u-p)/w;if(g.getLayout() instanceof Ext.chart.axis.layout.Discrete){e=Math.round(c)*w+u+p;c=h.from(Math.round(c));c=f.attr.data[c]}else {c=h.from(c)}n=h.renderer(c,r);a.setAttributes({translationY:e-p});a.labelText.setAttributes({text:n});j=a.labelText.getBBox();a.labelRect.setAttributes({height:j.height+k,y:-(j.height+k)/2});s.renderFrame()}else {v=l.getXX();t=l.getDX();b=(d-t-o)/v;if(g.getLayout() instanceof Ext.chart.axis.layout.Discrete){d=Math.round(b)*v+t+o;b=h.from(Math.round(b));b=f.attr.data[b]}else {b=h.from(b)}n=h.renderer(b,r);a.setAttributes({translationX:d-o});a.labelText.setAttributes({text:n});j=a.labelText.getBBox();a.labelRect.setAttributes({width:j.width+k,x:-(j.width+k)/2});s.renderFrame()}}}i.horizontalLine.setAttributes({y:e,strokeStyle:f.attr.strokeStyle});i.verticalLine.setAttributes({x:d,strokeStyle:f.attr.strokeStyle});F.renderFrame();return !1},onGestureEnd:function(j){var a=this,h=a.getChart(),f=h.getSurface('overlay'),i=h.getAxes(),g,c,d,e,b;f.remove(a.verticalLine);f.remove(a.horizontalLine);for(b=0;b<i.length;b++){g=i[b];c=g.getPosition();d=g.getSurface();e=a.axesLabels[c];if(e){delete a.axesLabels[c];d.remove(e)}d.renderFrame()}f.renderFrame();a.unlockEvents(a.getGesture())},onGestureCancel:function(a){this.onGestureEnd(a)},privates:{vertMap:{top:'start',bottom:'end'},horzMap:{left:'start',right:'end'},calculateLabelTextPoint:function(i,c,e,b,f,h){var a,g,d;if(i){d='y';g='height';c=this.vertMap[c]}else {d='x';g='width';c=this.horzMap[c]}switch(c){case 'start':a=b?b[d]+b[g]:0;return a+(f-a-e)/2-h;case 'end':a=b?f-b[d]:0;return e+(f-e-a)/2+h;default:return 0;}}}},0,0,['interaction'],{'interaction':!0},['interaction.crosshair'],0,[Ext.chart.interactions,'Crosshair'],0);Ext.cmd.derive('Ext.chart.interactions.ItemHighlight',Ext.chart.interactions.Abstract,{type:'itemhighlight',isItemHighlight:!0,config:{gestures:{tap:'onTapGesture',mousemove:'onMouseMoveGesture',mousedown:'onMouseDownGesture',mouseup:'onMouseUpGesture',mouseleave:'onMouseUpGesture'},sticky:!1,multiTooltips:!1},constructor:function(a){Ext.chart.interactions.Abstract.prototype.constructor.call(this,a);this.stickyHighlightItem=null;this.tooltipItems=[]},destroy:function(){this.stickyHighlightItem=this.tooltipItems=null;Ext.chart.interactions.Abstract.prototype.destroy.call(this)},onMouseMoveGesture:function(i){var a=this,e=a.tooltipItems,k=i.pointerType==='mouse',m=[],b,g,c,f,l,d,h,j,n;if(a.getSticky()){return !0}if(k&&a.stickyHighlightItem){a.stickyHighlightItem=null;a.highlight(null)}if(a.isDragging){if(e.length&&k){a.hideTooltips(e);e.length=0}}else if(!a.stickyHighlightItem){if(a.getMultiTooltips()){c=a.getItemsForEvent(i)}else {b=a.getItemForEvent(i);c=b?[b]:[]}for(d=0,h=c.length;d<h;d++){b=c[d];if(d===0&&b!==a.getChart().getHighlightItem()){a.highlight(b);a.sync()}f=b.series.getTooltip();if(f){m.push(f)}}a.highlight(b);if(k){if(c.length){for(d=0,h=c.length;d<h;d++){b=c[d];f=b.series.getTooltip();if(f){for(j=0,n=e.length;j<n;j++){g=e[j];if(!Ext.Array.contains(c,g)){l=g.series.getTooltip();if(!Ext.Array.contains(m,l)){g.series.hideTooltip(g,!0)}}}if(f.getTrackMouse()){b.series.showTooltip(b,i)}else {a.showUntracked(b)}}}a.tooltipItems=c}else {a.hideTooltips(e);e.length=0}}return !1}},highlight:function(a){this.getChart().setHighlightItem(a)},showTooltip:function(b,a){a.series.showTooltip(a,b);Ext.Array.include(this.tooltipItems,a)},showUntracked:function(c){var e=c.sprite.getMarker(c.category),b,d,g,a,f;if(e){b=e.getSurface();g=b.matrix.elements[3]<0;d=b.element.getXY();a=Ext.clone(e.getBBoxFor(c.index));if(g){if(b.getInherited().rtl){f=b.inverseMatrix.clone().flipX().translate(c.sprite.attr.innerWidth,0,!0)}else {f=b.inverseMatrix}a=f.transformBBox(a)}a.x+=d[0];a.y+=d[1];c.series.showTooltipAt(c,a.x+a.width*0.5,a.y+a.height*0.5)}},onMouseDownGesture:function(){this.isDragging=!0},onMouseUpGesture:function(){this.isDragging=!1},isSameItem:function(a,b){return a&&b&&a.series===b.series&&a.field===b.field&&a.index===b.index},onTapGesture:function(c){var a=this,b;if(c.pointerType==='mouse'&&!a.getSticky()){return}b=a.getItemForEvent(c);if(a.isSameItem(a.stickyHighlightItem,b)){b=null}a.stickyHighlightItem=b;a.highlight(b)},privates:{hideTooltips:function(a,e){var b,c,d;a=Ext.isArray(a)?a:[a];for(c=0,d=a.length;c<d;c++){b=a[c];if(b&&b.series&&!b.series.destroyed){b.series.hideTooltip(b,e)}}}}},1,0,['interaction'],{'interaction':!0},['interaction.itemhighlight'],0,[Ext.chart.interactions,'ItemHighlight'],0);Ext.cmd.derive('Ext.chart.interactions.PanZoom',Ext.chart.interactions.Abstract,{type:'panzoom',config:{axes:{top:{},right:{},bottom:{},left:{}},minZoom:null,maxZoom:null,showOverflowArrows:!0,panGesture:'drag',zoomGesture:'pinch',zoomOnPanGesture:null,zoomOnPan:!1,doubleTapReset:!1,modeToggleButton:{xtype:'segmentedbutton',width:200,defaults:{ui:'default-toolbar'},cls:'x-panzoom-toggle',items:[{text:'Pan',value:'pan'},{text:'Zoom',value:'zoom'}]},hideLabelInGesture:!1},stopAnimationBeforeSync:!0,applyAxes:function(b,a){return Ext.merge(a||{},b)},updateZoomOnPan:function(a){var b=this.getModeToggleButton();b.setValue(a?'zoom':'pan')},updateZoomOnPanGesture:function(a){this.setZoomOnPan(a)},getZoomOnPanGesture:function(){return this.getZoomOnPan()},applyModeToggleButton:function(b,a){return Ext.factory(b,'Ext.button.Segmented',a)},updateModeToggleButton:function(a){if(a){a.on('change','onModeToggleChange',this)}},onModeToggleChange:function(b,a){this.setZoomOnPan(a==='zoom')},getGestures:function(){var d=this,a={},c=d.getPanGesture(),b=d.getZoomGesture();a[b]='onZoomGestureMove';a[b+'start']='onZoomGestureStart';a[b+'end']='onZoomGestureEnd';a[c]='onPanGestureMove';a[c+'start']='onPanGestureStart';a[c+'end']='onPanGestureEnd';a.doubletap='onDoubleTap';return a},onDoubleTap:function(h){var f=this,g=f.getDoubleTapReset(),b,c,d,a,e;if(g){b=f.getChart();c=b.getAxes();for(a=0,e=c.length;a<e;a++){d=c[a];d.setVisibleRange([0,1])}b.redraw()}},onPanGestureStart:function(b){var a=this,c,d,e;if(!b||!b.touches||b.touches.length<2){c=a.getChart();d=c.getInnerRect();e=c.element.getXY();b.claimGesture();c.suspendAnimation();a.startX=b.getX()-e[0]-d[0];a.startY=b.getY()-e[1]-d[1];a.oldVisibleRanges=null;a.hideLabels();c.suspendThicknessChanged();a.lockEvents(a.getPanGesture());return !1}},onPanGestureMove:function(b){var a=this,g=b.pointerType==='mouse',f=g&&a.getZoomOnPan(),e,c,d;if(a.getLocks()[a.getPanGesture()]===a){e=a.getChart();c=e.getInnerRect();d=e.element.getXY();if(f){a.transformAxesBy(a.getZoomableAxes(b),0,0,(b.getX()-d[0]-c[0])/a.startX,a.startY/(b.getY()-d[1]-c[1]))}else {a.transformAxesBy(a.getPannableAxes(b),b.getX()-d[0]-c[0]-a.startX,b.getY()-d[1]-c[1]-a.startY,1,1)}a.sync();return !1}},onPanGestureEnd:function(d){var a=this,c=a.getPanGesture(),b;if(a.getLocks()[c]===a){b=a.getChart();b.resumeThicknessChanged();a.showLabels();a.sync();a.unlockEvents(c);b.resumeAnimation();return !1}},onZoomGestureStart:function(b){if(b.touches&&b.touches.length===2){var a=this,d=a.getChart(),f=d.element.getXY(),e=d.getInnerRect(),g=f[0]+e[0],h=f[1]+e[1],c=[b.touches[0].point.x-g,b.touches[0].point.y-h,b.touches[1].point.x-g,b.touches[1].point.y-h],i=Math.max(44,Math.abs(c[2]-c[0])),j=Math.max(44,Math.abs(c[3]-c[1]));b.claimGesture();d.suspendAnimation();d.suspendThicknessChanged();a.lastZoomDistances=[i,j];a.lastPoints=c;a.oldVisibleRanges=null;a.hideLabels();a.lockEvents(a.getZoomGesture());return !1}},onZoomGestureMove:function(c){var a=this;if(a.getLocks()[a.getZoomGesture()]===a){var k=a.getChart(),d=k.getInnerRect(),m=k.element.getXY(),n=m[0]+d[0],o=m[1]+d[1],l=Math.abs,h=a.lastPoints,b=[c.touches[0].point.x-n,c.touches[0].point.y-o,c.touches[1].point.x-n,c.touches[1].point.y-o],i=Math.max(44,l(b[2]-b[0])),j=Math.max(44,l(b[3]-b[1])),g=this.lastZoomDistances||[i,j],e=i/g[0],f=j/g[1];a.transformAxesBy(a.getZoomableAxes(c),d[2]*(e-1)/2+b[2]-h[2]*e,d[3]*(f-1)/2+b[3]-h[3]*f,e,f);a.sync();return !1}},onZoomGestureEnd:function(d){var a=this,c=a.getZoomGesture(),b;if(a.getLocks()[c]===a){b=a.getChart();b.resumeThicknessChanged();a.showLabels();a.sync();a.unlockEvents(c);b.resumeAnimation();return !1}},hideLabels:function(){if(this.getHideLabelInGesture()){this.eachInteractiveAxes(function(a){a.hideLabels()})}},showLabels:function(){if(this.getHideLabelInGesture()){this.eachInteractiveAxes(function(a){a.showLabels()})}},isEventOnAxis:function(b,c){var a=c.getSurface().getRect();return a[0]<=b.getX()&&b.getX()<=a[0]+a[2]&&a[1]<=b.getY()&&b.getY()<=a[1]+a[3]},getPannableAxes:function(d){var h=this,i=h.getAxes(),b=h.getChart().getAxes(),a,g=b.length,f=[],e=!1,c;if(d){for(a=0;a<g;a++){if(this.isEventOnAxis(d,b[a])){e=!0;break}}}for(a=0;a<g;a++){c=i[b[a].getPosition()];if(c&&c.allowPan!==!1&&(!e||this.isEventOnAxis(d,b[a]))){f.push(b[a])}}return f},getZoomableAxes:function(e){var i=this,j=i.getAxes(),d=i.getChart().getAxes(),g=[],a,h=d.length,b,f=!1,c;if(e){for(a=0;a<h;a++){if(this.isEventOnAxis(e,d[a])){f=!0;break}}}for(a=0;a<h;a++){b=d[a];c=j[b.getPosition()];if(c&&c.allowZoom!==!1&&(!f||this.isEventOnAxis(e,b))){g.push(b)}}return g},eachInteractiveAxes:function(e){var c=this,d=c.getAxes(),b=c.getChart().getAxes(),a;for(a=0;a<b.length;a++){if(d[b[a].getPosition()]){if(!1===e.call(this,b[a])){return}}}},transformAxesBy:function(c,g,h,j,k){var i=this.getChart().getInnerRect(),f=this.getAxes(),b=this.oldVisibleRanges,e=!1,d,a;if(!b){this.oldVisibleRanges=b={};this.eachInteractiveAxes(function(a){b[a.getId()]=a.getVisibleRange()})}if(!i){return}for(a=0;a<c.length;a++){d=f[c[a].getPosition()];e=this.transformAxisBy(c[a],b[c[a].getId()],g,h,j,k,this.minZoom||d.minZoom,this.maxZoom||d.maxZoom)||e}return e},transformAxisBy:function(c,b,p,q,r,s,o,n){var i=this,a=b[1]-b[0],d=c.getVisibleRange(),m=o||i.getMinZoom()||c.config.minZoom,j=n||i.getMaxZoom()||c.config.maxZoom,g=i.getChart().getInnerRect(),l,k,e,h,f;if(!g){return}e=c.isSide();f=e?g[3]:g[2];h=e?-q:p;a/=e?s:r;if(a<0){a=-a}if(a*m>1){a=1}if(a*j<1){a=1/j}l=b[0];k=b[1];d=d[1]-d[0];if(a===d&&d===1){return}c.setVisibleRange([(b[0]+b[1]-a)*0.5-h/f*a,(b[0]+b[1]+a)*0.5-h/f*a]);return Math.abs(l-c.getVisibleRange()[0])>1.0E-10||Math.abs(k-c.getVisibleRange()[1])>1.0E-10},destroy:function(){this.setModeToggleButton(null);Ext.chart.interactions.Abstract.prototype.destroy.call(this)}},0,0,['interaction'],{'interaction':!0},['interaction.panzoom'],0,[Ext.chart.interactions,'PanZoom'],0);Ext.cmd.derive('Ext.chart.interactions.Rotate',Ext.chart.interactions.Abstract,{type:'rotate',alternateClassName:'Ext.chart.interactions.RotatePie3D',config:{gesture:'rotate',gestures:{dragstart:'onGestureStart',drag:'onGesture',dragend:'onGestureEnd'},rotation:0},oldRotations:null,getAngle:function(e){var d=this,b=d.getChart(),c=b.getEventXY(e),a=b.getCenter();return Math.atan2(c[1]-a[1],c[0]-a[0])},onGestureStart:function(b){var a=this;b.claimGesture();a.lockEvents('drag');a.angle=a.getAngle(b);a.oldRotations={};a.getChart().suspendAnimation();a.fireEvent('rotatestart',a,a.getRotation());return !1},onGesture:function(c){var a=this,b=a.getAngle(c)-a.angle;if(a.getLocks().drag===a){a.doRotateTo(b,!0);return !1}},doRotateTo:function(l,k){var b=this,m=b.getChart(),n=m.getAxes(),j=m.getSeries(),e=b.oldRotations,d,f,h,g,c,a,i;for(a=0,i=n.length;a<i;a++){h=n[a];c=h.getId();f=e[c]||(e[c]=h.getRotation());d=l+(k?f:0);h.setRotation(d)}for(a=0,i=j.length;a<i;a++){g=j[a];c=g.getId();f=e[c]||(e[c]=g.getRotation());d=Ext.draw.Draw.degrees(l+(k?f:0));g.setRotation(d)}b.setRotation(d);b.fireEvent('rotate',b,b.getRotation());b.sync()},rotateTo:function(e,d,a){var b=this,c=b.getChart();if(!a){c.suspendAnimation()}b.doRotateTo(e,d,a);b.oldRotations={};if(!a){c.resumeAnimation()}},onGestureEnd:function(b){var a=this;if(a.getLocks().drag===a){a.onGesture(b);a.unlockEvents('drag');a.getChart().resumeAnimation();a.fireEvent('rotateend',a,a.getRotation());a.fireEvent('rotationEnd',a,a.getRotation());return !1}}},0,0,['interaction'],{'interaction':!0},['interaction.rotate','interaction.rotatePie3d'],0,[Ext.chart.interactions,'Rotate',Ext.chart.interactions,'RotatePie3D'],0);Ext.cmd.derive('Ext.chart.series.Cartesian',Ext.chart.series.Series,{config:{xField:null,yField:null,xAxis:null,yAxis:null},directions:['X','Y'],fieldCategoryX:['X'],fieldCategoryY:['Y'],applyXAxis:function(a,b){return this.getChart().getAxis(a)||b},applyYAxis:function(a,b){return this.getChart().getAxis(a)||b},updateXAxis:function(a){a.processData(this)},updateYAxis:function(a){a.processData(this)},coordinateX:function(){return this.coordinate('X',0,2)},coordinateY:function(){return this.coordinate('Y',1,2)},getItemForPoint:function(e,f){var a=this,c=a.getSprites()[0],d=a.getStore(),b;if(c&&!a.getHidden()){b=c.getNearestDataPoint(e,f)}return b?{series:a,sprite:c,category:a.getItemInstancing()?'items':'markers',index:b.index,record:d.getData().items[b.index],field:a.getYField(),distance:b.distance}:null},createSprite:function(){var c=this,a=Ext.chart.series.Series.prototype.createSprite.call(this),d=c.getChart(),b=c.getXAxis();a.setAttributes({flipXY:d.getFlipXY(),xAxis:b});if(a.setAggregator&&b&&b.getAggregator){if(b.getAggregator){a.setAggregator({strategy:b.getAggregator()})}else {a.setAggregator({})}}return a},getSprites:function(){var b=this,c=this.getChart(),a=b.sprites;if(!c){return Ext.emptyArray}if(!a.length){b.createSprite()}return a},getXRange:function(){return [this.dataRange[0],this.dataRange[2]]},getYRange:function(){return [this.dataRange[1],this.dataRange[3]]}},0,0,0,0,0,0,[Ext.chart.series,'Cartesian'],0);Ext.cmd.derive('Ext.chart.series.StackedCartesian',Ext.chart.series.Cartesian,{config:{stacked:!0,splitStacks:!0,fullStack:!1,fullStackTotal:100,hidden:[]},reversedSpriteZOrder:!0,spriteAnimationCount:0,themeColorCount:function(){var b=this,a=b.getYField();return Ext.isArray(a)?a.length:1},updateStacked:function(){this.processData()},updateSplitStacks:function(){this.processData()},coordinateY:function(){return this.coordinateStacked('Y',1,2)},coordinateStacked:function(r,w,C){var d=this,D=d.getStore(),B=D.getData().items,u=B.length,E=d['get'+r+'Axis'](),A=d.getHidden(),p=d.getSplitStacks(),t=d.getFullStack(),x=d.getFullStackTotal(),f=[0,0],y=d['fieldCategory'+r],h=[],o=[],n=[],l,z=d.getStacked(),m=d.getSprites(),s=[],i,b,a,v,q,k,j,g,c,e;if(!m.length){return}for(i=0;i<y.length;i++){g=y[i];v=d.getFields([g]);q=v.length;for(b=0;b<u;b++){h[b]=0;o[b]=0;n[b]=0}for(b=0;b<q;b++){if(!A[b]){s[b]=d.coordinateData(B,v[b],E)}}if(z&&t){k=[];if(p){j=[]}for(b=0;b<u;b++){k[b]=0;if(p){j[b]=0}for(a=0;a<q;a++){c=s[a];if(!c){continue}c=c[b];if(c>=0||!p){k[b]+=c}else if(c<0){j[b]+=c}}}}for(b=0;b<q;b++){e={};if(A[b]){e['dataStart'+g]=h;e['data'+g]=h;m[b].setAttributes(e);continue}c=s[b];if(z){l=[];for(a=0;a<u;a++){if(!c[a]){c[a]=0}if(c[a]>=0||!p){if(t&&k[a]){c[a]*=x/k[a]}h[a]=o[a];o[a]+=c[a];l[a]=o[a]}else {if(t&&j[a]){c[a]*=x/j[a]}h[a]=n[a];n[a]+=c[a];l[a]=n[a]}}e['dataStart'+g]=h;e['data'+g]=l;Ext.chart.Util.expandRange(f,h);Ext.chart.Util.expandRange(f,l)}else {e['dataStart'+g]=h;e['data'+g]=c;Ext.chart.Util.expandRange(f,c)}m[b].setAttributes(e)}}f=Ext.chart.Util.validateRange(f,d.defaultRange);d.dataRange[w]=f[0];d.dataRange[w+C]=f[1];e={};e['dataMin'+r]=f[0];e['dataMax'+r]=f[1];for(i=0;i<m.length;i++){m[i].setAttributes(e)}},getFields:function(d){var f=this,b=[],e=d.length,c,a;for(c=0;c<e;c++){a=f['get'+d[c]+'Field']();if(Ext.isArray(a)){b.push.apply(b,a)}else {b.push(a)}}return b},updateLabelOverflowPadding:function(c){var b=this,a;if(!b.isConfiguring){a=b.getLabel();if(a){a.setAttributes({labelOverflowPadding:c})}}},updateLabelData:function(){var b=this,a=b.getLabel();if(a){a.setAttributes({labelOverflowPadding:b.getLabelOverflowPadding()})}Ext.chart.series.Cartesian.prototype.updateLabelData.call(this)},getSprites:function(){var a=this,j=a.getChart(),f=a.getFields(a.fieldCategoryY),h=a.getItemInstancing(),e=a.sprites,g=a.getHidden(),d=!1,i=f.length,b,c;if(!j){return []}for(b=0;b<i;b++){c=e[b];if(!c){c=a.createSprite();c.setAttributes({zIndex:(a.reversedSpriteZOrder?-1:1)*b});c.setField(f[b]);d=!0;g.push(!1);if(h){c.getMarker('items').getTemplate().setAttributes(a.getStyleByIndex(b))}else {c.setAttributes(a.getStyleByIndex(b))}}}if(d){a.updateHidden(g)}return e},getItemForPoint:function(n,o){var a=this,h=a.getSprites(),m=a.getStore(),l=a.getHidden(),f=Infinity,j=null,d=-1,g=-1,c,e,i,b,k;for(b=0,k=h.length;b<k;b++){if(l[b]){continue}i=h[b];c=i.getNearestDataPoint(n,o);if(c){if(c.distance<f){f=c.distance;g=c.index;d=b}}}if(d>-1){e=a.getYField();j={series:a,sprite:h[d],category:a.getItemInstancing()?'items':'markers',index:g,record:m.getData().items[g],field:typeof e==='string'?e:e[d],distance:f}}return j},provideLegendInfo:function(k){var b=this,g=b.getSprites(),d=b.getTitle(),h=b.getYField(),i=b.getHidden(),j=g.length===1,f,e,a,c;for(a=0;a<g.length;a++){f=b.getStyleByIndex(a);e=f.fillStyle;if(d){if(Ext.isArray(d)){c=d[a]}else if(j){c=d}}if(!d||!c){if(Ext.isArray(h)){c=h[a]}else {c=b.getId()}}k.push({name:c,mark:(Ext.isObject(e)?e.stops&&e.stops[0].color:e)||f.strokeStyle||'black',disabled:i[a],series:b.getId(),index:a})}},onSpriteAnimationStart:function(a){this.spriteAnimationCount++;if(this.spriteAnimationCount===1){this.fireEvent('animationstart')}},onSpriteAnimationEnd:function(a){this.spriteAnimationCount--;if(this.spriteAnimationCount===0){this.fireEvent('animationend')}}},0,0,0,0,0,0,[Ext.chart.series,'StackedCartesian'],0);Ext.cmd.derive('Ext.chart.series.sprite.Series',Ext.draw.sprite.Sprite,{inheritableStatics:{def:{processors:{dataMinX:'number',dataMaxX:'number',dataMinY:'number',dataMaxY:'number',rangeX:'data',rangeY:'data',dataX:'data',dataY:'data',labels:'default',labelOverflowPadding:'number'},defaults:{dataMinX:0,dataMaxX:1,dataMinY:0,dataMaxY:1,rangeX:null,rangeY:null,dataX:null,dataY:null,labels:null,labelOverflowPadding:10},triggers:{dataX:'bbox',dataY:'bbox',dataMinX:'bbox',dataMaxX:'bbox',dataMinY:'bbox',dataMaxY:'bbox'}}},config:{store:null,series:null,field:null}},0,0,0,0,0,[['markerHolder',Ext.chart.MarkerHolder]],[Ext.chart.series.sprite,'Series'],0);Ext.cmd.derive('Ext.chart.series.sprite.Cartesian',Ext.chart.series.sprite.Series,{inheritableStatics:{def:{processors:{selectionTolerance:'number',flipXY:'bool',renderer:'default',visibleMinX:'number',visibleMinY:'number',visibleMaxX:'number',visibleMaxY:'number',innerWidth:'number',innerHeight:'number'},defaults:{selectionTolerance:20,flipXY:!1,renderer:null,transformFillStroke:!1,visibleMinX:0,visibleMinY:0,visibleMaxX:1,visibleMaxY:1,innerWidth:1,innerHeight:1},triggers:{dataX:'dataX,bbox',dataY:'dataY,bbox',visibleMinX:'panzoom',visibleMinY:'panzoom',visibleMaxX:'panzoom',visibleMaxY:'panzoom',innerWidth:'panzoom',innerHeight:'panzoom'},updaters:{dataX:function(a){this.processDataX();this.scheduleUpdater(a,'dataY',['dataY'])},dataY:function(){this.processDataY()},panzoom:function(a){var f=a.visibleMaxX-a.visibleMinX,g=a.visibleMaxY-a.visibleMinY,b=a.flipXY?a.innerHeight:a.innerWidth,d=!a.flipXY?a.innerHeight:a.innerWidth,c=this.getSurface(),e=c?c.getInherited().rtl:!1;a.scalingCenterX=0;a.scalingCenterY=0;a.scalingX=b/f;a.scalingY=d/g;a.translationX=-(a.visibleMinX*a.scalingX);a.translationY=-(a.visibleMinY*a.scalingY);if(e&&!a.flipXY){a.scalingX*=-1;a.translationX*=-1;a.translationX+=b}this.applyTransformations(!0)}}}},processDataY:Ext.emptyFn,processDataX:Ext.emptyFn,updatePlainBBox:function(b){var a=this.attr;b.x=a.dataMinX;b.y=a.dataMinY;b.width=a.dataMaxX-a.dataMinX;b.height=a.dataMaxY-a.dataMinY},binarySearch:function(d){var e=this.attr.dataX,a=0,b=e.length,c,f;if(d<=e[0]){return a}if(d>=e[b-1]){return b-1}while(a+1<b){c=a+b>>1;f=e[c];if(f===d){return c}else if(f<d){a=c}else {b=c}}return a},render:function(f,h,b){var g=this,d=g.attr,e=1,a=d.inverseMatrix.clone(),c;a.appendMatrix(f.inverseMatrix);if(d.dataX===null||d.dataX===undefined){return}if(d.dataY===null||d.dataY===undefined){return}if(a.getXX()*a.getYX()||a.getXY()*a.getYY()){Ext.Logger.warn('Cartesian Series sprite does not support rotation/sheering');return}c=a.transformList([[b[0]-e,b[3]+e],[b[0]+b[2]+e,-e]]);c=c[0].concat(c[1]);g.renderClipped(f,h,c,b)},renderClipped:Ext.emptyFn,getIndexNearPoint:function(b,c){var a=this.getNearestDataPoint(b,c);return a?a.index:-1},getNearestDataPoint:function(r,s){var d=this,h=d.attr,u=d.getSeries(),o=d.getSurface(),w=d.boundMarkers.items,t=h.matrix,i=h.dataX,v=h.dataY,n=h.selectionTolerance,e=Infinity,g=-1,p=null,f,l,m,b,a,c,j,k,q;if(w){c=i.length;if(u.reversedSpriteZOrder){a=c-1;j=-1;k=-1}else {a=0;j=c;k=1}for(;a!==j;a+=k){q=d.getMarkerBBox('items',a);b=o.inverseMatrix.transformPoint([r,s]);if(Ext.draw.Draw.isPointInBBox(b[0],b[1],q)){g=a;e=0;break}}}else {for(a=0,c=i.length;a<c;a++){b=t.transformPoint([i[a],v[a]]);b=o.matrix.transformPoint(b);l=r-b[0];m=s-b[1];f=Math.sqrt(l*l+m*m);if(n&&f>n){continue}if(f<e){e=f;g=a}}}if(g>-1){p={index:g,distance:e}}return p}},0,0,0,0,0,0,[Ext.chart.series.sprite,'Cartesian'],0);Ext.cmd.derive('Ext.chart.series.sprite.StackedCartesian',Ext.chart.series.sprite.Cartesian,{inheritableStatics:{def:{processors:{groupCount:'number',groupOffset:'number',dataStartY:'data'},defaults:{selectionTolerance:20,groupCount:1,groupOffset:0,dataStartY:null},triggers:{dataStartY:'dataY,bbox'}}}},0,0,0,0,0,0,[Ext.chart.series.sprite,'StackedCartesian'],0);Ext.cmd.derive('Ext.chart.series.sprite.Area',Ext.chart.series.sprite.StackedCartesian,{inheritableStatics:{def:{processors:{step:'bool'},defaults:{selectionTolerance:0,step:!1}}},renderClipped:function(E,b,u){var m=this,B=m.getStore(),A=m.getSeries(),e=m.attr,f=e.dataX,p=e.dataY,x=e.dataStartY,v=e.matrix,c,d,a,y,r,q,w,j=v.elements[0],h=v.elements[4],n=v.elements[3],i=v.elements[5],t=m.surfaceMatrix,g={},D=Math.min(u[0],u[2]),C=Math.max(u[0],u[2]),l=Math.max(0,this.binarySearch(D)),k=Math.min(f.length-1,this.binarySearch(C)+1),o=e.renderer,z={store:B},s;b.beginPath();q=f[l]*j+h;w=p[l]*n+i;b.moveTo(q,w);if(e.step){r=w;for(a=l;a<=k;a++){c=f[a]*j+h;d=p[a]*n+i;b.lineTo(c,r);b.lineTo(c,r=d)}}else {for(a=l;a<=k;a++){c=f[a]*j+h;d=p[a]*n+i;b.lineTo(c,d)}}if(x){if(e.step){y=f[k]*j+h;for(a=k;a>=l;a--){c=f[a]*j+h;d=x[a]*n+i;b.lineTo(y,d);b.lineTo(y=c,d)}}else {for(a=k;a>=l;a--){c=f[a]*j+h;d=x[a]*n+i;b.lineTo(c,d)}}}else {b.lineTo(f[k]*j+h,d);b.lineTo(f[k]*j+h,i);b.lineTo(q,i);b.lineTo(q,p[a]*n+i)}if(e.transformFillStroke){e.matrix.toContext(b)}b.fill();if(e.transformFillStroke){e.inverseMatrix.toContext(b)}b.beginPath();b.moveTo(q,w);if(e.step){for(a=l;a<=k;a++){c=f[a]*j+h;d=p[a]*n+i;b.lineTo(c,r);b.lineTo(c,r=d);g.translationX=t.x(c,d);g.translationY=t.y(c,d);if(o){s=Ext.callback(o,null,[m,g,z,a],0,A);Ext.apply(g,s)}m.putMarker('markers',g,a,!o)}}else {for(a=l;a<=k;a++){c=f[a]*j+h;d=p[a]*n+i;b.lineTo(c,d);g.translationX=t.x(c,d);g.translationY=t.y(c,d);if(o){s=Ext.callback(o,null,[m,g,z,a],0,A);Ext.apply(g,s)}m.putMarker('markers',g,a,!o)}}if(e.transformFillStroke){e.matrix.toContext(b)}b.stroke()}},0,0,0,0,['sprite.areaSeries'],0,[Ext.chart.series.sprite,'Area'],0);Ext.cmd.derive('Ext.chart.series.Area',Ext.chart.series.StackedCartesian,{type:'area',seriesType:'areaSeries',isArea:!0,config:{splitStacks:!1}},0,0,0,0,['series.area'],0,[Ext.chart.series,'Area'],0);Ext.cmd.derive('Ext.chart.series.Polar',Ext.chart.series.Series,{config:{rotation:0,radius:null,center:[0,0],offsetX:0,offsetY:0,showInLegend:!0,xField:null,yField:null,angleField:null,radiusField:null,xAxis:null,yAxis:null},directions:['X','Y'],fieldCategoryX:['X'],fieldCategoryY:['Y'],deprecatedConfigs:{field:'angleField',lengthField:'radiusField'},constructor:function(a){var c=this,d=c.self.getConfigurator(),e=d.configs,b;if(a){for(b in c.deprecatedConfigs){if(b in a&&!(a in e)){Ext.raise("'"+b+"' config has been deprecated. Please use the '"+c.deprecatedConfigs[b]+"' config instead.")}}}Ext.chart.series.Series.prototype.constructor.call(this,a)},getXField:function(){return this.getAngleField()},updateXField:function(a){this.setAngleField(a)},getYField:function(){return this.getRadiusField()},updateYField:function(a){this.setRadiusField(a)},applyXAxis:function(a,b){return this.getChart().getAxis(a)||b},applyYAxis:function(a,b){return this.getChart().getAxis(a)||b},getXRange:function(){return [this.dataRange[0],this.dataRange[2]]},getYRange:function(){return [this.dataRange[1],this.dataRange[3]]},themeColorCount:function(){var c=this,a=c.getStore(),b=a&&a.getCount()||0;return b},isStoreDependantColorCount:!0,getDefaultSpriteConfig:function(){return {type:this.seriesType,renderer:this.getRenderer(),centerX:0,centerY:0,rotationCenterX:0,rotationCenterY:0}},applyRotation:function(a){return Ext.draw.sprite.AttributeParser.angle(Ext.draw.Draw.rad(a))},updateRotation:function(b){var a=this.getSprites();if(a&&a[0]){a[0].setAttributes({baseRotation:b})}}},1,0,0,0,0,0,[Ext.chart.series,'Polar'],0);Ext.cmd.derive('Ext.chart.series.sprite.PieSlice',Ext.draw.sprite.Sector,{inheritableStatics:{def:{processors:{doCallout:'bool',label:'string',rotateLabels:'bool',labelOverflowPadding:'number',renderer:'default'},defaults:{doCallout:!0,rotateLabels:!0,label:'',labelOverflowPadding:10,renderer:null}}},config:{rendererData:null,rendererIndex:0,series:null},setGradientBBox:function(j,p){var k=this,a=k.attr,m=a.fillStyle&&a.fillStyle.isGradient||a.strokeStyle&&a.strokeStyle.isGradient;if(m&&!a.constrainGradients){var i=k.getMidAngle(),c=a.margin,e=a.centerX,f=a.centerY,l=a.endRho,b=a.matrix,n=b.getScaleX(),o=b.getScaleY(),h=n*l,g=o*l,d={width:h+h,height:g+g};if(c){e+=c*Math.cos(i);f+=c*Math.sin(i)}d.x=b.x(e,f)-h;d.y=b.y(e,f)-g;j.setGradientBBox(d)}else {Ext.draw.sprite.Sector.prototype.setGradientBBox.call(this,j,p)}},render:function(g,f,e){var b=this,a=b.attr,d={},c;if(a.renderer){d={type:'sector',centerX:a.centerX,centerY:a.centerY,margin:a.margin,startAngle:Math.min(a.startAngle,a.endAngle),endAngle:Math.max(a.startAngle,a.endAngle),startRho:Math.min(a.startRho,a.endRho),endRho:Math.max(a.startRho,a.endRho)};c=Ext.callback(a.renderer,null,[b,d,b.getRendererData(),b.getRendererIndex()],0,b.getSeries());b.setAttributes(c);b.useAttributes(f,e)}Ext.draw.sprite.Sector.prototype.render.call(this,g,f,e);if(a.label&&b.getMarker('labels')){b.placeLabel()}},placeLabel:function(){var c=this,a=c.attr,i=a.attributeId,s=Math.min(a.startAngle,a.endAngle),t=Math.max(a.startAngle,a.endAngle),m=(s+t)*0.5,u=a.margin,q=a.centerX,r=a.centerY,p=Math.sin(m),o=Math.cos(m),z=Math.min(a.startRho,a.endRho)+u,j=Math.max(a.startRho,a.endRho)+u,v=(z+j)*0.5,d=c.surfaceMatrix,b=c.labelCfg||(c.labelCfg={}),x=c.getMarker('labels'),g=x.getTemplate(),y=g.getHideLessThan(),h=g.getCalloutLine(),l,e,f,n,w,k;if(h){k=h.length||40}else {k=0}d.appendMatrix(a.matrix);b.text=a.label;e=q+o*v;f=r+p*v;b.x=d.x(e,f);b.y=d.y(e,f);e=q+o*j;f=r+p*j;b.calloutStartX=d.x(e,f);b.calloutStartY=d.y(e,f);e=q+o*(j+k);f=r+p*(j+k);b.calloutPlaceX=d.x(e,f);b.calloutPlaceY=d.y(e,f);if(!a.rotateLabels){b.rotationRads=0}else {switch(g.attr.orientation){case 'horizontal':b.rotationRads=m+Math.atan2(d.y(1,0)-d.y(0,0),d.x(1,0)-d.x(0,0))+Math.PI/2;break;case 'vertical':b.rotationRads=m+Math.atan2(d.y(1,0)-d.y(0,0),d.x(1,0)-d.x(0,0));break;}}b.calloutColor=h&&h.color||c.attr.fillStyle;if(h){if(h.width){b.calloutWidth=h.width}}else {b.calloutColor='none'}b.globalAlpha=a.globalAlpha*a.fillOpacity;if(g.display!=='none'){b.hidden=a.startAngle==a.endAngle}if(g.attr.renderer){w=[c.attr.label,x,b,c.getRendererData(),c.getRendererIndex()];n=Ext.callback(g.attr.renderer,null,w,0,c.getSeries());if(typeof n==='string'){b.text=n}else {Ext.apply(b,n)}}c.putMarker('labels',b,i);l=c.getMarkerBBox('labels',i,!0);if(l){if(a.doCallout&&((t-s)*j>y||a.highlighted)){if(g.attr.display==='outside'){c.putMarker('labels',{callout:1},i)}else if(g.attr.display==='inside'){c.putMarker('labels',{callout:0},i)}else {c.putMarker('labels',{callout:1-c.sliceContainsLabel(a,l)},i)}}else {c.putMarker('labels',{globalAlpha:c.sliceContainsLabel(a,l)},i)}}},sliceContainsLabel:function(a,d){var b=a.labelOverflowPadding,f=(a.endRho+a.startRho)/2,g=f+(d.width+b)/2,c=f-(d.width+b)/2,e,h,i,j;if(b<0){return 1}if(d.width+b*2>a.endRho-a.startRho){return 0}h=Math.sqrt(a.endRho*a.endRho-g*g);i=Math.sqrt(a.endRho*a.endRho-c*c);e=Math.abs(a.endAngle-a.startAngle);j=e>Math.PI/2?c:Math.abs(Math.tan(e/2))*c;if(d.height+b*2>Math.min(h,i,j)*2){return 0}return 1}},0,0,0,0,['sprite.pieslice'],[['markerHolder',Ext.chart.MarkerHolder]],[Ext.chart.series.sprite,'PieSlice'],0);Ext.cmd.derive('Ext.chart.series.Pie',Ext.chart.series.Polar,{type:'pie',seriesType:'pieslice',isPie:!0,config:{donut:0,rotation:0,clockwise:!0,totalAngle:2*Math.PI,hidden:[],radiusFactor:100,highlightCfg:{margin:20},style:{}},directions:['X'],applyLabel:function(a,b){if(Ext.isObject(a)&&!Ext.isString(a.orientation)){Ext.apply(a=Ext.Object.chain(a),{orientation:'vertical'})}return a},updateLabelData:function(){var d=this,k=d.getStore(),h=k.getData().items,e=d.getSprites(),i=d.getLabel(),g=i&&i.getTemplate().getField(),j=d.getHidden(),a,c,f,b;if(e.length&&g){f=[];for(a=0,c=h.length;a<c;a++){f.push(h[a].get(g))}for(a=0,c=e.length;a<c;a++){b=e[a];b.setAttributes({label:f[a]});b.putMarker('labels',{hidden:j[a]},b.attr.attributeId)}}},coordinateX:function(){var d=this,t=d.getStore(),i=t.getData().items,e=i.length,s=d.getXField(),p=d.getYField(),q,g=0,l,m,k=0,f=d.getHidden(),o=[],a,n=0,h=d.getTotalAngle(),r=d.getClockwise()?1:-1,b=d.getSprites(),c,j;if(!b){return}for(a=0;a<e;a++){q=Math.abs(Number(i[a].get(s)))||0;m=p&&Math.abs(Number(i[a].get(p)))||0;if(!f[a]){g+=q;if(m>k){k=m}}o[a]=g;if(a>=f.length){f[a]=!1}}f.length=e;d.maxY=k;if(g!==0){l=h/g}for(a=0;a<e;a++){c=b[a];if(c){c.setAttributes({startAngle:n,endAngle:n=l?r*o[a]*l:0,globalAlpha:1})}}if(e<b.length){for(a=e;a<b.length;a++){c=b[a];j=c.getMarker('labels');if(j){j.clear(c.getId());c.releaseMarker('labels')}c.destroy()}b.length=e}for(a=e;a<b.length;a++){b[a].setAttributes({startAngle:h,endAngle:h,globalAlpha:0})}},updateCenter:function(a){this.setStyle({translationX:a[0]+this.getOffsetX(),translationY:a[1]+this.getOffsetY()});this.doUpdateStyles()},updateRadius:function(a){this.setStyle({startRho:a*this.getDonut()*0.01,endRho:a*this.getRadiusFactor()*0.01});this.doUpdateStyles()},getStyleByIndex:function(h){var a=this,j=a.getStore(),g=j.getAt(h),f=a.getYField(),e=a.getRadius(),c={},b,d,i;if(g){i=f&&Math.abs(Number(g.get(f)))||0;b=e*a.getDonut()*0.01;d=e*a.getRadiusFactor()*0.01;c=Ext.chart.series.Polar.prototype.getStyleByIndex.call(this,h);c.startRho=b;c.endRho=a.maxY?b+(d-b)*i/a.maxY:d}return c},updateDonut:function(b){var a=this.getRadius();this.setStyle({startRho:a*b*0.01,endRho:a*this.getRadiusFactor()*0.01});this.doUpdateStyles()},rotationOffset:-Math.PI/2,updateRotation:function(a){this.setStyle({rotationRads:a+this.rotationOffset});this.doUpdateStyles()},updateTotalAngle:function(a){this.processData()},getSprites:function(){var a=this,f=a.getChart(),e=a.getXField(),p=a.getYField(),g=a.getStore();if(!f||!g){return Ext.emptyArray}a.getColors();a.getSubStyle();var j=g.getData().items,o=j.length,m=a.getAnimation()||f&&f.getAnimation(),n=a.sprites,b,h=!1,l=0,k=a.getLabel(),d=k&&k.getTemplate(),c,i;i={store:g,field:e,angleField:e,radiusField:p,series:a};for(c=0;c<o;c++){b=n[c];if(!b&&j[c].get(e)){b=a.createSprite();if(a.getHighlight()){b.config.highlight=a.getHighlight();b.addModifier('highlight',!0)}if(d&&d.getField()){d.setAttributes({labelOverflowPadding:a.getLabelOverflowPadding()});d.getAnimation().setCustomDurations({'callout':200})}b.setAttributes(a.getStyleByIndex(c));b.setRendererData(i);h=!0}if(b){b.setRendererIndex(l++);b.setAnimation(m)}}if(h){a.doUpdateStyles()}return a.sprites},betweenAngle:function(d,c,a){var b=Math.PI*2,e=this.rotationOffset;if(c===a){return !1}if(!this.getClockwise()){d*=-1;c*=-1;a*=-1;c-=e;a-=e}else {c+=e;a+=e}d-=c;a-=c;d%=b;a%=b;d+=b;a+=b;d%=b;a%=b;return d<a||Ext.Number.isEqual(a,0,1.0E-8)},getItemByIndex:function(b,a){a=a||'sprites';return Ext.chart.series.Polar.prototype.getItemByIndex.call(this,b,a)},getItemForAngle:function(b){var c=this,d=c.getSprites(),f,e,h,g,a,i;b%=Math.PI*2;while(b<0){b+=Math.PI*2}if(d){e=c.getStore();h=e.getData().items;g=c.getHidden();for(a=0,i=e.getCount();a<i;a++){if(!g[a]){f=d[a].attr;if(f.startAngle<=b&&f.endAngle>=b){return {series:c,sprite:d[a],index:a,record:h[a],field:c.getXField()}}}}}return null},getItemForPoint:function(t,u){var a=this,h=a.getSprites(),i=a.getCenter(),o=a.getOffsetX(),p=a.getOffsetY(),e=t-i[0]+o,f=u-i[1]+p,s=a.getStore(),r=a.getDonut(),g=s.getData().items,n=Math.atan2(f,e)-a.getRotation(),j=Math.sqrt(e*e+f*f),m=a.getRadius()*r*0.01,q=a.getHidden(),k=null,b,l,c,d;for(b=0,l=g.length;b<l;b++){if(q[b]){continue}d=h[b];if(!d){break}c=d.attr;if(j>=m+c.margin&&j<=c.endRho+c.margin&&a.betweenAngle(n,c.startAngle,c.endAngle)){k={series:a,sprite:h[b],index:b,record:g[b],field:a.getXField()};break}}return k},provideLegendInfo:function(j){var c=this,i=c.getStore(),e,d,h,g,a,f,b;if(i){e=i.getData().items;d=c.getLabel().getTemplate().getField();h=c.getXField();g=c.getHidden();for(a=0;a<e.length;a++){f=c.getStyleByIndex(a);b=f.fillStyle;if(Ext.isObject(b)){b=b.stops&&b.stops[0].color}j.push({name:d?String(e[a].get(d)):h+' '+a,mark:b||f.strokeStyle||'black',disabled:g[a],series:c.getId(),index:a})}}}},0,0,0,0,['series.pie'],0,[Ext.chart.series,'Pie'],0);Ext.cmd.derive('Ext.chart.series.sprite.Scatter',Ext.chart.series.sprite.Cartesian,{renderClipped:function(v,B,A,a){if(this.cleanRedraw){return}var e=this,f=e.attr,t=f.dataX,x=f.dataY,n=f.labels,w=e.getSeries(),u=n&&e.getMarker('labels'),k=e.surfaceMatrix,l=e.attr.matrix,h=l.getXX(),i=l.getYY(),y=l.getDX(),z=l.getDY(),g={},r,s,j=v.getInherited().rtl&&!f.flipXY?-1:1,p,o,q,m,c,d,b;if(f.flipXY){p=a[1]-h*j;o=a[1]+a[3]+h*j;q=a[0]-i;m=a[0]+a[2]+i}else {p=a[0]-h*j;o=a[0]+a[2]+h*j;q=a[1]-i;m=a[1]+a[3]+i}for(b=0;b<t.length;b++){c=t[b];d=x[b];c=c*h+y;d=d*i+z;if(p<=c&&c<=o&&q<=d&&d<=m){if(f.renderer){g={type:'markers',translationX:k.x(c,d),translationY:k.y(c,d)};s=[e,g,{store:e.getStore()},b];r=Ext.callback(f.renderer,null,s,0,w);g=Ext.apply(g,r)}else {g.translationX=k.x(c,d);g.translationY=k.y(c,d)}e.putMarker('markers',g,b,!f.renderer);if(u&&n[b]){e.drawLabel(n[b],c,d,b,a)}}}},drawLabel:function(p,r,k,c,s){var b=this,o=b.attr,n=b.getMarker('labels'),j=n.getTemplate(),a=b.labelCfg||(b.labelCfg={}),l=b.surfaceMatrix,h,d,e=o.labelOverflowPadding,q=o.flipXY,i,f,g,m;a.text=p;f=b.getMarkerBBox('labels',c,!0);if(!f){b.putMarker('labels',a,c);f=b.getMarkerBBox('labels',c,!0)}if(q){a.rotationRads=Math.PI*0.5}else {a.rotationRads=0}i=f.height/2;h=r;switch(j.attr.display){case 'under':d=k-i-e;break;case 'rotate':h+=e;d=k-e;a.rotationRads=-Math.PI/4;break;default:d=k+i+e;}a.x=l.x(h,d);a.y=l.y(h,d);if(j.attr.renderer){m=[p,n,a,{store:b.getStore()},c];g=Ext.callback(j.attr.renderer,null,m,0,b.getSeries());if(typeof g==='string'){a.text=g}else {Ext.apply(a,g)}}b.putMarker('labels',a,c)}},0,0,0,0,['sprite.scatterSeries'],0,[Ext.chart.series.sprite,'Scatter'],0);Ext.cmd.derive('Ext.chart.series.Scatter',Ext.chart.series.Cartesian,{type:'scatter',seriesType:'scatterSeries',config:{itemInstancing:null,marker:!0},themeMarkerCount:function(){return 1},provideLegendInfo:function(d){var a=this,c=a.getMarkerStyleByIndex(0),b=c.fillStyle;d.push({name:a.getTitle()||a.getYField()||a.getId(),mark:(Ext.isObject(b)?b.stops&&b.stops[0].color:b)||c.strokeStyle||'black',disabled:a.getHidden(),series:a.getId(),index:0})}},0,0,0,0,['series.scatter'],0,[Ext.chart.series,'Scatter'],0);Ext.cmd.derive('Ext.exporter.data.Base',Ext.Base,{config:{idPrefix:'id',id:null,autoGenerateId:!0,autoGenerateKey:{$value:!1,merge:function(a,b){return a?Ext.concat(a,b||null):!1}}},internalCols:null,clearPropertiesOnDestroy:!1,constructor:function(b){var a=this;a.internalCols=[];a.initConfig(b);if(!a._id){a.setId(null)}return a.callParent([b])},destroy:function(){this.destroyCollections();this.callParent();this.internalCols=null},destroyCollections:function(){var d=this.internalCols,f=d.length,b,c,e,a;for(b=0;b<f;b++){a=d[b];e=a.length;for(c=0;c<e;c++){a.items[c].destroy()}a.destroy()}d.length=0},clearCollections:function(a){var c,d,b;a=a?Ext.Array.from(a):this.internalCols;d=a.length;for(c=d-1;c>=0;c--){b=a[c];if(b){b.destroy()}Ext.Array.remove(this.internalCols,b)}},applyId:function(b){var a;if(!b&&this._autoGenerateId){a=this._idPrefix+ ++Ext.idSeed}else {a=b}return a},checkCollection:function(c,a,d){var b;if(c){b=this.constructCollection(d);b.add(c)}if(a){Ext.Array.remove(this.internalCols,a);Ext.destroy(a.items,a)}return b},constructCollection:function(d){var c=Ext.ClassManager.get(d),b={decoder:this.getCollectionDecoder(c)},a;if(typeof c.prototype.getKey==='function'){b.keyFn=this.getCollectionItemKey}a=new Ext.util.Collection(b);this.internalCols.push(a);return a},getCollectionDecoder:function(a){return function(b){return b&&b.isInstance?b:new a(b||{})}},getCollectionItemKey:function(a){return a.getKey?a.getKey():a._id||a.getId()},getKey:function(){var a=this.getAutoGenerateKey(),c='',e=this.getConfig(),d,b;if(!Ext.isArray(a)||!a.length){return this.getId()}d=a.length;for(b=0;b<d;b++){c+=this.serializeKeyValue(e[a[b]])}return c},serializeKeyValue:function(a){var c='',d,e,b;if(a===null){c='_'}else if(Ext.isDate(a)){c=a.getTime()}else if(Ext.isArray(a)){e=a.length;for(b=0;b<e;b++){c+=this.serializeKeyValue(a[b])}}else if(typeof a==='object'){if(a.isInstance){c=a.getKey?a.getKey():'_'}else {d=Ext.Object.getAllKeys(a);d=Ext.Array.sort(d);e=d.length;for(b=0;b<e;b++){c+=this.serializeKeyValue(a[d[b]])}}}else {c=a}return c}},1,0,0,0,0,0,[Ext.exporter.data,'Base'],0);Ext.cmd.derive('Ext.exporter.data.Cell',Ext.exporter.data.Base,{config:{style:null,value:null}},0,0,0,0,0,0,[Ext.exporter.data,'Cell'],0);Ext.cmd.derive('Ext.exporter.data.Row',Ext.exporter.data.Base,{config:{cells:null},destroy:function(){this.clearCollections()},applyCells:function(b,a){return this.checkCollection(b,a,'Ext.exporter.data.Cell')},addCell:function(a){if(!this._cells){this.setCells([])}return this._cells.add(a||{})},getCell:function(a){return this._cells?this._cells.get(a):null}},0,0,0,0,0,0,[Ext.exporter.data,'Row'],0);Ext.cmd.derive('Ext.exporter.data.Group',Ext.exporter.data.Base,{config:{text:null,rows:null,summaries:null,summary:null,groups:null},applyRows:function(b,a){return this.checkCollection(b,a,'Ext.exporter.data.Row')},addRow:function(a){if(!this._rows){this.setRows([])}return this._rows.add(a||{})},getRow:function(a){return this._rows?this._rows.get(a):null},applyGroups:function(b,a){return this.checkCollection(b,a,'Ext.exporter.data.Group')},addGroup:function(a){if(!this._groups){this.setGroups([])}return this._groups.add(a||{})},getGroup:function(a){return this._groups?this._groups.get(a):null},applySummaries:function(b,a){return this.checkCollection(b,a,'Ext.exporter.data.Row')},applySummary:function(a){if(a){this.addSummary(a)}return null},addSummary:function(a){if(!this._summaries){this.setSummaries([])}return this._summaries.add(a||{})},getSummary:function(a){return this._summaries?this._summaries.get(a):null}},0,0,0,0,0,0,[Ext.exporter.data,'Group'],0);Ext.cmd.derive('Ext.exporter.data.Column',Ext.exporter.data.Base,{config:{table:null,text:null,style:null,width:null,mergeAcross:null,mergeDown:null,level:0,index:null,columns:null},destroy:function(){this.setTable(null);Ext.exporter.data.Base.prototype.destroy.call(this)},updateTable:function(d){var b=this.getColumns(),a,c;if(b){c=b.length;for(a=0;a<c;a++){b.getAt(a).setTable(d)}}},applyColumns:function(b,a){return this.checkCollection(b,a,'Ext.exporter.data.Column')},updateColumns:function(c,b){var a=this;if(b){b.un({add:a.onColumnAdd,remove:a.onColumnRemove,scope:a});Ext.destroy(b.items,b)}if(c){c.on({add:a.onColumnAdd,remove:a.onColumnRemove,scope:a});a.onColumnAdd(c,{items:c.getRange()})}},sync:function(c,h){var a=this,g=a.getColumnCount()-1,d=a.getColumns(),b,f,e;a.setLevel(c);if(d){f=d.length;for(b=0;b<f;b++){d.items[b].sync(c+1,h)}a.setMergeDown(null)}else {e=h-c;a.setMergeDown(e>0?e:null)}a.setMergeAcross(g>0?g:null)},onColumnAdd:function(g,e){var c=e.items,f=c.length,b=this.getTable(),a,d;for(a=0;a<f;a++){d=c[a];d.setTable(b)}if(b){b.syncColumns()}},onColumnRemove:function(c,b){var a=this.getTable();Ext.destroy(b.items);if(a){a.syncColumns()}},getColumnCount:function(a){var d=0,c,b;if(!a){a=this.getColumns();if(!a){return 1}}for(b=0;b<a.length;b++){c=a.getAt(b).getColumns();if(!c){d+=1}else {d+=this.getColumnCount(c)}}return d},addColumn:function(a){if(!this.getColumns()){this.setColumns([])}return this.getColumns().add(a||{})},getColumn:function(a){return this.getColumns().get(a)}},0,0,0,0,0,0,[Ext.exporter.data,'Column'],0);Ext.cmd.derive('Ext.exporter.data.Table',Ext.exporter.data.Group,{isDataTable:!0,config:{columns:null},autoGenerateId:!1,applyColumns:function(b,a){return this.checkCollection(b,a,'Ext.exporter.data.Column')},updateColumns:function(c,b){var a=this;if(b){b.un({add:a.onColumnAdd,remove:a.onColumnRemove,scope:a});Ext.destroy(b.items,b)}if(c){c.on({add:a.onColumnAdd,remove:a.onColumnRemove,scope:a});a.onColumnAdd(c,{items:c.getRange()});a.syncColumns()}},syncColumns:function(){var d=this.getColumns(),j=this.getColDepth(d,-1),h={},a,b,e,k,i,c,g,f;if(!d){return}e=d.length;for(a=0;a<e;a++){d.items[a].sync(0,j)}this.getColumnLevels(d,j,h);i=Ext.Object.getKeys(h);e=i.length;for(a=0;a<e;a++){c=h[i[a]];k=c.length;for(b=0;b<k;b++){if(b===0){f=1}else if(c[b-1]){g=c[b-1].getConfig();f+=g.mergeAcross?g.mergeAcross+1:1}else {f++}if(c[b]){c[b].setIndex(f)}}}},getLeveledColumns:function(){var b=this.getColumns(),c=this.getColDepth(b,-1),a={};this.getColumnLevels(b,c,a,!0);return a},getBottomColumns:function(){var b=this.getLeveledColumns(),a,c;a=Ext.Object.getKeys(b);c=a.length;return c?b[a[a.length-1]]:[]},getColumnLevels:function(f,j,b,i){var c,d,e,k,a,g,h;if(!f){return}k=f.length;for(d=0;d<k;d++){c=f.items[d];g=c.getLevel();h=c.getColumns();a='s'+g;b[a]=b[a]||[];b[a].push(c);if(!h){for(e=g+1;e<=j;e++){a='s'+e;b[a]=b[a]||[];b[a].push(i?c:null)}}else {this.getColumnLevels(h,j,b,i)}}},onColumnAdd:function(f,d){var b=d.items,e=b.length,a,c;for(a=0;a<e;a++){c=b[a];c.setTable(this)}this.syncColumns()},onColumnRemove:function(b,a){Ext.destroy(a.items);this.syncColumns()},getColumnCount:function(){var b=this._columns,d=0,a,c;if(b){c=b.length;for(a=0;a<c;a++){d+=b.items[a].getColumnCount()}}return d},getColDepth:function(b,d){var c=0,a,e;if(!b){return d}e=b.length;for(a=0;a<e;a++){c=Math.max(c,this.getColDepth(b.items[a]._columns,d+1))}return c},addColumn:function(a){if(!this._columns){this.setColumns([])}return this._columns.add(a||{})},getColumn:function(a){return this._columns?this._columns.get(a):null}},0,0,0,0,0,0,[Ext.exporter.data,'Table'],0);Ext.cmd.derive('Ext.exporter.file.Base',Ext.exporter.data.Base,{tpl:null,destroy:function(){this.tpl=null;Ext.exporter.data.Base.prototype.destroy.call(this)},render:function(){var a=this,b=a.processRenderData(a.getRenderData());return a.tpl?Ext.XTemplate.getTpl(a,'tpl').apply(b):''},processRenderData:function(a){return a},getRenderData:function(){var a=this.getConfig();a.self=this;return a}},0,0,0,0,0,0,[Ext.exporter.file,'Base'],0);Ext.cmd.derive('Ext.exporter.file.Style',Ext.exporter.file.Base,{config:{name:null,alignment:null,font:null,interior:null,format:null,borders:null,checks:{alignment:{horizontal:['Automatic','Left','Center','Right','Justify'],readingOrder:['LeftToRight','RightToLeft','Context'],vertical:['Automatic','Top','Bottom','Center']},font:{bold:[!0,!1],italic:[!0,!1],strikeThrough:[!0,!1],underline:['None','Single']},border:{position:['Left','Top','Right','Bottom'],lineStyle:['None','Continuous','Dash','Dot']},interior:{pattern:['None','Solid']}}},datePatterns:{'General Date':'Y-m-d H:i:s','Long Date':'l, F d, Y','Medium Date':'Y-m-d','Short Date':'n/j/Y','Long Time':'g:i:s A','Medium Time':'H:i:s','Short Time':'g:i A'},numberPatterns:{'General Number':'0','Fixed':'0.00','Standard':'0.00'},booleanPatterns:{'Yes/No':['Yes','No'],'True/False':['True','False'],'On/Off':['On','Off']},isStyle:!0,autoGenerateKey:['alignment','font','interior','format','borders'],constructor:function(a){Ext.exporter.file.Base.prototype.constructor.call(this,this.uncapitalizeKeys(a))},uncapitalizeKeys:function(b){var c=b,e,d,a,f;if(Ext.isObject(b)){c={};e=Ext.Object.getAllKeys(b);d=e.length;for(a=0;a<d;a++){f=e[a];c[Ext.String.uncapitalize(f)]=this.uncapitalizeKeys(b[f])}}else if(Ext.isArray(b)){c=[];d=b.length;for(a=0;a<d;a++){c.push(this.uncapitalizeKeys(b[a]))}}return c},destroy:function(){var a=this;a.setAlignment(null);a.setFont(null);a.setInterior(null);a.setBorders(null);a.setChecks(null);Ext.exporter.file.Base.prototype.destroy.call(this)},updateAlignment:function(a){this.checkAttribute(a,'alignment')},updateFont:function(a){this.checkAttribute(a,'font')},updateInterior:function(a){this.checkAttribute(a,'interior')},applyBorders:function(a,b){if(!a){return a}a=Ext.Array.from(a);return a},updateBorders:function(a){this.checkAttribute(a,'border')},checkAttribute:function(k,i){var f=this.getChecks(),g,h,m,d,e,c,a,b,l,j;if(!k||!f||!f[i]){return}g=Ext.Array.from(k);l=g.length;for(d=0;d<l;d++){b=g[d];h=Ext.Object.getKeys(b||{});m=h.length;for(e=0;e<m;e++){a=h[e];c=f[i][a];if(c&&b[a]){j=Ext.isArray(c)?Ext.Array.indexOf(c,b[a])>-1:c===b[a];if(!j){delete b[a]}}}}},getFormattedValue:function(b){var c=this,a=c.getFormat(),e=b,d=Ext.util.Format;if(!a||a==='General'||Ext.isEmpty(b)){return e}if(a==='Currency'){return d.currency(b)}else if(a==='Euro Currency'){return d.currency(b,'')}else if(a==='Percent'){return d.number(b*100,'0.00')+'%'}else if(a==='Scientific'){return Number(b).toExponential()}else if(c.datePatterns[a]){return d.date(b,c.datePatterns[a])}else if(c.numberPatterns[a]){return d.number(b,c.numberPatterns[a])}else if(c.booleanPatterns[a]){return b?c.booleanPatterns[a][0]:c.booleanPatterns[a][1]}else if(Ext.isFunction(a)){return a(b)}return d.number(b,a)}},1,0,0,0,0,0,[Ext.exporter.file,'Style'],0);Ext.define('App.overrides.exporter.file.Style',{override:'Ext.exporter.file.Style',config:{name:null,alignment:null,font:null,interior:null,format:null,borders:null,checks:{alignment:{horizontal:['Automatic','Left','Center','Right','Justify'],readingOrder:['LeftToRight','RightToLeft','Context'],vertical:['Automatic','Top','Bottom','Center']},font:{bold:[!0,!1],italic:[!0,!1],strikeThrough:[!0,!1],underline:['None','Single']},border:{position:['Left','Top','Right','Bottom'],lineStyle:['None','Continuous','Dash','Dot']},interior:{pattern:['None','Solid']}}},datePatterns:{'General Date':'d/m/Y H:i:s','Long Date':'l, F d, Y','Medium Date':'d/m/Y','Short Date':'n/j/Y','Long Time':'g:i:s A','Medium Time':'H:i:s','Short Time':'g:i A'},numberPatterns:{'General Number':'0','Fixed':'0.00','Standard':'0.00'},booleanPatterns:{'Yes/No':['Oui','Non'],'True/False':['Oui','Non'],'On/Off':['Oui','Non']},isStyle:!0,autoGenerateKey:['alignment','font','interior','format','borders'],constructor:function(a){(arguments.callee.$previous||Ext.exporter.file.Base.prototype.constructor).call(this,this.uncapitalizeKeys(a))},uncapitalizeKeys:function(b){var c=b,e,d,a,f,g;if(Ext.isObject(b)){c={};e=Ext.Object.getAllKeys(b);d=e.length;for(a=0;a<d;a++){f=e[a];c[Ext.String.uncapitalize(f)]=this.uncapitalizeKeys(b[f])}}else if(Ext.isArray(b)){c=[];d=b.length;for(a=0;a<d;a++){c.push(this.uncapitalizeKeys(b[a]))}}return c},destroy:function(){var a=this;a.setAlignment(null);a.setFont(null);a.setInterior(null);a.setBorders(null);a.setChecks(null);(arguments.callee.$previous||Ext.exporter.file.Base.prototype.destroy).call(this)},updateAlignment:function(a){this.checkAttribute(a,'alignment')},updateFont:function(a){this.checkAttribute(a,'font')},updateInterior:function(a){this.checkAttribute(a,'interior')},applyBorders:function(a,b){if(!a){return a}a=Ext.Array.from(a);return a},updateBorders:function(a){this.checkAttribute(a,'border')},checkAttribute:function(k,i){var f=this.getChecks(),g,h,m,d,e,c,a,b,l,j;if(!k||!f||!f[i]){return}g=Ext.Array.from(k);l=g.length;for(d=0;d<l;d++){b=g[d];h=Ext.Object.getKeys(b||{});m=h.length;for(e=0;e<m;e++){a=h[e];if(c=f[i][a]&&b[a]){j=Ext.isArray(c)?Ext.Array.indexOf(c,b[a]):c===b[a];if(!j){delete b[a]}}}}},getFormattedValue:function(b){var c=this,a=c.getFormat(),e=b,d=Ext.util.Format;if(!a||a==='General'||Ext.isEmpty(b)){return e}if(a==='Currency'){return d.currency(b)}else if(a==='Euro Currency'){return d.currency(b,'')}else if(a==='Dirham'){return d.currency(b,'DH')}else if(a==='Percent'){return d.number(b*100,'0.00')+'%'}else if(a==='Scientific'){return Number(b).toExponential()}else if(c.datePatterns[a]){return d.date(b,c.datePatterns[a])}else if(c.numberPatterns[a]){return d.number(b,c.numberPatterns[a])}else if(c.booleanPatterns[a]){return b?c.booleanPatterns[a][0]:c.booleanPatterns[a][1]}else if(Ext.isFunction(a)){return a(b)}return d.number(b,a)}});Ext.cmd.derive('Ext.exporter.File',Ext.Base,{singleton:!0,textPopupWait:'You may close this window after the file is downloaded!',textPopupBlocker:'The file was not saved because pop-up blocker might be enabled! Please check your browser settings.',url:function(){return 'https://exporter.sencha.com'}(),forceDownload:!1,requiresPopup:function(){var a=Ext.platformTags;return this.forceDownload||Ext.isSafari||a.phone||a.tablet},initializePopup:function(d){var a=this,c=a.requiresPopup(),b;if(!c&&d){c=!a.saveBlobAs}a.popup=null;if(c){b=window.open('','_blank');if(b){a.popup=b;b.document.write(Ext.dom.Helper.markup({tag:'html',children:[{tag:'head'},{tag:'body',children:[{tag:'p',html:a.textPopupWait}]}]}))}}},saveBinaryAs:function(f,c,e,d){var a=this,b=a.downloadBinaryAs;if(!a.requiresPopup()&&a.saveBlobAs){b=a.saveBlobAs}return b.call(a,f,c,e,d)},downloadBinaryAs:function(g,d,f,e){var a=new Ext.Deferred(),c,b;c=Ext.dom.Helper.markup({tag:'html',children:[{tag:'head'},{tag:'body',children:[{tag:'form',method:'POST',action:this.url,children:[{tag:'input',type:'hidden',name:'content',value:Ext.util.Base64.encode(g)},{tag:'input',type:'hidden',name:'filename',value:d},{tag:'input',type:'hidden',name:'charset',value:f||'UTF-8'},{tag:'input',type:'hidden',name:'mime',value:e||'application/octet-stream'}]},{tag:'script',type:'text/javascript',children:'document.getElementsByTagName("form")[0].submit();'}]}]});b=this.popup||window.open('','_blank');if(b){b.document.write(c);a.resolve()}else {a.reject(this.textPopupBlocker)}this.popup=null;return a.promise}},0,0,0,0,0,0,[Ext.exporter,'File'],function(c){var a=window.navigator,b=window.saveAs||function(b){if(typeof a!=='undefined'&&/MSIE [1-9]\./.test(a.userAgent)){return}var u=b.document,i=function(){return b.URL||b.webkitURL||b},e=u.createElementNS('http://www.w3.org/1999/xhtml','a'),q='download' in e,t=function(d){var a=new MouseEvent('click');d.dispatchEvent(a)},m=/Version\/[\d.]+.*Safari/.test(a.userAgent),g=b.webkitRequestFileSystem,o=b.requestFileSystem||g||b.mozRequestFileSystem,r=function(a){(b.setImmediate||b.setTimeout)(function(){throw a},0)},f='application/octet-stream',k=0,p=1000*40,j=function(a){var d=function(){if(typeof a==='string'){i().revokeObjectURL(a)}else {a.remove()}};setTimeout(d,p)},h=function(d,a,g){var f,e;a=[].concat(a);f=a.length;while(f--){e=d['on'+a[f]];if(typeof e==='function'){try{e.call(d,g||d)}catch(v){r(v)}}}},n=function(a){if(/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)){return new Blob(['\ufeff',a],{type:a.type})}return a},l=function(d,r,A){if(!A){d=n(d)}var a=this,w=d.type,y=!1,l,s,v=function(){h(a,'writestart progress write writeend'.split(' '))},p=function(){var e,f;if(s&&m&&typeof FileReader!=='undefined'){e=new FileReader();e.onloadend=function(){var f=e.result;s.location.href='data:attachment/file'+f.slice(f.search(/[,;]/));a.readyState=a.DONE;v()};e.readAsDataURL(d);a.readyState=a.INIT;return}if(y||!l){l=i().createObjectURL(d)}if(s){s.location.href=l}else {f=b.open(l,'_blank');if(f===undefined&&m){b.location.href=l}}a.readyState=a.DONE;v();j(l)},u=function(e){return function(){if(a.readyState!==a.DONE){return e.apply(this,arguments)}}},x={create:!0,exclusive:!1},z;a.readyState=a.INIT;if(!r){r='download'}if(q){l=i().createObjectURL(d);setTimeout(function(){e.href=l;e.download=r;t(e);v();j(l);a.readyState=a.DONE});return}if(b.chrome&&w&&w!==f){z=d.slice||d.webkitSlice;d=z.call(d,0,d.size,f);y=!0}if(g&&r!=='download'){r+='.download'}if(w===f||g){s=b}if(!o){p();return}k+=d.size;o(b.TEMPORARY,k,u(function(e){e.root.getDirectory('saved',x,u(function(g){var f=function(){g.getFile(r,x,u(function(f){f.createWriter(u(function(i){i.onwriteend=function(k){s.location.href=f.toURL();a.readyState=a.DONE;h(a,'writeend',k);j(f)};i.onerror=function(){var a=i.error;if(a.code!==a.ABORT_ERR){p()}};['writestart','progress','write','abort'].forEach(function(h){i['on'+h]=a['on'+h]});i.write(d);a.abort=function(){i.abort();a.readyState=a.DONE};a.readyState=a.WRITING}),p)}),p)};g.getFile(r,{create:!1},u(function(a){a.remove();f()}),u(function(a){if(a.code===a.NOT_FOUND_ERR){f()}else {p()}}))}),p)}),p)},d=l.prototype,s=function(d,e,a){return new l(d,e,a)};if(typeof a!=='undefined'&&a.msSaveOrOpenBlob){return function(d,f,e){if(!e){d=n(d)}return a.msSaveOrOpenBlob(d,f||'download')}}d.abort=function(){var a=this;a.readyState=a.DONE;h(a,'abort')};d.readyState=d.INIT=0;d.WRITING=1;d.DONE=2;d.error=d.onwritestart=d.onprogress=d.onwrite=d.onabort=d.onerror=d.onwriteend=null;return s}(typeof self!=='undefined'&&self||typeof window!=='undefined'&&window||this.content);if(typeof module!=='undefined'&&module.exports){module.exports.saveAs=b}else if(typeof define!=='undefined'&&define!==null&&define.amd!==null){define([],function(){return b})}var d=window.saveTextAs||function(e,f,g){var i,a,d,h;f=f||'download.txt';g=g||'utf-8';e=(e||'').replace(/\r?\n/g,'\r\n');if(b&&Blob){i=new Blob([e],{type:'text/plain;charset='+g});b(i,f);return !0}else {a=window.frames.saveTxtWindow;if(!a){a=document.createElement('iframe');a.id='saveTxtWindow';a.style.display='none';document.body.insertBefore(a,null);a=window.frames.saveTxtWindow;if(!a){a=c.popup||window.open('','_temp','width=100,height=100');if(!a){return !1}}}d=a.document;d.open('text/html','replace');d.charset=g;d.write(e);d.close();h=d.execCommand('SaveAs',null,f);a.close();return h}};c.saveAs=function(f,b,e,g){var a;if(this.requiresPopup()){return this.downloadBinaryAs(f,b,e||'UTF-8',g||'text/plain')}else {a=new Ext.Deferred();if(d(f,b,e)){a.resolve()}else {a.reject()}return a.promise}};if(b&&Blob){c.saveBlobAs=function(e,h,l,i){var f=new Ext.Deferred(),d=new Uint8Array(e.length),k=d.length,j={type:i||'application/octet-stream'},g,a;for(a=0;a<k;a++){d[a]=e.charCodeAt(a)}g=new Blob([d],j);b(g,h);f.resolve();return f.promise}}});Ext.cmd.derive('Ext.exporter.Base',Ext.Base,{config:{data:null,showSummary:!0,title:null,author:'Sencha',fileName:'export.txt',charset:'UTF-8',mimeType:'text/plain',binary:!1},constructor:function(a){this.initConfig(a||{});Ext.exporter.File.initializePopup(this.getBinary());return this.callParent([a])},destroy:function(){this.setData(Ext.destroy(this.getData()));this.callParent()},getContent:Ext.identityFn,saveAs:function(){var b=this,a=new Ext.Deferred();Ext.asap(b.delayedSave,b,[a]);return a.promise},delayedSave:function(b){var a=this,d=a.getBinary()?'saveBinaryAs':'saveAs',c=Ext.exporter.File[d](a.getContent(),a.getFileName(),a.getCharset(),a.getMimeType());c.then(function(){b.resolve()},function(a){b.reject(a)})},getColumnCount:function(b){var c=0,a;if(!b){return c}for(a=0;a<b.length;a++){if(!b[a].columns){c+=1}else {c+=this.getColumnCount(b[a].columns)}}return c},applyData:function(a){if(!a||a.isDataTable){return a}return new Ext.exporter.data.Table(a)}},1,0,0,0,['exporter.base'],[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.exporter,'Base'],0);Ext.define('Ext.overrides.exporter.Base',{override:'Ext.exporter.Base',applyTitle:function(a){return a?'Produced by Ext JS Trial - '+a:a}});Ext.define('App.overrides.exporter.Base',{override:'Ext.exporter.Base',applyTitle:function(a){return a}});Ext.cmd.derive('Ext.exporter.file.ooxml.Base',Ext.exporter.file.Base,{config:{tplAttributes:{$value:[],merge:function(a,b){return [].concat(a,b)}},tplNonAttributes:{$value:['idPrefix','id','autoGenerateId','self','tplAttributes','tplNonAttributes'],merge:function(a,b){return [].concat(a,b)}}},generateTplAttributes:!1,processRenderData:function(a){var f=this.getTplAttributes(),e=this.getTplNonAttributes(),g=Ext.Object.getAllKeys(a),h=g.length,c='',d,b;if(!this.generateTplAttributes){a.attributes='';return a}for(d=0;d<h;d++){b=g[d];if(f&&f.length){if(Ext.Array.indexOf(f,b)>=0&&a[b]!==null){c+=(c.length?' ':'')+this.processTplAttribute(b,a[b])}}else if(e&&e.length){if(Ext.Array.indexOf(e,b)<0&&a[b]!==null){c+=(c.length?' ':'')+this.processTplAttribute(b,a[b])}}}a.attributes=c;return a},processTplAttribute:function(c,a){var b=a;if(typeof a==='boolean'){b=Number(a)}else if(typeof a==='string'){b=Ext.util.Base64._utf8_encode(Ext.util.Format.htmlEncode(a||''))}return c+'="'+b+'"'}},0,0,0,0,0,0,[Ext.exporter.file.ooxml,'Base'],0);Ext.cmd.derive('Ext.exporter.file.ooxml.Relationship',Ext.exporter.file.Base,{isRelationship:!0,config:{idPrefix:'rId',schema:'',target:'',parentFolder:null,path:null},tpl:['<Relationship Id="{id}" Type="{schema}" Target="{path}"/>'],updateTarget:function(a){this.calculatePath()},applyParentFolder:function(a){a=a||'';if(a[a.length-1]==='/'){a=a.slice(0,a.length-1)}return a},updateParentFolder:function(a){this.calculatePath()},calculatePath:function(){var i=String(this.getParentFolder()||''),h=String(this.getTarget()||''),d=i.split('/'),e=h.split('/'),g=Math.min(d.length,e.length),b=g,f='',c=[],a;for(a=0;a<g;a++){if(d[a]!==e[a]){b=a;break}}if(b===0){f=h}else {for(a=b;a<d.length;a++){c.push('..')}c=c.concat(e.slice(b));f=c.join('/')}this.setPath(f)}},0,0,0,0,0,0,[Ext.exporter.file.ooxml,'Relationship'],0);Ext.cmd.derive('Ext.exporter.file.ooxml.ContentType',Ext.exporter.file.Base,{isContentType:!0,config:{tag:'Override',partName:'',contentType:'',extension:''},tpl:['<{tag}','<tpl if="extension"> Extension="{extension}"</tpl>','<tpl if="partName"> PartName="{partName}"</tpl>','<tpl if="contentType"> ContentType="{contentType}"</tpl>','/>']},0,0,0,0,0,0,[Ext.exporter.file.ooxml,'ContentType'],0);Ext.cmd.derive('Ext.exporter.file.ooxml.Xml',Ext.exporter.file.ooxml.Base,{config:{folder:null,fileName:null,path:null,relationship:null,contentType:null},cachedConfig:{fileNameTemplate:'{fileName}.xml'},tplNonAttributes:['path','relationship','contentType','fileName','folder','fileNameTemplate'],destroy:function(){this.setRelationship(null);this.setContentType(null);Ext.exporter.file.ooxml.Base.prototype.destroy.call(this)},applyFolder:function(a){a=a||'';if(a[a.length-1]!=='/'){a+='/'}return a},updateFolder:function(){this.generatePath()},updateFileName:function(){this.generatePath()},getFileNameFromTemplate:function(){var a=Ext.XTemplate.getTpl(this,'_fileNameTemplate');return a?a.apply(this.getConfig()):''},generatePath:function(){this.setPath((this.getFolder()||'')+this.getFileNameFromTemplate())},updatePath:function(b){var a=this.getRelationship(),c=this.getContentType();if(a){a.setTarget(b)}if(c){c.setPartName(b)}},applyRelationship:function(a){if(!a||a.isRelationship){return a}return new Ext.exporter.file.ooxml.Relationship(a)},updateRelationship:function(b,a){Ext.destroy(a)},applyContentType:function(a){if(!a||a.isContentType){return a}return new Ext.exporter.file.ooxml.ContentType(a)},updateContentType:function(b,a){Ext.destroy(a)},collectFiles:Ext.emptyFn},0,0,0,0,0,0,[Ext.exporter.file.ooxml,'Xml'],0);Ext.cmd.derive('Ext.exporter.file.ooxml.Relationships',Ext.exporter.file.ooxml.Xml,{isRelationships:!0,currentIndex:1,config:{parentFolder:null,items:[]},contentType:{contentType:'application/vnd.openxmlformats-package.relationships+xml'},fileNameTemplate:'{fileName}.rels',tpl:['<?xml version="1.0" encoding="UTF-8" standalone="yes"?>','<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">','<tpl if="items"><tpl for="items.getRange()">{[values.render()]}</tpl></tpl>','</Relationships>'],collectFiles:function(e){var c=this.getItems(),b=c.length,d=this.getParentFolder(),a;if(b){for(a=0;a<b;a++){c.getAt(a).setParentFolder(d)}e[this.getPath()]=this.render()}},applyFolder:function(a,b){a=Ext.exporter.file.ooxml.Xml.prototype.applyFolder.call(this,a,b);return a+'_rels/'},applyItems:function(b,a){return this.checkCollection(b,a,'Ext.exporter.file.ooxml.Relationship')},updateItems:function(c,b){var a=this;if(b){b.un({add:a.updateIds,remove:a.updateIds,scope:a})}if(c){c.on({add:a.updateIds,remove:a.updateIds,scope:a})}},updateIds:function(b){var a,d,c;if(!b){return}d=b.length;for(a=0;a<d;a++){c=b.getAt(a);c.setId('rId'+(a+1))}},addRelationship:function(a){return this.getItems().add(a||{})},removeRelationship:function(a){return this.getItems().remove(a)}},0,0,0,0,0,0,[Ext.exporter.file.ooxml,'Relationships'],0);Ext.cmd.derive('Ext.exporter.file.ooxml.XmlRels',Ext.exporter.file.ooxml.Xml,{config:{index:null,name:null,relationships:{contentType:{contentType:'application/vnd.openxmlformats-package.relationships+xml'}}},cachedConfig:{nameTemplate:'{name}'},tplNonAttributes:['index','relationships','nameTemplate'],contentType:{},relationship:{},fileNameTemplate:'{fileName}{index}.xml',destroy:function(){this.setRelationships(null);Ext.exporter.file.ooxml.Xml.prototype.destroy.call(this)},updateFolder:function(a,c){var b=this.getRelationships();if(b){b.setFolder(a)}Ext.exporter.file.ooxml.Xml.prototype.updateFolder.call(this,a,c)},applyRelationships:function(a){if(!a||a.isRelationships){return a}return new Ext.exporter.file.ooxml.Relationships(a)},updateRelationships:function(b,a){Ext.destroy(a)},updateIndex:function(){this.generatePath()},generateName:function(){var a=Ext.XTemplate.getTpl(this,'_nameTemplate');this.setName(a?a.apply(this.getConfig()):'')},collectFiles:function(a){this.collectRelationshipsFiles(a);a[this.getPath()]=this.render()},collectRelationshipsFiles:function(b){var a=this.getRelationships(),c=this.getFileName();if(a){a.setFileName(c?this.getFileNameFromTemplate():'');a.setParentFolder(this.getFolder());a.collectFiles(b)}},collectContentTypes:function(a){a.push(this.getContentType())}},0,0,0,0,0,0,[Ext.exporter.file.ooxml,'XmlRels'],0);Ext.cmd.derive('Ext.exporter.file.zip.File',Ext.Base,{config:{path:'',data:null,dateTime:null,folder:!1},constructor:function(b){var a=this;a.initConfig(b);if(!a.getDateTime()){a.setDateTime(new Date())}return a.callParent([b])},getId:function(){return this.getPath()},crc32:function(b,a){var i=this.self.crcTable,g=0,h=0,f=0,d,c,e;if(typeof b==='undefined'||!b.length){return 0}d=typeof b!=='string';if(typeof a==='undefined'){a=0}a=a^-1;for(c=0,e=b.length;c<e;c++){f=d?b[c]:b.charCodeAt(c);h=(a^f)&255;g=i[h];a=a>>>8^g}return a^-1},getHeader:function(n){var e=this.getData(),m=this.getPath(),g=Ext.util.Base64._utf8_encode(m),l=g!==m,f=this.getDateTime(),h='',i='',b=Ext.util.Format.decToHex,a='',d,c,j,k;d=f.getHours();d=d<<6;d=d|f.getMinutes();d=d<<5;d=d|f.getSeconds()/2;c=f.getFullYear()-1980;c=c<<4;c=c|f.getMonth()+1;c=c<<5;c=c|f.getDate();if(l){i=b(1,1)+b(this.crc32(g),4)+g;h+='up'+b(i.length,2)+i}a+='\n\x00';a+=l?'\x00\b':'\x00\x00';a+='\x00\x00';a+=b(d,2);a+=b(c,2);a+=b(e?this.crc32(e):0,4);a+=b(e?e.length:0,4);a+=b(e?e.length:0,4);a+=b(g.length,2);a+=b(h.length,2);j='PK\x03\x04'+a+g+h;k='PK\x01\x02\x14\x00'+a+'\x00\x00\x00\x00\x00\x00'+(this.getFolder()===!0?'\x10\x00\x00\x00':'\x00\x00\x00\x00')+b(n,4)+g+h;return {fileHeader:j,dirHeader:k,data:e||''}}},1,0,0,0,0,0,[Ext.exporter.file.zip,'File'],function(e){var d=[],a,b,c;for(b=0;b<256;b++){a=b;for(c=0;c<8;c++){a=a&1?3.988292384E9^a>>>1:a>>>1}d[b]=a}e.crcTable=d});Ext.cmd.derive('Ext.exporter.file.zip.Folder',Ext.exporter.file.zip.File,{folder:!0},0,0,0,0,0,0,[Ext.exporter.file.zip,'Folder'],0);Ext.cmd.derive('Ext.exporter.file.zip.Archive',Ext.exporter.file.Base,{config:{folders:[],files:[]},destroy:function(){this.setFolders(null);this.setFiles(null);Ext.exporter.file.Base.prototype.destroy.call(this)},applyFolders:function(b,a){return this.checkCollection(b,a,'Ext.exporter.file.zip.Folder')},applyFiles:function(b,a){return this.checkCollection(b,a,'Ext.exporter.file.zip.File')},updateFiles:function(b,c){var a=this;if(c){c.un({add:a.onFileAdd,remove:a.onFileRemove,scope:a})}if(b){b.on({add:a.onFileAdd,remove:a.onFileRemove,scope:a});a.onFileAdd(b,{items:b.getRange()})}},onFileAdd:function(h,e){var f=this.getFolders(),c=e.items,g=c.length,a,d,b;for(a=0;a<g;a++){d=c[a];b=this.getParentFolder(d.getPath());if(b){f.add({path:b})}}},onFileRemove:function(b,a){Ext.destroy(a.items)},getParentFolder:function(a){var b;if(a.slice(-1)==='/'){a=a.substring(0,a.length-1)}b=a.lastIndexOf('/');return b>0?a.substring(0,b+1):''},addFile:function(a){return this.getFiles().add(a||{})},removeFile:function(a){return this.getFiles().remove(a)},getContent:function(){var g='',i='',f=0,h=0,c=Ext.util.Format.decToHex,b=[],d,j,e,k,a;Ext.Array.insert(b,0,this._folders.items);Ext.Array.insert(b,b.length,this._files.items);d=b.length;for(e=0;e<d;e++){k=b[e];a=k.getHeader(f);f+=a.fileHeader.length+a.data.length;h+=a.dirHeader.length;g+=a.fileHeader+a.data;i+=a.dirHeader}j='PK\x05\x06\x00\x00\x00\x00'+c(d,2)+c(d,2)+c(h,4)+c(f,4)+'\x00\x00';g+=i+j;return g}},0,0,0,0,0,0,[Ext.exporter.file.zip,'Archive'],0);Ext.cmd.derive('Ext.exporter.file.ooxml.excel.Sheet',Ext.exporter.file.ooxml.XmlRels,{config:{workbook:null},folder:'sheet',fileName:'sheet',nameTemplate:'Sheet{index}',fileNameTemplate:'{fileName}{index}.xml',nameLengthLimit:31,nameRegex:/[\/*?:\[\]]/gi,destroy:function(){Ext.exporter.file.ooxml.XmlRels.prototype.destroy.call(this);this.setWorkbook(null)},updateIndex:function(){if(this._name==null){this.generateName()}Ext.exporter.file.ooxml.XmlRels.prototype.updateIndex.apply(this,arguments)},applyName:function(c){var b=this.nameLengthLimit,a=Ext.String.trim(String(c||'').replace(this.nameRegex,''));if(a.length>b+3){a=Ext.String.ellipsis(a,b)}else {a=a.substr(0,b)}return Ext.util.Format.htmlEncode(a)},updateName:function(d){var a=this,e=a.getWorkbook(),b=!1,c;if(!a.isNaming&&!a.isConfiguring){if(e){c=e.getSheets();b=!!c.findBy(function(b){return b!==a&&b.getName()===d})}b=b||Ext.isEmpty(d);if(b){a.isNaming=!0;a.generateName();a.isNaming=!1}}}},0,0,0,0,0,0,[Ext.exporter.file.ooxml.excel,'Sheet'],0);Ext.cmd.derive('Ext.exporter.file.ooxml.excel.Column',Ext.exporter.file.ooxml.Base,{config:{min:1,max:1,width:10,autoFitWidth:!1,hidden:!1,styleId:null},tpl:['<col ','min="{min}" ','max="{max}" ','width="{width}"','<tpl if="styleId"> style="{styleId}"</tpl>','<tpl if="hidden"> hidden="1"</tpl>','<tpl if="autoFitWidth"> bestFit="1"</tpl>','<tpl if="width != 10"> customWidth="1"</tpl>','/>']},0,0,0,0,0,0,[Ext.exporter.file.ooxml.excel,'Column'],0);Ext.cmd.derive('Ext.exporter.file.ooxml.excel.Cell',Ext.exporter.file.Base,{isCell:!0,config:{row:null,dataType:null,showPhonetic:null,index:null,styleId:null,mergeAcross:null,mergeDown:null,value:null,serializeDateToNumber:!0},isMergedCell:!1,tpl:['<c r="{ref}"','<tpl if="value != null"> t="{dataType}"</tpl>','<tpl if="showPhonetic"> ph="1"</tpl>','<tpl if="styleId"> s="{styleId}"</tpl>','<tpl if="value == null">/><tpl else>><v>{value}</v></c></tpl>'],constructor:function(a){var b=a;if(a==null||Ext.isDate(a)||Ext.isPrimitive(a)){b={value:a}}return Ext.exporter.file.Base.prototype.constructor.call(this,b)},destroy:function(){this.setRow(null);Ext.exporter.file.Base.prototype.destroy.call(this)},getRef:function(){return this.getNotation(this._index)+this._row._index},getRenderData:function(){var b=this,a={},c=b._row&&b._row._worksheet,d=c&&c._workbook;a.dataType=b._dataType;a.value=b._value;a.showPhonetic=b._showPhonetic;a.styleId=b._styleId;if(this.isMergedCell&&c){c.setMergedCellsNo(c._mergedCellsNo+1)}if(a.dataType==='s'&&d){a.value=d._sharedStrings.addString(a.value)}a.ref=this.getRef();return a},applyValue:function(a){var c=this,b;if(a!=null){if(typeof a==='number'){b='n'}else if(typeof a==='string'){b='s';a=Ext.util.Format.stripTags(a)}else if(a instanceof Date){if(c.getSerializeDateToNumber()){b='n';a=c.dateValue(a)}else {b='d';a=Ext.Date.format(a,'Y-m-d\\TH:i:s.u')}}else {b='b'}c.setDataType(b)}return a},updateMergeAcross:function(a){this.isMergedCell=a||this._mergeDown},updateMergeDown:function(a){this.isMergedCell=a||this._mergeAcross},getMergedCellRef:function(){var a=this,b=a._index,c=a._row._index,d=a._mergeAcross,e=a._mergeDown,f=a.getNotation(b)+c+':';if(d){b+=d}if(e){c+=e}f+=a.getNotation(b)+c;return f},getNotation:function(a){var e=65,d=26,c=String.fromCharCode,f,b;if(a<=0){a=1}b=Math.floor(a/d);f=a%d;if(b===0||a===d){return c(e+a-1)}else if(f===0){return this.getNotation(b-1)+'Z'}else if(b<d){return c(e+b-1)+c(e+f-1)}else {return this.getNotation(b)+c(e+f-1)}},dateValue:function(a){return 25569+(a.getTime()-a.getTimezoneOffset()*60*1000)/(1000*60*60*24)}},1,0,0,0,0,0,[Ext.exporter.file.ooxml.excel,'Cell'],0);Ext.cmd.derive('Ext.exporter.file.ooxml.excel.Row',Ext.exporter.file.Base,{config:{collapsed:null,hidden:null,height:null,outlineLevel:null,showPhonetic:null,index:null,styleId:null,worksheet:null,cells:[],cachedCells:null},tpl:['<row','<tpl if="index"> r="{index}"</tpl>','<tpl if="collapsed"> collapsed="{collapsed}"</tpl>','<tpl if="hidden"> hidden="1"</tpl>','<tpl if="height"> ht="{height}" customHeight="1"</tpl>','<tpl if="outlineLevel"> outlineLevel="{outlineLevel}"</tpl>','<tpl if="styleId"> s="{styleId}" customFormat="1"</tpl>','<tpl if="cachedCells">','>{cachedCells}</row>','<tpl elseif="cells && cells.length">','><tpl for="cells.items">{[values.render()]}</tpl></row>','<tpl else>','/>','</tpl>'],lastCellIndex:1,constructor:function(a){var b=a;if(Ext.isArray(a)){b={cells:a}}return Ext.exporter.file.Base.prototype.constructor.call(this,b)},destroy:function(){this.setWorksheet(null);Ext.exporter.file.Base.prototype.destroy.call(this)},applyCells:function(b,a){return this.checkCollection(b,a,'Ext.exporter.file.ooxml.excel.Cell')},updateCells:function(b,c){var a=this;if(c){b.un({add:a.onCellAdd,remove:a.onCellRemove,scope:a})}if(b){b.on({add:a.onCellAdd,remove:a.onCellRemove,scope:a});a.onCellAdd(b,{items:b.getRange()})}},onCellAdd:function(e,f){var d=f.items,g=d.length,b,a,c;for(b=0;b<g;b++){a=d[b];a.setRow(this);c=a._index;if(!c){a.setIndex(this.lastCellIndex++)}else {this.lastCellIndex=Math.max(e.length,c)+1}}},onCellRemove:function(b,a){Ext.destroy(a.items);this.updateCellIndexes()},addCell:function(a){if(!this._cells){this.setCells([])}return this._cells.add(a||{})},getCell:function(a){return this._cells?this._cells.get(a):null},beginCellRendering:function(){var a=this;a.tempCells=[];a.startCaching=!0;a.lastCellIndex=1;if(!a.cachedCell){a.cachedCell=new Ext.exporter.file.ooxml.excel.Cell({row:a});a.cachedCellConfig=a.cachedCell.getConfig();a.cachedCellConfig.id=null}},endCellRendering:function(){var a=this;a.setCachedCells(a.tempCells.join(''));a.tempCells=null;a.startCaching=!1;a.lastCellIndex=1},renderCells:function(i){var c=this,d={first:null,last:null,row:'',merged:''},j=i.length,h=[],e,f,b,a,g;c.beginCellRendering();a=c.cachedCell;for(e=0;e<j;e++){f=i[e]||{};if(typeof f==='object'&&!(f instanceof Date)){b=f}else {b={value:f}}Ext.applyIf(b,c.cachedCellConfig);a.setValue(b.value);a.setShowPhonetic(b.showPhonetic);a.setStyleId(b.styleId);a.setMergeAcross(b.mergeAcross);a.setMergeDown(b.mergeDown);a.setIndex(b.index);g=a.getIndex();if(!g){a.setIndex(c.lastCellIndex++)}else {c.lastCellIndex=Math.max(c.lastCellIndex,g)+1}if(e===0){d.first=d.last=a.getRef()}else if(e===j-1){d.last=a.getRef()}c.tempCells.push(a.render());if(a.isMergedCell){h.push('<mergeCell ref="'+a.getMergedCellRef()+'"/>')}}c.endCellRendering();d.row=c.render();d.merged=h.join('');return d}},1,0,0,0,0,0,[Ext.exporter.file.ooxml.excel,'Row'],0);Ext.cmd.derive('Ext.exporter.file.ooxml.excel.Location',Ext.exporter.file.ooxml.Base,{config:{ref:null,firstHeaderRow:null,firstDataRow:null,firstDataCol:null,rowPageCount:null,colPageCount:null},generateTplAttributes:!0,tpl:['<location {attributes}/>']},0,0,0,0,0,0,[Ext.exporter.file.ooxml.excel,'Location'],0);Ext.cmd.derive('Ext.exporter.file.ooxml.excel.FieldItem',Ext.exporter.file.ooxml.Base,{config:{c:null,d:null,e:null,f:null,h:null,m:null,n:null,s:null,sd:null,t:null,x:null},generateTplAttributes:!0,tpl:['<item {attributes}/>']},0,0,0,0,0,0,[Ext.exporter.file.ooxml.excel,'FieldItem'],0);Ext.cmd.derive('Ext.exporter.file.ooxml.excel.PivotAreaReference',Ext.exporter.file.ooxml.Base,{config:{avgSubtotal:null,byPosition:null,count:null,countASubtotal:null,countSubtotal:null,defaultSubtotal:null,field:null,maxSubtotal:null,minSubtotal:null,productSubtotal:null,relative:null,selected:null,stdDevPSubtotal:null,stdDevSubtotal:null,sumSubtotal:null,varPSubtotal:null,varSubtotal:null,items:[]},tplNonAttributes:['items'],generateTplAttributes:!0,tpl:['<reference {attributes}>','<tpl if="items"><tpl for="items"><x v="{.}"/></tpl></tpl>','</reference>'],getCount:function(){return this.getItems().length},applyItems:function(a){return a!==null?Ext.Array.from(a):null}},0,0,0,0,0,0,[Ext.exporter.file.ooxml.excel,'PivotAreaReference'],0);Ext.cmd.derive('Ext.exporter.file.ooxml.excel.PivotArea',Ext.exporter.file.ooxml.Base,{config:{axis:null,cacheIndex:null,collapsedLevelsAreSubtotals:null,dataOnly:null,field:null,fieldPosition:null,grandCol:null,grandRow:null,labelOnly:null,offset:null,outline:null,type:null,references:null},tplNonAttributes:['references'],generateTplAttributes:!0,tpl:['<pivotArea {attributes}>','<tpl if="references">','    <references count="{references.length}">','        <tpl for="references.getRange()">{[values.render()]}</tpl>','    </references>','</tpl>','</pivotArea>'],applyReferences:function(b,a){return this.checkCollection(b,a,'Ext.exporter.file.ooxml.excel.PivotAreaReference')}},0,0,0,0,0,0,[Ext.exporter.file.ooxml.excel,'PivotArea'],0);Ext.cmd.derive('Ext.exporter.file.ooxml.excel.AutoSortScope',Ext.exporter.file.ooxml.Base,{config:{pivotArea:{}},tpl:['<autoSortScope>{[values.pivotArea.render()]}</autoSortScope>'],destroy:function(){this.setPivotArea(null);Ext.exporter.file.ooxml.Base.prototype.destroy.call(this)},applyPivotArea:function(a){if(!a||a.isInstance){return a}return new Ext.exporter.file.ooxml.excel.PivotArea(a)},updatePivotArea:function(b,a){Ext.destroy(a)}},0,0,0,0,0,0,[Ext.exporter.file.ooxml.excel,'AutoSortScope'],0);Ext.cmd.derive('Ext.exporter.file.ooxml.excel.PivotField',Ext.exporter.file.ooxml.Base,{config:{allDrilled:null,autoShow:null,avgSubtotal:null,axis:null,compact:null,countASubtotal:null,countSubtotal:null,dataField:null,dataSourceSort:null,defaultAttributeDrillState:null,defaultSubtotal:null,dragOff:null,dragToCol:null,dragToData:null,dragToPage:null,dragToRow:null,hiddenLevel:null,hideNewItems:null,includeNewItemsInFilter:null,insertBlankRow:null,insertPageBreak:null,itemPageCount:null,maxSubtotal:null,measureFilter:null,minSubtotal:null,multipleItemSelectionAllowed:null,nonAutoSortDefault:null,numFmtId:null,outline:null,productSubtotal:null,rankBy:null,serverField:null,showAll:null,showDropDowns:null,showPropAsCaption:null,showPropCell:null,showPropTip:null,sortType:null,stdDevPSubtotal:null,stdDevSubtotal:null,subtotalCaption:null,subtotalTop:null,sumSubtotal:null,topAutoShow:null,uniqueMemberProperty:null,varPSubtotal:null,varSubtotal:null,items:null,autoSortScope:null},tplNonAttributes:['items','autoSortScope'],generateTplAttributes:!0,tpl:['<tpl if="items || autoSortScope">','<pivotField {attributes}>','<tpl if="items"><items count="{items.length}"><tpl for="items.getRange()">{[values.render()]}</tpl></items></tpl>','<tpl if="autoSortScope">{[values.autoSortScope.render()]}</tpl>','</pivotField>','<tpl else>','<pivotField {attributes} />','</tpl>'],destroy:function(){this.setAutoSortScope(null);Ext.exporter.file.ooxml.Base.prototype.destroy.call(this)},applyItems:function(b,a){return this.checkCollection(b,a,'Ext.exporter.file.ooxml.excel.FieldItem')},applyAutoSortScope:function(a){if(!a||a.isInstance){return a}return new Ext.exporter.file.ooxml.excel.AutoSortScope(a)},updateAutoSortScope:function(b,a){Ext.destroy(a)}},0,0,0,0,0,0,[Ext.exporter.file.ooxml.excel,'PivotField'],0);Ext.cmd.derive('Ext.exporter.file.ooxml.excel.Field',Ext.exporter.file.ooxml.Base,{config:{x:null},tpl:['<field x="{x}"/>']},0,0,0,0,0,0,[Ext.exporter.file.ooxml.excel,'Field'],0);Ext.cmd.derive('Ext.exporter.file.ooxml.excel.Item',Ext.exporter.file.ooxml.Base,{config:{i:null,r:null,t:null,x:null},tpl:['<tpl if="x"><i{attr}>{x}</i><tpl else><i{attr}/></tpl>'],getRenderData:function(){var a=Ext.exporter.file.ooxml.Base.prototype.getRenderData.call(this),e=a.x?a.x.length:0,d='',c='',b;for(b=0;b<e;b++){if(a.x[b]>0){d+='<x v="'+a.x[b]+'"/>'}else {d+='<x/>'}}a.x=d;if(a.t){c+=' t="'+a.t+'"'}if(a.r>0){c+=' r="'+a.r+'"'}if(a.i>0){c+=' i="'+a.i+'"'}a.attr=c;return a},applyX:function(a){return a!=null?Ext.Array.from(a):null}},0,0,0,0,0,0,[Ext.exporter.file.ooxml.excel,'Item'],0);Ext.cmd.derive('Ext.exporter.file.ooxml.excel.DataField',Ext.exporter.file.ooxml.Base,{config:{baseField:null,baseItem:null,fld:null,name:null,numFmtId:null,showDataAs:null,subtotal:null},generateTplAttributes:!0,tpl:['<dataField {attributes}/>']},0,0,0,0,0,0,[Ext.exporter.file.ooxml.excel,'DataField'],0);Ext.cmd.derive('Ext.exporter.file.ooxml.excel.Record',Ext.exporter.file.ooxml.Base,{config:{items:null},tplNonAttributes:['items','stritems'],tpl:['<tpl if="stritems">','<r>','{stritems}','</r>','<tpl else>','<r/>','</tpl>'],numberTpl:'<n v="{0}"/>',booleanTpl:'<b v="{0}"/>',stringTpl:'<s v="{0}"/>',dateTpl:'<d v="{0}"/>',constructor:function(a){var b;if(Ext.isArray(a)||Ext.isDate(a)||Ext.isPrimitive(a)){b={items:a}}else {b=a}return Ext.exporter.file.ooxml.Base.prototype.constructor.call(this,b)},getRenderData:function(){var d=this,g=Ext.exporter.file.ooxml.Base.prototype.getRenderData.call(this),f=g.items,i='',c=[],e,h,a,b;if(f){h=f.length;for(e=0;e<h;e++){a=f[e];if(a==null||a===''){}else {if(typeof a==='string'){b=d.stringTpl;a=Ext.util.Base64._utf8_encode(Ext.util.Format.htmlEncode(a));c.push('s')}else if(typeof a==='boolean'){b=d.booleanTpl;c.push('b')}else if(typeof a==='number'){b=d.numberTpl;c.push('n')}else if(a instanceof Date){b=d.dateTpl;a=Ext.Date.format(a,'Y-m-d\\TH:i:s.u');c.push('d')}i+=Ext.String.format(b,a)}}}g.stritems=i;return g},applyItems:function(a){return a!==null?Ext.Array.from(a):null}},1,0,0,0,0,0,[Ext.exporter.file.ooxml.excel,'Record'],0);Ext.cmd.derive('Ext.exporter.file.ooxml.excel.PivotCacheRecords',Ext.exporter.file.ooxml.XmlRels,{config:{items:[]},folder:'/xl/pivotCache/',fileName:'pivotCacheRecords',contentType:{contentType:'application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml'},relationship:{schema:'http://schemas.openxmlformats.org/officeDocument/2006/relationships/pivotCacheRecords'},tpl:['<?xml version="1.0" encoding="UTF-8" standalone="yes"?>','<pivotCacheRecords xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" ','xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" count="{items.length}">','<tpl for="items.getRange()">{[values.render()]}</tpl>','</pivotCacheRecords>'],applyItems:function(b,a){return this.checkCollection(b,a,'Ext.exporter.file.ooxml.excel.Record')}},0,0,0,0,0,0,[Ext.exporter.file.ooxml.excel,'PivotCacheRecords'],0);Ext.cmd.derive('Ext.exporter.file.ooxml.excel.WorksheetSource',Ext.exporter.file.ooxml.Base,{config:{id:null,name:null,ref:null,sheet:null},autoGenerateId:!1,tplAttributes:['id','name','ref','sheet'],generateTplAttributes:!0,tpl:['<worksheetSource {attributes} />']},0,0,0,0,0,0,[Ext.exporter.file.ooxml.excel,'WorksheetSource'],0);Ext.cmd.derive('Ext.exporter.file.ooxml.excel.CacheSource',Ext.exporter.file.ooxml.Base,{config:{type:'worksheet',worksheetSource:{}},tplNonAttributes:['worksheetSource'],generateTplAttributes:!0,tpl:['<cacheSource {attributes}>','<tpl if="type == \'worksheet\'">','{[values.worksheetSource.render()]}','</tpl>','</cacheSource>'],destroy:function(){this.setWorksheetSource(null);Ext.exporter.file.ooxml.Base.prototype.destroy.call(this)},applyWorksheetSource:function(a){if(!a||a.isInstance){return a}return new Ext.exporter.file.ooxml.excel.WorksheetSource(a)},updateWorksheetSource:function(b,a){Ext.destroy(a)}},0,0,0,0,0,0,[Ext.exporter.file.ooxml.excel,'CacheSource'],0);Ext.cmd.derive('Ext.exporter.file.ooxml.excel.SharedItems',Ext.exporter.file.ooxml.Base,{config:{containsBlank:null,containsDate:null,containsInteger:null,containsMixedTypes:null,containsNonDate:null,containsNumber:null,containsSemiMixedTypes:null,containsString:null,longText:null,maxDate:null,maxValue:null,minDate:null,minValue:null,items:null},tplNonAttributes:['items','stritems'],generateTplAttributes:!0,tpl:['<tpl if="stritems">','<sharedItems {attributes}>','{stritems}','</sharedItems>','<tpl else>','<sharedItems {attributes}/>','</tpl>'],numberTpl:'<n v="{0}"/>',booleanTpl:'<b v="{0}"/>',stringTpl:'<s v="{0}"/>',dateTpl:'<d v="{0}"/>',getRenderData:function(){var g=this,b=Ext.exporter.file.ooxml.Base.prototype.getRenderData.call(this),l=b.items,p='',q=!1,r=!1,m=!1,o=!1,f=!1,n=!1,k=0,c=[],j=null,i=null,h,d,a,e;if(l){d=l.length;for(h=0;h<d;h++){a=l[h];if(a==null||a===''){q=!0}else {k++;if(typeof a==='string'){f=!0;e=g.stringTpl;a=Ext.util.Base64._utf8_encode(Ext.util.Format.htmlEncode(a));c.push('s')}else if(typeof a==='boolean'){r=!0;e=g.booleanTpl;c.push('b')}else if(typeof a==='number'){m=!0;e=g.numberTpl;j=Math.min(j,a);i=Math.max(i,a);if(String(a).indexOf('.')>=0){n=!0}c.push('n')}else if(a instanceof Date){o=!0;e=g.dateTpl;a=Ext.Date.format(a,'Y-m-d\\TH:i:s.u');c.push('d')}p+=Ext.String.format(e,a)}}}if(k>0){b.count=k}b.stritems=p;if(o){b.containsSemiMixedTypes=f;b.containsDate=!0;b.stritems=''}if(m){b.containsSemiMixedTypes=f;b.containsNumber=!0;b.minValue=j;b.maxValue=i;if(!n){b.containsInteger=!0}}b.containsString=f;d=Ext.Array.unique(c);if(d>0){b.containsMixedTypes=d>1}return b},applyItems:function(a){return a!==null?Ext.Array.from(a):null},updateMinValue:function(a){if(a!=null){this.setContainsNumber(!0)}},updateMaxValue:function(a){if(a!=null){this.setContainsNumber(!0)}},applyMinDate:function(a){if(a){a=Ext.Date.format(a,'Y-m-d\\TH:i:s.u')}return a},updateMinDate:function(a){if(a!=null){this.setContainsDate(!0)}},applyMaxDate:function(a){if(a){a=Ext.Date.format(a,'Y-m-d\\TH:i:s.u')}return a},updateMaxDate:function(a){if(a!=null){this.setContainsDate(!0)}}},0,0,0,0,0,0,[Ext.exporter.file.ooxml.excel,'SharedItems'],0);Ext.cmd.derive('Ext.exporter.file.ooxml.excel.CacheField',Ext.exporter.file.ooxml.Base,{config:{caption:null,databaseField:null,formula:null,hierarchy:null,level:null,mappingCount:null,memberPropertyField:null,name:null,numFmtId:null,propertyName:null,serverField:null,sqlType:null,uniqueList:null,sharedItems:{},fieldGroup:null,mpMap:null},tplNonAttributes:['sharedItems','fieldGroup','mpMap'],generateTplAttributes:!0,tpl:['<cacheField {attributes}>','<tpl if="sharedItems">{[values.sharedItems.render()]}</tpl>','</cacheField>'],destroy:function(){this.setSharedItems(null);Ext.exporter.file.ooxml.Base.prototype.destroy.call(this)},applySharedItems:function(a){if(!a||a.isInstance){return a}return new Ext.exporter.file.ooxml.excel.SharedItems(a)},updateSharedItems:function(b,a){Ext.destroy(a)}},0,0,0,0,0,0,[Ext.exporter.file.ooxml.excel,'CacheField'],0);Ext.cmd.derive('Ext.exporter.file.ooxml.excel.PivotCache',Ext.exporter.file.ooxml.Base,{config:{id:null,cacheId:null},autoGenerateId:!1,tpl:['<pivotCache cacheId="{cacheId}" r:id="{id}"/>']},0,0,0,0,0,0,[Ext.exporter.file.ooxml.excel,'PivotCache'],0);Ext.cmd.derive('Ext.exporter.file.ooxml.excel.PivotCacheDefinition',Ext.exporter.file.ooxml.XmlRels,{config:{backgroundQuery:null,createdVersion:null,enableRefresh:null,invalid:null,minRefreshableVersion:null,missingItemsLimit:null,optimizeMemory:null,recordCount:null,refreshedBy:null,refreshedDateIso:null,refreshedVersion:null,refreshOnLoad:null,saveData:null,supportAdvancedDrill:null,supportSubquery:null,tupleCache:null,upgradeOnRefresh:null,cacheRecords:{},cacheSource:{},cacheFields:null,pivotCache:{}},folder:'/xl/pivotCache/',fileName:'pivotCacheDefinition',contentType:{contentType:'application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml'},relationship:{schema:'http://schemas.openxmlformats.org/officeDocument/2006/relationships/pivotCacheDefinition'},tplNonAttributes:['cacheRecords','cacheSource','cacheFields','pivotCache'],generateTplAttributes:!0,tpl:['<?xml version="1.0" encoding="UTF-8" standalone="yes"?>','<pivotCacheDefinition xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" ','xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" r:id="{[values.relationship.getId()]}" {attributes}>','{[values.cacheSource.render()]}','<tpl if="cacheFields"><cacheFields count="{cacheFields.length}"><tpl for="cacheFields.getRange()">{[values.render()]}</tpl></cacheFields></tpl>','</pivotCacheDefinition>'],destroy:function(){this.setCacheRecords(null);this.setCacheSource(null);this.setPivotCache(null);Ext.exporter.file.ooxml.XmlRels.prototype.destroy.call(this)},getRenderData:function(){var b=Ext.exporter.file.ooxml.XmlRels.prototype.getRenderData.call(this),a=this.getCacheRecords();if(a){a=a.getItems();b.recordCount=a.length}return b},collectFiles:function(b){var a=this.getCacheRecords();if(a){a.collectFiles(b)}Ext.exporter.file.ooxml.XmlRels.prototype.collectFiles.call(this,b)},collectContentTypes:function(b){var a=this.getCacheRecords();if(a){a.collectContentTypes(b)}Ext.exporter.file.ooxml.XmlRels.prototype.collectContentTypes.call(this,b)},updateIndex:function(b,c){var a=this.getCacheRecords();if(a){a.setIndex(b)}Ext.exporter.file.ooxml.XmlRels.prototype.updateIndex.call(this,b,c)},applyPivotCache:function(a){if(!a||a.isInstance){return a}return new Ext.exporter.file.ooxml.excel.PivotCache(a)},updatePivotCache:function(b,a){Ext.destroy(a)},applyCacheRecords:function(a){if(!a||a.isInstance){return a}return new Ext.exporter.file.ooxml.excel.PivotCacheRecords(a)},updateCacheRecords:function(c,a){var d=this.getRelationships(),b;if(a){d.removeRelationship(a.getRelationship())}Ext.destroy(a);if(c){b=c.getRelationship();d.addRelationship(b);this.setId(b.getId())}},applyCacheSource:function(a){if(!a||a.isInstance){return a}return new Ext.exporter.file.ooxml.excel.CacheSource(a)},updateCacheSource:function(b,a){Ext.destroy(a)},applyCacheFields:function(b,a){return this.checkCollection(b,a,'Ext.exporter.file.ooxml.excel.CacheField')}},0,0,0,0,0,0,[Ext.exporter.file.ooxml.excel,'PivotCacheDefinition'],0);Ext.cmd.derive('Ext.exporter.file.ooxml.excel.PivotTableStyleInfo',Ext.exporter.file.ooxml.Base,{config:{name:'PivotStyleLight2',showColHeaders:!0,showColStripes:null,showLastColumn:!0,showRowHeaders:!0,showRowStripes:null},generateTplAttributes:!0,tpl:['<pivotTableStyleInfo {attributes}/>']},0,0,0,0,0,0,[Ext.exporter.file.ooxml.excel,'PivotTableStyleInfo'],0);Ext.cmd.derive('Ext.exporter.file.ooxml.excel.PivotTable',Ext.exporter.file.ooxml.XmlRels,{config:{applyAlignmentFormats:!1,applyBorderFormats:!1,applyFontFormats:!1,applyNumberFormats:!1,applyPatternFormats:!1,applyWidthHeightFormats:!0,asteriskTotals:null,autoFormatId:4096,cacheId:null,chartFormat:null,colGrandTotals:null,colHeaderCaption:null,compact:!1,compactData:!1,createdVersion:null,customListSort:null,dataCaption:'Values',dataOnRows:null,dataPosition:null,disableFieldList:null,editData:null,enableDrill:null,enableFieldProperties:null,enableWizard:null,errorCaption:null,fieldListSortAscending:null,fieldPrintTitles:null,grandTotalCaption:null,gridDropZones:null,immersive:null,indent:null,itemPrintTitles:!0,mdxSubqueries:null,mergeItem:null,minRefreshableVersion:null,missingCaption:null,multipleFieldFilters:!1,name:null,outline:!0,outlineData:null,pageOverThenDown:null,pageStyle:null,pageWrap:null,pivotTableStyle:null,preserveFormatting:null,printDrill:null,published:null,rowGrandTotals:null,rowHeaderCaption:null,showCalcMbrs:null,showDataDropDown:null,showDataTips:null,showDrill:null,showDropZones:null,showEmptyCol:null,showEmptyRow:null,showError:null,showHeaders:null,showItems:null,showMemberPropertyTips:null,showMissing:null,showMultipleLabel:null,subtotalHiddenItems:null,tag:null,updatedVersion:null,useAutoFormatting:!0,vacatedStyle:null,visualTotals:null,location:{},pivotFields:null,rowFields:null,rowItems:null,colFields:null,colItems:null,pageFields:null,dataFields:null,pivotTableStyleInfo:{},worksheet:null,cacheDefinition:{},viewLayoutType:'outline'},folder:'/xl/pivotTables/',fileName:'pivotTable',nameTemplate:'PivotTable{index}',contentType:{contentType:'application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml'},relationship:{schema:'http://schemas.openxmlformats.org/officeDocument/2006/relationships/pivotTable'},tplNonAttributes:['location','worksheet','cacheDefinition','pivotFields','rowFields','rowItems','colFields','colItems','pageFields','dataFields','pivotTableStyleInfo','viewLayoutType'],generateTplAttributes:!0,tpl:['<?xml version="1.0" encoding="UTF-8" standalone="yes"?>','<pivotTableDefinition xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" {attributes}>','{[values.location.render()]}','<tpl if="pivotFields && pivotFields.length"><pivotFields count="{pivotFields.length}"><tpl for="pivotFields.getRange()">{[values.render()]}</tpl></pivotFields></tpl>','<tpl if="rowFields && rowFields.length"><rowFields count="{rowFields.length}"><tpl for="rowFields.getRange()">{[values.render()]}</tpl></rowFields></tpl>','<tpl if="rowItems && rowItems.length"><rowItems count="{rowItems.length}"><tpl for="rowItems.getRange()">{[values.render()]}</tpl></rowItems></tpl>','<tpl if="colFields && colFields.length"><colFields count="{colFields.length}"><tpl for="colFields.getRange()">{[values.render()]}</tpl></colFields></tpl>','<tpl if="colItems && colItems.length"><colItems count="{colItems.length}"><tpl for="colItems.getRange()">{[values.render()]}</tpl></colItems></tpl>','<tpl if="pageFields && pageFields.length"><pageFields count="{pageFields.length}"><tpl for="pageFields.getRange()">{[values.render()]}</tpl></pageFields></tpl>','<tpl if="dataFields && dataFields.length"><dataFields count="{dataFields.length}"><tpl for="dataFields.getRange()">{[values.render()]}</tpl></dataFields></tpl>','<tpl if="pivotTableStyleInfo">{[values.pivotTableStyleInfo.render()]}</tpl>','</pivotTableDefinition>'],destroy:function(){var a=this;a.setWorksheet(null);a.setLocation(null);a.setCacheDefinition(null);a.setPivotTableStyleInfo(null);Ext.exporter.file.ooxml.XmlRels.prototype.destroy.call(this)},collectFiles:function(a){this.getCacheDefinition().collectFiles(a);Ext.exporter.file.ooxml.XmlRels.prototype.collectFiles.call(this,a)},collectContentTypes:function(a){this.getCacheDefinition().collectContentTypes(a);Ext.exporter.file.ooxml.XmlRels.prototype.collectContentTypes.call(this,a)},updateIndex:function(c,d){var a=this,b=a.getCacheDefinition();if(b){b.setIndex(c)}if(a._name==null){a.generateName()}Ext.exporter.file.ooxml.XmlRels.prototype.updateIndex.call(this,c,d)},updateWorksheet:function(e,b){var a=this.getCacheDefinition(),d,c;if(b&&a&&b.getWorkbook()&&b.getWorkbook().getRelationships()){b.getWorkbook().getRelationships().removeRelationship(a.getRelationship())}if(e&&a){d=e.getWorkbook();d.getRelationships().addRelationship(a.getRelationship());c=a.getPivotCache();d.addPivotCache(c);this.setCacheId(c.getCacheId());c.setId(a.getRelationship().getId())}},applyPivotTableStyleInfo:function(a){if(!a||a.isInstance){return a}return new Ext.exporter.file.ooxml.excel.PivotTableStyleInfo(a)},updatePivotTableStyleInfo:function(b,a){Ext.destroy(a)},applyCacheDefinition:function(a){if(!a||a.isInstance){return a}return new Ext.exporter.file.ooxml.excel.PivotCacheDefinition(a)},updateCacheDefinition:function(b,a){var c=this.getRelationships();if(a){c.removeRelationship(a.getRelationship())}Ext.destroy(a);if(b){c.addRelationship(b.getRelationship())}},updateViewLayoutType:function(b){var a=this;if(b==='compact'){a.setOutline(!0);a.setOutlineData(!0);a.setCompact(null);a.setCompactData(null)}else if(b==='outline'){a.setOutline(!0);a.setOutlineData(!0);a.setCompact(!1);a.setCompactData(!1)}else {a.setOutline(null);a.setOutlineData(null);a.setCompact(!1);a.setCompactData(!1)}a.processPivotFields(a.getPivotFields().getRange())},applyLocation:function(a){if(!a||a.isInstance){return a}return new Ext.exporter.file.ooxml.excel.Location(a)},updateLocation:function(b,a){Ext.destroy(a)},applyPivotFields:function(b,a){return this.checkCollection(b,a,'Ext.exporter.file.ooxml.excel.PivotField')},updatePivotFields:function(b,c){var a=this;if(c){c.un({add:a.onPivotFieldAdd,scope:a})}if(b){b.on({add:a.onPivotFieldAdd,scope:a});this.processPivotFields(b.getRange())}},onPivotFieldAdd:function(b,a){this.processPivotFields(a.items)},processPivotFields:function(f){var e=this.getViewLayoutType(),g=f.length,c,d,a,b;if(e==='compact'){a=null;b=null}else if(e==='outline'){a=!1;b=null}else {a=!1;b=!1}for(c=0;c<g;c++){d=f[c];d.setCompact(a);d.setOutline(b)}},applyRowFields:function(b,a){return this.checkCollection(b,a,'Ext.exporter.file.ooxml.excel.Field')},applyRowItems:function(b,a){return this.checkCollection(b,a,'Ext.exporter.file.ooxml.excel.Item')},applyColFields:function(b,a){return this.checkCollection(b,a,'Ext.exporter.file.ooxml.excel.Field')},applyColItems:function(b,a){return this.checkCollection(b,a,'Ext.exporter.file.ooxml.excel.Item')},applyDataFields:function(b,a){return this.checkCollection(b,a,'Ext.exporter.file.ooxml.excel.DataField')},applyAutoFormatId:function(a){return a>=4096&&a<=4117?a:null}},0,0,0,0,0,0,[Ext.exporter.file.ooxml.excel,'PivotTable'],0);Ext.cmd.derive('Ext.exporter.file.ooxml.excel.Worksheet',Ext.exporter.file.ooxml.excel.Sheet,{isWorksheet:!0,config:{columns:null,rows:[],drawings:null,tables:null,mergeCells:null,mergedCellsNo:0,topLeftRef:null,bottomRightRef:null,cachedRows:'',cachedMergeCells:'',pivotTables:null},folder:'/xl/worksheets/',contentType:{contentType:'application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml'},relationship:{schema:'http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet'},tpl:['<?xml version="1.0" encoding="UTF-8" standalone="yes"?>','<worksheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" ','xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships">','<tpl if="columns">','<cols>','<tpl for="columns.items">{[values.render()]}</tpl>','</cols>','</tpl>','<tpl if="cachedRows">','<sheetData>{cachedRows}</sheetData>','<tpl if="cachedMergeCells"><mergeCells>{cachedMergeCells}</mergeCells></tpl>','<tpl elseif="rows">','<sheetData><tpl for="rows.items">{[values.render()]}</tpl></sheetData>','<tpl if="values.self.getMergedCellsNo() &gt; 0">','<mergeCells>','<tpl for="rows.items">','<tpl for="_cells.items">','<tpl if="isMergedCell"><mergeCell ref="{[values.getMergedCellRef()]}"/></tpl>','</tpl>','</tpl>','</mergeCells>','</tpl>','<tpl else>','</sheetData>','</tpl>','</worksheet>'],lastRowIndex:1,destroy:function(){var a=this;Ext.destroy(a.cachedRow);a.cachedRow=a.cachedRowConfig=null;Ext.exporter.file.ooxml.excel.Sheet.prototype.destroy.call(this)},getRenderData:function(){var a=this,b=a.getName();if(Ext.isEmpty(b)){a.generateName()}a.setMergedCellsNo(0);return Ext.exporter.file.ooxml.excel.Sheet.prototype.getRenderData.call(this)},collectFiles:function(d){var b=this.getPivotTables(),c,a;if(b){c=b.length;for(a=0;a<c;a++){b.getAt(a).collectFiles(d)}}Ext.exporter.file.ooxml.excel.Sheet.prototype.collectFiles.call(this,d)},collectContentTypes:function(d){var b=this.getPivotTables(),c,a;if(b){c=b.length;for(a=0;a<c;a++){b.getAt(a).collectContentTypes(d)}}Ext.exporter.file.ooxml.excel.Sheet.prototype.collectContentTypes.call(this,d)},applyColumns:function(b,a){return this.checkCollection(b,a,'Ext.exporter.file.ooxml.excel.Column')},applyRows:function(b,a){return this.checkCollection(b,a,'Ext.exporter.file.ooxml.excel.Row')},updateRows:function(b,c){var a=this;if(c){c.un({add:a.onRowAdd,remove:a.onRowRemove,scope:a})}if(b){b.on({add:a.onRowAdd,remove:a.onRowRemove,scope:a});a.onRowAdd(b,{items:b.getRange()})}},onRowAdd:function(e,f){var d=f.items,g=d.length,b,a,c;for(b=0;b<g;b++){a=d[b];a.setWorksheet(this);c=a._index;if(!c){a.setIndex(this.lastRowIndex++)}else {this.lastRowIndex=Math.max(e.length,c)+1}}},onRowRemove:function(b,a){Ext.destroy(a.items)},updateItemIndexes:function(b){var a,d,c;if(!b){return}d=b.length;for(a=0;a<d;a++){c=b.getAt(a);if(!c.getIndex()){c.setIndex(a+1)}}},updateDrawings:function(c,b){var a=this.getRelationships();if(b&&a){a.removeRelationship(b.getRelationship())}if(c&&a){a.addRelationship(c.getRelationship())}},updateTables:function(c,b){var a=this.getRelationships();if(b&&a){a.removeRelationship(b.getRelationship())}if(c&&a){a.addRelationship(c.getRelationship())}},applyPivotTables:function(b,a){return this.checkCollection(b,a,'Ext.exporter.file.ooxml.excel.PivotTable')},updatePivotTables:function(b,c){var a=this;if(c){c.un({add:a.onPivotTableAdd,remove:a.onPivotTableRemove,scope:a})}if(b){b.on({add:a.onPivotTableAdd,remove:a.onPivotTableRemove,scope:a});this.processPivotTables(b.getRange())}},onPivotTableAdd:function(b,a){this.processPivotTables(a.items)},processPivotTables:function(c){var e=this.getRelationships(),d=c.length,a,b;for(a=0;a<d;a++){b=c[a];e.addRelationship(b.getRelationship());b.setWorksheet(this)}this.updateItemIndexes(this.getPivotTables())},onPivotTableRemove:function(f,c){var e=this.getRelationships(),d=c.items.length,a,b;for(a=0;a<d;a++){b=c.items[a];e.removeRelationship(b.getRelationship());Ext.destroy(b)}},addColumn:function(a){if(!this._columns){this.setColumns([])}return this._columns.add(a||{})},addRow:function(a){if(!this._rows){this.setRows([])}return this._rows.add(a||{})},getRow:function(a){return this._rows?this._rows.get(a):null},addPivotTable:function(a){if(!this._pivotTables){this.setPivotTables([])}return this._pivotTables.add(a||{})},getPivotTable:function(a){return this._pivotTables?this._pivotTables.get(a):null},beginRowRendering:function(){var a=this;a.tempRows=[];a.tempMergeCells=[];a.startCaching=!0;a.setMergedCellsNo(0);a.lastRowIndex=1;a.cachedIndex=0;if(!a.cachedRow){a.cachedRow=new Ext.exporter.file.ooxml.excel.Row({worksheet:a});a.cachedRowConfig=a.cachedRow.getConfig();a.cachedRowConfig.id=a.cachedRowConfig.cells=null}},endRowRendering:function(){var a=this;a.setCachedRows(a.tempRows.join(''));a.setCachedMergeCells(a.tempMergeCells.join(''));a.tempRows=a.tempMergeCells=null;a.startCaching=!1;a.lastRowIndex=1},renderRows:function(c){var b=Ext.Array.from(c),d=b.length,a;for(a=0;a<d;a++){this.renderRow(b[a])}},renderRow:function(g){var a=this,b,c,f,e,d;if(!a.startCaching){a.beginRowRendering()}c=a.cachedRow;if(Ext.isArray(g)){e=g;b={}}else {b=g;e=Ext.Array.from(b.cells||[])}delete b.cells;Ext.applyIf(b,a.cachedRowConfig);c.setCollapsed(b.collapsed);c.setHidden(b.hidden);c.setHeight(b.height);c.setOutlineLevel(b.outlineLevel);c.setShowPhonetic(b.showPhonetic);c.setStyleId(b.styleId);c.setIndex(b.index);f=c.getIndex();if(!f){c.setIndex(a.lastRowIndex++)}else {a.lastRowIndex=Math.max(a.lastRowIndex,f)+1}d=c.renderCells(e);a.tempRows.push(d.row);if(a.cachedIndex===0){a._topLeftRef=d.first}a._bottomRightRef=d.last;a.tempMergeCells.push(d.merged);a.cachedIndex++;d.rowIndex=c.getIndex();return d}},0,0,0,0,0,0,[Ext.exporter.file.ooxml.excel,'Worksheet'],0);Ext.cmd.derive('Ext.exporter.file.ooxml.excel.Font',Ext.exporter.file.ooxml.Base,{config:{size:10,fontName:'',family:null,charset:null,bold:!1,italic:!1,underline:!1,outline:!1,strikeThrough:!1,color:null,verticalAlign:null},mappings:{family:{Automatic:0,Roman:1,Swiss:2,Modern:3,Script:4,Decorative:5}},tpl:['<font>','<tpl if="size"><sz val="{size}"/></tpl>','<tpl if="fontName"><name val="{fontName}"/></tpl>','<tpl if="family"><family val="{family}"/></tpl>','<tpl if="charset"><charset val="{charset}"/></tpl>','<tpl if="bold"><b/></tpl>','<tpl if="italic"><i/></tpl>','<tpl if="underline"><u/></tpl>','<tpl if="outline"><outline/></tpl>','<tpl if="strikeThrough"><strike/></tpl>','<tpl if="color"><color rgb="{color}"/></tpl>','<tpl if="verticalAlign"><vertAlign val="{verticalAlign}"/></tpl>','</font>'],autoGenerateKey:['size','fontName','family','charset','bold','italic','underline','outline','strikeThrough','color','verticalAlign'],constructor:function(b){var d={},c=Ext.Object.getKeys(b||{}),e=c.length,a;if(b){for(a=0;a<e;a++){d[Ext.String.uncapitalize(c[a])]=b[c[a]]}}Ext.exporter.file.ooxml.Base.prototype.constructor.call(this,d)},applyFamily:function(a){if(typeof a==='string'){return this.mappings.family[a]}return a},applyBold:function(a){return !!a},applyItalic:function(a){return !!a},applyStrikeThrough:function(a){return !!a},applyUnderline:function(a){return !!a},applyOutline:function(a){return !!a},applyColor:function(b){var a;if(!b){return b}a=String(b);return a.indexOf('#')>=0?a.replace('#',''):a},applyVerticalAlign:function(a){return Ext.util.Format.lowercase(a)}},1,0,0,0,0,0,[Ext.exporter.file.ooxml.excel,'Font'],0);Ext.cmd.derive('Ext.exporter.file.ooxml.excel.NumberFormat',Ext.exporter.file.ooxml.Base,{config:{isDate:!1,numFmtId:null,formatCode:''},tpl:['<numFmt numFmtId="{numFmtId}" formatCode="{formatCode:htmlEncode}"/>'],spaceRe:/(,| )/g,getRenderData:function(){var b=Ext.exporter.file.ooxml.Base.prototype.getRenderData.call(this),a=b.formatCode;a=a&&b.isDate?a.replace(this.spaceRe,'\\$1'):a;b.formatCode=a;return b},getKey:function(){return this.getFormatCode()}},0,0,0,0,0,0,[Ext.exporter.file.ooxml.excel,'NumberFormat'],0);Ext.cmd.derive('Ext.exporter.file.ooxml.excel.Fill',Ext.exporter.file.ooxml.Base,{config:{patternType:'none',fgColor:null,bgColor:null},tpl:['<fill>','<tpl if="fgColor || bgColor">','<patternFill patternType="{patternType}">','<tpl if="fgColor"><fgColor rgb="{fgColor}"/></tpl>','<tpl if="bgColor"><bgColor rgb="{bgColor}"/></tpl>','</patternFill>','<tpl else>','<patternFill patternType="{patternType}"/>','</tpl>','</fill>'],autoGenerateKey:['patternType','fgColor','bgColor'],constructor:function(b){var a=Ext.clone(b);if(b){a.patternType=a.patternType||b.pattern;a.bgColor=a.bgColor||(a.patternType!=='solid'?b.color:null);a.fgColor=a.fgColor||(a.patternType==='solid'?b.color:null)}Ext.exporter.file.ooxml.Base.prototype.constructor.call(this,a)},formatColor:function(b){var a;if(!b){return b}a=String(b);return a.indexOf('#')>=0?a.replace('#',''):a},applyFgColor:function(a){return this.formatColor(a)},applyBgColor:function(a){return this.formatColor(a)},applyPatternType:function(c){var b=['none','solid','mediumGray','darkGray','lightGray','darkHorizontal','darkVertical','darkDown','darkUp','darkGrid','darkTrellis','lightHorizontal','lightVertical','lightDown','lightUp','lightGrid','lightTrellis','gray125','gray0625'],a=Ext.util.Format.uncapitalize(c);return Ext.Array.indexOf(b,a)>=0?a:'none'}},1,0,0,0,0,0,[Ext.exporter.file.ooxml.excel,'Fill'],0);Ext.cmd.derive('Ext.exporter.file.ooxml.excel.BorderPr',Ext.exporter.file.ooxml.Base,{isBorderPr:!0,config:{tag:'left',color:null,lineStyle:'none'},mappings:{lineStyle:{'None':'none','Continuous':'thin','Dash':'dashed','Dot':'dotted','DashDot':'dashDot','DashDotDot':'dashDotDot','SlantDashDot':'slantDashDot','Double':'double'}},tpl:['<tpl if="color">','<{tag} style="{lineStyle}"><color rgb="{color}"/></{tag}>','<tpl else>','<{tag} style="{lineStyle}"/>','</tpl>'],autoGenerateKey:['tag','color','lineStyle'],applyColor:function(b){var a;if(!b){return b}a=String(b);return a.indexOf('#')>=0?a.replace('#',''):a},applyLineStyle:function(a){var b=['none','thin','medium','dashed','dotted','thick','double','hair','mediumDashed','dashDot','mediumDashDot','dashDotDot','mediumDashDotDot','slantDashDot'];return Ext.Array.indexOf(b,a)>=0?a:this.mappings.lineStyle[a]||'none'}},0,0,0,0,0,0,[Ext.exporter.file.ooxml.excel,'BorderPr'],0);Ext.cmd.derive('Ext.exporter.file.ooxml.excel.Border',Ext.exporter.file.ooxml.Base,{config:{left:null,right:null,top:null,bottom:null},tpl:['<border>','<tpl if="left">{[values.left.render()]}</tpl>','<tpl if="right">{[values.right.render()]}</tpl>','<tpl if="top">{[values.top.render()]}</tpl>','<tpl if="bottom">{[values.bottom.render()]}</tpl>','</border>'],autoGenerateKey:['left','right','top','bottom'],destroy:function(){this.setConfig({left:null,right:null,top:null,bottom:null});Ext.exporter.file.ooxml.Base.prototype.destroy.call(this)},applyLeft:function(a){if(a&&!a.isBorderPr){return new Ext.exporter.file.ooxml.excel.BorderPr(a)}return a},applyTop:function(a){if(a&&!a.isBorderPr){return new Ext.exporter.file.ooxml.excel.BorderPr(a)}return a},applyRight:function(a){if(a&&!a.isBorderPr){return new Ext.exporter.file.ooxml.excel.BorderPr(a)}return a},applyBottom:function(a){if(a&&!a.isBorderPr){return new Ext.exporter.file.ooxml.excel.BorderPr(a)}return a},updateLeft:function(a,b){Ext.destroy(b);if(a){a.setTag('left')}},updateTop:function(a,b){Ext.destroy(b);if(a){a.setTag('top')}},updateRight:function(a,b){Ext.destroy(b);if(a){a.setTag('right')}},updateBottom:function(a,b){Ext.destroy(b);if(a){a.setTag('bottom')}}},0,0,0,0,0,0,[Ext.exporter.file.ooxml.excel,'Border'],0);Ext.cmd.derive('Ext.exporter.file.ooxml.excel.CellAlignment',Ext.exporter.file.ooxml.Base,{isCellAlignment:!0,config:{horizontal:'general',vertical:'top',rotate:null,wrapText:!1,indent:null,relativeIndent:null,justifyLastLine:!1,shrinkToFit:!1,readingOrder:null},autoGenerateKey:['horizontal','vertical','rotate','wrapText','indent','relativeIndent','justifyLastLine','shrinkToFit','readingOrder'],mappings:{horizontal:{Automatic:'general',CenterAcrossSelection:'centerContinuous',JustifyDistributed:'distributed'},vertical:{Automatic:'top',JustifyDistributed:'distributed'},readingOrder:{Context:0,LeftToRight:1,RightToLeft:2}},tpl:['<alignment','<tpl if="horizontal"> horizontal="{horizontal}"</tpl>','<tpl if="vertical"> vertical="{vertical}"</tpl>','<tpl if="rotate"> textRotation="{rotate}"</tpl>','<tpl if="wrapText"> wrapText="{wrapText}"</tpl>','<tpl if="indent"> indent="{indent}"</tpl>','<tpl if="relativeIndent"> relativeIndent="{relativeIndent}"</tpl>','<tpl if="justifyLastLine"> justifyLastLine="{justifyLastLine}"</tpl>','<tpl if="shrinkToFit"> shrinkToFit="{shrinkToFit}"</tpl>','<tpl if="readingOrder"> readingOrder="{readingOrder}"</tpl>','/>'],constructor:function(b){var d={},c=Ext.Object.getKeys(b||{}),e=c.length,a;if(b){for(a=0;a<e;a++){d[Ext.String.uncapitalize(c[a])]=b[c[a]]}}Ext.exporter.file.ooxml.Base.prototype.constructor.call(this,d)},applyHorizontal:function(a){var c=['general','left','center','right','fill','justify','centerContinuous','distributed'],b=Ext.util.Format.uncapitalize(a);return Ext.Array.indexOf(c,b)>=0?b:this.mappings.horizontal[a]||'general'},applyVertical:function(a){var c=['top','center','bottom','justify','distributed'],b=Ext.util.Format.uncapitalize(a);return Ext.Array.indexOf(c,b)>=0?b:this.mappings.vertical[a]||'top'},applyReadingOrder:function(a){if(typeof a==='string'){return this.mappings.readingOrder[a]||0}return a}},1,0,0,0,0,0,[Ext.exporter.file.ooxml.excel,'CellAlignment'],0);Ext.cmd.derive('Ext.exporter.file.ooxml.excel.CellStyleXf',Ext.exporter.file.ooxml.Base,{config:{numFmtId:0,fontId:0,fillId:0,borderId:0,alignment:null},autoGenerateKey:['numFmtId','fontId','fillId','borderId','alignment'],tpl:['<xf numFmtId="{numFmtId}" fontId="{fontId}" fillId="{fillId}" borderId="{borderId}"','<tpl if="numFmtId"> applyNumberFormat="1"</tpl>','<tpl if="fillId"> applyFill="1"</tpl>','<tpl if="borderId"> applyBorder="1"</tpl>','<tpl if="fontId"> applyFont="1"</tpl>','<tpl if="alignment">',' applyAlignment="1">{[values.alignment.render()]}</xf>','<tpl else>','/>','</tpl>'],applyAlignment:function(a){if(a&&!a.isCellAlignment){return new Ext.exporter.file.ooxml.excel.CellAlignment(a)}return a}},0,0,0,0,0,0,[Ext.exporter.file.ooxml.excel,'CellStyleXf'],0);Ext.cmd.derive('Ext.exporter.file.ooxml.excel.CellXf',Ext.exporter.file.ooxml.excel.CellStyleXf,{config:{xfId:0},tpl:['<xf numFmtId="{numFmtId}" fontId="{fontId}" fillId="{fillId}" borderId="{borderId}"','    xfId="{xfId}"','<tpl if="numFmtId"> applyNumberFormat="1"</tpl>','<tpl if="fillId"> applyFill="1"</tpl>','<tpl if="borderId"> applyBorder="1"</tpl>','<tpl if="fontId"> applyFont="1"</tpl>','<tpl if="alignment">',' applyAlignment="1">{[values.alignment.render()]}</xf>','<tpl else>','/>','</tpl>'],autoGenerateKey:['xfId']},0,0,0,0,0,0,[Ext.exporter.file.ooxml.excel,'CellXf'],0);Ext.cmd.derive('Ext.exporter.file.ooxml.excel.Stylesheet',Ext.exporter.file.ooxml.Xml,{isStylesheet:!0,config:{fonts:[{fontName:'Arial',size:10,family:2}],numberFormats:null,fills:[{patternType:'none'},{patternType:'gray125'}],borders:[{left:{},top:{},right:{},bottom:{}}],cellStyleXfs:[{}],cellXfs:[{}]},contentType:{contentType:'application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml'},relationship:{schema:'http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles'},folder:'/xl/',fileName:'styles',tpl:['<?xml version="1.0" encoding="UTF-8" standalone="yes"?>','<styleSheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main">','<tpl if="numberFormats"><numFmts count="{numberFormats.length}"><tpl for="numberFormats.items">{[Ext.util.Base64._utf8_encode(values.render())]}</tpl></numFmts></tpl>','<tpl if="fonts"><fonts count="{fonts.length}"><tpl for="fonts.items">{[values.render()]}</tpl></fonts></tpl>','<tpl if="fills"><fills count="{fills.length}"><tpl for="fills.items">{[values.render()]}</tpl></fills></tpl>','<tpl if="borders"><borders count="{borders.length}"><tpl for="borders.items">{[values.render()]}</tpl></borders></tpl>','<tpl if="cellStyleXfs"><cellStyleXfs count="{cellStyleXfs.length}"><tpl for="cellStyleXfs.items">{[values.render()]}</tpl></cellStyleXfs></tpl>','<tpl if="cellXfs"><cellXfs count="{cellXfs.length}"><tpl for="cellXfs.items">{[values.render()]}</tpl></cellXfs></tpl>','<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium7"/>','</styleSheet>'],lastNumberFormatId:164,datePatterns:{'General Date':'[$-F800]dddd, mmmm dd, yyyy','Long Date':'[$-F800]dddd, mmmm dd, yyyy','Medium Date':'mm/dd/yy;@','Short Date':'m/d/yy;@','Long Time':'h:mm:ss;@','Medium Time':'[$-409]h:mm AM/PM;@','Short Time':'h:mm;@'},numberPatterns:{'General Number':1,'Fixed':2,'Standard':2,'Percent':10,'Scientific':11,'Currency':'"$"#,##0.00','Euro Currency':'""#,##0.00'},booleanPatterns:{'Yes/No':'"Yes";-;"No"','True/False':'"True";-;"False"','On/Off':'"On";-;"Off"'},applyFonts:function(b,a){return this.checkCollection(b,a,'Ext.exporter.file.ooxml.excel.Font')},applyNumberFormats:function(b,a){return this.checkCollection(b,a,'Ext.exporter.file.ooxml.excel.NumberFormat')},applyFills:function(b,a){return this.checkCollection(b,a,'Ext.exporter.file.ooxml.excel.Fill')},applyBorders:function(b,a){return this.checkCollection(b,a,'Ext.exporter.file.ooxml.excel.Border')},applyCellXfs:function(b,a){return this.checkCollection(b,a,'Ext.exporter.file.ooxml.excel.CellXf')},applyCellStyleXfs:function(b,a){return this.checkCollection(b,a,'Ext.exporter.file.ooxml.excel.CellStyleXf')},addFont:function(d){var b=this._fonts,c,a;if(!b){this.setFonts([]);b=this._fonts}a=new Ext.exporter.file.ooxml.excel.Font(d);c=b.indexOfKey(a.getKey());if(c>=0){a.destroy()}else {b.add(a);c=b.indexOf(a)}return c},addNumberFormat:function(d){var b=this._numberFormats,a,c;if(!b){this.setNumberFormats([]);b=this._numberFormats}c=new Ext.exporter.file.ooxml.excel.NumberFormat(d);a=b.get(c.getKey());if(!a){a=c;b.add(a);a.setNumFmtId(this.lastNumberFormatId++)}return a.getNumFmtId()},addFill:function(d){var b=this._fills,c,a;if(!b){this.setFills([]);b=this._fills}a=new Ext.exporter.file.ooxml.excel.Fill(d);c=b.indexOfKey(a.getKey());if(c>=0){a.destroy()}else {b.add(a);c=b.indexOf(a)}return c},addBorder:function(d){var b=this._borders,c,a;if(!b){this.setBorders([]);b=this._borders}a=new Ext.exporter.file.ooxml.excel.Border(d);c=b.indexOfKey(a.getKey());if(c>=0){a.destroy()}else {b.add(a);c=b.indexOf(a)}return c},addCellXf:function(d){var b=this._cellXfs,c,a;if(!b){this.setCellXfs([]);b=this._cellXfs}a=new Ext.exporter.file.ooxml.excel.CellXf(d);c=b.indexOfKey(a.getKey());if(c>=0){a.destroy()}else {b.add(a);c=b.indexOf(a)}return c},addCellStyleXf:function(d){var b=this._cellStyleXfs,c,a;if(!b){this.setCellStyleXfs([]);b=this._cellStyleXfs}a=new Ext.exporter.file.ooxml.excel.CellStyleXf(d);c=b.indexOfKey(a.getKey());if(c>=0){a.destroy()}else {b.add(a);c=b.indexOf(a)}return c},getStyleParams:function(b){var c=this,i=b&&b.isStyle?b:new Ext.exporter.file.Style(b),a=i.getConfig(),e=0,g=0,f=0,d=0,h=0;a.parentId=b?b.parentId:null;if(a.font){g=c.addFont(a.font)}if(a.format){e=c.getNumberFormatId(a.format)}if(a.interior){f=c.addFill(a.interior)}if(a.borders){d=c.getBorderId(a.borders)}if(a.parentId){h=a.parentId}return {numFmtId:e,fontId:g,fillId:f,borderId:d,xfId:h,alignment:a.alignment||null}},addStyle:function(a){return this.addCellStyleXf(this.getStyleParams(a))},addCellStyle:function(e,d){var c=this.getCellXfs(),a,b;if(c){a=c.getAt(d);if(a){b=a.getConfig()}}return this.addCellXf(Ext.merge(b||{},this.getStyleParams(e)))},getNumberFormatId:function(b){var c=this,e=!!c.datePatterns[b],d,a;if(b==='General'){return 0}a=c.datePatterns[b]||c.booleanPatterns[b]||c.numberPatterns[b];if(Ext.isNumeric(a)){d=a}else if(!a){a=b}return d||c.addNumberFormat({isDate:e,formatCode:a})},getBorderId:function(c){var d={},f=c.length,b,a,e;for(b=0;b<f;b++){a=c[b];e=Ext.util.Format.lowercase(a.position);delete a.position;d[e]=a}return this.addBorder(d)}},0,0,0,0,0,0,[Ext.exporter.file.ooxml.excel,'Stylesheet'],0);Ext.cmd.derive('Ext.exporter.file.ooxml.excel.SharedStrings',Ext.exporter.file.ooxml.Xml,{isSharedStrings:!0,config:{strings:[]},contentType:{contentType:'application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml'},relationship:{schema:'http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings'},folder:'/xl/',fileName:'sharedStrings',tpl:['<?xml version="1.0" encoding="UTF-8" standalone="yes"?>','<sst xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" count="{strings.length}" uniqueCount="{strings.length}">','<tpl for="strings.getRange()"><si><t>{.:this.utf8}</t></si></tpl>','</sst>',{utf8:function(a){return Ext.util.Base64._utf8_encode(a)}}],destroy:function(){this.setStrings(null);Ext.exporter.file.ooxml.Xml.prototype.destroy.call(this)},applyStrings:function(b,c){var a;if(b){a=new Ext.util.Collection({keyFn:Ext.identityFn});a.add(b)}Ext.destroy(c);return a},addString:function(d){var c=Ext.util.Format.htmlEncode(d),a=this.getStrings(),b;if(!a){this.setStrings([]);a=this.getStrings()}b=a.indexOfKey(c);if(b<0){a.add(c);b=a.length-1}return b}},0,0,0,0,0,0,[Ext.exporter.file.ooxml.excel,'SharedStrings'],0);Ext.cmd.derive('Ext.exporter.file.ooxml.theme.Base',Ext.exporter.file.ooxml.XmlRels,{folder:'/theme/',fileName:'theme',contentType:{contentType:'application/vnd.openxmlformats-officedocument.theme+xml'},relationship:{schema:'http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme'}},0,0,0,0,['ooxmltheme.base'],[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.exporter.file.ooxml.theme,'Base'],0);Ext.cmd.derive('Ext.exporter.file.ooxml.theme.Office',Ext.exporter.file.ooxml.theme.Base,{tpl:['<?xml version="1.0" encoding="UTF-8" standalone="yes"?>','<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">','<a:themeElements>','<a:clrScheme name="Office">','<a:dk1>','<a:sysClr val="windowText" lastClr="000000"/>','</a:dk1>','<a:lt1>','<a:sysClr val="window" lastClr="FFFFFF"/>','</a:lt1>','<a:dk2>','<a:srgbClr val="44546A"/>','</a:dk2>','<a:lt2>','<a:srgbClr val="E7E6E6"/>','</a:lt2>','<a:accent1>','<a:srgbClr val="4472C4"/>','</a:accent1>','<a:accent2>','<a:srgbClr val="ED7D31"/>','</a:accent2>','<a:accent3>','<a:srgbClr val="A5A5A5"/>','</a:accent3>','<a:accent4>','<a:srgbClr val="FFC000"/>','</a:accent4>','<a:accent5>','<a:srgbClr val="5B9BD5"/>','</a:accent5>','<a:accent6>','<a:srgbClr val="70AD47"/>','</a:accent6>','<a:hlink>','<a:srgbClr val="0563C1"/>','</a:hlink>','<a:folHlink>','<a:srgbClr val="954F72"/>','</a:folHlink>','</a:clrScheme>','<a:fontScheme name="Office">','<a:majorFont>','<a:latin typeface="Calibri Light" panose="020F0302020204030204"/>','<a:ea typeface=""/>','<a:cs typeface=""/>','<a:font script="Jpan" typeface="Yu Gothic Light"/>','<a:font script="Hang" typeface="{[this.utf8(\' \')]}"/>','<a:font script="Hans" typeface="DengXian Light"/>','<a:font script="Hant" typeface="{[this.utf8(\'\')]}"/>','<a:font script="Arab" typeface="Times New Roman"/>','<a:font script="Hebr" typeface="Times New Roman"/>','<a:font script="Thai" typeface="Tahoma"/>','<a:font script="Ethi" typeface="Nyala"/>','<a:font script="Beng" typeface="Vrinda"/>','<a:font script="Gujr" typeface="Shruti"/>','<a:font script="Khmr" typeface="MoolBoran"/>','<a:font script="Knda" typeface="Tunga"/>','<a:font script="Guru" typeface="Raavi"/>','<a:font script="Cans" typeface="Euphemia"/>','<a:font script="Cher" typeface="Plantagenet Cherokee"/>','<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>','<a:font script="Tibt" typeface="Microsoft Himalaya"/>','<a:font script="Thaa" typeface="MV Boli"/>','<a:font script="Deva" typeface="Mangal"/>','<a:font script="Telu" typeface="Gautami"/>','<a:font script="Taml" typeface="Latha"/>','<a:font script="Syrc" typeface="Estrangelo Edessa"/>','<a:font script="Orya" typeface="Kalinga"/>','<a:font script="Mlym" typeface="Kartika"/>','<a:font script="Laoo" typeface="DokChampa"/>','<a:font script="Sinh" typeface="Iskoola Pota"/>','<a:font script="Mong" typeface="Mongolian Baiti"/>','<a:font script="Viet" typeface="Times New Roman"/>','<a:font script="Uigh" typeface="Microsoft Uighur"/>','<a:font script="Geor" typeface="Sylfaen"/>','</a:majorFont>','<a:minorFont>','<a:latin typeface="Calibri" panose="020F0502020204030204"/>','<a:ea typeface=""/>','<a:cs typeface=""/>','<a:font script="Jpan" typeface="Yu Gothic"/>','<a:font script="Hang" typeface="{[this.utf8(\' \')]}"/>','<a:font script="Hans" typeface="DengXian"/>','<a:font script="Hant" typeface="{[this.utf8(\'\')]}"/>','<a:font script="Arab" typeface="Arial"/>','<a:font script="Hebr" typeface="Arial"/>','<a:font script="Thai" typeface="Tahoma"/>','<a:font script="Ethi" typeface="Nyala"/>','<a:font script="Beng" typeface="Vrinda"/>','<a:font script="Gujr" typeface="Shruti"/>','<a:font script="Khmr" typeface="DaunPenh"/>','<a:font script="Knda" typeface="Tunga"/>','<a:font script="Guru" typeface="Raavi"/>','<a:font script="Cans" typeface="Euphemia"/>','<a:font script="Cher" typeface="Plantagenet Cherokee"/>','<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>','<a:font script="Tibt" typeface="Microsoft Himalaya"/>','<a:font script="Thaa" typeface="MV Boli"/>','<a:font script="Deva" typeface="Mangal"/>','<a:font script="Telu" typeface="Gautami"/>','<a:font script="Taml" typeface="Latha"/>','<a:font script="Syrc" typeface="Estrangelo Edessa"/>','<a:font script="Orya" typeface="Kalinga"/>','<a:font script="Mlym" typeface="Kartika"/>','<a:font script="Laoo" typeface="DokChampa"/>','<a:font script="Sinh" typeface="Iskoola Pota"/>','<a:font script="Mong" typeface="Mongolian Baiti"/>','<a:font script="Viet" typeface="Arial"/>','<a:font script="Uigh" typeface="Microsoft Uighur"/>','<a:font script="Geor" typeface="Sylfaen"/>','</a:minorFont>','</a:fontScheme>','<a:fmtScheme name="Office">','<a:fillStyleLst>','<a:solidFill>','<a:schemeClr val="phClr"/>','</a:solidFill>','<a:gradFill rotWithShape="1">','<a:gsLst>','<a:gs pos="0">','<a:schemeClr val="phClr">','<a:lumMod val="110000"/>','<a:satMod val="105000"/>','<a:tint val="67000"/>','</a:schemeClr>','</a:gs>','<a:gs pos="50000">','<a:schemeClr val="phClr">','<a:lumMod val="105000"/>','<a:satMod val="103000"/>','<a:tint val="73000"/>','</a:schemeClr>','</a:gs>','<a:gs pos="100000">','<a:schemeClr val="phClr">','<a:lumMod val="105000"/>','<a:satMod val="109000"/>','<a:tint val="81000"/>','</a:schemeClr>','</a:gs>','</a:gsLst>','<a:lin ang="5400000" scaled="0"/>','</a:gradFill>','<a:gradFill rotWithShape="1">','<a:gsLst>','<a:gs pos="0">','<a:schemeClr val="phClr">','<a:satMod val="103000"/>','<a:lumMod val="102000"/>','<a:tint val="94000"/>','</a:schemeClr>','</a:gs>','<a:gs pos="50000">','<a:schemeClr val="phClr">','<a:satMod val="110000"/>','<a:lumMod val="100000"/>','<a:shade val="100000"/>','</a:schemeClr>','</a:gs>','<a:gs pos="100000">','<a:schemeClr val="phClr">','<a:lumMod val="99000"/>','<a:satMod val="120000"/>','<a:shade val="78000"/>','</a:schemeClr>','</a:gs>','</a:gsLst>','<a:lin ang="5400000" scaled="0"/>','</a:gradFill>','</a:fillStyleLst>','<a:lnStyleLst>','<a:ln w="6350" cap="flat" cmpd="sng" algn="ctr">','<a:solidFill>','<a:schemeClr val="phClr"/>','</a:solidFill>','<a:prstDash val="solid"/>','<a:miter lim="800000"/>','</a:ln>','<a:ln w="12700" cap="flat" cmpd="sng" algn="ctr">','<a:solidFill>','<a:schemeClr val="phClr"/>','</a:solidFill>','<a:prstDash val="solid"/>','<a:miter lim="800000"/>','</a:ln>','<a:ln w="19050" cap="flat" cmpd="sng" algn="ctr">','<a:solidFill>','<a:schemeClr val="phClr"/>','</a:solidFill>','<a:prstDash val="solid"/>','<a:miter lim="800000"/>','</a:ln>','</a:lnStyleLst>','<a:effectStyleLst>','<a:effectStyle>','<a:effectLst/>','</a:effectStyle>','<a:effectStyle>','<a:effectLst/>','</a:effectStyle>','<a:effectStyle>','<a:effectLst>','<a:outerShdw blurRad="57150" dist="19050" dir="5400000" algn="ctr" rotWithShape="0">','<a:srgbClr val="000000">','<a:alpha val="63000"/>','</a:srgbClr>','</a:outerShdw>','</a:effectLst>','</a:effectStyle>','</a:effectStyleLst>','<a:bgFillStyleLst>','<a:solidFill>','<a:schemeClr val="phClr"/>','</a:solidFill>','<a:solidFill>','<a:schemeClr val="phClr">','<a:tint val="95000"/>','<a:satMod val="170000"/>','</a:schemeClr>','</a:solidFill>','<a:gradFill rotWithShape="1">','<a:gsLst>','<a:gs pos="0">','<a:schemeClr val="phClr">','<a:tint val="93000"/>','<a:satMod val="150000"/>','<a:shade val="98000"/>','<a:lumMod val="102000"/>','</a:schemeClr>','</a:gs>','<a:gs pos="50000">','<a:schemeClr val="phClr">','<a:tint val="98000"/>','<a:satMod val="130000"/>','<a:shade val="90000"/>','<a:lumMod val="103000"/>','</a:schemeClr>','</a:gs>','<a:gs pos="100000">','<a:schemeClr val="phClr">','<a:shade val="63000"/>','<a:satMod val="120000"/>','</a:schemeClr>','</a:gs>','</a:gsLst>','<a:lin ang="5400000" scaled="0"/>','</a:gradFill>','</a:bgFillStyleLst>','</a:fmtScheme>','</a:themeElements>','<a:objectDefaults/>','<a:extraClrSchemeLst/>','</a:theme>',{utf8:function(a){return Ext.util.Base64._utf8_encode(a||'')}}]},0,0,0,0,['ooxmltheme.office'],0,[Ext.exporter.file.ooxml.theme,'Office'],0);Ext.cmd.derive('Ext.exporter.file.ooxml.excel.Workbook',Ext.exporter.file.ooxml.XmlRels,{isWorkbook:!0,currentSheetIndex:1,currentPivotCacheIndex:0,config:{stylesheet:{},sharedStrings:{},sheets:[],pivotCaches:null,theme:{type:'office',folder:'/xl/theme/',index:1}},contentType:{contentType:'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml'},relationship:{schema:'http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument'},folder:'/xl/',fileName:'workbook',tpl:['<?xml version="1.0" encoding="UTF-8" standalone="yes"?>','<workbook xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" ','xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships">','<tpl if="sheets">','<sheets>','<tpl if="sheets"><tpl for="sheets.items"><sheet name="{[this.utf8(values.getName())]}" sheetId="{[xindex]}" state="visible" r:id="{[values.getRelationship().getId()]}"/></tpl></tpl>','</sheets>','</tpl>','<tpl if="pivotCaches">','<pivotCaches>','<tpl for="pivotCaches.getRange()">{[values.render()]}</tpl>','</pivotCaches>','</tpl>','</workbook>',{utf8:function(a){return Ext.util.Base64._utf8_encode(a||'')}}],destroy:function(){var a=this;a.setStylesheet(null);a.setSharedStrings(null);a.setTheme(null);Ext.exporter.file.ooxml.XmlRels.prototype.destroy.call(this)},collectFiles:function(b){var a=this,g=a._stylesheet,e=a._sharedStrings,h=a._theme,d,c,f;d=a._sheets;f=d.length;for(c=0;c<f;c++){d.items[c].collectFiles(b)}b[a._path]=a.render();b[g._path]=g.render();b[e._path]=e.render();b[h._path]=h.render();a.collectRelationshipsFiles(b)},collectContentTypes:function(a){var b=this,d,c,e;a.push(b.getStylesheet().getContentType());a.push(b.getSharedStrings().getContentType());a.push(b.getTheme().getContentType());d=b.getSheets();e=d.length;for(c=0;c<e;c++){d.getAt(c).collectContentTypes(a)}Ext.exporter.file.ooxml.XmlRels.prototype.collectContentTypes.call(this,a)},applyStylesheet:function(a){if(!a||a.isStylesheet){return a}return new Ext.exporter.file.ooxml.excel.Stylesheet()},updateStylesheet:function(c,b){var a=this.getRelationships();if(b&&a){a.removeRelationship(b.getRelationship())}if(c&&a){a.addRelationship(c.getRelationship())}Ext.destroy(b)},applySharedStrings:function(a){if(!a||a.isSharedStrings){return a}return new Ext.exporter.file.ooxml.excel.SharedStrings()},updateSharedStrings:function(c,a){var b=this.getRelationships();if(a&&b){b.removeRelationship(a.getRelationship())}if(c){b.addRelationship(c.getRelationship())}Ext.destroy(a)},applyPivotCaches:function(b,a){return this.checkCollection(b,a,'Ext.exporter.file.ooxml.excel.PivotCache')},updatePivotCaches:function(c,b){var a=this;if(b){b.un({add:a.onPivotCacheAdd,scope:a})}if(c){c.on({add:a.onPivotCacheAdd,scope:a})}},onPivotCacheAdd:function(e,b){var d=b.items.length,a,c;for(a=0;a<d;a++){c=b.items[a];c.setCacheId(this.currentPivotCacheIndex++)}},applySheets:function(b,a){return this.checkCollection(b,a,'Ext.exporter.file.ooxml.excel.Sheet')},updateSheets:function(c,b){var a=this;if(b){b.un({add:a.onSheetAdd,remove:a.onSheetRemove,scope:a})}if(c){c.on({add:a.onSheetAdd,remove:a.onSheetRemove,scope:a})}},applyTheme:function(a){var b={type:'office'};if(a){if(typeof a==='string'){b.type=a}else {Ext.apply(b,a)}a=Ext.Factory.ooxmltheme(a)}return a},updateTheme:function(c,b){var a=this.getRelationships();if(b&&a){a.removeRelationship(b.getRelationship())}if(c&&a){a.addRelationship(c.getRelationship())}Ext.destroy(b)},onSheetAdd:function(f,c){var e=this.getRelationships(),d=c.items.length,b,a;for(b=0;b<d;b++){a=c.items[b];a.setIndex(this.currentSheetIndex++);a.setWorkbook(this);e.addRelationship(a.getRelationship())}},onSheetRemove:function(f,c){var e=this.getRelationships(),d=c.items.length,a,b;for(a=0;a<d;a++){b=c.items[a];e.removeRelationship(b.getRelationship());Ext.destroy(b)}},addWorksheet:function(d){var c=Ext.Array.from(d||{}),e=c.length,a,b;for(a=0;a<e;a++){b=c[a];if(b&&!b.isWorksheet){b.workbook=this;c[a]=new Ext.exporter.file.ooxml.excel.Worksheet(b)}}return this.getSheets().add(c)},removeWorksheet:function(a){return this.getSheets().remove(a)},addPivotCache:function(a){if(!this.getPivotCaches()){this.setPivotCaches([])}return this.getPivotCaches().add(a||{})},removePivotCache:function(a){return this.getPivotCaches().remove(a)},addStyle:function(a){return this.getStylesheet().addStyle(a)},addCellStyle:function(a){return this.getStylesheet().addCellStyle(a)}},0,0,0,0,0,0,[Ext.exporter.file.ooxml.excel,'Workbook'],0);Ext.cmd.derive('Ext.exporter.file.ooxml.ContentTypes',Ext.exporter.file.ooxml.Xml,{isContentTypes:!0,config:{contentTypes:[{tag:'Default',contentType:'application/vnd.openxmlformats-package.relationships+xml',extension:'rels'},{tag:'Default',contentType:'application/xml',extension:'xml'}]},tpl:['<?xml version="1.0" encoding="UTF-8" standalone="yes"?>','<Types xmlns="http://schemas.openxmlformats.org/package/2006/content-types">','<tpl if="contentTypes"><tpl for="contentTypes.getRange()">{[values.render()]}</tpl></tpl>','</Types>'],folder:'/',fileName:'[Content_Types]',applyContentTypes:function(b,a){return this.checkCollection(b,a,'Ext.exporter.file.ooxml.ContentType')},addContentType:function(a){return this.getContentTypes().add(a||{})}},0,0,0,0,0,0,[Ext.exporter.file.ooxml,'ContentTypes'],0);Ext.cmd.derive('Ext.exporter.file.ooxml.CoreProperties',Ext.exporter.file.ooxml.Xml,{isCoreProperties:!0,config:{title:'Workbook',author:'Sencha',subject:''},contentType:{contentType:'application/vnd.openxmlformats-package.core-properties+xml',partName:'/docProps/core.xml'},relationship:{schema:'http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties',target:'docProps/core.xml'},path:'/docProps/core.xml',tpl:['<coreProperties xmlns="http://schemas.openxmlformats.org/package/2006/metadata/core-properties" ','xmlns:dcterms="http://purl.org/dc/terms/" ','xmlns:dc="http://purl.org/dc/elements/1.1/" ','xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">','   <dc:creator>{author:this.utf8}</dc:creator>','   <dc:title>{title:this.utf8}</dc:title>','   <dc:subject>{subject:this.utf8}</dc:subject>','</coreProperties>',{utf8:function(a){return Ext.util.Base64._utf8_encode(Ext.util.Format.htmlEncode(a)||'')}}]},0,0,0,0,0,0,[Ext.exporter.file.ooxml,'CoreProperties'],0);Ext.cmd.derive('Ext.exporter.file.ooxml.Excel',Ext.exporter.file.ooxml.XmlRels,{config:{properties:null,workbook:{}},folder:'/',fileName:null,tpl:[],constructor:function(a){var b=Ext.exporter.file.ooxml.XmlRels.prototype.constructor.call(this,a);if(!this.getWorkbook()){this.setWorkbook({})}return b},destroy:function(){var a=this;a.setWorkbook(null);a.setProperties(null);a.setRelationships(null);Ext.exporter.file.ooxml.XmlRels.prototype.destroy.call(this)},render:function(){var e={},f,a,c,d,g,b;this.collectFiles(e);f=Ext.Object.getKeys(e);g=f.length;if(!g){return}b=new Ext.exporter.file.zip.Archive();for(d=0;d<g;d++){a=f[d];c=e[a];a=a.substr(1);if(a.indexOf('.xml')!==-1||a.indexOf('.rel')!==-1){b.addFile({path:a,data:c})}}c=b.getContent();b=Ext.destroy(b);return c},collectFiles:function(b){var a=new Ext.exporter.file.ooxml.ContentTypes(),e=this.getWorkbook(),c=this.getProperties(),d=[];e.collectFiles(b);if(c){a.addContentType(c.getContentType());b[c.getPath()]=c.render()}e.collectContentTypes(d);a.addContentType(d);b[a.getPath()]=a.render();Ext.destroy(a);this.collectRelationshipsFiles(b)},applyProperties:function(a){if(!a||a.isCoreProperties){return a}return new Ext.exporter.file.ooxml.CoreProperties(a)},updateProperties:function(b,a){var c=this.getRelationships();if(a){c.removeRelationship(a.getRelationship());a.destroy()}if(b){c.addRelationship(b.getRelationship())}},applyWorkbook:function(a){if(!a||a.isWorkbook){return a}return new Ext.exporter.file.ooxml.excel.Workbook(a)},updateWorkbook:function(b,a){var c=this.getRelationships();if(a){c.removeRelationship(a.getRelationship());a.destroy()}if(b){c.addRelationship(b.getRelationship())}},addWorksheet:function(a){return this.getWorkbook().addWorksheet(a)},addStyle:function(a){return this.getWorkbook().getStylesheet().addStyle(a)},addCellStyle:function(b,a){return this.getWorkbook().getStylesheet().addCellStyle(b,a)}},1,0,0,0,0,0,[Ext.exporter.file.ooxml,'Excel'],0);Ext.cmd.derive('Ext.exporter.excel.Xlsx',Ext.exporter.Base,{alternateClassName:'Ext.exporter.Excel',config:{defaultStyle:{alignment:{vertical:'Top'},font:{fontName:'Arial',family:'Swiss',size:11,color:'#000000'}},titleStyle:{alignment:{horizontal:'Center',vertical:'Center'},font:{fontName:'Arial',family:'Swiss',size:18,color:'#1F497D'}},groupHeaderStyle:{borders:[{position:'Bottom',lineStyle:'Continuous',weight:1,color:'#4F81BD'}]},groupFooterStyle:{borders:[{position:'Top',lineStyle:'Continuous',weight:1,color:'#4F81BD'}]},tableHeaderStyle:{alignment:{horizontal:'Center',vertical:'Center'},borders:[{position:'Bottom',lineStyle:'Continuous',weight:1,color:'#4F81BD'}],font:{fontName:'Arial',family:'Swiss',size:11,color:'#1F497D'}}},fileName:'export.xlsx',charset:'ascii',mimeType:'application/zip',binary:!0,titleRowHeight:22.5,headerRowHeight:20.25,destroy:function(){var a=this;a.excel=a.worksheet=Ext.destroy(a.excel,a.worksheet);Ext.exporter.Base.prototype.destroy.call(this)},getContent:function(){var a=this,b=this.getConfig(),d=b.data,e,c;a.excel=new Ext.exporter.file.ooxml.Excel({properties:{title:b.title,author:b.author}});a.worksheet=c=a.excel.addWorksheet({name:b.title});a.tableHeaderStyleId=a.excel.addCellStyle(b.tableHeaderStyle);e=d?d.getColumnCount():1;c.beginRowRendering();a.addTitle(b,e);if(d){c.renderRows(a.buildHeader());c.renderRows(a.buildRows(d,e,-1))}c.endRowRendering();a.columnStylesNormal=a.columnStylesNormalId=a.columnStylesFooter=null;a.columnStylesFooterId=a.headerStyles=a.footerStyles=null;return a.excel.render()},addTitle:function(a,b){if(!Ext.isEmpty(a.title)){this.worksheet.renderRow({height:this.titleRowHeight,cells:[{mergeAcross:b-1,value:a.title,styleId:this.excel.addCellStyle(a.titleStyle)}]})}},buildRows:function(b,t,n){var c=this,s=c._showSummary,e=[],k,j,l,v,h,r,a,f,w,q,p,m,u,g,d,i,o;if(!b){return e}k=b._groups;u=b._text;m=!k&&!b._rows;if(s!==!1&&!Ext.isEmpty(u)&&!m){l=c.getGroupHeaderStyleByLevel(n);e.push({styleId:l,cells:[{mergeAcross:t-1,value:u,styleId:l}]})}if(k){w=k.length;for(r=0;r<w;r++){Ext.Array.insert(e,e.length,c.buildRows(k.items[r],t,n+1))}}if(b._rows){g=b._rows.items;q=g.length;if(s===!1){l=c.getGroupHeaderStyleByLevel(n);e.push({cells:[{mergeAcross:t-1,value:b._text,styleId:l}]})}for(f=0;f<q;f++){i=g[f];j={id:i._id,cells:[]};h=i._cells;p=h.length;for(a=0;a<p;a++){d=h.items[a];o=c.columnStylesNormalId[a];j.cells.push({id:d._id,value:d._value,styleId:c.getCellStyleId(d._style,o)})}e.push(j)}}g=b._summaries&&b._summaries.items;if(g&&(s||m)){v=c.getGroupFooterStyleByLevel(n);q=g.length;for(f=0;f<q;f++){i=g[f];j={id:i._id,cells:[]};h=i._cells;p=h.length;for(a=0;a<p;a++){d=h.items[a];o=m?c.columnStylesNormalId[a]:a===0?v:c.columnStylesFooterId[a];j.cells.push({id:d._id,value:d._value,styleId:c.getCellStyleId(d._style,o)})}e.push(j)}}b.destroy();return e},getGroupHeaderStyleByLevel:function(c){var b=this,d='l'+c,a=b.headerStyles;if(!a){b.headerStyles=a={}}if(!a.hasOwnProperty(d)){a[d]=b.excel.addCellStyle(Ext.applyIf({alignment:{Indent:c>0?c:0}},b._groupHeaderStyle))}return a[d]},getGroupFooterStyleByLevel:function(c){var b=this,d='l'+c,a=b.footerStyles;if(!a){b.footerStyles=a={}}if(!a.hasOwnProperty(d)){a[d]=b.excel.addCellStyle(Ext.applyIf({alignment:{Indent:c>0?c:0}},b.columnStylesFooter[0]))}return a[d]},buildHeader:function(){var a=this,k={},n=a.getData(),o=[],i,l,g,c,p,f,d,e,m,j,b,h;a.buildHeaderRows(n.getColumns(),k);i=Ext.Object.getKeys(k);p=i.length;for(g=0;g<p;g++){l={height:a.headerRowHeight,styleId:a.tableHeaderStyleId,cells:[]};e=k[i[g]];f=e.length;for(c=0;c<f;c++){h=e[c];h.styleId=a.tableHeaderStyleId;l.cells.push(h)}o.push(l)}e=n.getBottomColumns();f=e.length;a.columnStylesNormal=[];a.columnStylesNormalId=[];a.columnStylesFooter=[];a.columnStylesFooterId=[];m=a.getGroupFooterStyle();for(c=0;c<f;c++){j=e[c];b={style:j.getStyle(),width:j.getWidth()};d=Ext.applyIf({parentId:0},m);d=Ext.merge(d,b.style);a.columnStylesFooter.push(d);a.columnStylesFooterId.push(a.excel.addCellStyle(d));d=Ext.applyIf({parentId:0},b.style);a.columnStylesNormal.push(d);b.styleId=a.excel.addCellStyle(d);a.columnStylesNormalId.push(b.styleId);b.min=b.max=c+1;b.style=null;if(b.width){b.width=b.width/10}a.worksheet.addColumn(b)}return o},getCellStyleId:function(b,a){return b?this.excel.addCellStyle(b,a):a},buildHeaderRows:function(e,b){var a,f,d,g,c;if(!e){return}g=e.length;for(d=0;d<g;d++){a=e.items[d].getConfig();a.value=a.text;f=a.columns;delete a.columns;delete a.table;c='s'+a.level;b[c]=b[c]||[];b[c].push(a);this.buildHeaderRows(f,b)}}},0,0,0,0,['exporter.excel','exporter.excel07','exporter.xlsx'],0,[Ext.exporter.excel,'Xlsx',Ext.exporter,'Excel'],0);Ext.define('App.overrides.exporter.excel.Xlsx',{override:'Ext.exporter.excel.Xlsx',config:{summaryAtGroupHeader:!0,colors:['#008081','#003152','#0F52BA','#0080FF','#4C516D'],lineTitleStyle:{alignment:{vertical:'Center',wrapText:!0},font:{fontName:'Calibri',family:'Swiss',size:11,color:'#000000',bold:!0}},defaultStyle:{alignment:{vertical:'Center',wrapText:!0},font:{fontName:'Calibri',family:'Swiss',size:11,color:'#000000'}},titleStyle:{alignment:{horizontal:'Center',vertical:'Center'},font:{fontName:'Calibri',family:'Swiss',size:18,color:'#1F497D',bold:!0}},groupHeaderStyle:{borders:[{position:'Top',lineStyle:'Continuous',color:'#1D2951',weight:2}],font:{fontName:'Calibri',family:'Swiss',size:12,color:'#008081',bold:!0}},groupFooterStyle:{alignment:{horizontal:'Right'},borders:[{position:'Top',lineStyle:'Continuous',color:'#0d1114',weight:2}],font:{fontName:'Calibri',family:'Swiss',size:12,color:'#1D2951',bold:!0}},tableHeaderStyle:{alignment:{horizontal:'Center',vertical:'Center',wrapText:!0},borders:[{position:'Left',lineStyle:'Continuous',color:'#66615f'}],font:{fontName:'Calibri',family:'Swiss',size:12,color:'#000000',bold:!0}}},buildRows:function(d,x,l){var b=this,t=b._showSummary,r=b._summaryAtGroupHeader,i=[],o,j,v,u,g,q,a,c,y,n,m,k,w,e,f,h,p;if(!d){return i}o=d._groups;w=d._text;k=!o&&!d._rows;if(t!==!1&&!Ext.isEmpty(w)&&!k){v=b.getGroupHeaderStyleByLevel(l);var s={styleId:v,cells:[{mergeAcross:!r?x-1:0,value:w,styleId:v}]};if(r){e=d._summaries&&d._summaries.items;if(e&&(t||k)){n=e.length;for(c=0;c<n;c++){h=e[c];j={id:h._id,cells:[]};g=h._cells;m=g.length;for(a=1;a<m;a++){f=g.items[a];p=k?b.columnStylesNormalId[a]:a===0?u:b.columnStylesFooterId[a];styleHCells=b.getGroupHeaderStyleByLevel(l,!0);s.cells.push({id:f._id,value:f._value,styleId:styleHCells})}i.push(s)}}}else {i.push(s)}}if(o){y=o.length;for(q=0;q<y;q++){Ext.Array.insert(i,i.length,b.buildRows(o.items[q],x,l+1))}}if(d._rows){e=d._rows.items;n=e.length;for(c=0;c<n;c++){h=e[c];j={id:h._id,cells:[]};g=h._cells;m=g.length;for(a=0;a<m;a++){f=g.items[a];p=b.columnStylesNormalId[a];j.cells.push({id:f._id,value:f._value,styleId:(f._style,p)})}var z=b.getLineTitleStyleByLevel(l+1);j.cells[0].styleId=z;i.push(j)}}e=d._summaries&&d._summaries.items;if(e&&(t||k)){if(!r||l<0){u=b.getGroupFooterStyleByLevel(l);n=e.length;for(c=0;c<n;c++){h=e[c];j={id:h._id,cells:[]};g=h._cells;m=g.length;for(a=0;a<m;a++){f=g.items[a];p=k?b.columnStylesNormalId[a]:a===0?u:b.columnStylesFooterId[a];j.cells.push({id:f._id,value:f._value,styleId:b.getCellStyleId(f._style,p)})}i.push(j)}}}d.destroy();return i},getLineTitleStyleByLevel:function(c){var b=this,d='l'+c,a=b.lineTitleStyle;if(!a){b.lineTitleStyle=a={}}if(!a.hasOwnProperty(d)){a[d]=b.excel.addCellStyle(Ext.applyIf({alignment:{Indent:c>0?c:0}},b._lineTitleStyle))}return a[d]},getGroupHeaderStyleByLevel:function(b,e){if(e===undefined){e=!1}var c=this,g='l'+(e?'n':'')+b,d=c.headerStyles,f=c.getColors(),a;if(!d){c.headerStyles=d={}}if(!d.hasOwnProperty(g)){if(Array.isArray(f)){a=f[b];if(!a){a=Ext.util.Color.fromString(f[b-1]);a.lighten(0.5);a=a.toString()}}else {a=Ext.util.Color.fromString(c._groupHeaderStyle.font.color);a.lighten(b*1.1/10);a=a.toString()}d[g]=c.excel.addCellStyle(Ext.applyIf({alignment:{Indent:(!e&&b)>0?b:0},font:{fontName:'Calibri',family:'Swiss',size:12,color:a,bold:!0}},c._groupHeaderStyle))}return d[g]}});Ext.cmd.derive('Ext.exporter.Plugin',Ext.plugin.Abstract,{init:function(b){var a=this;b.saveDocumentAs=Ext.bind(a.saveDocumentAs,a);b.getDocumentData=Ext.bind(a.getDocumentData,a);a.cmp=b;return Ext.plugin.Abstract.prototype.init.call(this,b)},destroy:function(){var a=this,b=a.cmp;b.saveDocumentAs=b.getDocumentData=a.cmp=a.delayedSaveTimer=Ext.unasap(a.delayedSaveTimer);Ext.plugin.Abstract.prototype.destroy.call(this)},saveDocumentAs:function(a){var d=this.cmp,b=new Ext.Deferred(),c=this.getExporter(a);d.fireEvent('beforedocumentsave',d,{config:a,exporter:c});this.delayedSaveTimer=Ext.asap(this.delayedSave,this,[c,a,b]);return b.promise},delayedSave:function(b,c,d){var a=this.cmp;if(this.disabled||!a){Ext.destroy(b);d.reject();return}this.setExporterData(b,c);b.saveAs().then(function(){d.resolve(c)},function(a){d.reject(a)}).always(function(){var e=a&&!a.destroyed;if(e){a.fireEvent('documentsave',a,{config:c,exporter:b})}Ext.destroy(b);if(e){a.fireEvent('exportfinished',a,{config:c})}})},getDocumentData:function(b){var a,c;if(this.disabled){return}a=this.getExporter(b);this.setExporterData(a,b);c=a.getContent();Ext.destroy(a);return c},getExporter:function(a){var b=Ext.apply({type:'excel'},a);return Ext.Factory.exporter(b)},setExporterData:function(a,b){var c=this.cmp;a.setData(this.prepareData(b));c.fireEvent('dataready',c,{config:b,exporter:a})},getExportStyle:function(b,d){var f=d&&d.type,c,e,a;if(Ext.isArray(b)){c=Ext.Array.pluck(b,'type');a=Ext.Array.indexOf(c,undefined);if(a>=0){e=b[a]}a=Ext.Array.indexOf(c,f);return a>=0?b[a]:e}else {return b}},prepareData:Ext.emptyFn},0,0,0,0,['plugin.exporterplugin'],0,[Ext.exporter,'Plugin'],0);Ext.cmd.derive('Ext.grid.plugin.BaseExporter',Ext.exporter.Plugin,{prepareData:function(b){var c=this,a=c.cmp.getStore(),d=new Ext.exporter.data.Table(),f,e;f=c.getColumnHeaders(b,c.getGridColumns());d.setColumns(f.headers);if(!a||a&&a.destroyed){return d}e=c.prepareDataIndexColumns(b,f.dataIndexes);if(a.isTreeStore){c.extractNodeData(b,d,e,a.getRoot())}else {if(b&&b.includeGroups&&a.isGrouped()){c.extractData(b,d,e,a.getGroups());c.extractSummaryRow(b,d,e,a)}else {c.extractRows(b,d,e,a)}}return d},getColumnHeaders:function(f,d){var e=[],c=[],g=d.length,b,a;for(b=0;b<g;b++){a=this.getColumnHeader(f,d[b]);if(a){e.push(a.header);Ext.Array.insert(c,c.length,a.dataIndexes)}}return {headers:e,dataIndexes:c}},getGridColumns:function(){return []},getColumnHeader:Ext.emptyFn,prepareDataIndexColumns:function(d,b){var e=b.length,c=[],a;for(a=0;a<e;a++){c.push(this.prepareDataIndexColumn(d,b[a]))}return c},prepareDataIndexColumn:function(b,a){return {column:a,fn:Ext.emptyFn}},extractData:function(g,i,f,c){var b,h,e,a,d;if(!c){return}h=c.getCount();for(b=0;b<h;b++){a=c.getAt(b);e=a.getGroups();d=i.addGroup({text:a.getGroupKey()});if(e){this.extractData(g,d,f,e)}else {this.extractRows(g,d,f,a)}}},extractNodeData:function(n,k,f,h){var j=this,o=j.cmp.getStore(),m=f.length,c,d,a,i,b,g,e,l;if(h&&h.hasChildNodes()){e=h.childNodes;l=e.length;for(c=0;c<l;c++){a=e[c];i={cells:[]};for(d=0;d<m;d++){g=f[d];b=j.getCell(o,a,g)||{value:null};if(g.column.isTreeColumn&&b){b.style=Ext.merge(b.style||{},{alignment:{indent:a.getDepth()-1}})}i.cells.push(b)}k.addRow(i);if(a.hasChildNodes()){j.extractNodeData(n,k,f,a)}}}},extractRows:function(k,g,d,c){var m=this.cmp,l=m.getStore(),n=c.getCount(),j=d.length,i=[],a,b,f,e,h;for(a=0;a<n;a++){f=c.getAt(a);e={cells:[]};for(b=0;b<j;b++){h=this.getCell(l,f,d[b]);e.cells.push(h||{value:null})}i.push(e)}g.setRows(i);this.extractSummaryRow(k,g,d,c)},extractSummaryRow:function(h,i,b,d){var g=b.length,a,e,c,f;if(h.includeSummary){c={cells:[]};e=this.getSummaryRecord(d,b);for(a=0;a<g;a++){f=this.getSummaryCell(d,e,b[a]);c.cells.push(f||{value:null})}i.setSummaries(c)}},getCell:Ext.emptyFn,getSummaryCell:Ext.emptyFn,getSummaryRecord:function(c,f){var h=f.length,g=c.getSummaryRecord(),b=new Ext.data.Model({id:'summary-record'}),d,a,e;b.beginEdit();b.set(g.getData());for(d=0;d<h;d++){a=f[d];if(a.summary){e=c.isStore?c.data.items.slice():c.items.slice();b.set(a.summaryIndex,a.summary.calculate(e,a.summaryIndex,'data',0,e.length))}else if(a.summaryType){b.set(a.summaryIndex,this.getSummary(c,a.summaryType,a.summaryIndex))}}b.endEdit();b.commit(!0);return b},getSummary:function(a,c,b){var d=a.isStore;if(c){if(Ext.isFunction(c)){if(d){return a.aggregate(c,null,!1,[b])}else {return a.aggregate(b,c)}}switch(c){case 'count':return a.count();case 'min':return a.min(b);case 'max':return a.max(b);case 'sum':return a.sum(b);case 'average':return a.average(b);default:return null;}}}},0,0,0,0,0,0,[Ext.grid.plugin,'BaseExporter'],0);Ext.define('App.overrides.grid.plugin.BaseExporter',{override:'Ext.grid.plugin.BaseExporter',prepareData:function(b){var c=this,a=c.cmp.getStore(),d=new Ext.exporter.data.Table(),f,e;f=c.getColumnHeaders(b,c.getGridColumns());d.setColumns(f.headers);if(!a||a&&a.destroyed){return d}e=c.prepareDataIndexColumns(b,f.dataIndexes);if(a.isTreeStore){c.extractNodeData(b,d,e,a.getRoot())}else {if(b&&b.includeGroups&&a.isGrouped()){c.extractData(b,d,e,a.getGroups());c.extractSummaryRow(b,d,e,a)}else {c.extractRows(b,d,e,a)}}return d},getColumnHeaders:function(f,d){var e=[],c=[],g=d.length,b,a;for(b=0;b<g;b++){a=this.getColumnHeader(f,d[b]);if(a){e.push(a.header);Ext.Array.insert(c,c.length,a.dataIndexes)}}return {headers:e,dataIndexes:c}},getGridColumns:function(){return []},getColumnHeader:Ext.emptyFn,prepareDataIndexColumns:function(d,b){var e=b.length,c=[],a;for(a=0;a<e;a++){c.push(this.prepareDataIndexColumn(d,b[a]))}return c},prepareDataIndexColumn:function(b,a){return {column:a,fn:Ext.emptyFn}},extractData:function(g,i,f,c){var b,h,e,a,d;if(!c){return}h=c.getCount();for(b=0;b<h;b++){a=c.getAt(b);e=a.getGroups();d=i.addGroup({text:a.getGroupKey()});if(e){this.extractData(g,d,f,e)}else {this.extractRows(g,d,f,a)}}},extractNodeData:function(n,k,f,h){var j=this,o=j.cmp.getStore(),m=f.length,c,d,a,i,b,g,e,l;if(h&&h.hasChildNodes()){e=h.childNodes;l=e.length;for(c=0;c<l;c++){a=e[c];i={cells:[]};for(d=0;d<m;d++){g=f[d];b=j.getCell(o,a,g)||{value:null};if(g.column.isTreeColumn&&b){b.style=Ext.merge(b.style||{},{alignment:{indent:a.getDepth()-1}})}i.cells.push(b)}k.addRow(i);if(a.hasChildNodes()){j.extractNodeData(n,k,f,a)}}}},extractRows:function(k,g,d,c){var m=this.cmp,l=m.getStore(),n=c.getCount(),j=d.length,i=[],a,b,f,e,h;for(a=0;a<n;a++){f=c.getAt(a);e={cells:[]};for(b=0;b<j;b++){h=this.getCell(l,f,d[b]);e.cells.push(h||{value:null})}i.push(e)}g.setRows(i);this.extractSummaryRow(k,g,d,c)},extractSummaryRow:function(h,i,b,d){var g=b.length,a,e,c,f;if(h.includeSummary){c={cells:[]};e=this.getSummaryRecord(d,b);for(a=0;a<g;a++){f=this.getSummaryCell(d,e,b[a]);c.cells.push(f||{value:null})}i.setSummaries(c)}},getCell:Ext.emptyFn,getSummaryCell:Ext.emptyFn,getSummaryRecord:function(c,f){var h=f.length,g=c.getSummaryRecord(),b=new Ext.data.Model({id:'summary-record'}),d,a,e;b.beginEdit();b.set(g.getData());for(d=0;d<h;d++){a=f[d];if(a.summary){e=c.isStore?c.data.items.slice():c.items.slice();b.set(a.summaryIndex,a.summary.calculate(e,a.summaryIndex,'data',0,e.length))}else if(a.summaryType){b.set(a.summaryIndex,this.getSummary(c,a.summaryType,a.summaryIndex))}}b.endEdit();b.commit(!0);return b},getSummary:function(a,c,b){var d=a.isStore;if(c){if(Ext.isFunction(c)){if(d){return a.aggregate(c,null,!1,[b])}else {return a.aggregate(b,c)}}switch(c){case 'count':return a.count();case 'min':return a.min(b);case 'max':return a.max(b);case 'sum':return a.sum(b);case 'average':return a.average(b);default:return null;}}}});Ext.cmd.derive('Ext.grid.plugin.Exporter',Ext.grid.plugin.BaseExporter,{getGridColumns:function(){return this.cmp.getHeaderContainer().innerItems},getColumnHeader:function(f,b){var c=[],a,e,d;a={text:b.getText(),width:b.getWidth()};if(b.isHeaderGroup){e=this.getColumnHeaders(f,b.innerItems);a.columns=e.headers;if(a.columns.length===0){a=null}else {Ext.Array.insert(c,c.length,e.dataIndexes)}}else if(!b.getHidden()&&!b.getIgnoreExport()){d=this.getExportStyle(b.getExportStyle(),f);a.style=d;a.width=a.width||b.getComputedWidth();if(d){a.width=d.width||a.width}c.push(b)}else {a=null}if(a){return {header:a,dataIndexes:c}}},prepareDataIndexColumn:function(e,a){var b=Ext.identityFn,d=Ext.identityFn,c=this.getExportStyle(a.getExportStyle(),e);if(!c||c&&!c.format){b=this.getSpecialFn({renderer:'renderer',exportRenderer:'exportRenderer',formatter:'formatter'},a)||b;d=this.getSpecialFn({renderer:'summaryRenderer',exportRenderer:'exportSummaryRenderer',formatter:'summaryFormatter'},a)||b}return {dataIndex:a.getDataIndex(),column:a,fn:b,summary:a.getSummary(),summaryType:a.getSummaryType(),summaryIndex:a.getSummaryDataIndex()||a.getDataIndex(),summaryFn:d}},getSpecialFn:function(d,b){var g=b['get'+Ext.String.capitalize(d.exportRenderer)](),h=b['get'+Ext.String.capitalize(d.renderer)](),f=b['get'+Ext.String.capitalize(d.formatter)](),c,e,a;e=b.getScope()||b.resolveListenerScope()||b;a=g;if(f&&!a){c=f}else {if(a===!0){a=h}if(typeof a==='string'){c=function(){return Ext.callback(a,e,arguments,0,b)}}else if(typeof a==='function'){c=function(){return a.apply(e,arguments)}}}return c},getCell:function(e,c,a){var b=a.dataIndex,d=c.get(b);return {value:a.fn(d,c,b,null,a.column)}},getSummaryCell:function(e,c,a){var b=a.summaryIndex,d=c.get(b);return {value:a.summaryFn(d,c,b,null,a.column)}}},0,0,0,0,['plugin.gridexporter'],0,[Ext.grid.plugin,'Exporter'],0);function capitalizeFirst(a){return a.replace(a[0],a[0].toUpperCase())}Ext.define('App.overrides.grid.plugin.Exporter',{override:'Ext.grid.plugin.Exporter',getCell:function(e,d,h){var g=h.dataIndex,c=d.get(g),a=g&&g.match(/\w+/g);if(a&&a.length>=2){var f=a[0],k=a[1],i='get'+capitalizeFirst(f);var b=d[i]&&d[i]();c=b&&b.get(k);if(!b){var e=typeof d[f]==='function'?d.getAssociatedData()[f]:d.data[f],j=e&&e.length;if(j>1){if(a[2]&&a[3]){b=e.filter(function(b){return b.get(a[2])==a[3]})[0]}else if(a[2]){b=e.filter(function(b){return b.get('exercice')==a[2]})[0]}else {var m=h.column,n=m._tpl,l={};l[f]=e;c=n.apply(l);c=c.replace('<div class="item-info">','');c=c.replace('</div>','')}}else if(j==1){b=e[0];c=b&&b[k]}}}return {value:h.fn(c,d,g,null,h.column)}}});Ext.cmd.derive('Ext.calendar.EventBase',Ext.Gadget,{config:{defaultTitle:'(New Event)',endDate:null,mode:null,model:null,palette:null,resize:!1,startDate:null,title:'',touchAction:{panX:!1,panY:!1},view:null},cloneForProxy:function(){var a=new this.self(this.config);a.el.unselectable();return a},updateModel:function(a){var b=this,c;if(a){b.setStartDate(a.getStartDate());b.setEndDate(a.getEndDate());b.setTitle(a.getTitle());c=b.element.dom;c.setAttribute('data-eventId',a.id);c.setAttribute('data-calendarId',a.getCalendarId())}},updateResize:function(a){this.toggleCls(this.$allowResizeCls,a)},privates:{$allowResizeCls:'x-calendar-event-resizable'}},0,0,['widget','component'],{'widget':!0,'component':!0},0,0,[Ext.calendar,'EventBase'],0);Ext.cmd.derive('Ext.calendar.Event',Ext.calendar.EventBase,{config:{timeFormat:'H:i'},smallSize:60,getElementConfig:function(){var a=Ext.calendar.EventBase.prototype.getElementConfig.call(this);a.cls='x-calendar-event';a.children=[{cls:'x-calendar-event-inner',reference:'innerElement',children:[{cls:'x-calendar-event-time',reference:'timeElement',children:[{tag:'span',reference:'startElement',cls:'x-calendar-event-time-start'},{tag:'span',html:' - ',reference:'separatorElement',cls:'x-calendar-event-time-separator'},{tag:'span',reference:'endElement',cls:'x-calendar-event-time-end'}]},{reference:'titleElement',tag:'span',cls:'x-calendar-event-title'},{cls:'x-calendar-event-resizer',reference:'resizerElement'}]}];return a},updateEndDate:function(a){this.endElement.setText(this.displayDate(a));this.calculateSize()},updateMode:function(a){var b=this;b.addCls(this.modes[a]);if(a==='weekinline'||a==='weekspan'){b.addCls(b.$inlineTitleCls)}},updatePalette:function(a){var b=this.innerElement.dom.style,c=this.getMode();if(c==='weekspan'||c==='day'){b.backgroundColor=a.primary;b.color=a.secondary;if(c==='day'){this.element.dom.style.borderColor=a.border}}else {b.color=a.primary}},updateStartDate:function(a){this.startElement.setText(this.displayDate(a));this.calculateSize()},updateTitle:function(a){a=a||this.getDefaultTitle();this.titleElement.setText(a)},privates:{$inlineTitleCls:'x-calendar-event-inline-title',modes:{day:'x-calendar-event-day',weekspan:'x-calendar-event-week-span',weekinline:'x-calendar-event-week-inline'},calculateSize:function(){var a=this,d=a.getStartDate(),e=a.getEndDate(),f=a.getView().MS_TO_MINUTES,b=a.getMode()==='day',c;if(!b||d&&e){c=!b||e-d<=a.smallSize*f;a.element.toggleCls(a.$inlineTitleCls,c)}},displayDate:function(a){if(a){a=this.getView().utcToLocal(a);return Ext.Date.format(a,this.getTimeFormat())}}}},0,['calendar-event'],['widget','component','calendar-event'],{'widget':!0,'component':!0,'calendar-event':!0},['widget.calendar-event'],0,[Ext.calendar,'Event'],0);Ext.cmd.derive('Ext.calendar.AbstractList',Ext.dataview.DataView,{onChildTap:function(a){Ext.dataview.DataView.prototype.onChildTap.call(this,a);this.handleItemTap(a.record)}},0,0,['widget','component','container','dataview'],{'widget':!0,'component':!0,'container':!0,'dataview':!0},0,0,[Ext.calendar,'AbstractList'],0);Ext.cmd.derive('Ext.calendar.List',Ext.calendar.AbstractList,{config:{enableToggle:!0},cls:'x-calendar-list',itemTpl:'<div class="<tpl if="hidden">x-calendar-list-item-hidden</tpl>"><div class="x-calendar-list-icon" style="background-color: {color};"></div><div class="x-calendar-list-text">{title:htmlEncode}</div></div>',itemSelector:'.x-calendar-list-item',itemCls:'x-calendar-list-item',scrollable:!0,prepareData:function(c,b,a){return {id:a.id,editable:a.isEditable(),hidden:a.isHidden(),color:a.getBaseColor(),title:a.getTitle()}},handleItemTap:function(a){if(this.getEnableToggle()){a.setHidden(!a.isHidden())}}},0,['calendar-list'],['widget','component','container','dataview','calendar-list'],{'widget':!0,'component':!0,'container':!0,'dataview':!0,'calendar-list':!0},['widget.calendar-list'],0,[Ext.calendar,'List'],0);Ext.cmd.derive('Ext.calendar.date.Range',Ext.Base,{end:null,start:null,isRange:!0,statics:{fly:function(){var a=null;return function(b,c){if(b.isRange){return b}if(!a){a=new Ext.calendar.date.Range()}a.start=b;a.end=c;return a}}()},constructor:function(a,b){this.start=a;this.end=b},clone:function(){var a=Ext.Date,b=this.self;return new b(a.clone(this.start),a.clone(this.end))},contains:function(a){return this.start<=a&&a<=this.end},containsRange:function(b,c){var a=this.self.fly(b,c);return a.start>=this.start&&a.end<=this.end},equals:function(b,c){var a;if(!b){return !1}a=this.self.fly(b,c);return this.start.getTime()===a.start.getTime()&&this.end.getTime()===a.end.getTime()},getDuration:function(){return this.end.getTime()-this.start.getTime()},isContainedBy:function(b,c){var a=this.self.fly(b,c);return a.containsRange(this)},overlaps:function(b,c){var a=this.self.fly(b,c);return a.start<this.end&&this.start<a.end}},1,0,0,0,0,0,[Ext.calendar.date,'Range'],0);Ext.cmd.derive('Ext.calendar.date.Util',Ext.Base,{singleton:!0,clearTimeUtc:function(a,b){if(b){a=Ext.Date.clone(a)}a.setUTCHours(0);a.setUTCMinutes(0);a.setUTCSeconds(0);a.setUTCMilliseconds(0);return a},privates:{getDefaultTimezoneOffset:function(){return (new Date()).getTimezoneOffset()},getLocalNow:function(){return new Date()},expandRange:function(c){var d=Ext.Date,b=c.start,a=c.end;b=d.clone(b);b.setUTCHours(0);if(a.getUTCHours()!==0){a=d.clone(a);a.setUTCHours(24)}return new Ext.calendar.date.Range(b,a)}}},0,0,0,0,0,0,[Ext.calendar.date,'Util'],0);Ext.cmd.derive('Ext.calendar.dd.WeeksProxy',Ext.drag.proxy.Placeholder,{config:{titleTpl:'<tpl if="days &gt; 1">({days} days) </tpl>{title}',width:null},draggingCls:'x-calendar-event-dragging',applyTitleTpl:function(a){if(a&&!a.isXTemplate){a=new Ext.XTemplate(a)}return a},getElement:function(c){var b=this,d=c.view,a=c.widget.cloneForProxy(),e=a.element;a.removeCls(d.$staticEventCls);a.addCls(b.draggingCls);a.addCls(b.placeholderCls);d.element.appendChild(e);a.setWidth(b.getWidth());b.setTitle(a);b.clone=a;return e},cleanup:function(){this.clone=Ext.destroy(this.clone);Ext.drag.proxy.Placeholder.prototype.cleanup.call(this)},privates:{setTitle:function(a){var c=this.getTitleTpl(),b;if(c){b=a.getModel();a.setTitle(c.apply({model:b,title:a.getTitle(),days:this.getSource().getView().getEventDaysSpanned(b)}))}}}},0,0,0,0,['drag.proxy.calendar-weeks'],0,[Ext.calendar.dd,'WeeksProxy'],0);Ext.cmd.derive('Ext.calendar.util.Dom',Ext.Base,{singleton:!0,extractPositions:function(b,d){var e=b.length,c=[],a;for(a=0;a<e;++a){c.push(Ext.fly(b[a])[d]())}return c},getIndexPosition:function(b,e){var d=b.length,c,a;if(e<b[0]){c=0}else if(e>b[d-1]){c=d-1}else {for(a=d-1;a>=0;--a){if(e>b[a]){c=a;break}}}return c}},0,0,0,0,0,0,[Ext.calendar.util,'Dom'],0);Ext.cmd.derive('Ext.calendar.dd.DaysAllDaySource',Ext.drag.Source,{activateOnLongPress:'touch',config:{proxy:{type:'calendar-weeks',width:200},view:null},describe:function(a){var c=this.getView(),b=c.getEvent(a.eventTarget);a.event=b;a.widget=c.getEventWidget(b);a.setData('calendar-event-allday',b);a.view=c},beforeDragStart:function(a){return this.getView().handleChangeStart('drag',a.event)},updateView:function(a){if(a){this.setHandle('.'+a.$eventCls);this.setElement(a.allDayContent)}},destroy:function(){this.setView(null);Ext.drag.Source.prototype.destroy.call(this)},privates:{setup:function(a){var c,d,b;Ext.drag.Source.prototype.setup.call(this,a);c=a.view;d=a.event;b=Ext.calendar.util.Dom.extractPositions(c.backgroundCells,'getX');a.index=Ext.calendar.util.Dom.getIndexPosition(b,a.cursor.current.x);a.positions=b;a.span=c.getEventDaysSpanned(d)}}},0,0,0,0,0,0,[Ext.calendar.dd,'DaysAllDaySource'],0);Ext.cmd.derive('Ext.calendar.dd.DaysAllDayTarget',Ext.drag.Target,{config:{view:null},updateView:function(a){if(a){this.setElement(a.allDayContent)}},accepts:function(a){return Ext.Array.contains(a.types,'calendar-event-allday')},onDragMove:function(a){var c=a.view,b;if(a.valid){b=Ext.calendar.util.Dom.getIndexPosition(a.positions,a.cursor.current.x);c.selectRange(b,b+a.span-1)}Ext.drag.Target.prototype.onDragMove.call(this,a)},onDragLeave:function(a){this.getView().clearSelected();Ext.drag.Target.prototype.onDragLeave.call(this,a)},onDrop:function(b){var a=Ext.Date,e=b.view,d=b.event,i=Ext.calendar.util.Dom.getIndexPosition(b.positions,b.cursor.current.x),f=e.utcTimezoneOffset(a.add(e.dateInfo.full.start,a.DAY,i)),h=d.getStartDate(),g=f<h,c=a.diff(g?f:h,g?h:f,a.DAY);if(g){c=-c}e.handleChange('drop',d,new Ext.calendar.date.Range(a.add(d.getStartDate(),a.DAY,c),a.add(d.getEndDate(),a.DAY,c)),function(){e.clearSelected()});Ext.drag.Target.prototype.onDrop.call(this,b)},destroy:function(){this.setView(null);Ext.drag.Target.prototype.destroy.call(this)}},0,0,0,0,0,0,[Ext.calendar.dd,'DaysAllDayTarget'],0);Ext.cmd.derive('Ext.calendar.dd.DaysProxy',Ext.drag.proxy.Placeholder,{config:{cursorOffset:null},draggingCls:'x-calendar-event-dragging',getElement:function(b){var e=this,c=b.view,f=b.widget,a=f.cloneForProxy(),d=a.element,g=c.getEventColumn(0);a.removeCls(c.$staticEventCls);a.addCls(e.draggingCls);a.setWidth(Ext.fly(g).getWidth());a.setHeight(f.getHeight());c.bodyWrap.appendChild(d);e.element=d;e.clone=a;b.widgetClone=a;return d},cleanup:function(a){if(a&&a.deferCleanup){return}this.clone=Ext.destroy(this.clone);Ext.drag.proxy.Placeholder.prototype.cleanup.call(this)}},0,0,0,0,['drag.proxy.calendar-days'],0,[Ext.calendar.dd,'DaysProxy'],0);Ext.cmd.derive('Ext.calendar.dd.DaysBodySource',Ext.drag.Source,{activateOnLongPress:'touch',config:{proxy:{type:'calendar-days'},view:null},describe:function(a){var b=this.getView();a.event=b.getEvent(a.eventTarget);a.widget=b.getEventWidget(a.event);a.setData('calendar-event',a.event);a.view=b},beforeDragStart:function(a){var b=this.getView().$resizerCls;if(Ext.fly(a.eventTarget).hasCls(b)){return !1}return this.getView().handleChangeStart('drag',a.event)},updateView:function(b){var a=this;if(b){a.setHandle('.'+b.$eventCls);a.setElement(b.bodyWrap);a.setConstrain({snap:{x:a.snapX,y:a.snapY}})}},onDragStart:function(a){Ext.drag.Source.prototype.onDragStart.call(this,a);a.widget.element.hide()},onDragEnd:function(a){var b;Ext.drag.Source.prototype.onDragEnd.call(this,a);b=a.widget;if(!b.destroyed&&!a.deferCleanup){b.element.show()}},destroy:function(){this.setView(null);Ext.drag.Source.prototype.destroy.call(this)},privates:{startMarginName:'left',setup:function(a){var b,e,c,d=[];Ext.drag.Source.prototype.setup.call(this,a);b=a.view;e=b.getVisibleDays();for(c=0;c<e;++c){d.push(Ext.fly(b.getEventColumn(c)).getX())}a.sizes={height:a.proxy.element.getHeight(),slotStyle:b.getSlotStyle(),margin:b.getEventStyle().margin,startPositions:d,startOffset:a.cursor.initial.y-a.widget.element.getY()}},snapX:function(a,e){var d=a.sizes,b=d.startPositions,c=Ext.calendar.util.Dom.getIndexPosition(b,e);a.dayIndex=c;return b[c]+d.margin[a.source.startMarginName]},snapY:function(e,c){var a=e.sizes,f=e.view,b=f.bodyTable.getY(),d=a.slotStyle.halfHeight,g=f.maxSlots,h=Math.max(0,c-a.startOffset-b);c=b+a.margin.top+Ext.Number.roundToNearest(h,d);return Math.min(c,b+g*d-a.height)}}},0,0,0,0,0,0,[Ext.calendar.dd,'DaysBodySource'],0);Ext.cmd.derive('Ext.calendar.dd.DaysBodyTarget',Ext.drag.Target,{config:{view:null},updateView:function(a){if(a){this.setElement(a.bodyWrap)}},accepts:function(a){return Ext.Array.contains(a.types,'calendar-event')},onDragMove:function(a){var i=a.sizes,d=a.view,h=a.event,c=Ext.Date,g,b,e,f;if(a.valid){g=Math.max(0,a.proxy.current.y-d.bodyTable.getY());f=Math.floor(g/i.slotStyle.halfHeight);b=c.clone(d.dateInfo.visible.start);b=c.add(b,c.DAY,a.dayIndex||0);b=c.add(b,c.MINUTE,d.minimumEventMinutes*f,!0);e=c.add(b,c.MINUTE,h.getDuration(),!0);a.widgetClone.setStartDate(b);a.widgetClone.setEndDate(e);a.range=[b,e]}Ext.drag.Target.prototype.onDragMove.call(this,a)},onDrop:function(a){var c=this.getView(),d=a.source.getProxy(),b;a.deferCleanup=!0;c.handleChange('drop',a.event,new Ext.calendar.date.Range(a.range[0],a.range[1]),function(){d.cleanup();b=a.widget;if(!b.destroyed){b.element.show()}c.clearSelected()});Ext.drag.Target.prototype.onDrop.call(this,a)},destroy:function(){this.setView(null);Ext.drag.Target.prototype.destroy.call(this)}},0,0,0,0,0,0,[Ext.calendar.dd,'DaysBodyTarget'],0);Ext.cmd.derive('Ext.calendar.dd.WeeksSource',Ext.drag.Source,{activateOnLongPress:'touch',config:{proxy:{type:'calendar-weeks',width:200},view:null},describe:function(a){var b=this.getView();a.event=b.getEvent(a.eventTarget);a.widget=b.getEventWidget(a.eventTarget);a.setData('calendar-event',a.event);a.view=b},beforeDragStart:function(a){return this.getView().handleChangeStart('drag',a.event)},onDragStart:function(a){var b=a.view,c=a.cursor.current,e=b.getCellByPosition(c.x,c.y),d=a.event;a.span=b.getEventDaysSpanned(d);a.startDate=b.getDateFromCell(e);Ext.drag.Source.prototype.onDragStart.call(this,a)},updateView:function(a){if(a){this.setHandle('.'+a.$eventCls);this.setElement(a.element)}},destroy:function(){this.setView(null);Ext.drag.Source.prototype.destroy.call(this)}},0,0,0,0,0,0,[Ext.calendar.dd,'WeeksSource'],0);Ext.cmd.derive('Ext.calendar.dd.WeeksTarget',Ext.drag.Target,{config:{view:null},updateView:function(a){if(a){this.setElement(a.element)}},accepts:function(a){return Ext.Array.contains(a.types,'calendar-event')},onDragMove:function(a){var g=Ext.Date,b=a.view,e=a.cursor.current,h=a.span,f,d,c;if(a.valid){f=b.getCellByPosition(e.x,e.y);d=c=b.getDateFromCell(f);c=g.add(d,g.DAY,h-1);b.selectRange(d,c)}Ext.drag.Target.prototype.onDragMove.call(this,a)},onDragLeave:function(a){this.getView().clearSelected();Ext.drag.Target.prototype.onDragLeave.call(this,a)},onDrop:function(a){var d=Ext.Date,f=a.cursor.current,c=a.view,g=c.getCellByPosition(f.x,f.y),b=a.event,e;e=this.calculateDifference(b,c.getDateFromCell(g),a.startDate);c.handleChange('drop',b,new Ext.calendar.date.Range(d.add(b.getStartDate(),d.DAY,e,!1),d.add(b.getEndDate(),d.DAY,e,!1)),function(){c.clearSelected()});Ext.drag.Target.prototype.onDrop.call(this,a)},destroy:function(){this.setView(null);Ext.drag.Target.prototype.destroy.call(this)},privates:{calculateDifference:function(g,a,f){var e=Ext.Date,d=g.getStartDate(),b,c;if(g.getAllDay()){a=e.localToUtc(a);b=a<d}else {b=a<f;d=f}c=e.diff(b?a:d,b?d:a,e.DAY);if(b){c=-c}return c}}},0,0,0,0,0,0,[Ext.calendar.dd,'WeeksTarget'],0);Ext.cmd.derive('Ext.calendar.form.CalendarPicker',Ext.field.Select,{cls:'x-calendar-picker-field',floatedPicker:{userCls:'x-calendar-picker-list',itemTpl:'<div class="x-calendar-picker-list-icon" style="background-color: {color};"></div><span class="x-calendar-picker-list-text x-list-label">{title:htmlEncode}</span>'},edgePicker:{userCls:'x-calendar-picker-list'},applyPicker:function(a,d){var c=this,b;a=Ext.field.Select.prototype.applyPicker.call(this,a,d);if(a){if(c.pickerType==='floated'){b=a}else {b=a.items.first()}b.prepareData=c.prepareData}return a},createEdgePicker:function(){var a=Ext.field.Select.prototype.createEdgePicker.call(this);a.slots[0].itemTpl='<div class="x-picker-item {cls}"><div class="x-calendar-picker-list-icon" style="background-color: {color};"></div><span class="x-list-label">{title:htmlEncode}</span></div>';return a},prepareData:function(c,b,a){return {id:a.id,title:a.getTitle(),color:a.getBaseColor()}},updateValue:function(e,d){var b=this,a=b.iconEl,c;Ext.field.Select.prototype.updateValue.call(this,e,d);if(!a){b.iconEl=a=b.bodyElement.createChild({cls:'x-calendar-picker-field-icon'})}c=b.getSelection();if(c){a.setDisplayed(!0);a.setStyle('background-color',c.getBaseColor())}else {a.setDisplayed(!1)}},privates:{queryTabletPicker:function(a){return a.down('calendar-list')}}},0,['calendar-calendar-picker'],['widget','component','field','inputfield','textfield','pickerfield','selectfield','calendar-calendar-picker'],{'widget':!0,'component':!0,'field':!0,'inputfield':!0,'textfield':!0,'pickerfield':!0,'selectfield':!0,'calendar-calendar-picker':!0},['widget.calendar-calendar-picker'],0,[Ext.calendar.form,'CalendarPicker'],0);Ext.cmd.derive('Ext.calendar.form.TimeField',Ext.field.Select,{config:{increment:15,format:'g:i A',minValue:null,maxValue:null},initialize:function(){Ext.field.Select.prototype.initialize.call(this);this.refreshOptions()},updateMinValue:function(){if(!this.isConfiguring){this.refreshOptions()}},updateMaxValue:function(){if(!this.isConfiguring){this.refreshOptions()}},applyValue:function(a){var f=null,h,i,c,g,b,d,e;if(a){if(a.isModel){a=a.data.value}h=a.getHours();i=a.getMinutes();c=this.getStore().getRange();for(b=0,g=c.length;b<g;++b){d=c[b];e=d.data.value;if(h===e.getHours()&&i===e.getMinutes()){f=d;break}}}return f},updateValue:function(a){if(a&&a.isModel){this.setSelection(a);this.setInputValue(a.data.text)}},getValue:function(){var a=(arguments.callee.$previous||Ext.field.Select.prototype.getValue).call(this);if(a&&a.isModel){a=a.data.value}return a},privates:{initDate:new Date(2008,0,1),refreshOptions:function(){var d=this,b=Ext.Date,f=d.getMinValue(),e=d.getMaxValue(),h=d.getIncrement(),i=d.getFormat(),a=b.clone(this.initDate),g=[],c;if(e){c=b.clone(a);c.setHours(e.getHours());c.setMinutes(e.getMinutes())}else {c=b.add(a,b.DAY,1)}if(f){a.setHours(f.getHours());a.setMinutes(f.getMinutes())}while(a<c){g.push({value:a,text:b.format(a,i)});a=b.add(a,b.MINUTE,h,!0)}d.setOptions(g)}}},0,['calendar-timefield'],['widget','component','field','inputfield','textfield','pickerfield','selectfield','calendar-timefield'],{'widget':!0,'component':!0,'field':!0,'inputfield':!0,'textfield':!0,'pickerfield':!0,'selectfield':!0,'calendar-timefield':!0},['widget.calendar-timefield'],0,[Ext.calendar.form,'TimeField'],0);Ext.cmd.derive('Ext.calendar.form.AbstractForm',Ext.form.Panel,{trackResetOnLoad:!0,defaultListenerScope:!0,platformConfig:{'!desktop':{width:'100%',height:'100%',layout:'fit',isCompact:!0,fullscreen:!0},'desktop':{modal:!0,centered:!0,scrollable:'y'}},floated:!0,config:{calendarField:{xtype:'calendar-calendar-picker',label:'Calendar',name:'calendarId',displayField:'title',valueField:'id'},titleField:{xtype:'textfield',label:'Title',name:'title'},startDateField:{xtype:'datepickerfield',label:'From',itemId:'startDate',name:'startDate'},startTimeField:{xtype:'calendar-timefield',label:'&#160;',itemId:'startTime',name:'startTime'},endDateField:{xtype:'datepickerfield',label:'To',itemId:'endDate',name:'endDate'},endTimeField:{xtype:'calendar-timefield',label:'&#160;',itemId:'endTime',name:'endTime'},allDayField:{xtype:'checkboxfield',itemId:'allDay',name:'allDay',label:'All Day',listeners:{change:'onAllDayChange'}},descriptionField:{xtype:'textareafield',label:'Description',name:'description',flex:1,minHeight:'6em'},dropButton:{text:'Delete',handler:'onDropTap'},saveButton:{text:'Save',handler:'onSaveTap'},cancelButton:{text:'Cancel',handler:'onCancelTap'}},initialize:function(){var a=this;a.initForm();a.add({xtype:'toolbar',docked:'bottom',items:a.generateButtons()});Ext.form.Panel.prototype.initialize.call(this);a.applyValues();a.checkFields()},generateButtons:function(){var a=[],b=this.getDropButton();if(b){a.push(b)}a.push({xtype:'component',flex:1},this.getCancelButton(),this.getSaveButton());return a},fieldQuery:function(){return this.query('[isField][?name]')},applyValues:function(){this.setValues(this.consumeEventData())},createItems:function(){var a=this,b=a.getCalendarField();if(!b.store){b.store=a.getCalendarStore()}a.add([{xtype:'fieldset',scrollable:a.isCompact?'y':undefined,margin:0,layout:{type:'vbox',align:'stretch'},items:[b,a.getTitleField(),a.getStartDateField(),a.getStartTimeField(),a.getEndDateField(),a.getEndTimeField(),a.getAllDayField(),a.getDescriptionField()]}])},privates:{checkFields:function(){var a=this.down('#allDay').isChecked();this.down('#startTime').setDisabled(a);this.down('#endTime').setDisabled(a)},onAllDayChange:function(){this.checkFields()},onCancelTap:function(){this.fireCancel()},onDropTap:function(){this.fireDrop()},onSaveTap:function(){this.fireSave(this.produceEventData(this.getValues()))}}},0,0,['widget','component','container','panel','fieldpanel','formpanel'],{'widget':!0,'component':!0,'container':!0,'panel':!0,'fieldpanel':!0,'formpanel':!0},0,0,[Ext.calendar.form,'AbstractForm'],0);Ext.cmd.derive('Ext.calendar.form.Base',Ext.Mixin,{config:{event:null,view:null},fireCancel:function(){this.fireEvent('cancel',this)},fireDrop:function(){this.fireEvent('drop',this)},fireSave:function(a){this.fireEvent('save',this,{data:a})},getCalendarStore:function(){return {type:'chained',autoDestroy:!0,source:this.getView().getStore(),filters:[{filterFn:function(a){return a.isEditable()}}]}}},0,0,0,0,0,0,[Ext.calendar.form,'Base'],0);Ext.cmd.derive('Ext.calendar.form.Form',Ext.calendar.form.AbstractForm,{defaultStartTime:[9,0],defaultEndTime:[10,0],initForm:function(){this.createItems()},consumeEventData:function(){var c=this,f=Ext.Date,i=c.getView(),b=c.getEvent(),j=b.getStartDate(),k=b.getEndDate(),d=b.getAllDay(),g=d?f.utcToLocal(j):i.utcToLocal(j),e=d?f.utcToLocal(k):i.utcToLocal(k),l=d||g.getTime()===e.getTime(),a={calendarId:b.getCalendarId(),title:b.getTitle(),description:b.getDescription(),allDay:d,startDate:g,endDate:e},h;if(!l){a.startTime=g;a.endTime=e}if(d){a.endDate=f.subtract(e,f.DAY,1)}c.setDefaultTime(a,'startTime',c.defaultStartTime);c.setDefaultTime(a,'endTime',c.defaultEndTime);if(!a.calendarId){h=i.getEditableCalendars();if(h.length){a.calendarId=h[0].id}}return a},produceEventData:function(a){var d=Ext.Date,m=this.getView(),e=a.startTime,f=a.endTime,b=a.startDate,c=a.endDate,l=b.getFullYear(),h=b.getMonth(),k=b.getDate(),j=c.getFullYear(),g=c.getMonth(),i=c.getDate();if(a.allDay){b=d.utc(l,h,k);c=d.add(d.utc(j,g,i),d.DAY,1);delete a.startTime;delete a.endTime}else {b=m.toUtcOffset(new Date(l,h,k,e.getHours(),e.getMinutes()));c=m.toUtcOffset(new Date(j,g,i,f.getHours(),f.getMinutes()))}a.startDate=b;a.endDate=c;return a},privates:{setDefaultTime:function(a,c,b){if(!a[c]){a[c]=new Date(2010,0,1,b[0],b[1])}}}},0,0,['widget','component','container','panel','fieldpanel','formpanel'],{'widget':!0,'component':!0,'container':!0,'panel':!0,'fieldpanel':!0,'formpanel':!0},0,[[Ext.calendar.form.Base.prototype.mixinId||Ext.calendar.form.Base.$className,Ext.calendar.form.Base]],[Ext.calendar.form,'Form'],0);Ext.cmd.derive('Ext.calendar.form.Add',Ext.calendar.form.Form,{dropButton:null,title:'Add Event'},0,['calendar-form-add'],['widget','component','container','panel','fieldpanel','formpanel','calendar-form-add'],{'widget':!0,'component':!0,'container':!0,'panel':!0,'fieldpanel':!0,'formpanel':!0,'calendar-form-add':!0},['widget.calendar-form-add'],0,[Ext.calendar.form,'Add'],0);Ext.cmd.derive('Ext.calendar.form.Edit',Ext.calendar.form.Form,{title:'Edit Event'},0,['calendar-form-edit'],['widget','component','container','panel','fieldpanel','formpanel','calendar-form-edit'],{'widget':!0,'component':!0,'container':!0,'panel':!0,'fieldpanel':!0,'formpanel':!0,'calendar-form-edit':!0},['widget.calendar-form-edit'],0,[Ext.calendar.form,'Edit'],0);Ext.cmd.derive('Ext.calendar.header.Base',Ext.Gadget,{alternateStateConfig:'compactOptions',config:{cellCls:'',compact:!1,compactOptions:null,format:'',value:null,visibleDays:null},baseCls:'x-calendar-header',constructor:function(a){Ext.Component.prototype.constructor.call(this,a);this.redrawCells()},updateCompact:function(b){var a=this,c=a.baseCls;a.element.toggleCls(c+'-compact',b);a.element.toggleCls(c+'-large',!b);a.toggleConfigState(b)},updateCompactOptions:function(){if(!this.isConfiguring&&this.getCompact()){this.toggleConfigState()}},updateFormat:function(){if(!this.isConfiguring){this.setHeaderText(!0)}},applyValue:function(a,b){if(a&&b&&a-b===0){a=undefined}return a},updateValue:function(){if(!this.isConfiguring){this.setHeaderText()}},updateVisibleDays:function(){if(!this.isConfiguring){this.redrawCells()}},getElementConfig:function(){return {tag:'table',cls:this.$tableCls,reference:'element',children:[{tag:'tbody',children:[{tag:'tr',reference:'row'}]}]}},privates:{domFormat:'Y-m-d',useDates:!0,$headerCls:'x-calendar-header-cell',$hiddenCls:'x-calendar-header-hidden-cell',$tableCls:'x-calendar-header-table',clearCells:function(a){var c=this.row.dom,b=c.childNodes;a=a||0;while(b.length>a){c.removeChild(b[a])}},createCells:function(){var b=this,h=b.row.dom,e=[],g=b.getCreateDays(),f='x-unselectable '+b.$headerCls,d=b.getCellCls(),a,c;if(d){f+=' '+d}for(c=0;c<g;++c){a=document.createElement('td');a.className=f;a.setAttribute('data-index',c);b.onCellCreate(a,c);h.appendChild(a);e.push(a)}return e},getCreateDays:function(){return this.getVisibleDays()},onCellCreate:Ext.privateFn,redrawCells:function(){this.clearCells();this.cells=this.createCells();this.setHeaderText()},setHeaderText:function(){var b=this,c=Ext.Date,a=b.getValue(),i=b.getFormat(),g=b.domFormat,f=b.cells,j=f.length,h=b.useDates,d,e;if(!a){return}a=c.clone(a);for(e=0;e<j;++e){d=f[e];if(h){d.setAttribute('data-date',c.format(a,g))}d.setAttribute('data-day',a.getDay());d.innerHTML=c.format(a,i);a=c.add(a,c.DAY,1)}}}},1,0,['widget','component'],{'widget':!0,'component':!0},0,[[Ext.mixin.ConfigState.prototype.mixinId||Ext.mixin.ConfigState.$className,Ext.mixin.ConfigState]],[Ext.calendar.header,'Base'],0);Ext.cmd.derive('Ext.calendar.header.Days',Ext.calendar.header.Base,{format:'D m/d',compactOptions:{format:'d'},getElementConfig:function(){var a=Ext.calendar.header.Base.prototype.getElementConfig.call(this);a.cls=this.$tableCls;delete a.reference;return {cls:'x-calendar-header',reference:'element',children:[a]}},privates:{headerScrollOffsetName:'padding-right',$gutterCls:'x-calendar-header-gutter',createCells:function(){var a=this,b=a.row,c=Ext.calendar.header.Base.prototype.createCells.call(this);b.insertFirst({tag:'td',cls:a.$headerCls+' '+a.$gutterCls},!0);b.append({tag:'td',style:'display: none;'},!0);return c},setOverflowWidth:function(a){this.element.setStyle(this.headerScrollOffsetName,a+'px')}}},0,['calendar-daysheader'],['widget','component','calendar-daysheader'],{'widget':!0,'component':!0,'calendar-daysheader':!0},['widget.calendar-daysheader'],0,[Ext.calendar.header,'Days'],0);Ext.cmd.derive('Ext.calendar.header.Weeks',Ext.calendar.header.Base,{format:'D',privates:{useDates:!1,getCreateDays:function(){return Ext.Date.DAYS_IN_WEEK},onCellCreate:function(b,a){Ext.fly(b).toggleCls(this.$hiddenCls,a>=this.getVisibleDays())}}},0,['calendar-weeksheader'],['widget','component','calendar-weeksheader'],{'widget':!0,'component':!0,'calendar-weeksheader':!0},['widget.calendar-weeksheader'],0,[Ext.calendar.header,'Weeks'],0);Ext.cmd.derive('Ext.calendar.model.EventBase',Ext.Mixin,{inheritableStatics:{getDaysSpanned:function(a,d){var b=Ext.Date,c=0;a=b.clearTime(a,!0);while(a<d){++c;a=b.add(a,b.DAY,1)}return c},sort:function(a,b){return a.getStartDate().getTime()-b.getStartDate().getTime()||b.getDuration()-a.getDuration()||a.getTitle()-b.getTitle()}},containsRange:function(a,b){return this.getRange().containsRange(a,b)},getCalendar:function(){return this.calendar||null},getRange:function(){return new Ext.calendar.date.Range(this.getStartDate(),this.getEndDate())},isContainedByRange:function(a,b){return this.getRange().isContainedBy(a,b)},isSpan:function(){var b=this,a=Ext.Date,c=b.data.startTime,d;if(b.getAllDay()){return !0}else if(!c){return b.getDuration()>1440}d=a.add(a.clearTime(a.clone(c)),a.DAY,1);return a.diff(c,d,'mi')<b.getDuration()},occursInRange:function(a,b){return this.getRange().overlaps(a,b)},setCalendar:function(a,b){b=b!==!1;this.calendar=a;this.setCalendarId(a?a.id:null,b)}},0,0,0,0,0,0,[Ext.calendar.model,'EventBase'],0);Ext.cmd.derive('Ext.calendar.model.Event',Ext.data.Model,{fields:[{name:'title',type:'string'},{name:'calendarId'},{name:'color',type:'string'},{name:'description',type:'string'},{name:'startDate',type:'date',dateFormat:'c'},{name:'endDate',type:'date',dateFormat:'c'},{name:'allDay',type:'boolean'},{name:'duration',type:'int',depends:['startDate','endDate'],calculate:function(b){var a=b.startDate,c=b.endDate,d=0;if(c&&a){d=c.getTime()-a.getTime()}return d/60000}}],getAllDay:function(){return this.data.allDay},getCalendarId:function(){return this.data.calendarId},getColor:function(){return this.data.color},getDescription:function(){return this.data.description},getDuration:function(){return this.data.duration},getEndDate:function(){return this.data.endDate},getRange:function(){var a=this,b=a.range;if(!b){a.range=b=new Ext.calendar.date.Range(a.getStartDate(),a.getEndDate())}return b},getStartDate:function(){return this.data.startDate},getTitle:function(){return this.data.title},isEditable:function(){var a=this.getCalendar();return a?a.isEditable():!0},setAllDay:function(a){this.set('allDay',a)},setCalendarId:function(b,a){a=a!==!1;this.set('calendarId',b,{dirty:a})},setColor:function(a){this.set('color',a)},setData:function(a){var b=a.duration;if(b){a=Ext.apply({},a);delete a.duration;this.setDuration(b)}else if(a.startDate&&a.endDate){this.range=null}this.set(a)},setDescription:function(a){this.set('description',a)},setDuration:function(b){var a=Ext.Date;this.range=null;this.set('endDate',a.add(this.data.startDate,a.MINUTE,b,!0))},setRange:function(a,b){var c=Ext.Date;if(a.isRange){b=a.end;a=a.start}this.range=null;this.set({startDate:c.clone(a),endDate:c.clone(b)})},setTitle:function(a){this.set('title',a)}},0,0,0,0,0,[[Ext.calendar.model.EventBase.prototype.mixinId||Ext.calendar.model.EventBase.$className,Ext.calendar.model.EventBase]],[Ext.calendar.model,'Event'],0);Ext.cmd.derive('Ext.calendar.store.Events',Ext.data.Store,{model:'Ext.calendar.model.Event',config:{calendar:null,calendarParam:'calendar',dateFormat:'C',endParam:'endDate',prefetchMode:'month',startParam:'startDate'},remoteSort:!1,pageSize:0,sorters:[{direction:'ASC',sorterFn:function(a,b){return Ext.calendar.model.Event.sort(a,b)}}],prefetchSettings:{month:{unit:Ext.Date.MONTH,amount:2},week:{unit:Ext.Date.WEEK,amount:2},day:{unit:Ext.Date.DAY,amount:4}},constructor:function(a){this.requests={};Ext.data.Store.prototype.constructor.call(this,a)},getInRange:function(e,f){var c=this.data.items,g=c.length,d=[],a,b;for(a=0;a<g;++a){b=c[a];if(b.occursInRange(e,f)){d.push(b)}}return d},hasRangeCached:function(c){var a=this.range,b=!1;if(a){b=a.full.containsRange(c)}return b},setRange:function(h){var b=this,l=Ext.Date,m=Ext.calendar.date.Range,c=b.range,f=b.getPrefetchSetting(),g=0,k=!1,i,j,d,e,a;d=l.subtract(h.start,f.unit,f.amount,!0);e=l.add(h.end,f.unit,f.amount,!0);a={actual:h.clone(),full:new m(d,e)};if(b.compareRange(c,a)){return}if(c&&c.full.containsRange(a.full)){return}if(b.hasRangeCached(h)){if(!b.hasRangeCached(a.full)){if(c.full.start>d){i=d;j=c.full.start;++g;k=!0}if(c.full.end<e){i=c.full.end;j=e;++g}if(g===1){b.prefetchRange(i,j,k,a)}else if(g===2){b.loadRange(d,e,a)}}}else {b.loadRange(a.full.start,a.full.end,a)}b.requested=a},onProxyLoad:function(b){var a=this;if(b.wasSuccessful()){a.range=a.requested;a.requested=null}a.setCalendarFromLoad=!0;Ext.data.Store.prototype.onProxyLoad.call(this,b);a.setCalendarFromLoad=!1},onCollectionAdd:function(c,b){var a=this;a.setRecordCalendar(a.getCalendar(),b.items,!a.setCalendarFromLoad);Ext.data.Store.prototype.onCollectionAdd.call(this,c,b)},onCollectionRemove:function(b,a){Ext.data.Store.prototype.onCollectionRemove.call(this,b,a);if(!this.isMoving){this.setRecordCalendar(null,a.items,!0)}},privates:{isMoving:0,abortAll:function(){var b=this.requests,a,c;for(c in b){a=b[c];if(a&&!a.destroyed){a.abort()}}this.requests={}},compareRange:function(a,b){var c=!1;if(!a||!b){c=(a||null)===(b||null)}else {c=a.full.equals(b.full)&&a.actual.equals(b.actual)}return c},getPrefetchSetting:function(){return this.prefetchSettings[this.getPrefetchMode()]},loadRange:function(c,d,e){var a=this,b=a.requested,f=new Ext.calendar.date.Range(c,d);if(!(b&&b.full.equals(f))){a.abortAll();a.load({params:a.setupParams(c,d),requested:e})}},onBeforeLoad:function(a){this.requests[a._internalId]=a},onPrefetch:function(d){var a=this,e=d.getRecords()||[],f=[],g=[],l=Ext.Array.toMap(e,'id'),i=a.getDataSource().getRange(),h=i.length,j=a.range.full.start,k=a.range.full.end,b,c;if(d.wasSuccessful()){a.range=a.requested;a.requested=null}delete a.requests[d._internalId];a.suspendEvents();for(b=0;b<h;++b){c=i[b];if(!(l[c.id]||c.occursInRange(j,k))){f.push(c)}}for(b=0,h=e.length;b<h;++b){c=e[b];if(!a.getById(c.id)){g.push(c)}}a.ignoreCollectionRemove=a.setCalendarFromLoad=!0;a.getData().splice(0,f,g);a.ignoreCollectionRemove=a.setCalendarFromLoad=!1;a.resumeEvents();a.fireEvent('prefetch',a,g,f)},prefetch:function(c){var a=this,b;c=Ext.apply({internalScope:a,internalCallback:a.onPrefetch},c);a.setLoadOptions(c);b=a.createOperation('read',c);a.requests[b._internalId]=b;b.execute()},prefetchRange:function(c,d,b,a){this.prefetch({params:this.setupParams(c,d),isLeading:b,newRequested:a})},setRecordCalendar:function(d,c,e){var f=c.length,b,a;for(b=0;b<f;++b){a=c[b];a.$moving=!0;a.setCalendar(d,e);delete a.$moving}},setupParams:function(e,f){var a=this,d=Ext.Date,c=a.getDateFormat(),b={};b[a.getCalendarParam()]=a.getCalendar().id;b[a.getStartParam()]=d.format(e,c);b[a.getEndParam()]=d.format(f,c);return b}}},1,0,0,0,['store.calendar-events'],0,[Ext.calendar.store,'Events'],0);Ext.cmd.derive('Ext.calendar.theme.Theme',Ext.Base,{singleton:!0,colors:['#F44336','#3F51B5','#4CAF50','#FF9800','#E91E63','#2196F3','#8BC34A','#FF5722','#673AB7','#009688','#FFC107','#607D8B'],lightColor:'#FFFFFF',darkColor:'#000000',generatePalette:function(b){var a=this,c=a.light,i=a.dark,g=a.lightColor,h=a.darkColor,f=b.getBrightness(),e,d;if(!c){a.light=c=Ext.util.Color.fromString(g);a.dark=i=Ext.util.Color.fromString(h)}e=Math.abs(c.getBrightness()-f);d=Math.abs(i.getBrightness()-f);return {primary:b.toString(),secondary:e>d?g:h,border:b.createDarker(0.2).toString()}},getBaseColor:function(f){var b=this,d=b.idMap,c=b.colors,e=f.id,a;a=d[e];if(!a){a=c[b.current%c.length];d[e]=a;++b.current}return a},getPalette:function(b){var c=this.colorMap,a=c[b],d;if(!a){d=Ext.util.Color.fromString(b);c[b]=a=this.generatePalette(d)}return a},privates:{colorMap:{},idMap:{},current:0,onIdChanged:function(d,b){var a=this.idMap,c=a[b];if(c){delete a[b];a[d]=c}}}},0,0,0,0,0,0,[Ext.calendar.theme,'Theme'],0);Ext.cmd.derive('Ext.calendar.model.CalendarBase',Ext.Mixin,{config:{eventStoreDefaults:{type:'calendar-events',proxy:{type:'ajax'}}},events:function(){var a=this,b=a._eventStore,c;if(!b){c=Ext.merge({calendar:a},a.config.eventStoreDefaults,a.eventStoreDefaults,a.get('eventCfg'));a._eventStore=b=Ext.Factory.store(a.getEventStoreConfig(c))}return b},getBaseColor:function(){var a=this.getColor()||this.getAssignedColor();if(!a){a=Ext.calendar.theme.Theme.getBaseColor(this);this.setAssignedColor(a)}return a},isEditable:function(){return this.getEditable()},isHidden:function(){return this.getHidden()},privates:{onIdChanged:function(a,b){Ext.calendar.theme.Theme.onIdChanged(a,b)}}},0,0,0,0,0,0,[Ext.calendar.model,'CalendarBase'],0);Ext.cmd.derive('Ext.calendar.model.Calendar',Ext.data.Model,{fields:[{name:'title',type:'string'},{name:'description',type:'string'},{name:'color',type:'string'},{name:'assignedColor',type:'string',persist:!1},{name:'hidden',type:'bool'},{name:'editable',type:'bool',defaultValue:!0},{name:'eventStore',type:'auto',persist:!1}],constructor:function(b,a){Ext.data.Model.prototype.constructor.call(this,b,a);this.getBaseColor()},getAssignedColor:function(){return this.data.assignedColor},getColor:function(){return this.data.color},getDescription:function(){return this.data.description},getEditable:function(){return this.data.editable},getEventStoreConfig:function(a){return Ext.merge(a,this.data.eventStore)},getHidden:function(){return this.data.hidden},getTitle:function(){return this.data.title},setAssignedColor:function(a){this.set('assignedColor',a)},setColor:function(a){this.set('color',a)},setDescription:function(a){this.set('description',a)},setEditable:function(a){this.set('editable',a)},setHidden:function(a){this.set('hidden',a)},setTitle:function(a){this.set('title',a)}},1,0,0,0,0,[[Ext.calendar.model.CalendarBase.prototype.mixinId||Ext.calendar.model.CalendarBase.$className,Ext.calendar.model.CalendarBase]],[Ext.calendar.model,'Calendar'],0);Ext.cmd.derive('Ext.calendar.panel.AbstractBase',Ext.Panel,{layout:'fit',autoSize:!1,initialize:function(){var a=this;Ext.Panel.prototype.initialize.call(this);if(a.syncHeaderSize){a.element.on('resize','handleResize',a);a.getView().on('refresh','handleRefresh',a,{single:!0})}},updateDayHeader:function(a){if(a){a.setDocked('top');this.add(a)}},updateView:function(a){this.add(a)},privates:{handleRefresh:function(){this.handleResize()},handleResize:function(){var a=this.getDayHeader();if(a){a.setOverflowWidth(this.getView().scrollable.getScrollbarSize().width)}}}},0,0,['widget','component','container','panel'],{'widget':!0,'component':!0,'container':!0,'panel':!0},0,0,[Ext.calendar.panel,'AbstractBase'],0);Ext.cmd.derive('Ext.calendar.panel.Base',Ext.calendar.panel.AbstractBase,{config:{dayHeader:null,eventRelayers:{view:{beforeeventadd:!0,beforeeventedit:!0,eventadd:!0,eventedit:!0,eventdrop:!0,eventtap:!0,validateeventadd:!0,validateeventedit:!0,validateeventdrop:!0,valuechange:!0}},view:null},platformConfig:{'!desktop':{compact:!0}},configExtractor:{view:{addForm:!0,compact:!0,compactOptions:!0,controlStoreRange:!0,editForm:!0,eventDefaults:!0,gestureNavigation:!0,store:!0,timezoneOffset:!0,value:!0}},twoWayBindable:{value:1},cls:['x-calendar-base','x-unselectable'],constructor:function(a){var f=this,j=Ext.Config,i=f.configExtractor,h={},e,b,d,g,c;a=Ext.apply({},a);f.extracted=h;for(e in i){d=i[e];h[e]=g={};for(b in a){if(b in d){c=d[b];if(c===!0){c=b}g[c]=a[b];delete a[b]}}f.setupProxy(d,j.get(e).names.get)}Ext.calendar.panel.AbstractBase.prototype.constructor.call(this,a);f.initRelayers()},onClassExtended:function(c,b,d){var a=b.configExtractor;if(a){delete b.configExtractor;c.prototype.configExtractor=Ext.merge({},c.prototype.configExtractor,a)}},updateHighlightToday:Ext.emptyFn,getDisplayRange:function(){return this.getView().getDisplayRange()},getVisibleRange:function(){return this.getView().getVisibleRange()},moveNext:function(){this.getView().moveNext()},movePrevious:function(){this.getView().movePrevious()},navigate:function(b,a){this.getView().navigate(b,a)},showAddForm:function(b,a){this.getView().showAddForm(b,a)},showEditForm:function(b,a){this.getView().showEditForm(b,a)},applyDayHeader:function(a){if(a){a=Ext.apply(this.extracted.dayHeader,a);a=Ext.create(a)}return a},updateDayHeader:function(b,a){if(a){a.destroy()}if(b){this.getView().setHeader(b)}Ext.calendar.panel.AbstractBase.prototype.updateDayHeader.call(this,b,a)},applyView:function(a){if(a){a=Ext.create(Ext.apply(this.extracted.view,a))}return a},updateView:function(b,a){if(a){a.destroy()}Ext.calendar.panel.AbstractBase.prototype.updateView.call(this,b,a)},privates:{calculateMoveNext:function(){return this.getView().calculateMoveNext()},calculateMovePrevious:function(){return this.getView().calculateMovePrevious()},createItemRelayer:function(b){var a=this;return function(d,c){return a.fireEvent(b,a,c)}},generateProxyMethod:function(d,c,b){var a=this,h=c.names.set,g=c.names.get,f=d.names.set,e=d.names.get;if(!a[f]){a[f]=function(f){var e=a[b]();if(e){e[h](f)}}}if(!a[e]){a[e]=function(){var e=a[b]();if(e){return e[g]()}}}},initRelayers:function(){var g=Ext.Config,d=this.getEventRelayers(),c,a,f,b,e;for(c in d){a=d[c];f=this[g.get(c).names.get]();e=a.$prefix||'';for(b in a){f.on(b,this.createItemRelayer(e+b))}}},refreshEvents:function(){this.getView().refreshEvents()},setupProxy:function(e,g){var h=this,f=Ext.Config,c,a,b,d;for(c in e){d=e[c];b=f.get(c);if(d===!0){a=b}else {a=f.get(d)}h.generateProxyMethod(b,a,g)}}}},1,0,['widget','component','container','panel'],{'widget':!0,'component':!0,'container':!0,'panel':!0},0,0,[Ext.calendar.panel,'Base'],0);Ext.cmd.derive('Ext.calendar.store.EventSource',Ext.data.Store,{config:{source:null},sorters:[{direction:'ASC',sorterFn:function(a,b){return Ext.calendar.model.Event.sort(a,b)}}],trackRemoved:!1,constructor:function(a){this.calendarMap={};Ext.data.Store.prototype.constructor.call(this,a)},createEvent:function(b){var c=this.getSource().first().events().getModel(),a=new c();if(b){a.setData(b)}return a},updateSource:function(b){var a=this;a.sourceListeners=Ext.destroy(a.sourceListeners);if(b){a.sourceListeners=b.on({destroyable:!0,scope:a,add:'checkData',remove:'checkData',refresh:'checkData'});a.checkData()}},add:function(b){var a=this.getEventsForCalendar(b.getCalendarId());if(!a){return}a.add(b)},move:function(b,e){var a=this.getEventsForCalendar(e),c=b.getCalendar(),d;if(c){a.suspendAutoSync();++a.isMoving}a.remove(b);if(c){--a.isMoving;a.resumeAutoSync();b.unjoin(a);d=a.removed;if(d){Ext.Array.remove(d,b)}a=this.getEventsForCalendar(c);a.suspendAutoSync();a.add(b);a.resumeAutoSync()}},remove:function(b){var a=this.getEventsForCalendar(b.getCalendarId());if(!a){return}a.remove(b)},hasRangeCached:function(c){var e=this.calendarMap,a=this.range,f,d,b;if(!a){return !1}for(f in e){b=!0;d=this.getEventsForCalendar(e[f]);if(!d.hasRangeCached(c)){return !1}}if(!b){return a.containsRange(c)}return !0},setRange:function(g){var a=this,i=a.calendarMap,e=!0,d=!0,f,c,j,b,h;a.range=g.clone();for(j in i){h=!0;c=a.getEventsForCalendar(i[j]);f=c.hasRangeCached(g);d=d&&f;c.setRange(g);if(!f){b=b||[];c.on('load',function(d,f,c){Ext.Array.remove(b,d);e=e&&c;if(b.length===0){a.doBulkLoad(e)}},null,{single:!0});b.push(c);a.activeLoad=!0}}if(h&&d){a.checkData(!0)}else if(b){a.fireEvent('beforeload',a)}},doDestroy:function(){var a=this,b=this.calendarMap,c;for(c in b){a.untrackCalendar(b[c])}a.calendarMap=a.stores=null;a.setSource(null);Ext.data.Store.prototype.doDestroy.call(this)},privates:{checkData:function(m){var a=this,e=a.calendarMap,g=Ext.apply({},e),n=a.getSource(),i=n.getRange(),o=i.length,j=[],c=a.range,f,b,d,h,k,l;if(c){k=c.start;l=c.end}for(f=0;f<o;++f){d=i[f];b=d.getId();if(g[b]){delete g[b];a.untrackCalendar(e[b])}a.trackCalendar(d);if(c){h=a.getEventsForCalendar(d);if(h.getCount()){Ext.Array.push(j,h.getInRange(k,l))}}e[b]=d}for(b in g){a.untrackCalendar(g[b]);delete e[b]}if(m!==!0&&c){a.setRange(c)}a.loadRecords(j)},doBulkLoad:function(c){var a=this,f=a.calendarMap,e=a.range,b=[],g,d;if(c){for(g in f){d=a.getEventsForCalendar(f[g]);Ext.Array.push(b,d.getInRange(e.start,e.end))}a.loadRecords(b)}a.fireEvent('load',a,b,c);a.activeLoad=!1},fireChangeEvent:function(){return !1},getEventsForCalendar:function(a){var b=null;if(!a.isModel){a=this.calendarMap[a]}if(a){b=a.events()}return b},onEventStoreAdd:function(g,d){var e=this.range,f=d.length,b=[],a,c;for(a=0;a<f;++a){c=d[a];if(c.occursInRange(e.start,e.end)){b.push(c)}}if(b.length>0){this.getDataSource().add(b)}},onEventStoreBeforeUpdate:function(b,a){if(!a.$moving){this.suspendEvents();this.lastIndex=this.indexOf(a)}},onEventStoreClear:function(d,b){var a=this,c;if(b.length>0){a.suspendEvents();c=a.getDataSource().remove(b);a.resumeEvents();if(c){a.fireEvent('refresh',a)}}},onEventStorePrefetch:function(c,b,a){this.getDataSource().remove(a)},onEventStoreRefresh:function(){if(this.activeLoad){return}this.checkData()},onEventStoreRemove:function(b,a){this.getDataSource().remove(a)},onEventStoreUpdate:function(i,b,h,e,g){if(b.$moving){return}var a=this,f=a.lastIndex,c=a.lastIndex!==-1,d=a.contains(b);a.resumeEvents();if(c&&d){a.fireEvent('update',a,b,h,e,g)}else if(c&&!d){a.fireEvent('remove',a,[b],f,!1)}else if(!c&&d){a.fireEvent('add',a,[b],a.indexOf(b))}},trackCalendar:function(b){var a=this.getEventsForCalendar(b);a.sourceListeners=a.on({destroyable:!0,scope:this,add:'onEventStoreAdd',beforeupdate:'onEventStoreBeforeUpdate',clear:'onEventStoreClear',prefetch:'onEventStorePrefetch',refresh:'onEventStoreRefresh',remove:'onEventStoreRemove',update:'onEventStoreUpdate'})},untrackCalendar:function(b){var a=this.getEventsForCalendar(b);a.sourceListeners=Ext.destroy(a.sourceListeners)}}},1,0,0,0,0,0,[Ext.calendar.store,'EventSource'],0);Ext.cmd.derive('Ext.calendar.store.Calendars',Ext.data.Store,{config:{eventStoreDefaults:null},model:'Ext.calendar.model.Calendar',getEventSource:function(){var a=this.eventSource;if(!a){this.eventSource=a=new Ext.calendar.store.EventSource({source:this})}return a},onCollectionAdd:function(f,d){var e=this.getEventStoreDefaults(),c=d.items,g=c.length,b,a;Ext.data.Store.prototype.onCollectionAdd.call(this,f,d);if(e){for(b=0;b<g;++b){a=c[b];if(!a.hasOwnProperty('eventStoreDefaults')){a.eventStoreDefaults=Ext.merge({},a.eventStoreDefaults,e)}}}},doDestroy:function(){this.eventSource=Ext.destroy(this.eventSource);Ext.data.Store.prototype.doDestroy.call(this)}},0,0,0,0,['store.calendar-calendars'],0,[Ext.calendar.store,'Calendars'],0);Ext.cmd.derive('Ext.calendar.view.Base',Ext.Gadget,{alternateStateConfig:'compactOptions',config:{addForm:{xtype:'calendar-form-add'},compact:!1,compactOptions:null,controlStoreRange:!0,editForm:{xtype:'calendar-form-edit'},eventDefaults:{xtype:'calendar-event'},gestureNavigation:!0,header:null,store:null,timezoneOffset:undefined,value:undefined},platformConfig:{'!desktop':{compact:!0}},twoWayBindable:{value:1},constructor:function(a){this.eventMap={};this.eventPool={};Ext.Component.prototype.constructor.call(this,a)},getForm:function(){return this.form||null},moveNext:function(){this.setValue(this.calculateMoveNext())},movePrevious:function(){this.setValue(this.calculateMovePrevious())},navigate:function(a,c){var b=Ext.Date;if(a!==0){this.setValue(b.add(this.getValue(),c||b.DAY,a,!0))}},showAddForm:function(b,e){var a=this,d=Ext.Date,c;if(a.getAddForm()){if(!b){c=a.getDefaultCreateRange();b=a.createModel({startDate:c.start,endDate:d.add(c.end,d.DAY,1),allDay:!0})}a.doShowForm(b,'add',a.createAddForm(),'onFormCreateSave',e)}},showEditForm:function(b,a){if(this.getEditForm()){this.doShowForm(b,'edit',this.createEditForm(),'onFormEditSave',a)}},createAddForm:function(){return Ext.merge({view:this},this.getAddForm())},createEditForm:function(a){return Ext.merge({view:this},this.getEditForm())},getEventSource:function(){return this.eventSource},updateCompact:function(b){var a=this,c=a.baseCls,d=a.getHeader();a.toggleCls('x-calendar-compact',b);a.toggleCls(c+'-compact',b);a.toggleCls('x-calendar-large',!b);a.toggleCls(c+'-large',!b);if(d){d.setCompact(b)}a.toggleConfigState(b)},updateCompactOptions:function(){if(!this.isConfiguring&&this.getCompact()){this.toggleConfigState(!0)}},updateGestureNavigation:function(b){var a;if(Ext.supports.Touch){a=b?'on':'un';this.getBodyElement()[a]('swipe','onBodySwipe',this)}},updateHeader:function(b,a){if(a){a.destroy()}if(b){b.setCompact(this.getCompact());this.refreshHeaders()}},applyStore:function(a){if(a){a=Ext.StoreManager.lookup(a,'calendar-calendars')}return a},updateStore:function(c,b){var a=this;a.eventSource=null;if(b){if(b.getAutoDestroy()){b.destroy()}else {b.getEventSource().un(a.getSourceListeners());b.un(a.getStoreListeners())}}if(c){c.on(a.getStoreListeners());a.eventSource=c.getEventSource();a.eventSource.on(a.getSourceListeners());if(!a.isConfiguring){a.onSourceAttach();a.refreshEvents()}}},applyTimezoneOffset:function(a){this.autoOffset=!1;if(a===undefined){a=Ext.calendar.date.Util.getDefaultTimezoneOffset();this.autoOffset=!0}return a},applyValue:function(a,b){a=Ext.Date.clearTime(a||Ext.calendar.date.Util.getLocalNow(),!0);if(b&&b.getTime()===a.getTime()){a=undefined}return a},updateValue:function(a){if(!this.isConfiguring){this.fireEvent('valuechange',this,{value:a})}},doDestroy:function(){var a=this;a.clearEvents();a.form=Ext.destroy(a.form);a.setHeader(null);a.setStore(null);Ext.Component.prototype.doDestroy.call(this)},privates:{$eventCls:'x-calendar-event',$eventInnerCls:'x-calendar-event-inner',$eventColorCls:'x-calendar-event-marker-color',$staticEventCls:'x-calendar-event-static',$tableCls:'x-calendar-table',eventRefreshSuspend:0,refreshCounter:0,forwardDirection:'left',backwardDirection:'right',dateInfo:null,calculateMove:function(b){var a=this.getMoveInterval(),c=this.getMoveBaseValue();return Ext.Date.add(c,a.unit,b*a.amount,!0)},calculateMoveNext:function(){return this.calculateMove(1)},calculateMovePrevious:function(){return this.calculateMove(-1)},clearEvents:function(){var b=this.eventMap,a;for(a in b){b[a].destroy()}this.eventMap={}},createEvent:function(f,a,e){var b=this,g=Ext.apply({},b.getEventDefaults()),c,d;if(e){d=b.getUtcNow();a.startDate=d;a.endDate=d}else {a.palette=b.getEventPalette(f)}a=a||{};a.model=f;a.view=b;c=Ext.widget(Ext.apply(a,g));if(!e){b.eventMap[c.id]=c}return c},createEvents:function(b,d){var e=b.length,c=[],a;for(a=0;a<e;++a){c.push(this.createEvent(b[a],Ext.apply({},d)))}return c},createModel:function(a){return this.getEventSource().createEvent(a)},doRefresh:Ext.privateFn,doRefreshEvents:Ext.privateFn,doShowForm:function(c,d,g,f,b){var a=this,e;if(!a.getStore()||!c.isEditable()){return}if(a.fireEvent('beforeevent'+d,a,{event:c})===!1){return}b=b||{};a.form=e=Ext.create(Ext.apply({event:c},g));e.on({save:function(h,j){var e=j.data,i={event:c,data:e,validate:Ext.Promise.resolve(!0)};a.fireEvent('validateevent'+d,a,i);i.validate.then(function(i){if(i!==!1){if(b.onSave){b.onSave.call(b.scope||a,a,c,e)}a[f](h,c,e);a.fireEvent('event'+d,a,{event:c,data:e})}else {a.onFormCancel(h)}})},cancel:function(e,h){if(b.onCancel){b.onCancel.call(b.scope||a,a,c)}a.onFormCancel(e);a.fireEvent('event'+d+'cancel',a,{event:c})},close:function(e){if(b.onCancel){b.onCancel.call(b.scope||a,a,c)}a.onFormCancel(e)},drop:function(e){var h={event:c,validate:Ext.Promise.resolve(!0)};a.fireEvent('validateeventdrop',a,h);h.validate.then(function(h){if(h!==!1){if(b.onDrop){b.onDrop.call(b.scope||a,a,c)}a.onFormDrop(e,c);a.fireEvent('eventdrop',a,{event:c})}else {a.onFormCancel(e)}})}});e.show()},getBodyElement:function(){return this.element},getCalendar:function(a){return this.getStore().getById(a)},getDaysSpanned:function(a,b,e){var d=Ext.Date,c;if(e){c=d.diff(a,b,d.DAY)}else {a=this.utcToLocal(a);b=this.utcToLocal(b);c=Ext.calendar.model.Event.getDaysSpanned(a,b)}return c},getDefaultCreateRange:function(){var c=this,a=Ext.calendar.date.Util.getLocalNow(),d=c.getDisplayRange(),b;a=c.toUtcOffset(Ext.Date.clearTime(a,!0));if(d.contains(a)){b=Ext.Date.localToUtc(a)}else {b=c.toUtcOffset(d.start)}return new Ext.calendar.date.Range(b,b)},getDefaultPalette:function(){var d=this.getStore(),b=Ext.calendar.theme.Theme,a,c;if(d){a=d.first();if(a){c=a.getBaseColor()}}return b.getPalette(c||b.colors[0])},getEditableCalendars:function(){var a=this.getStore(),b;if(a){b=Ext.Array.filter(a.getRange(),function(a){return a.isEditable()})}return b||[]},getEvent:function(a){var b=this.$eventCls,c;if(a.isEvent){a=a.target}if(!Ext.fly(a).hasCls(b)){a=Ext.fly(a).up('.'+b,this.element,!0)}c=a.getAttribute('data-eventId');return this.getEventSource().getById(c)},getEventDaysSpanned:function(a){return this.getDaysSpanned(a.getStartDate(),a.getEndDate(),a.getAllDay())},getEventPalette:function(a){var b=a.getColor()||a.getCalendar().getBaseColor();return Ext.calendar.theme.Theme.getPalette(b)},getMoveBaseValue:function(){return this.getValue()},getMoveInteral:Ext.privateFn,getSourceListeners:function(){return {scope:this,add:'onSourceAdd',refresh:'onSourceRefresh',remove:'onSourceRemove',update:'onSourceUpdate'}},getStoreListeners:function(){return {scope:this,update:'onStoreUpdate'}},getUtcNow:function(){return Ext.Date.utcToLocal(new Date())},handleChange:function(e,c,b,d){var a=this,g={event:c,newRange:b.clone(),validate:Ext.Promise.resolve(!0)},f=d?d:Ext.emptyFn;a.fireEvent('validateevent'+e,a,g);g.validate.then(function(g){if(g!==!1){f(!0);c.setRange(b);a.fireEvent('event'+e,a,{event:c,newRange:b.clone()})}else {f(!1)}})},handleChangeStart:function(c,b){var a=b.isEditable();if(a){a=this.fireEvent('beforeevent'+c+'start',this,{event:b})}return a},handleResize:Ext.privateFn,hasEditableCalendars:function(){return this.getEditableCalendars().length>0},isEventHidden:function(b){var a=b.getCalendar();return a?a.isHidden():!0},onBodySwipe:function(b){var a=this;if(b.direction===a.forwardDirection){a.moveNext()}else if(b.direction===a.backwardDirection){a.movePrevious()}},onEventTap:function(a){this.fireEvent('eventtap',this,{event:a});this.showEditForm(a)},onFormCreateSave:function(c,a,b){a.setData(b);a.setCalendar(this.getCalendar(a.getCalendarId()));this.getEventSource().add(a);this.form=Ext.destroy(c)},onFormEditSave:function(f,b,e){var a=this,d=b.getCalendar(),c;a.suspendEventRefresh();b.setData(e);c=b.getCalendarId();if(d.id!==c){b.setCalendar(a.getCalendar(c));a.getEventSource().move(b,d)}a.resumeEventRefresh();a.refreshEvents();a.form=Ext.destroy(f)},onFormDrop:function(b,a){this.getEventSource().remove(a);this.form=Ext.destroy(b)},onFormCancel:function(a){this.form=Ext.destroy(a)},onSourceAdd:function(){this.refreshEvents()},onSourceAttach:Ext.privateFn,onSourceRefresh:function(){this.refreshEvents()},onSourceRemove:function(){this.refreshEvents()},onSourceUpdate:function(){this.refreshEvents()},onStoreUpdate:function(){this.refreshEvents()},refresh:function(){var a=this;if(!a.isConfiguring){++a.refreshCounter;a.doRefresh();if(a.hasListeners.refresh){a.fireEvent('refresh',a)}}},refreshEvents:function(){var a=this;if(!a.eventRefreshSuspend&&!a.isConfiguring){if(!a.refreshCounter){a.refresh()}a.doRefreshEvents()}},refreshHeaders:Ext.privateFn,resumeEventRefresh:function(){--this.eventRefreshSuspend},setSourceRange:function(a){if(!this.getControlStoreRange()){return}var b=this.getEventSource(),c;if(b){a=Ext.calendar.date.Util.expandRange(a);c=b.hasRangeCached(a);b.setRange(a);if(c){this.refreshEvents()}}},suspendEventRefresh:function(){++this.eventRefreshSuspend},toUtcOffset:function(e){var c=Ext.Date,f=c.localToUtc(e),d=this.autoOffset,a=d?f.getTimezoneOffset():this.getTimezoneOffset(),b;if(d){b=e.getTimezoneOffset();if(b!==a){a+=b-a}}return c.add(f,c.MINUTE,a,!1)},utcToLocal:function(c){var b=Ext.Date,e=this.getTimezoneOffset(),d=c.getTimezoneOffset(),a;if(this.autoOffset){a=b.clone(c)}else {a=b.subtract(c,b.MINUTE,e-d,!0)}return a},utcTimezoneOffset:function(a){var b=Ext.Date,c=this.autoOffset?a.getTimezoneOffset():this.getTimezoneOffset();return b.subtract(a,b.MINUTE,c,!0)}}},1,0,['widget','component'],{'widget':!0,'component':!0},0,[[Ext.mixin.ConfigState.prototype.mixinId||Ext.mixin.ConfigState.$className,Ext.mixin.ConfigState]],[Ext.calendar.view,'Base'],0);Ext.define('Ext.overrides.calendar.view.Base',{override:'Ext.calendar.view.Base',constructor:function(a){(arguments.callee.$previous||Ext.Component.prototype.constructor).call(this,a);this.element.on('resize','handleResize',this)},onRender:function(){(arguments.callee.$previous||Ext.Component.prototype.onRender).call(this);if(!this.parent){this.refresh()}},privates:{refreshEvents:function(){var a=this,b=a.element;if(!b.isPainted()&&!a.refreshPaintListener){b.on('painted','refreshEvents',a,{single:!0});a.refreshPaintListener=!0;return}a.refreshPaintListener=!1;arguments.callee.$previous.call(this)}}});Ext.cmd.derive('Ext.calendar.view.DaysRenderer',Ext.Base,{end:null,start:null,view:null,constructor:function(d){var b=this,a,c;Ext.apply(b,d);a=b.view;c=a.slotTicks;b.slots=(a.getEndTime()-a.getStartTime())*(60/c);b.offset=a.MS_TO_MINUTES*c;b.events=[]},addIf:function(a){var b=this,e=b.start,g=b.view,f=b.offset,c,d;if(!a.isSpan()&&a.isContainedByRange(e,b.end)){c=Math.max(0,(g.roundDate(a.getStartDate())-e)/f);d=Math.min(b.slots,(g.roundDate(a.getEndDate())-e)/f);this.events.push({event:a,start:c,end:d,len:d-c,colIdx:-1,overlaps:[],edgeWeight:-1,forwardPos:-1,backwardPos:-1})}},calculate:function(){var b=this,f=b.events,d,e,a,c;f.sort(b.sortEvents);d=b.buildColumns(f);b.constructOverlaps(d);c=d[0];if(c){e=c.length;for(a=0;a<e;++a){b.calculateEdgeWeights(c[a])}for(a=0;a<e;++a){b.calculatePositions(c[a],0,0)}}},hasEvents:function(){return this.events.length>0},privates:{appendOverlappingEvents:function(a,b){this.doOverlap(a,b,a.overlaps)},buildColumns:function(g){var h=g.length,b=[],e,c,f,d,a;for(e=0;e<h;++e){a=-1;d=g[e];for(c=0,f=b.length;c<f;++c){if(!this.hasOverlappingEvents(d,b[c])){a=c;break}}if(a===-1){a=b.length;b[a]=[]}b[a].push(d);d.colIdx=a}return b},calculateEdgeWeights:function(c){var d=c.overlaps,e=d.length,a=c.edgeWeight,b;if(a===-1){a=0;for(b=0;b<e;++b){a=Math.max(a,this.calculateEdgeWeights(d[b])+1)}c.edgeWeight=a}return a},calculatePositions:function(a,j,h){var b=a.overlaps,i=b.length,f=j+1,c,d,e,g;if(a.forwardPos===-1){if(i===0){a.forwardPos=1}else {b.sort(this.sortOverlaps);e=b[0];this.calculatePositions(e,f,h);a.forwardPos=e.backwardPos}c=a.forwardPos;g=c-h;a.backwardPos=c-g/f;for(d=1;d<i;++d){this.calculatePositions(b[d],0,c)}}},constructOverlaps:function(d){var h=d.length,e,a,b,c,f,g;for(a=0;a<h;++a){e=d[a];for(b=0,f=e.length;b<f;++b){g=e[b];for(c=a+1;c<h;++c){this.appendOverlappingEvents(g,d[c])}}}},doOverlap:function(f,c,d){var g=c.length,e=!1,a,b;for(a=0;a<g;++a){b=c[a];if(this.overlaps(f,b)){if(d){d.push(b);e=!0}else {return !0}}}return e},hasOverlappingEvents:function(b,a){return this.doOverlap(b,a)},overlaps:function(a,b){return a.start<b.end&&a.end>b.start},sortEvents:function(a,b){return Ext.calendar.model.EventBase.sort(a.event,b.event)},sortOverlaps:function(a,b){return b.edgeWeight-a.edgeWeight||(a.backwardPos||0)-(b.backwardPos||0)||Ext.calendar.model.EventBase.sort(a.event,b.event)}}},1,0,0,0,0,0,[Ext.calendar.view,'DaysRenderer'],0);Ext.cmd.derive('Ext.calendar.view.Days',Ext.calendar.view.Base,{isDaysView:!0,baseCls:'x-calendar-days',cellOverflowScrollBug:Ext.isGecko||Ext.isIE11m||Ext.isEdge,config:{allowSelection:!0,compactOptions:{displayOverlap:!1,showNowMarker:!1,timeFormat:'g',timeRenderer:function(f,e,d){var g=Ext.Date,b='',a,c;if(d){c='x-calendar-days-time-ampm';a=g.clone(this.baseDate);a.setHours(f);b='<div class="'+c+'">'+Ext.Date.format(a,'a')+'</div>'}return e+b}},displayOverlap:!0,draggable:!0,droppable:!0,endTime:20,resizeEvents:!0,showNowMarker:!0,startTime:8,timeFormat:'H:i',timeRenderer:null,visibleDays:4},constructor:function(b){var a=this;a.slotsPerHour=60/a.slotTicks;Ext.calendar.view.Base.prototype.constructor.call(this,b);a.scrollable=a.createScroller();a.bodyTable.on('tap','handleEventTap',a,{delegate:'.'+a.$eventCls});a.allDayContent.on('tap','handleEventTap',a,{delegate:'.'+a.$eventCls});a.recalculate();a.refreshHeaders()},getDisplayRange:function(){var a=this,b;if(a.isConfiguring){a.recalculate()}b=a.dateInfo.active;return new Ext.calendar.date.Range(a.utcToLocal(b.start),a.utcToLocal(b.end))},getVisibleRange:function(){var b=Ext.Date,a;if(this.isConfiguring){this.recalculate()}a=this.dateInfo.active;return new Ext.calendar.date.Range(b.clone(a.start),b.clone(a.end))},setTimeRange:function(b,c){var a=this;a.isConfiguring=!0;a.setStartTime(b);a.setEndTime(c);this.isConfiguring=!1;a.suspendEventRefresh();a.recalculate();a.resumeEventRefresh();a.refresh()},updateAllowSelection:function(b){var a=this;a.allDaySelectionListeners=a.selectionListeners=Ext.destroy(a.selectionListeners,a.allDaySelectionListeners);if(b){a.bodySelectionListeners=a.bodyTable.on({destroyable:!0,scope:a,touchstart:'onBodyTouchStart',touchmove:'onBodyTouchMove',touchend:'onBodyTouchEnd'});a.allDaySelectionListeners=a.headerWrap.on({destroyable:!0,scope:a,touchstart:'onAllDayTouchStart',touchmove:'onAllDayTouchMove',touchend:'onAllDayTouchEnd'})}},updateDisplayOverlap:function(a){if(!this.isConfiguring){this.refreshEvents()}},applyDraggable:function(a){if(a){a=new Ext.calendar.dd.DaysBodySource()}return a},updateDraggable:function(c,b){var a=this;if(b){b.destroy();a.allDayDrag=Ext.destroy(a.allDayDrag)}if(c){c.setView(a);a.allDayDrag=new Ext.calendar.dd.DaysAllDaySource();a.allDayDrag.setView(a)}},applyDroppable:function(a){if(a&&!a.isInstance){a=new Ext.calendar.dd.DaysBodyTarget(a)}return a},updateDroppable:function(c,b){var a=this;if(b){b.destroy();a.allDayDrop=Ext.destroy(a.allDayDrop)}if(c){c.setView(a);a.allDayDrop=new Ext.calendar.dd.DaysAllDayTarget();a.allDayDrop.setView(a)}},updateEndTime:function(){this.calculateSlots();if(!this.isConfiguring){this.refresh()}},updateResizeEvents:function(b){var a=this;a.dragListeners=Ext.destroy(a.dragListeners);if(b){a.dragListeners=a.bodyTable.on({scope:a,dragstart:'onResizerDragStart',drag:'onResizerDrag',dragend:'onResizerDragEnd',destroyable:!0,delegate:'.'+a.$resizerCls,priority:1001})}if(!(a.isConfiguring||a.destroying)){a.refreshEvents()}},updateShowNowMarker:function(c){var a=this,b=a.markerEl;Ext.uninterval(a.showNowInterval);a.showNowInterval=null;a.markerEl=null;if(b){Ext.fly(b).remove()}if(c){if(!a.isConfiguring){a.checkNowMarker()}a.showNowInterval=Ext.interval(a.checkNowMarker,300000,a)}},updateStartTime:function(){this.calculateSlots();if(!this.isConfiguring){this.refresh()}},updateTimeFormat:function(){if(!this.isConfiguring){this.updateTimeLabels()}},updateTimeRenderer:function(){if(!this.isConfiguring){this.updateTimeLabels()}},updateTimezoneOffset:function(){if(!this.isConfiguring){this.recalculate()}},updateValue:function(c,b){var a=this;if(!a.isConfiguring){a.recalculate();a.refreshHeaders();a.checkNowMarker();a.refreshEvents()}Ext.calendar.view.Base.prototype.updateValue.call(this,c,b)},updateVisibleDays:function(){var a=this;if(!a.isConfiguring){a.suspendEventRefresh();a.recalculate();a.resumeEventRefresh();a.refresh()}},getElementConfig:function(){var a=this,b=Ext.calendar.view.Base.prototype.getElementConfig.call(this),c=[{tag:'table',cls:a.$tableCls+' '+a.$bodyTableCls,reference:'bodyTable',children:[{tag:'tbody',children:[{tag:'tr',reference:'timeRow',children:[{tag:'td',reference:'timeContainer',cls:a.$timeContainerCls}]}]}]}];b.children=[{cls:'x-calendar-days-table-wrap',reference:'tableWrap',children:[{cls:'x-calendar-days-header-wrap',reference:'headerWrap',children:[{cls:'x-calendar-days-allday-background-wrap',reference:'allDayBackgroundWrap',children:[{tag:'table',cls:a.$tableCls+' x-calendar-days-allday-background-table',children:[{tag:'tbody',children:[{tag:'tr',reference:'allDayBackgroundRow',children:[{tag:'td',cls:a.$headerGutterCls}]}]}]}]},{tag:'table',cls:a.$tableCls+' x-calendar-days-allday-events',children:[{tag:'tbody',reference:'allDayContent',children:[{tag:'tr',reference:'allDayEmptyRow'}]}]}]},{cls:'x-calendar-days-body-row',children:[{cls:'x-calendar-days-body-cell',reference:a.cellOverflowScrollBug?null:'bodyWrap',children:a.cellOverflowScrollBug?[{cls:'x-calendar-days-body-wrap',reference:'bodyWrap',children:c}]:c}]}]}];return b},doDestroy:function(){var a=this;a.scrollable=Ext.destroy(a.scrollable);a.setAllowSelection(!1);a.setShowNowMarker(!1);a.setResizeEvents(!1);a.setDraggable(null);a.setDroppable(null);Ext.calendar.view.Base.prototype.doDestroy.call(this)},privates:{$allDayBackgroundCls:'x-calendar-days-allday-background-cell',$allDayEmptyRowCls:'x-calendar-days-allday-empty-cell',$bodyCls:'x-calendar-days-body',$bodyTableCls:'x-calendar-days-body-table',$dayColumnCls:'x-calendar-days-day-column',$dayEventContainerCls:'x-calendar-days-day-event-container',$headerGutterCls:'x-calendar-days-header-gutter',$markerAltCls:'x-calendar-days-marker-alt',$markerCls:'x-calendar-days-marker',$nowMarkerCls:'x-calendar-days-now-marker',$resizerCls:'x-calendar-event-resizer',$resizingCls:'x-calendar-event-resizing',$selectionCls:'x-calendar-days-selection',$tableCls:'x-calendar-days-table',$timeCls:'x-calendar-days-time',$timeContainerCls:'x-calendar-days-time-ct',baseDate:new Date(2008,0,1),MS_TO_MINUTES:60000,minimumEventMinutes:30,slotTicks:5,slotsPerHour:null,backPosName:'left',forwardPosName:'right',headerScrollOffsetName:'padding-right',calculateSlots:function(){this.maxSlots=(this.getEndTime()-this.getStartTime())*2},checkNowMarker:function(){if(this.getShowNowMarker()){this.doCheckNowMarker()}},clearAndPopulate:function(b,e,f){var c=b.dom.childNodes,g=e.length,d=f?0:1,a;while(c.length>d){b.removeChild(c[d])}for(a=0;a<g;++a){b.appendChild(e[a],!0)}},clearEvents:function(){var a,b;Ext.calendar.view.Base.prototype.clearEvents.call(this);a=this.allDayContent.dom;if(a){b=a.childNodes;while(b.length>1){a.removeChild(b[0])}}},clearSelected:function(){this.selectRange(-1,-1)},constructAllDayEvents:function(n){var a=this,r=Ext.Date,l=n.length,q=a.getVisibleDays(),d=a.allDayEmptyRow.dom,i=a.allDayContent.dom,c,e,b,p,m,h,g,j,o,k,f;c=new Ext.calendar.view.WeeksRenderer({view:a,start:r.clone(this.dateInfo.full.start),days:q,index:0,maxEvents:null});for(b=0;b<l;++b){e=n[b];if(!a.isEventHidden(e)&&e.isSpan()){c.addIf(e)}}if(d.firstChild.className===a.$headerGutterCls){d.removeChild(d.firstChild)}if(c.hasEvents()){c.calculate();p=c.rows;for(b=0,l=p.length;b<l;++b){m=c.compress(b);k=document.createElement('tr');for(h=0,o=m.length;h<o;++h){g=m[h];f=document.createElement('td');f.colSpan=g.len;if(!g.isEmpty){j=a.createEvent(g.event,{},!1);j.addCls(a.$staticEventCls);f.appendChild(j.element.dom)}k.appendChild(f)}i.insertBefore(k,d)}}Ext.fly(i.firstChild).insertFirst({tag:'td',cls:a.$headerGutterCls,rowSpan:i.childNodes.length})},constructEvents:function(){var a=this,d=Ext.Date,g=a.getEventSource().getRange(),m=g.length,k=a.getVisibleDays(),b=d.clone(a.dateInfo.visible.start),j=b,l=a.getEndTime()-a.getStartTime(),e,f,c,i,h;a.constructAllDayEvents(g);for(e=0;e<k;++e){j=d.add(b,d.HOUR,l,!0);i=document.createDocumentFragment();c=new Ext.calendar.view.DaysRenderer({view:a,start:b,end:j});for(f=0;f<m;++f){h=g[f];if(!a.isEventHidden(h)){c.addIf(h)}}if(c.hasEvents()){c.calculate();a.processDay(c,i)}a.getEventColumn(e).appendChild(i);b=d.add(b,d.DAY,1)}},createEvent:function(b,a,d){var c=b?b.getAllDay():!1;a=a||{};a.mode=c?'weekspan':'day';if(!c){a.resize=this.getResizeEvents()}return Ext.calendar.view.Base.prototype.createEvent.call(this,b,a,d)},createScroller:function(){return new Ext.scroll.NativeScroller({element:this.bodyWrap,x:!1,y:!0})},doCheckNowMarker:function(){var a=this,d=Ext.Date,i=a.markerEl,c=a.roundDate(Ext.calendar.date.Util.getLocalNow()),k=a.dateInfo.visible,b=a.utcToLocal(k.start),n=a.utcToLocal(k.end),m=a.getVisibleDays(),r=c.getFullYear(),q=c.getMonth(),p=c.getDate(),g=c.getHours(),o=c.getMinutes(),h=a.getStartTime(),j=a.getEndTime(),l,f,e;if(i){Ext.fly(i).remove()}a.markerEl=null;if(!a.element.isVisible(!0)){return}if(b<=c&&c<n){for(e=0;e<m;++e){if(b.getFullYear()===r&&b.getMonth()===q&&b.getDate()===p){if(h<=g&&(g<j||g===j&&o===0)){b.setHours(h);l=d.diff(b,c,d.MINUTE);f=l/a.slotTicks*a.getSlotStyle().minSlotHeight}break}b=d.add(b,d.DAY,1)}}if(f!==undefined){a.markerEl=Ext.fly(a.getColumn(e)).createChild({cls:a.$nowMarkerCls,style:{top:f+'px'}},null,!0)}},doRecalculate:function(b){var c=this,a=Ext.Date,e=Ext.calendar.date.Range,d,f;if(!b){b=a.clone(c.getValue())}b=c.toUtcOffset(a.clearTime(b,!0));d=a.add(b,a.DAY,c.getVisibleDays());f=a.subtract(d,a.DAY,1);return {full:new e(b,d),active:new e(b,f),visible:new e(a.add(b,a.HOUR,c.getStartTime(),!0),a.subtract(d,a.HOUR,24-c.getEndTime(),!0))}},doRefresh:function(){var a=this,b=a.timeContainer,d=a.allDayBackgroundRow,c;if(!a.dateInfo){a.suspendEventRefresh();a.recalculate();a.resumeEventRefresh()}b.dom.innerHTML='';b.appendChild(a.generateTimeElements(),!0);a.clearAndPopulate(a.allDayEmptyRow,a.generateAllDayCells(a.$allDayEmptyRowCls,'&#160;'),!0);a.clearAndPopulate(d,a.generateAllDayCells(a.$allDayBackgroundCls));a.clearAndPopulate(a.timeRow,a.generateColumns());c=Ext.Array.toArray(a.allDayBackgroundRow.dom.childNodes);a.backgroundCells=Ext.Array.slice(c,1);a.checkNowMarker();a.refreshHeaders();a.syncHeaderScroll();a.refreshEvents()},doRefreshEvents:function(){var a=this.getEventSource();this.clearEvents();if(a&&a.getCount()){this.constructEvents()}},generateAllDayCells:function(e,d){var b=[],c=this.getVisibleDays(),a;for(a=0;a<c;++a){b.push({tag:'td',cls:e,html:d})}return b},generateColumns:function(){var a=this,h=a.getVisibleDays(),g=a.getStartTime(),i=a.getEndTime(),f=[],e,b,d,c;for(b=0;b<h;++b){c=[];e={tag:'td',cls:a.$dayColumnCls,'data-index':b,children:[{cls:a.$dayEventContainerCls},{cls:a.$markerContainerCls,children:c}]};for(d=g;d<i;++d){c.push({cls:a.$markerCls,children:[{cls:a.$markerAltCls}]})}f.push(e)}return f},generateTimeElements:function(){var b=this.generateTimeLabels(),d=b.length,c=[],a;for(a=0;a<d;++a){c.push({cls:this.$timeCls,html:b[a]})}return c},generateTimeLabels:function(){var b=this,j=Ext.Date,f=j.clone(b.baseDate),l=b.getStartTime(),m=b.getEndTime(),k=b.getTimeFormat(),i=[],e=b.getTimeRenderer(),g,h,d,a,c;for(a=l;a<m;++a){f.setHours(a);d=j.format(f,k);if(e){c=!1;if(a<12&&!g){c=g=!0}else if(a>=12&&!h){c=h=!0}d=e.call(this,a,d,c)}i.push(d)}return i},getBodyElement:function(){return this.bodyTable},getColumn:function(a){return this.getColumns()[a]},getColumns:function(){return this.bodyTable.query('.'+this.$dayColumnCls)},getEventColumn:function(a){return Ext.fly(this.getColumn(a)).down('.'+this.$dayEventContainerCls)},getEventStyle:function(){var c=this,d=c.eventStyle,e,b,a;if(!d){e=c.createEvent(null,{resize:!0},!0);b=e.element;b.dom.style.visibility='hidden';c.getEventColumn(0).appendChild(b.dom);a=b.getMargin();a.height=a.top+a.bottom;c.eventStyle=d={margin:a,resizerWidth:Ext.fly(b.down('.'+this.$resizerCls,!0)).getWidth()};e.destroy()}return d},getEventWidget:function(d){var c=this.eventMap,e=d.id,b,a;for(b in c){a=c[b];if(a.getModel().id===e){return a}}return null},getMoveInterval:function(){return {unit:Ext.Date.DAY,amount:this.getVisibleDays()}},getSlotStyle:function(){var a=this,c=a.slotStyle,b;if(!c){b=Ext.fly(a.bodyTable.down('.'+a.$markerCls,!0)).getHeight();a.slotStyle=c={hourHeight:b,halfHeight:b/2,minSlotHeight:b/a.slotsPerHour}}return c},handleEventTap:function(b){var a=this.getEvent(b);if(a){b.preventDefault();this.onEventTap(a)}},handleResize:function(){var a=this;a.slotStyle=null;Ext.calendar.view.Base.prototype.handleResize.call(this);a.refreshEvents();a.checkNowMarker();a.syncHeaderScroll()},onAllDayTouchEnd:function(j){var b=this,a=Ext.Date,d=b.isAllDayCreating,f,g,c,e,h,i;if(d){f=d.initialIndex;g=Ext.calendar.util.Dom.getIndexPosition(d.positions,j.pageX);c=d.startDate;h=Math.abs(g-f);if(f>g){e=c;c=a.subtract(e,a.DAY,h)}else {e=a.add(c,a.DAY,h)}i=b.createModel({startDate:a.localToUtc(c),endDate:a.add(a.localToUtc(e),a.DAY,1),allDay:!0});b.showAddForm(i,{scope:b,onSave:b.clearSelected,onCancel:b.clearSelected});b.isAllDayCreating=null}},onAllDayTouchMove:function(e){var d=this,a=d.isAllDayCreating,b,c;if(!a){return}b=a.initialIndex;c=Ext.calendar.util.Dom.getIndexPosition(a.positions,e.pageX);d.selectRange(b,c)},onAllDayTouchStart:function(d){var a=this,e=Ext.Date,c,b,f=this.utcToLocal(a.dateInfo.full.start);if(d.pointerType==='touch'||d.getTarget('.'+a.$eventCls,a.headerWrap)){return}c=Ext.calendar.util.Dom.extractPositions(a.backgroundCells,'getX');b=Ext.calendar.util.Dom.getIndexPosition(c,d.pageX);a.isAllDayCreating={positions:c,initialIndex:b,startDate:e.add(f,e.DAY,b)};a.selectRange(b,b)},onBodyTouchEnd:function(h){var b=this,d=b.isBodyCreating,a,c,e,f,g;if(d){a=d.widget;if(a){f=a.getStartDate();g=a.getEndDate();c=function(){a.destroy()};e=b.createModel({startDate:f,endDate:g});b.showAddForm(e,{onSave:c,onCancel:c})}b.isBodyCreating=null}},onBodyTouchMove:function(n){var b=this,i=Ext.Date,e=b.isBodyCreating,k=b.minimumEventMinutes,l=b.getEventStyle().margin,h,a,c,d,f,j,g,m;if(!e){return}n.preventDefault();a=e.widget;if(!a){a=b.createEvent(null,{},!0);h=a.element;a.setPalette(b.getDefaultPalette());a.addCls(b.$resizingCls);a.setWidth('100%');h.setZIndex(999);b.getEventColumn(e.index).appendChild(h);e.widget=a}h=a.element;c=b.slotFromPosition(n.getY());if(c<0||c>b.maxSlots){return}d=e.startSlot;if(d===c){c=d+1}if(d>c){f=c;j=d}else {f=d;j=c}h.setStyle({top:l.top+b.slotToPosition(f)+'px',marginTop:0,marginBottom:0});a.setHeight((j-f)*b.getSlotStyle().halfHeight-l.bottom);g=i.clone(e.baseDate);g=i.add(g,i.MINUTE,f*k,!0);m=i.add(g,i.MINUTE,(j-f)*k,!0);a.setStartDate(g);a.setEndDate(m)},onBodyTouchStart:function(d){var a=this,e=Ext.Date,b,c,f;if(d.getTarget('.'+a.$eventCls,a.bodyTable)){return}b=d.getTarget('.'+a.$dayColumnCls);if(b){c=parseInt(b.getAttribute('data-index'),10);f=e.add(a.dateInfo.visible.start,e.DAY,c);a.isBodyCreating={col:b,index:c,baseDate:f,startSlot:a.slotFromPosition(d.getY())}}},onResizerDrag:function(g){if(!this.resizing){return}var c=this,f=Ext.Date,a=c.resizing,k=a.event,h=a.widget,i=c.getSlotStyle().halfHeight,b=c.slotFromPosition(g.getY()),m=b*i-a.eventTop,d=a.startSlot,l=k.getStartDate(),j=c.minimumEventMinutes,e;g.stopEvent();if(b<0||b>c.maxSlots||b<=d){return}a.current=e=f.add(l,f.MINUTE,j*(b-d),!0);h.setHeight(m);h.setEndDate(e)},onResizerDragEnd:function(){if(!this.resizing){return}var c=this,h=Ext.calendar.date.Range,a=c.resizing,f=a.current,b=a.widget,g=a.height,d=a.event,e=function(e){if(!b.destroyed){b.element.setZIndex(a.oldZIndex);b.removeCls(c.$resizingCls)}if(!e){b.setHeight(g);b.setEndDate(d.getEndDate())}};c.resizing=null;if(f){c.handleChange('resize',d,new h(d.getStartDate(),f),e)}else {e()}},onResizerDragStart:function(f){var a=this,d=a.getEvent(f),b,c,e;f.stopEvent();if(a.handleChangeStart('resize',d)!==!1){b=a.getEventWidget(d);c=b.element;e=c.getTop(!0);a.resizing={height:b.getHeight(),event:d,eventTop:e,startSlot:a.slotFromPosition(e,!0),widget:b,oldZIndex:c.getZIndex()};b.addCls(a.$resizingCls);c.setZIndex(999)}},onSourceAttach:function(){this.recalculate()},processDay:function(q,p){var b=this,l=q.events,r=l.length,k=b.getSlotStyle().minSlotHeight,j=b.getEventStyle(),m=j.margin,h=0,i=b.getDisplayOverlap(),f,a,g,n,o,e,d,c;if(b.getResizeEvents()){h=j.resizerWidth+5}for(f=0;f<r;++f){a=l[f];e=a.forwardPos;d=a.backwardPos;if(i){e=Math.min(1,d+(e-d)*2)}n=d;o=1-e;g=b.createEvent(a.event);c={marginTop:0,marginBottom:0,top:a.start*k+m.top+'px',zIndex:a.colIdx+1};c[b.backPosName]=n*100+'%';c[b.forwardPosName]=o*100+'%';if(i&&a.edgeWeight>0){c.marginRight=h+'px'}g.setStyle(c);g.setHeight(a.len*k-m.bottom);p.appendChild(g.element.dom)}},recalculate:function(){var a=this.doRecalculate();this.dateInfo=a;this.setSourceRange(a.full)},refreshHeaders:function(){var a=this,b=a.getHeader(),c=a.dateInfo;if(b){b.setVisibleDays(a.getVisibleDays());if(c){b.setValue(a.utcToLocal(c.full.start))}}},roundDate:function(a){return new Date(Ext.Number.roundToNearest(a.getTime(),this.slotTicks))},selectRange:function(b,c){var d=this.backgroundCells,e=d.length,a;if(b>c){a=b;b=c;c=a}for(a=0;a<e;++a){Ext.fly(d[a]).toggleCls(this.$selectionCls,a>=b&&a<=c)}},slotFromPosition:function(b,a){var c=b-(a?0:this.bodyTable.getY());return Math.round(c/this.getSlotStyle().halfHeight)},slotToPosition:function(a){return a*this.getSlotStyle().halfHeight},syncHeaderScroll:function(){var a=this,c=a.scrollable,d=a.headerScrollOffsetName,b;if(c){b=c.getScrollbarSize().width+'px';a.headerWrap.setStyle(d,b);a.allDayBackgroundWrap.setStyle(d,b)}},updateTimeLabels:function(){var b=this.generateTimeLabels(),d=this.timeContainer.dom.childNodes,c,a;for(a=0,c=b.length;a<c;++a){d[a].innerHTML=b[a]}}}},1,['calendar-daysview'],['widget','component','calendar-daysview'],{'widget':!0,'component':!0,'calendar-daysview':!0},['widget.calendar-daysview'],0,[Ext.calendar.view,'Days'],0);Ext.cmd.derive('Ext.calendar.panel.Days',Ext.calendar.panel.Base,{config:{dayHeader:{xtype:'calendar-daysheader'},eventRelayers:{view:{beforeeventdragstart:!0,validateeventdrop:!0,eventdrop:!0,beforeeventresizestart:!0,validateeventresize:!0,eventresize:!0}},view:{xtype:'calendar-daysview'}},configExtractor:{dayHeader:{dayHeaderFormat:'format'},view:{allowSelection:!0,displayOverlap:!0,draggable:!0,droppable:!0,endTime:!0,resizeEvents:!0,showNowMarker:!0,startTime:!0,timeFormat:!0,visibleDays:!0,highlightToday:!0}},setTimeRange:function(a,b){this.getView().setTimeRange(a,b)},privates:{syncHeaderSize:!0}},0,['calendar-days'],['widget','component','container','panel','calendar-days'],{'widget':!0,'component':!0,'container':!0,'panel':!0,'calendar-days':!0},['widget.calendar-days'],0,[Ext.calendar.panel,'Days'],0);Ext.cmd.derive('Ext.calendar.view.Day',Ext.calendar.view.Days,{config:{compactOptions:{displayOverlap:!0},visibleDays:1},privates:{getMoveInterval:function(){return {unit:Ext.Date.DAY,amount:1}}}},0,['calendar-dayview'],['widget','component','calendar-daysview','calendar-dayview'],{'widget':!0,'component':!0,'calendar-daysview':!0,'calendar-dayview':!0},['widget.calendar-dayview'],0,[Ext.calendar.view,'Day'],0);Ext.cmd.derive('Ext.calendar.panel.Day',Ext.calendar.panel.Days,{config:{view:{xtype:'calendar-dayview'}}},0,['calendar-day'],['widget','component','container','panel','calendar-days','calendar-day'],{'widget':!0,'component':!0,'container':!0,'panel':!0,'calendar-days':!0,'calendar-day':!0},['widget.calendar-day'],0,[Ext.calendar.panel,'Day'],0);Ext.cmd.derive('Ext.calendar.view.WeeksRenderer',Ext.Base,{days:null,index:null,maxEvents:null,overflow:!0,start:null,view:null,constructor:function(d){var a=this,c=Ext.Date,b;Ext.apply(a,d);b=a.start;a.end=c.add(b,c.DAY,a.days);a.utcStart=this.view.utcTimezoneOffset(b);a.utcEnd=this.view.utcTimezoneOffset(a.end);a.hasMaxEvents=a.maxEvents!==null;a.rows=[];a.events=[];a.seen={};a.overflows=[]},addIf:function(b){var a=this,c,d;if(b.getAllDay()){c=a.utcStart;d=a.utcEnd}else {c=a.start;d=a.end}if(b.occursInRange(c,d)){a.events.push(b)}},calculate:function(){var b=this,o=Ext.Date,L=b.view,B=b.seen,F=b.events,M=F.length,A=b.days,K=b.end,J=b.utcEnd,z=o.clone(b.start),D=o.clone(b.utcStart),l=b.maxEvents,I=b.hasMaxEvents,u=b.overflows,C=b.overflow?1:0,r=[],e,a,c,f,g,y,n,h,v,m,k,t,q,w,d,G,x,E,p,i,j,H,s;for(e=0;e<A;++e){n=o.add(z,o.DAY,1);y=b.view.utcTimezoneOffset(n);c=[];for(a=0;a<M;++a){f=F[a];h=f.id;w=f.getAllDay();if(w){k=D;t=y;q=J}else {k=z;t=n;q=K}if(f.occursInRange(k,t)){x=f.isSpan();if(!B[h]){m=1;if(x){v=f.getEndDate();if(v>q){m=A-e}else {m=L.getDaysSpanned(k,v,w)}}B[h]=m;c.push({event:f,id:h})}else if(x){c.push({isPlaceholder:!0,event:f,id:h})}}}g=c.length;c.sort(b.sortEvents);if(I){j={};u[e]=i=[];i.$map=j;if(e>0){H=u[e-1].$map;for(a=0;a<g;++a){d=c[a];h=d.id;if(H[h]){i.push(d.event);j[h]=!0;c.splice(a,1);p=!0;--a;--g}}}if(g>0){if(g>l){G=Math.max(0,l-C);s=Ext.Array.splice(c,G);for(a=0,E=s.length;a<E;++a){d=s[a];i.push(d.event);j[d.id]=!0}p=!0}else if(C>0&&i.length&&g===l){d=c.pop();i.push(d.event);j[d.id]=!0}}}r.push(c);z=n;D=y}if(p&&l>0){b.calculateOverflows(r,u)}for(e=0;e<A;++e){c=r[e];g=c.length;for(a=0;a<g;++a){d=c[a];if(!d.isPlaceholder){f=d.event;b.addToRow(f,e,B[f.id])}}}},compress:function(e){var g=this.rows[e],c=[],f=this.days,a=0,d=0,b;while(d<f){b=g[d];if(b.event){if(a>0){c.push({isEmpty:!0,len:a});a=0}c.push(b);d+=b.len}else {++a;++d}}if(a>0){c.push({isEmpty:!0,len:a})}return c},hasEvents:function(){return this.events.length>0},privates:{addToRow:function(j,e,k){var i=this,d=i.rows,l=d.length,f=k+e,a,b,c,h,g;for(b=0;b<l;++b){h=d[b];for(c=e;c<f;++c){if(h[c]){break}}if(c===f){a=h;g=b;break}}if(!a){a=i.makeRow();d.push(a);g=d.length-1}i.occupy(j,a,g,e,f-1)},calculateOverflows:function(g,d){var i=this.days,h=this.maxEvents,a,c,b,e,f;for(a=i-2;a>=0;--a){c=g[a];b=c.length;if(b>0&&d[a].length===0&&b===h){e=c[b-1];f=e.id;if(d[a+1].$map[f]){d[a].unshift(e.event);d[a].$map[f]=!0;c.length=b-1}}}},makeRow:function(){var b=[],c=this.days,a;for(a=0;a<c;++a){b[a]=0}return b},occupy:function(e,g,d,b,c){var f=c-b+1,a;for(a=b;a<=c;++a){g[a]=a===b?{event:e,len:f,start:b,weekIdx:this.index,localIdx:d}:!0}},sortEvents:function(a,b){a=a.event;b=b.event;return +b.isSpan()-+a.isSpan()||Ext.calendar.model.Event.sort(a,b)}}},1,0,0,0,0,0,[Ext.calendar.view,'WeeksRenderer'],0);Ext.cmd.derive('Ext.calendar.view.Weeks',Ext.calendar.view.Base,{isWeeksView:!0,baseCls:'x-calendar-weeks',config:{addOnSelect:!0,allowSelection:!0,compactOptions:{overflowText:'+{0}',showOverflow:'top'},dayFormat:'j',draggable:!0,droppable:!0,firstDayOfWeek:undefined,overflowText:'+{0} more',showOverflow:'bottom',value:undefined,visibleDays:7,visibleWeeks:2,weekendDays:undefined},constructor:function(b){var a=this;Ext.calendar.view.Base.prototype.constructor.call(this,b);a.el.on('tap','handleEventTap',a,{delegate:'.'+a.$eventCls});a.cellTable.on('click','onOverflowClick',a,{delegate:'.'+a.$overflowCls});a.recalculate();a.refreshHeaders()},getDisplayRange:function(){var a=this,b;if(a.isConfiguring){a.recalculate()}b=a.dateInfo[a.displayRangeProp];return new Ext.calendar.date.Range(a.utcToLocal(b.start),a.utcToLocal(b.end))},getVisibleRange:function(){var b=Ext.Date,a;if(this.isConfiguring){this.recalculate()}a=this.dateInfo.visible;return new Ext.calendar.date.Range(b.clone(a.start),b.clone(a.end))},updateAllowSelection:function(b){var a=this;a.selectionListeners=Ext.destroy(a.selectionListeners);if(b){a.el.on({destroyable:!0,scope:a,touchstart:'onTouchStart',touchmove:'onTouchMove',drag:'onDrag',touchend:'onTouchEnd',longpress:'onLongPress'})}},onDrag:function(b){var a=this;if(b.pointerType==='mouse'){return}b.preventDefault();a.isSelecting=!1;a.selectedStartIndex=a.selectedEndIndex=null;a.clearSelected()},updateDayFormat:function(a){if(!this.isConfiguring){this.refresh()}},updateDaysInWeek:function(){this.refresh()},applyDraggable:function(a){if(a){a=new Ext.calendar.dd.WeeksSource(a)}return a},updateDraggable:function(b,a){if(a){a.destroy()}if(b){b.setView(this)}},applyDroppable:function(a){if(a){a=new Ext.calendar.dd.WeeksTarget()}return a},updateDroppable:function(b,a){if(a){a.destroy()}if(b){b.setView(this)}},applyFirstDayOfWeek:function(a){if(typeof a!=='number'){a=Ext.Date.firstDayOfWeek}return a},updateFirstDayOfWeek:function(b){var a=this;if(!a.isConfiguring){a.recalculate();a.refreshHeaders();a.refresh()}},updateShowOverflow:function(b,a){var c='x-calendar-weeks-with-overflow-',d=this.element;if(a){d.removeCls(c+a)}if(b){d.addCls(c+b)}if(!this.isConfiguring){this.refresh()}},updateTimezoneOffset:function(){if(!this.isConfiguring){this.recalculate()}},updateValue:function(c,b){var a=this;if(!a.isConfiguring){a.suspendEventRefresh();a.recalculate();a.resumeEventRefresh();a.refreshHeaders();a.refresh()}Ext.calendar.view.Base.prototype.updateValue.call(this,c,b)},updateVisibleDays:function(){var a=this;if(!a.isConfiguring){a.recalculate();a.refreshHeaders();a.refresh()}},updateVisibleWeeks:function(c){var a=this,b=a.cellTable;a.suspendEventRefresh();a.recalculate();a.resumeEventRefresh();b.removeChild(b.dom.firstChild);b.createChild({tag:'tbody',children:a.generateCells(a.dateInfo.requiredWeeks,!0)},null,!0);a.cells=a.queryCells();if(!a.isConfiguring){a.refresh()}},applyWeekendDays:function(a){return a||Ext.Date.weekendDays},updateWeekendDays:function(a){this.weekendDayMap=Ext.Array.toMap(a);this.refresh()},getElementConfig:function(){var b=this,a=Ext.calendar.view.Base.prototype.getElementConfig.call(this);a.children=[{tag:'table',reference:'cellTable',cls:b.$tableCls+' x-calendar-weeks-week-rows',children:[{tag:'tbody'}]}];return a},doDestroy:function(){var a=this;a.setAllowSelection(!1);a.setDraggable(null);a.setDroppable(null);Ext.calendar.view.Base.prototype.doDestroy.call(this)},privates:{displayRangeProp:'visible',domFormat:'Y-m-d',eventGutter:5,maxDayMonth:new Date(2000,0,1),sundayDay:new Date(2000,9,1),startMarginName:'left',trackRanges:!1,$rowCls:'x-calendar-weeks-row',$cellCls:'x-calendar-weeks-cell',$weekendCls:'x-calendar-weeks-weekend-cell',$outsideCls:'x-calendar-weeks-outside-cell',$pastCls:'x-calendar-weeks-past-cell',$futureCls:'x-calendar-weeks-future-cell',$todayCls:'x-calendar-weeks-today-cell',$selectionCls:'x-calendar-weeks-selection',$dayTextCls:'x-calendar-weeks-day-text',$hiddenCellCls:'x-calendar-weeks-hidden-cell',$cellInnerCls:'x-calendar-weeks-cell-inner',$overflowCls:'x-calendar-weeks-overflow',$cellOverflowCls:'x-calendar-weeks-overflow-cell',$overflowPopupCls:'x-calendar-weeks-overflow-popup',clearSelected:function(){var b=this.cells,c=b.length,a;for(a=0;a<c;++a){Ext.fly(b[a]).removeCls(this.$selectionCls)}},constructEvents:function(){var a=this,h=Ext.Date,n=Ext.Date.DAYS_IN_WEEK,i=a.getEventSource().getRange(),q=i.length,m=a.getVisibleDays(),k=a.dateInfo.requiredWeeks,e=h.clone(a.dateInfo.visible.start),l=a.getEventStyle().fullHeight,o=Math.floor(a.getDaySizes().heightForEvents/l),p=a.getShowOverflow()==='bottom',j=[],c,d,b,g,f;a.weeks=j;g=document.createDocumentFragment();for(c=0;c<k;++c){b=new Ext.calendar.view.WeeksRenderer({view:a,start:e,days:m,index:c,overflow:p,maxEvents:o});for(d=0;d<q;++d){f=i[d];if(!a.isEventHidden(f)){b.addIf(f)}}if(b.hasEvents()){b.calculate()}a.processWeek(b,g);j.push(b);e=h.add(e,h.DAY,n)}a.element.appendChild(g)},createEvent:function(a,b,c){var d=a?a.isSpan():!0;b=Ext.apply({mode:d?'weekspan':'weekinline'},b);return Ext.calendar.view.Base.prototype.createEvent.call(this,a,b,c)},doRecalculate:function(a){var c=this,b=Ext.Date,d=b.DAYS_IN_WEEK,g=c.getVisibleWeeks(),f=Ext.calendar.date.Range,i,h,e;a=a||c.getValue();a=b.clearTime(a,!0);h=(a.getDay()+d-c.getFirstDayOfWeek())%d;i=c.toUtcOffset(a);a=b.subtract(i,b.DAY,h);e=b.add(a,b.DAY,g*d-(d-c.getVisibleDays()));return {full:new f(a,e),visible:new f(a,e),active:new f(a,b.subtract(e,b.DAY,1)),requiredWeeks:g}},doRefresh:function(){var a=this,d=Ext.Date,g=a.dateInfo,r=a.getDayFormat(),o=a.weekendDayMap,i=d.clearTime(Ext.calendar.date.Util.getLocalNow()),b=a.utcToLocal(g.visible.start),c=[],j=a.trackRanges,p=a.getVisibleDays(),q=Ext.Date.DAYS_IN_WEEK,u=i.getFullYear(),t=i.getMonth(),s=i.getDate(),h,n,e,f,k,m,l;if(j){k=a.utcToLocal(g.month.start);m=a.utcToLocal(g.month.end)}h=a.cells;for(e=0,n=h.length;e<n;++e){f=h[e];c.length=0;c.push(a.$cellCls);if(o[b.getDay()]){c.push(a.$weekendCls)}if(j){if(b<k){c.push(a.$pastCls,a.$outsideCls)}else if(b>m){c.push(a.$futureCls,a.$outsideCls)}}if(b.getFullYear()===u&&b.getMonth()===t&&b.getDate()===s){c.push(a.$todayCls);l=a.highlightToday;if(l){c.push(a.$todayCellHighlightCls+'-weeks-day')}}if(e%q>=p){c.push(a.$hiddenCellCls)}f.className=c.join(' ');f.setAttribute('data-date',d.format(b,a.domFormat));f.firstChild.firstChild.innerHTML=d.format(b,r);b=d.add(b,d.DAY,1)}a.refreshEvents()},doRefreshEvents:function(){var a=this,b=a.getEventSource();a.clearEvents();a.hideOverflowPopup();if(b&&b.getCount()){a.constructEvents()}},findIndex:function(c,b){var a=0,d=c.length;while(a<d){b-=c[a];if(b<=0){break}++a}return a},generateCells:function(f,j){var a=this,i=Ext.Date.DAYS_IN_WEEK,h=[],b,c,d,e,g;if(j){b=100/f;if(Ext.isGecko){b=parseInt(b,10)}g={height:b+'%'}}for(c=0;c<f;++c){e=[];for(d=0;d<i;++d){e.push({tag:'td','data-index':d,cls:a.$cellCls,children:[{cls:a.$cellInnerCls,children:[{tag:'span',cls:a.$dayTextCls},{cls:a.$overflowCls}]}]})}h.push({tag:'tr',cls:a.$rowCls,'data-week':c,children:e,style:g})}return h},getCell:function(a){var e=null,d=this.cells,f=d.length,b,c;if(Ext.isDate(a)){a=Ext.Date.format(a,this.domFormat)}for(b=0;b<f;++b){c=d[b];if(c.getAttribute('data-date')===a){e=c;break}}return e},getCellByPosition:function(f,g){var a=this,c,b,d,e;c=a.getDaySizes();b=a.element.getXY();d=a.findIndex(c.widths,f-b[0]);e=a.findIndex(c.heights,g-b[1]);return a.cells[e*Ext.Date.DAYS_IN_WEEK+d]},getCellFromEvent:function(c,d){var a,b;a=c.getTarget('.'+this.$cellCls,this.element);if(!a&&d){b=c.getXY();a=this.getCellByPosition(b[0],b[1])}return a},getDateFromCell:function(a){return Ext.Date.parse(a.getAttribute('data-date'),this.domFormat)},getDaySizes:function(){var a=this,j=a.daySizes,k=a.cells,l=a.getVisibleDays(),f=Number.MAX_VALUE,i,e,b,h,g,d,c;if(!a.daySizes){i=k[0];b=Ext.fly(i.firstChild);e=b.getPadding('tb')+Ext.fly(i.firstChild.firstChild).getHeight();h=[];g=[];for(d=0;d<l;++d){b=Ext.fly(k[d]);h.push(b.getWidth());c=b.getHeight();g.push(c);if(c<f){f=c}}a.daySizes=j={widths:h,heights:g,headerHeight:e,heightForEvents:Math.max(0,f-e-a.eventGutter)}}return j},getEventStyle:function(){var c=this,d=c.eventStyle,e,b,a,f;if(!d){e=c.createEvent(null,null,!0);b=e.element;b.dom.style.visibility='hidden';c.element.appendChild(b);f=b.getHeight();a=b.getMargin();a.height=a.top+a.bottom;a.width=a.left+a.right;c.eventStyle=d={margin:a,height:f,fullHeight:f+a.height};e.destroy()}return d},getEventWidget:function(a){var b=this.$eventCls,c;if(a.isEvent){a=a.target}if(!Ext.fly(a).hasCls(b)){a=Ext.fly(a).up('.'+b,this.element,!0)}c=a.getAttribute('data-componentid');return this.eventMap[c]},getMoveBaseValue:function(){return this.utcToLocal(this.dateInfo.visible.start)},getMoveInterval:function(){var a=Ext.Date;return {unit:a.DAY,amount:a.DAYS_IN_WEEK*this.getVisibleWeeks()}},handleEventTap:function(b){var a=this.getEvent(b);if(a){this.hideOverflowPopup();this.onEventTap(a)}},handleResize:function(){var a=this;Ext.calendar.view.Base.prototype.handleResize.call(this);a.daySizes=null;a.hideOverflowPopup();a.refreshEvents()},hideOverflowPopup:Ext.privateFn,maybeShowAddForm:function(d,e){var a=this,b=Ext.Date,c;if(a.getAddOnSelect()){if(a.hasEditableCalendars()&&a.getAddForm()){c=a.createModel({allDay:!0,startDate:b.localToUtc(d),endDate:b.add(b.localToUtc(e),b.DAY,1)});a.showAddForm(c,{scope:a,onSave:a.clearSelected,onCancel:a.clearSelected})}}},onLongPress:function(d){var a=this,c=a.getCellFromEvent(d),b;if(!c){return}b=a.getDateFromCell(c);a.fireEvent('select',a,{date:b});a.maybeShowAddForm(b,b)},onOverflowClick:function(f){var b=this,a=b.getCellFromEvent(f),d=b.getDateFromCell(a),e=parseInt(a.parentNode.getAttribute('data-week'),10),c=parseInt(a.getAttribute('data-index'),10);b.showOverflowPopup(b.weeks[e].overflows[c],d,a)},onSourceAttach:function(){this.recalculate()},onTouchEnd:function(){var a=this,d=a.cells,b,c,e;if(a.isSelecting){b=a.selectedStartIndex;c=a.selectedEndIndex;if(b===c){b=c=a.getDateFromCell(d[b]);a.fireEvent('select',a,{date:b})}else {if(b>c){e=c;c=b;b=e}b=a.getDateFromCell(d[b]);c=a.getDateFromCell(d[c]);a.fireEvent('selectrange',a,{range:new Ext.calendar.date.Range(b,c)})}a.maybeShowAddForm(b,c);a.isSelecting=!1}},onTouchMove:function(j){var b=this,a=b.selectedStartIndex,f=b.cells,i=f.length,e,d,c,g,h;if(b.isSelecting){g=b.getCellFromEvent(j,!0);d=Ext.Array.indexOf(f,g);if(d>a){e=d}else if(d<a){e=a;a=d;h=!0}else {e=a}b.selectedEndIndex=h?a:e;for(c=0;c<i;++c){Ext.fly(f[c]).toggleCls(b.$selectionCls,c>=a&&c<=e)}}},onTouchStart:function(c,e){var a=this,d=a.element,b;if(c.getTarget('.'+a.$overflowCls,d)||c.getTarget('.'+a.$overflowPopupCls,d)){return}b=a.getCellFromEvent(c);if(b){a.isSelecting=!0;a.selectedStartIndex=a.selectedEndIndex=Ext.Array.indexOf(a.cells,b);Ext.fly(b).addCls(a.$selectionCls)}},positionEvent:function(e,b){var a=this,c=a.getDaySizes(),g=a.getEventStyle(),d=g.margin,h=c.widths,i=b.start,j=b.localIdx,k=b.weekIdx,f;f=c.headerHeight+g.height*j+(j+1)*d.height;e.setTop(a.positionSum(0,k,c.heights)+f);e.setLeft(a.positionSum(0,i,h)+d[a.startMarginName]);e.setWidth(a.positionSum(i,b.len,h)-d.width)},positionSum:function(b,f,d){var c=0,e=b+f,a;for(a=b;a<e;++a){c+=d[a]}return c},processWeek:function(c,u){var b=this,n=c.rows,t=c.days,k=c.overflows,r=c.index*Ext.Date.DAYS_IN_WEEK,q=b.getShowOverflow(),s=b.cells,j=b.$cellOverflowCls,p=b.getOverflowText(),d,i,a,l,h,f,m,g,e,o;if(n){for(a=0,o=n.length;a<o;++a){i=c.compress(a);for(h=0,l=i.length;h<l;++h){f=i[h];if(!f.isEmpty){m=b.createEvent(f.event);g=m.element;g.dom.style.margin='0';u.appendChild(g.dom);b.positionEvent(g,f)}}}}for(a=0;a<t;++a){e=s[r+a];d=k&&k[a];if(d&&d.length&&q){Ext.fly(e).addCls(j);e.firstChild.lastChild.innerHTML=Ext.String.format(p,d.length)}else {Ext.fly(e).removeCls(j)}}},queryCells:function(){return this.element.query('.'+this.$cellCls)},recalculate:function(){var a=this.doRecalculate();this.dateInfo=a;this.setSourceRange(a.visible)},refreshHeaders:function(){var b=this,a=b.getHeader(),c=b.dateInfo;if(a){a.setVisibleDays(this.getVisibleDays());if(c){a.setValue(b.utcToLocal(c.visible.start))}}},selectRange:function(a,b){var c=this,i=Ext.Date,d=c.dateInfo.active,h=c.cells,j=h.length,g=!1,f,e;if(a<d.start){a=d.start}if(b>d.end){b=d.end}a=c.getCell(i.clearTime(a,!0));b=c.getCell(i.clearTime(b,!0));if(a&&b){for(f=0;f<j;++f){e=h[f];if(e===a){g=!0}Ext.fly(e).toggleCls(c.$selectionCls,g);if(e===b){g=!1}}}},showOverflowPopup:Ext.privateFn}},1,['calendar-weeksview'],['widget','component','calendar-weeksview'],{'widget':!0,'component':!0,'calendar-weeksview':!0},['widget.calendar-weeksview'],0,[Ext.calendar.view,'Weeks'],0);Ext.define('Ext.overrides.calendar.view.Weeks',{override:'Ext.calendar.view.Weeks',doDestroy:function(){this.tip=Ext.destroy(this.tip);(arguments.callee.$previous||Ext.calendar.view.Base.prototype.doDestroy).call(this)},privates:{hideOverflowPopup:function(){var a=this.tip;if(a){a.hide();a.removeAll()}},showOverflowPopup:function(c,e,d){var a=this,b=a.tip;if(!b){a.tip=b=new Ext.tip.ToolTip({anchor:!0,autoHide:!1,ui:'calendar-overflow',cls:a.$overflowPopupCls,minWidth:200,border:!0});a.tip.el.on('tap','handleEventTap',a,{delegate:'.'+a.$eventCls})}b.removeAll();c=a.createEvents(c,{cls:a.$staticEventCls});b.add(c);b.el.dom.setAttribute('data-date',Ext.Date.format(e,a.domFormat));b.show();b.showBy(d,'tc-bc?',[0,-20])}}});Ext.cmd.derive('Ext.calendar.panel.Weeks',Ext.calendar.panel.Base,{config:{dayHeader:{xtype:'calendar-weeksheader'},eventRelayers:{view:{beforeeventdragstart:!0,validateeventdrop:!0,eventdrop:!0}},view:{xtype:'calendar-weeksview'}},configExtractor:{dayHeader:{dayHeaderFormat:'format'},view:{addOnSelect:!0,allowSelection:!0,dayFormat:!0,draggable:!0,droppable:!0,firstDayOfWeek:!0,overflowText:!0,showOverflow:!0,visibleDays:!0,visibleWeeks:!0,weekendDays:!0,highlightToday:!0}}},0,['calendar-weeks'],['widget','component','container','panel','calendar-weeks'],{'widget':!0,'component':!0,'container':!0,'panel':!0,'calendar-weeks':!0},['widget.calendar-weeks'],0,[Ext.calendar.panel,'Weeks'],0);Ext.cmd.derive('Ext.calendar.view.Month',Ext.calendar.view.Weeks,{config:{value:undefined,visibleWeeks:6},nextMonth:function(a){this.navigate(this.getNavigateValue(a),Ext.Date.MONTH)},nextYear:function(a){this.navigate(this.getNavigateValue(a),Ext.Date.YEAR)},previousMonth:function(a){this.navigate(-this.getNavigateValue(a),Ext.Date.MONTH)},previousYear:function(a){this.navigate(-this.getNavigateValue(a),Ext.Date.YEAR)},privates:{displayRangeProp:'month',maxWeeks:6,$rowClasses:['x-calendar-month-4weeks','x-calendar-month-5weeks','x-calendar-month-6weeks'],$todayCellHighlightCls:'x-today-cell-highlight',trackRanges:!0,doRecalculate:function(a){var c=this,b=Ext.Date,f=b.DAYS_IN_WEEK,n=c.getFirstDayOfWeek(),h=c.maxWeeks,o=c.getVisibleWeeks(),i=c.getVisibleDays(),g=Ext.calendar.date.Range,k,e,j,m,l,d;a=b.getFirstDateOfMonth(a||c.getValue());d=(a.getDay()+f-n)%f;j=c.toUtcOffset(a);m=b.getLastDateOfMonth(a);l=c.toUtcOffset(m);if(o===null){if(d>=i){d=i-d}k=d+b.getDaysInMonth(a);h=Math.ceil(k/f)}e=f*h-(f-i);a=b.subtract(j,b.DAY,d);e=b.add(a,b.DAY,e);return {full:new g(a,e),visible:new g(a,e),active:new g(a,b.subtract(e,b.DAY,1)),month:new g(j,l),requiredWeeks:h}},doRefresh:function(){var b=this,a=b.$rowClasses,c=b.dateInfo.requiredWeeks;b.element.replaceCls(a,a[c-1-a.length]);Ext.calendar.view.Weeks.prototype.doRefresh.call(this)},getMoveBaseValue:function(){return this.utcToLocal(this.dateInfo.month.start)},getMoveInterval:function(){return {unit:Ext.Date.MONTH,amount:1}},generateCells:function(){return Ext.calendar.view.Weeks.prototype.generateCells.call(this,this.maxWeeks,!1)},getNavigateValue:function(a){return a||a===0?a:1}}},0,['calendar-monthview'],['widget','component','calendar-weeksview','calendar-monthview'],{'widget':!0,'component':!0,'calendar-weeksview':!0,'calendar-monthview':!0},['widget.calendar-monthview'],0,[Ext.calendar.view,'Month'],0);Ext.cmd.derive('Ext.calendar.panel.Month',Ext.calendar.panel.Weeks,{config:{view:{xtype:'calendar-monthview'}},autoSize:!1,nextMonth:function(a){this.getView().nextMonth(a)},nextYear:function(a){this.getView().nextYear(a)},previousMonth:function(a){this.getView().previousMonth(a)},previousYear:function(a){this.getView().previousYears(a)},updateHighlightToday:function(d){var b=this.getView(),e=b.getHeader(),a,c;c=Ext.Date.format(new Date(),e.domFormat);a=b.element.selectNode('td[data-date="'+c+'"]',!1);if(a){a.toggleCls(b.$todayCellHighlightCls+'-weeks-day',d)}}},0,['calendar-month'],['widget','component','container','panel','calendar-weeks','calendar-month'],{'widget':!0,'component':!0,'container':!0,'panel':!0,'calendar-weeks':!0,'calendar-month':!0},['widget.calendar-month'],0,[Ext.calendar.panel,'Month'],0);Ext.cmd.derive('Ext.calendar.panel.AbstractPanel',Ext.Panel,{layout:'fit',config:{compactOptions:{createButton:{xtype:'button',text:null,iconCls:'x-fa fa-plus'}},createButton:{ui:'action'},menuButton:{xtype:'button',iconCls:'x-fa fa-bars'},sideBar:{docked:'left',autoSize:null,ui:'light'},sheet:{xtype:'sheet',reference:'sheet',cls:'x-calendar-panel-sheet',centered:!1,enter:'left',exit:'left',hideOnMaskTap:!0,stretchY:!0,ui:'light',header:{border:!1,title:'Calendars'}},titleBar:{docked:'top'}},items:[{xtype:'panel',reference:'mainContainer',flex:1,layout:'fit'}],autoSize:!1,initialize:function(){var a=this,b=a.lookup('mainContainer');if(!a.getCompact()){a.addSideBar()}a.addTitleBar();b.add(a.createView());a.refreshCalTitle();Ext.Panel.prototype.initialize.call(this)},updateCompact:function(a){if(!this.isConfiguring){this.reconfigureItems()}},updateCreateButtonPosition:function(){var a=this,b=a.lookup('sheet'),c;if(!a.isConfiguring){c=b&&b.isVisible();a.reconfigureItems();if(c){a.showSheet()}}},updateSwitcherPosition:function(){var a=this,b=a.lookup('sheet'),c;if(!a.isConfiguring){c=b&&b.isVisible();a.reconfigureItems();if(c){a.showSheet()}}},privates:{addSideBar:function(){var a=this.createSideBar();if(a){this.add(a)}},addTitleBar:function(){var a=this,b=a.getCompact()?a.createCompactTitleBar():a.createNormalTitleBar();if(b){a.lookup('mainContainer').add(b)}},createCompactTitleBar:function(){var a=this;return a.createTitleBar([Ext.apply({scope:a,handler:'onMenuButtonTap'},a.getMenuButton()),a.createDateTitle({listeners:{element:'element',scope:a,tap:'onTodayTap'}}),{xtype:'component',flex:1},a.createCreateButton()])},createNormalTitleBar:function(){var a=this,b=[];if(a.getCreateButtonPosition()==='titleBar'){b.push(a.createCreateButton({margin:'0 10 0 0'}))}b.push(a.createTodayButton(),{xtype:'segmentedbutton',allowToggle:!1,items:[a.createPreviousButton(),a.createNextButton()]},a.createDateTitle());if(a.getSwitcherPosition()==='titleBar'){b.push({xtype:'component',flex:1},a.createSwitcher())}return a.createTitleBar(b)},createTitleBar:function(b){var a=this.getTitleBar();if(!a){return null}return this.createContainerWithChildren({reference:'titleBar'},a,b)},createSheet:function(){return Ext.apply({layout:{type:'vbox',align:'stretch'},items:[this.createCalendarList(),this.createSwitcher({vertical:!0})]},this.getSheet())},createSideBar:function(){var a=this,c=this.getSideBar(),b=[];if(!c){return null}if(a.getCreateButtonPosition()==='sideBar'){b.push({xtype:'container',margin:'0 0 10 0',autoSize:null,layout:{type:'hbox',pack:'center'},items:a.createCreateButton()})}b.push(a.createCalendarList());if(a.getSwitcherPosition()==='sideBar'){b.push(a.createSwitcher({vertical:!0}))}return this.createContainerWithChildren({reference:'sideBar',layout:'vbox'},c,b)},onMenuButtonTap:function(){this.showSheet()},onSwitcherChange:function(c,b){var a=this.lookup('sheet');if(a&&this.getCompact()){a.hide()}this.doSetView(b,!0)},reconfigureItems:function(){var a=this;Ext.destroy(a.lookup('sheet'),a.lookup('titleBar'),a.lookup('sideBar'));a.addTitleBar();if(!a.getCompact()){a.addSideBar()}a.refreshCalTitle()},setSwitcherValue:function(b){var a=this.lookup('switcher');if(a){a.setValue(b)}else {this.setView(b,!0)}},showSheet:function(){var b=this,a=b.lookup('sheet');if(!a){a=b.add(b.createSheet())}a.show()}}},0,0,['widget','component','container','panel'],{'widget':!0,'component':!0,'container':!0,'panel':!0},0,0,[Ext.calendar.panel,'AbstractPanel'],0);Ext.cmd.derive('Ext.calendar.view.Week',Ext.calendar.view.Days,{config:{firstDayOfWeek:undefined,visibleDays:7},applyFirstDayOfWeek:function(a){if(typeof a!=='number'){a=Ext.Date.firstDayOfWeek}return a},updateFirstDayOfWeek:function(){var a=this;if(!a.isConfiguring){a.recalculate();a.refreshHeaders();a.checkNowMarker()}},privates:{doRecalculate:function(a){var c=this,b=Ext.Date,e=Ext.calendar.date.Range,g=b.DAYS_IN_WEEK,f,h,d;a=a||c.getValue();a=b.clearTime(a,!0);f=(a.getDay()+g-c.getFirstDayOfWeek())%g;a=c.toUtcOffset(a);a=b.subtract(a,b.DAY,f);d=b.add(a,b.DAY,c.getVisibleDays());h=b.subtract(d,b.DAY,1);return {full:new e(a,d),active:new e(a,h),visible:new e(b.add(a,b.HOUR,c.getStartTime(),!0),b.subtract(d,b.HOUR,24-c.getEndTime(),!0))}},getMoveBaseValue:function(){return this.utcToLocal(this.dateInfo.full.start)},getMoveInterval:function(){var a=Ext.Date;return {unit:a.DAY,amount:a.DAYS_IN_WEEK}}}},0,['calendar-weekview'],['widget','component','calendar-daysview','calendar-weekview'],{'widget':!0,'component':!0,'calendar-daysview':!0,'calendar-weekview':!0},['widget.calendar-weekview'],0,[Ext.calendar.view,'Week'],0);Ext.cmd.derive('Ext.calendar.panel.Week',Ext.calendar.panel.Days,{config:{view:{xtype:'calendar-weekview'}},configExtractor:{view:{firstDayOfWeek:!0}},$todayCellHighlightCls:'x-today-cell-highlight',updateDayHeader:function(b,a){Ext.calendar.panel.Days.prototype.updateDayHeader.apply(this,arguments);this.updateHighlightToday(this.extracted.view.highlightToday)},updateHighlightToday:function(d){var e=this.getView(),c=e.getHeader(),a,b;b=Ext.Date.format(new Date(),c.domFormat);a=c.element.selectNode('td[data-date="'+b+'"]',!1);if(a){a.toggleCls(this.$todayCellHighlightCls+'-day',d)}}},0,['calendar-week'],['widget','component','container','panel','calendar-days','calendar-week'],{'widget':!0,'component':!0,'container':!0,'panel':!0,'calendar-days':!0,'calendar-week':!0},['widget.calendar-week'],0,[Ext.calendar.panel,'Week'],0);Ext.cmd.derive('Ext.calendar.view.Multi',Ext.container.Container,{layout:'fit',platformConfig:{'!desktop':{compact:!0}},config:{compact:!1,compactOptions:null,store:null,timezoneOffset:undefined,value:undefined,views:null},defaultView:null,constructor:function(b){var a;Ext.Container.prototype.constructor.call(this,b);a=this.defaultView;if(a){this.setView(a)}},moveNext:function(){this.setValue(this.activeView.calculateMoveNext())},movePrevious:function(){this.setValue(this.activeView.calculateMovePrevious())},navigate:function(a,c){var b=Ext.Date;if(a!==0){this.setValue(b.add(this.getValue(),c||b.DAY,a,!0))}},setView:function(c){var a=this,b=a.activeView,d;if(b&&b.$key===c){return}Ext.suspendLayouts();if(b){a.remove(b)}d=a.getViews()[c];d.highlightToday=a.highlightToday;a.activeView=a.add(a.createView(d,c));a.activeView.on('valuechange','onValueChange',a);a.recalculate(a.getValue());Ext.resumeLayouts(!0)},updateHighlightToday:function(a){this.highlightToday=a;this.getActiveItem().updateHighlightToday(a)},updateCompact:function(a){this.setViewCfg('setCompact',a)},applyStore:function(a){if(a){a=Ext.StoreManager.lookup(a,'calendar-calendars')}return a},updateStore:function(b){var a=this;a.setViewCfg('setStore',b);if(!a.isConfiguring){a.recalculate(a.getValue())}},applyTimezoneOffset:function(a){this.autoOffset=!1;if(a===undefined){a=Ext.calendar.date.Util.getDefaultTimezoneOffset();this.autoOffset=!0}return a},updateTimezoneOffset:function(a){this.setViewCfg('setTimezoneOffset',a)},applyValue:function(a,b){a=Ext.Date.clearTime(a||Ext.calendar.date.Util.getLocalNow(),!0);if(b&&b.getTime()===a.getTime()){a=undefined}return a},updateValue:function(a){if(!this.isConfiguring){this.recalculate(a)}},showAddForm:function(b,a){return this.activeView.showAddForm(b,a)},showEditForm:function(b,a){return this.activeView.showEditForm(b,a)},privates:{createView:function(b,c){var a=this;return Ext.apply({$key:c,controlStoreRange:!1,compact:a.getCompact(),store:a.getStore(),timezoneOffset:a.autoOffset?undefined:a.getTimezoneOffset(),value:a.getValue()},b)},getActiveKey:function(){var a=this.activeView;return a?a.$key:''},onValueChange:function(b,a){this.setValue(a.value);this.fireEvent('valuechange',this,a)},recalculate:function(e){var a=this.activeView,d=this.getStore(),c,b;if(a&&d){b=d.getEventSource();c=Ext.calendar.date.Util.expandRange(a.getView().doRecalculate(e).full);b.setRange(c);a.setValue(e)}},setViewCfg:function(b,c){var a;if(!this.isConfiguring){a=this.activeView;if(a){a[b](c)}}}}},1,['calendar-multiview'],['widget','component','container','calendar-multiview'],{'widget':!0,'component':!0,'container':!0,'calendar-multiview':!0},['widget.calendar-multiview'],0,[Ext.calendar.view,'Multi'],0);Ext.cmd.derive('Ext.calendar.panel.Panel',Ext.calendar.panel.AbstractPanel,{alternateStateConfig:'compactOptions',referenceHolder:!0,platformConfig:{'!desktop':{compact:!0}},config:{calendarList:{xtype:'calendar-list',reference:'list',flex:1},compact:!1,compactOptions:{},createButton:{xtype:'button',cls:'x-calendar-panel-create-button',text:'Create'},createButtonPosition:'sideBar',dateTitle:{xtype:'component',reference:'calTitle',cls:'x-calendar-panel-title',margin:'0 0 0 10'},highlightToday:!0,nextButton:{xtype:'button',text:'>'},previousButton:{xtype:'button',text:'<'},sideBar:{xtype:'panel',cls:'x-calendar-sidebar'},store:null,switcher:{xtype:'segmentedbutton',reference:'switcher',cls:'x-calendar-panel-switcher',allowMultiple:!1},switcherPosition:'titleBar',timezoneOffset:undefined,titleBar:{xtype:'toolbar'},todayButton:{xtype:'button',text:'Today',margin:'0 10 0 0'},value:undefined,views:{day:{xtype:'calendar-day',titleTpl:'{start:date("l F d, Y")}',controlStoreRange:!1,label:'Day',weight:10,dayHeader:null},week:{xtype:'calendar-week',dayHeaderFormat:'D d',controlStoreRange:!1,titleTpl:'{start:date("j M")} - {end:date("j M Y")}',label:'Week',weight:20},month:{xtype:'calendar-month',titleTpl:'{start:date("F Y")}',label:'Month',weight:30}}},defaultView:'month',cls:'x-calendar-panel',moveNext:function(){this.getView().moveNext()},movePrevious:function(){this.getView().movePrevious()},navigate:function(b,a){this.getView().navigate(b,a)},setView:function(a){this.doSetView(a)},updateCompact:function(a,c){var b=this;b.toggleCls('x-compact',a);b.toggleConfigState(a);Ext.calendar.panel.AbstractPanel.prototype.updateCompact.call(this,a,c);b.setViewCfg('setCompact',a)},updateCompactOptions:function(){if(!this.isConfiguring&&this.getCompact()){this.toggleConfigState(!0)}},applyStore:function(a){if(a){a=Ext.StoreManager.lookup(a,'calendar-calendars')}return a},updateStore:function(a){var b=this.lookup('list');this.setViewCfg('setStore',a);if(b){b.setStore(a)}},applyTimezoneOffset:function(a){this.autoOffset=!1;if(a===undefined){a=Ext.calendar.date.Util.getDefaultTimezoneOffset();this.autoOffset=!0}return a},updateTimezoneOffset:function(a){this.setViewCfg('setTimezoneOffset',a)},applyValue:function(a,b){a=Ext.Date.clearTime(a||Ext.calendar.date.Util.getLocalNow(),!0);if(b&&b.getTime()===a.getTime()){a=undefined}return a},updateValue:function(a){this.setViewCfg('setValue',a);this.refreshCalTitle()},getValue:function(){var a=this.getView();return a?a.getValue():(arguments.callee.$previous||Ext.calendar.panel.AbstractPanel.prototype.getValue).call(this)},getView:function(){return this.lookup('view')},privates:{weightStart:0,weightIncrement:10,createCalendarList:function(a){return Ext.apply({store:this.getStore()},this.getCalendarList())},createCreateButton:function(a){a=a||{};a=Ext.apply(a,this.getCreateButton());return Ext.apply({handler:'onCreateTap',scope:this},a)},createContainerWithChildren:function(i,b,a){b=Ext.apply({},b);var f=this,c=b.items,g=f.weightStart,j=f.weightIncrement,h,d,e;if(c){if(!Ext.isArray(c)){c=[c]}a=Ext.Array.clone(a);for(d=0,h=a.length;d<h;++d){e=a[d];if(e.weight==null){a[d]=Ext.apply({weight:g},e)}g+=j}a=a.concat(c);Ext.Array.sort(a,f.weightSorter);delete b.items}b.items=a;return Ext.apply(b,i)},createDateTitle:function(a){a=a||{};return Ext.apply(a,this.getDateTitle())},createNextButton:function(){return Ext.apply({handler:'onNextTap',scope:this},this.getNextButton())},createPreviousButton:function(){return Ext.apply({handler:'onPrevTap',scope:this},this.getPreviousButton())},createSwitcher:function(b){var a=this,c=a.getView();b=Ext.apply({value:c&&c.getActiveKey()||a.defaultView,listeners:{scope:a,change:'onSwitcherChange'},items:a.getSwitcherItems()},b);return Ext.apply(b,a.getSwitcher())},createTodayButton:function(){return Ext.apply({handler:'onTodayTap',scope:this},this.getTodayButton())},createView:function(){var a=this;return {xtype:'calendar-multiview',reference:'view',compact:a.getCompact(),defaultView:a.defaultView,store:a.getStore(),timezoneOffset:a.autoOffset?undefined:a.getTimezoneOffset(),value:a.getValue(),views:a.getViews(),highlightToday:a.getHighlightToday(),listeners:{scope:a,valuechange:'onValueChange'}}},doSetView:function(a,b){if(!b){this.setSwitcherValue(a);return}this.getView().highlightToday=this.getHighlightToday();this.getView().setView(a);this.refreshCalTitle()},updateHighlightToday:function(a){if(!this.isConfiguring){this.getView().updateHighlightToday(a)}},getSwitcherItems:function(){var d=this.getViews(),b=[],c,a;for(c in d){a=d[c];if(a){b.push({text:a.label,value:c,weight:a.weight})}}b.sort(this.weightSorter);return b},onCreateTap:function(){this.getView().showAddForm()},onNextTap:function(){this.moveNext()},onPrevTap:function(){this.movePrevious()},onValueChange:function(b,a){this.setValue(a.value)},onTodayTap:function(){this.setValue(new Date())},refreshCalTitle:function(){var d=this,a=d.getView(),c=d.lookup('calTitle'),b;if(a&&c){a=a.activeView;b=a.lookupTpl('titleTpl');if(b){c.setHtml(b.apply(a.getDisplayRange()))}}},setViewCfg:function(b,c){var a;if(!this.isConfiguring){a=this.getView();if(a){a[b](c)}}},weightSorter:function(a,b){return a.weight-b.weight}}},0,['calendar'],['widget','component','container','panel','calendar'],{'widget':!0,'component':!0,'container':!0,'panel':!0,'calendar':!0},['widget.calendar'],[[Ext.mixin.ConfigState.prototype.mixinId||Ext.mixin.ConfigState.$className,Ext.mixin.ConfigState]],[Ext.calendar.panel,'Panel'],0);Ext.cmd.derive('Ext.pivot.Aggregators',Ext.Base,{alternateClassName:['Mz.aggregate.Aggregators'],singleton:!0,customText:'Custom',sumText:'Sum',avgText:'Avg',minText:'Min',maxText:'Max',countText:'Count',countNumbersText:'Count numbers',groupSumPercentageText:'Group sum percentage',groupCountPercentageText:'Group count percentage',varianceText:'Var',variancePText:'Varp',stdDevText:'StdDev',stdDevPText:'StdDevp',sum:function(d,e,g,i,h){var f=d.length,a=g.calculateAsExcel?null:0,c,b;for(c=0;c<f;c++){b=d[c].get(e);if(b!==null){if(a===null){a=0}if(typeof b==='number'){a+=b}}}return a},avg:function(f,h,i,k,j){var g=f.length,e=i.calculateAsExcel,a=e?null:0,b=0,c,d;for(c=0;c<g;c++){d=f[c].get(h);if(typeof d==='number'){if(a===null){a=0}a+=d;b++}}if(!e){b=g}return b>0&&a!==null?a/b:null},min:function(e,f,h,j,i){var g=e.length,b=null,d,a,c;for(d=0;d<g;d++){a=e[d].get(f);c=!0;if(h.calculateAsExcel){if(a!==null){if(typeof a!=='number'){a=0;c=!1}if(b===null){b=a}}else {c=!1}}if(c&&a<b){b=a}}return b},max:function(e,f,h,j,i){var g=e.length,b=null,d,a,c;for(d=0;d<g;d++){a=e[d].get(f);c=!0;if(h.calculateAsExcel){if(a!==null){if(typeof a!=='number'){a=0;c=!1}if(b===null){b=a}}else {c=!1}}if(c&&a>b){b=a}}return b},count:function(c,f,g,i,h){var d=c.length,a=null,b,e;if(g.calculateAsExcel){for(b=0;b<d;b++){e=c[b].get(f);if(e!==null){if(a===null){a=0}a++}}}else {a=d}return a},countNumbers:function(d,e,g,i,h){var f=d.length,a=null,b,c;for(b=0;b<f;b++){c=d[b].get(e);if(c!==null){if(a===null){a=0}if(typeof c==='number'){a++}}}return g.calculateAsExcel?a:a||0},groupSumPercentage:function(k,i,d,h,g){var j=Ext.pivot.Aggregators.sum,l=k.length,a=h.split(d.keysSeparator),f=null,c=null,e,b;if(!l){return null}a.pop();a=a.join(d.keysSeparator);if(Ext.isEmpty(a)){a=d.grandTotalKey}e=d.results.get(h,g);if(e){if(e.hasValue('groupSum')){f=e.getValue('groupSum')}else {f=e.calculateByFn('groupSum',i,j)}}b=d.results.get(a,g);if(b){if(b.hasValue('groupSum')){c=b.getValue('groupSum')}else {c=b.calculateByFn('groupSum',i,j)}}return c!==null&&f!==null&&c!==0?f/c*100:null},groupCountPercentage:function(k,j,d,h,g){var i=Ext.pivot.Aggregators.count,l=k.length,a=h.split(d.keysSeparator),f=null,c=null,e,b;if(!l){return null}a.pop();a=a.join(d.keysSeparator);if(Ext.isEmpty(a)){a=d.grandTotalKey}e=d.results.get(h,g);if(e){if(e.hasValue('groupCount')){f=e.getValue('groupCount')}else {f=e.calculateByFn('groupCount',j,i)}}b=d.results.get(a,g);if(b){if(b.hasValue('groupCount')){c=b.getValue('groupCount')}else {c=b.calculateByFn('groupCount',j,i)}}return c!==null&&f!==null&&c!==0?f/c*100:null},variance:function(e,i,k,m,l){var g=k.calculateAsExcel,c=Ext.pivot.Aggregators,h=g?c.countNumbers.apply(c,arguments):e.length,f=c.avg.apply(c,arguments),j=e.length,a=0,d,b;if(f>0){for(d=0;d<j;d++){b=e[d].get(i);if(g){if(typeof b==='number'){a+=Math.pow(b-f,2)}}else {a+=Math.pow(Ext.Number.from(b,0)-f,2)}}}return a>0&&h>1?a/(h-1):null},varianceP:function(e,i,k,m,l){var g=k.calculateAsExcel,c=Ext.pivot.Aggregators,h=g?c.countNumbers.apply(c,arguments):e.length,f=c.avg.apply(c,arguments),j=e.length,a=0,d,b;if(f>0){for(d=0;d<j;d++){b=e[d].get(i);if(g){if(typeof b==='number'){a+=Math.pow(b-f,2)}}else {a+=Math.pow(Ext.Number.from(b,0)-f,2)}}}return a>0&&h>0?a/h:null},stdDev:function(f,e,g,d,c){var a=Ext.pivot.Aggregators,b=a.variance.apply(a,arguments);return b>0?Math.sqrt(b):null},stdDevP:function(f,e,g,d,c){var a=Ext.pivot.Aggregators,b=a.varianceP.apply(a,arguments);return b>0?Math.sqrt(b):null}},0,0,0,0,0,0,[Ext.pivot,'Aggregators',Mz.aggregate,'Aggregators'],0);Ext.define('Ext.locale.fr.pivot.Aggregators',{override:'Ext.pivot.Aggregators',customText:'Custom',sumText:'Somme',avgText:'Moyenne',countText:'Nombre',minText:'Min',maxText:'Max',groupSumPercentageText:'Pourcentage somme cumule',groupCountPercentageText:'Pourcentage nombre cumul',varianceText:'Var',variancePText:'Varp',stdDevText:'StdDev',stdDevPText:'StdDevp'});Ext.define('App.overrides.pivot.Aggregators',{override:'Ext.pivot.Aggregators',distinctText:'Nombre Unique',distinct:function(b,a,g,f,e){var d=b.map(function(c){return c.get(a)});var c=Ext.Array.unique(d);return c.length},firstText:'Valeur',first:function(a,c,e,b,d){if(b.includes('total')){return ''}return a.length===1?a[0].get(c):''},distinct_sumText:'Somme Unique',distinct_sum:function(d,b,g,f,e){var a={};var c=0;d.forEach(function(h){var i=h.getId();if(typeof a[i]!='undefined'){a[i]=h.get(b);c+=h.get(b)||0}});return c},true_countText:'Nbre / Vrai',true_count:function(b,a,f,e,d){var c=b.map(function(c){return c.get(a)}).filter(function(c){return !!c});return c.length||null}});Ext.cmd.derive('Ext.pivot.MixedCollection',Ext.util.MixedCollection,{alternateClassName:['Mz.aggregate.MixedCollection'],removeAt:function(a){Ext.destroy(Ext.util.MixedCollection.prototype.removeAt.apply(this,arguments))},clear:function(){this.destroyItems();Ext.util.MixedCollection.prototype.clear.apply(this,arguments)},removeAll:function(){this.destroyItems();Ext.util.MixedCollection.prototype.removeAll.apply(this,arguments)},destroy:function(){this.clear()},destroyItems:function(){var b=this.items,d,a,c;if(b){d=b.length;for(a=0;a<d;a++){c=b[a];if(c.destroy){c.destroy()}}}}},0,0,0,0,0,0,[Ext.pivot,'MixedCollection',Mz.aggregate,'MixedCollection'],0);Ext.cmd.derive('Ext.pivot.filter.Base',Ext.Base,{alternateClassName:['Mz.aggregate.filter.Abstract'],isFilter:!0,operator:null,value:null,caseSensitive:!0,parent:null,constructor:function(a){var c=this,b=Ext.util.Format;c.thousandRe=new RegExp('['+b.thousandSeparator+']','g');c.decimalRe=new RegExp('['+b.decimalSeparator+']');Ext.apply(this,a);return this.callParent([a])},destroy:function(){var a=this;a.parent=a.thousandRe=a.decimalRe=null;a.callParent()},serialize:function(){var a=this;return Ext.apply({type:a.type,operator:a.operator,value:a.value,caseSensitive:a.caseSensitive},a.getSerialArgs()||{})},getSerialArgs:Ext.emptyFn,isMatch:function(f){var a=this,b=a.value,c,d,e,g,h;b=(Ext.isArray(b)?b[0]:b)||'';c=a.compare(f,b);if(a.operator==='='){return c===0}if(a.operator==='!='){return c!==0}if(a.operator==='>'){return c>0}if(a.operator==='>='){return c>=0}if(a.operator==='<'){return c<0}if(a.operator==='<='){return c<=0}b=a.value;g=(Ext.isArray(b)?b[0]:b)||'';h=(Ext.isArray(b)?b[1]:b)||'';d=a.compare(f,g);e=a.compare(f,h);if(a.operator==='between'){return d>=0&&e<=0}if(a.operator==='not between'){return !(d>=0&&e<=0)}return !0},parseNumber:function(a){var b;if(typeof a==='number'){return a}if(Ext.isEmpty(a)){a=''}b=String(a).replace(this.thousandRe,'');b=b.replace(this.decimalRe,'.');if(Ext.isNumeric(b)){return parseFloat(b)}return null},compare:function(a,b){var c=Ext.pivot.matrix.Base.prototype.naturalSort,d=this.parseNumber(a),e=this.parseNumber(b);if(Ext.isNumber(d)&&Ext.isNumber(e)){return c(d,e)}if(Ext.isDate(a)){if(Ext.isDate(b)){return c(a,b)}else {return c(a,Ext.Date.parse(b,Ext.Date.defaultFormat))}}return this.caseSensitive?c(a||'',b||''):c(String(a||'').toLowerCase(),String(b||'').toLowerCase())},deprecated:{'6.0':{properties:{mztype:null,from:null,to:null}}}},1,0,0,0,['pivotfilter.base'],[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.pivot.filter,'Base',Mz.aggregate.filter,'Abstract'],0);Ext.cmd.derive('Ext.pivot.filter.Label',Ext.pivot.filter.Base,{alternateClassName:['Mz.aggregate.filter.Label'],isMatch:function(b){var a=this;if(a.operator==='begins'){return Ext.String.startsWith(String(b||''),String(a.value||''),!a.caseSensitive)}if(a.operator==='not begins'){return !Ext.String.startsWith(String(b||''),String(a.value||''),!a.caseSensitive)}if(a.operator==='ends'){return Ext.String.endsWith(String(b||''),String(a.value||''),!a.caseSensitive)}if(a.operator==='not ends'){return !Ext.String.endsWith(String(b||''),String(a.value||''),!a.caseSensitive)}if(a.operator==='contains'){return a.stringContains(String(b||''),String(a.value||''),!a.caseSensitive)}if(a.operator==='not contains'){return !a.stringContains(String(b||''),String(a.value||''),!a.caseSensitive)}if(a.operator==='in'){return a.foundInArray(a.value)}if(a.operator==='not in'){return !a.foundInArray(a.value)}return Ext.pivot.filter.Base.prototype.isMatch.apply(this,arguments)},foundInArray:function(d){var c=Ext.Array.from(this.value),e=c.length,a=!1,b;if(this.caseSensitive){return Ext.Array.indexOf(c,d)>=0}else {for(b=0;b<e;b++){a=a||String(d).toLowerCase()===String(c[b]).toLowerCase();if(a){break}}return a}},stringContains:function(b,a,d){var c=a.length<=b.length;if(c){if(d){b=b.toLowerCase();a=a.toLowerCase()}c=b.lastIndexOf(a)>=0}return c},deprecated:{'6.0':{methods:{startsWith:Ext.emptyFn,endsWith:Ext.emptyFn}}}},0,0,0,0,['pivotfilter.label'],0,[Ext.pivot.filter,'Label',Mz.aggregate.filter,'Label'],0);Ext.cmd.derive('Ext.pivot.filter.Value',Ext.pivot.filter.Base,{alternateClassName:['Mz.aggregate.filter.Value'],dimensionId:'',topType:'items',topOrder:'top',topSort:!0,isTopFilter:!1,constructor:function(a){var b=Ext.pivot.filter.Base.prototype.constructor.call(this,a);this.isTopFilter=this.operator==='top10';return b},destroy:function(){this.dimension=null;Ext.pivot.filter.Base.prototype.destroy.call(this)},getDimension:function(){return this.parent.matrix.aggregate.getByKey(this.dimensionId)},getSerialArgs:function(){var a=this;return {dimensionId:a.dimensionId,topType:a.topType,topOrder:a.topOrder,topSort:a.topSort}},applyFilter:function(e,d){var a=this,b=a.topSort?d:Ext.Array.clone(d),c=[];if(d.length===0){return c}a.sortItemsByGrandTotal(e,b);switch(a.topType){case 'items':c=a.extractTop10Items(b);break;case 'sum':c=a.extractTop10Sum(b);break;case 'percent':c=a.extractTop10Percent(e,b);break;}if(!a.topSort){b.length=0}return c},extractTop10Items:function(b){var d=this,c=[],a;for(a=0;a<b.length;a++){if(c.indexOf(b[a].tempVar)<0){c.push(b[a].tempVar);if(c.length>d.value||d.value<a+1&&a>0){break}}}return Ext.Array.slice(b,a)},extractTop10Sum:function(b){var d=this,c=0,a;for(a=0;a<b.length;a++){c+=b[a].tempVar;if(c>=d.value){break}}return Ext.Array.slice(b,a+1)},extractTop10Percent:function(a,c){var k=this,j=0,f=c[0].key.split(a.matrix.keysSeparator),b,h,i,d,e,g;f.length--;d=f.length>0?f.join(a.matrix.keysSeparator):a.matrix.grandTotalKey;h=a.isLeftAxis?d:a.matrix.grandTotalKey;i=a.isLeftAxis?a.matrix.grandTotalKey:d;e=a.matrix.results.get(h,i);g=e?e.getValue(k.dimensionId):0;for(b=0;b<c.length;b++){j+=c[b].tempVar;if(j*100/g>=k.value){break}}return Ext.Array.slice(c,b+1)},sortItemsByGrandTotal:function(a,c){var e=this,f,g,d,b;for(b=0;b<c.length;b++){f=a.isLeftAxis?c[b].key:a.matrix.grandTotalKey;g=a.isLeftAxis?a.matrix.grandTotalKey:c[b].key;d=a.matrix.results.get(f,g);c[b].tempVar=d?d.getValue(e.dimensionId):0}Ext.Array.sort(c,function(d,f){var b=a.matrix.naturalSort(d.tempVar,f.tempVar);if(b<0&&e.topOrder==='top'){return 1}if(b>0&&e.topOrder==='top'){return -1}return b})}},1,0,0,0,['pivotfilter.value'],0,[Ext.pivot.filter,'Value',Mz.aggregate.filter,'Value'],0);Ext.cmd.derive('Ext.pivot.dimension.Item',Ext.Base,{alternateClassName:['Mz.aggregate.dimension.Item'],$configPrefixed:!1,$configStrict:!1,config:{id:null,header:'',dataIndex:'',sortIndex:'',width:100,flex:0,align:'left',sortable:!0,direction:'ASC',sorterFn:null,caseSensitiveSort:!0,filter:null,labelRenderer:null,renderer:null,formatter:null,column:null,exportStyle:null,scope:null,grouperFn:null,blankText:'(blank)',showZeroAsBlank:!1,aggregator:'sum',values:[]},isAggregate:!1,matrix:null,constructor:function(b){var a=this;this.initConfig(b);if(!a.getId()){a.setId(Ext.id())}if(!a.grouperFn){a.groupFn=Ext.bind(a.defaultGrouperFn,a)}if(a.sortable){if(!a.sorterFn){a.sortFn=Ext.bind(a.defaultSorterFn,a)}}else {a.sortFn=Ext.bind(a.manualSorterFn,a)}if(Ext.isEmpty(a.getSortIndex())){a.setSortIndex(a.getDataIndex())}if(a.isAggregate&&!a.getFormatter()&&!a.getRenderer()){a.setRenderer(a.getDefaultFormatRenderer('0,000.00'))}return this.callParent([b])},destroy:function(){this.setConfig({values:null,grouperFn:null,sorterFn:null,filter:null,renderer:null,labelRenderer:null,aggregator:null});this.callParent()},serialize:function(){return this.getConfiguration(!0)},getConfiguration:function(b){var c=this,a=c.getConfig();delete a.values;if(a.filter){a.filter=a.filter.serialize()}if(b&&typeof a.aggregator==='function'){a.aggregator='sum'}if(b&&typeof a.renderer==='function'){a.renderer=null}if(b&&typeof a.labelRenderer==='function'){a.labelRenderer=null}return a},applyId:function(a){return a?a:Ext.id()},updateExportStyle:function(a){if(a&&!a.id){a.id=this.getId()}},applyFilter:function(a,b){if(a==null){return a}if(a&&a.isFilter){a.parent=this;return a}if(Ext.isObject(a)){Ext.applyIf(a,{type:'label',parent:this});a=Ext.Factory.pivotfilter(a)}else {a=!1}return a},updateAggregator:function(a){var b=Ext.pivot.Aggregators;if(Ext.isString(a)&&Ext.isFunction(b[a])){this.aggregatorFn=Ext.bind(b[a],b)}else {this.aggregatorFn=a||'sum'}},updateGrouperFn:function(a){this.groupFn=Ext.isFunction(a)?Ext.bind(a,this):a},updateSorterFn:function(a){this.sortFn=Ext.isFunction(a)?Ext.bind(a,this):a},addValue:function(a,c){var b=this.values;if(!b.getByKey(a)){b.add({sortValue:a,value:a,display:c})}},applyValues:function(a,c){var b;Ext.destroy(c);if(a&&!a.isInstance){b=new Ext.pivot.MixedCollection();b.getKey=function(b){return b.value};b.addAll(a);return b}return a},sortValues:function(){if(this.sortable){this.values.sortBy(this.sortFn)}},defaultSorterFn:function(e,f){var d=this,a=e.sortValue,b=f.sortValue,c;if(a instanceof Date){a=a.getTime()}if(b instanceof Date){b=b.getTime()}if(!d.caseSensitiveSort){a=typeof a==='string'?a.toUpperCase():a;b=typeof b==='string'?b.toUpperCase():b}if(d.matrix.useNaturalSorting){c=d.matrix.naturalSort(a,b)}else {c=a===b?0:a<b?-1:1}if(c<0&&d.direction==='DESC'){return 1}if(c>0&&d.direction==='DESC'){return -1}return c},manualSorterFn:function(d,e){var a=this.values,b=a?a.indexOfKey(d.value):0,c=a?a.indexOfKey(e.value):0;return b===c?0:b<c?-1:1},getDefaultFormatRenderer:function(a){var b=this;return function(c){var d;if(Ext.isEmpty(a)){return c}if(Ext.isFunction(a)){return a.apply(b,arguments)}if(!Ext.isNumber(c)){return c}if(b.isAggregate&&c===0&&b.showZeroAsBlank){return ''}d=c>=0;c=Math.abs(c);c=Ext.util.Format.number(c,a);return d?c:'-'+c}},defaultGrouperFn:function(a){return a.get(this.dataIndex)},getFormatterFn:function(){var c=this,a=c.getFormatter(),b;if(a){b=a.indexOf('this.')===0;if(b){a=a.substring(5)}a=Ext.app.bind.Template.prototype.parseFormat(a);if(b){a.scope=null}return function(b){return a.format(b,a.scope||c.getScope()||c.matrix.cmp.resolveListenerScope('self.controller')||this)}}},aggregatorFn:Ext.emptyFn,groupFn:Ext.emptyFn,sortFn:Ext.emptyFn},1,0,0,0,0,0,[Ext.pivot.dimension,'Item',Mz.aggregate.dimension,'Item'],0);Ext.cmd.derive('Ext.pivot.axis.Item',Ext.Base,{alternateClassName:['Mz.aggregate.axis.Item'],level:0,key:'',value:'',sortValue:'',name:'',dimensionId:'',dimension:null,children:null,record:null,records:null,axis:null,data:null,expanded:!1,constructor:function(c){var a=this,b;Ext.apply(a,c||{});if(Ext.isEmpty(a.sortValue)){a.sortValue=a.value}b=a.axis;a.expanded=b&&(b.isLeftAxis&&!b.matrix.collapsibleRows||!b.isLeftAxis&&!b.matrix.collapsibleColumns);a.callParent(arguments)},destroy:function(){var a=this;Ext.destroy(a.children);a.axis=a.data=a.dimension=a.record=a.children=a.records=null;a.callParent(arguments)},getTextTotal:function(){var a=this,b=Ext.XTemplate.getTpl(a.axis.matrix,'textTotalTpl');return b.apply({groupField:a.dimension.dataIndex,columnName:a.dimension.dataIndex,name:a.name,rows:a.children||[]})},expand:function(b){var a=this;a.expanded=!0;if(b===!0){a.expandCollapseChildrenTree(!0)}a.axis.matrix.fireEvent('groupexpand',a.axis.matrix,a.axis.isLeftAxis?'row':'col',a)},collapse:function(b){var a=this;a.expanded=!1;if(b===!0){a.expandCollapseChildrenTree(!1)}a.axis.matrix.fireEvent('groupcollapse',a.axis.matrix,a.axis.isLeftAxis?'row':'col',a)},expandCollapseChildrenTree:function(c){var a=this,b;a.expanded=c;if(Ext.isArray(a.children)){for(b=0;b<a.children.length;b++){a.children[b].expandCollapseChildrenTree(c)}}}},1,0,0,0,0,0,[Ext.pivot.axis,'Item',Mz.aggregate.axis,'Item'],0);Ext.cmd.derive('Ext.pivot.axis.Base',Ext.Base,{alternateClassName:['Mz.aggregate.axis.Abstract'],dimensions:null,matrix:null,items:null,tree:null,levels:0,isLeftAxis:!1,constructor:function(b){var a=this;if(!b||!b.matrix){return}a.isLeftAxis=b.isLeftAxis||a.isLeftAxis;a.matrix=b.matrix;a.tree=[];a.dimensions=new Ext.pivot.MixedCollection();a.dimensions.getKey=function(a){return a.getId()};a.items=new Ext.pivot.MixedCollection();a.items.getKey=function(a){return a.key};Ext.Array.each(Ext.Array.from(b.dimensions||[]),a.addDimension,a)},destroy:function(){var a=this;Ext.destroyMembers(a,'dimensions','items','tree');a.matrix=a.dimensions=a.items=a.tree=null},addDimension:function(a){var b=a;if(!a){return}if(!a.isInstance){b=new Ext.pivot.dimension.Item(a)}b.matrix=this.matrix;this.dimensions.add(b)},addItem:function(a){var b=this;if(!Ext.isObject(a)||Ext.isEmpty(a.key)||Ext.isEmpty(a.value)||Ext.isEmpty(a.dimensionId)){return !1}a.key=String(a.key);a.dimension=b.dimensions.getByKey(a.dimensionId);a.name=a.name||Ext.callback(a.dimension.labelRenderer,a.dimension.scope||'self.controller',[a.value],0,b.matrix.cmp)||a.value;a.dimension.addValue(a.value,a.name);a.axis=b;if(!b.items.map[a.key]&&a.dimension){b.items.add(new Ext.pivot.axis.Item(a));return !0}return !1},clear:function(){this.items.clear();this.tree=null},getTree:function(){if(!this.tree){this.buildTree()}return this.tree},expandAll:function(){var a=this,c=a.getTree(),d=c.length,b;for(b=0;b<d;b++){c[b].expandCollapseChildrenTree(!0)}if(d>0){a.matrix.fireEvent('groupexpand',a.matrix,a.isLeftAxis?'row':'col',null)}},collapseAll:function(){var a=this,c=a.getTree(),d=c.length,b;for(b=0;b<d;b++){c[b].expandCollapseChildrenTree(!1)}if(d>0){a.matrix.fireEvent('groupcollapse',a.matrix,a.isLeftAxis?'row':'col',null)}},findTreeElement:function(d,c){var f=this.items,g=f.getCount(),e=!1,b,a;for(b=0;b<g;b++){a=f.items[b];if(Ext.isDate(c)?Ext.Date.isEqual(a[d],c):a[d]===c){e=!0;break}}return e?{level:a.level,node:a}:null},buildTree:function(){var b=this,e=b.dimensions.items,g=e.length,c,a,f,h,d;for(c=0;c<g;c++){e[c].sortValues()}b.tree=[];e=b.items.items;g=e.length;for(c=0;c<g;c++){a=e[c];f=String(a.key).split(b.matrix.keysSeparator);f=Ext.Array.slice(f,0,f.length-1);h=f.join(b.matrix.keysSeparator);d=b.items.map[h];if(d){a.level=d.level+1;a.data=Ext.clone(d.data||{});d.children=d.children||[];d.children.push(a)}else {a.level=0;a.data={};b.tree.push(a)}a.data[a.dimension.getId()]=a.name;b.levels=Math.max(b.levels,a.level)}b.sortTree()},rebuildTree:function(){var b=this.items.items,c=b.length,a;this.tree=null;for(a=0;a<c;a++){b[a].children=null}this.buildTree()},sortTree:function(){var a=arguments[0]||this.tree,e=a.length,c,b,d;if(a.length>0){c=a[0].dimension}if(c){Ext.Array.sort(a,c.sortFn)}for(b=0;b<e;b++){d=a[b];if(d.children){this.sortTree(d.children)}}},sortTreeByField:function(f,b){var a=this,d=!1,c,g,e;if(f===a.matrix.compactViewKey){d=a.sortTreeByDimension(a.tree,a.dimensions.items,b);g=a.dimensions.items.length;for(e=0;e<g;e++){a.dimensions.items[e].direction=b}}else {b=b||'ASC';c=a.dimensions.getByKey(f);if(c){d=a.sortTreeByDimension(a.tree,c,b);c.direction=b}else {d=a.sortTreeByRecords(a.tree,f,b)}}return d},sortTreeByDimension:function(b,f,g){var c=!1,i=Ext.Array.from(f),a,e,d,h;b=b||[];e=b.length;if(e>0){a=b[0].dimension}if(Ext.Array.indexOf(i,a)>=0){if(a.sortable){h=a.direction;a.direction=g;Ext.Array.sort(b,a.sortFn);a.direction=h}c=a.sortable}for(d=0;d<e;d++){c=this.sortTreeByDimension(b[d].children,f,g)||c}return c},sortTreeByRecords:function(a,d,c){var b,e;a=a||[];e=a.length;if(e<=0){return !1}if(a[0].record){this.sortTreeRecords(a,d,c)}else {this.sortTreeLeaves(a,d,c)}for(b=0;b<e;b++){this.sortTreeByRecords(a[b].children,d,c)}return !0},sortTreeRecords:function(d,b,a){var c=this.matrix.naturalSort;a=a||'ASC';Ext.Array.sort(d||[],function(h,i){var e,f=h.record,g=i.record;if(!(f&&f.isModel&&g&&g.isModel)){return 0}e=c(f.get(b)||'',g.get(b)||'');if(e<0&&a==='DESC'){return 1}if(e>0&&a==='DESC'){return -1}return e})},sortTreeLeaves:function(i,h,a){var g=this.matrix.naturalSort,f=this.matrix.results,b=this.matrix.model,e=Ext.Array.indexOf(Ext.Array.pluck(b,'name'),h),d,c;if(e<0){return !1}d=b[e].col;c=b[e].agg;a=a||'ASC';Ext.Array.sort(i||[],function(k,l){var j,b,e;b=f.get(k.key,d);if(b){b=b.getValue(c)}else {b=0}e=f.get(l.key,d);if(e){e=e.getValue(c)}else {e=0}j=g(b,e);if(j<0&&a==='DESC'){return 1}if(j>0&&a==='DESC'){return -1}return j})}},1,0,0,0,['pivotaxis.base'],[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.pivot.axis,'Base',Mz.aggregate.axis,'Abstract'],0);Ext.cmd.derive('Ext.pivot.axis.Local',Ext.pivot.axis.Base,{alternateClassName:['Mz.aggregate.axis.Local'],processRecord:function(h){var c=this,i=[],f='',g=!0,j=c.dimensions.items.length,b,d,a,e;for(e=0;e<j;e++){a=c.dimensions.items[e];b=Ext.callback(a.groupFn,a.scope||'self.controller',[h],0,c.matrix.cmp);d=f?f+c.matrix.keysSeparator:'';b=Ext.isEmpty(b)?a.blankText:b;d+=c.matrix.getKey(b);if(a.filter instanceof Ext.pivot.filter.Label){g=a.filter.isMatch(b)}if(!g){break}i.push({value:b,sortValue:h.get(a.sortIndex),key:d,dimensionId:a.getId()});f=d}if(g){return i}else {return null}},buildTree:function(){Ext.pivot.axis.Base.prototype.buildTree.apply(this,arguments);this.filterTree()},filterTree:function(){var a=this,d=a.dimensions.items.length,c=!1,b;for(b=0;b<d;b++){c=c||a.dimensions.items[b].filter instanceof Ext.pivot.filter.Value}if(!c){return}a.matrix.filterApplied=!0;a.filterTreeItems(a.tree)},filterTreeItems:function(a){var c=this,e,b,d;if(!a||!Ext.isArray(a)||a.length<=0){return}e=a[0].dimension.filter;if(e&&e instanceof Ext.pivot.filter.Value){if(e.isTopFilter){d=e.applyFilter(c,a)||[]}else {d=Ext.Array.filter(a,c.canRemoveItem,c)}c.removeRecordsFromResults(d);c.removeItemsFromArray(a,d);for(b=0;b<d.length;b++){c.removeTreeChildren(d[b])}}for(b=0;b<a.length;b++){if(a[b].children){c.filterTreeItems(a[b].children);if(a[b].children.length===0){c.items.remove(a[b]);Ext.Array.erase(a,b,1);b--}}}},removeTreeChildren:function(a){var b,c;if(a.children){c=a.children.length;for(b=0;b<c;b++){this.removeTreeChildren(a.children[b])}}this.items.remove(a)},canRemoveItem:function(b){var a=this,e=a.isLeftAxis?b.key:a.matrix.grandTotalKey,f=a.isLeftAxis?a.matrix.grandTotalKey:b.key,d=a.matrix.results.get(e,f),c=b.dimension.filter;return d?!c.isMatch(d.getValue(c.dimensionId)):!1},removeItemsFromArray:function(b,c){var a;for(a=0;a<b.length;a++){if(Ext.Array.indexOf(c,b[a])>=0){Ext.Array.erase(b,a,1);a--}}},removeRecordsFromResults:function(b){var a;for(a=0;a<b.length;a++){this.removeRecordsByItem(b[a])}},removeRecordsByItem:function(f){var a=this,c,d,b,e;if(f.children){a.removeRecordsFromResults(f.children)}if(a.isLeftAxis){e=a.matrix.results.get(f.key,a.matrix.grandTotalKey);b=a.matrix.results.getByLeftKey(a.matrix.grandTotalKey)}else {e=a.matrix.results.get(a.matrix.grandTotalKey,f.key);b=a.matrix.results.getByTopKey(a.matrix.grandTotalKey)}if(!e){return}for(d=0;d<b.length;d++){a.removeItemsFromArray(b[d].records,e.records)}c=f.key.split(a.matrix.keysSeparator);c.length=c.length-1;while(c.length>0){if(a.isLeftAxis){b=a.matrix.results.getByLeftKey(c.join(a.matrix.keysSeparator))}else {b=a.matrix.results.getByTopKey(c.join(a.matrix.keysSeparator))}for(d=0;d<b.length;d++){a.removeItemsFromArray(b[d].records,e.records)}c.length=c.length-1}}},0,0,0,0,['pivotaxis.local'],0,[Ext.pivot.axis,'Local',Mz.aggregate.axis,'Local'],0);Ext.cmd.derive('Ext.pivot.feature.PivotStore',Ext.Base,{config:{store:null,grid:null,matrix:null,clsGrandTotal:'',clsGroupTotal:''},totalRowEvent:'pivottotal',groupRowEvent:'pivotgroup',itemRowEvent:'pivotitem',constructor:function(a){this.initConfig(a);return this.callParent(arguments)},destroy:function(){var a=this;Ext.destroy(a.storeListeners,a.matrixListeners);a.setConfig({store:null,matrix:null,grid:null});a.storeInfo=a.storeListeners=null;a.callParent(arguments)},updateStore:function(b){var a=this;Ext.destroy(a.storeListeners);if(b){a.storeListeners=b.on({pivotstoreremodel:a.processStore,scope:a,destroyable:!0})}},updateMatrix:function(b){var a=this;Ext.destroy(a.matrixListeners);if(b){a.matrixListeners=b.on({groupexpand:a.onGroupExpand,groupcollapse:a.onGroupCollapse,scope:a,destroyable:!0})}},processStore:function(){var c=this,b=c.getStore(),e=c.getMatrix(),a=[],f,h,d,i,g;if(!e||!b){return}g=e.getColumns();b.suspendEvents();b.model.replaceFields(g,!0);c.storeInfo={};if(e.rowGrandTotalsPosition==='first'){a.push.apply(a,c.processGrandTotal()||[])}f=e.leftAxis.getTree();h=f.length;for(d=0;d<h;d++){i=f[d];a.push.apply(a,c.processGroup({group:i,previousExpanded:d>0?f[d-1].expanded:!1})||[])}if(e.rowGrandTotalsPosition==='last'){a.push.apply(a,c.processGrandTotal()||[])}b.loadData(a);b.resumeEvents();b.fireEvent('refresh',b)},processGroup:function(c){var a=this,b=a['processGroup'+Ext.String.capitalize(a.getMatrix().viewLayoutType)];if(!Ext.isFunction(b)){b=a.processGroupOutline}return b.call(a,c)},processGrandTotal:function(){var c=this,m=!1,b=c.getMatrix(),i={key:b.grandTotalKey},l=[],o=b.totals.length,k=b.leftAxis.dimensions.items,n=k.length,f,d,g,j,h,a,e;for(f=0;f<o;f++){j=b.totals[f];a=j.record;g=n;if(a&&a.isModel){c.storeInfo[a.internalId]={leftKey:i.key,rowStyle:'',rowClasses:[c.getClsGrandTotal()],rowEvent:c.totalRowEvent,rendererParams:{}};for(d=0;d<n;d++){h=k[d];if(b.viewLayoutType==='compact'||d===0){if(b.viewLayoutType==='compact'){e=b.compactViewKey;g=1}else {e=h.getId()}a.data[e]=j.title;c.storeInfo[a.internalId].rendererParams[e]={fn:'groupOutlineRenderer',group:i,colspan:g,hidden:!1,subtotalRow:!0};m=!0}else {c.storeInfo[a.internalId].rendererParams[h.id]={fn:'groupOutlineRenderer',group:i,colspan:0,hidden:m,subtotalRow:!0};g--}}c.storeInfo[a.internalId].rendererParams.topaxis={fn:'topAxisRenderer'};l.push(a)}}return l},processGroupOutline:function(c){var d=this,b=c.group,a=[];if(b.record){d.processRecordOutline({results:a,group:b})}else {d.processGroupOutlineWithChildren({results:a,group:b,previousExpanded:c.previousExpanded})}return a},processGroupOutlineWithChildren:function(b){var d=this,h=d.getMatrix(),a=b.group,f=b.previousExpanded,g,e,c,i;g=!a.expanded||a.expanded&&h.rowSubTotalsPosition==='first';e=a.expanded?a.records.expanded:a.records.collapsed;d.processGroupHeaderRecordOutline({results:b.results,group:a,record:e,previousExpanded:f,hasSummaryData:g});if(a.expanded){if(a.children){i=a.children.length;for(c=0;c<i;c++){if(a.children[c].children){d.processGroupOutlineWithChildren({results:b.results,group:a.children[c]})}else {d.processRecordOutline({results:b.results,group:a.children[c]})}}}if(h.rowSubTotalsPosition==='last'){e=a.records.footer;d.processGroupHeaderRecordOutline({results:b.results,group:a,record:e,previousExpanded:f,subtotalRow:!0,hasSummaryData:!0})}}},processGroupHeaderRecordOutline:function(b){var a=this,n=a.getMatrix(),d=b.group,c=b.record,g=b.previousExpanded,h=b.subtotalRow,m=b.hasSummaryData,j=n.leftAxis.dimensions.items,k=j.length,l=k,i=!1,f,e;a.storeInfo[c.internalId]={leftKey:d.key,rowStyle:'',rowClasses:[a.getClsGroupTotal()],rowEvent:a.groupRowEvent,rendererParams:{}};for(f=0;f<k;f++){e=j[f];if(e.id===d.dimension.id){a.storeInfo[c.internalId].rendererParams[e.id]={fn:'groupOutlineRenderer',group:d,colspan:l,hidden:!1,previousExpanded:g,subtotalRow:h};i=!0}else {a.storeInfo[c.internalId].rendererParams[e.id]={fn:'groupOutlineRenderer',group:d,colspan:0,hidden:i,previousExpanded:g,subtotalRow:h};l--}}a.storeInfo[c.internalId].rendererParams.topaxis={fn:m?'topAxisRenderer':'topAxisNoRenderer',group:d};b.results.push(c)},processRecordOutline:function(f){var b=this,a=f.group,g=!1,c=a.record,h=b.getMatrix().leftAxis.dimensions.items,i=h.length,d,e;b.storeInfo[c.internalId]={leftKey:a.key,rowStyle:'',rowClasses:[],rowEvent:b.itemRowEvent,rendererParams:{}};for(d=0;d<i;d++){e=h[d];if(e.id===a.dimension.id){g=!0}b.storeInfo[c.internalId].rendererParams[e.id]={fn:'recordOutlineRenderer',group:a,hidden:!g}}b.storeInfo[c.internalId].rendererParams.topaxis={fn:'topAxisRenderer',group:a};f.results.push(c)},processGroupCompact:function(c){var d=this,b=c.group,e=c.previousExpanded,a=[];if(b.record){d.processRecordCompact({results:a,group:b})}else {d.processGroupCompactWithChildren({results:a,group:b,previousExpanded:e})}return a},processGroupCompactWithChildren:function(b){var d=this,g=d.getMatrix(),a=b.group,e=b.previousExpanded,f,c,h;f=!a.expanded||a.expanded&&g.rowSubTotalsPosition==='first';d.processGroupHeaderRecordCompact({results:b.results,group:a,record:a.expanded?a.records.expanded:a.records.collapsed,previousExpanded:e,hasSummaryData:f});if(a.expanded){if(a.children){h=a.children.length;for(c=0;c<h;c++){if(a.children[c].children){d.processGroupCompactWithChildren({results:b.results,group:a.children[c]})}else {d.processRecordCompact({results:b.results,group:a.children[c]})}}}if(g.rowSubTotalsPosition==='last'){d.processGroupHeaderRecordCompact({results:b.results,group:a,record:a.records.footer,previousExpanded:e,subtotalRow:!0,hasSummaryData:!0})}}},processGroupHeaderRecordCompact:function(a){var b=this,h=b.getMatrix(),d=a.group,c=a.record,e=a.previousExpanded,g=a.subtotalRow,f=a.hasSummaryData;b.storeInfo[c.internalId]={leftKey:d.key,rowStyle:'',rowClasses:[b.getClsGroupTotal()],rowEvent:b.groupRowEvent,rendererParams:{}};b.storeInfo[c.internalId].rendererParams[h.compactViewKey]={fn:'groupCompactRenderer',group:d,colspan:0,previousExpanded:e,subtotalRow:g};b.storeInfo[c.internalId].rendererParams.topaxis={fn:f?'topAxisRenderer':'topAxisNoRenderer',group:d};a.results.push(c)},processRecordCompact:function(d){var a=this,c=d.group,b=c.record;a.storeInfo[b.internalId]={leftKey:c.key,rowStyle:'',rowClasses:[],rowEvent:a.itemRowEvent,rendererParams:{}};a.storeInfo[b.internalId].rendererParams[a.getMatrix().compactViewKey]={fn:'recordCompactRenderer',group:c};a.storeInfo[b.internalId].rendererParams.topaxis={fn:'topAxisRenderer',group:c};d.results.push(b)},processGroupTabular:function(c){var d=this,b=c.group,a=[];if(b.record){d.processRecordTabular({results:a,group:b})}else {d.processGroupTabularWithChildren({results:a,group:b,previousExpanded:c.previousExpanded})}return a},processGroupTabularWithChildren:function(b,i){var d=this,j=d.getMatrix(),a=b.group,f=b.previousExpanded,g,e,c,h;if(!i){d.processGroupHeaderRecordTabular({results:b.results,group:a,previousExpanded:f,hasSummaryData:!a.expanded})}if(a.expanded){if(a.children){h=a.children.length;for(e=0;e<h;e++){c=a.children[e];if(e===0&&c.children&&c.expanded){d.processGroupTabularWithChildren({results:b.results,group:c},!0)}else if(e>0){if(c.children){d.processGroupTabularWithChildren({results:b.results,group:c})}else {d.processRecordTabular({results:b.results,group:c})}}}}if(j.rowSubTotalsPosition!=='none'){g=a.records.footer;d.processGroupHeaderRecordTabular({results:b.results,group:a,record:g,previousExpanded:f,subtotalRow:!0,hasSummaryData:!0})}}},getTabularGroupRecord:function(b){var a=b.record;if(!a){if(!b.expanded){a=b.records.collapsed}else {a=this.getTabularGroupRecord(b.children[0])}}return a},processGroupHeaderRecordTabular:function(i){var k=this,f=k.getMatrix(),g=i.group,b=i.record,n=i.previousExpanded,o=i.subtotalRow,t=i.hasSummaryData,u=f.leftAxis.dimensions,p=u.length,s=p,m=!1,d={},q=[],r=k.itemRowEvent,h,c,a,j,e,l;if(!b){a=g;b=a.record;while(!b){d[a.dimension.id]={fn:'groupTabularRenderer',group:a,colspan:0,hidden:!1,previousExpanded:n,subtotalRow:o};if(a.children){if(!a.expanded){b=a.records.collapsed;d[a.dimension.id].colspan=p-a.level}else {a=a.children[0]}}else {b=a.record}}m=!1;for(h=0;h<p;h++){c=f.leftAxis.dimensions.items[h];if(d[c.id]){b.data[c.id]=d[c.id].group.name;m=!0}else if(m){d[c.id]={fn:'groupTabularRenderer',group:g,colspan:0,hidden:!0,previousExpanded:n,subtotalRow:o}}else {b.data[c.id]=''}}if(g.level>0){l=g;j=l.key.split(f.keysSeparator);j.length--;e=f.leftAxis.items.getByKey(j.join(f.keysSeparator));while(e&&e.children[0]===l){d[e.dimension.id]={fn:'groupTabularRenderer',group:e,colspan:0,hidden:!1,previousExpanded:n,subtotalRow:o};b.data[e.dimension.id]=e.name;l=e;j=l.key.split(f.keysSeparator);j.length--;e=f.leftAxis.items.getByKey(j.join(f.keysSeparator))}}}else {for(h=0;h<p;h++){c=f.leftAxis.dimensions.items[h];d[c.id]={fn:'groupTabularRenderer',group:g,colspan:0,hidden:!1,previousExpanded:n,subtotalRow:o};if(c.id===g.dimension.id){d[c.id].colspan=s;m=!0}else {d[c.id].hidden=m;s--}}a=g}if(t){q.push(k.getClsGroupTotal());r=k.groupRowEvent}k.storeInfo[b.internalId]={leftKey:g.key,rowStyle:'',rowClasses:q,rowEvent:r,rendererParams:d};k.storeInfo[b.internalId].rendererParams.topaxis={fn:'topAxisRenderer',group:a};i.results.push(b)},processRecordTabular:function(f){var c=this,b=f.group,g=!1,a=b.record,h=c.getMatrix().leftAxis.dimensions.items,i=h.length,e,d;c.storeInfo[a.internalId]={leftKey:b.key,rowStyle:'',rowClasses:[],rowEvent:c.itemRowEvent,rendererParams:{}};for(e=0;e<i;e++){d=h[e];if(d.id===b.dimension.id){g=!0}else {a.data[d.id]=null}c.storeInfo[a.internalId].rendererParams[d.id]={fn:'recordTabularRenderer',group:b,hidden:!g}}c.storeInfo[a.internalId].rendererParams.topaxis={fn:'topAxisRenderer',group:b};f.results.push(a)},doExpandCollapse:function(e,d){var b=this,c=b.getGrid(),a;a=b.getMatrix().leftAxis.findTreeElement('key',e);if(!a){return}b.doExpandCollapseInternal(a.node,d);c.fireEvent(a.node.expanded?'pivotgroupexpand':'pivotgroupcollapse',c,'row',a.node)},doExpandCollapseInternal:function(b,h){var f=this,a=f.getStore(),g=Ext.isClassic,e,c,d;b.expanded=!b.expanded;c=f.processGroup({group:b,previousExpanded:!1});b.expanded=!b.expanded;e=f.processGroup({group:b,previousExpanded:!1});if(e.length&&c.length&&(d=a.indexOf(c[0]))!==-1){a.suspendEvents();if(b.expanded){a.remove(a.getAt(d));a.insert(d,e)}else {a.remove(c);a.insert(d,e)}f.removeStoreInfoData(c);a.resumeEvents();if(g){a.fireEvent('replace',a,d,c,e)}else {a.fireEvent('refresh',a)}}},removeStoreInfoData:function(c){var d=c.length,b,a;for(a=0;a<d;a++){b=c[a];if(this.storeInfo[b.internalId]){delete this.storeInfo[b.internalId]}}},onGroupExpand:function(c,b,a){if(b==='row'){if(a){this.doExpandCollapseInternal(a,a.records.collapsed)}else {this.processStore()}}},onGroupCollapse:function(c,b,a){if(b==='row'){if(a){this.doExpandCollapseInternal(a,a.records.expanded)}else {this.processStore()}}}},1,0,0,0,0,0,[Ext.pivot.feature,'PivotStore'],0);Ext.cmd.derive('Ext.pivot.result.Base',Ext.Base,{leftKey:'',topKey:'',dirty:!1,values:null,matrix:null,constructor:function(b){var a=this;Ext.apply(a,b||{});a.values={};return a.callParent(arguments)},destroy:function(){var a=this;a.matrix=a.values=null;a.leftAxisItem=a.topAxisItem=null;return a.callParent(arguments)},calculate:Ext.emptyFn,calculateByFn:Ext.emptyFn,addValue:function(a,b){this.values[a]=b},getValue:function(a){return this.values[a]},hasValue:function(a){return a in this.values},getLeftAxisItem:function(){return this.matrix.leftAxis.items.getByKey(this.leftKey)},getTopAxisItem:function(){return this.matrix.topAxis.items.getByKey(this.topKey)}},1,0,0,0,['pivotresult.base'],[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.pivot.result,'Base'],0);Ext.cmd.derive('Ext.pivot.result.Collection',Ext.Base,{alternateClassName:['Mz.aggregate.matrix.Results'],resultType:'base',items:null,matrix:null,constructor:function(b){var a=this;Ext.apply(a,b||{});a.items=new Ext.pivot.MixedCollection();a.items.getKey=function(a){return a.leftKey+'/'+a.topKey};return a.callParent(arguments)},destroy:function(){var a=this;Ext.destroy(a.items);a.matrix=a.items=null;a.callParent(arguments)},clear:function(){this.items.clear()},add:function(b,c){var a=this.get(b,c);if(!a){a=this.items.add(Ext.Factory.pivotresult({type:this.resultType,leftKey:b,topKey:c,matrix:this.matrix}))}return a},get:function(a,b){return this.items.getByKey(a+'/'+b)},remove:function(a,b){this.items.removeAtKey(a+'/'+b)},getByLeftKey:function(a){var b=this.items.filterBy(function(d,c){var b=String(c).split('/');return a===b[0]});return b.getRange()},getByTopKey:function(a){var b=this.items.filterBy(function(d,c){var b=String(c).split('/');return b.length>1&&a===b[1]});return b.getRange()},calculate:function(){var b=this.items.getCount(),a;for(a=0;a<b;a++){this.items.getAt(a).calculate()}}},1,0,0,0,0,0,[Ext.pivot.result,'Collection',Mz.aggregate.matrix,'Results'],0);Ext.cmd.derive('Ext.pivot.matrix.Base',Ext.util.Observable,{alternateClassName:['Mz.aggregate.matrix.Abstract'],resultType:'base',leftAxisType:'base',topAxisType:'base',textRowLabels:'Row labels',textTotalTpl:'Total ({name})',textGrandTotalTpl:'Grand total',keysSeparator:'#_#',grandTotalKey:'grandtotal',compactViewKey:'_compactview_',compactViewColumnWidth:200,viewLayoutType:'outline',rowSubTotalsPosition:'first',rowGrandTotalsPosition:'last',colSubTotalsPosition:'last',colGrandTotalsPosition:'last',showZeroAsBlank:!1,calculateAsExcel:!1,leftAxis:null,topAxis:null,aggregate:null,results:null,pivotStore:null,isDestroyed:!1,cmp:null,useNaturalSorting:!1,collapsibleRows:!0,collapsibleColumns:!0,isPivotMatrix:!0,serializeProperties:['viewLayoutType','rowSubTotalsPosition','rowGrandTotalsPosition','colSubTotalsPosition','colGrandTotalsPosition','showZeroAsBlank','collapsibleRows','collapsibleColumns'],constructor:function(a){var b=Ext.util.Observable.prototype.constructor.apply(this,arguments);this.initialize(!0,a);return b},destroy:function(){var a=this;a.delayedTask.cancel();a.delayedTask=null;if(Ext.isFunction(a.onDestroy)){a.onDestroy()}Ext.destroy(a.results,a.leftAxis,a.topAxis,a.aggregate,a.pivotStore);a.results=a.leftAxis=a.topAxis=a.aggregate=a.pivotStore=null;if(Ext.isArray(a.columns)){a.columns.length=0}if(Ext.isArray(a.model)){a.model.length=0}if(Ext.isArray(a.totals)){a.totals.length=0}a.columns=a.model=a.totals=a.keysMap=a.cmp=a.modelInfo=null;a.isDestroyed=!0;Ext.util.Observable.prototype.destroy.apply(this,arguments)},getKey:function(b){var a=this;a.keysMap=a.keysMap||{};if(!Ext.isDefined(a.keysMap[b])){a.keysMap[b]=Ext.id()}return a.keysMap[b]},naturalSort:function(){var d=/(^([+\-]?(?:\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[\da-fA-F]+$|\d+)/g,a=/^\s+|\s+$/g,e=/\s+/g,f=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,c=/^0x[0-9a-f]+$/i,g=/^0/,b=function(b,c){b=b||'';return (!b.match(g)||c===1)&&parseFloat(b)||b.replace(e,' ').replace(a,'')||0};return function(o,p){var q=String(o instanceof Date?o.getTime():o||'').replace(a,''),i=String(p instanceof Date?p.getTime():p||'').replace(a,''),m=q.replace(d,'\x00$1\x00').replace(/\0$/,'').replace(/^\0/,'').split('\x00'),s=i.replace(d,'\x00$1\x00').replace(/\0$/,'').replace(/^\0/,'').split('\x00'),l=parseInt(q.match(c),16)||m.length!==1&&Date.parse(q),n=parseInt(i.match(c),16)||l&&i.match(f)&&Date.parse(i)||null,e,g,h,j,k,r;if(n){if(l<n){return -1}else if(l>n){return 1}}for(h=0,j=m.length,k=s.length,r=Math.max(j,k);h<r;h++){e=b(m[h],j);g=b(s[h],k);if(isNaN(e)!==isNaN(g)){return isNaN(e)?1:-1}else if(typeof e!==typeof g){e+='';g+=''}if(e<g){return -1}if(e>g){return 1}}return 0}}(),initialize:function(d,b){var a=this,e=a.serializeProperties,c;b=b||{};a.initResults();if(d||b.aggregate){a.initAggregates(b.aggregate||[])}if(d||b.leftAxis){a.initLeftAxis(b.leftAxis||[])}if(d||b.topAxis){a.initTopAxis(b.topAxis||[])}for(c=0;c<e.length;c++){if(Ext.isDefined(b[e[c]])){a[e[c]]=b[e[c]]}}a.totals=[];a.modelInfo={};a.keysMap=null;if(!d){if(!a.collapsibleRows){a.leftAxis.expandAll()}if(!a.collapsibleColumns){a.topAxis.expandAll()}}if(d){a.pivotStore=new Ext.data.ArrayStore({autoDestroy:!1,fields:[]});a.delayedTask=new Ext.util.DelayedTask(a.startProcess,a);if(Ext.isFunction(a.onInitialize)){a.onInitialize()}}a.delayedTask.delay(5)},onInitialize:Ext.emptyFn,onDestroy:Ext.emptyFn,reconfigure:function(c){var a=this,b=Ext.clone(c||{});if(a.fireEvent('beforereconfigure',a,b)!==!1){if(Ext.isFunction(a.onReconfigure)){a.onReconfigure(b)}a.fireEvent('reconfigure',a,b);a.initialize(!1,b);a.clearData()}else {a.delayedTask.cancel()}},onReconfigure:Ext.emptyFn,serialize:function(){var a=this,e=a.serializeProperties,f=e.length,b={},c,d;for(c=0;c<f;c++){d=e[c];b[d]=a[d]}b.leftAxis=a.serializeDimensions(a.leftAxis.dimensions);b.topAxis=a.serializeDimensions(a.topAxis.dimensions);b.aggregate=a.serializeDimensions(a.aggregate);return b},serializeDimensions:function(b){var d=b.getCount(),c=[],a;for(a=0;a<d;a++){c.push(b.getAt(a).serialize())}return c},initResults:function(){Ext.destroy(this.results);this.results=new Ext.pivot.result.Collection({resultType:this.resultType,matrix:this})},initAggregates:function(b){var c=this,d,a;Ext.destroy(c.aggregate);c.aggregate=new Ext.pivot.MixedCollection();c.aggregate.getKey=function(a){return a.getId()};if(Ext.isEmpty(b)){return}b=Ext.Array.from(b);for(d=0;d<b.length;d++){a=b[d];if(!a.isInstance){Ext.applyIf(a,{isAggregate:!0,align:'right',showZeroAsBlank:c.showZeroAsBlank});a=new Ext.pivot.dimension.Item(a)}a.matrix=this;c.aggregate.add(a)}},initLeftAxis:function(b){var a=this;b=Ext.Array.from(b||[]);Ext.destroy(a.leftAxis);a.leftAxis=Ext.Factory.pivotaxis({type:a.leftAxisType,matrix:a,dimensions:b,isLeftAxis:!0})},initTopAxis:function(b){var a=this;b=Ext.Array.from(b||[]);Ext.destroy(a.topAxis);a.topAxis=Ext.Factory.pivotaxis({type:a.topAxisType,matrix:a,dimensions:b,isLeftAxis:!1})},clearData:function(){var a=this;a.fireEvent('cleardata',a);a.leftAxis.clear();a.topAxis.clear();a.results.clear();if(Ext.isArray(a.columns)){a.columns.length=0}if(Ext.isArray(a.model)){a.model.length=0}a.totals=[];a.modelInfo={};a.keysMap=null;if(a.pivotStore){a.pivotStore.removeAll(!0)}},startProcess:Ext.emptyFn,endProcess:function(){var a=this;a.leftAxis.getTree();a.topAxis.getTree();a.buildModelAndColumns();a.buildPivotStore();if(Ext.isFunction(a.onBuildStore)){a.onBuildStore(a.pivotStore)}a.fireEvent('storebuilt',a,a.pivotStore);a.fireEvent('done',a)},onBuildModel:Ext.emptyFn,onBuildColumns:Ext.emptyFn,onBuildRecord:Ext.emptyFn,onBuildTotals:Ext.emptyFn,onBuildStore:Ext.emptyFn,buildModelAndColumns:function(){var a=this;a.model=[{name:'id',type:'string'},{name:'isRowGroupHeader',type:'boolean',defaultValue:!1},{name:'isRowGroupTotal',type:'boolean',defaultValue:!1},{name:'isRowGrandTotal',type:'boolean',defaultValue:!1},{name:'leftAxisKey',type:'string',defaultValue:null}];a.internalCounter=0;a.columns=[];if(a.viewLayoutType==='compact'){a.generateCompactLeftAxis()}else {a.leftAxis.dimensions.each(a.parseLeftAxisDimension,a)}if(a.colGrandTotalsPosition==='first'){a.columns.push(a.parseAggregateForColumn(null,{text:a.textGrandTotalTpl,grandTotal:!0}))}Ext.Array.each(a.topAxis.getTree(),a.parseTopAxisItem,a);if(a.colGrandTotalsPosition==='last'){a.columns.push(a.parseAggregateForColumn(null,{text:a.textGrandTotalTpl,grandTotal:!0}))}if(Ext.isFunction(a.onBuildModel)){a.onBuildModel(a.model)}a.fireEvent('modelbuilt',a,a.model);if(Ext.isFunction(a.onBuildColumns)){a.onBuildColumns(a.columns)}a.fireEvent('columnsbuilt',a,a.columns)},getDefaultFieldInfo:function(a){return Ext.apply({isColGroupTotal:!1,isColGrandTotal:!1,leftAxisColumn:!1,topAxisColumn:!1,topAxisKey:null},a)},parseLeftAxisDimension:function(a){var b=this,c=a.getId();b.model.push({name:c,type:'auto'});b.columns.push(Ext.merge({dataIndex:c,text:a.header,dimension:a,leftAxis:!0},a.column));b.modelInfo[c]=b.getDefaultFieldInfo({leftAxisColumn:!0})},generateCompactLeftAxis:function(){var a=this;a.model.push({name:a.compactViewKey,type:'auto'});a.columns.push({dataIndex:a.compactViewKey,text:a.textRowLabels,leftAxis:!0,width:a.compactViewColumnWidth});a.modelInfo[a.compactViewKey]=a.getDefaultFieldInfo({leftAxisColumn:!0})},parseTopAxisItem:function(a){var b=this,d=[],e=[],h,c,i,g,f;if(!a.children){d=b.parseAggregateForColumn(a,null);if(a.level===0){b.columns.push(d)}else {return d}}else {if(b.colSubTotalsPosition==='first'){c=b.addColSummary(a);if(c){e.push(c)}}i=a.children.length;for(g=0;g<i;g++){f=b.parseTopAxisItem(a.children[g]);if(Ext.isArray(f)){Ext.Array.insert(d,d.length,f)}else {d.push(f)}}h={text:a.name,group:a,columns:d,key:a.key,xexpandable:!0,xgrouped:!0};if(a.level===0){b.columns.push(h)}e.push(h);if(b.colSubTotalsPosition==='last'){c=b.addColSummary(a);if(c){e.push(c)}}if(b.colSubTotalsPosition==='none'){c=b.addColSummary(a);if(c){e.push(c)}}return e}},addColSummary:function(a){var c=this,b;b=c.parseAggregateForColumn(a,{text:a.expanded?a.getTextTotal():a.name,group:a,subTotal:!0});if(a.level===0){c.columns.push(b)}Ext.apply(b,{key:a.key,xexpandable:!0,xgrouped:!0});return b},parseAggregateForColumn:function(c,b){var a=this,e=[],d={},h=a.aggregate.getRange(),i=h.length,g,f;for(g=0;g<i;g++){f=h[g];a.internalCounter++;a.model.push({name:'c'+a.internalCounter,type:'auto',defaultValue:undefined,useNull:!0,col:c?c.key:a.grandTotalKey,agg:f.getId()});e.push(Ext.merge({dataIndex:'c'+a.internalCounter,text:f.header,topAxis:!0,subTotal:b?b.subTotal===!0:!1,grandTotal:b?b.grandTotal===!0:!1,dimension:f},f.column));a.modelInfo['c'+a.internalCounter]=a.getDefaultFieldInfo({isColGroupTotal:b?b.subTotal===!0:!1,isColGrandTotal:b?b.grandTotal===!0:!1,topAxisColumn:!0,topAxisKey:c?c.key:a.grandTotalKey})}if(e.length===0&&a.aggregate.getCount()===0){a.internalCounter++;d=Ext.apply({text:c?c.name:'',dataIndex:'c'+a.internalCounter},b||{})}else if(e.length===1){d=Ext.applyIf({text:c?c.name:''},e[0]);Ext.apply(d,b||{});if(b&&b.grandTotal&&a.aggregate.getCount()===1){d.text=a.aggregate.getAt(0).header||b.text}}else {d=Ext.apply({text:c?c.name:'',columns:e},b||{})}return d},buildPivotStore:function(){var a=this;if(Ext.isFunction(a.pivotStore.model.setFields)){a.pivotStore.model.setFields(a.model)}else {a.pivotStore.model.replaceFields(a.model,!0)}a.pivotStore.removeAll(!0);Ext.Array.each(a.leftAxis.getTree(),a.addRecordToPivotStore,a);a.addGrandTotalsToPivotStore()},addGrandTotalsToPivotStore:function(){var a=this,c=[],e,d,b;c.push({title:a.textGrandTotalTpl,values:a.preparePivotStoreRecordData({key:a.grandTotalKey},{isRowGrandTotal:!0})});if(Ext.isFunction(a.onBuildTotals)){a.onBuildTotals(c)}a.fireEvent('buildtotals',a,c);e=c.length;for(d=0;d<e;d++){b=c[d];if(Ext.isObject(b)&&Ext.isObject(b.values)){Ext.applyIf(b.values,{isRowGrandTotal:!0});a.totals.push({title:b.title||'',record:a.pivotStore.add(b.values)[0]})}}},addRecordToPivotStore:function(b){var a=this,c,d;if(!b.children){c=a.pivotStore.add(a.preparePivotStoreRecordData(b))[0];b.record=c;if(Ext.isFunction(a.onBuildRecord)){a.onBuildRecord(c,b)}a.fireEvent('recordbuilt',a,c,b)}else {b.records={};d=a.viewLayoutType==='compact'?a.compactViewKey:b.dimensionId;b.records.collapsed=a.pivotStore.add(a.preparePivotStoreRecordData(b,{isRowGroupHeader:!0,isRowGroupTotal:!0}))[0];if(a.rowSubTotalsPosition==='first'&&a.viewLayoutType!=='tabular'){b.records.expanded=a.pivotStore.add(a.preparePivotStoreRecordData(b,{isRowGroupHeader:!0}))[0]}else {c={};c=a.preparePivotStoreRecordData(b,{isRowGroupHeader:!0});c[d]=b.name;b.records.expanded=a.pivotStore.add(c)[0];if(a.rowSubTotalsPosition==='last'||a.viewLayoutType==='tabular'){c=a.preparePivotStoreRecordData(b,{isRowGroupTotal:!0});c[d]=b.getTextTotal();b.records.footer=a.pivotStore.add(c)[0]}}Ext.Array.each(b.children,a.addRecordToPivotStore,a)}},preparePivotStoreRecordData:function(a,g){var d=this,c={},h=d.model.length,e,b,f;if(a){if(a.dimensionId){c[a.dimensionId]=a.name}c.leftAxisKey=a.key;for(e=0;e<h;e++){b=d.model[e];if(b.col&&b.agg){f=d.results.items.map[a.key+'/'+b.col];c[b.name]=f?f.values[b.agg]:null}}if(d.viewLayoutType==='compact'){c[d.compactViewKey]=a.name}}return Ext.applyIf(c,g)},getColumns:function(){return this.model},getColumnHeaders:function(){var a=this;if(!a.model){a.buildModelAndColumns()}return a.columns},isGroupRow:function(b){var a=this.leftAxis.findTreeElement('key',b);if(!a){return !1}return a.node.children&&a.node.children.length===0?0:a.level},isGroupCol:function(b){var a=this.topAxis.findTreeElement('key',b);if(!a){return !1}return a.node.children&&a.node.children.length===0?0:a.level},deprecated:{'6.0':{properties:{mztype:'type',mztypeLeftAxis:'leftAxisType',mztypeTopAxis:'topAxisType'}}}},1,0,0,0,['pivotmatrix.base'],[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.pivot.matrix,'Base',Mz.aggregate.matrix,'Abstract'],0);Ext.cmd.derive('Ext.pivot.result.Local',Ext.pivot.result.Base,{alternateClassName:['Mz.aggregate.matrix.Result'],records:null,constructor:function(a){this.records=[];return Ext.pivot.result.Base.prototype.constructor.apply(this,arguments)},destroy:function(){this.records.length=0;this.records=null;return Ext.pivot.result.Base.prototype.destroy.apply(this,arguments)},calculate:function(){var a=this,c,b,d=a.matrix.aggregate.getCount();for(c=0;c<d;c++){b=a.matrix.aggregate.getAt(c);a.addValue(b.getId(),Ext.callback(b.aggregatorFn,b.getScope()||'self.controller',[a.records,b.dataIndex,a.matrix,a.leftKey,a.topKey],0,a.matrix.cmp))}},calculateByFn:function(e,d,b){var a=this,c;if(Ext.isString(b)){b=Ext.pivot.Aggregators[b]}c=b(a.records,d,a.matrix,a.leftKey,a.topKey);a.addValue(e,c);return c},addRecord:function(a){this.records.push(a)},removeRecord:function(a){Ext.Array.remove(this.records,a)}},1,0,0,0,['pivotresult.local'],0,[Ext.pivot.result,'Local',Mz.aggregate.matrix,'Result'],0);Ext.cmd.derive('Ext.pivot.matrix.Local',Ext.pivot.matrix.Base,{alternateClassName:['Mz.aggregate.matrix.Local'],isLocalMatrix:!0,resultType:'local',leftAxisType:'local',topAxisType:'local',store:null,recordsPerJob:1000,timeBetweenJobs:2,onInitialize:function(){var a=this;a.localDelayedTask=new Ext.util.DelayedTask(a.delayedProcess,a);a.storeCleanDelayedTask=new Ext.util.DelayedTask(a.onOriginalStoreCleanDelayed,a);a.storeChangedDelayedTask=new Ext.util.DelayedTask(a.onOriginalStoreChangedDelayed,a);a.initializeStore({store:a.store});Ext.pivot.matrix.Base.prototype.onInitialize.apply(this,arguments)},initializeStore:function(d){var a=this,b,c;a.processedRecords={};if(d.store){c=d.store}else {if(a.store){if(a.store.isStore&&!a.storeListeners){b=a.store}else {c=a.store}}}if(c){b=Ext.getStore(c||'');if(Ext.isEmpty(b)&&Ext.isString(c)){b=Ext.create(c)}}if(b&&b.isStore){Ext.destroy(a.storeListeners);if(a.store&&a.store.autoDestroy&&b!==a.store){Ext.destroy(a.store)}a.store=b;a.storeListeners=a.store.on({refresh:a.startProcess,beforeload:a.onOriginalStoreBeforeLoad,add:a.onOriginalStoreAdd,update:a.onOriginalStoreUpdate,remove:a.onOriginalStoreRemove,commit:a.onOriginalStoreClean,reject:a.onOriginalStoreClean,clear:a.startProcess,scope:a,destroyable:!0});if(b.isLoaded()){a.startProcess()}}},onReconfigure:function(a){this.initializeStore(a);Ext.pivot.matrix.Base.prototype.onReconfigure.apply(this,arguments)},onDestroy:function(){var a=this;a.localDelayedTask.cancel();a.localDelayedTask=null;a.storeCleanDelayedTask.cancel();a.storeCleanDelayedTask=null;a.storeChangedDelayedTask.cancel();a.storeChangedDelayedTask=null;if(Ext.isArray(a.records)){a.records.length=0}a.records=a.changedRecords=null;Ext.destroy(a.storeListeners);if(a.store&&a.store.isStore&&a.store.autoDestroy){Ext.destroy(a.store)}a.store=a.storeListeners=a.processedRecords=null;Ext.pivot.matrix.Base.prototype.onDestroy.apply(this,arguments)},onOriginalStoreBeforeLoad:function(a){this.fireEvent('start',this)},createStoreChangesQueue:function(){var a=this;a.changedRecords=a.changedRecords||{};a.changedRecords.add=a.changedRecords.add||[];a.changedRecords.update=a.changedRecords.update||[];a.changedRecords.remove=a.changedRecords.remove||[]},dropStoreChangesQueue:function(){var a=this;if(a.changedRecords){a.changedRecords.add.length=0;a.changedRecords.update.length=0;a.changedRecords.remove.length=0}},onOriginalStoreAdd:function(c,b){var a=this;a.createStoreChangesQueue();Ext.Array.insert(a.changedRecords.add,a.changedRecords.add.length,b);a.storeChangedDelayedTask.delay(100)},onOriginalStoreUpdate:function(c,b){var a=this;a.createStoreChangesQueue();if(Ext.Array.indexOf(a.changedRecords.add,b)<0){Ext.Array.insert(a.changedRecords.update,a.changedRecords.update.length,[b])}a.storeChangedDelayedTask.delay(100)},onOriginalStoreRemove:function(g,c,f,d){var a=this,e=c.length,b;if(d){return}a.createStoreChangesQueue();for(b=0;b<e;b++){Ext.Array.remove(a.changedRecords.update,c[b]);Ext.Array.remove(a.changedRecords.add,c[b])}Ext.Array.insert(a.changedRecords.remove,a.changedRecords.remove.length,c);a.storeChangedDelayedTask.delay(100)},onOriginalStoreChangedDelayed:function(){var a=this,b=a.changedRecords;if(a.isDestroyed){return}a.storeChanged=!!(b.add.length||b.update.length||b.remove.length);if(a.storeChanged){a.onOriginalStoreAddDelayed();a.onOriginalStoreUpdateDelayed();a.onOriginalStoreRemoveDelayed()}},onOriginalStoreAddDelayed:function(){var c=this,g=[],f=!1,d,b,e,h,a;e=c.changedRecords.add;d=e.length;if(!d){return}for(b=0;b<d;b++){h=e[b];c.processRecord(h,b,d);a=c.processedRecords[h.internalId];f=f||a.left.length||a.top.length;if(a.left.length){Ext.Array.insert(g,g.length,a.left)}}e.length=0;if(f){c.leftAxis.rebuildTree();c.topAxis.rebuildTree()}d=g.length;if(d){for(b=0;b<d;b++){a=g[b];if(a.children&&!a.records||!a.children&&!a.record){c.addRecordToPivotStore(a)}}}c.recalculateResults(c.store,e,f)},onOriginalStoreUpdateDelayed:function(){var a=this,i=[],h=!1,c,b,f,g,d,j,e,k,l;f=a.changedRecords.update;c=f.length;if(!c){return}for(b=0;b<c;b++){g=f[b];j=a.processedRecords[g.internalId];a.removeRecordFromResults(g);a.processRecord(g,b,c);e=a.processedRecords[g.internalId];if(j&&e){k=Ext.Array.equals(j.left,e.left);l=Ext.Array.equals(j.top,e.top);h=h||!k||!l;if(!k){Ext.Array.insert(i,i.length,e.left)}}}f.length=0;if(h){a.leftAxis.rebuildTree();a.topAxis.rebuildTree()}c=i.length;for(b=0;b<c;b++){d=i[b];if(d.children&&!d.records||!d.children&&!d.record){a.addRecordToPivotStore(d)}}a.recalculateResults(a.store,f,h)},onOriginalStoreRemoveDelayed:function(){var a=this,e,d,b,c;b=a.changedRecords.remove;e=b.length;if(!e){return}for(d=0;d<e;d++){c=a.removeRecordFromResults(b[d])||c}b.length=0;if(c){a.leftAxis.rebuildTree();a.topAxis.rebuildTree()}a.recalculateResults(a.store,b,c)},onOriginalStoreClean:function(){var a=this;if(a.localDelayedTask.id){a.dropStoreChangesQueue();a.storeChanged=!1}else {a.storeCleanDelayedTask.delay(100)}},onOriginalStoreCleanDelayed:function(){var a=this,c,d,b;if(a.isDestroyed){return}c=a.pivotStore.getRange();d=c.length;for(b=0;b<d;b++){c[b].commit(!0)}a.storeChanged=!1;a.fireEvent('afterupdate',a,!1)},removeRecordFromResults:function(g){var b=this,c=b.processedRecords[g.internalId],e=b.grandTotalKey,i=!1,a,f,d,h,j,k;if(!c){return i}a=b.results.get(e,e);if(a){a.removeRecord(g);if(a.records.length===0){b.results.remove(e,e)}}j=c.top.length;for(d=0;d<j;d++){f=c.top[d];a=b.results.get(e,f.key);if(a){a.removeRecord(g);if(a.records.length===0){b.results.remove(e,f.key);b.topAxis.items.remove(f);i=!0}}}j=c.left.length;for(d=0;d<j;d++){f=c.left[d];a=b.results.get(f.key,e);if(a){a.removeRecord(g);if(a.records.length===0){b.results.remove(f.key,e);b.leftAxis.items.remove(f);i=!0}}k=c.top.length;for(h=0;h<k;h++){a=b.results.get(c.left[d].key,c.top[h].key);if(a){a.removeRecord(g);if(a.records.length===0){b.results.remove(c.left[d].key,c.top[h].key)}}}}return i},recalculateResults:function(d,c,b){var a=this;a.fireEvent('beforeupdate',a,b);a.buildModelAndColumns();a.results.calculate();Ext.Array.each(a.leftAxis.getTree(),a.updateRecordToPivotStore,a);a.updateGrandTotalsToPivotStore();a.fireEvent('afterupdate',a,b)},updateGrandTotalsToPivotStore:function(){var a=this,c=[],b;if(a.totals.length<=0){return}c.push({title:a.textGrandTotalTpl,values:a.preparePivotStoreRecordData({key:a.grandTotalKey})});if(Ext.isFunction(a.onBuildTotals)){a.onBuildTotals(c)}a.fireEvent('buildtotals',a,c);if(a.totals.length===c.length){for(b=0;b<a.totals.length;b++){if(Ext.isObject(c[b])&&Ext.isObject(c[b].values)&&a.totals[b].record instanceof Ext.data.Model){delete c[b].values.id;a.totals[b].record.set(c[b].values)}}}},updateRecordToPivotStore:function(a){var c=this,d,b;if(!a.children){if(a.record){b=c.preparePivotStoreRecordData(a);delete b.id;a.record.set(b)}}else {if(a.records){d=c.viewLayoutType==='compact'?c.compactViewKey:a.dimensionId;b=c.preparePivotStoreRecordData(a);delete b.id;delete b[d];a.records.collapsed.set(b);if(a.records.expanded){a.records.expanded.set(b)}if(a.records.footer){a.records.footer.set(b)}}Ext.Array.each(a.children,c.updateRecordToPivotStore,c)}},startProcess:function(){var a=this;if(!a.store||a.store&&!a.store.isStore||a.isDestroyed||a.store.isLoading()){return}a.dropStoreChangesQueue();a.clearData();a.localDelayedTask.delay(50)},delayedProcess:function(){var a=this;if(a.isDestroyed){return}a.fireEvent('start',a);a.records=a.store.getRange();if(a.records.length===0){a.endProcess();return}a.statusInProgress=!1;a.processRecords(0)},processRecords:function(d){var a=this,b=d,c;if(a.isDestroyed){return}c=a.records.length;a.statusInProgress=!0;while(b<c&&b<d+a.recordsPerJob&&a.statusInProgress){a.processRecord(a.records[b],b,c);b++}if(b>=c){a.statusInProgress=!1;a.results.calculate();a.leftAxis.buildTree();a.topAxis.buildTree();if(a.filterApplied){a.results.calculate()}a.records=null;a.endProcess();return}if(a.statusInProgress&&c>0){Ext.defer(a.processRecords,a.timeBetweenJobs,a,[b])}},processRecord:function(d,l,m){var a=this,f=a.grandTotalKey,g,e,c,h,j,k,i,b;a.processedRecords[d.internalId]=i={left:[],top:[]};g=a.leftAxis.processRecord(d);e=a.topAxis.processRecord(d);if(g&&e){a.results.add(f,f).addRecord(d);j=e.length;for(c=0;c<j;c++){b=e[c];a.topAxis.addItem(b);i.top.push(a.topAxis.items.map[b.key]);a.results.add(f,b.key).addRecord(d)}k=g.length;for(c=0;c<k;c++){b=g[c];a.leftAxis.addItem(b);i.left.push(a.leftAxis.items.map[b.key]);a.results.add(b.key,f).addRecord(d);for(h=0;h<j;h++){a.results.add(b.key,e[h].key).addRecord(d)}}}a.fireEvent('progress',a,l+1,m)},getRecordsByRowGroup:function(e){var c=this.results.getByLeftKey(e),d=c.length,b=[],a;for(a=0;a<d;a++){Ext.Array.insert(b,b.length,c[a].records||[])}return b},getRecordsByColGroup:function(e){var c=this.results.getByTopKey(e),d=c.length,b=[],a;for(a=0;a<d;a++){Ext.Array.insert(b,b.length,c[a].records||[])}return b},getRecordsByGroups:function(c,b){var a=this.results.get(c,b);return a?a.records||[]:[]}},0,0,0,0,['pivotmatrix.local'],0,[Ext.pivot.matrix,'Local',Mz.aggregate.matrix,'Local'],0);Ext.cmd.derive('Ext.pivot.matrix.Remote',Ext.pivot.matrix.Base,{alternateClassName:['Mz.aggregate.matrix.Remote'],isRemoteMatrix:!0,url:'',timeout:3000,onBeforeRequest:Ext.emptyFn,onRequestException:Ext.emptyFn,onInitialize:function(){var a=this;a.remoteDelayedTask=new Ext.util.DelayedTask(a.delayedProcess,a);Ext.pivot.matrix.Base.prototype.onInitialize.apply(this,arguments)},onDestroy:function(){this.remoteDelayedTask.cancel();this.remoteDelayedTask=null;Ext.pivot.matrix.Base.prototype.onDestroy.call(this)},startProcess:function(){var a=this;if(Ext.isEmpty(a.url)){return}a.clearData();a.fireEvent('start',a);a.statusInProgress=!1;a.remoteDelayedTask.delay(5)},delayedProcess:function(){var a=this,d=a.serialize(),c,b;b={keysSeparator:a.keysSeparator,grandTotalKey:a.grandTotalKey,leftAxis:d.leftAxis,topAxis:d.topAxis,aggregate:d.aggregate};c=a.fireEvent('beforerequest',a,b);if(c!==!1){if(Ext.isFunction(a.onBeforeRequest)){c=a.onBeforeRequest(b)}}if(c===!1){a.endProcess()}else {Ext.Ajax.request({url:a.url,timeout:a.timeout,jsonData:b,callback:a.processRemoteResults,scope:a})}},processRemoteResults:function(k,j,g){var d=this,i=!j,f=Ext.JSON.decode(g.responseText,!0),c,b,e,a,h;if(j){i=!f||!f.success}if(i){d.fireEvent('requestexception',d,g);if(Ext.isFunction(d.onRequestException)){d.onRequestException(g)}d.endProcess();return}c=Ext.Array.from(f.leftAxis||[]);e=c.length;for(a=0;a<e;a++){b=c[a];if(Ext.isObject(b)){d.leftAxis.addItem(b)}}c=Ext.Array.from(f.topAxis||[]);e=c.length;for(a=0;a<e;a++){b=c[a];if(Ext.isObject(b)){d.topAxis.addItem(b)}}c=Ext.Array.from(f.results||[]);e=c.length;for(a=0;a<e;a++){b=c[a];if(Ext.isObject(b)){h=d.results.add(b.leftKey||'',b.topKey||'');Ext.Object.each(b.values||{},h.addValue,h)}}d.endProcess()}},0,0,0,0,['pivotmatrix.remote'],0,[Ext.pivot.matrix,'Remote',Mz.aggregate.matrix,'Remote'],0);Ext.cmd.derive('Ext.pivot.plugin.Exporter',Ext.exporter.Plugin,{alternateClassName:['Mz.pivot.plugin.ExcelExport'],lockableScope:'top',init:function(a){var b=this;return Ext.exporter.Plugin.prototype.init.call(this,a)},prepareData:function(i){var a=this,b,c,h,m,j,f,g,n,k,d,l,e;a.matrix=b=a.cmp.getMatrix();a.onlyExpandedNodes=i&&i.onlyExpandedNodes;if(!a.onlyExpandedNodes){a.setColumnsExpanded(b.topAxis.getTree(),!0)}h=Ext.clone(b.getColumnHeaders());m=a.getColumnHeaders(h,i);d=a.getDataIndexColumns(h);if(!a.onlyExpandedNodes){a.setColumnsExpanded(b.topAxis.getTree())}c={columns:m,groups:[]};a.extractGroups(c,b.leftAxis.getTree(),d);k=b.totals.length;n=d.length;if(k){c.summaries=[];for(f=0;f<k;f++){j=b.totals[f];l={cells:[{value:j.title}]};for(g=1;g<n;g++){e=j.record.data[d[g].dataIndex];l.cells.push({value:(e==null||e===0)&&b.showZeroAsBlank?'':e})}c.summaries.push(l)}}a.matrix=a.onlyExpandedNodes=null;return new Ext.exporter.data.Table(c)},setColumnsExpanded:function(b,c){var a;for(a=0;a<b.length;a++){if(Ext.isDefined(c)){b[a].backupExpanded=b[a].expanded;b[a].expanded=c}else {b[a].expanded=b[a].backupExpanded;b[a].backupExpanded=null}if(b[a].children){this.setColumnsExpanded(b[a].children,c)}}},getColumnHeaders:function(e,f){var g=[],h=e.length,c,b,a,d;for(c=0;c<h;c++){a=e[c];d=this.onlyExpandedNodes?!a.group||a.group.expanded||!a.group.expanded&&a.subTotal:!0;if(d){b={text:a.subTotal&&a.group&&a.group.expanded?a.group.getTextTotal():a.text};if(a.columns){b.columns=this.getColumnHeaders(a.columns,f)}else {b.width=a.dimension?a.dimension.getWidth():a.width||100;b.style=a.dimension?this.getExportStyle(a.dimension.getExportStyle(),f):null}g.push(b)}}return g},getDataIndexColumns:function(e){var b=[],c,a,d;for(c=0;c<e.length;c++){a=e[c];d=this.onlyExpandedNodes?!a.group||a.group.expanded||!a.group.expanded&&a.subTotal:!0;if(d){if(a.dataIndex){b.push({dataIndex:a.dataIndex,agg:a.dimension?a.dimension.getId():null})}else if(a.columns){Ext.Array.insert(b,b.length,this.getDataIndexColumns(a.columns))}}}return b},extractGroups:function(e,l,g){var i,c,n,m,j,a,h,f,k,b,d;n=l.length;for(i=0;i<n;i++){a=l[i];if(a.record){e.rows=e.rows||[];d=[];h={cells:d};for(c=0;c<g.length;c++){b=a.record.data[g[c].dataIndex];d.push({value:(b==null||b===0)&&this.matrix.showZeroAsBlank?'':b})}e.rows.push(h)}else if(a.children){e.groups=e.groups||[];f={text:a.name};j=this.onlyExpandedNodes?a.expanded:!0;if(j){this.extractGroups(f,a.children,g)}f.summaries=[];d=[{value:j?a.getTextTotal():a.value}];h={cells:d};k=a.expanded?a.records.expanded:a.records.collapsed;m=g.length;for(c=1;c<m;c++){b=k.data[g[c].dataIndex];d.push({value:(b==null||b===0)&&this.matrix.showZeroAsBlank?'':b})}f.summaries.push(h);e.groups.push(f)}}}},0,0,0,0,['plugin.mzexcelexport','plugin.pivotexporter'],0,[Ext.pivot.plugin,'Exporter',Mz.pivot.plugin,'ExcelExport'],0);Ext.cmd.derive('Ext.pivot.plugin.configurator.FieldSettings',Ext.Base,{$configStrict:!1,config:{cls:'',style:null,fixed:[],allowed:['leftAxis','topAxis','aggregate'],aggregators:['sum','avg','min','max','count','countNumbers','groupSumPercentage','groupCountPercentage','variance','varianceP','stdDev','stdDevP'],renderers:{},formatters:{}},isFieldSettings:!0,constructor:function(a){this.initConfig(a||{});return this.callParent(arguments)},getDefaultEmptyArray:function(b){var a=this['_'+b];if(!a){a=[];this['set'+Ext.String.capitalize(b)](a)}return a},applyArrayValues:function(c,a,b){if(a==null||a&&Ext.isArray(a)){return a}if(a){if(!b){b=this['get'+Ext.String.capitalize(c)]()}Ext.Array.splice(b,0,b.length,a)}return b},getFixed:function(){return this.getDefaultEmptyArray('fixed')},applyFixed:function(a,b){return this.applyArrayValues('fixed',a,b)},getAllowed:function(){return this.getDefaultEmptyArray('allowed')},applyAllowed:function(a,b){return this.applyArrayValues('allowed',a,b)},getAggregators:function(){return this.getDefaultEmptyArray('aggregators')},applyAggregators:function(a,b){return this.applyArrayValues('aggregators',a,b)},isFixed:function(a){var b;if(!a){return !1}b=a.getFieldType();return Ext.Array.indexOf(this.getFixed(),b)>=0},isAllowed:function(b){var c=this.getFixed(),a;if(!b){return !1}a=b.getFieldType();if(c.length){return Ext.Array.indexOf(c,a)>=0}return a==='all'||Ext.Array.indexOf(this.getAllowed(),a)>=0}},1,0,0,0,0,0,[Ext.pivot.plugin.configurator,'FieldSettings'],0);Ext.cmd.derive('Ext.pivot.plugin.configurator.Field',Ext.pivot.dimension.Item,{config:{editor:null,settings:{}},isField:!0,clone:function(){return new Ext.pivot.plugin.configurator.Field(Ext.applyIf({id:Ext.id()},this.getInitialConfig()))},getConfiguration:function(b){var a=Ext.pivot.dimension.Item.prototype.getConfiguration.call(this,b);if(a.settings){a.settings=a.settings.getConfig()}return a},updateAggregator:function(b,d){var a,c;Ext.pivot.dimension.Item.prototype.updateAggregator.call(this,b,d);if(b){a=this.getSettings();c=a.getAggregators();if(c.length===0){Ext.Array.remove(a.getAllowed(),'aggregate')}else {Ext.Array.include(c,b)}}},getSettings:function(){var a=this.settings;if(!a){a=new Ext.pivot.plugin.configurator.FieldSettings({});this.setSettings(a)}return a},applySettings:function(a,b){if(a==null||a&&a.isFieldSettings){return a}if(a){if(!b){b=this.getSettings()}b.setConfig(a)}if(b){this.setAggregator(this.getAggregator())}return b},getFieldText:function(){var a=this.getHeader();if(this.isAggregate){a+=' ('+this.getAggText()+')'}return a},getAggText:function(c){var a=Ext.pivot.Aggregators,b=c||this.getAggregator();if(Ext.isFunction(b)){return a.customText}return a[b+'Text']||a.customText}},0,0,0,0,0,0,[Ext.pivot.plugin.configurator,'Field'],0);Ext.cmd.derive('Ext.pivot.cell.Cell',Ext.grid.cell.Cell,{config:{eventCell:!0,collapsible:null},outlineGroupHeaderCls:'x-pivot-grid-group-header-outline',outlineCellHiddenCls:'x-pivot-grid-outline-cell-hidden',outlineCellGroupExpandedCls:'x-pivot-grid-outline-cell-previous-expanded',compactGroupHeaderCls:'x-pivot-grid-group-header-compact',compactLayoutPadding:25,tabularGroupHeaderCls:'x-pivot-grid-group-header-tabular',encodeHtml:!1,onRender:function(){var a=this,b=a.dataIndex,d=a.getViewModel(),e=a.getRecord(),c;(arguments.callee.$previous||Ext.grid.cell.Cell.prototype.onRender).call(this);if(d&&b){c=a.row.getGrid().getMatrix();d.setData({column:c.modelInfo[b]||{},value:a.getValue(),record:e})}},handleEvent:function(n,p){var c=this,j=c.row,f=j.getGrid(),m=c.getRecord(),d={grid:f},g,h,o,i,k,e,l,a,b;if(!m){return}h=j.getEventName()||'';g=j.getRecordInfo(m);l=f.getMatrix();i=c.getColumn();a=g.rendererParams[i._dataIndex];if(!a){a=g.rendererParams.topaxis}a=a?a.group:null;k=a?a.key:g.leftKey;Ext.apply(d,{cell:c,leftKey:k,leftItem:a,column:i});if(c.getEventCell()){h+='cell';e=f.getTopAxisKey(d.column);d.topKey=e;if(e){b=l.topAxis.findTreeElement('key',e);b=b?b.node:null;if(b){Ext.apply(d,{topItem:b,dimensionId:b.dimensionId})}}}o=f.fireEvent(h+n,d,p);if(o!==!1&&n==='tap'&&c.getCollapsible()){if(a.expanded){a.collapse()}else {a.expand()}}return !1},updateRecord:function(a,c){var b=this.getViewModel();Ext.grid.cell.Cell.prototype.updateRecord.call(this,a,c);if(b){b.setData({value:this.getValue(),record:a})}}},0,['pivotgridcell'],['widget','gridcellbase','textcell','gridcell','pivotgridcell'],{'widget':!0,'gridcellbase':!0,'textcell':!0,'gridcell':!0,'pivotgridcell':!0},['widget.pivotgridcell'],0,[Ext.pivot.cell,'Cell'],0);Ext.cmd.derive('Ext.pivot.cell.Group',Ext.pivot.cell.Cell,{config:{innerGroupStyle:null,innerGroupCls:null,userGroupStyle:null,userGroupCls:null},innerTemplate:[{reference:'iconElement',classList:['x-pivot-grid-group-icon','x-font-icon']},{reference:'groupElement',classList:['x-pivot-grid-group-title']}],groupCls:'x-pivot-grid-group',groupHeaderCls:'x-pivot-grid-group-header',groupHeaderCollapsibleCls:'x-pivot-grid-group-header-collapsible',groupHeaderCollapsedCls:'x-pivot-grid-group-header-collapsed',updateCellCls:function(a,d){var b=this,c=typeof a==='string'?a.split(' '):Ext.Array.from(a);Ext.pivot.cell.Cell.prototype.updateCellCls.call(this,a,d);b.setEventCell(c.indexOf(b.groupHeaderCls)<0);b.setCollapsible(c.indexOf(b.groupHeaderCollapsibleCls)>=0)},updateInnerGroupStyle:function(a){this.groupElement.applyStyles(a)},updateInnerGroupCls:function(b,a){this.groupElement.replaceCls(a,b)},updateUserGroupStyle:function(a){this.groupElement.applyStyles(a)},updateUserGroupCls:function(b,a){this.groupElement.replaceCls(a,b)},updateRawValue:function(a){var c=this.groupElement.dom,b=a==null?'':a;if(this.getEncodeHtml()){c.textContent=b}else {c.innerHTML=b}},updateRecord:function(e,d){var b=this,a=b.row.getRecordInfo(),c=b.dataIndex;if(a&&c){a=a.rendererParams[c];if(a&&b[a.fn]){b[a.fn](a,b.row.getGrid())}else {b.setCellCls('')}}Ext.pivot.cell.Cell.prototype.updateRecord.call(this,e,d)},groupOutlineRenderer:function(c,e){var a=this,b='',d=c.group;if(e.getMatrix().viewLayoutType==='compact'){a.bodyElement.setStyle(e.isRTL()?'padding-right':'padding-left','0')}if(c.colspan>0){b+=a.groupHeaderCls+' '+a.outlineGroupHeaderCls;if(!c.subtotalRow){if(d&&d.children&&d.axis.matrix.collapsibleRows){b+=' '+a.groupHeaderCollapsibleCls;if(!c.group.expanded){b+=' '+a.groupHeaderCollapsedCls}}if(c.previousExpanded){b+=' '+a.outlineCellGroupExpandedCls}}a.setCellCls(b);a.setInnerGroupCls(a.groupCls);return}a.setCellCls(a.outlineCellHiddenCls)},recordOutlineRenderer:function(b,c){var a=this;if(b.hidden){a.setCellCls(a.outlineCellHiddenCls);return}a.setCellCls(a.groupHeaderCls)},groupCompactRenderer:function(c,e){var a=this,b='',d=c.group;a.bodyElement.setStyle(e.isRTL()?'padding-right':'padding-left',a.compactLayoutPadding*d.level+'px');b+=a.groupHeaderCls+' '+a.compactGroupHeaderCls;if(!c.subtotalRow){if(d&&d.children&&d.axis.matrix.collapsibleRows){b+=' '+a.groupHeaderCollapsibleCls;if(!c.group.expanded){b+=' '+a.groupHeaderCollapsedCls}}if(c.previousExpanded){b+=' '+a.outlineCellGroupExpandedCls}}a.setCellCls(b);a.setInnerGroupCls(a.groupCls)},recordCompactRenderer:function(b,c){var a=this;a.bodyElement.setStyle(c.isRTL()?'padding-right':'padding-left',a.compactLayoutPadding*b.group.level+'px');a.setCellCls(a.groupHeaderCls+' '+a.compactGroupHeaderCls)},groupTabularRenderer:function(d,e){var a=this,b='',c=d.group;b+=a.groupHeaderCls+' '+a.tabularGroupHeaderCls;if(!d.subtotalRow&&!d.hidden){if(c&&c.children&&c.axis.matrix.collapsibleRows){b+=' '+a.groupHeaderCollapsibleCls;if(!c.expanded){b+=' '+a.groupHeaderCollapsedCls}}}a.setCellCls(b);a.setInnerGroupCls(a.groupCls)},recordTabularRenderer:function(b){var a=this;if(b.hidden){a.setCellCls(a.outlineCellHiddenCls);return}a.setCellCls(a.groupHeaderCls)}},0,['pivotgridgroupcell'],['widget','gridcellbase','textcell','gridcell','pivotgridcell','pivotgridgroupcell'],{'widget':!0,'gridcellbase':!0,'textcell':!0,'gridcell':!0,'pivotgridcell':!0,'pivotgridgroupcell':!0},['widget.pivotgridgroupcell'],0,[Ext.pivot.cell,'Group'],0);Ext.cmd.derive('Ext.pivot.Row',Ext.grid.Row,{config:{recordInfo:null,rowCls:null,eventName:null},summaryDataCls:'x-pivot-summary-data',summaryRowCls:'x-pivot-grid-group-total',grandSummaryRowCls:'x-pivot-grid-grand-total',onRender:function(){var a;(arguments.callee.$previous||Ext.grid.Row.prototype.onRender).call(this);a=this.getViewModel();if(a){a.set('columns',this.getRefOwner().getMatrix().modelInfo)}},destroy:function(){this.setRecordInfo(null);Ext.grid.Row.prototype.destroy.call(this)},updateRecord:function(c,d){var a=this,b;if(a.destroying||a.destroyed){return}b=a.getRefOwner().getRecordInfo(c);a.setRecordInfo(b);if(b){a.setRowCls(b.rowClasses);a.setEventName(b.rowEvent)}Ext.grid.Row.prototype.updateRecord.call(this,c,d)}},0,['pivotgridrow'],['widget','component','gridrow','pivotgridrow'],{'widget':!0,'component':!0,'gridrow':!0,'pivotgridrow':!0},['widget.pivotgridrow'],0,[Ext.pivot,'Row'],0);Ext.cmd.derive('Ext.pivot.Grid',Ext.grid.Grid,{isPivotGrid:!0,isPivotComponent:!0,enableLoadMask:!0,enableColumnSort:!0,startRowGroupsCollapsed:!0,startColGroupsCollapsed:!0,cellSelector:'.x-gridcell',clsGroupTotal:'x-pivot-grid-group-total',clsGrandTotal:'x-pivot-grid-grand-total',groupHeaderCollapsedCls:'x-pivot-grid-group-header-collapsed',groupHeaderCollapsibleCls:'x-pivot-grid-group-header-collapsible',summaryDataCls:'x-pivot-summary-data',groupCls:'x-pivot-grid-group',relayedMatrixEvents:['beforereconfigure','reconfigure','start','progress','done','modelbuilt','columnsbuilt','recordbuilt','buildtotals','storebuilt','groupexpand','groupcollapse','beforerequest','requestexception'],config:{matrix:{type:'local'},leftAxisCellConfig:{xtype:'pivotgridgroupcell'},topAxisCellConfig:{xtype:'pivotgridcell'}},variableHeights:!0,itemConfig:{xtype:'pivotgridrow'},classCLs:'x-pivot-grid',initialize:function(){var a=this;a.setColumns([]);a.setStore(new Ext.data.ArrayStore({$internal:!0,fields:[]}));a.pivotDataSource=new Ext.pivot.feature.PivotStore({store:a.getStore(),grid:a,matrix:a.getMatrix(),clsGrandTotal:a.clsGrandTotal,clsGroupTotal:a.clsGroupTotal,summaryDataCls:a.summaryDataCls});a.getHeaderContainer().on({columntap:'handleColumnTap',headergrouptap:'handleHeaderGroupTap',scope:a});return Ext.grid.Grid.prototype.initialize.call(this)},destroy:function(){var a=this;Ext.destroy(a.matrixRelayedListeners,a.matrixListeners,a.headerCtListeners,a.lockedHeaderCtListeners);Ext.destroy(a.pivotDataSource);a.matrixRelayedListeners=a.matrixListeners=a.headerCtListeners=null;a.lockedHeaderCtListeners=null;a.setMatrix(null);Ext.grid.Grid.prototype.destroy.call(this);a.lastColumnSorted=a.store=Ext.destroy(a.store)},applyMatrix:function(a,b){Ext.destroy(b);if(a==null){return a}if(a&&a.isPivotMatrix){a.cmp=this;return a}Ext.applyIf(a,{type:'local'});a.cmp=this;return Ext.Factory.pivotmatrix(a)},updateMatrix:function(b,c){var a=this;Ext.destroy(c,a.matrixListeners,a.matrixRelayedListeners);if(b){a.matrixListeners=b.on({cleardata:a.onMatrixClearData,start:a.onMatrixProcessStart,progress:a.onMatrixProcessProgress,done:a.onMatrixDataReady,afterupdate:a.onMatrixAfterUpdate,groupexpand:a.onMatrixGroupExpandCollapse,groupcollapse:a.onMatrixGroupExpandCollapse,scope:a,destroyable:!0});a.matrixRelayedListeners=a.relayEvents(b,a.relayedMatrixEvents,'pivot');if(a.pivotDataSource){a.pivotDataSource.setMatrix(b)}}},refreshView:function(){var a=this;if(a.destroyed||a.destroying){return}a.getStore().fireEvent('pivotstoreremodel',a)},updateHeaderContainerColumns:function(e){var b=this,h=[],a,j,c,g,d,f,i;if(e){d=b.getColumnForGroup(b.getHeaderContainer().innerItems,e);if(d.found){c=d.item.getParent();j=d.index;i=c.items.length;for(f=0;f<i;f++){g=c.items.getAt(f);if(g.group===e){h.push(g)}}c.remove(h);a=Ext.clone(b.pivotColumns);b.preparePivotColumns(a);a=b.getVisiblePivotColumns(b.prepareVisiblePivotColumns(a),e);c.insert(j,a)}}else {a=Ext.clone(b.pivotColumns);b.preparePivotColumns(a);a=b.prepareVisiblePivotColumns(a);b.setColumns(a)}},getColumnForGroup:function(e,d){var f=e.length,a={found:!1,index:-1,item:null},c,b;for(c=0;c<f;c++){b=e[c];if(b.group===d){a.found=!0;a.index=c;a.item=b}else if(b.innerItems){a=this.getColumnForGroup(b.innerItems,d)}if(a.found){break}}return a},onMatrixClearData:function(){var a=this;a.getStore().removeAll(!0);a.setColumns([]);if(!a.expandedItemsState){a.lastColumnsState=null}a.sortedColumn=null},onMatrixProcessStart:function(){if(this.enableLoadMask){this.setMasked({xtype:'loadmask',indicator:!0})}},onMatrixProcessProgress:function(d,c,b){var a=(c||0.1)*100/(b||0.1);if(this.enableLoadMask){this.getMasked().setMessage(Ext.util.Format.number(a,'0')+'%')}},onMatrixDataReady:function(a){this.refreshMatrixData(a,!1)},onMatrixAfterUpdate:function(b,a){if(a){this.refreshMatrixData(b,!0)}else {this.refreshView()}},onMatrixGroupExpandCollapse:function(c,b,a){if(b==='col'){this.updateHeaderContainerColumns(a)}},refreshMatrixData:function(b,k){var a=this,c=b.getColumnHeaders(),g=!1,h=a.getTopAxisCellConfig(),i=b.leftAxis.items.items,j=b.topAxis.items.items,d,f,e;if(a.enableLoadMask){a.setMasked(!1)}if(h){h.zeroValue=b.showZeroAsBlank?'':'0'}if(!k){if(a.expandedItemsState){f=i.length;for(d=0;d<f;d++){e=i[d];if(Ext.Array.indexOf(a.expandedItemsState.rows,e.key)>=0){e.expanded=!0;g=!0}}f=j.length;for(d=0;d<f;d++){e=j[d];if(Ext.Array.indexOf(a.expandedItemsState.cols,e.key)>=0){e.expanded=!0;g=!0}}if(g){c=b.getColumnHeaders();delete a.expandedItemsState}}else {if(b.collapsibleRows){a.doExpandCollapseTree(b.leftAxis.getTree(),!a.startRowGroupsCollapsed)}if(b.collapsibleColumns){a.doExpandCollapseTree(b.topAxis.getTree(),!a.startColGroupsCollapsed);c=b.getColumnHeaders()}}}a.pivotColumns=Ext.clone(c);c=Ext.clone(a.pivotColumns);a.preparePivotColumns(c);a.restorePivotColumnsState(c);c=a.prepareVisiblePivotColumns(c);a.setColumns(c);if(!Ext.isEmpty(a.sortedColumn)){b.leftAxis.sortTreeByField(a.sortedColumn.dataIndex,a.sortedColumn.direction)}a.getStore().fireEvent('pivotstoreremodel',a);if(!Ext.isEmpty(a.sortedColumn)){a.updateColumnSortState(a.sortedColumn.dataIndex,a.sortedColumn.direction)}a.lastColumnSorted=null},getVisiblePivotColumns:function(d,e){var b=[],f=d.length,c,a;for(c=0;c<f;c++){a=d[c];if(a.group===e){b.push(a)}if(a.columns){b=Ext.Array.merge(b,this.getVisiblePivotColumns(a.columns,e))}}return b},prepareVisiblePivotColumns:function(c){var e=c.length,d=[],b,a;for(b=0;b<e;b++){a=c[b];if(!a.hidden){d.push(a)}if(a.columns){a.columns=this.prepareVisiblePivotColumns(a.columns)}}return d},preparePivotColumns:function(d){var b=this,e={menuDisabled:!0,sortable:!1,lockable:!1},f=d?d.length:0,c,a;for(c=0;c<f;c++){a=d[c];a.cls=a.cls||'';Ext.apply(a,e);if(a.leftAxis){if(a.cell){Ext.applyIf(a.cell,Ext.clone(b.getLeftAxisCellConfig()))}else {Ext.apply(a,{cell:Ext.clone(b.getLeftAxisCellConfig())})}}else if(a.topAxis){if(a.cell){Ext.applyIf(a.cell,Ext.clone(b.getTopAxisCellConfig()))}else {Ext.apply(a,{cell:Ext.clone(b.getTopAxisCellConfig())})}}if(a.subTotal){a.cls=b.clsGroupTotal}if(a.group&&a.xgrouped){if(a.group.expanded){if(!a.subTotal&&this._matrix.collapsibleColumns){a.cls+=(Ext.isEmpty(a.cls)?'':' ')+b.groupHeaderCollapsibleCls}}else {if(a.subTotal&&this._matrix.collapsibleColumns){a.cls+=(Ext.isEmpty(a.cls)?'':' ')+b.groupHeaderCollapsibleCls+' '+b.groupHeaderCollapsedCls}}if(a.subTotal){a.text=a.group.expanded?a.group.getTextTotal():Ext.String.format('<div class="x-pivot-grid-group-icon x-font-icon"></div><div class="'+this.groupCls+'">{0}</div>',a.group.name)}else if(a.group){a.text=Ext.String.format('<div class="x-pivot-grid-group-icon x-font-icon"></div><div class="'+this.groupCls+'">{0}</div>',a.group.name)}a.xexpandable=a.subTotal?!a.group.expanded:a.group.expanded;if(!a.group.expanded&&!a.subTotal||a.group.expanded&&a.subTotal&&this.getMatrix().colSubTotalsPosition==='none'){a.hidden=!0}}if(a.grandTotal){a.cls=b.clsGrandTotal}if(Ext.isEmpty(a.columns)){if(a.dimension){Ext.apply(a,{renderer:a.dimension?a.dimension.getRenderer():!1,formatter:a.dimension?a.dimension.getFormatter():!1,scope:a.dimension?a.dimension.scope:null,align:a.dimension.align});if(a.dimension.flex>0){a.flex=a.flex||a.dimension.flex}else {a.width=a.width||a.dimension.width}a.cell=Ext.merge(a.cell,a.dimension.cellConfig)}if(a.cell&&a.cell.bind&&!a.cell.viewModel){a.cell.bind=b.processBindKey(a.cell.bind,a.dataIndex)}}else {b.preparePivotColumns(a.columns)}}},processBindKey:function(a,d){var b,e,f,c,g;if(Ext.isString(a)){g=a.replace('{column','{columns.'+d);return g.replace('{value','{record.'+d)}else if(Ext.isObject(a)){b=Ext.Object.getAllKeys(a)}else if(Ext.isArray(a)){b=a}if(b){f=b.length;for(c=0;c<f;c++){e=b[c];a[e]=this.processBindKey(a[e],d)}}return a},reconfigurePivot:function(a){var b=this.getMatrix();a=a||{};if(b){if(a.type&&b.type!==a.type){this.setMatrix(a)}else {b.reconfigure(a)}}else {this.setMatrix(a)}},doExpandCollapseTree:function(b,c){var a;for(a=0;a<b.length;a++){b[a].expanded=c;if(b[a].children){this.doExpandCollapseTree(b[a].children,c)}}},doExpandCollapse:function(f,e,b,d){var c=this.getMatrix(),a;if(!c){return}a=(f==='row'?c.leftAxis:c.topAxis).findTreeElement('key',e);if(!a){return}a=a.node;b=Ext.isDefined(b)?b:!a.expanded;if(b){a.expand(d)}else {a.collapse(d)}},expandRow:function(b,a){this.doExpandCollapse('row',b,!0,a)},collapseRow:function(b,a){this.doExpandCollapse('row',b,!1,a)},expandCol:function(b,a){this.doExpandCollapse('col',b,!0,a)},collapseCol:function(b,a){this.doExpandCollapse('col',b,!1,a)},expandAll:function(){this.expandAllColumns();this.expandAllRows()},expandAllRows:function(){this.getMatrix().leftAxis.expandAll()},expandAllColumns:function(){this.getMatrix().topAxis.expandAll()},collapseAll:function(){this.collapseAllRows();this.collapseAllColumns()},collapseAllRows:function(){this.getMatrix().leftAxis.collapseAll()},collapseAllColumns:function(){this.getMatrix().topAxis.collapseAll()},setStore:function(a){var b;if(!a||a&&a.$internal){this.callParent([a])}else {b=this.getMatrix();if(b&&b instanceof Ext.pivot.matrix.Local){b.reconfigure({store:a})}}},getTopAxisKey:function(c){var f=this,e=f.getMatrix(),b=e.getColumns(),d=null,a;if(!c){return null}for(a=0;a<b.length;a++){if(b[a].name===c.getDataIndex()){d=b[a].col;break}}return d},getTopAxisItem:function(a){return this.getMatrix().topAxis.items.getByKey(this.getTopAxisKey(a))},getLeftAxisItem:function(b){var a;if(!b){return null}a=this.pivotDataSource.storeInfo[b.internalId];return a?this.getMatrix().leftAxis.items.getByKey(a.leftKey):null},getStateProperties:function(){return ['viewLayoutType','rowSubTotalsPosition','rowGrandTotalsPosition','colSubTotalsPosition','colGrandTotalsPosition','aggregate','leftAxis','topAxis','enableColumnSort','sortedColumn']},getPivotColumnsState:function(){var c=this,a,b;if(!c.lastColumnsState){b=c.getDataIndexColumns(c.getMatrix().getColumnHeaders());c.lastColumnsState={};for(a=0;a<b.length;a++){if(b[a].dataIndex){c.lastColumnsState[b[a].dataIndex]={width:b[a].width,flex:b[a].flex||0}}}}b=c.getColumns();for(a=0;a<b.length;a++){if(b[a].dataIndex){c.lastColumnsState[b[a].dataIndex]={width:b[a].rendered?b[a].getWidth():b[a].width,flex:b[a].flex||0}}}return c.lastColumnsState},getDataIndexColumns:function(b){var c=[],a;for(a=0;a<b.length;a++){if(b[a].dataIndex){c.push(b[a].dataIndex)}else if(Ext.isArray(b[a].columns)){c=Ext.Array.merge(c,this.getDataIndexColumns(b[a].columns))}}return c},restorePivotColumnsState:function(a){this.parsePivotColumnsState(this.getPivotColumnsState(),a)},parsePivotColumnsState:function(d,b){var c,a;if(!b){return}for(a=0;a<b.length;a++){c=d[b[a].dataIndex];if(c){if(c.flex){b[a].flex=c.flex}else if(c.width){b[a].width=c.width}}this.parsePivotColumnsState(d,b[a].columns)}},onChildTap:function(a){this.handleRowEvent('tap',a.event);Ext.grid.Grid.prototype.onChildTap.call(this,a)},onChildTapHold:function(a){this.handleRowEvent('taphold',a.event);Ext.grid.Grid.prototype.onChildTapHold.call(this,a)},onChildSingleTap:function(a){this.handleRowEvent('singletap',a.event);Ext.grid.Grid.prototype.onChildSingleTap.call(this,a)},onChildDoubleTap:function(a){this.handleRowEvent('doubletap',a.event);Ext.grid.Grid.prototype.onChildDoubleTap.call(this,a)},handleRowEvent:function(e,d){var a=Ext.fly(d.getTarget(this.cellSelector)),c=this.getNavigationModel(),b;if(a&&a.component&&a.component.handleEvent){a.component.handleEvent(e,d);if(c){b=c.getLocation();if(b){b.refresh()}}}},handleColumnTap:function(e,a,d){var c=this,b;if(a.xexpandable){this.handleHeaderGroupTap(e,a,d);return !1}if(!c.enableColumnSort){return}b=a.$axisSortDirection==='ASC'?'DESC':'ASC';if((a.leftAxis||a.topAxis)&&!Ext.isEmpty(a.getDataIndex())){if(c.getMatrix().leftAxis.sortTreeByField(a.getDataIndex(),b)){a.$axisSortDirection=b;c.refreshView();c.updateSortIndicator(a,b);d.stopEvent()}}return !1},updateSortIndicator:function(b,c){var a=this.lastColumnSorted;if(a){a.setSortState(null);if(b.topAxis&&a.leftAxis){a.$axisSortDirection=null}}b.setSortState(c);this.lastColumnSorted=b},handleHeaderGroupTap:function(c,a,b){if(a.xexpandable&&this._matrix.collapsibleColumns){b.stopEvent();this.doExpandCollapse('col',a.key)}return !1},isRTL:function(){if(Ext.isFunction(this.isLocalRtl)){return this.isLocalRtl()}return !1},getRecordInfo:function(a){return a?this.pivotDataSource.storeInfo[a.internalId]:null},onColumnRemove:function(b,a){if(a===this.lastColumnSorted){this.lastColumnSorted=null}return Ext.grid.Grid.prototype.onColumnRemove.call(this,b,a)},privates:{discardMeasureRow:!0}},0,['pivotgrid'],['widget','component','container','componentdataview','list','grid','pivotgrid'],{'widget':!0,'component':!0,'container':!0,'componentdataview':!0,'list':!0,'grid':!0,'pivotgrid':!0},['widget.pivotgrid'],0,[Ext.pivot,'Grid'],0);Ext.define('Ext.locale.fr.pivot.Grid',{override:'Ext.pivot.Grid',textTotalTpl:'Total ({name})',textGrandTotalTpl:'Total gnral'});Ext.cmd.derive('Ext.pivot.plugin.configurator.Column',Ext.dataview.ListItem,{userCls:'x-pivot-grid-config-column',filteredCls:'x-pivot-grid-config-column-filter',ascSortIconCls:'x-pivot-grid-config-column-btn-sort-asc',descSortIconCls:'x-pivot-grid-config-column-btn-sort-desc',config:{deleteCmp:{xtype:'component',cls:['x-pivot-grid-config-column-btn','x-pivot-grid-config-column-btn-delete'],docked:'right',hidden:!0},moveCmp:{xtype:'component',cls:['x-pivot-grid-config-column-btn','x-pivot-grid-config-column-btn-move'],docked:'left'},sortCmp:{xtype:'component',cls:'x-pivot-grid-config-column-btn',docked:'right',hidden:!0}},applyDeleteCmp:function(a,b){if(a&&!a.isComponent){a=Ext.factory(a,Ext.Component,b)}return a},updateDeleteCmp:function(a,b){if(a){this.add(a)}Ext.destroy(b)},applyMoveCmp:function(a,b){if(a&&!a.isComponent){a=Ext.factory(a,Ext.Component,b)}return a},updateMoveCmp:function(a,b){if(a){this.add(a)}Ext.destroy(b)},applySortCmp:function(a,b){if(a&&!a.isComponent){a=Ext.factory(a,Ext.Component,b)}return a},updateSortCmp:function(a,b){if(a){this.add(a)}Ext.destroy(b)},getField:function(){return this.getRecord().get('field')},updateRecord:function(d,c){var b=this,f=b.innerElement,a,e;Ext.dataview.ListItem.prototype.updateRecord.call(this,d,c);if(!d){return}if(c){e=c.get('field');if(e){a=c.get('field').getSettings();b.resetStyle(f,a.getStyle());b.removeCls(a.getCls())}}e=d.get('field');if(e){a=d.get('field').getSettings();f.setStyle(a.getStyle());b.addCls(a.getCls());b.refreshData()}},refreshData:function(){var a=this,i=a.getDeleteCmp(),e=a.getRecord(),f=e.get('field'),h=f.getSettings(),b=a.dataview||a.getDataview(),c=b.getFieldType?b:b.up('pivotconfigcontainer'),g=c.getFieldType(),d;if(g!=='all'){d=h.isFixed(c);i.setHidden(d)}e.set('text',f.getFieldText());a.updateSortCmpCls();a.updateFilterCls()},updateFilterCls:function(){var a=this,b=a.dataview||a.getDataview(),c=b.getFieldType?b:b.up('pivotconfigcontainer'),d=c.getFieldType();if(d!=='all'){if(a.getField().getFilter()){a.addCls(a.filteredCls)}else {a.removeCls(a.filteredCls)}}},updateSortCmpCls:function(){var a=this,c=a.dataview||a.getDataview(),f=c.getFieldType?c:c.up('pivotconfigcontainer'),d=f.getFieldType(),e=a.getField(),b=a.getSortCmp();if(d==='leftAxis'||d==='topAxis'){b.show();b.setUserCls('');if(e.getSortable()){if(e.getDirection()==='ASC'){b.setUserCls(a.ascSortIconCls)}else {b.setUserCls(a.descSortIconCls)}}}else {b.hide()}},resetStyle:function(e,d){var b={},c=Ext.Object.getAllKeys(d),f=c.length,a;for(a=0;a<f;a++){b[c[a]]=null}e.setStyle(b)},onApplyFilterSettings:function(b,a){this.getField().setFilter(a);this.updateFilterCls();this.applyChanges()},onRemoveFilter:function(){this.getField().setFilter(null);this.updateFilterCls();this.applyChanges()},applyChanges:function(){var a=this.dataview||this.getDataView();if(a){a.applyChanges()}}},0,['pivotconfigfield'],['widget','component','container','dataitem','listitem','pivotconfigfield'],{'widget':!0,'component':!0,'container':!0,'dataitem':!0,'listitem':!0,'pivotconfigfield':!0},['widget.pivotconfigfield'],0,[Ext.pivot.plugin.configurator,'Column'],0);Ext.cmd.derive('Ext.pivot.plugin.configurator.DragZone',Ext.drag.Source,{groups:'pivotfields',proxy:{type:'placeholder',cursorOffset:[-20,30],placeholderCls:'x-pivot-drag-proxy-placeholder',validCls:'x-pivot-drag-proxy-placeholder-valid',invalidCls:'x-pivot-drag-proxy-placeholder-invalid'},handle:'.x-listitem',platformConfig:{phone:{activateOnLongPress:!0}},constructor:function(a){var b=a.getList();this.panel=a;this.list=b;Ext.drag.Source.prototype.constructor.call(this,{element:b.getScrollable().getElement()})},onDragStart:function(b){var c=Ext.fly(b.eventTarget).up(this.getHandle()),d='<span class="x-pivot-drag-placeholder-icon">&nbsp;</span><span>{0}</span>',a;if(!c||!c.component){return}a=c.component.getRecord();b.setData('record',a);b.setData('sourceList',this.list);this.getProxy().setHtml(Ext.String.format(d,a.get('text')))}},1,0,0,0,0,0,[Ext.pivot.plugin.configurator,'DragZone'],0);Ext.cmd.derive('Ext.pivot.plugin.configurator.DropZone',Ext.drag.Target,{groups:'pivotfields',leftIndicatorCls:'x-pivot-grid-left-indicator',rightIndicatorCls:'x-pivot-grid-right-indicator',listItemSelector:'.x-listitem',listSelector:'.x-list',constructor:function(a){var b=a.getList();this.panel=a;this.list=b;Ext.drag.Target.prototype.constructor.call(this,{element:b.getScrollable().getElement()})},getLeftIndicator:function(){if(!this.leftIndicator){this.self.prototype.leftIndicator=Ext.getBody().createChild({cls:this.leftIndicatorCls,html:'&#160;'});this.self.prototype.indicatorWidth=this.leftIndicator.dom.offsetWidth;this.self.prototype.indicatorOffset=Math.round(this.indicatorWidth/2)}return this.leftIndicator},getRightIndicator:function(){if(!this.rightIndicator){this.self.prototype.rightIndicator=Ext.getBody().createChild({cls:this.rightIndicatorCls,html:'&#160;'})}return this.rightIndicator},accepts:function(f){var c=f.data,d=c.record,a=c.sourceList,b=this.panel,e=b.up('pivotconfigpanel');if(!d){return !0}if(!a.isXType('pivotconfigcontainer')){a=a.up('pivotconfigcontainer')}return d.get('field').getSettings().isAllowed(b)&&e.isAllowed(a,b,c.record)},onDragMove:function(a){if(a.valid){this.positionIndicator(a)}else {this.hideIndicators()}},onDragLeave:function(a){this.hideIndicators()},onDrop:function(e){var b=e.data,a=b.sourceList,c=this.panel,d=c.up('pivotconfigpanel');this.hideIndicators();if(!d){return}if(!a.isXType('pivotconfigcontainer')){a=a.up('pivotconfigcontainer')}d.dragDropField(a,c,b.record,b.position)},positionIndicator:function(n){var b=this,i=-1,k=b.getLeftIndicator(),j=b.getRightIndicator(),m=b.indicatorWidth,q=b.indicatorOffset,a,e,d,c,f,o,g,p,h,l;a=b.getCursorElement(n,b.listItemSelector);if(a){e=a.component;h='tl';l='tr';i=e.$dataIndex}else {h='bl';l='br';i=b.list.getViewItems().length;e=b.list.getItemAt(i-1);if(e){a=e.element}else {a=b.getCursorElement(n,b.listSelector)}}d=k.getAlignToXY(a,h);c=j.getAlignToXY(a,l);d[0]-=1;c[0]-=m;if(h==='tl'){d[1]-=m;c[1]-=m}f=g=-q;f+=a.getX();o=f+a.getWidth();g+=a.getY();p=g+a.getHeight();d[0]=Ext.Number.constrain(d[0],f,o);c[0]=Ext.Number.constrain(c[0],f,o);d[1]=Ext.Number.constrain(d[1],g,p);c[1]=Ext.Number.constrain(c[1],g,p);k.show();j.show();k.setXY(d);j.setXY(c);n.setData('position',i)},hideIndicators:function(){this.getLeftIndicator().hide();this.getRightIndicator().hide()},getCursorElement:function(f,c,e,b){var a=f.cursor.current,d=Ext.drag.Manager.elementFromPoint(a.x,a.y);return Ext.fly(d).up(c,e,b)}},1,0,0,0,0,0,[Ext.pivot.plugin.configurator,'DropZone'],0);Ext.cmd.derive('Ext.pivot.plugin.configurator.Container',Ext.Panel,{config:{fieldType:'all',emptyText:null,store:{type:'array',fields:[{name:'text',type:'string'},{name:'field',type:'auto'}]},list:{xclass:'Ext.dataview.List',handleSorting:!1,handleFiltering:!1,isConfiguratorContainer:!0,disableSelection:!0,itemConfig:{xtype:'pivotconfigfield'},deferEmptyText:!1,touchAction:{panX:!1,pinchZoom:!1,doubleTapZoom:!1},itemRipple:!1}},layout:'fit',initialize:function(){var a=this,b=a.getList();Ext.Panel.prototype.initialize.call(this);a.dragZone=new Ext.pivot.plugin.configurator.DragZone(a);a.dropZone=new Ext.pivot.plugin.configurator.DropZone(a);if(a.getFieldType()!=='all'){b.element.on({delegate:'.x-pivot-grid-config-column-btn',tap:a.handleColumnBtnTap,scope:a});b.element.on({delegate:'.x-listitem-body-el',tap:a.handleColumnTap,scope:a})}},destroy:function(){Ext.destroyMembers(this,'storeListeners','dragZone','dropZone');Ext.Panel.prototype.destroy.call(this)},updateFieldType:function(a){if(a!=='all'){this.setUserCls('x-pivot-grid-config-container')}},updateEmptyText:function(b){var a=this.getList();if(a){a.setEmptyText(b)}},applyList:function(a,c){var b;if(a){b=this.getStore();if(a.isComponent){a.setStore(b)}else {a.store=b;a.emptyText=this.getEmptyText();a=Ext.factory(a,Ext.dataview.List,c)}}return a},updateList:function(a){if(a){this.add(a)}},applyStore:function(a){return Ext.Factory.store(a)},updateStore:function(b,c){var a=this;Ext.destroy(a.storeListeners);if(b){a.storeListeners=b.on({datachanged:a.applyChanges,scope:a})}},applyChanges:function(){if(this.getFieldType()!=='all'){this.fireEvent('configchange',this)}},addField:function(a,d){var e=this,c=e.getStore(),f=e.getFieldType(),b={};a.isAggregate=f==='aggregate';Ext.apply(b,{field:a,text:a.getFieldText()});if(d>=0){c.insert(d,b)}else {c.add(b)}},removeField:function(a){this.getStore().remove(a);a.set('field',null)},moveField:function(b,c){var a=this.getStore(),d=a.indexOf(b);if(c===-1&&d===a.getCount()-1){return}a.remove(b);if(c>=0){a.insert(c,b)}else {a.add(b)}},handleColumnBtnTap:function(e){var a=this,b=Ext.fly(e.currentTarget),c=b.up('.'+a.getList().baseCls+'item').component,d=c.getRecord();if(!d){return}if(b.hasCls('x-pivot-grid-config-column-btn-delete')){a.fireEvent('removefield',a,c,d);return}if(b.hasCls('x-pivot-grid-config-column-btn-tools')){a.fireEvent('toolsbtnpressed',a,c)}},handleColumnTap:function(e){var a=this,d=Ext.fly(e.currentTarget),b=d.up('.'+a.getList().baseCls+'item').component,c=b.getRecord();if(!c){return}a.fireEvent('toolsbtnpressed',a,b)}},0,['pivotconfigcontainer'],['widget','component','container','panel','pivotconfigcontainer'],{'widget':!0,'component':!0,'container':!0,'panel':!0,'pivotconfigcontainer':!0},['widget.pivotconfigcontainer'],0,[Ext.pivot.plugin.configurator,'Container'],0);Ext.cmd.derive('Ext.pivot.plugin.configurator.PanelController',Ext.app.ViewController,{destroy:function(){var a=this;a.pivotListeners=a.matrixProperties=Ext.destroy(a.pivotListeners);Ext.app.ViewController.prototype.destroy.call(this)},closeMe:function(){var a=this.getView();a.fireEvent('close',a)},cancelConfiguration:function(){this.refreshDimensions();this.matrixProperties=null;this.closeMe()},applyConfiguration:function(){this.applyChanges().then(function(a){a.closeMe()})},showSettings:function(){var b=this.getView(),d=b.getPivot(),a=d.getMatrix().serialize(),c=b.down('#settings');delete a.leftAxis;delete a.topAxis;delete a.aggregate;if(d.fireEvent('beforeshowpivotsettings',b,{container:c,settings:a})!==!1){b.setActiveItem(c);c.setMatrixProperties(a);d.fireEvent('showpivotsettings',b,{container:c,settings:a})}},backToMainView:function(){this.getView().setActiveItem('#main')},onPivotChanged:function(c,b){var a=this;Ext.destroy(a.pivotListeners);if(b){a.pivotListeners=b.getMatrix().on({done:a.onPivotDone,scope:a,destroyable:!0})}},onFieldsChanged:function(b,a){if(!a){return}this.refreshDimensions()},onBeforeApplyPivotSettings:function(c,b){var a=this.getView();return a.getPivot().fireEvent('beforeapplypivotsettings',a,{container:c,settings:b})},onApplyPivotSettings:function(c,a){var b=this.getView();this.matrixProperties=a;this.onConfigChanged();return b.getPivot().fireEvent('applypivotsettings',b,{container:c,settings:a})},onBeforeApplyConfigFieldSettings:function(c,b){var a=this.getView();return a.getPivot().fireEvent('beforeapplyconfigfieldsettings',a,{container:c,settings:b})},onApplyConfigFieldSettings:function(c,b){var a=this.getView();this.onConfigChanged();return a.getPivot().fireEvent('applyconfigfieldsettings',a,{container:c,settings:b})},onConfigChanged:function(){this.configurationChanged=!0},showCard:function(k,i){var b=this.getView(),h=b.getPivot(),f=i.getField().getSettings(),a=b.down('#field'),g=[],e,d,c,j;if(h.fireEvent('beforeshowconfigfieldsettings',b,{container:a,settings:f})!==!1){b.setActiveItem(a);a.setFieldItem(i);e=this.getAggregateContainer().getStore();j=e.getCount();for(c=0;c<j;c++){d=e.getAt(c).get('field');g.push([d.getHeader(),d.getId()])}a.getViewModel().getStore('sDimensions').loadData(g);h.fireEvent('showconfigfieldsettings',b,{container:a,settings:f})}},onRemoveField:function(b,d,c){var a=this.getView();a.dragDropField(b,a.getAllFieldsContainer(),c)},refreshDimensions:function(){var a=this,l=a.getView(),k=l.getPivot(),b=k?k.getMatrix():null,f,c,d,e,i,g,h,j;if(!b){return}a.internalReconfiguration=!0;e=a.getAllFieldsContainer();f=a.getTopAxisContainer();c=a.getLeftAxisContainer();d=a.getAggregateContainer();e.getStore().removeAll();f.getStore().removeAll();c.getStore().removeAll();d.getStore().removeAll();j=l.getFields().clone();i=a.getConfigFields(b.topAxis.dimensions.getRange());g=a.getConfigFields(b.leftAxis.dimensions.getRange());h=a.getConfigFields(b.aggregate.getRange());a.addFieldsToConfigurator(j.getRange(),e);a.addFieldsToConfigurator(i,f);a.addFieldsToConfigurator(g,c);a.addFieldsToConfigurator(h,d);a.internalReconfiguration=!1},onPivotDone:function(){if(this.internalReconfiguration){this.internalReconfiguration=!1}else {this.refreshDimensions()}},reconfigurePivot:function(e,f){var a=this,d=a.getView(),c=d.getPivot(),b={topAxis:a.getFieldsFromContainer(a.getTopAxisContainer(),!0),leftAxis:a.getFieldsFromContainer(a.getLeftAxisContainer(),!0),aggregate:a.getFieldsFromContainer(a.getAggregateContainer(),!0)};Ext.apply(b,a.matrixProperties);a.internalReconfiguration=!0;if(c.fireEvent('beforeconfigchange',d,b)!==!1){c.getMatrix().reconfigure(b);c.fireEvent('configchange',d,b)}e(a)},getAllFieldsContainer:function(){return this.lookupReference('fieldsCt')},getLeftAxisContainer:function(){return this.lookupReference('fieldsLeftCt')},getTopAxisContainer:function(){return this.lookupReference('fieldsTopCt')},getAggregateContainer:function(){return this.lookupReference('fieldsAggCt')},applyChanges:function(){var a=this;return new Ext.Promise(function(b,c){var d=a.getView();if(a.configurationChanged){a.configurationChanged=!1;if(d.isHidden()||a.internalReconfiguration){c(a);return}Ext.asap(a.reconfigurePivot,a,[b,c])}else {b(a)}})},getFieldsFromContainer:function(g,e){var d=g.getStore(),f=d.getCount(),c=[],a,b;for(a=0;a<f;a++){b=d.getAt(a).get('field');c.push(e===!0?b.getConfiguration():b)}return c},addFieldsToConfigurator:function(c,b){var d=c.length,a;b.getStore().removeAll();for(a=0;a<d;a++){b.addField(c[a],-1)}b.getList().refresh()},getConfigFields:function(d){var g=d.length,f=this.getView().getFields(),e=[],b,a,c;for(b=0;b<g;b++){c=d[b];a=f.byDataIndex.get(c.dataIndex);if(a){a=a.clone();a.setConfig(c.getInitialConfig());e.push(a)}}return e}},0,0,0,0,['controller.pivotconfigpanel'],0,[Ext.pivot.plugin.configurator,'PanelController'],0);Ext.cmd.derive('Ext.pivot.plugin.configurator.model.Select',Ext.data.Model,{fields:[{name:'text',type:'string'},{name:'value',type:'auto'},{name:'type',type:'integer'}]},0,0,0,0,0,0,[Ext.pivot.plugin.configurator.model,'Select'],0);Ext.cmd.derive('Ext.pivot.plugin.configurator.store.Select',Ext.data.ArrayStore,{model:'Ext.pivot.plugin.configurator.model.Select'},0,0,0,0,['store.pivotselect'],0,[Ext.pivot.plugin.configurator.store,'Select'],0);Ext.cmd.derive('Ext.pivot.plugin.configurator.FormController',Ext.app.ViewController,{init:function(a){var b=this.getViewModel();b.getStore('sSorters').loadData([[a.sortClearText,'none'],[a.sortAscText,'ASC'],[a.sortDescText,'DESC']]);b.getStore('sFilters').loadData([[a.clearFilterText,'none'],[a.labelFiltersText,'label'],[a.valueFiltersText,'value'],[a.top10FiltersText,'top10']]);b.getStore('sTopOrder').loadData([[a.topOrderTopText,'top'],[a.topOrderBottomText,'bottom']]);b.getStore('sTopType').loadData([[a.topTypeItemsText,'items'],[a.topTypePercentText,'percent'],[a.topTypeSumText,'sum']]);b.getStore('sAlign').loadData([[a.alignLeftText,'left'],[a.alignCenterText,'center'],[a.alignRightText,'right']]);b.set('labelFilterText',a.labelFilterText);b.set('valueFilterText',a.valueFilterText);b.set('requiredMessage',a.requiredFieldText)},applySettings:function(){var j=this.getViewModel(),e=this.getView(),g=e.getFieldItem(),h=g.getField(),b=Ext.clone(j.get('form')),d,i,c,a,f;if(!e.isValid()){return}if(b.align&&b.align.isModel){b.align=b.align.get('value')}if(h.isAggregate){if(b.formatter&&b.formatter.isModel){d=b.formatter}else {i=j.getStore('sFormatters');d=i.findRecord('value',b.formatter,0,!1,!0,!0)}if(d){if(d.get('type')===1){b.formatter=d.get('value');b.renderer=null}else {b.renderer=d.get('value');b.formatter=null}}if(b.aggregator&&b.aggregator.isModel){b.aggregator=b.aggregator.get('value')}}else {c=b.direction;if(c&&c.isModel){c=c.get('value')}b.sortable=c!=='none';b.direction=c||'ASC';a=b.filter;f=a.type.isModel?a.type.get('value'):a.type;if(!a||!a.type||f==='none'){a=null}else {a.type=f;if(a.operator&&a.operator.isModel){a.operator=a.operator.get('value')}if(a.dimensionId&&a.dimensionId.isModel){a.dimensionId=a.dimensionId.get('value')}if(a.topType&&a.topType.isModel){a.topType=a.topType.get('value')}if(a.topOrder&&a.topOrder.isModel){a.topOrder=a.topOrder.get('value')}if(a.type==='top10'){a.type='value';a.operator='top10'}if(a.operator==='between'||a.operator==='not between'){a.value=[a.from,a.to]}delete a.from;delete a.to;if(a.type==='label'){delete a.dimensionId;delete a.topSort;delete a.topType;delete a.topOrder}}b.filter=a}if(e.fireEvent('beforeapplyconfigfieldsettings',e,b)!==!1){h.setConfig(b);g.refreshData();e.fireEvent('applyconfigfieldsettings',e,b);this.cancelSettings()}},cancelSettings:function(){var a=this.getView();a.setFieldItem(null);a.fireEvent('close',a)},onFieldItemChanged:function(q,p){var i=this.getViewModel(),h={},l=[],o=[],g,j,m,n,k,f,b,d,c,a,e;if(!p){i.set('form',h);return}g=p.getField();c=g.getConfig();Ext.apply(h,{dataIndex:c.dataIndex,header:c.header});if(g.isAggregate){j=g.getSettings();m=j.getFormatters();n=j.getRenderers();k=j.getAggregators();f=k.length;for(b=0;b<f;b++){o.push([g.getAggText(k[b]),k[b]])}d=Ext.Object.getAllKeys(m||{});f=d.length;for(b=0;b<f;b++){l.push([d[b],m[d[b]],1])}d=Ext.Object.getAllKeys(n||{});f=d.length;for(b=0;b<f;b++){l.push([d[b],n[d[b]],2])}i.getStore('sFormatters').loadData(l);i.getStore('sAggregators').loadData(o);e=c.formatter;if(Ext.isFunction(e)){e=null}if(!e&&!Ext.isFunction(c.renderer)){e=c.renderer}Ext.apply(h,{formatter:e,aggregator:c.aggregator,align:c.align})}else {a=c.filter;Ext.apply(h,{direction:c.sortable?c.direction:'none',filter:{type:a?a.type==='value'&&a.operator==='top10'?'top10':a.type:'none',operator:a?a.type==='value'&&a.operator==='top10'?'top10':a.operator:null,value:a?a.value:null,from:a?Ext.isArray(a.value)?a.value[0]:null:null,to:a?Ext.isArray(a.value)?a.value[1]:null:null,caseSensitive:a?a.caseSensitive:!1,topSort:a?a.topSort:!1,topOrder:a?a.topOrder:!1,topType:a?a.topType:!1,dimensionId:a?a.dimensionId:null}})}i.set('form',h)},prepareOperators:function(d){var a=this.getView(),c=this.getViewModel(),b;b=[[a.equalsLText,'='],[a.doesNotEqualLText,'!='],[a.greaterThanLText,'>'],[a.greaterThanOrEqualToLText,'>='],[a.lessThanLText,'<'],[a.lessThanOrEqualToLText,'<='],[a.betweenLText,'between'],[a.notBetweenLText,'not between']];if(d==='label'){Ext.Array.insert(b,3,[[a.beginsWithLText,'begins'],[a.doesNotBeginWithLText,'not begins'],[a.endsWithLText,'ends'],[a.doesNotEndWithLText,'not ends'],[a.containsLText,'contains'],[a.doesNotContainLText,'not contains']])}c.getStore('sOperators').loadData(b)},onChangeFilterType:function(c,a){var b=a&&a.isModel?a.get('value'):a;if(b==='label'||b==='value'){this.prepareOperators(b)}}},0,0,0,0,['controller.pivotconfigform'],0,[Ext.pivot.plugin.configurator,'FormController'],0);Ext.cmd.derive('Ext.pivot.plugin.configurator.Form',Ext.form.Panel,{controller:'pivotconfigform',viewModel:{stores:{sFormatters:{type:'pivotselect'},sAggregators:{type:'pivotselect'},sSorters:{type:'pivotselect'},sFilters:{type:'pivotselect'},sOperators:{type:'pivotselect'},sTopOrder:{type:'pivotselect'},sTopType:{type:'pivotselect'},sDimensions:{type:'pivotselect'},sAlign:{type:'pivotselect'}},data:{requiredMessage:null,labelFilterText:null,valueFilterText:null},formulas:{filterType:{bind:{bindTo:'{form.filter.type}',deep:!0},get:function(a){return a&&a.isModel?a.get('value'):a}},filterOperator:{bind:{bindTo:'{form.filter.operator}',deep:!0},get:function(a){return a&&a.isModel?a.get('value'):a}},filterOperatorValue:{bind:'{filterCommon && !(filterOperator === "between" || filterOperator === "not between")}',get:function(a){return a}},filterOperatorBetween:{bind:'{filterCommon && (filterOperator === "between" || filterOperator === "not between")}',get:function(a){return a}},filterCommon:{bind:'{filterType === "label" || filterType === "value"}',get:function(a){return a}},filterLabel:{bind:'{filterType === "label"}',get:function(a){return a}},filterValue:{bind:'{filterType === "value"}',get:function(a){return a}},filterTop10:{bind:'{filterType === "top10"}',get:function(a){return a}}}},eventedConfig:{fieldItem:null,title:null},listeners:{fielditemchange:'onFieldItemChanged'},defaults:{xtype:'fieldset',defaults:{labelAlign:'top'}},showAnimation:{type:'slideIn',duration:250,easing:'ease-out',direction:'left'},hideAnimation:{type:'slideOut',duration:250,easing:'ease-in',direction:'right'},okText:'Ok',cancelText:'Cancel',formatText:'Format as',summarizeByText:'Summarize by',customNameText:'Custom name',sourceNameText:'The source name for this field is "{form.dataIndex}"',sortText:'Sort',filterText:'Filter',sortResultsText:'Sort results',alignText:'Align',alignLeftText:'Left',alignCenterText:'Center',alignRightText:'Right',caseSensitiveText:'Case sensitive',valueText:'Value',fromText:'From',toText:'To',labelFilterText:'Show items for which the label',valueFilterText:'Show items for which',top10FilterText:'Show',sortAscText:'Sort A to Z',sortDescText:'Sort Z to A',sortClearText:'Disable sorting',clearFilterText:'Disable filtering',labelFiltersText:'Label filters',valueFiltersText:'Value filters',top10FiltersText:'Top 10 filters',equalsLText:'equals',doesNotEqualLText:'does not equal',beginsWithLText:'begins with',doesNotBeginWithLText:'does not begin with',endsWithLText:'ends with',doesNotEndWithLText:'does not end with',containsLText:'contains',doesNotContainLText:'does not contain',greaterThanLText:'is greater than',greaterThanOrEqualToLText:'is greater than or equal to',lessThanLText:'is less than',lessThanOrEqualToLText:'is less than or equal to',betweenLText:'is between',notBetweenLText:'is not between',topOrderTopText:'Top',topOrderBottomText:'Bottom',topTypeItemsText:'Items',topTypePercentText:'Percent',topTypeSumText:'Sum',requiredFieldText:'This field is required',operatorText:'Operator',dimensionText:'Dimension',orderText:'Order',typeText:'Type',updateFieldItem:function(d){var a=this,b,c;a.removeAll(!0,!0);if(!d){return}c=d.getField();b=[{xtype:'titlebar',docked:'top',titleAlign:'left',bind:{title:'{form.header}'},items:[{text:a.cancelText,align:'right',ui:'alt',handler:'cancelSettings'},{text:a.okText,align:'right',ui:'alt',handler:'applySettings',margin:'0 0 0 5'}]},{bind:{instructions:a.sourceNameText},items:[{label:a.customNameText,xtype:'textfield',name:'header',required:!0,requiredMessage:a.requiredFieldText,bind:'{form.header}'}]}];if(c.isAggregate){b.push({items:[{label:a.alignText,xtype:'selectfield',autoSelect:!1,useClearIcon:!0,name:'align',bind:{store:'{sAlign}',value:'{form.align}'}},{label:a.formatText,xtype:'selectfield',autoSelect:!1,useClearIcon:!0,name:'formatter',bind:{store:'{sFormatters}',value:'{form.formatter}'}},{label:a.summarizeByText,xtype:'selectfield',autoSelect:!1,useClearIcon:!0,name:'aggregator',bind:{store:'{sAggregators}',value:'{form.aggregator}'}}]})}else {b.push({xtype:'fieldset',items:[{label:a.sortText,labelAlign:'top',xtype:'selectfield',autoSelect:!1,useClearIcon:!0,name:'sort',bind:{store:'{sSorters}',value:'{form.direction}'}},{label:a.filterText,labelAlign:'top',xtype:'selectfield',autoSelect:!1,useClearIcon:!0,name:'filter',bind:{store:'{sFilters}',value:'{form.filter.type}'},listeners:{change:'onChangeFilterType'}}]},{defaults:{labelAlign:'top'},bind:{hidden:'{!filterCommon}',title:'{filterLabel ? labelFilterText : valueFilterText}'},items:[{xtype:'selectfield',autoSelect:!1,placeholder:a.dimensionText,name:'dimensionId',bind:{store:'{sDimensions}',value:'{form.filter.dimensionId}',hidden:'{!filterValue}',required:'{filterValue}',requiredMessage:'{filterValue ? requiredMessage : null}'}},{xtype:'selectfield',autoSelect:!1,placeholder:a.operatorText,name:'operator',bind:{store:'{sOperators}',value:'{form.filter.operator}',required:'{filterCommon}',requiredMessage:'{filterCommon ? requiredMessage : null}'}},{xtype:'textfield',placeholder:a.valueText,name:'value',bind:{value:'{form.filter.value}',hidden:'{filterOperatorBetween}',required:'{filterOperatorValue}',requiredMessage:'{filterOperatorValue ? requiredMessage : null}'}},{xtype:'textfield',placeholder:a.fromText,name:'from',bind:{value:'{form.filter.from}',hidden:'{filterOperatorValue}',required:'{filterOperatorBetween}',requiredMessage:'{filterOperatorBetween ? requiredMessage : null}'}},{xtype:'textfield',placeholder:a.toText,name:'to',bind:{value:'{form.filter.to}',hidden:'{filterOperatorValue}',required:'{filterOperatorBetween}',requiredMessage:'{filterOperatorBetween ? requiredMessage : null}'}},{xtype:'togglefield',label:a.caseSensitiveText,name:'caseSensitive',bind:'{form.filter.caseSensitive}'}]},{xtype:'fieldset',title:a.top10FilterText,defaults:{labelAlign:'top'},bind:{hidden:'{!filterTop10}'},items:[{xtype:'selectfield',autoSelect:!1,placeholder:a.orderText,name:'topOrder',bind:{store:'{sTopOrder}',value:'{form.filter.topOrder}',required:'{filterTop10}',requiredMessage:'{filterTop10 ? requiredMessage : null}'}},{xtype:'textfield',placeholder:a.valueText,name:'topValue',bind:{value:'{form.filter.value}',required:'{filterTop10}',requiredMessage:'{filterTop10 ? requiredMessage : null}'}},{xtype:'selectfield',autoSelect:!1,placeholder:a.typeText,name:'topType',bind:{store:'{sTopType}',value:'{form.filter.topType}',required:'{filterTop10}',requiredMessage:'{filterTop10 ? requiredMessage : null}'}},{xtype:'selectfield',autoSelect:!1,placeholder:a.dimensionText,name:'topDimensionId',bind:{store:'{sDimensions}',value:'{form.filter.dimensionId}',required:'{filterTop10}',requiredMessage:'{filterTop10 ? requiredMessage : null}'}},{xtype:'togglefield',label:a.sortResultsText,name:'topSort',bind:'{form.filter.topSort}'}]})}a.add(b)}},0,['pivotconfigform'],['widget','component','container','panel','fieldpanel','formpanel','pivotconfigform'],{'widget':!0,'component':!0,'container':!0,'panel':!0,'fieldpanel':!0,'formpanel':!0,'pivotconfigform':!0},['widget.pivotconfigform'],0,[Ext.pivot.plugin.configurator,'Form'],0);Ext.define('Ext.locale.fr.pivot.plugin.configurator.Form',{override:'Ext.pivot.plugin.configurator.Form',okText:'Ok',cancelText:'Annuler',formatText:'Formater en tant que',summarizeByText:'Rsumer par',customNameText:'Nom personalis',sourceNameText:'Le nom de la source pour ce champ est "{form.dataIndex}"',sortText:'Trier',filterText:'Filtrer',sortResultsText:'Trier les rsultats',alignText:'Aligner',alignLeftText:'A gauche',alignCenterText:'Au centre',alignRightText:'A droite',caseSensitiveText:'Sensible aux majuscules et minuscules',valueText:'Valeur',fromText:'De',toText:'',labelFilterText:"Afficher les articles pour lesquels l'tiquette",valueFilterText:'Afficher les articles pour lesquels',top10FilterText:'Montrer',sortAscText:'Trier A to Z',sortDescText:'Trier Z to A',sortClearText:'Dsactiver triage',clearFilterText:'Dsactiver le filtrage',labelFiltersText:'Filtres label',valueFiltersText:'Filtres valeurs',top10FiltersText:'Top 10 des filtres',equalsLText:'gal ',doesNotEqualLText:'Pas gal ',beginsWithLText:'Commence avec',doesNotBeginWithLText:'Ne commence pas avec',endsWithLText:'Termine avec',doesNotEndWithLText:'Ne termine pas avec',containsLText:'Contient',doesNotContainLText:'Ne contient pas',greaterThanLText:'Est suprieur ',greaterThanOrEqualToLText:'Est suprieur ou gal ',lessThanLText:'Est infrieur ',lessThanOrEqualToLText:'Est infrieur ou gal ',betweenLText:'Est entre',notBetweenLText:"N'est pas entre",top10LText:'Top 10...',topOrderTopText:'Top',topOrderBottomText:'Dessous',topTypeItemsText:'Entres',topTypePercentText:'Pourcentage',topTypeSumText:'Somme',requiredFieldText:'Ce champ est obligatoire',operatorText:'Oprateur',dimensionText:'Dimension',orderText:'Commande',typeText:'Type'});Ext.cmd.derive('Ext.pivot.plugin.configurator.SettingsController',Ext.app.ViewController,{init:function(a){var b=this.getViewModel();b.getStore('sLayout').loadData([[a.outlineLayoutText,'outline'],[a.compactLayoutText,'compact'],[a.tabularLayoutText,'tabular']]);b.getStore('sPositions').loadData([[a.firstPositionText,'first'],[a.hidePositionText,'none'],[a.lastPositionText,'last']]);b.getStore('sYesNo').loadData([[a.yesText,!0],[a.noText,!1]])},applySettings:function(){var d=this.getViewModel(),c=this.getView(),a=Ext.clone(d.get('form')),b;for(b in a){if(a[b]&&a[b].isModel){a[b]=a[b].get('value')}}if(c.fireEvent('beforeapplypivotsettings',c,a)!==!1){c.fireEvent('applypivotsettings',c,a);this.cancelSettings()}},cancelSettings:function(){var a=this.getView();a.setMatrixProperties(null);a.fireEvent('close',a)},onMatrixPropertiesChanged:function(b,a){this.getViewModel().set('form',a)}},0,0,0,0,['controller.pivotsettings'],0,[Ext.pivot.plugin.configurator,'SettingsController'],0);Ext.cmd.derive('Ext.pivot.plugin.configurator.Settings',Ext.form.Panel,{controller:'pivotsettings',viewModel:{stores:{sLayout:{type:'pivotselect'},sPositions:{type:'pivotselect'},sYesNo:{type:'pivotselect'}}},eventedConfig:{matrixProperties:null},listeners:{matrixpropertieschange:'onMatrixPropertiesChanged'},defaults:{xtype:'fieldset',defaults:{labelAlign:'top'}},showAnimation:{type:'slideIn',duration:250,easing:'ease-out',direction:'left'},hideAnimation:{type:'slideOut',duration:250,easing:'ease-in',direction:'right'},titleText:'Settings',okText:'Ok',cancelText:'Cancel',layoutText:'Layout',outlineLayoutText:'Outline',compactLayoutText:'Compact',tabularLayoutText:'Tabular',firstPositionText:'First',hidePositionText:'Hide',lastPositionText:'Last',rowSubTotalPositionText:'Row subtotal position',columnSubTotalPositionText:'Column subtotal position',rowTotalPositionText:'Row total position',columnTotalPositionText:'Column total position',showZeroAsBlankText:'Show zero as blank',yesText:'Yes',noText:'No',updateMatrixProperties:function(c){var a=this,b;a.removeAll(!0,!0);if(!c){return}b=[{xtype:'titlebar',docked:'top',titleAlign:'left',title:a.titleText,items:[{text:a.cancelText,align:'right',ui:'alt',handler:'cancelSettings'},{text:a.okText,align:'right',ui:'alt',handler:'applySettings',margin:'0 0 0 5'}]},{label:a.layoutText,xtype:'selectfield',autoSelect:!1,useClearIcon:!0,name:'viewLayoutType',bind:{store:'{sLayout}',value:'{form.viewLayoutType}'}},{label:a.rowSubTotalPositionText,xtype:'selectfield',autoSelect:!1,useClearIcon:!0,name:'rowSubTotalsPosition',bind:{store:'{sPositions}',value:'{form.rowSubTotalsPosition}'}},{label:a.columnSubTotalPositionText,xtype:'selectfield',autoSelect:!1,useClearIcon:!0,name:'colSubTotalsPosition',bind:{store:'{sPositions}',value:'{form.colSubTotalsPosition}'}},{label:a.rowTotalPositionText,xtype:'selectfield',autoSelect:!1,useClearIcon:!0,name:'rowGrandTotalsPosition',bind:{store:'{sPositions}',value:'{form.rowGrandTotalsPosition}'}},{label:a.columnTotalPositionText,xtype:'selectfield',autoSelect:!1,useClearIcon:!0,name:'colGrandTotalsPosition',bind:{store:'{sPositions}',value:'{form.colGrandTotalsPosition}'}},{label:a.showZeroAsBlankText,xtype:'selectfield',autoSelect:!1,useClearIcon:!0,name:'showZeroAsBlank',bind:{store:'{sYesNo}',value:'{form.showZeroAsBlank}'}}];a.add(b)}},0,['pivotsettings'],['widget','component','container','panel','fieldpanel','formpanel','pivotsettings'],{'widget':!0,'component':!0,'container':!0,'panel':!0,'fieldpanel':!0,'formpanel':!0,'pivotsettings':!0},['widget.pivotsettings'],0,[Ext.pivot.plugin.configurator,'Settings'],0);Ext.define('Ext.locale.fr.pivot.plugin.configurator.Panel',{override:'Ext.pivot.plugin.configurator.Panel',panelTitle:'Configuration',cancelText:'Annuler',okText:'Termin',panelAllFieldsText:'Dposer les champs inutiliss ici',panelAllFieldsTitle:'Tous les champs',panelTopFieldsText:'Dposer les champs de colonne ici',panelTopFieldsTitle:'Titres de colonne',panelLeftFieldsText:'Dposer les champs de lignes ici',panelLeftFieldsTitle:'Titres de ligne',panelAggFieldsText:'Laissez les champs Agg ici',panelAggFieldsTitle:'Valeurs'});Ext.define('Ext.locale.fr.pivot.plugin.configurator.Settings',{override:'Ext.pivot.plugin.configurator.Settings',titleText:'Paramtres',okText:'Ok',cancelText:'Annuler',layoutText:'Disposition',outlineLayoutText:'Contour',compactLayoutText:'Compact',tabularLayoutText:'Tabulaire',firstPositionText:'Premier',hidePositionText:'Cacher',lastPositionText:'Dernier',rowSubTotalPositionText:'Position de sous-total de la ligne',columnSubTotalPositionText:'Position de sous-total de la colonne',rowTotalPositionText:'Position totale de la ligne',columnTotalPositionText:'Position totale de la colonne',showZeroAsBlankText:'Afficher zro comme blanc',yesText:'Oui',noText:'Non'});Ext.cmd.derive('Ext.pivot.plugin.configurator.Panel',Ext.Panel,{controller:'pivotconfigpanel',isPivotConfigPanel:!0,cls:'x-pivot-grid-config-panel',showAnimation:{type:'slideIn',duration:250,easing:'ease-out',direction:'left'},hideAnimation:{type:'slideOut',duration:250,easing:'ease-in',direction:'right'},panelTitle:'Configuration',panelAllFieldsText:'Drop Unused Fields Here',panelAllFieldsTitle:'All fields',panelTopFieldsText:'Drop Column Fields Here',panelTopFieldsTitle:'Column labels',panelLeftFieldsText:'Drop Row Fields Here',panelLeftFieldsTitle:'Row labels',panelAggFieldsText:'Drop Agg Fields Here',panelAggFieldsTitle:'Values',cancelText:'Cancel',okText:'Done',eventedConfig:{pivot:null,fields:null},listeners:{pivotchange:'onPivotChanged',fieldschange:'onFieldsChanged'},layout:'card',initialize:function(){this.setup();return Ext.Panel.prototype.initialize.call(this)},dragDropField:function(a,b,e,h){var f=this,m=f.getPivot(),d=e.get('field'),i=a.getFieldType(),g=b.getFieldType(),j=f.getController(),l=j.getTopAxisContainer(),k=j.getLeftAxisContainer(),c;if(m.fireEvent('beforemoveconfigfield',this,{fromContainer:a,toContainer:b,field:d})!==!1){if(a!==b){if(g==='all'){a.removeField(e)}else if(g==='aggregate'){b.addField(d,h);if(i!=='all'){a.removeField(e)}}else {c=f.findFieldInContainer(d,b);if(c){return}if(g==='leftAxis'){c=f.findFieldInContainer(d,l);a=c?l:a}else {c=f.findFieldInContainer(d,k);a=c?k:a}if(c){a.removeField(c);b.addField(d)}else {if(i==='aggregate'){a.removeField(e)}b.addField(d,h)}}}else {b.moveField(e,h)}}},isAllowed:function(b,a,f){var d=!0,g=f.get('field'),e=b&&b.getFieldType(),c=a&&a.getFieldType();if(e==='aggregate'&&(c==='leftAxis'||c==='topAxis')){d=!this.findFieldInContainer(g,a)}return d},findFieldInContainer:function(f,d){var c=d.getStore(),e=c.getCount(),a,b;for(a=0;a<e;a++){b=c.getAt(a);if(b.get('field').getDataIndex()===f.getDataIndex()){return b}}},setup:function(){var a=this,b={configchange:'onConfigChanged',toolsbtnpressed:'showCard',removefield:'onRemoveField'};a.add([{itemId:'main',xtype:'container',layout:{type:'hbox',align:'stretch'},defaults:{flex:1},items:[{xtype:'titlebar',docked:'top',title:a.panelTitle,titleAlign:'left',items:[{xtype:'tool',type:'gear',align:'right',handler:'showSettings'},{text:a.cancelText,align:'right',ui:'alt',handler:'cancelConfiguration'},{text:a.okText,align:'right',ui:'alt',handler:'applyConfiguration',margin:'0 0 0 5'}]},{reference:'fieldsCt',xtype:'pivotconfigcontainer',title:a.panelAllFieldsTitle,emptyText:a.panelAllFieldsText,fieldType:'all',listeners:b},{xtype:'container',layout:{type:'vbox',align:'stretch'},defaults:{xtype:'pivotconfigcontainer',flex:1},items:[{reference:'fieldsAggCt',title:a.panelAggFieldsTitle,emptyText:a.panelAggFieldsText,fieldType:'aggregate',listeners:b},{reference:'fieldsLeftCt',title:a.panelLeftFieldsTitle,emptyText:a.panelLeftFieldsText,fieldType:'leftAxis',listeners:b},{reference:'fieldsTopCt',title:a.panelTopFieldsTitle,emptyText:a.panelTopFieldsText,fieldType:'topAxis',listeners:b}]}]},{itemId:'field',xtype:'pivotconfigform',listeners:{close:'backToMainView',beforeapplyconfigfieldsettings:'onBeforeApplyConfigFieldSettings',applyconfigfieldsettings:'onApplyConfigFieldSettings'}},{itemId:'settings',xtype:'pivotsettings',listeners:{close:'backToMainView',beforeapplypivotsettings:'onBeforeApplyPivotSettings',applypivotsettings:'onApplyPivotSettings'}}])},getAllFieldsContainer:function(){return this.lookup('fieldsCt')},getAllFieldsHeader:function(){return this.getAllFieldsContainer().getHeader()},setAllFieldsContainerVisible:function(a){this.getAllFieldsContainer().setHidden(!a)},getLeftAxisContainer:function(){return this.lookup('fieldsLeftCt')},getLeftAxisHeader:function(){return this.getLeftAxisContainer().getHeader()},setLeftAxisContainerVisible:function(a){this.getLeftAxisContainer().setHidden(!a)},getTopAxisContainer:function(){return this.lookup('fieldsTopCt')},getTopAxisHeader:function(){return this.getTopAxisContainer().getHeader()},setTopAxisContainerVisible:function(a){this.getTopAxisContainer().setHidden(!a)},getAggregateContainer:function(){return this.lookup('fieldsAggCt')},getAggregateHeader:function(){return this.getAggregateContainer().getHeader()},setAggregateContainerVisible:function(a){this.getAggregateContainer().setHidden(!a)}},0,['pivotconfigpanel'],['widget','component','container','panel','pivotconfigpanel'],{'widget':!0,'component':!0,'container':!0,'panel':!0,'pivotconfigpanel':!0},['widget.pivotconfigpanel'],0,[Ext.pivot.plugin.configurator,'Panel'],0);Ext.cmd.derive('Ext.pivot.plugin.Configurator',Ext.plugin.Abstract,{config:{fields:[],width:400,panel:{lazy:!0,$value:{xtype:'pivotconfigpanel',hidden:!0,floated:!0,modal:!0,hideOnMaskTap:!0,right:0,height:'100%'}},pivot:null},init:function(a){this.setPivot(a)},destroy:function(){this.setConfig({pivot:null,panel:null});Ext.plugin.Abstract.prototype.destroy.call(this)},enable:function(){this.disabled=!1;this.showConfigurator()},disable:function(){this.disabled=!0;this.hideConfigurator()},applyPanel:function(a,b){if(a){a=a.isInstance?a:Ext.create(a)}return a},updatePanel:function(a,d){var b=this,c=this.getPivot();Ext.destroy(d,b.panelListeners);if(a){b.panelListeners=a.on({hiddenchange:'onPanelHiddenChange',close:'hideConfigurator',scope:b,destroyable:!0});a.setConfig({pivot:c,fields:b.getFields()});c.add(a)}},onPanelHiddenChange:function(b,a){this.getPivot().fireEvent(a?'hideconfigpanel':'showconfigpanel',b)},updatePivot:function(b,c){var a=this;Ext.destroy(a.pivotListeners);if(c){c.showConfigurator=c.hideConfigurator=null}if(b){b.showConfigurator=Ext.bind(a.showConfigurator,a);b.hideConfigurator=Ext.bind(a.hideConfigurator,a);if(b.initialized){a.onPivotInitialized()}else {b.on({initialize:'onPivotInitialized',single:!0,scope:a})}}},getWidth:function(){var c=this.getPivot(),b=Ext.Viewport,a=100;if(c&&c.element){a=c.element.getWidth()}if(b){a=Math.min(a,b.element.getHeight(),b.element.getWidth())}return Ext.Number.constrain(this._width,100,a)},onPivotInitialized:function(){var h=this,m=h.getPivot(),d=h.getFields(),g=m.getMatrix(),p=m.getHeaderContainer&&m.getHeaderContainer(),k=[],i={},o=!1,n,c,f,j,e,b,a,l;if(d.length===0&&g instanceof Ext.pivot.matrix.Local){o=!0;n=g.store;c=n?n.model.getFields():[];e=c.length;for(b=0;b<e;b++){j=c[b].getName();if(!d.byDataIndex.get(j)){d.add({header:Ext.String.capitalize(j),dataIndex:j})}}}c=Ext.Array.merge(g.leftAxis.dimensions.getRange(),g.topAxis.dimensions.getRange(),g.aggregate.getRange());e=c.length;for(b=0;b<e;b++){a=c[b].getConfig();delete a.matrix;delete a.values;delete a.id;f=d.byDataIndex.get(a.dataIndex);if(!f){d.add(a)}else if(o){if(!i[a.dataIndex]){i[a.dataIndex]=0}delete a.header;i[a.dataIndex]++;k.push(a)}}e=k.length;for(b=0;b<e;b++){a=k[b];if(i[a.dataIndex]===1){f=d.byDataIndex.get(a.dataIndex);if(f){l=f.getConfig();Ext.merge(l,a);f.setConfig(l)}}}h.isReady=!0;h.doneSetup=!1;if(p){h.pivotListeners=p.renderElement.on({longpress:'showConfigurator',scope:this})}},hideConfigurator:function(){var a=this.getPanel();if(a){a.hide()}},showConfigurator:function(){var a=this.getPanel();if(a){a.setWidth(this.getWidth());a.show()}},getFields:function(){var a=this._fields;if(!a){a=new Ext.util.Collection({extraKeys:{byDataIndex:'dataIndex'},decoder:function(a){return a&&a.isField?a:new Ext.pivot.plugin.configurator.Field(a||{})}});this.setFields(a)}return a},applyFields:function(a,b){if(a==null||a&&a.isCollection){return a}if(a){if(!b){b=this.getFields()}b.splice(0,b.length,a)}return b},deprecated:{'6.5':{configs:{panelWrapper:null,panelWrap:null}}}},0,0,0,0,['plugin.pivotconfigurator'],0,[Ext.pivot.plugin,'Configurator'],0);Ext.cmd.derive('Ext.pivot.plugin.DrillDown',Ext.plugin.Abstract,{config:{columns:null,width:500,pageSize:25,remoteStore:null,panel:{lazy:!0,$value:{xtype:'panel',hidden:!0,floated:!0,modal:!0,hideOnMaskTap:!0,right:0,height:'100%',showAnimation:{type:'slideIn',duration:250,easing:'ease-out',direction:'left'},hideAnimation:{type:'slideOut',duration:250,easing:'ease-in',direction:'right'},layout:'fit',items:[{docked:'top',xtype:'titlebar',itemId:'title',items:{xtype:'button',text:'Done',ui:'action',align:'right',itemId:'done'}},{xtype:'grid',itemId:'grid',plugins:{gridpagingtoolbar:!0}}]}},pivot:null},titleText:'Drill down',doneText:'Done',init:function(a){this.setPivot(a);return Ext.plugin.Abstract.prototype.init.call(this,a)},destroy:function(){this.setConfig({pivot:null,panel:null});Ext.plugin.Abstract.prototype.destroy.call(this)},updatePivot:function(a){Ext.destroy(this.gridListeners);if(a){this.gridListeners=a.on({pivotitemcelldoubletap:'showPanel',pivotgroupcelldoubletap:'showPanel',pivottotalcelldoubletap:'showPanel',scope:this,destroyable:!0})}},applyPanel:function(a,b){if(a){a=a.isInstance?a:Ext.create(a)}return a},updatePanel:function(b,c){var a=this,d=this.getPivot();Ext.destroy(c,a.panelListeners,a.buttonListeners);if(b){a.panelListeners=b.on({hiddenchange:'onPanelHiddenChange',scope:a,destroyable:!0});b.down('#title').setTitle(a.titleText);a.buttonListeners=b.down('#done').on({tap:'hidePanel',scope:a,destroyable:!0});a.initializeStoreAndColumns();d.add(b)}},initializeStoreAndColumns:function(){var b=this,i=b.getPanel(),g=b.getPivot().getMatrix(),f=Ext.Array.from(b.getColumns()||[]),e=b.getPageSize(),c,a,d,k,h,j;if(!g||!i||!(j=i.down('#grid'))){return}if(g.isLocalMatrix){c=g.store.model.getFields();a=new Ext.data.Store({pageSize:e,fields:Ext.clone(c),proxy:{type:'memory',enablePaging:e>0,reader:{type:'array'}}});if(f.length===0){k=c.length;for(d=0;d<k;d++){h=c[d];f.push({text:Ext.String.capitalize(h.name),dataIndex:h.name,xtype:'column'})}}}else {a=Ext.getStore(b.getRemoteStore());if(a&&a.isStore){a.setPageSize(e);a.setRemoteFilter(!0)}}j.setConfig({store:a,columns:f})},onPanelHiddenChange:function(b,a){this.getPivot().fireEvent(a?'hidedrilldownpanel':'showdrilldownpanel',b)},getWidth:function(){var c=this.getPivot(),b=Ext.Viewport,a=100;if(c&&c.element){a=c.element.getWidth()}if(b){a=Math.min(a,b.element.getHeight(),b.element.getWidth())}return Ext.Number.constrain(this._width,100,a)},showPanel:function(g){var c=this,d=c.getPanel(),f=c.getPivot().getMatrix(),a,h,b,e;if(c.disabled){return}a=f.results.get(g.leftKey,g.topKey);if(!a||!d||!(h=d.down('#grid'))){return}b=h.getStore();if(f.isLocalMatrix){b.getProxy().setData(a.records);b.loadPage(1)}else {e=Ext.Array.merge(c.getFiltersFromParams(a.getLeftAxisItem()?a.getLeftAxisItem().data:{}),c.getFiltersFromParams(a.getTopAxisItem()?a.getTopAxisItem().data:{}));b.clearFilter(!0);if(e.length>0){b.addFilter(e)}else {b.load()}}d.setWidth(c.getWidth());d.show()},hidePanel:function(){var a=this.getPanel();if(a){a.hide()}},getFiltersFromParams:function(c){var d=[],a,e,b;if(Ext.isObject(c)){b=Ext.Object.getKeys(c);e=b.length;for(a=0;a<e;a++){d.push({property:b[a],exactMatch:!0,value:c[b[a]]})}}return d}},0,0,0,0,['plugin.pivotdrilldown'],0,[Ext.pivot.plugin,'DrillDown'],0);Ext.define('Ext.locale.fr.pivot.plugin.DrillDown',{override:'Ext.pivot.plugin.DrillDown',titleText:'Explorer en dtail',doneText:'Termin'});Ext.define('App.overrides.pivot.plugin.DrillDown',{override:'Ext.pivot.plugin.DrillDown',titleText:'Liste des Enregistrements Correspondants',doneText:'OK',config:{panel:{lazy:!0,$value:{xtype:'panel',hidden:!0,floated:!0,modal:!0,hideOnMaskTap:!0,right:0,height:'100%',showAnimation:{type:'slideIn',duration:250,easing:'ease-out',direction:'left'},hideAnimation:{type:'slideOut',duration:250,easing:'ease-in',direction:'right'},layout:'fit',items:[{docked:'top',xtype:'titlebar',itemId:'title',items:{xtype:'button',text:'OK',ui:'action',align:'right',itemId:'done'}},{xtype:'grid',itemId:'grid',plugins:{gridpagingtoolbar:!0}}]}},pivot:null}});Ext.define('Ext.ux.google.Map',{extend:'Ext.Container',xtype:['map','google-map'],alternateClassName:'Ext.Map',mixins:['Ext.mixin.Mashup'],requiredScripts:['//maps.googleapis.com/maps/api/js{options}'],isMap:!0,config:{useCurrentLocation:!1,map:null,geo:null,mapOptions:{},mapListeners:null,markers:null,markerTemplate:{title:'{title}',position:'{position}',animation:'{animation}',clickable:'{clickable}',draggable:'{draggable}',visible:'{visible}'}},baseCls:'x-map',constructor:function(a){Ext.Container.prototype.constructor.call(this,a);if(!(window.google||{}).maps){this.setHtml('Google Maps API is required')}},initialize:function(){Ext.Container.prototype.initialize.call(this);this.initMap();this.on({painted:'onPainted',scope:this});this.bodyElement.on('touchstart','onTouchStart',this)},initMap:function(){var c=this.getMap();if(!c){var d=(window.google||{}).maps;if(!d){return null}var f=this.mapContainer,a=this.getMapOptions(),e=d.event,b=this;if(f.dom.firstChild){Ext.fly(f.dom.firstChild).destroy()}if(Ext.os.is.iPad){Ext.merge({navigationControlOptions:{style:d.NavigationControlStyle.ZOOM_PAN}},a)}a.mapTypeId=a.mapTypeId||d.MapTypeId.ROADMAP;a.center=a.center||new d.LatLng(37.381592,-122.135672);if(a.center&&a.center.latitude&&!Ext.isFunction(a.center.lat)){a.center=new d.LatLng(a.center.latitude,a.center.longitude)}a.zoom=a.zoom||12;c=new d.Map(f.dom,a);this.setMap(c);e.addListener(c,'zoom_changed',Ext.bind(b.onZoomChange,b));e.addListener(c,'maptypeid_changed',Ext.bind(b.onTypeChange,b));e.addListener(c,'center_changed',Ext.bind(b.onCenterChange,b));e.addListenerOnce(c,'tilesloaded',Ext.bind(b.onTilesLoaded,b));this.addMapListeners()}return this.getMap()},renderMap:function(){this.initMap()},getElementConfig:function(){return {reference:'element',className:'x-container',children:[{reference:'bodyElement',className:'x-inner',children:[{reference:'mapContainer',className:'x-map-container'}]}]}},onTouchStart:function(a){a.makeUnpreventable()},updateMap:function(b){var a=this.getMarkers();if(a){a.each(function(c){var a=this.getMarkerForRecord(c);if(a){a.setMap(b)}},this)}},applyMapOptions:function(a){return Ext.merge({},this.options,a)},updateMapOptions:function(b){var c=(window.google||{}).maps,a=this.getMap();if(c&&a){a.setOptions(b)}},applyMarkers:function(a){if(!a){return null}if(a.isStore){return a}if(Ext.isArray(a)){a={data:a}}else if(Ext.isObject(a)){a={data:[a]}}return Ext.getStore(a)},updateMarkers:function(a,b){var d=this,c={add:'onMarkersAdd',remove:'onMarkersRemove',itemchange:'onMarkerChange',scope:this};if(b&&b.isStore){b.getData().un(c);d.removeMarkers(b.getRange())}if(a&&a.isStore){d.addMarkers(a.getRange());a.getData().on(c)}},applyMarkerTemplate:function(a){return Ext.util.ObjectTemplate.create(a)},updateMarkerTemplate:function(b){var a=this.getMarkers();if(a){this.refreshMarkers(a.getRange())}},doMapCenter:function(){this.setMapCenter(this.getMapOptions().center)},getMapOptions:function(){return Ext.merge({},this.options||this.getInitialConfig('mapOptions'))},updateUseCurrentLocation:function(a){this.setGeo(a);if(!a){this.setMapCenter()}},applyGeo:function(a){return Ext.factory(a,Ext.util.Geolocation,this.getGeo())},updateGeo:function(a,c){var b={locationupdate:'onGeoUpdate',locationerror:'onGeoError',scope:this};if(c){c.un(b)}if(a){a.on(b);a.updateLocation()}},onPainted:function(){var c=(window.google||{}).maps,a=this.getMap(),b;if(c&&a){b=a.getCenter();c.event.trigger(a,'resize');if(b){a.setCenter(b)}}},onTilesLoaded:function(){this.fireEvent('maprender',this,this.getMap())},addMapListeners:function(){var i=(window.google||{}).maps,j=this.getMap(),d=this.getMapListeners();if(i){var h=i.event,k=this,a,e,c,b,g;if(Ext.isSimpleObject(d)){for(var f in d){a=d[f];if(Ext.isSimpleObject(a)){e=a.scope;c=a.fn}else if(Ext.isFunction(a)){e=null;c=a}if(c){b=function(){this.fn.apply(this.scope,[k]);if(this.handle){h.removeListener(this.handle);delete this.handle;delete this.fn;delete this.scope}};g=h.addListener(j,f,Ext.bind(b,b));b.fn=c;b.scope=e;if(a.single===!0){b.handle=g}}}}}},onGeoUpdate:function(a){if(a){this.setMapCenter(new google.maps.LatLng(a.getLatitude(),a.getLongitude()))}},onGeoError:Ext.emptyFn,setMapCenter:function(a){var d=this,b=d.getMap(),e=d.getMapOptions(),c=(window.google||{}).maps,f;if(c){if(!a){if(b&&b.getCenter){a=b.getCenter()}else if(e.hasOwnProperty('center')){a=e.center}else {a=new c.LatLng(37.381592,-122.135672)}}else if(a.isModel){var f=d.getMarkerForRecord(a);a=f&&f.position}if(a&&!(a instanceof c.LatLng)&&'longitude' in a){a=new c.LatLng(a.latitude,a.longitude)}if(!b){e.center=e.center||a;d.renderMap();b=d.getMap()}if(b&&a instanceof c.LatLng){b.panTo(a)}else {this.options=Ext.apply(this.getMapOptions(),{center:a})}}},fitMarkersInView:function(b){var i=this,c=i.getMap(),h=c.getBounds(),j=i.getMarkers(),k=(window.google||{}).maps,a,d,e,f,g;if(!c||!h||!j){return}if(Ext.isEmpty(b)){b=j.getRange();if(Ext.isEmpty(b)){return}}a=new k.LatLngBounds();Ext.each(b,function(d){var c=i.getMarkerForRecord(d);if(c){a.extend(c.getPosition())}});d=a.getNorthEast();e=a.getSouthWest();f=h.getNorthEast();g=h.getSouthWest();if(d.lat()-e.lat()>f.lat()-g.lat()||d.lng()-e.lng()>f.lng()-g.lng()){c.fitBounds(a)}else {c.panToBounds(a)}},onZoomChange:function(){var c=this.getMapOptions(),a=this.getMap(),b;b=a&&a.getZoom?a.getZoom():c.zoom||10;this.options=Ext.apply(c,{zoom:b});this.fireEvent('zoomchange',this,a,b)},onTypeChange:function(){var c=this.getMapOptions(),a=this.getMap(),b;b=a&&a.getMapTypeId?a.getMapTypeId():c.mapTypeId;this.options=Ext.apply(c,{mapTypeId:b});this.fireEvent('typechange',this,a,b)},onCenterChange:function(){var c=this.getMapOptions(),a=this.getMap(),b;b=a&&a.getCenter?a.getCenter():c.center;this.options=Ext.apply(c,{center:b});this.fireEvent('centerchange',this,a,b)},doDestroy:function(){Ext.destroy(this.getGeo());var a=this.getMap();if(a&&(window.google||{}).maps){google.maps.event.clearInstanceListeners(a)}Ext.Container.prototype.doDestroy.call(this)},privates:{markerEvents:['click','dblclick','drag','dragend','dragstart','mousedown','mouseout','mouseover','mouseup','rightclick'],getMarkerForRecord:function(b){var a=b&&Ext.getExpando(b,this.getId());return a&&a.marker||null},buildMarkerOptions:function(c,d){var a=d.apply(c.getData(!0)),e=(window.google||{}).maps,b=a.animation;if(typeof b==='string'){a.animation=e.Animation[b]||null}return a},addMarkers:function(b){var a=this,e=a.getId(),f=a.getMap(),g=a.getMarkerTemplate(),h=(window.google||{}).maps,d=a.getMarkers(),c=a.markerEvents;Ext.each(b,function(i){var m=d.indexOf(i),l=a.buildMarkerOptions(i,g),j=new h.Marker(Ext.apply(l,{map:f})),k=c.map(function(c){return j.addListener(c,function(d){a.fireEvent('marker'+c,a,{index:m,record:i,marker:j,event:d})})});Ext.setExpando(i,e,{listeners:k,marker:j})})},removeMarkers:function(b){var a=this.getId();Ext.each(b,function(e){var c=Ext.getExpando(e,a),d=c&&c.marker;if(d){d.setMap(null);Ext.each(c.listeners||[],function(a){a.remove()})}Ext.setExpando(e,a,undefined)})},refreshMarkers:function(e){var d=this,g=d.getMarkerTemplate(),f=e.length,c,b,a;for(a=0;a<f;++a){c=e[a];b=d.getMarkerForRecord(c);if(b){b.setOptions(d.buildMarkerOptions(c,g))}}},onMarkersAdd:function(b,a){this.addMarkers(a.items)},onMarkersRemove:function(b,a){this.removeMarkers(a.items)},onMarkerChange:function(b,a){this.refreshMarkers([a.item])}}});function doesConnectionExist(){if(!navigator.onLine){return !1}var a=new (window.ActiveXObject||XMLHttpRequest)('Microsoft.XMLHTTP');var c='https://www.google.com/images/branding/googlelogo/2x/googlelogo_color_120x44dp.png';var b=Math.round(Math.random()*10000);try{a.open('HEAD',c+'?rand='+b,!0);a.send();return a.status>=200&&(a.status<300||a.status===304)}catch(d){return !1}}Ext.define('App.overrides.ux.google.Map',{override:'Ext.ux.google.Map'});Ext.cmd.derive('App.controller.Action',Ext.app.Controller,{listen:{controller:{'*':{actionlog:'log',actionexec:'exec'}}},subject:function(b,a){switch(b){case 'phone':return a.get('phone');case 'profile':return a.get('username');default:return a.get(b);}},log:function(b,a,d,c){Ext.create('App.model.Action',{type:b,object:c,person_id:App.user.getId(),author:App.user.get('username'),subject:a}).save()},exec:function(b,a){if(!a){return !1}switch(b){case 'email':a.mailTo();break;case 'phone':a.phoneCall();break;break;default:Ext.error('Unknown action: '+b);return !1;}this.log(b,a);return !0}},0,0,0,0,0,0,[App.controller,'Action'],0);Ext.cmd.derive('App.model.Base',Ext.data.Model,{identifier:'uuid',fields:[{name:'url',calculate:function(a){return Ext.String.format('{0:lowercase}/{1}',this.owner.entityName,a.id)}}],schema:{namespace:'App.model',proxy:{type:'direct',api:{create:'insert',read:'list',update:'update',destroy:'remove'},reader:{type:'json',rootProperty:'data',messageProperty:'message'},extraParams:{scope:'browse'}}},toUrl:function(){return this.get('url')},toEditUrl:function(){return this.toUrl()+'/edit'}},0,0,0,0,0,0,[App.model,'Base'],0);Ext.cmd.derive('App.model.Action',App.model.Base,{fields:[{name:'type',type:'int'},{name:'type_label',type:'string',persist:!1,depends:['type'],convert:function(c,b){var a=b.get('type');switch(a){case 1:return 'Modification Reporting';case 2:return 'Modification Etat des UP';default:return 'Non spcifi';}}},{name:'object',type:'string'},{name:'subject',type:'string'},{name:'author',type:'string'},{name:'created',type:'date',dateFormat:'C',persist:!1},{name:'person_id',reference:'User'},{name:'objectUrl',calculate:function(d){var c=d.object;var a=c.split(' / PA ');var b=a[0];var e=a[1];return Ext.String.format('reporting/province/{0}/plan_actions/{1}/',b,e)}}],proxy:{api:{prefix:'Server.actions'}}},0,0,0,0,0,0,[App.model,'Action'],0);Ext.cmd.derive('App.model.Provincial',App.model.Base,{fields:[{name:'code_hcp',type:'string'},{name:'province_code',type:'int'},{name:'province',type:'string',persist:!1,depends:['province_code'],convert:function(c,b){var a=b.getProvinceMatch();return a?a.get('label'):null}},{name:'region_code',type:'int',persist:!1,depends:['province_code'],convert:function(c,b){if(typeof c!=='undefined'&&!b.get('province_code')){return c}var a=b.getProvinceMatch();return a?a.get('region_code'):null}},{name:'region',type:'string',persist:!1,depends:['region_code'],convert:function(e,d){var a=d.get('region_code');if(a==null){return null}var c=App.app.getINDHRegionsStore();var b=c.findRecord('value',a);return b?b.get('label'):null}},{name:'province_order',type:'string',persist:!1,depends:['province_code'],convert:function(c,b){var a=b.get('province_code');if(a==null){a='99'}return Ext.String.leftPad(a.toString(),2,'0')+' # '+b.get('province')}},{name:'region_order',type:'string',persist:!1,depends:['region_code'],convert:function(c,b){var a=b.get('region_code');if(a==null){a='99'}return Ext.String.leftPad(a.toString(),2,'0')+' # '+b.get('region')}}],getProvinceMatch:function(){var a=this.get('province_code');if(a==null){return null}if(!App.app){return}var b=App.app.getINDHProvincesStore();return b.findRecord('value',a,0,!1,!0,!0)}},0,0,0,0,0,0,[App.model,'Provincial'],0);Ext.cmd.derive('App.model.Commune',App.model.Provincial,{identifier:'sequential',fields:[{name:'label',type:'string'},{name:'alt_label',type:'string'},{name:'value',type:'int',persist:!1,depends:['id'],convert:function(b,a){return a.getId()}},{name:'cercle_code',type:'int'},{name:'est_rural',type:'boolean'},{name:'cercle',type:'string',persist:!1,depends:['cercle_code'],convert:function(c,b){var a=b.getCercleMatch();return a?a.get('label'):null}},{name:'nbre_ups_programmees',type:'int',persist:!1},{name:'nbre_ups_ouvertes',type:'int',persist:!1},{name:'nbre_ups_programmees2023',type:'int',persist:!1}],getCercleMatch:function(){var a=this.get('cercle_code');if(a==null){return null}if(!App.app){return}var b=App.app.getINDHCerclesStore();return b.findRecord('value',a,0,!1,!0,!0)}},0,0,0,0,0,0,[App.model,'Commune'],0);Ext.cmd.derive('App.model.Delegation',App.model.Base,{fields:[{name:'tranche_no',type:'int'},{name:'libelle',type:'string'},{name:'plan_actions',type:'string'},{name:'nature_affectation',type:'string'},{name:'date_delegation',type:'date',dateFormat:'C'},{name:'annee_budgetaire',persist:!1,calculate:function(a){return parseInt(Ext.Date.format(a.date_delegation,'Y'),10)}},{name:'est_effective',type:'boolean'},{name:'nbre_mois_fonctionnement',type:'int'},{name:'observations',type:'string'},{name:'montant_global',type:'float',persist:!1},{name:'unitescount',type:'int',persist:!1},{name:'sallescount',type:'int',persist:!1},{name:'provincescount',type:'int',persist:!1},{name:'lot_id',reference:'Lot'},{name:'montant_effectif',type:'float',persist:!1},{name:'unitescount_effectif',type:'int',persist:!1},{name:'sallescount_effectif',type:'int',persist:!1},{name:'provincescount_effectif',type:'int',persist:!1},{name:'tranche_libelle',type:'string',persist:!1,depends:['tranche_no','nature_affectation'],convert:function(e,c){var a=c.get('tranche_no');if(a<3){return c.get('nature_affectation')}var d=App.app.getINDHTranchesStore();var b=d.findRecord('value',a);return b?b.get('label'):null}}],manyToMany:{DelegationUnites:{type:'App.model.Unite',role:'unites',field:'unite_id',right:{field:'delegation_id',role:'delegations'}}},proxy:{api:{prefix:'Server.delegations'}}},0,0,0,0,0,0,[App.model,'Delegation'],0);Ext.cmd.derive('App.model.DelegationUnite',App.model.Base,{fields:[{name:'unite_id',reference:'Unite'},{name:'delegation_id',reference:'Delegation'},{name:'lot_id',reference:'Lot'},{name:'montant',type:'float'}],proxy:{api:{prefix:'Server.delegationunites'}}},0,0,0,0,0,0,[App.model,'DelegationUnite'],0);Ext.cmd.derive('App.model.Document',Ext.data.Model,{fields:[{name:'file',type:'string'},{name:'nature',type:'string'}]},0,0,0,0,0,0,[App.model,'Document'],0);Ext.cmd.derive('App.model.Douar',App.model.Provincial,{fields:[{name:'code_douar',type:'string'},{name:'code_douar_mere',type:'string'},{name:'douar_mere',type:'string'},{name:'est_sousdouar',type:'boolean'},{name:'nom_fr',type:'string'},{name:'nom_ar',type:'string'},{name:'type',type:'integer'},{name:'cercle_code',type:'int'},{name:'cercle',type:'string',persist:!1,depends:['cercle_code'],convert:function(c,b){var a=b.getCercleMatch();return a?a.get('label'):null}},{name:'population',type:'int'},{name:'nbre_menages',type:'int'},{name:'milieu',type:'string'},{name:'location',type:'auto',defaultValue:{'lat':null,'lng':null}},{name:'has_prescolaire',type:'boolean'},{name:'type_ecole',type:'string'}],proxy:{api:{prefix:'Server.douars'}},getCercleMatch:function(){var a=this.get('cercle_code');if(a==null){return null}var b=App.app.getINDHCerclesStore();return b.findRecord('value',a,0,!1,!0,!0)}},0,0,0,0,0,0,[App.model,'Douar'],0);Ext.cmd.derive('App.model.Effectif',App.model.Base,{fields:[{name:'unite_id',reference:'Unite'},{name:'annee_scolaire',type:'string'},{name:'ms_filles',type:'int'},{name:'ms_garcons',type:'int'},{name:'ms_total',type:'int',depends:['ms_filles','ms_garcons'],persist:!1,calculate:function(a){return a.ms_filles+a.ms_garcons}},{name:'gs_garcons',type:'int'},{name:'gs_filles',type:'int'},{name:'gs_total',type:'int',depends:['gs_garcons','gs_filles'],persist:!1,calculate:function(a){return a.ms_filles+a.ms_garcons}},{name:'total_global',type:'int',depends:['gs_garcons','gs_filles','ms_filles','ms_garcons'],persist:!1,calculate:function(a){return a.gs_garcons+a.gs_filles+a.ms_filles+a.ms_garcons}},{name:'total_garcons',type:'int',depends:['gs_garcons','ms_garcons'],persist:!1,calculate:function(a){return a.gs_garcons+a.ms_garcons}},{name:'total_filles',type:'int',depends:['gs_filles','ms_filles'],persist:!1,calculate:function(a){return a.gs_filles+a.ms_filles}},{name:'inscrits_primaire_total',type:'int'},{name:'inscrits_primaire_filles',type:'int'},{name:'inscrits_primaire_garcons',type:'int'},{name:'ms_passe_gs',type:'int'},{name:'ms_reinscrit_ms',type:'int'},{name:'ms_passe_primaire',type:'int'},{name:'gs_primaire',type:'int'},{name:'gs_refait_gs',type:'int'},{name:'nbre_arret_scolarite',type:'int'}],proxy:{api:{prefix:'Server.effectifs'}}},0,0,0,0,0,0,[App.model,'Effectif'],0);Ext.cmd.derive('App.model.Event',App.model.Base,{fields:[{name:'date',type:'date'},{name:'type',type:'string'},{name:'userId',reference:'User'},{name:'days_to_now',calculate:function(a){return a.date?Ext.Date.diff(Ext.Date.clearTime(new Date()),Ext.Date.clearTime(a.date),'d'):null}}],proxy:{api:{prefix:'Server.events'}}},0,0,0,0,0,0,[App.model,'Event'],0);Ext.cmd.derive('App.model.Filter',Ext.data.Model,{idProperty:'value',fields:[{name:'value',type:'string'},{name:'label',type:'string'},{name:'count',type:'int'}]},0,0,0,0,0,0,[App.model,'Filter'],0);Ext.cmd.derive('App.model.Lot',App.model.Base,{fields:[{name:'libelle',type:'string'},{name:'date_delegation',type:'date',dateFormat:'C'},{name:'observations',type:'string'},{name:'annee_budgetaire',persist:!1,calculate:function(a){return parseInt(Ext.Date.format(a.date_delegation,'Y'),10)}},{name:'delegationscount',type:'int',persist:!1},{name:'montant_effectif',type:'float',persist:!1}],proxy:{api:{prefix:'Server.lots'}}},0,0,0,0,0,0,[App.model,'Lot'],0);Ext.cmd.derive('App.model.Unite',App.model.Provincial,{convertOnSet:!1,fields:[{name:'created',type:'date',dateFormat:'C'},{name:'updated',type:'date',dateFormat:'C'},{name:'cercle_code',type:'int'},{name:'cercle',type:'string',persist:!1,depends:['cercle_code'],convert:function(e,d){var a=d.get('cercle_code');if(a==null){return null}var c=App.app.getINDHCerclesStore();var b=c.findRecord('value',a,0,!1,!0,!0);return b?b.get('label'):null}},{name:'commune_code',type:'int'},{name:'commune',type:'string'},{name:'commune_label',type:'string',persist:!1,depends:['commune_code'],convert:function(e,d){var a=d.get('commune_code');if(!a){return null}var c=App.app.getINDHCommunesStore();var b=c.findRecord('id',a,0,!1,!0,!0);return b?b.get('label'):null}},{name:'annexe_administrative',type:'string'},{name:'douar_quartier',type:'string'},{name:'code_douar',type:'string'},{name:'adresse',type:'string'},{name:'plan_actions',type:'int'},{name:'fp_code',type:'int'},{name:'fondation_partenaire',type:'string',persist:!1,depends:['fp_code'],convert:function(d,c){var b=App.app.getINDHFondationsStore();var a=b.findRecord('value',c.get('fp_code'),0,!1,!0,!0);return a?a.get('label'):null}},{name:'date_situation',type:'date',dateFormat:'C'},{name:'intitule',type:'string'},{name:'nbre_salles',type:'int'},{name:'nbre_salles_ouvertes',type:'int',persist:!0,convert:function(e,a){var c=a.get('est_ouverte');var b=a.get('nbre_salles_ouvertes');if(c){if(b>0){return b}var d=a.get('nbre_salles');return d}return 0}},{name:'nbre_classes',type:'int'},{name:'statut',type:'string'},{name:'est_programmee',type:'boolean'},{name:'est_programmee_pp',type:'boolean'},{name:'dispose_convention_signee',type:'boolean'},{name:'est_livree',type:'boolean'},{name:'est_ouverte',type:'boolean'},{name:'est_ouverte_bilan2022',type:'boolean'},{name:'est_ouverte_fp',type:'boolean'},{name:'est_resiliee',type:'boolean'},{name:'est_en_arret',type:'boolean'},{name:'operationnalite',type:'int'},{name:'operationnalite_label',type:'string',persist:!1,depends:['operationnalite'],convert:function(b,a){switch(a.get('operationnalite')){case 1:return 'En arrt de fonctionnement';case 0:return 'Non encore ouverte';case 2:return 'Rsilie';case 3:return 'Oprationnelle';case 4:return 'Oprationnelle sans inscrits';default:return null;}}},{name:'modified_by',type:'string'},{name:'date_ouverture',type:'date',dateFormat:'C'},{name:'date_arret',type:'date',dateFormat:'C'},{name:'date_resiliation',type:'date',dateFormat:'C'},{name:'montant_delegue',type:'float'},{name:'tranches',type:'string',persist:!1},{name:'tranches_arr',type:'auto',persist:!1,depends:['tranches'],convert:function(b,a){return a.get('tranches').split(',').map(function(c){return parseInt(c)})}},{name:'delegation_tr1',type:'boolean',convert:function(d,b){var a=b.get('tranches_arr');if(a.indexOf(P_TRANCHES.TR1)>-1||a.indexOf(P_TRANCHES.ANNEE_1)>-1||a.indexOf(P_TRANCHES.ANNEE_1_2)>-1){return !0}var c=b.get('last_tranche');if(c>P_TRANCHES.TR1){return !0}return !1}},{name:'delegation_tr2',type:'boolean',convert:function(d,b){var a=b.get('tranches_arr');if(a.indexOf(P_TRANCHES.TR2)>-1||a.indexOf(P_TRANCHES.ANNEE_1)>-1||a.indexOf(P_TRANCHES.ANNEE_1_2)>-1){return !0}var c=b.get('last_tranche');if(c>P_TRANCHES.TR2){return !0}return !1}},{name:'delegation_tr3',type:'boolean',convert:function(d,b){var a=b.get('tranches_arr');if(a.indexOf(P_TRANCHES.TR3)>-1||a.indexOf(P_TRANCHES.ANNEE_2)>-1||a.indexOf(P_TRANCHES.ANNEE_1_2)>-1){return !0}var c=b.get('last_tranche');if(c>P_TRANCHES.TR3){return !0}return !1}},{name:'delegation_tr4',type:'boolean',convert:function(d,b){var a=b.get('tranches_arr');if(a.indexOf(P_TRANCHES.TR4)>-1||a.indexOf(P_TRANCHES.ANNEE_2)>-1||a.indexOf(P_TRANCHES.ANNEE_1_2)>-1){return !0}var c=b.get('last_tranche');if(c>P_TRANCHES.TR4){return !0}return !1}},{name:'delegation_tr_3annee',type:'boolean',convert:function(c,b){var a=b.get('tranches_arr');return a.indexOf(P_TRANCHES.ANNEE_3)>-1}},{name:'delegation_tr_4annee',type:'boolean',convert:function(c,b){var a=b.get('tranches_arr');return a.indexOf(P_TRANCHES.ANNEE_4)>-1}},{name:'delegation_tr_complement',type:'boolean',convert:function(c,b){var a=b.get('tranches_arr');return a.indexOf(P_TRANCHES.COMPLEMENT_PERENISATION)>-1}},{name:'last_tranche',type:'int',persist:!1},{name:'last_delegation_dt',type:'date',dateFormat:'C',persist:!1},{name:'last_tranche_label',type:'string',persist:!1,depends:['last_tranche','last_delegation_dt'],convert:function(f,d){var b=d.get('last_tranche');var a=d.get('last_delegation_dt');if(b==null||!a){return null}if(a){a=Ext.util.Format.date(a,'d/m/Y')}var e=App.app.getINDHTranchesStore();var c=e.findRecord('value',parseInt(b));return c?c.get('label').replace('Tranche de Fonctionnement','TR').replace('Anne de Fonctionnement','Anne de Fct.')+' ('+a+')':null}},{name:'date_achevement_2ans',type:'date',dateFormat:'C',persist:!1,depends:['date_ouverture'],convert:function(c,b){var a=b.get('date_ouverture');if(!a){a=new Date()}return Ext.Date.add(a,Ext.Date.YEAR,2)}},{name:'accomplissement_2ans_2023',type:'date',dateFormat:'C',persist:!1,depends:['date_ouverture'],convert:function(e,d){var a=d.get('date_ouverture');if(!a){return !1}var b=Ext.Date.add(a,Ext.Date.YEAR,2);var c=new Date(2023,11,31);return b<=c}},{name:'date_glissement',type:'date',dateFormat:'C',persist:!1,depends:['date_ouverture'],convert:function(e,d){var a=d.get('date_ouverture');if(!a){a=new Date()}var b=Ext.Date.add(a,Ext.Date.YEAR,2);var c=new Date(2023,8,1);if(b<c){return c}return b}},{name:'annee_glissement',type:'date',dateFormat:'C',persist:!1,depends:['date_ouverture'],convert:function(e,d){var a=d.get('date_ouverture');if(!a){a=new Date()}var b=Ext.Date.add(a,Ext.Date.YEAR,2);var c=new Date(2023,8,1);if(b<c){b=c}return b.getFullYear()}},{name:'trimestre_glissement',type:'date',dateFormat:'C',persist:!1,depends:['date_ouverture'],convert:function(e,d){var b=d.get('date_ouverture');if(!b){b=new Date()}var a=Ext.Date.add(b,Ext.Date.YEAR,2);var c=new Date(2023,8,1);if(a<c){a=c}return a.getFullYear()+' / T'+Math.ceil(a.getMonth()/3)}},{name:'nombre_postes_total',type:'int'},{name:'nombre_educatrices_femme',type:'int'},{name:'nombre_educatrices_homme',type:'int'},{name:'nombre_educatrices_total',type:'int'},{name:'saison_2020_2021_moyenne_section_filles',type:'int'},{name:'saison_2020_2021_moyenne_section_garcons',type:'int'},{name:'saison_2020_2021_total_moyenne_section',type:'int'},{name:'saison_2020_2021_grande_section_filles',type:'int'},{name:'saison_2020_2021_grande_section_garcons',type:'int'},{name:'saison_2020_2021_total_grande_section',type:'int'},{name:'saison_2020_2021_total_global',type:'int'},{name:'saison_2020_2021_total_filles',type:'int'},{name:'saison_2020_2021_total_garcons',type:'int'},{name:'saison_2021_2022_moyenne_section_filles',type:'int'},{name:'saison_2021_2022_moyenne_section_garcons',type:'int'},{name:'saison_2021_2022_total_moyenne_section',type:'int'},{name:'saison_2021_2022_grande_section_filles',type:'int'},{name:'saison_2021_2022_grande_section_garcons',type:'int'},{name:'saison_2021_2022_total_grande_section',type:'int'},{name:'saison_2021_2022_total_global',type:'int'},{name:'saison_2021_2022_total_filles',type:'int'},{name:'saison_2021_2022_total_garcons',type:'int'},{name:'saison_2022_2023_moyenne_section_filles',type:'int'},{name:'saison_2022_2023_moyenne_section_garcons',type:'int'},{name:'saison_2022_2023_total_moyenne_section',type:'int'},{name:'saison_2022_2023_grande_section_filles',type:'int'},{name:'saison_2022_2023_grande_section_garcons',type:'int'},{name:'saison_2022_2023_total_grande_section',type:'int'},{name:'saison_2022_2023_total_global',type:'int'},{name:'saison_2022_2023_total_filles',type:'int'},{name:'saison_2022_2023_total_garcons',type:'int'},{name:'tx_remplissage',type:'float',persist:!1,depends:['saison_2022_2023_total_global','nbre_salles'],convert:function(d,c){var a=c.get('saison_2022_2023_total_global');var b=c.get('nbre_salles')*25;return a>0&&b>0?Math.round(a*100/b):0}},{name:'saison_2019_2020_total_global',type:'int'},{name:'saison_2019_2020_total_grande_section',type:'int'},{name:'saison_2019_2020_total_moyenne_section',type:'int'},{name:'saison_2019_2020_inscrits_primaire_total',type:'int'},{name:'saison_2019_2020_inscrits_primaire_filles',type:'int'},{name:'saison_2019_2020_inscrits_primaire_garcons',type:'int'},{name:'saison_2019_2020_ms_passe_gs',type:'int'},{name:'saison_2019_2020_ms_reinscrit_ms',type:'int'},{name:'saison_2019_2020_ms_passe_primaire',type:'int'},{name:'saison_2019_2020_gs_primaire',type:'int'},{name:'saison_2019_2020_gs_refait_gs',type:'int'},{name:'saison_2019_2020_nbre_arret_scolarite',type:'int'},{name:'saison_2020_2021_inscrits_primaire_total',type:'int'},{name:'saison_2020_2021_inscrits_primaire_filles',type:'int'},{name:'saison_2020_2021_inscrits_primaire_garcons',type:'int'},{name:'saison_2020_2021_ms_passe_gs',type:'int'},{name:'saison_2020_2021_ms_reinscrit_ms',type:'int'},{name:'saison_2020_2021_ms_passe_primaire',type:'int'},{name:'saison_2020_2021_gs_primaire',type:'int'},{name:'saison_2020_2021_gs_refait_gs',type:'int'},{name:'saison_2020_2021_nbre_arret_scolarite',type:'int'},{name:'saison_2021_2022_inscrits_primaire_total',type:'int'},{name:'saison_2021_2022_inscrits_primaire_filles',type:'int'},{name:'saison_2021_2022_inscrits_primaire_garcons',type:'int'},{name:'saison_2021_2022_ms_passe_gs',type:'int'},{name:'saison_2021_2022_ms_reinscrit_ms',type:'int'},{name:'saison_2021_2022_ms_passe_primaire',type:'int'},{name:'saison_2021_2022_gs_primaire',type:'int'},{name:'saison_2021_2022_gs_refait_gs',type:'int'},{name:'saison_2021_2022_nbre_arret_scolarite',type:'int'},{name:'saison_2022_2023_inscrits_primaire_total',type:'int'},{name:'saison_2022_2023_inscrits_primaire_filles',type:'int'},{name:'saison_2022_2023_inscrits_primaire_garcons',type:'int'},{name:'saison_2022_2023_ms_passe_gs',type:'int'},{name:'saison_2022_2023_ms_reinscrit_ms',type:'int'},{name:'saison_2022_2023_ms_passe_primaire',type:'int'},{name:'saison_2022_2023_gs_primaire',type:'int'},{name:'saison_2022_2023_gs_refait_gs',type:'int'},{name:'saison_2022_2023_nbre_arret_scolarite',type:'int'},{name:'saison_2023_2024_moyenne_section_filles',type:'int'},{name:'saison_2023_2024_moyenne_section_garcons',type:'int'},{name:'saison_2023_2024_total_moyenne_section',type:'int'},{name:'saison_2023_2024_grande_section_filles',type:'int'},{name:'saison_2023_2024_grande_section_garcons',type:'int'},{name:'saison_2023_2024_total_grande_section',type:'int'},{name:'saison_2023_2024_total_global',type:'int'},{name:'saison_2023_2024_total_filles',type:'int'},{name:'saison_2023_2024_total_garcons',type:'int'},{name:'saison_2023_2024_total_global_q',type:'int'},{name:'cout_equipement',type:'float',depends:['nbre_salles'],persist:!0,convert:function(b,a){return a.get('nbre_salles')*25000}},{name:'age_mois',type:'int',persist:!1,depends:['date_ouverture'],calculate:function(c){var a=c.date_ouverture;if(!a){return 0}var b=new Date();return Math.ceil(Ext.Date.diff(a,b,Ext.Date.DAY)/30)}},{name:'code_douar',type:'string'},{name:'trans_fiche_completee',type:'boolean'},{name:'trans_situation_financiere_regularisee',type:'boolean'},{name:'trans_retenue_phase1',type:'boolean'},{name:'objet_etude_impact',type:'boolean'}],proxy:{api:{prefix:'Server.unites'}}},0,0,0,0,0,0,[App.model,'Unite'],0);Ext.cmd.derive('App.model.Projet',App.model.Unite,{fields:[{name:'programme',type:'string'},{name:'mode_creation',type:'string'},{name:'type_unite',type:'string',persist:!0,convert:function(d,c){var a=c.get('type_unite');if(typeof a==='string'&&a.match(/T[1-3]/i)){return a.toUpperCase()}var b=c.get('nbre_salles');return b?'T'+b:null}},{name:'montant_engage',type:'float'},{name:'montant_emis',type:'float'},{name:'cout_travaux',type:'float'},{name:'cout_travaux_estime',type:'float'},{name:'cout_unitaire',type:'float'},{name:'cout_fonctionnement',type:'float'},{name:'statut_latin',type:'string'},{name:'tx_avancement_physique',type:'float'},{name:'tx_avancement_financier',type:'float'},{name:'difficultes_rencontrees',type:'string'},{name:'proprietaire_foncier',type:'string'},{name:'type_foncier',type:'string'},{name:'mode_mobilisation_foncier',type:'string'},{name:'dans_ecole',type:'boolean'},{name:'dispose_eau',type:'boolean'},{name:'dispose_electricite',type:'boolean'},{name:'dispose_assainissement',type:'boolean'},{name:'date_situation',type:'date',dateFormat:'C'},{name:'phase',type:'string',persist:!0,convert:function(c,b){var a=b.get('statut_latin').toLowerCase();switch(a){case "en cours d'etude":case "en cours d'etudes":case 'etude en cours':case 'etudes en cours':case 'etude technique en cours':case 'etudes techniques en cours':case 'marche adjuge':case "marche adjuge et travaux n'ont pas demarre":case 'en cours de passation de marche des travaux':return "Phase d'tudes";case 'travaux en cours':case "en cours d'execution":case 'trvaux en cours':case "en cours d'achevement":case 'en cours':case 'en cours de reception':return 'Phase des travaux';case 'receptionne':case 'receptionnee':case 'travaux realises':case 'travaux acheves':case 'realise':case 'realisee':case 'acheve':case 'achevee':case 'achevee':case 'equipe':case 'equipee':case 'en phase de mise en service':case "en cours d'equipement":return 'Phase de pr-ouverture';case 'ouverte':case 'operationnelle':case 'operationnel':return 'Phase oprationnelle';case 'annule':case 'annulee':case 'non ouverte':case 'non realisee':case 'non realisee':return 'Annul, Rsili ou en Arrt';default:return a;}}},{name:'avancement',type:'string',persist:!0,convert:function(d,b){var c=b.get('statut');var a=b.get('tx_avancement_physique');if(a===1){return '5-Travaux achevs (100%)'}else if(a>0.75){return '4-Travaux > 75%'}else if(a>0.5){return '3-Travaux 50% - 75%'}else if(a>0.25){return '2-Travaux 25% - 50%'}else if(a>0){return '1-Travaux < 25%'}else {return '0-Travaux non dmarrs'}}},{name:'date_lancement_marche',type:'date',dateFormat:'C'},{name:'date_lancement_trvx',type:'date',dateFormat:'C'},{name:'date_ouverture_plis',type:'date',dateFormat:'C'},{name:'date_reception_provisoire',type:'date',dateFormat:'C'},{name:'date_ouverture_pp',type:'date',dateFormat:'C'},{name:'date_ouverture_prevu',type:'date',dateFormat:'C'},{name:'delai_execution',type:'int'},{name:'contact_educateurs',type:'string'},{name:'problemes_fonctionnement',type:'string'},{name:'images',type:'auto',defaultValue:[]},{name:'date_calcul',type:'date',dateFormat:'C'},{name:'age_jours',type:'int',persist:!1,depends:['date_ouverture','date_calcul'],convert:function(d,a){var b=a.get('date_ouverture');if(!b){return 0}var c=a.get('date_calcul')?new Date(+a.get('date_calcul')):new Date();return Ext.Date.diff(b,c,'d')}},{name:'age_mois',type:'int',persist:!1,depends:['date_ouverture','date_calcul'],convert:function(d,a){var b=a.get('date_ouverture');if(!b){return 0}var c=a.get('date_calcul')?new Date(+a.get('date_calcul')):new Date();return Ext.Date.diff(b,c,Ext.Date.MONTH,0,'ceil')}},{name:'age_ans',type:'float',persist:!1,depends:['date_ouverture','date_calcul'],convert:function(d,a){var b=a.get('date_ouverture');if(!b){return 0}var c=a.get('date_calcul')?new Date(+a.get('date_calcul')):new Date();return Ext.Date.diff(b,c,Ext.Date.YEAR,2,'round')}},{name:'tranche_due',type:'int',persist:!1,depends:['age_mois'],convert:function(c,b){var a=b.get('age_mois');if(a<=24){return Math.max(1,Math.ceil(a/6))+2}else {return Math.ceil(a/12)+4}}},{name:'age_saisons_y2d',type:'int',persist:!1,depends:['date_ouverture','date_calcul'],convert:function(g,c){var a=c.get('date_ouverture')?new Date(+c.get('date_ouverture')):null;if(!a){return 0}var e=a.getMonth();if(e<3){a.setMonth(8);a.setDate(1);a.setYear(a.getFullYear()-1)}else if(e<8){a.setMonth(8);a.setDate(1)}var b=c.get('date_calcul')?new Date(+c.get('date_calcul')):new Date();var d=b.getMonth();if(d>5&&d<8){b.setMonth(5);b.setDate(30)}else if(d>=8){b.setMonth(5);b.setDate(30);b.setYear(b.getFullYear()+1)}var f=+b-a;return Math.ceil(f/3.1104E10)}},{name:'age_saisons_decembre',type:'float',persist:!1,depends:['age_saisons_y2d','date_calcul'],convert:function(e,a){var b=a.get('age_saisons_y2d');var d=a.get('date_calcul')?new Date(+a.get('date_calcul')):new Date();var c=d.getMonth();return c<8?b+1:b}},{name:'consommation',type:'float',persist:!1,depends:['date_ouverture','nbre_salles','date_calcul'],convert:function(g,a){var b=a.get('date_ouverture');if(!b){return 0}var f=a.get('nbre_salles');var e=a.get('date_calcul')?new Date(+a.get('date_calcul')):new Date();var d=Ext.Date.diff(b,e,Ext.Date.MONTH,0,'ceil');var c=a.calcCoutFonctionnement(d);return c}},{name:'fp_comments',type:'string'},{name:'comments',type:'string'},{name:'fmps_id',type:'string'},{name:'delegationscount',type:'int',persist:!1},{name:'tranches_labels',type:'string',persist:!1,depends:'tranches_arr',convert:function(d,c){var b=c.get('tranches_arr');var a=App.app.getINDHTranchesStore();return b.map(function(e){var b=a.findRecord('value',e);return b?b.get('label').replace('Tranche de Fonctionnement','TR').replace('Anne de Fonctionnement','Anne de Fct.'):null}).join(', ')}},{name:'total_delegue',type:'int',persist:!1},{name:'montant_delegue_fct',type:'float',persist:!1},{name:'solde',type:'float',persist:!1,depends:['montant_delegue_fct','consommation'],convert:function(d,b){var a=b.get('montant_delegue_fct')||0;var c=b.get('consommation')||0;return a>0?a-c:0}},{name:'reserve_jours',type:'float',persist:!1,depends:['solde','nbre_salles'],convert:function(d,b){var a=b.get('solde');if(a<=0){return 0}var c=b.calcCoutFonctionnement(12)/360;return Math.floor(a/c)}},{name:'reserve_mois',type:'float',persist:!1,depends:['solde','nbre_salles'],convert:function(e,a){var b=a.get('solde');if(b<=0){return 0}var d=a.get('nbre_salles');var c=a.calcCoutFonctionnement(1);return Math.floor(b/c)}},{name:'date_epuisement',type:'date',dateFormat:'C',persist:!1,depends:['reserve_mois','date_calcul'],convert:function(d,a){var b=a.get('reserve_mois');if(!b){return null}var c=a.get('date_calcul')?new Date(+a.get('date_calcul')):new Date();return Ext.Date.add(c,Ext.Date.MONTH,b)}},{name:'date_epuisement_2ans',type:'date',dateFormat:'C',persist:!1,depends:['date_ouverture'],convert:function(c,b){var a=b.get('date_ouverture');if(!a){a=new Date()}return Ext.Date.add(a,Ext.Date.YEAR,2)}},{name:'nbre_annees_financees',type:'int',persist:!1,depends:['last_tranche','province_code','plan_actions','est_ouverte','date_ouverture'],convert:function(c,a){var b=a.get('last_tranche');if(b==null||b<P_TRANCHES.TR1){if(a.get('plan_actions')==2023){return 0}if(a.get('plan_actions')==2019){return 2}if(a.get('est_ouverte')&&a.get('date_ouverture')<new Date(2022,8,30)){return 2}return 1}if(a.get('plan_actions')==2020&&a.get('province_code')==33){return 3}if(b<=P_TRANCHES.ANNEE_1){return 1}else if(b<P_TRANCHES.ANNEE_3){return 2}else if(b<P_TRANCHES.SUPPLEMENT_SMIG){return b-P_TRANCHES.ANNEE_3+3}else {return NaN}}},{name:'budget_perennisation',type:'float',persist:!1,depends:['budget_peren_dec23_montant','budget_peren_aout23_montant'],convert:function(c,a){var b=a.get('budget_peren_dec23_montant')+a.get('budget_peren_aout23_montant');return Math.ceil(b)}},{name:'budget_peren_aout23_nbre_mois',type:'float',persist:!1,depends:['est_ouverte','est_resiliee','date_ouverture','date_achevement_2ans','nbre_salles','nbre_annees_financees'],convert:function(h,a){if((!a.get('est_ouverte')||a.get('est_resiliee'))&&!a.get('est_retenue')){return 0}var e=a.get('date_ouverture');if(!e){return 0}var c=a.get('nbre_annees_financees');var b=c<=2?a.get('date_achevement_2ans'):Ext.Date.add(e,Ext.Date.YEAR,c);var g=new Date(2023,11,30);var f=new Date(2023,7,30);var d=new Date(2023,8,1);if(a.get('province_code')==4){if(b<d){b=d}}else if(a.get('province_code')==63){if(c===3){b=new Date(2023,2,21)}}if(b>g){return 0}return Math.max(0,Ext.Date.diff(b,f,Ext.Date.MONTH,1,'round'))}},{name:'budget_peren_aout23_montant',type:'float',persist:!1,depends:['budget_peren_aout23_nbre_mois'],convert:function(d,a){var b=a.get('budget_peren_aout23_nbre_mois');var c=a.get('nbre_salles');return b*c*58000/12}},{name:'budget_peren_dec23_mois',type:'float',persist:!1,depends:['est_ouverte','est_resiliee','date_ouverture','date_achevement_2ans','nbre_salles','nbre_annees_financees'],convert:function(h,a){if((!a.get('est_ouverte')||a.get('est_resiliee'))&&!a.get('est_retenue')){return 0}var e=a.get('date_ouverture');if(!e){return 0}var c=a.get('nbre_annees_financees');var b=c<=2?a.get('date_achevement_2ans'):Ext.Date.add(e,Ext.Date.YEAR,c);var f=new Date(2023,11,30);var g=new Date(2023,7,30);var d=new Date(2023,8,1);if(a.get('province_code')==4){if(b<d){b=d}}else if(a.get('province_code')==63){if(c===3){b=new Date(2023,2,21)}}if(b>f){return 0}return b<g?4:Math.max(0,Ext.Date.diff(b,f,Ext.Date.MONTH,1,'round'))}},{name:'budget_peren_dec23_montant',type:'float',persist:!1,depends:['budget_peren_dec23_mois'],convert:function(d,a){var b=a.get('budget_peren_dec23_mois');var c=a.get('nbre_salles');return b*c*60100/12}},{name:'prime_anciennete',type:'float',persist:!1,depends:['prime_anciennete_aout22_nbre_mois','prime_anciennete_aout23_nbre_mois','prime_anciennete_dec23_nbre_mois'],convert:function(h,a){var f=a.get('prime_anciennete_aout22_nbre_mois');var g=a.get('prime_anciennete_aout23_nbre_mois');var e=a.get('prime_anciennete_dec23_nbre_mois');var c=a.get('nbre_salles');var b=0.1698+0.0411+0.01368;var d=f*c*Ext.Number.roundToPrecision(2828.71*0.05*(1+b),1,'round');d+=g*c*Ext.Number.roundToPrecision(2970.05*0.05*(1+b),1,'round');d+=e*c*Ext.Number.roundToPrecision(3111.39*0.05*(1+b),1,'round');return Math.ceil(d)}},{name:'prime_anciennete_aout22_nbre_mois',type:'float',persist:!1,depends:['est_ouverte','est_resiliee','date_ouverture','date_achevement_2ans','nbre_salles','nbre_annees_financees'],convert:function(f,a){if((!a.get('est_ouverte')||a.get('est_resiliee'))&&!a.get('est_retenue')){return 0}var d=a.get('date_ouverture');if(!d){return 0}var b=a.get('date_achevement_2ans');var e=new Date(2023,11,30);var c=new Date(2022,7,30);if(b>e){return 0}return Math.max(0,Ext.Date.diff(b,c,Ext.Date.MONTH,1,'round'))}},{name:'prime_anciennete_aout23_nbre_mois',type:'float',persist:!1,depends:['est_ouverte','est_resiliee','date_ouverture','date_achevement_2ans','nbre_salles','nbre_annees_financees'],convert:function(g,a){if((!a.get('est_ouverte')||a.get('est_resiliee'))&&!a.get('est_retenue')){return 0}var e=a.get('date_ouverture');if(!e){return 0}var b=a.get('date_achevement_2ans');var f=new Date(2023,11,30);var c=new Date(2022,7,30);var d=new Date(2023,7,30);if(b>f){return 0}return b<c?12:Math.max(0,Ext.Date.diff(b,d,Ext.Date.MONTH,1,'round'))}},{name:'prime_anciennete_dec23_nbre_mois',type:'float',persist:!1,depends:['est_ouverte','est_resiliee','date_ouverture','date_achevement_2ans','nbre_salles','nbre_annees_financees'],convert:function(f,a){if((!a.get('est_ouverte')||a.get('est_resiliee'))&&!a.get('est_retenue')){return 0}var e=a.get('date_ouverture');if(!e){return 0}var b=a.get('date_achevement_2ans');var c=new Date(2023,11,30);var d=new Date(2023,7,30);if(b>c){return 0}return b<d?4:Math.max(0,Ext.Date.diff(b,c,Ext.Date.MONTH,1,'round'))}},{name:'est_retenue',type:'boolean'}],calcCoutEquipement:function(a){a=a||25000;var b=this.get('nbre_salles');return a*b},calcCoutFonctionnement:function(b,a){a=a||58000;var c=this.get('nbre_salles');return a*c*b/12}},0,0,0,0,0,0,[App.model,'Projet'],0);Ext.cmd.derive('App.model.ObjetDelegation',App.model.Projet,{fields:[{name:'unite_id',type:'string'},{name:'libelle',type:'string'},{name:'date_delegation',type:'date',dateFormat:'C'},{name:'observations',type:'string'},{name:'montant_global',type:'float',persist:!1},{name:'lot',type:'int'},{name:'current_tranche',type:'int',persist:!1},{name:'tranche_order',type:'string',persist:!1},{name:'annee_budgetaire',persist:!1,calculate:function(a){return parseInt(Ext.Date.format(a.date_delegation,'Y'),10)}},{name:'est_echu',type:'boolean',persist:!1},{name:'tranche_due',type:'int',persist:!1}],proxy:null},0,0,0,0,0,0,[App.model,'ObjetDelegation'],0);var validate=function(M,a){var e=a['nbre_programmees'];var w=a['nbre_programmees_t1'];var x=a['nbre_programmees_t2'];var y=a['nbre_programmees_t3'];var s=a['nbre_programmees_amg'];var t=a['nbre_programmees_mod'];var p=a['nbre_etudes_non_lancees'];var u=a['nbre_etudes_lancees'];var q=a['nbre_etudes_achevees'];var v=a['nbre_marches_lances'];var r=a['nbre_marches_adjuges'];var l=p+u+q+v+r;var C=a['nbre_encours_25'];var z=a['nbre_encours_25_50'];var A=a['nbre_encours_50_75'];var D=a['nbre_encours_75'];var f=a['nbre_achevees'];var d=a['nbre_livrees'];var i=a['nbre_ouvertes'];var B=a['nbre_ouvertes_cn'];var b=f-i;var g=a['nbre_encours_reception'];var k=a['nbre_encours_inscription'];var h=a['nbre_encours_equip'];var E=a['prevision_mois0'];var F=a['prevision_mois1'];var G=a['prevision_mois2'];var H=a['prevision_mois3'];var I=a['prevision_mois4'];var J=a['prevision_mois5'];var K=a['prevision_mois6'];var o=a['cout_global_marches_travaux'];var m=C+z+A+D+f;var j=function(b,c,d){return b===0?!0:'Rpartition non valide '+c+': Elle'+(b<0?' dpasse le Total ':' est infrieure au Total ')+(d||'')};var c;switch(M){case 'nbre_programmees_t1':case 'nbre_programmees_t2':case 'nbre_programmees_t3':case 'nbre_programmees_amg':case 'nbre_programmees_mod':c=e-(w+x+y+s+t);return j(c,'par Type UP','UP programmes ('+e+')');case 'cout_global_marches_travaux':if(m>0&&!o){return 'Cot global Marchs travaux non renseign'};case 'nbre_encours_25':case 'nbre_encours_25_50':case 'nbre_encours_50_75':case 'nbre_encours_75':case 'nbre_achevees':c=e-l-m;return j(c,'des UP selon Etat des Travaux',e-l);case 'nbre_livrees':return d>f?'Nbre UP Livres Invalide: Il dpasse Nbre UP Acheves ('+f+')':!0;case 'nbre_ouvertes':if(i>d){return 'Nbre UP Ouvertes Invalide: Il dpasse Nbre UP Livres ('+d+')'};case 'nbre_ouvertes_cn':if(B>d){return 'Nbre UP Ouvertes CN Invalide: Il dpasse Nbre UP Livres ('+d+')'};case 'nbre_encours_reception':if(g>f){return 'Nbre UP Non Ouvertes En cours de Rception Invalide: Il dpasse Nbre UP Acheves'};if(g>b){return 'Nbre UP Non Ouvertes En cours de Rception Invalide: Il dpasse Nbre UP Acheves Non Ouvertes ('+b+')'};case 'nbre_encours_equip':if(h>d){return 'Nbre UP Non Ouvertes En cours Equipement Invalide: Il dpasse Nbre UP livres ('+d+')'};if(h>b){return 'Nbre UP Non Ouvertes En cours Equipement Invalide: Il dpasse Nbre UP Acheves Non Ouvertes ('+b+')'};case 'nbre_encours_inscription':if(k>b){return 'Nbre UP Non Ouvertes En cours Inscription Invalide: Il dpasse Nbre UP Acheves Non Ouvertes ('+b+')'};c=b-(k+h+g);if(c>0){return 'Rpartition des UP Acheves Non Ouvertes Incomplte : elle est infrieure au Nbre UP Acheves non Ouvertes ('+b+')'}else {return !0};case 'prevision_mois0':case 'prevision_mois1':case 'prevision_mois2':case 'prevision_mois3':case 'prevision_mois4':case 'prevision_mois5':case 'prevision_mois6':var L=E+F+G+H+I+J+K;var n=e-i;c=n-L;return j(c,"Prvisions d'Ouverture",'Nbre UP Non Ouvertes ('+n+')');}return !0};Ext.cmd.derive('App.model.Reporting',App.model.Provincial,{fields:[{name:'created',type:'date',dateFormat:'C'},{name:'updated',type:'date',dateFormat:'C'},{name:'plan_actions',type:'string'},{name:'fondation_partenaire',type:'string'},{name:'nbre_programmees',type:'int'},{name:'nbre_programmees_t1',type:'int'},{name:'nbre_programmees_t2',type:'int'},{name:'nbre_programmees_t3',type:'int'},{name:'nbre_programmees_amg',type:'int'},{name:'nbre_programmees_mod',type:'int'},{name:'nbre_programmees_man',type:'int'},{name:'matrix_programmation',type:'auto',persist:!1,calculate:function(a){return math.matrix([a.nbre_programmees_t1,a.nbre_programmees_t2,a.nbre_programmees_t3,a.nbre_programmees_amg,a.nbre_programmees_mod])}},{name:'nbre_salles',type:'int'},{name:'nbre_salles_calc',type:'int',persist:!1,calculate:function(a){if(a.nbre_salles>0){return a.nbre_salles}var b=a.nbre_programmees_t1+a.nbre_programmees_t2*2+a.nbre_programmees_t3*2+a.nbre_programmees_amg;return Math.max(a.nbre_programmees,b)}},{name:'nbre_encours_25',type:'int'},{name:'nbre_encours_25_50',type:'int'},{name:'nbre_encours_50_75',type:'int'},{name:'nbre_encours_75',type:'int'},{name:'nbre_achevees',type:'int',persist:!1,calculate:function(a){return a.nbre_ouvertes+a.nbre_achevees_non_ouvertes}},{name:'nbre_achevees_cn',type:'int',persist:!1,calculate:function(a){return a.nbre_ouvertes+a.nbre_achevees_non_ouvertes+Math.max(0,a.nbre_ouvertes-a.nbre_ouvertes_cn)}},{name:'nbre_non_demarrees',type:'int',persist:!1,calculate:function(a){return a.nbre_etudes_non_lancees+a.nbre_etudes_lancees+a.nbre_etudes_achevees+a.nbre_marches_lances+a.nbre_marches_adjuges}},{name:'nbre_achevees_non_ouvertes',type:'int'},{name:'nbre_livrees_non_ouvertes',type:'int'},{name:'nbre_encours',type:'int',persist:!1,calculate:function(a){return a.nbre_encours_25+a.nbre_encours_25_50+a.nbre_encours_50_75+a.nbre_encours_75}},{name:'nbre_retard_trvx',type:'int',persist:!1,calculate:function(a){if(a.plan_actions==='2023'){return 0}return a.nbre_encours_25+a.nbre_encours_25_50+a.nbre_encours_50_75+a.nbre_encours_75}},{name:'nbre_retard_demarrage_trvx',type:'int',persist:!1,calculate:function(a){if(a.plan_actions==='2023'){return 0}return a.nbre_etudes_non_lancees+a.nbre_etudes_lancees+a.nbre_etudes_achevees+a.nbre_marches_lances+a.nbre_marches_adjuges}},{name:'nbre_retard_etudes',type:'int',persist:!1,calculate:function(a){if(a.plan_actions==='2023'){return a.nbre_etudes_non_lancees}return 0}},{name:'nbre_encours_reception',type:'int'},{name:'nbre_encours_equip',type:'int'},{name:'nbre_encours_inscription',type:'int'},{name:'nbre_encours_formation',type:'int'},{name:'nbre_livrees',type:'int',persist:!1,calculate:function(a){return a.nbre_ouvertes+a.nbre_livrees_non_ouvertes}},{name:'nbre_encours_inscription_cn',type:'int',persist:!1,calculate:function(a){return a.nbre_encours_inscription+Math.max(0,a.nbre_ouvertes-a.nbre_ouvertes_cn)}},{name:'nbre_ouvertes',type:'int'},{name:'nbre_ouvertes_fp',type:'int'},{name:'nbre_ouvertes_cn',type:'int',persist:!1},{name:'nbre_ouvertes_cn0',type:'int'},{name:'salles_ouvertes_cn',type:'int',persist:!1},{name:'nbre_en_arret_fct',type:'int'},{name:'nbre_reste_ouvrir',type:'int',persist:!1,calculate:function(a){return a.nbre_programmees-a.nbre_ouvertes_cn}},{name:'nbre_retards',type:'int',persist:!1,calculate:function(a){if(a.plan_actions==='2019'){return 0}if(a.plan_actions==='2023'){return a.nbre_etudes_non_lancees}return a.nbre_programmees-a.nbre_ouvertes}},{name:'pallier',type:'int'},{name:'nbre_restantes',type:'int'},{name:'prevision_mois0',type:'int'},{name:'prevision_mois1',type:'int'},{name:'prevision_mois2',type:'int'},{name:'prevision_mois3',type:'int'},{name:'prevision_mois4',type:'int'},{name:'prevision_mois5',type:'int'},{name:'prevision_mois6',type:'int'},{name:'prevision_mois0_cn',type:'int',persist:!1,calculate:function(a){return a.prevision_mois0+Math.max(0,a.nbre_ouvertes-a.nbre_ouvertes_cn)}},{name:'prevision_rentree',type:'int',persist:!1,calculate:function(a){return a.prevision_mois0+Math.max(0,a.nbre_ouvertes-a.nbre_ouvertes_cn)+a.prevision_mois1}},{name:'prevision_nov_dec',type:'int',persist:!1,calculate:function(a){return a.prevision_mois2+a.prevision_mois3}},{name:'prevision_debut_2024',type:'int',persist:!1,calculate:function(a){return a.prevision_mois4+a.prevision_mois5+a.prevision_mois6}},{name:'prevision_sept2023_cn',type:'int',persist:!1,calculate:function(a){return 0}},{name:'prevision_oct2023_cn',type:'int',persist:!1,calculate:function(a){var b=a.nbre_achevees_non_ouvertes+Math.max(0,a.nbre_ouvertes-a.nbre_ouvertes_cn);return b}},{name:'prevision_nov_dec2023_cn',type:'int',persist:!1,calculate:function(a){if([49,48,63,56].includes(a.province_code)){return a.nbre_encours_75}return a.nbre_encours_75+a.nbre_encours_50_75+a.nbre_encours_25_50}},{name:'prevision_debut_2024_cn',type:'int',persist:!1,calculate:function(a){var b=a.nbre_etudes_non_lancees+a.nbre_etudes_lancees+a.nbre_etudes_achevees+a.nbre_marches_lances+a.nbre_marches_adjuges;if([49,48,63,56].includes(a.province_code)){return a.nbre_encours_25_50+a.nbre_encours_25+b}return a.nbre_encours_25+b}},{name:'engag_ouv_baseline',type:'int'},{name:'engag_ouv_dec22',type:'int'},{name:'engag_ouv_jan23',type:'int'},{name:'engag_ouv_fev23',type:'int'},{name:'engag_ouv_mar23',type:'int'},{name:'engag_ouv_oct23',type:'int'},{name:'nbre_retards_engagements',type:'int',persist:!1,calculate:function(b){if(!b.concernee_visio2022){return 0}var a=b.engag_ouv_baseline;var c=b.nbre_ouvertes;var d=new Date();var e=d.getFullYear(),f=d.getMonth()+1;switch(e){case 2023:switch(f){case 9:a+=b.engag_ouv_oct23;case 3:a+=b.engag_ouv_mar23;case 2:a+=b.engag_ouv_fev23;case 1:a+=b.engag_ouv_jan23;};case 2022:a+=b.engag_ouv_dec22;}if(!a){return 0}return a>c?a-c:0}},{name:'nbre_etudes_non_lancees',type:'int'},{name:'nbre_etudes_lancees',type:'int'},{name:'nbre_etudes_achevees',type:'int'},{name:'nbre_marches_lances',type:'int'},{name:'nbre_marches_adjuges',type:'int'},{name:'cout_global_marches_travaux',type:'float'},{name:'cout_travaux',type:'float'},{name:'cout_etudes',type:'float'},{name:'cout_equipement',type:'float'},{name:'cout_fct_2ans',type:'float'},{name:'cout_fct_audela_2ans',type:'float'},{name:'cout_total',type:'float',persist:!1,calculate:function(a){return a.cout_etudes+a.cout_travaux+a.cout_equipement+a.cout_fct_2ans+a.cout_fct_audela_2ans}},{name:'cout_unitaire_moyen_marches_travaux',type:'float',persist:!1,calculate:function(a){var b=a.nbre_etudes_non_lancees+a.nbre_etudes_lancees+a.nbre_etudes_achevees+a.nbre_marches_lances+a.nbre_marches_adjuges;return a.cout_global_marches_travaux/(a.nbre_programmees-b)}},{name:'date_lancement_etudes',type:'date',dateFormat:'C'},{name:'nbre_encours_validation',type:'int'},{name:'remarques',type:'string'},{name:'cnindh_comments',type:'string'},{name:'date_situation',type:'date',dateFormat:'C'},{name:'modified_by',type:'string'},{name:'concernee_visio2022',type:'boolean'},{name:'est_obsolete',type:'boolean',persist:!1,convert:function(g,a){var d=a.get('nbre_programmees');var f=a.get('nbre_ouvertes');var c=a.get('nbre_achevees');if(d===c){return !1}var b=a.get('updated');var e=new Date();return Ext.Date.diff(b,e,'d')>=10}},{name:'nbre_up_fp',type:'int',persist:!1},{name:'nbre_salles_fp',type:'int',persist:!1},{name:'nbre_resiliees_fp',type:'int',persist:!1},{name:'nbre_salles_resiliees_fp',type:'int',persist:!1},{name:'nbre_salles_programmees_fp',type:'int',persist:!1},{name:'nbre_salles_ouvertes_fp',type:'int',persist:!1},{name:'nbre_programmees_fp',type:'int',persist:!1},{name:'nbre_educ_total_fp',type:'int',persist:!1},{name:'nbre_educ_femmes_fp',type:'int',persist:!1},{name:'nbre_educ_hommes_fp',type:'int',persist:!1},{name:'nbre_inscrits_total_fp',type:'int',persist:!1},{name:'nbre_inscrits_filles_fp',type:'int',persist:!1},{name:'nbre_inscrits_garcons_fp',type:'int',persist:!1},{name:'nbre_inscrits_ms_fp',type:'int',persist:!1},{name:'nbre_inscrits_ms_f_fp',type:'int',persist:!1},{name:'nbre_inscrits_ms_g_fp',type:'int',persist:!1},{name:'nbre_inscrits_gs_fp',type:'int',persist:!1},{name:'nbre_inscrits_gs_f_fp',type:'int',persist:!1},{name:'nbre_inscrits_gs_g_fp',type:'int',persist:!1},{name:'delegations_etudes',type:'float',persist:!1},{name:'delegations_travaux',type:'float',persist:!1},{name:'delegations_equip',type:'float',persist:!1},{name:'delegations_fct_2ans',type:'float',persist:!1},{name:'delegations_peren',type:'float',persist:!1},{name:'delegations_nbre_ups',type:'int',persist:!1},{name:'delegations_nbre_t1',type:'int',persist:!1},{name:'delegations_nbre_t2',type:'int',persist:!1},{name:'delegations_nbre_t3',type:'int',persist:!1},{name:'delegations_nbre_amg',type:'int',persist:!1},{name:'deleg_equip_nbre_salles',type:'int',persist:!1},{name:'deleg_tr1_nbre_salles',type:'int',persist:!1},{name:'deleg_tr2_nbre_salles',type:'int',persist:!1},{name:'deleg_tr3_nbre_salles',type:'int',persist:!1},{name:'deleg_tr4_nbre_salles',type:'int',persist:!1},{name:'nondelege_nbre_ups',type:'int',persist:!1,calculate:function(a){if(parseInt(a.plan_actions)<2022){return 0}return Math.max(0,a.nbre_programmees-a.delegations_nbre_ups)}},{name:'nondelege_nbre_t1',type:'int',persist:!1,calculate:function(a){if(parseInt(a.plan_actions)<2022){return 0}return Math.max(0,a.nbre_programmees_t1-a.delegations_nbre_t1)}},{name:'nondelege_nbre_t2',type:'int',persist:!1,calculate:function(a){if(parseInt(a.plan_actions)<2022){return 0}return Math.max(0,a.nbre_programmees_t2-a.delegations_nbre_t2)}},{name:'nondelege_nbre_t3',type:'int',persist:!1,calculate:function(a){if(parseInt(a.plan_actions)<2022){return 0}return Math.max(0,a.nbre_programmees_t3-a.delegations_nbre_t3)}},{name:'nondelege_nbre_amg',type:'int',persist:!1,calculate:function(a){if(parseInt(a.plan_actions)<2022){return 0}return Math.max(0,a.nbre_programmees_amg-a.delegations_nbre_amg)}},{name:'motif_non_lancement_etudes',type:'string'},{name:'motif_retard_ouverture',type:'string'},{name:'motif_retard_travaux',type:'string'},{name:'motif_arret_travaux',type:'string'},{name:'motif_retard_demarrage_trvx',type:'string'},{name:'motif_arret_fct',type:'string'},{name:'motif_relancement_marches',type:'string'},{name:'date_lancement_marche',type:'date',dateFormat:'C'},{name:'date_relancement_marche',type:'date',dateFormat:'C'},{name:'date_adjudication_marche',type:'date',dateFormat:'C'},{name:'date_implantation',type:'date',dateFormat:'C'},{name:'date_reception',type:'date',dateFormat:'C'},{name:'date_remise_cles',type:'date',dateFormat:'C'},{name:'date_arret_trvx',type:'date',dateFormat:'C'},{name:'date_resiliation',type:'date',dateFormat:'C'},{name:'nbre_en_arret',type:'int'},{name:'nbre_marches_resilies',type:'int'},{name:'nbre_marches_infructueux',type:'int'},{name:'validations',type:'string',persist:!1,depends:['nbre_programmees','nbre_programmees_t1','nbre_programmees_t2','nbre_programmees_t3','nbre_programmees_amg','nbre_programmees_mod','nbre_etudes_non_lancees','nbre_etudes_lancees','nbre_etudes_achevees','nbre_marches_lances','nbre_marches_adjuges','nbre_encours_25','nbre_encours_25_50','nbre_encours_50_75','nbre_encours_75','nbre_achevees','nbre_livrees','nbre_ouvertes','nbre_ouvertes_fp','nbre_encours_reception','nbre_encours_inscription','nbre_encours_equip','prevision_mois0','prevision_mois1','prevision_mois2','prevision_mois3','prevision_mois4','prevision_mois5','prevision_mois6','cout_global_marches_travaux'],convert:function(b,a){return a.getRulesValidations()}}],validate:function(a){return validate(a,this.data)},getRulesValidations:function(){var c=this.owner;var b=this.getData();var a=Object.keys(b).map(function(a){return validate(a,b)}).filter(function(a){if(a===!0||!a){return !1}return !0});a=Ext.Array.unique(a);return a.join('; ')},proxy:{api:{prefix:'Server.reportings'}}},0,0,0,0,0,0,[App.model,'Reporting'],0);Ext.cmd.derive('App.model.Session',Ext.data.Model,{fields:[{name:'token',type:'string'},{name:'expires',type:'date'},{name:'user',reference:'User'}],statics:{login:function(b,a){return new Ext.Promise(function(d,c){Server.auth.login({username:b,password:a,device:Ext.userAgent},function(e,i,g){if(!g){console.log(e);var h=e&&e.message||{errors:{username:"L'Authentication a chou: Mot de passe ou Nom utilisateur invalide"}};return c(h)}var f=App.model.Session.loadData(e);if(!f.isValid()){return c({errors:{username:"L'Authentication a chou: session invalide"}})}d(f)})})}},isValid:function(){return !Ext.isEmpty(this.get('token'))&&this.get('expires')>new Date()&&this.getUser()!==null},logout:function(){return new Ext.Promise(function(a,b){Server.auth.logout({},a)})}},0,0,0,0,0,0,[App.model,'Session'],0);Ext.cmd.derive('App.model.SousDelegation',App.model.Provincial,{fields:[{name:'plan_actions',type:'string',persist:!1,depends:['delegation_id'],convert:function(c,a){var b=a.get('delegation')||(a.getDelegation()||a._delegation||{}).data;return b?'PA '+b.plan_actions:null}},{name:'montant_effectif',type:'float'},{name:'revalorisations_salariales',type:'float'},{name:'nbre_t1',type:'int'},{name:'nbre_t2',type:'int'},{name:'nbre_t3',type:'int'},{name:'nbre_amg',type:'int'},{name:'nbre_modulaire',type:'int'},{name:'matrix_types_up',type:'auto',persist:!1,calculate:function(a){return math.matrix([a.nbre_t1,a.nbre_t2,a.nbre_t3,a.nbre_amg,a.nbre_modulaire])}},{name:'nbre_ups_concernees',type:'int'},{name:'nbre_salles_concernees',type:'int'},{name:'nbre_ups_ouvertes',type:'int'},{name:'nbre_ups_achevees',type:'int'},{name:'nbre_ups_encours',type:'int'},{name:'est_complement',type:'boolean'},{name:'credits_restitues',type:'boolean'},{name:'observations',type:'string'},{name:'delegation_id',reference:'Delegation'},{name:'lot_libelle',type:'string',persist:!1,depends:['delegation_id'],convert:function(c,a){var b=a.get('delegation')||(a.getDelegation()||a._delegation||{}).data;return b&&b.lot_id}},{name:'delegation_libelle',type:'string',persist:!1,depends:['delegation_id'],convert:function(c,a){var b=a.get('delegation')||(a.getDelegation()||a._delegation||{}).data;return b&&b.libelle}},{name:'nature_affectation',type:'string',persist:!1,depends:['delegation_id'],convert:function(c,a){var b=a.get('delegation')||(a.getDelegation()||a._delegation||{}).data;return b&&b.nature_affectation}},{name:'axe_intervention',type:'string',persist:!1,depends:['delegation_id'],convert:function(d,b){var c=b.get('delegation')||(b.getDelegation()||b._delegation||{}).data;if(!c){return null}var a=c.tranche_no;if(a>=P_TRANCHES.ETUDES&&a<=P_TRANCHES.CONSTRUCTION){return 'Cration'}else if(a==P_TRANCHES.EQUIPEMENT){return 'Equipement'}else if(a>=P_TRANCHES.TR1&&a<=P_TRANCHES.ANNEE_1_2||a==P_TRANCHES.SUPPLEMENT_SMIG){return 'Fonctionnement 2 ans'}else if(a>=P_TRANCHES.ANNEE_3||a==P_TRANCHES.SUPPLEMENT_SMIG_PERENISATION){return 'Fonctionnement au-del 2 ans'}else {return 'Autres Actions'}}},{name:'tranche_no',type:'string',persist:!1,depends:['delegation_id'],convert:function(c,a){var b=a.get('delegation')||(a.getDelegation()||a._delegation||{}).data;return b&&b.tranche_no}},{name:'tranche_libelle',type:'string',persist:!1,depends:['delegation_id'],convert:function(g,b){var d=b.get('delegation')||(b.getDelegation()||b._delegation||{}).data;if(!d){return null}var c=d.tranche_no;var f=App.app.getINDHTranchesStore();var e=f.findRecord('value',c);if(!e){return null}var a=e.get('label');if(c<=P_TRANCHES.EQUIPEMENT){a=a.replace(/tranche/i,'Crdits pour')}return a}},{name:'date_delegation',type:'date',dateFormat:'C',persist:!1,depends:['delegation_id'],convert:function(c,a){var b=a.get('delegation')||(a.getDelegation()||a._delegation||{}).data;return b&&new Date(b.date_delegation)}},{name:'annee_budgetaire',type:'string',persist:!1,depends:['delegation_id'],convert:function(c,b){var a=b.get('delegation')||(b.getDelegation()||b._delegation||{}).data;if(!a||!a.date_delegation){return null}return 'Anne Budgtaire '+parseInt(Ext.Date.format(new Date(a.date_delegation),'Y'),10)}}],proxy:{api:{prefix:'Server.sousdelegations'}}},0,0,0,0,0,0,[App.model,'SousDelegation'],0);Ext.cmd.derive('App.model.Transfert',App.model.Provincial,{fields:[{name:'created',type:'date',dateFormat:'C'},{name:'updated',type:'date',dateFormat:'C'},{name:'label',type:'string'},{name:'ordre',type:'integer'},{name:'arrete_commission_signe',type:'boolean'},{name:'date_signature_arrete_commission',type:'date',dateFormat:'C'},{name:'situation_financiere_etablie',type:'boolean'},{name:'pv_transfert_signe',type:'boolean'},{name:'date_signature_pv_transfert',type:'date',dateFormat:'C'},{name:'convention_envoyee',type:'boolean'},{name:'date_envoi_convention',type:'date',dateFormat:'C'},{name:'convention_signee',type:'boolean'},{name:'convention_signee_aref',type:'boolean'},{name:'convention_signee_fp',type:'boolean'},{name:'date_signature_convention',type:'date',dateFormat:'C'},{name:'nbre_ups_retenues_conventions',type:'integer'},{name:'nbre_ups_retenues_conv_cat1',type:'integer'},{name:'nbre_ups_retenues_conv_cat2',type:'integer'},{name:'nbre_ups_retenues_conv_cat3',type:'integer'},{name:'nbre_ups_retenues_conventions',type:'integer'},{name:'observations',type:'string'},{name:'complement_perennisation_verse',type:'boolean'},{name:'regularisation_2annees',type:'boolean'},{name:'besoin_delegation_credits',type:'boolean'},{name:'date_demande_delegation_credits',type:'date',dateFormat:'C'},{name:'date_dernier_versement',type:'date',dateFormat:'C'},{name:'comments_credits_fonctionnement',type:'string'},{name:'credits_requis',type:'float'},{name:'conv_verser_credits_requis',type:'boolean'},{name:'mesures_accompagnement_foncier',type:'string'},{name:'mesures_traitement_ups_particulieres',type:'string'},{name:'trans_fiche_completee',type:'int',persist:!1},{name:'trans_situation_financiere_regularisee',type:'int',persist:!1},{name:'trans_retenue_phase1',type:'int',persist:!1},{name:'total_up_ouvertes',type:'int',persist:!1},{name:'date_debut',type:'date',dateFormat:'C'},{name:'date_fin',type:'date',dateFormat:'C'},{name:'statut',type:'string'},{name:'days_to_now',calculate:function(b){var a=b.date_debut;if(!a){return null}return Ext.Date.diff(Ext.Date.clearTime(a),Ext.Date.clearTime(new Date()),'d')}},{name:'days_remaining',calculate:function(c){var a=c.date_fin;if(!a){return null}var b=Ext.Date.diff(Ext.Date.clearTime(new Date()),Ext.Date.clearTime(a),'d');return b>0?b:0}},{name:'date_situation',type:'date',dateFormat:'C'},{name:'modified_by',type:'string'},{name:'est_obsolete',type:'boolean',persist:!1,convert:function(d,c){var a=c.get('updated');var b=new Date();return a&&Ext.Date.diff(a,b,'d')>=10}}],proxy:{api:{prefix:'Server.transferts'}}},0,0,0,0,0,0,[App.model,'Transfert'],0);function hashCode(c){var a=0;for(var b=0;b<c.length;b++){a=c.charCodeAt(b)+((a<<5)-a)}return a-6000}function intToRGB(b){var a=(b&16777215).toString(16).toUpperCase();return '00000'.substring(0,6-a.length)+a}Ext.cmd.derive('App.model.User',App.model.Provincial,{fields:[{name:'username',type:'string'},{name:'firstname',type:'string'},{name:'lastname',type:'string'},{name:'email',type:'string'},{name:'phone',type:'string'},{name:'title',type:'string'},{name:'picture',type:'string',defaultValue:'/api/portraits/user.png'},{name:'fullname',calculate:function(a){return a.lastname+' '+a.firstname}},{name:'initials',calculate:function(a){return a.firstname[0]+a.lastname[0]}},{name:'role',type:'int'},{name:'fondation',type:'string'},{name:'fondation_code',type:'int'},{name:'fondation',type:'string',persist:!1,depends:['fondation_code'],convert:function(e,b){var d=b.get('fondation_code');if(d==null){return null}var c=App.app.getINDHFondationsStore();var a=c.findRecord('value',b.get('fondation_code'),0,!1,!0,!0);return a?a.get('label'):null}},{name:'color',calculate:function(a){return '#'+intToRGB(hashCode(a.lastname))}},{name:'device',type:'string'},{name:'created',type:'date',dateFormat:'C'},{name:'updated',type:'date',dateFormat:'C'}],proxy:{api:{prefix:'Server.people'}},statics:{load:function(d,b,c){var a=Ext.create('App.model.User');a.setSession(c),a.load(Ext.apply({params:{id:d}},b))}},getDefaultToken:function(){var a=this.get('role');console.log(a);switch(a){case 0:case 1:case 2:case 3:return 'reporting';case 10:case 11:case 12:return 'implementation_suivi';default:return 'unites';}},phoneCall:function(){var c=this,a=c.get('phone'),d,b;if(Ext.isEmpty(a)){return !1}b='tel:'+a;return c.openUrl(b)},mailTo:function(b){var a=this.get('email');if(Ext.isEmpty(a)){return !1}return this.openUrl('mailto:'+a)},openUrl:function(b,a){return !!window.open(b,a?'_system':'_self')}},0,0,0,0,0,0,[App.model,'User'],0);var statusNames={0:'Annule',1:'Reporte',2:'En attente',3:"En cours d'excution",4:'Acheve'};Ext.cmd.derive('App.model.VagueTransfert',App.model.Provincial,{fields:[{name:'name',type:'string'},{name:'start_date',type:'date',dateFormat:'C'},{name:'end_date',type:'date',dateFormat:'C'},{name:'status',calculate:function(c){var a=c.end_date;if(!a){return null}var b=a-new Date();return b<=0?'Achev':'En cours'}},{name:'days_to_now',calculate:function(b){var a=b.start_date;if(!a){return null}return Ext.Date.diff(Ext.Date.clearTime(a),Ext.Date.clearTime(new Date()),'d')}},{name:'days_remaining',calculate:function(c){var a=c.end_date;if(!a){return null}var b=Ext.Date.diff(Ext.Date.clearTime(new Date()),Ext.Date.clearTime(a),'d');return b>0?b:0}},{name:'trans_fiche_completee',type:'int',persist:!1},{name:'trans_situation_financiere_regularisee',type:'int',persist:!1},{name:'trans_retenue_phase1',type:'int',persist:!1}],proxy:{api:{prefix:'Server.vaguestransfert'}}},0,0,0,0,0,0,[App.model,'VagueTransfert'],0);Ext.cmd.derive('App.view.widgets.Browse',Ext.Panel,{config:{route:null,store:null,fields:{search:{property:'#search',defaultValue:null}}},eventedConfig:{route:null,store:null},controller:'browse',viewModel:{data:{user:null,filters:null,count:null,totalCount:null,toogleGroupIconCls:'x-fa fa-object-ungroup'}},layout:'fit',ui:'dark',margin:'12',bodyBorder:!0,shadow:!0,scrollable:!1,reset:function(){this.fireEvent('reset');return this}},0,['browse'],['widget','component','container','panel','browse'],{'widget':!0,'component':!0,'container':!0,'panel':!0,'browse':!0},['widget.browse'],0,[App.view.widgets,'Browse'],0);Ext.cmd.derive('App.view.user.Browse',App.view.widgets.Browse,{controller:'userbrowse',viewModel:{type:'userbrowse'},cls:'userbrowse',bind:{store:'{users}'}},0,0,['widget','component','container','panel','browse'],{'widget':!0,'component':!0,'container':!0,'panel':!0,'browse':!0},0,0,[App.view.user,'Browse'],0);Ext.cmd.derive('App.view.tablet.user.Browse',App.view.user.Browse,{controller:'tablet-userbrowse',tbar:{xtype:'userbrowsetoolbar'},items:[{xtype:'grid',emptyText:'Aucun Utilisateur ne correspond  votre recherche',bind:'{users}',ui:'listing',selectable:{disabled:!0},plugins:[{type:'listpaging',autoPaging:!0}],columnMenu:{items:{groupByThis:!1,showInGroups:!1}},columns:[{text:'Nom / Statut',dataIndex:'lastname',flex:1,cell:{encodeHtml:!1},tpl:['<a class="item-title" href="#{url}">{fullname}</a>','<div class="item-caption">{title}</div>']},{xtype:'datecolumn',format:'d F Y H:i',text:'Connection Rcente',dataIndex:'updated',flex:1},{text:'Dernier Dispositif',dataIndex:'device',hidden:!0,flex:1}],listeners:{childdoubletap:'onChildActivate'}}]},0,0,['widget','component','container','panel','browse'],{'widget':!0,'component':!0,'container':!0,'panel':!0,'browse':!0},0,0,[App.view.tablet.user,'Browse'],0);Ext.cmd.derive('App.view.widgets.BrowseToolbar',Ext.Toolbar,{cls:'browse-toolbar no-print',weighted:!0,ui:'tools',defaults:{ui:'action'},items:{search:{xtype:'searchfield',reference:'search',placeholder:'Rechercher',userCls:'expandable',bind:'{filters.search}',weight:0},clear:{iconCls:'x-fa fa-filter',handler:'onClearFiltersTap',tooltip:'Annuler Filtres',weight:20},refresh:{iconCls:'x-fa fa-sync',handler:'onRefreshTap',tooltip:'Actualiser',weight:30}}},0,0,['widget','component','container','toolbar'],{'widget':!0,'component':!0,'container':!0,'toolbar':!0},0,0,[App.view.widgets,'BrowseToolbar'],0);Ext.cmd.derive('App.view.tablet.user.BrowseToolbar',App.view.widgets.BrowseToolbar,{items:{create:{xtype:'button',iconCls:'x-fa fa-plus',handler:'onCreate',text:'Ajouter Utilisateur',weight:50}}},0,0,['widget','component','container','toolbar'],{'widget':!0,'component':!0,'container':!0,'toolbar':!0},0,0,[App.view.tablet.user,'BrowseToolbar'],0);Ext.cmd.derive('App.profile.Phone',Ext.app.Profile,{views:{userbrowse:'App.view.tablet.user.Browse',userbrowsetoolbar:'App.view.tablet.user.BrowseToolbar'},isActive:function(){return Ext.platformTags.phone},launch:function(){Ext.getBody().addCls('phone-profile')}},0,0,0,0,0,0,[App.profile,'Phone'],0);Ext.cmd.derive('App.view.depense.Browse',App.view.widgets.Browse,{stateId:'depenseBrowse',stateful:!0,fields:{id:{property:'id'},unite:{property:'unite_id'},delegation:{property:'delegation_id'}},controller:'depensebrowse',viewModel:{type:'depensebrowse'},cls:'delegation-browse',bind:{store:'{depenses}'}},0,0,['widget','component','container','panel','browse'],{'widget':!0,'component':!0,'container':!0,'panel':!0,'browse':!0},0,0,[App.view.depense,'Browse'],0);Ext.cmd.derive('App.view.tablet.depense.Browse',App.view.depense.Browse,{controller:'tablet-depensebrowse',bind:{title:'Dpenses - {count} affichs'},tbar:{xtype:'depensebrowsetoolbar'},layout:'fit',items:[{xtype:'grid',reference:'depensesList',emptyText:'Aucune dpense correspondante  votre recherche',loadingText:'Chargement...',bind:'{depenses}',ui:'listing',syncRowHeight:!1,grouped:!0,groupHeader:{tpl:'{name} ({count} Dpenses)'},title:' ',titleBar:{shadow:!1,docked:'bottom',items:[{align:'right',xtype:'button',iconCls:'x-fa fa-download',tooltip:'Exporter sous excel',handler:'exportToXlsx'}]},plugins:{listpaging:{autoPaging:!1},gridviewoptions:!0,gridexporter:!0,gridfilters:!0},listeners:{documentsave:'onDocumentSave',beforedocumentsave:'onBeforeDocumentSave'},columnLines:!0,rowLines:!0,loadMask:!0,multiColumnSort:!1,selectable:{rows:!0},columns:[{text:'Dlgation',flex:1,columns:[{text:'Date Dlgation',dataIndex:'delegation.date_delegation',align:'center',width:150,exportStyle:{format:'Medium Date'},cell:{encodeHtml:!1},tpl:['<tpl for="delegation">','{date_delegation:date("d/m/Y")}','</tpl>']},{text:'Dlgation',dataIndex:'delegation.libelle',flex:1,cell:{encodeHtml:!1},tpl:['<tpl for="delegation">','<a class="item-title" href="#{url}">{libelle}</a>','</tpl>']},{text:'Nature Affectation',dataIndex:'delegation.nature_affectation',align:'center',filterType:'list',cell:{encodeHtml:!1},tpl:['<tpl for="delegation">','{nature_affectation}','</tpl>']}]},{text:'Unit',flex:2,columns:[{text:'PA',dataIndex:'unite.plan_actions',width:60,cell:{encodeHtml:!1},tpl:['<tpl for="unite">','{plan_actions}','</tpl>']},{text:'Rgion',dataIndex:'unite.region',cell:{encodeHtml:!1},tpl:['<tpl for="unite">','{region}','</tpl>']},{text:'P/P',dataIndex:'unite.province',cell:{encodeHtml:!1},tpl:['<tpl for="unite">','{province}','</tpl>']},{text:'FP',dataIndex:'unite.fondation_partenaire',width:60,cell:{encodeHtml:!1},tpl:['<tpl for="unite">','{fondation_partenaire}','</tpl>']},{text:'Commune',dataIndex:'unite.commune',cell:{encodeHtml:!1},tpl:['<tpl for="unite">','{commune}','</tpl>']},{text:'Douar',dataIndex:'unite.intitule',minWidth:200,cell:{encodeHtml:!1},tpl:['<tpl for="unite">','<a class="item-title" href="#{url}">{intitule}</a>','</tpl>']},{text:'Nbre Salles',dataIndex:'unite.nbre_salles',cell:{encodeHtml:!1},tpl:['<tpl for="unite">','{nbre_salles}','</tpl>']}]},{text:'Montant',dataIndex:'montant',xtype:'numbercolumn',align:'right',summary:'sum',width:150,exportStyle:{format:'General Number',alignment:{horizontal:'Right'}}}]}]},0,0,['widget','component','container','panel','browse'],{'widget':!0,'component':!0,'container':!0,'panel':!0,'browse':!0},0,0,[App.view.tablet.depense,'Browse'],0);Ext.cmd.derive('App.view.tablet.depense.BrowseToolbar',App.view.widgets.BrowseToolbar,{items:{create:null}},0,0,['widget','component','container','toolbar'],{'widget':!0,'component':!0,'container':!0,'toolbar':!0},0,0,[App.view.tablet.depense,'BrowseToolbar'],0);Ext.cmd.derive('App.profile.Tablet',Ext.app.Profile,{views:{userbrowse:'App.view.tablet.user.Browse',userbrowsetoolbar:'App.view.tablet.user.BrowseToolbar',depensebrowse:'App.view.tablet.depense.Browse',depensebrowsetoolbar:'App.view.tablet.depense.BrowseToolbar'},isActive:function(){return !Ext.platformTags.phone},launch:function(){Ext.getBody().addCls('tablet-profile')}},0,0,0,0,0,0,[App.profile,'Tablet'],0);Ext.cmd.derive('App.store.Actions',Ext.data.Store,{model:'App.model.Action',remoteFilter:!0,remoteSort:!0,sorters:{property:'created',direction:'DESC'}},0,0,0,0,['store.actions'],0,[App.store,'Actions'],0);Ext.cmd.derive('App.store.Communes2',Ext.data.Store,{model:'App.model.Commune',remoteFilter:!0,remoteSort:!0,remoteGroup:!1,proxy:{type:'direct',api:{prefix:'Server.communes',create:'insert',read:'list',update:'update',destroy:'remove'},reader:{type:'json',rootProperty:'data',messageProperty:'message'},extraParams:{scope:'browse'}}},0,0,0,0,['store.communes2'],0,[App.store,'Communes2'],0);Ext.cmd.derive('App.store.Delegations',Ext.data.Store,{model:'App.model.Delegation'},0,0,0,0,['store.delegations'],0,[App.store,'Delegations'],0);Ext.cmd.derive('App.store.Depenses',Ext.data.Store,{model:'App.model.DelegationUnite'},0,0,0,0,['store.depenses'],0,[App.store,'Depenses'],0);Ext.cmd.derive('App.store.Douars',Ext.data.Store,{model:'App.model.Douar',remoteFilter:!0,remoteSort:!0,remoteGroup:!1},0,0,0,0,['store.douars'],0,[App.store,'Douars'],0);Ext.cmd.derive('App.store.Effectifs',Ext.data.Store,{model:'App.model.Effectif',autoLoad:!1,remoteFilter:!0,remoteSort:!0,sorters:'annee_scolaire',pageSize:5},0,0,0,0,['store.effectifs'],0,[App.store,'Effectifs'],0);Ext.cmd.derive('App.store.Events',Ext.data.Store,{model:'App.model.Event',remoteFilter:!0,remoteSort:!0,autoLoad:!1},0,0,0,0,['store.events'],0,[App.store,'Events'],0);Ext.cmd.derive('App.store.Filters',Ext.data.Store,{config:{service:null,field:null,label:null},model:'App.model.Filter',remoteFilter:!0,remoteSort:!1,pageSize:25,autoLoad:!0,sorters:{property:'label',direction:'ASC'},proxy:{type:'direct',reader:{type:'json',rootProperty:'data',messageProperty:'message'}},updateService:function(c){var a=this.getProxy(),b=a.getApi()||{};b.read='Server.'+c+'.filters';a.setApi(b)},updateField:function(b){var c=this.getProxy(),a=c.getExtraParams();if(Ext.isEmpty(b)){delete a.field}else {a.field=b}},updateLabel:function(b){var c=this.getProxy(),a=c.getExtraParams();if(Ext.isEmpty(b)){delete a.label}else {a.label=b}}},0,0,0,0,['store.filters'],0,[App.store,'Filters'],0);Ext.cmd.derive('App.store.INDH.Annees',Ext.data.Store,{fields:['id','value'],data:[{id:0,value:'2019'},{id:1,value:'2020'},{id:2,value:'2021'},{id:3,value:'2022'},{id:4,value:'2023'}]},0,0,0,0,['store.annees'],0,[App.store.INDH,'Annees'],0);Ext.cmd.derive('App.store.INDH.Cercles',Ext.data.Store,{fields:['label','value','province_code','code_hcp','label_ar'],data:[{'province_code':6,'label':'Bni Boufrah','value':1,'code_hcp':'01.051.03.','label_ar':' :  '},{'province_code':6,'label':'Bni Ouriaghel Acharkia','value':2,'code_hcp':'01.051.05.','label_ar':' :  '},{'province_code':6,'label':'Bni Ouriaghel Algharbia','value':194},{'province_code':6,'label':'Targuist','value':3,'code_hcp':'01.051.07.','label_ar':' : '},{'province_code':6,'label':'Ketama','value':4,'code_hcp':'01.051.09.','label_ar':' : '},{'province_code':7,'label':'Assifane','value':202},{'province_code':7,'label':'Bab Berred','value':5,'code_hcp':'01.151.03.','label_ar':' :  '},{'province_code':7,'label':'Bab Taza','value':6,'code_hcp':'01.151.05.','label_ar':' :  '},{'province_code':7,'label':'Bni Ahmed','value':7,'code_hcp':'01.151.06.','label_ar':' :  '},{'province_code':7,'label':'Bou Ahmed','value':8,'code_hcp':'01.151.07.','label_ar':' :  '},{'province_code':7,'label':'Jebha','value':9,'code_hcp':'01.151.09.','label_ar':' : '},{'province_code':4,'label':'Anjra','value':10,'code_hcp':'01.227.03.','label_ar':' : '},{'province_code':4,'label':'Fahs','value':11,'code_hcp':'01.227.05.','label_ar':' : '},{'province_code':5,'label':'Loukouss','value':12,'code_hcp':'01.331.07.','label_ar':' : '},{'province_code':5,'label':"Moulay Abdeslem-Ben M'chich",'value':13,'code_hcp':'01.331.09.','label_ar':' :     '},{'province_code':5,'label':'Oued El Makhazine','value':14,'code_hcp':'01.331.11.','label_ar':' :  '},{'province_code':8,'label':'Ouezzane','value':15,'code_hcp':'01.405.07.','label_ar':' : '},{'province_code':8,'label':'El Wahda','value':197},{'province_code':8,'label':'Moqrisset','value':16,'code_hcp':'01.405.09.','label_ar':' : '},{'province_code':8,'label':'Zoumi','value':17,'code_hcp':'01.405.11.','label_ar':' : '},{'province_code':1,'label':'Tanger','value':201},{'province_code':1,'label':'Assilah','value':18,'code_hcp':'01.511.03.','label_ar':' : '},{'province_code':3,'label':'Jebala','value':19,'code_hcp':'01.571.03.','label_ar':' : '},{'province_code':3,'label':'Ttouan','value':20,'code_hcp':'01.571.05.','label_ar':' : '},{'province_code':13,'label':'Ahfir','value':21,'code_hcp':'02.113.03.','label_ar':' : '},{'province_code':13,'label':'Aklim','value':22,'code_hcp':'02.113.05.','label_ar':' : '},{'province_code':11,'label':'Driouch','value':23,'code_hcp':'02.167.03.','label_ar':' : '},{'province_code':11,'label':'Rif','value':24,'code_hcp':'02.167.09.','label_ar':' : '},{'province_code':16,'label':'Bni Tadjite','value':25,'code_hcp':'02.251.03.','label_ar':' :  '},{'province_code':16,'label':'Figuig','value':26,'code_hcp':'02.251.05.','label_ar':' : '},{'province_code':16,'label':'Talsint','value':203},{'province_code':15,'label':'Guercif','value':27,'code_hcp':'02.265.05.','label_ar':' : '},{'province_code':15,'label':'Taddart','value':28,'code_hcp':'02.265.07.','label_ar':' : '},{'province_code':12,'label':'Jerada Banlieue Chamalia','value':29,'code_hcp':'02.275.03.','label_ar':' :  '},{'province_code':12,'label':'Jerada Banlieue El Janobiya','value':207},{'province_code':12,'label':'Ain Bni Mathar','value':30,'code_hcp':'02.275.05.','label_ar':' :   '},{'province_code':10,'label':'Guelaia','value':31,'code_hcp':'02.381.05.','label_ar':' : '},{'province_code':10,'label':'Louta','value':32,'code_hcp':'02.381.07.','label_ar':' : '},{'province_code':9,'label':'Oujda Banlieue Nord','value':33,'code_hcp':'02.411.03.','label_ar':' :   '},{'province_code':9,'label':'Oujda Banlieue Sud','value':34,'code_hcp':'02.411.05.','label_ar':' :   '},{'province_code':14,'label':'Debdou','value':35,'code_hcp':'02.533.03.','label_ar':' : '},{'province_code':14,'label':'El Aioun','value':36,'code_hcp':'02.533.07.','label_ar':' : '},{'province_code':14,'label':'Taourirt','value':37,'code_hcp':'02.533.09.','label_ar':' : '},{'province_code':18,'label':'Ain Orma','value':38,'code_hcp':'03.061.03.','label_ar':' :  '},{'province_code':18,'label':'Mekns Banlieue','value':39,'code_hcp':'03.061.05.','label_ar':' :  '},{'province_code':18,'label':'Zerhoun','value':40,'code_hcp':'03.061.07.','label_ar':' : '},{'province_code':23,'label':'Boulemane','value':41,'code_hcp':'03.131.03.','label_ar':' : '},{'province_code':23,'label':'Marmoucha','value':204},{'province_code':23,'label':'Missour','value':42,'code_hcp':'03.131.05.','label_ar':' : '},{'province_code':23,'label':'Outat El Haj','value':43,'code_hcp':'03.131.07.','label_ar':' :  '},{'province_code':19,'label':'Agourai','value':44,'code_hcp':'03.171.03.','label_ar':' : '},{'province_code':19,'label':'Ain Taoujdate','value':45,'code_hcp':'03.171.05.','label_ar':' :  '},{'province_code':19,'label':'El Hajeb','value':46,'code_hcp':'03.171.07.','label_ar':' : '},{'province_code':17,'label':'Fs Banlieue','value':47,'code_hcp':'03.231.81.','label_ar':' :  '},{'province_code':20,'label':'Azrou','value':48,'code_hcp':'03.271.03.','label_ar':' : '},{'province_code':22,'label':'El Menzel','value':49,'code_hcp':'03.451.03.','label_ar':' : '},{'province_code':22,'label':'Imouzzer Kandar','value':50,'code_hcp':'03.451.05.','label_ar':' :  '},{'province_code':22,'label':'Sefrou','value':51,'code_hcp':'03.451.07.','label_ar':' : '},{'province_code':24,'label':'Ghafsai','value':52,'code_hcp':'03.531.03.','label_ar':' : '},{'province_code':24,'label':'Karia Ba Mohamed','value':53,'code_hcp':'03.531.05.','label_ar':' :   '},{'province_code':24,'label':'Taounate','value':54,'code_hcp':'03.531.07.','label_ar':' : '},{'province_code':24,'label':'Tissa','value':55,'code_hcp':'03.531.09.','label_ar':' : '},{'province_code':25,'label':'Aknoul','value':56,'code_hcp':'03.561.03.','label_ar':' : '},{'province_code':25,'label':'Oued Amlil','value':57,'code_hcp':'03.561.07.','label_ar':' :  '},{'province_code':25,'label':'Tahla','value':58,'code_hcp':'03.561.09.','label_ar':' : '},{'province_code':25,'label':'Tainaste','value':59,'code_hcp':'03.561.11.','label_ar':' : '},{'province_code':25,'label':'Taza','value':60,'code_hcp':'03.561.13.','label_ar':' : '},{'province_code':21,'label':'Moulay Yacoub','value':61,'code_hcp':'03.591.03.','label_ar':' :  '},{'province_code':21,'label':'Oulad Jemaa Lemta','value':62,'code_hcp':'03.591.05.','label_ar':' :   '},{'province_code':29,'label':'Knitra-Banlieue','value':63,'code_hcp':'04.281.03.','label_ar':' :  '},{'province_code':29,'label':'Ben Mansour','value':64,'code_hcp':'04.281.05.','label_ar':' : '},{'province_code':29,'label':'Souk Arbaa El Gharb','value':65,'code_hcp':'04.281.07.','label_ar':' :    '},{'province_code':29,'label':'Souk Tlet El Gharb','value':66,'code_hcp':'04.281.09.','label_ar':' :   '},{'province_code':29,'label':'Lalla Mimouna','value':67,'code_hcp':'04.281.11.','label_ar':' :  '},{'province_code':30,'label':'Khmisset','value':68,'code_hcp':'04.291.03.','label_ar':' : '},{'province_code':30,'label':'Oulmes','value':69,'code_hcp':'04.291.05.','label_ar':' : '},{'province_code':30,'label':'Rommani','value':70,'code_hcp':'04.291.07.','label_ar':' : '},{'province_code':30,'label':'Tiflet','value':71,'code_hcp':'04.291.09.','label_ar':' : '},{'province_code':31,'label':'Tilal Al Gharb','value':73,'code_hcp':'04.481.03.','label_ar':' :  '},{'province_code':31,'label':'Gharb-Bni Malek','value':74,'code_hcp':'04.481.05.','label_ar':' :   '},{'province_code':31,'label':'Ouargha','value':75,'code_hcp':'04.481.07.','label_ar':' : '},{'province_code':31,'label':'Chrarda','value':76,'code_hcp':'04.481.09.','label_ar':' : '},{'province_code':31,'label':'Baht','value':77,'code_hcp':'04.481.11.','label_ar':' : '},{'province_code':32,'label':'Kceibya','value':78,'code_hcp':'04.491.03.','label_ar':' : '},{'province_code':32,'label':'Sidi slimane','value':79,'code_hcp':'04.491.05.','label_ar':' :  '},{'province_code':28,'label':'Ain El Aouda','value':80,'code_hcp':'04.501.03.','label_ar':' :  '},{'province_code':28,'label':'Tmara','value':81,'code_hcp':'04.501.05.','label_ar':' : '},{'province_code':34,'label':'Azilal','value':82,'code_hcp':'05.081.03.','label_ar':' : '},{'province_code':34,'label':'Bzou','value':83,'code_hcp':'05.081.05.','label_ar':' : '},{'province_code':34,'label':'Ouaouizeght','value':84,'code_hcp':'05.081.09.','label_ar':' : '},{'province_code':34,'label':'Afourar','value':85,'code_hcp':'05.081.11.','label_ar':' : '},{'province_code':34,'label':'Fetouqka','value':86,'code_hcp':'05.081.13.','label_ar':' : '},{'province_code':34,'label':'Oultana','value':87,'code_hcp':'05.081.15.','label_ar':' : '},{'province_code':33,'label':'Bni Mellal','value':88,'code_hcp':'05.091.03.','label_ar':' :  '},{'province_code':33,'label':'Aghbala','value':89,'code_hcp':'05.091.05.','label_ar':' : '},{'province_code':33,'label':'El Ksiba','value':90,'code_hcp':'05.091.07.','label_ar':' : '},{'province_code':33,'label':'Kasba Tadla','value':91,'code_hcp':'05.091.11.','label_ar':' :  '},{'province_code':35,'label':'Bni Moussa Charquia','value':92,'code_hcp':'05.255.05.','label_ar':' :    '},{'province_code':35,'label':'Fqih Ben Salah','value':93,'code_hcp':'05.255.09.','label_ar':' :   '},{'province_code':35,'label':'Bni Moussa Gharbia','value':94,'code_hcp':'05.255.11.','label_ar':' :    '},{'province_code':36,'label':'El Kbab','value':95,'code_hcp':'05.301.03.','label_ar':' : '},{'province_code':36,'label':'Khnifra','value':96,'code_hcp':'05.301.05.','label_ar':' : '},{'province_code':36,'label':'Aguelmous','value':97,'code_hcp':'05.301.07.','label_ar':' : '},{'province_code':37,'label':'Bejaad','value':98,'code_hcp':'05.311.03.','label_ar':' :  '},{'province_code':37,'label':'Khouribga','value':99,'code_hcp':'05.311.05.','label_ar':' : '},{'province_code':37,'label':'Oued-Zem','value':100,'code_hcp':'05.311.07.','label_ar':' :  '},{'province_code':43,'label':'Benslimane','value':101,'code_hcp':'06.111.03.','label_ar':' : '},{'province_code':43,'label':'Bouznika','value':102,'code_hcp':'06.111.05.','label_ar':' : '},{'province_code':44,'label':'Berrechid','value':103,'code_hcp':'06.117.05.','label_ar':' : '},{'province_code':44,'label':'El Gara','value':104,'code_hcp':'06.117.08.','label_ar':' : '},{'province_code':40,'label':'Azemmour','value':105,'code_hcp':'06.181.03.','label_ar':' : '},{'province_code':40,'label':'El Jadida','value':106,'code_hcp':'06.181.05.','label_ar':' : '},{'province_code':40,'label':'Haouzia','value':107,'code_hcp':'06.181.07.','label_ar':' : '},{'province_code':40,'label':'Sidi Smail','value':108,'code_hcp':'06.181.09.','label_ar':' :  '},{'province_code':42,'label':'Tit Mellil','value':109,'code_hcp':'06.355.03.','label_ar':' :  '},{'province_code':39,'label':'Znata','value':110,'code_hcp':'06.371.03.','label_ar':' : '},{'province_code':45,'label':'Ben Ahmed Chamalia','value':112,'code_hcp':'06.461.03.','label_ar':' :  '},{'province_code':45,'label':'Ben Ahmed El Janobiya','value':195},{'province_code':45,'label':'El Borouj','value':113,'code_hcp':'06.461.07.','label_ar':' : '},{'province_code':45,'label':'Settat Chamalia','value':114,'code_hcp':'06.461.09.','label_ar':' : '},{'province_code':45,'label':'Settat El Janobiya','value':196},{'province_code':46,'label':'Sidi Bennour','value':115,'code_hcp':'06.467.07.','label_ar':' :  '},{'province_code':46,'label':'Bni Hilal-Laaounate','value':198},{'province_code':46,'label':'Oulad Amrane','value':199},{'province_code':46,'label':'Zemamra','value':116,'code_hcp':'06.467.11.','label_ar':' : '},{'province_code':49,'label':'Ait Ourir','value':117,'code_hcp':'07.041.03.','label_ar':' :  '},{'province_code':49,'label':'Amizmiz','value':118,'code_hcp':'07.041.05.','label_ar':' : '},{'province_code':49,'label':'Asni','value':119,'code_hcp':'07.041.07.','label_ar':' : '},{'province_code':49,'label':'Tahannaout','value':120,'code_hcp':'07.041.09.','label_ar':' : '},{'province_code':49,'label':'Touama','value':121,'code_hcp':'07.041.11.','label_ar':' : '},{'province_code':48,'label':'Chichaoua','value':122,'code_hcp':'07.161.03.','label_ar':' : '},{'province_code':48,'label':'Imintanoute','value':123,'code_hcp':'07.161.05.','label_ar':' : '},{'province_code':48,'label':'Majjat','value':124,'code_hcp':'07.161.07.','label_ar':' : '},{'province_code':48,'label':'Mtouga','value':125,'code_hcp':'07.161.09.','label_ar':' : '},{'province_code':50,'label':'Assahrij-Sanhaja','value':208},{'province_code':50,'label':'El Kelaa-Ahl Ghaba','value':126,'code_hcp':'07.191.03.','label_ar':' :  '},{'province_code':50,'label':'El Kelaa-Bni Aamr','value':209},{'province_code':50,'label':'Laattaouia','value':127,'code_hcp':'07.191.05.','label_ar':' : '},{'province_code':50,'label':'Tamallalt','value':128,'code_hcp':'07.191.07.','label_ar':' : '},{'province_code':51,'label':'Ait Daoud','value':211},{'province_code':51,'label':'El Hanchane','value':210},{'province_code':51,'label':'Essaouira','value':129,'code_hcp':'07.211.03.','label_ar':' : '},{'province_code':51,'label':'Tamanar','value':130,'code_hcp':'07.211.05.','label_ar':' : '},{'province_code':47,'label':'Alouidane','value':131,'code_hcp':'07.351.02.','label_ar':' : '},{'province_code':47,'label':'Bour','value':132,'code_hcp':'07.351.03.','label_ar':' : '},{'province_code':47,'label':'Loudaya','value':133,'code_hcp':'07.351.05.','label_ar':' : '},{'province_code':47,'label':'Saada','value':134,'code_hcp':'07.351.07.','label_ar':' : '},{'province_code':52,'label':'Rehamna','value':135,'code_hcp':'07.427.07.','label_ar':' : '},{'province_code':52,'label':'Sidi Bou Othmane','value':136,'code_hcp':'07.427.09.','label_ar':' :   '},{'province_code':53,'label':'Abda','value':137,'code_hcp':'07.431.03.','label_ar':' : '},{'province_code':53,'label':'Gzoula','value':138,'code_hcp':'07.431.07.','label_ar':' : '},{'province_code':53,'label':'Hrara','value':139,'code_hcp':'07.431.09.','label_ar':' : '},{'province_code':54,'label':'Ahmar','value':140,'code_hcp':'07.585.05.','label_ar':' : '},{'province_code':54,'label':'Al Gantour','value':141,'code_hcp':'07.585.07.','label_ar':' : '},{'province_code':55,'label':'Arfoud','value':142,'code_hcp':'08.201.03.','label_ar':' : '},{'province_code':55,'label':'Errachidia','value':143,'code_hcp':'08.201.07.','label_ar':' : '},{'province_code':55,'label':'Er-Rissani','value':144,'code_hcp':'08.201.11.','label_ar':' : '},{'province_code':55,'label':'Goulmima','value':145,'code_hcp':'08.201.13.','label_ar':' : '},{'province_code':55,'label':'Tinjdad','value':206},{'province_code':57,'label':'Boumia','value':146,'code_hcp':'08.363.05.','label_ar':' : '},{'province_code':57,'label':'Midelt','value':147,'code_hcp':'08.363.07.','label_ar':' : '},{'province_code':57,'label':'Er-Rich','value':148,'code_hcp':'08.363.09.','label_ar':' : '},{'province_code':57,'label':'Imilchil','value':149,'code_hcp':'08.363.15.','label_ar':' : '},{'province_code':56,'label':'Amerzgane','value':150,'code_hcp':'08.401.03.','label_ar':' : '},{'province_code':56,'label':'Ouarzazate','value':151,'code_hcp':'08.401.07.','label_ar':' : '},{'province_code':58,'label':'Alnif','value':152,'code_hcp':'08.577.02.','label_ar':' : '},{'province_code':58,'label':'Assoul','value':153,'code_hcp':'08.577.03.','label_ar':' : '},{'province_code':58,'label':'Boumalne Dades','value':154,'code_hcp':'08.577.05.','label_ar':' :   '},{'province_code':58,'label':'Tinghir','value':155,'code_hcp':'08.577.07.','label_ar':' : '},{'province_code':58,'label':"Kalaat M'Gouna",'value':200},{'province_code':59,'label':'Agdz','value':156,'code_hcp':'08.587.03.','label_ar':' : '},{'province_code':59,'label':'Tinzouline','value':157,'code_hcp':'08.587.07.','label_ar':' : '},{'province_code':59,'label':'Zagora','value':158,'code_hcp':'08.587.09.','label_ar':' : '},{'province_code':60,'label':'Agadir Banlieue','value':159,'code_hcp':'09.001.05.','label_ar':' :  '},{'province_code':60,'label':'Agadir Atlantique','value':160,'code_hcp':'09.001.07.','label_ar':' :  '},{'province_code':62,'label':'Ait Baha','value':161,'code_hcp':'09.163.03.','label_ar':' :  '},{'province_code':62,'label':'Belfaa- Massa','value':162,'code_hcp':'09.163.05.','label_ar':' :  '},{'province_code':62,'label':'Biougra','value':163,'code_hcp':'09.163.07.','label_ar':' : '},{'province_code':61,'label':'Ait Melloul','value':164,'code_hcp':'09.273.05.','label_ar':' :  '},{'province_code':63,'label':'Irherm','value':165,'code_hcp':'09.541.03.','label_ar':' : '},{'province_code':63,'label':'Oulad Berhil','value':166,'code_hcp':'09.541.04.','label_ar':' :  '},{'province_code':63,'label':'Oulad Teima','value':167,'code_hcp':'09.541.05.','label_ar':' :  '},{'province_code':63,'label':'Sidi Moussa Lhamri','value':205},{'province_code':63,'label':'Taliouine','value':168,'code_hcp':'09.541.07.','label_ar':' : '},{'province_code':63,'label':'Taroudannt','value':169,'code_hcp':'09.541.09.','label_ar':' : '},{'province_code':65,'label':'Akka','value':170,'code_hcp':'09.551.03.','label_ar':' : '},{'province_code':65,'label':'Foum Zguid','value':171,'code_hcp':'09.551.05.','label_ar':' :   '},{'province_code':65,'label':'Tata','value':172,'code_hcp':'09.551.07.','label_ar':' : '},{'province_code':64,'label':'Anezi','value':173,'code_hcp':'09.581.03.','label_ar':' : '},{'province_code':64,'label':'Tafraout','value':174,'code_hcp':'09.581.09.','label_ar':' : '},{'province_code':64,'label':'Tiznit','value':175,'code_hcp':'09.581.11.','label_ar':' : '},{'province_code':67,'label':'Assa','value':176,'code_hcp':'10.071.03.','label_ar':' : '},{'province_code':67,'label':'Zag','value':177,'code_hcp':'10.071.05.','label_ar':' : '},{'province_code':66,'label':'Bouizakarne','value':178,'code_hcp':'10.261.03.','label_ar':' : '},{'province_code':66,'label':'Guelmim','value':179,'code_hcp':'10.261.05.','label_ar':' : '},{'province_code':66,'label':'Laqsabi','value':180,'code_hcp':'10.261.07.','label_ar':' : '},{'province_code':69,'label':'Ifni','value':181,'code_hcp':'10.473.05.','label_ar':' : '},{'province_code':69,'label':'Lakhsas','value':182,'code_hcp':'10.473.07.','label_ar':' : '},{'province_code':68,'label':'Msied','value':183,'code_hcp':'10.521.03.','label_ar':' : '},{'province_code':68,'label':'Tan Tan','value':184,'code_hcp':'10.521.05.','label_ar':' : '},{'province_code':71,'label':'Jraifia','value':185,'code_hcp':'11.121.03.','label_ar':' : '},{'province_code':73,'label':'Es-Semara','value':186,'code_hcp':'11.221.03.','label_ar':' : '},{'province_code':70,'label':'Laayoune','value':187,'code_hcp':'11.321.03.','label_ar':' : '},{'province_code':72,'label':'Daoura -el Hagounia','value':188,'code_hcp':'11.537.03.','label_ar':' :  '},{'province_code':72,'label':'Tarfaya','value':189,'code_hcp':'11.537.05.','label_ar':' : '},{'province_code':75,'label':'Aousserd','value':190,'code_hcp':'12.066.03.','label_ar':' : '},{'province_code':75,'label':'Bir Gandouz','value':191,'code_hcp':'12.066.05.','label_ar':' :  '},{'province_code':74,'label':'Bir Anzarane','value':192,'code_hcp':'12.391.05.','label_ar':' :  '},{'province_code':74,'label':'El Argoub','value':193,'code_hcp':'12.391.09.','label_ar':' : '}]},0,0,0,0,['store.cercles'],0,[App.store.INDH,'Cercles'],0);Ext.cmd.derive('App.store.INDH.Communes',Ext.data.Store,{model:'App.model.Commune',proxy:{type:'memory'},data:[{'id':1,'code_hcp':'01.051.01.01.','label':'Al Hoceima','province_code':6,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Al Hoceima (Mun.)','label_ar':' ()'},{'id':2,'code_hcp':'01.051.01.03.','label':'Bni Bouayach','province_code':6,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Bni Bouayach (Mun.)','label_ar':'  ()'},{'id':3,'code_hcp':'01.051.01.05.','label':'Imzouren','province_code':6,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Imzouren (Mun.)','label_ar':' ()'},{'id':4,'code_hcp':'01.051.01.07.','label':'Targuist','province_code':6,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Targuist (Mun.)','label_ar':' ()'},{'id':5,'code_hcp':'01.051.01.09.','label':'Ajdir','province_code':6,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Ajdir (Mun.)','label_ar':' ()'},{'id':6,'code_hcp':'01.051.03.01.','label':'Bni Boufrah','province_code':6,'cercle_code':1,'est_rural':0,'alt_label':'','dnom':'Bni Boufrah','label_ar':' '},{'id':7,'code_hcp':'01.051.03.03.','label':'Bni Gmil','province_code':6,'cercle_code':1,'est_rural':0,'alt_label':'','dnom':'Bni Gmil','label_ar':' '},{'id':8,'code_hcp':'01.051.03.05.','label':'Bni Gmil Maksouline','province_code':6,'cercle_code':1,'est_rural':0,'alt_label':'','dnom':'Bni Gmil Maksouline','label_ar':'  '},{'id':9,'code_hcp':'01.051.03.07.','label':'Senada','province_code':6,'cercle_code':1,'est_rural':0,'alt_label':'','dnom':'Senada','label_ar':''},{'id':10,'code_hcp':'01.051.05.01.','label':'Ait Kamra','province_code':6,'cercle_code':194,'est_rural':0,'alt_label':'','dnom':'Ait Kamra','label_ar':' '},{'id':11,'code_hcp':'01.051.05.03.','label':'Ait Youssef Ou Ali','province_code':6,'cercle_code':2,'est_rural':0,'alt_label':'','dnom':'Ait Youssef Ou Ali','label_ar':'  '},{'id':12,'code_hcp':'01.051.05.05.','label':'Arbaa Taourirt','province_code':6,'cercle_code':2,'est_rural':0,'alt_label':'','dnom':'Arbaa Taourirt','label_ar':' '},{'id':13,'code_hcp':'01.051.05.07.','label':'Bni Abdallah','province_code':6,'cercle_code':194,'est_rural':0,'alt_label':'Bni Abdellah','dnom':'Bni Abdallah','label_ar':'  '},{'id':14,'code_hcp':'01.051.05.09.','label':'Bni Hadifa','province_code':6,'cercle_code':194,'est_rural':0,'alt_label':'','dnom':'Bni Hadifa','label_ar':' '},{'id':15,'code_hcp':'01.051.05.11.','label':'Chakrane','province_code':6,'cercle_code':2,'est_rural':0,'alt_label':'','dnom':'Chakrane','label_ar':''},{'id':16,'code_hcp':'01.051.05.13.','label':'Imrabten','province_code':6,'cercle_code':2,'est_rural':0,'alt_label':'','dnom':'Imrabten','label_ar':''},{'id':17,'code_hcp':'01.051.05.15.','label':'Izemmouren','province_code':6,'cercle_code':194,'est_rural':0,'alt_label':'Izzemouren','dnom':'Izemmouren','label_ar':''},{'id':18,'code_hcp':'01.051.05.17.','label':'Louta','province_code':6,'cercle_code':2,'est_rural':0,'alt_label':'','dnom':'Louta','label_ar':''},{'id':19,'code_hcp':'01.051.05.19.','label':'Nekkour','province_code':6,'cercle_code':2,'est_rural':0,'alt_label':'','dnom':'Nekkour','label_ar':''},{'id':20,'code_hcp':'01.051.05.21.','label':'Rouadi','province_code':6,'cercle_code':194,'est_rural':0,'alt_label':'','dnom':'Rouadi','label_ar':''},{'id':21,'code_hcp':'01.051.05.23.','label':'Tifarouine','province_code':6,'cercle_code':2,'est_rural':0,'alt_label':'','dnom':'Tifarouine','label_ar':''},{'id':22,'code_hcp':'01.051.05.25.','label':'Zaouiat Sidi Abdelkader','province_code':6,'cercle_code':194,'est_rural':0,'alt_label':'','dnom':'Zaouiat Sidi Abdelkader','label_ar':'   '},{'id':23,'code_hcp':'01.051.07.03.','label':'Bni Ahmed Imoukzan','province_code':6,'cercle_code':3,'est_rural':0,'alt_label':'','dnom':'Bni Ahmed Imoukzan','label_ar':'  '},{'id':24,'code_hcp':'01.051.07.05.','label':'Bni Ammart','province_code':6,'cercle_code':3,'est_rural':0,'alt_label':'','dnom':'Bni Ammart','label_ar':' '},{'id':25,'code_hcp':'01.051.07.07.','label':'Bni Bchir','province_code':6,'cercle_code':3,'est_rural':0,'alt_label':'','dnom':'Bni Bchir','label_ar':' '},{'id':26,'code_hcp':'01.051.07.11.','label':'Bni Bounsar','province_code':6,'cercle_code':3,'est_rural':0,'alt_label':'','dnom':'Bni Bounsar','label_ar':' '},{'id':27,'code_hcp':'01.051.07.19.','label':'Sidi Boutmim','province_code':6,'cercle_code':3,'est_rural':0,'alt_label':'','dnom':'Sidi Boutmim','label_ar':' '},{'id':28,'code_hcp':'01.051.07.21.','label':'Sidi Bouzineb','province_code':6,'cercle_code':3,'est_rural':0,'alt_label':'','dnom':'Sidi Bouzineb','label_ar':' '},{'id':29,'code_hcp':'01.051.07.27.','label':'Zarkt','province_code':6,'cercle_code':3,'est_rural':0,'alt_label':'','dnom':'Zarkt','label_ar':''},{'id':30,'code_hcp':'01.051.09.01.','label':'Abdelghaya Souahel','province_code':6,'cercle_code':4,'est_rural':0,'alt_label':'','dnom':'Abdelghaya Souahel','label_ar':'   '},{'id':31,'code_hcp':'01.051.09.09.','label':'Bni Bouchibet','province_code':6,'cercle_code':4,'est_rural':0,'alt_label':'','dnom':'Bni Bouchibet','label_ar':' '},{'id':32,'code_hcp':'01.051.09.13.','label':'Issaguen','province_code':6,'cercle_code':4,'est_rural':0,'alt_label':'','dnom':'Issaguen','label_ar':''},{'id':33,'code_hcp':'01.051.09.15.','label':'Ketama','province_code':6,'cercle_code':4,'est_rural':0,'alt_label':'','dnom':'Ketama','label_ar':''},{'id':34,'code_hcp':'01.051.09.17.','label':'Moulay Ahmed Cherif','province_code':6,'cercle_code':4,'est_rural':0,'alt_label':'','dnom':'Moulay Ahmed Cherif','label_ar':'  '},{'id':35,'code_hcp':'01.051.09.23.','label':'Taghzout','province_code':6,'cercle_code':4,'est_rural':0,'alt_label':'','dnom':'Taghzout','label_ar':''},{'id':36,'code_hcp':'01.051.09.25.','label':'Tamsaout','province_code':6,'cercle_code':4,'est_rural':0,'alt_label':'','dnom':'Tamsaout','label_ar':''},{'id':37,'code_hcp':'01.151.01.01.','label':'Chefchaouen','province_code':7,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Chefchaouen (Mun.)','label_ar':' ()'},{'id':38,'code_hcp':'01.151.03.03.','label':'Bab Berred','province_code':7,'cercle_code':5,'est_rural':0,'alt_label':'','dnom':'Bab Berred','label_ar':' '},{'id':39,'code_hcp':'01.151.03.13.','label':'Iounane','province_code':7,'cercle_code':5,'est_rural':0,'alt_label':'','dnom':'Iounane','label_ar':''},{'id':40,'code_hcp':'01.151.03.23.','label':'Tamorot','province_code':7,'cercle_code':5,'est_rural':0,'alt_label':'','dnom':'Tamorot','label_ar':''},{'id':41,'code_hcp':'01.151.05.01.','label':'Bab Taza','province_code':7,'cercle_code':6,'est_rural':0,'alt_label':'','dnom':'Bab Taza','label_ar':' '},{'id':42,'code_hcp':'01.151.05.03.','label':'Bni Darkoul','province_code':7,'cercle_code':6,'est_rural':0,'alt_label':'','dnom':'Bni Darkoul','label_ar':' '},{'id':43,'code_hcp':'01.151.05.05.','label':'Bni Faghloum','province_code':7,'cercle_code':6,'est_rural':0,'alt_label':'','dnom':'Bni Faghloum','label_ar':' '},{'id':44,'code_hcp':'01.151.05.07.','label':'Bni Salah','province_code':7,'cercle_code':6,'est_rural':0,'alt_label':'','dnom':'Bni Salah','label_ar':' '},{'id':45,'code_hcp':'01.151.05.09.','label':'Derdara','province_code':7,'cercle_code':6,'est_rural':0,'alt_label':'','dnom':'Derdara','label_ar':''},{'id':46,'code_hcp':'01.151.05.11.','label':'Fifi','province_code':7,'cercle_code':6,'est_rural':0,'alt_label':'','dnom':'Fifi','label_ar':''},{'id':47,'code_hcp':'01.151.05.13.','label':'Laghdir','province_code':7,'cercle_code':6,'est_rural':0,'alt_label':'','dnom':'Laghdir','label_ar':''},{'id':48,'code_hcp':'01.151.05.15.','label':'Tanaqoub','province_code':7,'cercle_code':6,'est_rural':0,'alt_label':'','dnom':'Tanaqoub','label_ar':''},{'id':49,'code_hcp':'01.151.06.05.','label':'Bni Ahmed Cherqia','province_code':7,'cercle_code':7,'est_rural':0,'alt_label':'','dnom':'Bni Ahmed Cherqia','label_ar':'   '},{'id':50,'code_hcp':'01.151.06.07.','label':'Bni Ahmed Gharbia','province_code':7,'cercle_code':7,'est_rural':0,'alt_label':'','dnom':'Bni Ahmed Gharbia','label_ar':'   '},{'id':51,'code_hcp':'01.151.06.15.','label':'Mansoura','province_code':7,'cercle_code':7,'est_rural':0,'alt_label':'','dnom':'Mansoura','label_ar':''},{'id':52,'code_hcp':'01.151.06.21.','label':'Oued Malha','province_code':7,'cercle_code':7,'est_rural':0,'alt_label':'','dnom':'Oued Malha','label_ar':' '},{'id':53,'code_hcp':'01.151.07.01.','label':'Bni Bouzra','province_code':7,'cercle_code':8,'est_rural':0,'alt_label':'','dnom':'Bni Bouzra','label_ar':' '},{'id':54,'code_hcp':'01.151.07.03.','label':'Bni Mansour','province_code':7,'cercle_code':202,'est_rural':0,'alt_label':'','dnom':'Bni Mansour','label_ar':' '},{'id':55,'code_hcp':'01.151.07.05.','label':'Bni Selmane','province_code':7,'cercle_code':202,'est_rural':0,'alt_label':'','dnom':'Bni Selmane','label_ar':' '},{'id':56,'code_hcp':'01.151.07.07.','label':'Steha','province_code':7,'cercle_code':8,'est_rural':0,'alt_label':'','dnom':'Steha','label_ar':''},{'id':57,'code_hcp':'01.151.07.09.','label':'Talambote','province_code':7,'cercle_code':8,'est_rural':0,'alt_label':'','dnom':'Talambote','label_ar':''},{'id':58,'code_hcp':'01.151.07.11.','label':'Tassift','province_code':7,'cercle_code':8,'est_rural':0,'alt_label':'','dnom':'Tassift','label_ar':''},{'id':59,'code_hcp':'01.151.07.13.','label':'Tizgane','province_code':7,'cercle_code':8,'est_rural':0,'alt_label':'','dnom':'Tizgane','label_ar':''},{'id':60,'code_hcp':'01.151.09.01.','label':'Amtar','province_code':7,'cercle_code':9,'est_rural':0,'alt_label':'','dnom':'Amtar','label_ar':''},{'id':61,'code_hcp':'01.151.09.09.','label':'Bni Rzine','province_code':7,'cercle_code':9,'est_rural':0,'alt_label':'','dnom':'Bni Rzine','label_ar':' '},{'id':62,'code_hcp':'01.151.09.11.','label':'Bni Smih','province_code':7,'cercle_code':9,'est_rural':0,'alt_label':'','dnom':'Bni Smih','label_ar':' '},{'id':63,'code_hcp':'01.151.09.17.','label':"M'tioua",'province_code':7,'cercle_code':9,'est_rural':0,'alt_label':'','dnom':"M'tioua",'label_ar':''},{'id':64,'code_hcp':'01.151.09.19.','label':'Ouaouzgane','province_code':7,'cercle_code':9,'est_rural':0,'alt_label':'','dnom':'Ouaouzgane','label_ar':''},{'id':65,'code_hcp':'01.227.03.05.','label':'Anjra','province_code':4,'cercle_code':10,'est_rural':0,'alt_label':'','dnom':'Anjra','label_ar':''},{'id':66,'code_hcp':'01.227.03.11.','label':'Jouamaa','province_code':4,'cercle_code':10,'est_rural':0,'alt_label':'','dnom':'Jouamaa','label_ar':''},{'id':67,'code_hcp':'01.227.03.13.','label':'Ksar El Majaz','province_code':4,'cercle_code':10,'est_rural':0,'alt_label':'','dnom':'Ksar El Majaz','label_ar':' '},{'id':68,'code_hcp':'01.227.03.21.','label':'Taghramt','province_code':4,'cercle_code':10,'est_rural':0,'alt_label':'','dnom':'Taghramt','label_ar':''},{'id':69,'code_hcp':'01.227.05.01.','label':'Al Bahraoyine','province_code':4,'cercle_code':11,'est_rural':0,'alt_label':'','dnom':'Al Bahraoyine','label_ar':''},{'id':70,'code_hcp':'01.227.05.05.','label':'Ksar Sghir','province_code':4,'cercle_code':11,'est_rural':0,'alt_label':'','dnom':'Ksar Sghir','label_ar':' '},{'id':71,'code_hcp':'01.227.05.09.','label':'Malloussa','province_code':4,'cercle_code':11,'est_rural':0,'alt_label':'','dnom':'Malloussa','label_ar':''},{'id':72,'code_hcp':'01.331.01.01.','label':'Ksar El Kebir','province_code':5,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Ksar El Kebir (Mun.)','label_ar':'  ()'},{'id':73,'code_hcp':'01.331.01.03.','label':'Larache','province_code':5,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Larache (Mun.)','label_ar':' ()'},{'id':74,'code_hcp':'01.331.07.01.','label':'Bou Jedyane','province_code':5,'cercle_code':12,'est_rural':0,'alt_label':'','dnom':'Bou Jedyane','label_ar':''},{'id':75,'code_hcp':'01.331.07.03.','label':'Ksar Bjir','province_code':5,'cercle_code':12,'est_rural':0,'alt_label':'','dnom':'Ksar Bjir','label_ar':' '},{'id':76,'code_hcp':'01.331.07.05.','label':'Laouamra','province_code':5,'cercle_code':12,'est_rural':0,'alt_label':'','dnom':'Laouamra','label_ar':''},{'id':77,'code_hcp':'01.331.07.11.','label':"Souk L'Qolla",'province_code':5,'cercle_code':12,'est_rural':0,'alt_label':'','dnom':"Souk L'Qolla",'label_ar':' '},{'id':78,'code_hcp':'01.331.07.15.','label':'Tatoft','province_code':5,'cercle_code':12,'est_rural':0,'alt_label':'','dnom':'Tatoft','label_ar':''},{'id':79,'code_hcp':'01.331.07.17.','label':'Zouada','province_code':5,'cercle_code':12,'est_rural':0,'alt_label':'','dnom':'Zouada','label_ar':''},{'id':80,'code_hcp':'01.331.09.01.','label':'Ayacha','province_code':5,'cercle_code':13,'est_rural':0,'alt_label':'','dnom':'Ayacha','label_ar':''},{'id':81,'code_hcp':'01.331.09.03.','label':'Bni Arouss','province_code':5,'cercle_code':13,'est_rural':0,'alt_label':'','dnom':'Bni Arouss','label_ar':' '},{'id':82,'code_hcp':'01.331.09.05.','label':'Bni Garfett','province_code':5,'cercle_code':13,'est_rural':0,'alt_label':'','dnom':'Bni Garfett','label_ar':' '},{'id':83,'code_hcp':'01.331.09.13.','label':'Tazroute','province_code':5,'cercle_code':13,'est_rural':0,'alt_label':'','dnom':'Tazroute','label_ar':''},{'id':84,'code_hcp':'01.331.09.15.','label':'Zaaroura','province_code':5,'cercle_code':13,'est_rural':0,'alt_label':'','dnom':'Zaaroura','label_ar':''},{'id':85,'code_hcp':'01.331.11.03.','label':'Oulad Ouchih','province_code':5,'cercle_code':14,'est_rural':0,'alt_label':'','dnom':'Oulad Ouchih','label_ar':' '},{'id':86,'code_hcp':'01.331.11.07.','label':'Rissana Chamalia','province_code':5,'cercle_code':14,'est_rural':0,'alt_label':'','dnom':'Rissana Chamalia','label_ar':' '},{'id':87,'code_hcp':'01.331.11.09.','label':'Rissana Janoubia','province_code':5,'cercle_code':14,'est_rural':0,'alt_label':'','dnom':'Rissana Janoubia','label_ar':' '},{'id':88,'code_hcp':'01.331.11.11.','label':'Sahel','province_code':5,'cercle_code':14,'est_rural':0,'alt_label':'','dnom':'Sahel','label_ar':''},{'id':89,'code_hcp':'01.331.11.12.','label':'Souaken','province_code':5,'cercle_code':14,'est_rural':0,'alt_label':'','dnom':'Souaken','label_ar':''},{'id':90,'code_hcp':'01.331.11.13.','label':'Souk Tolba','province_code':5,'cercle_code':14,'est_rural':0,'alt_label':'','dnom':'Souk Tolba','label_ar':' '},{'id':91,'code_hcp':'01.405.01.09.','label':'Ouezzane','province_code':8,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Ouezzane (Mun.)','label_ar':' ()'},{'id':92,'code_hcp':'01.405.07.01.','label':'Bni Quolla','province_code':8,'cercle_code':15,'est_rural':0,'alt_label':'','dnom':'Bni Quolla','label_ar':' '},{'id':93,'code_hcp':'01.405.07.03.','label':'Lamjaara','province_code':8,'cercle_code':197,'est_rural':0,'alt_label':'','dnom':'Lamjaara','label_ar':''},{'id':94,'code_hcp':'01.405.07.05.','label':'Masmouda','province_code':8,'cercle_code':15,'est_rural':0,'alt_label':'','dnom':'Masmouda','label_ar':''},{'id':95,'code_hcp':'01.405.07.07.','label':'Mzefroune','province_code':8,'cercle_code':15,'est_rural':0,'alt_label':'','dnom':'Mzefroune','label_ar':''},{'id':96,'code_hcp':'01.405.07.09.','label':'Ounnana','province_code':8,'cercle_code':197,'est_rural':0,'alt_label':'','dnom':'Ounnana','label_ar':''},{'id':97,'code_hcp':'01.405.07.11.','label':'Sidi Ahmed Cherif','province_code':8,'cercle_code':197,'est_rural':0,'alt_label':'','dnom':'Sidi Ahmed Cherif','label_ar':'  '},{'id':98,'code_hcp':'01.405.07.13.','label':'Sidi Bousber','province_code':8,'cercle_code':197,'est_rural':0,'alt_label':'','dnom':'Sidi Bousber','label_ar':' '},{'id':99,'code_hcp':'01.405.07.15.','label':'Sidi Redouane','province_code':8,'cercle_code':15,'est_rural':0,'alt_label':'','dnom':'Sidi Redouane','label_ar':' '},{'id':100,'code_hcp':'01.405.07.17.','label':'Teroual','province_code':8,'cercle_code':197,'est_rural':0,'alt_label':'','dnom':'Teroual','label_ar':''},{'id':101,'code_hcp':'01.405.07.19.','label':'Zghira','province_code':8,'cercle_code':197,'est_rural':0,'alt_label':'','dnom':'Zghira','label_ar':''},{'id':102,'code_hcp':'01.405.09.01.','label':'Ain Beida','province_code':8,'cercle_code':16,'est_rural':0,'alt_label':'','dnom':'Ain Beida','label_ar':' '},{'id':103,'code_hcp':'01.405.09.03.','label':'Asjen','province_code':8,'cercle_code':16,'est_rural':0,'alt_label':'','dnom':'Asjen','label_ar':''},{'id':104,'code_hcp':'01.405.09.05.','label':'Brikcha','province_code':8,'cercle_code':16,'est_rural':0,'alt_label':'','dnom':'Brikcha','label_ar':''},{'id':105,'code_hcp':'01.405.09.09.','label':'Moqrisset','province_code':8,'cercle_code':16,'est_rural':0,'alt_label':'Moqrissat','dnom':'Moqrisset','label_ar':''},{'id':106,'code_hcp':'01.405.11.07.','label':'Kalaat Bouqorra','province_code':8,'cercle_code':17,'est_rural':0,'alt_label':'','dnom':'Kalaat Bouqorra','label_ar':' '},{'id':107,'code_hcp':'01.405.11.11.','label':'Zoumi','province_code':8,'cercle_code':17,'est_rural':0,'alt_label':'','dnom':'Zoumi','label_ar':''},{'id':108,'code_hcp':'01.511.01.01.','label':'Assilah','province_code':1,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Assilah (Mun.)','label_ar':' ()'},{'id':109,'code_hcp':'01.511.01.03.','label':'Bni Makada (Arrond.)','province_code':1,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Bni Makada (Arrond.)','label_ar':'  ()'},{'id':110,'code_hcp':'01.511.01.05.','label':'Charf-Mghogha (Arrond.)','province_code':1,'cercle_code':0,'est_rural':1,'alt_label':'Mghogha','dnom':'Charf-Mghogha (Arrond.)','label_ar':'   ()'},{'id':111,'code_hcp':'01.511.01.06.','label':'Charf-Souani (Arrond.)','province_code':1,'cercle_code':0,'est_rural':1,'alt_label':'Souani','dnom':'Charf-Souani (Arrond.)','label_ar':'   ()'},{'id':112,'code_hcp':'01.511.01.07.','label':'Tanger-Mdina (Arrond.)','province_code':1,'cercle_code':0,'est_rural':1,'alt_label':'Medina','dnom':'Tanger-Mdina (Arrond.)','label_ar':'  ()'},{'id':113,'code_hcp':'01.511.01.09.','label':'Gueznaia','province_code':1,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Gueznaia (Mun.)','label_ar':' ()'},{'id':114,'code_hcp':'01.511.03.01.','label':'Al Manzla','province_code':1,'cercle_code':201,'est_rural':0,'alt_label':'','dnom':'Al Manzla','label_ar':''},{'id':115,'code_hcp':'01.511.03.03.','label':'Aquouass Briech','province_code':1,'cercle_code':18,'est_rural':0,'alt_label':'Aqouass Briech','dnom':'Aquouass Briech','label_ar':' '},{'id':116,'code_hcp':'01.511.03.05.','label':'Sebt Azzinate','province_code':1,'cercle_code':201,'est_rural':0,'alt_label':'Azzinate','dnom':'Sebt Azzinate','label_ar':' '},{'id':117,'code_hcp':'01.511.03.07.','label':'Dar Chaoui','province_code':1,'cercle_code':201,'est_rural':0,'alt_label':'','dnom':'Dar Chaoui','label_ar':' '},{'id':118,'code_hcp':'01.511.03.11.','label':'Sahel Chamali','province_code':1,'cercle_code':18,'est_rural':0,'alt_label':'','dnom':'Sahel Chamali','label_ar':' '},{'id':119,'code_hcp':'01.511.03.13.','label':'Sidi Lyamani','province_code':1,'cercle_code':18,'est_rural':0,'alt_label':'','dnom':'Sidi Lyamani','label_ar':' '},{'id':120,'code_hcp':'01.511.03.15.','label':'Had Al Gharbia','province_code':1,'cercle_code':18,'est_rural':0,'alt_label':'','dnom':'Had Al Gharbia','label_ar':' '},{'id':121,'code_hcp':'01.511.03.17.','label':'Laaouama','province_code':1,'cercle_code':201,'est_rural':0,'alt_label':'','dnom':'Laaouama','label_ar':''},{'id':122,'code_hcp':'01.511.81.05.','label':'Hjar Ennhal','province_code':1,'cercle_code':201,'est_rural':0,'alt_label':'','dnom':'Hjar Ennhal','label_ar':' '},{'id':123,'code_hcp':'01.571.01.07.','label':'Oued Laou','province_code':3,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Oued Laou (Mun.)','label_ar':'  ()'},{'id':124,'code_hcp':'01.571.01.11.','label':'Ttouan','province_code':3,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Ttouan (Mun.)','label_ar':' ()'},{'id':125,'code_hcp':'01.571.03.01.','label':'Ain Lahsan','province_code':3,'cercle_code':19,'est_rural':0,'alt_label':'','dnom':'Ain Lahsan','label_ar':' '},{'id':126,'code_hcp':'01.571.03.03.','label':'AL Kharroub','province_code':3,'cercle_code':19,'est_rural':0,'alt_label':'','dnom':'AL Kharroub','label_ar':''},{'id':127,'code_hcp':'01.571.03.05.','label':'Bghaghza','province_code':3,'cercle_code':19,'est_rural':0,'alt_label':'','dnom':'Bghaghza','label_ar':''},{'id':128,'code_hcp':'01.571.03.07.','label':'Bni Harchen','province_code':3,'cercle_code':19,'est_rural':0,'alt_label':'','dnom':'Bni Harchen','label_ar':' '},{'id':129,'code_hcp':'01.571.03.09.','label':'Jbel Lahbib','province_code':3,'cercle_code':19,'est_rural':0,'alt_label':'','dnom':'Jbel Lahbib','label_ar':' '},{'id':130,'code_hcp':'01.571.03.11.','label':'Bni Idder','province_code':3,'cercle_code':19,'est_rural':0,'alt_label':'','dnom':'Bni Idder','label_ar':' '},{'id':131,'code_hcp':'01.571.03.15.','label':'Mallalienne','province_code':3,'cercle_code':19,'est_rural':0,'alt_label':'','dnom':'Mallalienne','label_ar':''},{'id':132,'code_hcp':'01.571.03.17.','label':'Saddina','province_code':3,'cercle_code':19,'est_rural':0,'alt_label':'','dnom':'Saddina','label_ar':''},{'id':133,'code_hcp':'01.571.03.19.','label':'Souk Kdim','province_code':3,'cercle_code':19,'est_rural':0,'alt_label':'','dnom':'Souk Kdim','label_ar':' '},{'id':134,'code_hcp':'01.571.03.21.','label':'Sahtryine','province_code':3,'cercle_code':19,'est_rural':0,'alt_label':'','dnom':'Sahtryine','label_ar':''},{'id':135,'code_hcp':'01.571.05.01.','label':'Al Hamra','province_code':3,'cercle_code':20,'est_rural':0,'alt_label':'','dnom':'Al Hamra','label_ar':''},{'id':136,'code_hcp':'01.571.05.05.','label':'Al Oued','province_code':3,'cercle_code':20,'est_rural':0,'alt_label':'Elouad','dnom':'Al Oued','label_ar':''},{'id':137,'code_hcp':'01.571.05.07.','label':'Azla','province_code':3,'cercle_code':20,'est_rural':0,'alt_label':'','dnom':'Azla','label_ar':''},{'id':138,'code_hcp':'01.571.05.13.','label':'Bni Leit','province_code':3,'cercle_code':20,'est_rural':0,'alt_label':'','dnom':'Bni Leit','label_ar':' '},{'id':139,'code_hcp':'01.571.05.15.','label':'Bni Said','province_code':3,'cercle_code':20,'est_rural':0,'alt_label':'','dnom':'Bni Said','label_ar':' '},{'id':140,'code_hcp':'01.571.05.17.','label':'Dar Bni Karrich','province_code':3,'cercle_code':20,'est_rural':0,'alt_label':'','dnom':'Dar Bni Karrich','label_ar':'  '},{'id':141,'code_hcp':'01.571.05.19.','label':'Oulad Ali Mansour','province_code':3,'cercle_code':20,'est_rural':0,'alt_label':'','dnom':'Oulad Ali Mansour','label_ar':'  '},{'id':142,'code_hcp':'01.571.05.23.','label':'Zaitoune','province_code':3,'cercle_code':20,'est_rural':0,'alt_label':'','dnom':'Zaitoune','label_ar':''},{'id':143,'code_hcp':'01.571.05.25.','label':'Zaouiat Sidi Kacem','province_code':3,'cercle_code':20,'est_rural':0,'alt_label':'','dnom':'Zaouiat Sidi Kacem','label_ar':'  '},{'id':144,'code_hcp':'01.571.05.27.','label':'Zinat','province_code':3,'cercle_code':20,'est_rural':0,'alt_label':'','dnom':'Zinat','label_ar':''},{'id':145,'code_hcp':'01.573.01.01.','label':'Fnideq','province_code':2,'cercle_code':0,'est_rural':1,'alt_label':'Fnidq','dnom':'Fnideq (Mun.)','label_ar':' ()'},{'id':146,'code_hcp':'01.573.01.03.','label':'Martil','province_code':2,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Martil (Mun.)','label_ar':' ()'},{'id':147,'code_hcp':'01.573.01.05.','label':"M'Diq",'province_code':2,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':"M'Diq (Mun.)",'label_ar':' ()'},{'id':148,'code_hcp':'01.573.03.03.','label':'Allyene','province_code':2,'cercle_code':0,'est_rural':0,'alt_label':'','dnom':'Allyene','label_ar':''},{'id':149,'code_hcp':'01.573.03.05.','label':'Belyounech','province_code':2,'cercle_code':0,'est_rural':0,'alt_label':'','dnom':'Belyounech','label_ar':''},{'id':150,'code_hcp':'02.113.01.01.','label':'Ahfir','province_code':13,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Ahfir (Mun.)','label_ar':' ()'},{'id':151,'code_hcp':'02.113.01.05.','label':'Ain Erreggada','province_code':13,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Ain Erreggada (Mun.)','label_ar':'  ()'},{'id':152,'code_hcp':'02.113.01.07.','label':'Aklim','province_code':13,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Aklim (Mun.)','label_ar':' ()'},{'id':153,'code_hcp':'02.113.01.09.','label':'Berkane','province_code':13,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Berkane (Mun.)','label_ar':' ()'},{'id':154,'code_hcp':'02.113.01.25.','label':'Saidia','province_code':13,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Saidia (Mun.)','label_ar':' ()'},{'id':155,'code_hcp':'02.113.01.29.','label':'Sidi Slimane Echcharraa','province_code':13,'cercle_code':0,'est_rural':1,'alt_label':'Sidi Slimane Echcharaa','dnom':'Sidi Slimane Echcharraa (Mun.)','label_ar':'  -  ()'},{'id':156,'code_hcp':'02.113.03.01.','label':'Aghbal','province_code':13,'cercle_code':21,'est_rural':0,'alt_label':'','dnom':'Aghbal','label_ar':''},{'id':157,'code_hcp':'02.113.03.07.','label':'Fezouane','province_code':13,'cercle_code':21,'est_rural':0,'alt_label':'','dnom':'Fezouane','label_ar':''},{'id':158,'code_hcp':'02.113.03.09.','label':'Laatamna','province_code':13,'cercle_code':21,'est_rural':0,'alt_label':'','dnom':'Laatamna','label_ar':''},{'id':159,'code_hcp':'02.113.03.11.','label':'Madagh','province_code':13,'cercle_code':21,'est_rural':0,'alt_label':'','dnom':'Madagh','label_ar':''},{'id':160,'code_hcp':'02.113.05.03.','label':'Boughriba','province_code':13,'cercle_code':22,'est_rural':0,'alt_label':'','dnom':'Boughriba','label_ar':''},{'id':161,'code_hcp':'02.113.05.05.','label':'Chouihia','province_code':13,'cercle_code':22,'est_rural':0,'alt_label':'','dnom':'Chouihia','label_ar':''},{'id':162,'code_hcp':'02.113.05.13.','label':'Rislane','province_code':13,'cercle_code':22,'est_rural':0,'alt_label':'','dnom':'Rislane','label_ar':''},{'id':163,'code_hcp':'02.113.05.15.','label':'Sidi Bouhria','province_code':13,'cercle_code':22,'est_rural':0,'alt_label':'','dnom':'Sidi Bouhria','label_ar':' '},{'id':164,'code_hcp':'02.113.05.17.','label':'Tafoughalt','province_code':13,'cercle_code':22,'est_rural':0,'alt_label':'','dnom':'Tafoughalt','label_ar':''},{'id':165,'code_hcp':'02.113.05.19.','label':'Zegzel','province_code':13,'cercle_code':22,'est_rural':0,'alt_label':'','dnom':'Zegzel','label_ar':''},{'id':166,'code_hcp':'02.167.01.03.','label':'Ben Taieb','province_code':11,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Ben Taieb (Mun.)','label_ar':'  ()'},{'id':167,'code_hcp':'02.167.01.09.','label':'Driouch','province_code':11,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Driouch (Mun.)','label_ar':' ()'},{'id':168,'code_hcp':'02.167.01.13.','label':'Midar','province_code':11,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Midar (Mun.)','label_ar':' ()'},{'id':169,'code_hcp':'02.167.03.01.','label':'Ain Zohra','province_code':11,'cercle_code':23,'est_rural':0,'alt_label':'Ain-Zohra','dnom':'Ain Zohra','label_ar':' '},{'id':170,'code_hcp':'02.167.03.03.','label':'Ait Mait','province_code':11,'cercle_code':23,'est_rural':0,'alt_label':'Ait-Mait','dnom':'Ait Mait','label_ar':' '},{'id':171,'code_hcp':'02.167.03.05.','label':'Amejjaou','province_code':11,'cercle_code':23,'est_rural':0,'alt_label':'','dnom':'Amejjaou','label_ar':''},{'id':172,'code_hcp':'02.167.03.07.','label':'Dar El Kebdani','province_code':11,'cercle_code':23,'est_rural':0,'alt_label':'Dar-El-Kebdani','dnom':'Dar El Kebdani','label_ar':' '},{'id':173,'code_hcp':'02.167.03.09.','label':'Mtalssa','province_code':11,'cercle_code':23,'est_rural':0,'alt_label':'','dnom':'Mtalssa','label_ar':''},{'id':174,'code_hcp':'02.167.03.11.','label':'Oulad Boubker','province_code':11,'cercle_code':23,'est_rural':0,'alt_label':'','dnom':'Oulad Boubker','label_ar':' '},{'id':175,'code_hcp':'02.167.03.13.','label':'Tazaghine','province_code':11,'cercle_code':23,'est_rural':0,'alt_label':'','dnom':'Tazaghine','label_ar':''},{'id':176,'code_hcp':'02.167.09.01.','label':'Azlaf','province_code':11,'cercle_code':24,'est_rural':0,'alt_label':'','dnom':'Azlaf','label_ar':''},{'id':177,'code_hcp':'02.167.09.05.','label':'Bni Marghnine','province_code':11,'cercle_code':24,'est_rural':0,'alt_label':'','dnom':'Bni Marghnine','label_ar':' '},{'id':178,'code_hcp':'02.167.09.07.','label':'Boudinar','province_code':11,'cercle_code':24,'est_rural':0,'alt_label':'','dnom':'Boudinar','label_ar':''},{'id':179,'code_hcp':'02.167.09.09.','label':'Iferni','province_code':11,'cercle_code':24,'est_rural':0,'alt_label':'','dnom':'Iferni','label_ar':''},{'id':180,'code_hcp':'02.167.09.11.','label':'Ijermaouas','province_code':11,'cercle_code':24,'est_rural':0,'alt_label':'','dnom':'Ijermaouas','label_ar':''},{'id':181,'code_hcp':'02.167.09.15.','label':"M'Hajer",'province_code':11,'cercle_code':24,'est_rural':0,'alt_label':'Mhajer','dnom':"M'Hajer",'label_ar':''},{'id':182,'code_hcp':'02.167.09.17.','label':'Ouardana','province_code':11,'cercle_code':24,'est_rural':0,'alt_label':'','dnom':'Ouardana','label_ar':''},{'id':183,'code_hcp':'02.167.09.19.','label':'Oulad Amghar','province_code':11,'cercle_code':24,'est_rural':0,'alt_label':'','dnom':'Oulad Amghar','label_ar':' '},{'id':184,'code_hcp':'02.167.09.21.','label':'Tafersit','province_code':11,'cercle_code':24,'est_rural':0,'alt_label':'','dnom':'Tafersit','label_ar':''},{'id':185,'code_hcp':'02.167.09.23.','label':'Talilit','province_code':11,'cercle_code':24,'est_rural':0,'alt_label':'','dnom':'Talilit','label_ar':''},{'id':186,'code_hcp':'02.167.09.25.','label':'Temsamane','province_code':11,'cercle_code':24,'est_rural':0,'alt_label':'','dnom':'Temsamane','label_ar':''},{'id':187,'code_hcp':'02.167.09.27.','label':'Trougout','province_code':11,'cercle_code':24,'est_rural':0,'alt_label':'','dnom':'Trougout','label_ar':''},{'id':188,'code_hcp':'02.167.09.29.','label':'Tsaft','province_code':11,'cercle_code':24,'est_rural':0,'alt_label':'','dnom':'Tsaft','label_ar':''},{'id':189,'code_hcp':'02.251.01.01.','label':'Bouarfa','province_code':16,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Bouarfa (Mun.)','label_ar':' ()'},{'id':190,'code_hcp':'02.251.01.03.','label':'Figuig','province_code':16,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Figuig (Mun.)','label_ar':' ()'},{'id':191,'code_hcp':'02.251.03.01.','label':'Ain Chouater','province_code':16,'cercle_code':25,'est_rural':0,'alt_label':'','dnom':'Ain Chouater','label_ar':' '},{'id':192,'code_hcp':'02.251.03.03.','label':'Bni Tadjite','province_code':16,'cercle_code':25,'est_rural':0,'alt_label':'','dnom':'Bni Tadjite','label_ar':' '},{'id':193,'code_hcp':'02.251.03.05.','label':'Bouanane','province_code':16,'cercle_code':25,'est_rural':0,'alt_label':'','dnom':'Bouanane','label_ar':''},{'id':194,'code_hcp':'02.251.03.07.','label':'Bouchaouene','province_code':16,'cercle_code':203,'est_rural':0,'alt_label':'','dnom':'Bouchaouene','label_ar':''},{'id':195,'code_hcp':'02.251.03.09.','label':'Boumerieme','province_code':16,'cercle_code':203,'est_rural':0,'alt_label':'','dnom':'Boumerieme','label_ar':' '},{'id':196,'code_hcp':'02.251.03.11.','label':'Talsint','province_code':16,'cercle_code':203,'est_rural':0,'alt_label':'','dnom':'Talsint','label_ar':''},{'id':197,'code_hcp':'02.251.03.13.','label':'Ain Chair','province_code':16,'cercle_code':25,'est_rural':0,'alt_label':'','dnom':'Ain Chair','label_ar':'  '},{'id':198,'code_hcp':'02.251.05.01.','label':'Abbou Lakhal','province_code':16,'cercle_code':26,'est_rural':0,'alt_label':'','dnom':'Abbou Lakhal','label_ar':' '},{'id':199,'code_hcp':'02.251.05.03.','label':'Bni Guil','province_code':16,'cercle_code':26,'est_rural':0,'alt_label':'','dnom':'Bni Guil','label_ar':' '},{'id':200,'code_hcp':'02.251.05.05.','label':'Maatarka','province_code':16,'cercle_code':26,'est_rural':0,'alt_label':'','dnom':'Maatarka','label_ar':''},{'id':201,'code_hcp':'02.251.05.07.','label':'Tendrara','province_code':16,'cercle_code':26,'est_rural':0,'alt_label':'','dnom':'Tendrara','label_ar':''},{'id':202,'code_hcp':'02.265.01.03.','label':'Guercif','province_code':15,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Guercif (Mun.)','label_ar':' ()'},{'id':203,'code_hcp':'02.265.05.01.','label':'Assebbab','province_code':15,'cercle_code':27,'est_rural':0,'alt_label':'','dnom':'Assebbab','label_ar':''},{'id':204,'code_hcp':'02.265.05.03.','label':'Barkine','province_code':15,'cercle_code':27,'est_rural':0,'alt_label':'','dnom':'Barkine','label_ar':''},{'id':205,'code_hcp':'02.265.05.05.','label':'Houara Oulad Raho','province_code':15,'cercle_code':27,'est_rural':0,'alt_label':'','dnom':'Houara Oulad Raho','label_ar':'  '},{'id':206,'code_hcp':'02.265.05.07.','label':'Lamrija','province_code':15,'cercle_code':27,'est_rural':0,'alt_label':'','dnom':'Lamrija','label_ar':''},{'id':207,'code_hcp':'02.265.05.15.','label':'Saka','province_code':15,'cercle_code':27,'est_rural':0,'alt_label':'','dnom':'Saka','label_ar':''},{'id':208,'code_hcp':'02.265.07.09.','label':'Mazguitam','province_code':15,'cercle_code':28,'est_rural':0,'alt_label':'','dnom':'Mazguitam','label_ar':''},{'id':209,'code_hcp':'02.265.07.11.','label':'Oulad Bourima','province_code':15,'cercle_code':28,'est_rural':0,'alt_label':'','dnom':'Oulad Bourima','label_ar':' '},{'id':210,'code_hcp':'02.265.07.13.','label':'Ras Laksar','province_code':15,'cercle_code':28,'est_rural':0,'alt_label':'','dnom':'Ras Laksar','label_ar':' '},{'id':211,'code_hcp':'02.265.07.17.','label':'Taddart','province_code':15,'cercle_code':28,'est_rural':0,'alt_label':'','dnom':'Taddart','label_ar':''},{'id':212,'code_hcp':'02.275.01.03.','label':'Ain Bni Mathar','province_code':12,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Ain Bni Mathar (Mun.)','label_ar':'   ()'},{'id':213,'code_hcp':'02.275.01.17.','label':'Jerada','province_code':12,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Jerada (Mun.)','label_ar':' ()'},{'id':214,'code_hcp':'02.275.01.35.','label':'Touissit','province_code':12,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Touissit (Mun.)','label_ar':' ()'},{'id':215,'code_hcp':'02.275.03.03.','label':'Gafait','province_code':12,'cercle_code':207,'est_rural':0,'alt_label':'','dnom':'Gafait','label_ar':''},{'id':216,'code_hcp':'02.275.03.05.','label':'Guenfouda','province_code':12,'cercle_code':29,'est_rural':0,'alt_label':'','dnom':'Guenfouda','label_ar':''},{'id':217,'code_hcp':'02.275.03.07.','label':'Laaouinate','province_code':12,'cercle_code':207,'est_rural':0,'alt_label':'','dnom':'Laaouinate','label_ar':''},{'id':218,'code_hcp':'02.275.03.09.','label':'Lebkhata','province_code':12,'cercle_code':207,'est_rural':0,'alt_label':'','dnom':'Lebkhata','label_ar':''},{'id':219,'code_hcp':'02.275.03.13.','label':'Ras Asfour','province_code':12,'cercle_code':29,'est_rural':0,'alt_label':'','dnom':'Ras Asfour','label_ar':' '},{'id':220,'code_hcp':'02.275.03.15.','label':'Sidi Boubker','province_code':12,'cercle_code':29,'est_rural':0,'alt_label':'','dnom':'Sidi Boubker','label_ar':' '},{'id':221,'code_hcp':'02.275.03.21.','label':'Tiouli','province_code':12,'cercle_code':29,'est_rural':0,'alt_label':'','dnom':'Tiouli','label_ar':''},{'id':222,'code_hcp':'02.275.05.01.','label':'Bni Mathar','province_code':12,'cercle_code':30,'est_rural':0,'alt_label':'','dnom':'Bni Mathar','label_ar':' '},{'id':223,'code_hcp':'02.275.05.11.','label':'Mrija','province_code':12,'cercle_code':30,'est_rural':0,'alt_label':'Lamrija','dnom':'Mrija','label_ar':''},{'id':224,'code_hcp':'02.275.05.13.','label':'Oulad Ghziyel','province_code':12,'cercle_code':30,'est_rural':0,'alt_label':'Ouled Ghziyel','dnom':'Oulad Ghziyel','label_ar':' '},{'id':225,'code_hcp':'02.275.05.15.','label':'Oulad Sidi Abdelhakem','province_code':12,'cercle_code':30,'est_rural':0,'alt_label':'Ouled Sidi Abdelhakem','dnom':'Oulad Sidi Abdelhakem','label_ar':'   '},{'id':226,'code_hcp':'02.381.01.01.','label':'Al Aaroui','province_code':10,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Al Aaroui (Mun.)','label_ar':' ()'},{'id':227,'code_hcp':'02.381.01.03.','label':'Bni Ansar','province_code':10,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Bni Ansar (Mun.)','label_ar':'  ()'},{'id':228,'code_hcp':'02.381.01.05.','label':'Nador','province_code':10,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Nador (Mun.)','label_ar':' ()'},{'id':229,'code_hcp':'02.381.01.07.','label':'Zaio','province_code':10,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Zaio (Mun.)','label_ar':' ()'},{'id':230,'code_hcp':'02.381.01.09.','label':'Zeghanghane','province_code':10,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Zeghanghane (Mun.)','label_ar':' ()'},{'id':231,'code_hcp':'02.381.01.15.','label':'Ras El Ma','province_code':10,'cercle_code':0,'est_rural':1,'alt_label':'Ras-El-Ma','dnom':'Ras El Ma (Mun.)','label_ar':'  ()'},{'id':232,'code_hcp':'02.381.01.19.','label':'Selouane','province_code':10,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Selouane (Mun.)','label_ar':' ()'},{'id':233,'code_hcp':'02.381.05.01.','label':'Bni Bouifrour','province_code':10,'cercle_code':31,'est_rural':0,'alt_label':'','dnom':'Bni Bouifrour','label_ar':' '},{'id':234,'code_hcp':'02.381.05.03.','label':'Bni Chiker','province_code':10,'cercle_code':31,'est_rural':0,'alt_label':'','dnom':'Bni Chiker','label_ar':' '},{'id':235,'code_hcp':'02.381.05.05.','label':'Bni Sidel Jbel','province_code':10,'cercle_code':31,'est_rural':0,'alt_label':'','dnom':'Bni Sidel Jbel','label_ar':'  '},{'id':236,'code_hcp':'02.381.05.07.','label':'Bni Sidel Louta','province_code':10,'cercle_code':31,'est_rural':0,'alt_label':'Bni Sidel-Louta','dnom':'Bni Sidel Louta','label_ar':'  '},{'id':237,'code_hcp':'02.381.05.09.','label':'Bouarg','province_code':10,'cercle_code':31,'est_rural':0,'alt_label':'','dnom':'Bouarg','label_ar':''},{'id':238,'code_hcp':'02.381.05.13.','label':'Iaazzanene','province_code':10,'cercle_code':31,'est_rural':0,'alt_label':'','dnom':'Iaazzanene','label_ar':''},{'id':239,'code_hcp':'02.381.05.15.','label':'Ihaddadene','province_code':10,'cercle_code':31,'est_rural':0,'alt_label':'','dnom':'Ihaddadene','label_ar':''},{'id':240,'code_hcp':'02.381.05.17.','label':'Iksane','province_code':10,'cercle_code':31,'est_rural':0,'alt_label':'','dnom':'Iksane','label_ar':''},{'id':241,'code_hcp':'02.381.07.01.','label':'Afsou','province_code':10,'cercle_code':32,'est_rural':0,'alt_label':'','dnom':'Afsou','label_ar':''},{'id':242,'code_hcp':'02.381.07.03.','label':'Al Barkanyene','province_code':10,'cercle_code':32,'est_rural':0,'alt_label':'','dnom':'Al Barkanyene','label_ar':''},{'id':243,'code_hcp':'02.381.07.05.','label':'Arekmane','province_code':10,'cercle_code':32,'est_rural':0,'alt_label':'','dnom':'Arekmane','label_ar':''},{'id':244,'code_hcp':'02.381.07.07.','label':"Bni Oukil Oulad M'Hand",'province_code':10,'cercle_code':32,'est_rural':0,'alt_label':'','dnom':"Bni Oukil Oulad M'Hand",'label_ar':'   '},{'id':245,'code_hcp':'02.381.07.09.','label':'Hassi Berkane','province_code':10,'cercle_code':32,'est_rural':0,'alt_label':'','dnom':'Hassi Berkane','label_ar':' '},{'id':246,'code_hcp':'02.381.07.11.','label':'Oulad Daoud Zkhanine','province_code':10,'cercle_code':32,'est_rural':0,'alt_label':'','dnom':'Oulad Daoud Zkhanine','label_ar':'  '},{'id':247,'code_hcp':'02.381.07.13.','label':'Oulad Settout','province_code':10,'cercle_code':32,'est_rural':0,'alt_label':'','dnom':'Oulad Settout','label_ar':' '},{'id':248,'code_hcp':'02.381.07.17.','label':'Tiztoutine','province_code':10,'cercle_code':32,'est_rural':0,'alt_label':'','dnom':'Tiztoutine','label_ar':''},{'id':249,'code_hcp':'02.411.01.11.','label':'Bni Drar','province_code':9,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Bni Drar (Mun.)','label_ar':'  ()'},{'id':250,'code_hcp':'02.411.01.19.','label':'Naima','province_code':9,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Naima (Mun.)','label_ar':' ()'},{'id':251,'code_hcp':'02.411.01.23.','label':'Oujda','province_code':9,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Oujda (Mun.)','label_ar':' ()'},{'id':252,'code_hcp':'02.411.03.01.','label':'Ahl Angad','province_code':9,'cercle_code':33,'est_rural':0,'alt_label':'','dnom':'Ahl Angad','label_ar':' '},{'id':253,'code_hcp':'02.411.03.03.','label':'Ain Sfa','province_code':9,'cercle_code':33,'est_rural':0,'alt_label':'','dnom':'Ain Sfa','label_ar':' '},{'id':254,'code_hcp':'02.411.03.05.','label':'Bni Khaled','province_code':9,'cercle_code':33,'est_rural':0,'alt_label':'','dnom':'Bni Khaled','label_ar':' '},{'id':255,'code_hcp':'02.411.03.07.','label':'Bsara','province_code':9,'cercle_code':33,'est_rural':0,'alt_label':'','dnom':'Bsara','label_ar':''},{'id':256,'code_hcp':'02.411.05.09.','label':'Isly','province_code':9,'cercle_code':34,'est_rural':0,'alt_label':'','dnom':'Isly','label_ar':''},{'id':257,'code_hcp':'02.411.05.11.','label':'Mestferki','province_code':9,'cercle_code':34,'est_rural':0,'alt_label':'','dnom':'Mestferki','label_ar':''},{'id':258,'code_hcp':'02.411.05.17.','label':'Sidi Boulenouar','province_code':9,'cercle_code':34,'est_rural':0,'alt_label':'','dnom':'Sidi Boulenouar','label_ar':' '},{'id':259,'code_hcp':'02.411.05.19.','label':'Sidi Moussa Lemhaya','province_code':9,'cercle_code':34,'est_rural':0,'alt_label':'','dnom':'Sidi Moussa Lemhaya','label_ar':'  '},{'id':260,'code_hcp':'02.533.01.13.','label':'Debdou','province_code':14,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Debdou (Mun.)','label_ar':' ()'},{'id':261,'code_hcp':'02.533.01.15.','label':'El Aioun Sidi Mellouk','province_code':14,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'El Aioun Sidi Mellouk (Mun.)','label_ar':'   ()'},{'id':262,'code_hcp':'02.533.01.33.','label':'Taourirt','province_code':14,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Taourirt (Mun.)','label_ar':' ()'},{'id':263,'code_hcp':'02.533.03.05.','label':'El Atef','province_code':14,'cercle_code':35,'est_rural':0,'alt_label':'','dnom':'El Atef','label_ar':''},{'id':264,'code_hcp':'02.533.03.15.','label':"Oulad M'hammed",'province_code':14,'cercle_code':35,'est_rural':0,'alt_label':"Ouled M'Hamed",'dnom':"Oulad M'hammed",'label_ar':' '},{'id':265,'code_hcp':'02.533.03.17.','label':'Sidi Ali Bel Quassem','province_code':14,'cercle_code':35,'est_rural':0,'alt_label':'','dnom':'Sidi Ali Bel Quassem','label_ar':'  '},{'id':266,'code_hcp':'02.533.03.19.','label':'Sidi Lahsen','province_code':14,'cercle_code':35,'est_rural':0,'alt_label':'','dnom':'Sidi Lahsen','label_ar':' '},{'id':267,'code_hcp':'02.533.07.03.','label':'Ain Lehjer','province_code':14,'cercle_code':36,'est_rural':0,'alt_label':'','dnom':'Ain Lehjer','label_ar':' '},{'id':268,'code_hcp':'02.533.07.09.','label':'Mechraa Hammadi','province_code':14,'cercle_code':36,'est_rural':0,'alt_label':'','dnom':'Mechraa Hammadi','label_ar':' '},{'id':269,'code_hcp':'02.533.07.13.','label':'Mestegmer','province_code':14,'cercle_code':36,'est_rural':0,'alt_label':'','dnom':'Mestegmer','label_ar':''},{'id':270,'code_hcp':'02.533.07.21.','label':'Tancherfi','province_code':14,'cercle_code':36,'est_rural':0,'alt_label':'Tangherfi','dnom':'Tancherfi','label_ar':''},{'id':271,'code_hcp':'02.533.09.01.','label':'Ahl Oued Za','province_code':14,'cercle_code':37,'est_rural':0,'alt_label':'','dnom':'Ahl Oued Za','label_ar':'  '},{'id':272,'code_hcp':'02.533.09.07.','label':'Gteter','province_code':14,'cercle_code':37,'est_rural':0,'alt_label':'','dnom':'Gteter','label_ar':''},{'id':273,'code_hcp':'02.533.09.11.','label':'Melg El Ouidane','province_code':14,'cercle_code':37,'est_rural':0,'alt_label':'','dnom':'Melg El Ouidane','label_ar':' '},{'id':274,'code_hcp':'03.061.01.01.','label':'Mekns','province_code':18,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Mekns (Mun.)','label_ar':' ()'},{'id':275,'code_hcp':'03.061.01.03.','label':'Al Machouar-Stinia','province_code':18,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Al Machouar - Stinia (Mun.)','label_ar':'  ()'},{'id':276,'code_hcp':'03.061.01.05.','label':'Boufakrane','province_code':18,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Boufakrane (Mun.)','label_ar':' ()'},{'id':277,'code_hcp':'03.061.01.07.','label':'Toulal','province_code':18,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Toulal (Mun.)','label_ar':' ()'},{'id':278,'code_hcp':'03.061.01.09.','label':'Moulay Driss Zerhoun','province_code':18,'cercle_code':0,'est_rural':1,'alt_label':'My Driss Zerhoun','dnom':'Moulay Driss Zerhoun (Mun.)','label_ar':'   ()'},{'id':279,'code_hcp':'03.061.01.11.','label':'Ouislane','province_code':18,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Ouislane (Mun.)','label_ar':' ()'},{'id':280,'code_hcp':'03.061.03.01.','label':'Ain Jemaa','province_code':18,'cercle_code':38,'est_rural':0,'alt_label':'','dnom':'Ain Jemaa','label_ar':' '},{'id':281,'code_hcp':'03.061.03.02.','label':'Ain Karma-Oued Rommane','province_code':18,'cercle_code':38,'est_rural':0,'alt_label':'Ain Karma','dnom':'Ain Karma- Oued Rommane','label_ar':' - '},{'id':282,'code_hcp':'03.061.03.05.','label':'Ain Orma','province_code':18,'cercle_code':38,'est_rural':0,'alt_label':'','dnom':'Ain Orma','label_ar':' '},{'id':283,'code_hcp':'03.061.03.07.','label':'Ait Ouallal','province_code':18,'cercle_code':38,'est_rural':0,'alt_label':'','dnom':'Ait Ouallal','label_ar':' '},{'id':284,'code_hcp':'03.061.03.09.','label':'Dar Oum Soltane','province_code':18,'cercle_code':38,'est_rural':0,'alt_label':'','dnom':'Dar Oum Soltane','label_ar':'  '},{'id':285,'code_hcp':'03.061.05.01.','label':'Dkhissa','province_code':18,'cercle_code':39,'est_rural':0,'alt_label':'','dnom':'Dkhissa','label_ar':''},{'id':286,'code_hcp':'03.061.05.03.','label':'Majjate','province_code':18,'cercle_code':39,'est_rural':0,'alt_label':'','dnom':'Majjate','label_ar':''},{'id':287,'code_hcp':'03.061.05.05.','label':"M'haya",'province_code':18,'cercle_code':39,'est_rural':0,'alt_label':'','dnom':"M'haya",'label_ar':''},{'id':288,'code_hcp':'03.061.05.07.','label':'Oued Jdida','province_code':18,'cercle_code':39,'est_rural':0,'alt_label':'','dnom':'Oued Jdida','label_ar':' '},{'id':289,'code_hcp':'03.061.05.09.','label':'Sidi Slimane Moul Al Kifane','province_code':18,'cercle_code':39,'est_rural':0,'alt_label':'','dnom':'Sidi Slimane Moul Al Kifane','label_ar':'   '},{'id':290,'code_hcp':'03.061.07.01.','label':'Charqaoua','province_code':18,'cercle_code':40,'est_rural':0,'alt_label':'','dnom':'Charqaoua','label_ar':''},{'id':291,'code_hcp':'03.061.07.05.','label':'MRhassiyine','province_code':18,'cercle_code':40,'est_rural':0,'alt_label':"M'Rhassiyine",'dnom':'MRhassiyine','label_ar':''},{'id':292,'code_hcp':'03.061.07.07.','label':"N'zalat Bni Amar",'province_code':18,'cercle_code':40,'est_rural':0,'alt_label':'','dnom':"N'zalat Bni Amar",'label_ar':'  '},{'id':293,'code_hcp':'03.061.07.09.','label':'Oualili','province_code':18,'cercle_code':40,'est_rural':0,'alt_label':'','dnom':'Oualili','label_ar':''},{'id':294,'code_hcp':'03.061.07.11.','label':'Sidi Abdallah Al Khayat','province_code':18,'cercle_code':40,'est_rural':0,'alt_label':'Sidi Abdellah Al Khayat','dnom':'Sidi Abdallah Al Khayat','label_ar':'   '},{'id':295,'code_hcp':'03.131.01.01.','label':'Boulemane','province_code':23,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Boulemane (Mun.)','label_ar':' ()'},{'id':296,'code_hcp':'03.131.01.02.','label':'Imouzzer Marmoucha','province_code':23,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Imouzzer Marmoucha (Mun.)','label_ar':'  ()'},{'id':297,'code_hcp':'03.131.01.03.','label':'Missour','province_code':23,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Missour (Mun.)','label_ar':' ()'},{'id':298,'code_hcp':'03.131.01.05.','label':'Outat El Haj','province_code':23,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Outat El Haj (Mun.)','label_ar':'  ()'},{'id':299,'code_hcp':'03.131.03.01.','label':'Ait Bazza','province_code':23,'cercle_code':204,'est_rural':0,'alt_label':'','dnom':'Ait Bazza','label_ar':' '},{'id':300,'code_hcp':'03.131.03.03.','label':'Ait El Mane','province_code':23,'cercle_code':204,'est_rural':0,'alt_label':'','dnom':'Ait El Mane','label_ar':' '},{'id':301,'code_hcp':'03.131.03.05.','label':'Almis Marmoucha','province_code':23,'cercle_code':204,'est_rural':0,'alt_label':'','dnom':'Almis Marmoucha','label_ar':' '},{'id':302,'code_hcp':'03.131.03.07.','label':'El Mers','province_code':23,'cercle_code':204,'est_rural':0,'alt_label':'','dnom':'El Mers','label_ar':''},{'id':303,'code_hcp':'03.131.03.09.','label':'Enjil','province_code':23,'cercle_code':41,'est_rural':0,'alt_label':'','dnom':'Enjil','label_ar':''},{'id':304,'code_hcp':'03.131.03.11.','label':'Guigou','province_code':23,'cercle_code':41,'est_rural':0,'alt_label':'','dnom':'Guigou','label_ar':''},{'id':305,'code_hcp':'03.131.03.13.','label':'Serghina','province_code':23,'cercle_code':204,'est_rural':0,'alt_label':'','dnom':'Serghina','label_ar':''},{'id':306,'code_hcp':'03.131.03.15.','label':"Skoura M'Daz",'province_code':23,'cercle_code':41,'est_rural':0,'alt_label':'','dnom':"Skoura M'Daz",'label_ar':' '},{'id':307,'code_hcp':'03.131.03.17.','label':'Talzemt','province_code':23,'cercle_code':204,'est_rural':0,'alt_label':'','dnom':'Talzemt','label_ar':''},{'id':308,'code_hcp':'03.131.05.01.','label':'Ksabi Moulouya','province_code':23,'cercle_code':42,'est_rural':0,'alt_label':'','dnom':'Ksabi Moulouya','label_ar':'  '},{'id':309,'code_hcp':'03.131.05.03.','label':'Ouizeght','province_code':23,'cercle_code':42,'est_rural':0,'alt_label':'','dnom':'Ouizeght','label_ar':''},{'id':310,'code_hcp':'03.131.05.05.','label':'Sidi Boutayeb','province_code':23,'cercle_code':42,'est_rural':0,'alt_label':'','dnom':'Sidi Boutayeb','label_ar':' '},{'id':311,'code_hcp':'03.131.07.01.','label':'El Orjane','province_code':23,'cercle_code':43,'est_rural':0,'alt_label':'','dnom':'El Orjane','label_ar':''},{'id':312,'code_hcp':'03.131.07.03.','label':'Ermila','province_code':23,'cercle_code':43,'est_rural':0,'alt_label':'','dnom':'Ermila','label_ar':''},{'id':313,'code_hcp':'03.131.07.05.','label':'Fritissa','province_code':23,'cercle_code':43,'est_rural':0,'alt_label':'','dnom':'Fritissa','label_ar':''},{'id':314,'code_hcp':'03.131.07.07.','label':'Oulad Ali Youssef','province_code':23,'cercle_code':43,'est_rural':0,'alt_label':'','dnom':'Oulad Ali Youssef','label_ar':'  '},{'id':315,'code_hcp':'03.131.07.09.','label':'Tissaf','province_code':23,'cercle_code':43,'est_rural':0,'alt_label':'','dnom':'Tissaf','label_ar':''},{'id':316,'code_hcp':'03.171.01.01.','label':'Agourai','province_code':19,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Agourai (Mun.)','label_ar':' ()'},{'id':317,'code_hcp':'03.171.01.03.','label':'Ain Taoujdate','province_code':19,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Ain Taoujdate (Mun.)','label_ar':'  ()'},{'id':318,'code_hcp':'03.171.01.05.','label':'El Hajeb','province_code':19,'cercle_code':0,'est_rural':1,'alt_label':'El-Hajeb','dnom':'El Hajeb (Mun.)','label_ar':' ()'},{'id':319,'code_hcp':'03.171.01.07.','label':'Sabaa Aiyoun','province_code':19,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Sabaa Aiyoun (Mun.)','label_ar':'  ()'},{'id':320,'code_hcp':'03.171.03.01.','label':'Ait Ouikhalfen','province_code':19,'cercle_code':44,'est_rural':0,'alt_label':'','dnom':'Ait Ouikhalfen','label_ar':' '},{'id':321,'code_hcp':'03.171.03.03.','label':'Ait Yaazem','province_code':19,'cercle_code':44,'est_rural':0,'alt_label':'','dnom':'Ait Yaazem','label_ar':' '},{'id':322,'code_hcp':'03.171.03.05.','label':'Jahjouh','province_code':19,'cercle_code':44,'est_rural':0,'alt_label':'','dnom':'Jahjouh','label_ar':''},{'id':323,'code_hcp':'03.171.03.07.','label':'Ras Ijerri','province_code':19,'cercle_code':44,'est_rural':0,'alt_label':'','dnom':'Ras Ijerri','label_ar':' '},{'id':324,'code_hcp':'03.171.03.09.','label':'Tamchachate','province_code':19,'cercle_code':44,'est_rural':0,'alt_label':'','dnom':'Tamchachate','label_ar':''},{'id':325,'code_hcp':'03.171.05.01.','label':'Ait Boubidmane','province_code':19,'cercle_code':45,'est_rural':0,'alt_label':'','dnom':'Ait Boubidmane','label_ar':' '},{'id':326,'code_hcp':'03.171.05.03.','label':'Ait Harz Allah','province_code':19,'cercle_code':45,'est_rural':0,'alt_label':'','dnom':'Ait Harz Allah','label_ar':'  '},{'id':327,'code_hcp':'03.171.05.05.','label':'Bitit','province_code':19,'cercle_code':45,'est_rural':0,'alt_label':'','dnom':'Bitit','label_ar':''},{'id':328,'code_hcp':'03.171.05.07.','label':'Laqsir','province_code':19,'cercle_code':45,'est_rural':0,'alt_label':'','dnom':'Laqsir','label_ar':''},{'id':329,'code_hcp':'03.171.07.01.','label':'Ait Bourzouine','province_code':19,'cercle_code':46,'est_rural':0,'alt_label':'','dnom':'Ait Bourzouine','label_ar':' '},{'id':330,'code_hcp':'03.171.07.03.','label':'Ait Naamane','province_code':19,'cercle_code':46,'est_rural':0,'alt_label':'','dnom':'Ait Naamane','label_ar':' '},{'id':331,'code_hcp':'03.171.07.05.','label':'Iqaddar','province_code':19,'cercle_code':46,'est_rural':0,'alt_label':'','dnom':'Iqaddar','label_ar':''},{'id':332,'code_hcp':'03.231.01.01.','label':'Agdal (Arrond.)','province_code':17,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Agdal (Arrond.)','label_ar':' ()'},{'id':333,'code_hcp':'03.231.01.03.','label':'Mchouar Fs Jdid','province_code':17,'cercle_code':0,'est_rural':1,'alt_label':'Mechouar-Fes-El Jadid','dnom':'Mchouar Fs Jdid (Mun.)','label_ar':'   ()'},{'id':334,'code_hcp':'03.231.01.05.','label':'Saiss (Arrond.)','province_code':17,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Saiss (Arrond.)','label_ar':' ()'},{'id':335,'code_hcp':'03.231.01.07.','label':'Fs-Mdina (Arrond.)','province_code':17,'cercle_code':0,'est_rural':1,'alt_label':'Fs-Medina (arrond.)','dnom':'Fs-Mdina (Arrond.)','label_ar':'  ()'},{'id':336,'code_hcp':'03.231.01.09.','label':'Jnan El Ouard (Arrond.)','province_code':17,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Jnan El Ouard (Arrond.)','label_ar':'  ()'},{'id':337,'code_hcp':'03.231.01.11.','label':'El Mariniyine (Arrond.)','province_code':17,'cercle_code':0,'est_rural':1,'alt_label':'Al Marinyne (arrond.)','dnom':'El Mariniyine (Arrond.)','label_ar':' ()'},{'id':338,'code_hcp':'03.231.01.13.','label':'Zouagha (Arrond.)','province_code':17,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Zouagha (Arrond.)','label_ar':' ()'},{'id':339,'code_hcp':'03.231.81.01.','label':'Oulad Tayeb','province_code':17,'cercle_code':47,'est_rural':0,'alt_label':'','dnom':'Oulad Tayeb','label_ar':' '},{'id':340,'code_hcp':'03.231.81.03.','label':'Ain Bida','province_code':17,'cercle_code':47,'est_rural':0,'alt_label':'','dnom':'Ain Bida','label_ar':' '},{'id':341,'code_hcp':'03.231.81.05.','label':'Sidi Harazem','province_code':17,'cercle_code':47,'est_rural':0,'alt_label':'','dnom':'Sidi Harazem','label_ar':' '},{'id':342,'code_hcp':'03.271.01.01.','label':'Azrou','province_code':20,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Azrou (Mun.)','label_ar':' ()'},{'id':343,'code_hcp':'03.271.01.03.','label':'Ifrane','province_code':20,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Ifrane (Mun.)','label_ar':' ()'},{'id':344,'code_hcp':'03.271.03.01.','label':'Ain Leuh','province_code':20,'cercle_code':48,'est_rural':0,'alt_label':'Ain-Leuh','dnom':'Ain Leuh','label_ar':' '},{'id':345,'code_hcp':'03.271.03.03.','label':'Ben Smim','province_code':20,'cercle_code':48,'est_rural':0,'alt_label':'','dnom':'Ben Smim','label_ar':' '},{'id':346,'code_hcp':'03.271.03.05.','label':'Oued Ifrane','province_code':20,'cercle_code':48,'est_rural':0,'alt_label':'','dnom':'Oued Ifrane','label_ar':' '},{'id':347,'code_hcp':'03.271.03.07.','label':'Sidi El Makhfi','province_code':20,'cercle_code':48,'est_rural':0,'alt_label':'Sidi Elmakhfi','dnom':'Sidi El Makhfi','label_ar':' '},{'id':348,'code_hcp':'03.271.03.09.','label':'Tigrigra','province_code':20,'cercle_code':48,'est_rural':0,'alt_label':'','dnom':'Tigrigra','label_ar':''},{'id':349,'code_hcp':'03.271.03.11.','label':'Timahdite','province_code':20,'cercle_code':48,'est_rural':0,'alt_label':'','dnom':'Timahdite','label_ar':''},{'id':350,'code_hcp':'03.271.81.01.','label':'Dayat Aoua','province_code':20,'cercle_code':0,'est_rural':0,'alt_label':'Dayate-Aoua','dnom':'Dayat Aoua','label_ar':' '},{'id':351,'code_hcp':'03.271.81.03.','label':'Tizguite','province_code':20,'cercle_code':0,'est_rural':0,'alt_label':'','dnom':'Tizguite','label_ar':''},{'id':352,'code_hcp':'03.451.01.01.','label':'Bhalil','province_code':22,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Bhalil (Mun.)','label_ar':' ()'},{'id':353,'code_hcp':'03.451.01.03.','label':'El Menzel','province_code':22,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'El Menzel (Mun.)','label_ar':' ()'},{'id':354,'code_hcp':'03.451.01.05.','label':'Imouzzer Kandar','province_code':22,'cercle_code':0,'est_rural':1,'alt_label':'Imouzzer-Kandar','dnom':'Imouzzer Kandar (Mun.)','label_ar':'  ()'},{'id':355,'code_hcp':'03.451.01.07.','label':'Ribate El Kheir','province_code':22,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Ribate El Kheir (Mun.)','label_ar':'  ()'},{'id':356,'code_hcp':'03.451.01.09.','label':'Sefrou','province_code':22,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Sefrou (Mun.)','label_ar':' ()'},{'id':357,'code_hcp':'03.451.03.01.','label':'Adrej','province_code':22,'cercle_code':49,'est_rural':0,'alt_label':'','dnom':'Adrej','label_ar':''},{'id':358,'code_hcp':'03.451.03.03.','label':'Ain Timguenai','province_code':22,'cercle_code':49,'est_rural':0,'alt_label':'','dnom':'Ain Timguenai','label_ar':' '},{'id':359,'code_hcp':'03.451.03.05.','label':'Bir Tam Tam','province_code':22,'cercle_code':49,'est_rural':0,'alt_label':'Bir Tam-Tam','dnom':'Bir Tam Tam','label_ar':'  '},{'id':360,'code_hcp':'03.451.03.07.','label':'Dar El Hamra','province_code':22,'cercle_code':49,'est_rural':0,'alt_label':'','dnom':'Dar El Hamra','label_ar':' '},{'id':361,'code_hcp':'03.451.03.09.','label':'Ighzrane','province_code':22,'cercle_code':49,'est_rural':0,'alt_label':'Irhzrane','dnom':'Ighzrane','label_ar':''},{'id':362,'code_hcp':'03.451.03.11.','label':'Mtarnagha','province_code':22,'cercle_code':49,'est_rural':0,'alt_label':'','dnom':'Mtarnagha','label_ar':''},{'id':363,'code_hcp':'03.451.03.13.','label':'Oulad Mkoudou','province_code':22,'cercle_code':49,'est_rural':0,'alt_label':'','dnom':'Oulad Mkoudou','label_ar':' '},{'id':364,'code_hcp':'03.451.03.15.','label':'Ras Tabouda','province_code':22,'cercle_code':49,'est_rural':0,'alt_label':'','dnom':'Ras Tabouda','label_ar':' '},{'id':365,'code_hcp':'03.451.03.17.','label':'Tafajight','province_code':22,'cercle_code':49,'est_rural':0,'alt_label':'','dnom':'Tafajight','label_ar':''},{'id':366,'code_hcp':'03.451.05.01.','label':'Ain Cheggag','province_code':22,'cercle_code':50,'est_rural':0,'alt_label':'','dnom':'Ain Cheggag','label_ar':' '},{'id':367,'code_hcp':'03.451.05.03.','label':'Ait Sebaa Lajrouf','province_code':22,'cercle_code':50,'est_rural':0,'alt_label':'','dnom':'Ait Sebaa Lajrouf','label_ar':'  '},{'id':368,'code_hcp':'03.451.07.01.','label':'Aghbalou Aqorar','province_code':22,'cercle_code':51,'est_rural':0,'alt_label':'','dnom':'Aghbalou Aqorar','label_ar':' '},{'id':369,'code_hcp':'03.451.07.03.','label':'Ahl Sidi Lahcen','province_code':22,'cercle_code':51,'est_rural':0,'alt_label':'','dnom':'Ahl Sidi Lahcen','label_ar':'  '},{'id':370,'code_hcp':'03.451.07.05.','label':'Azzaba','province_code':22,'cercle_code':51,'est_rural':0,'alt_label':'','dnom':'Azzaba','label_ar':''},{'id':371,'code_hcp':'03.451.07.07.','label':'Kandar Sidi Khiar','province_code':22,'cercle_code':51,'est_rural':0,'alt_label':'','dnom':'Kandar Sidi Khiar','label_ar':'  '},{'id':372,'code_hcp':'03.451.07.09.','label':'Laanoussar','province_code':22,'cercle_code':51,'est_rural':0,'alt_label':'','dnom':'Laanoussar','label_ar':''},{'id':373,'code_hcp':'03.451.07.11.','label':'Sidi Youssef Ben Ahmed','province_code':22,'cercle_code':51,'est_rural':0,'alt_label':'','dnom':'Sidi YoussefBen Ahmed','label_ar':'   '},{'id':374,'code_hcp':'03.451.07.13.','label':'Tazouta','province_code':22,'cercle_code':51,'est_rural':0,'alt_label':'','dnom':'Tazouta','label_ar':''},{'id':375,'code_hcp':'03.531.01.01.','label':'Ghafsai','province_code':24,'cercle_code':0,'est_rural':1,'alt_label':'Rhafsai','dnom':'Ghafsai (Mun.)','label_ar':' ()'},{'id':376,'code_hcp':'03.531.01.03.','label':'Karia Ba Mohamed','province_code':24,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Karia Ba Mohamed (Mun.)','label_ar':'   ()'},{'id':377,'code_hcp':'03.531.01.05.','label':'Taounate','province_code':24,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Taounate (Mun.)','label_ar':' ()'},{'id':378,'code_hcp':'03.531.01.07.','label':'Thar Es-souk','province_code':24,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Thar Es-souk (Mun.)','label_ar':'  ()'},{'id':379,'code_hcp':'03.531.01.09.','label':'Tissa','province_code':24,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Tissa (Mun.)','label_ar':' ()'},{'id':380,'code_hcp':'03.531.03.01.','label':'El Bibane','province_code':24,'cercle_code':52,'est_rural':0,'alt_label':'','dnom':'El Bibane','label_ar':''},{'id':381,'code_hcp':'03.531.03.03.','label':'Galaz','province_code':24,'cercle_code':52,'est_rural':0,'alt_label':'','dnom':'Galaz','label_ar':''},{'id':382,'code_hcp':'03.531.03.05.','label':'Kissane','province_code':24,'cercle_code':52,'est_rural':0,'alt_label':'','dnom':'Kissane','label_ar':''},{'id':383,'code_hcp':'03.531.03.07.','label':'Oudka','province_code':24,'cercle_code':52,'est_rural':0,'alt_label':'','dnom':'Oudka','label_ar':''},{'id':384,'code_hcp':'03.531.03.09.','label':'Ouartzagh','province_code':24,'cercle_code':52,'est_rural':0,'alt_label':'Ourtzarh','dnom':'Ouartzagh','label_ar':''},{'id':385,'code_hcp':'03.531.03.11.','label':'Ratba','province_code':24,'cercle_code':52,'est_rural':0,'alt_label':'','dnom':'Ratba','label_ar':''},{'id':386,'code_hcp':'03.531.03.13.','label':"Sidi Haj M'hamed",'province_code':24,'cercle_code':52,'est_rural':0,'alt_label':'','dnom':"Sidi Haj M'hamed",'label_ar':'  '},{'id':387,'code_hcp':'03.531.03.15.','label':'Sidi Mokhfi','province_code':24,'cercle_code':52,'est_rural':0,'alt_label':'','dnom':'Sidi Mokhfi','label_ar':' '},{'id':388,'code_hcp':'03.531.03.17.','label':'Sidi Yahya Bni Zeroual','province_code':24,'cercle_code':52,'est_rural':0,'alt_label':'Sidi Yahia Bni Zeroual','dnom':'Sidi YahyaBni Zeroual','label_ar':'   '},{'id':389,'code_hcp':'03.531.03.19.','label':'Tabouda','province_code':24,'cercle_code':52,'est_rural':0,'alt_label':'','dnom':'Tabouda','label_ar':''},{'id':390,'code_hcp':'03.531.03.21.','label':'Tafrant','province_code':24,'cercle_code':52,'est_rural':0,'alt_label':'','dnom':'Tafrant','label_ar':''},{'id':391,'code_hcp':'03.531.03.23.','label':'Timezgana','province_code':24,'cercle_code':52,'est_rural':0,'alt_label':'','dnom':'Timezgana','label_ar':''},{'id':392,'code_hcp':'03.531.05.01.','label':'Bni Snous','province_code':24,'cercle_code':53,'est_rural':0,'alt_label':'','dnom':'Bni Snous','label_ar':' '},{'id':393,'code_hcp':'03.531.05.03.','label':'Bouchabel','province_code':24,'cercle_code':53,'est_rural':0,'alt_label':'','dnom':'Bouchabel','label_ar':''},{'id':394,'code_hcp':'03.531.05.05.','label':'Rhouazi','province_code':24,'cercle_code':53,'est_rural':0,'alt_label':'','dnom':'Rhouazi','label_ar':''},{'id':395,'code_hcp':'03.531.05.07.','label':'Jbabra','province_code':24,'cercle_code':53,'est_rural':0,'alt_label':'','dnom':'Jbabra','label_ar':''},{'id':396,'code_hcp':'03.531.05.09.','label':'Loulja','province_code':24,'cercle_code':53,'est_rural':0,'alt_label':'El Ouelja','dnom':'Loulja','label_ar':''},{'id':397,'code_hcp':'03.531.05.11.','label':'Mkansa','province_code':24,'cercle_code':53,'est_rural':0,'alt_label':'','dnom':'Mkansa','label_ar':''},{'id':398,'code_hcp':'03.531.05.13.','label':'Moulay Abdelkrim','province_code':24,'cercle_code':53,'est_rural':0,'alt_label':'','dnom':'Moulay Abdelkrim','label_ar':'  '},{'id':399,'code_hcp':'03.531.05.15.','label':'Moulay Bouchta','province_code':24,'cercle_code':53,'est_rural':0,'alt_label':'','dnom':'Moulay Bouchta','label_ar':' '},{'id':400,'code_hcp':'03.531.05.17.','label':'Sidi El Abed','province_code':24,'cercle_code':53,'est_rural':0,'alt_label':'','dnom':'Sidi El Abed','label_ar':' '},{'id':401,'code_hcp':'03.531.07.01.','label':'Ain Mediouna','province_code':24,'cercle_code':54,'est_rural':0,'alt_label':'','dnom':'Ain Mediouna','label_ar':' '},{'id':402,'code_hcp':'03.531.07.03.','label':'Bni Oulid','province_code':24,'cercle_code':54,'est_rural':0,'alt_label':'','dnom':'Bni Oulid','label_ar':' '},{'id':403,'code_hcp':'03.531.07.05.','label':'Bni Ounjel Tafraout','province_code':24,'cercle_code':54,'est_rural':0,'alt_label':'','dnom':'Bni Ounjel Tafraout','label_ar':'  '},{'id':404,'code_hcp':'03.531.07.07.','label':'Bouadel','province_code':24,'cercle_code':54,'est_rural':0,'alt_label':'','dnom':'Bouadel','label_ar':''},{'id':405,'code_hcp':'03.531.07.09.','label':'Bouhouda','province_code':24,'cercle_code':54,'est_rural':0,'alt_label':'','dnom':'Bouhouda','label_ar':''},{'id':406,'code_hcp':'03.531.07.11.','label':'Fennassa Bab El Hit','province_code':24,'cercle_code':54,'est_rural':0,'alt_label':'','dnom':'Fennassa Bab El Hit','label_ar':'  '},{'id':407,'code_hcp':'03.531.07.13.','label':'Khlalfa','province_code':24,'cercle_code':54,'est_rural':0,'alt_label':'','dnom':'Khlalfa','label_ar':''},{'id':408,'code_hcp':'03.531.07.15.','label':'Mezraoua','province_code':24,'cercle_code':54,'est_rural':0,'alt_label':'','dnom':'Mezraoua','label_ar':''},{'id':409,'code_hcp':'03.531.07.17.','label':'Rghioua','province_code':24,'cercle_code':54,'est_rural':0,'alt_label':'','dnom':'Rghioua','label_ar':''},{'id':410,'code_hcp':'03.531.07.19.','label':'Tamedit','province_code':24,'cercle_code':54,'est_rural':0,'alt_label':'','dnom':'Tamedit','label_ar':''},{'id':411,'code_hcp':'03.531.07.21.','label':'Zrizer','province_code':24,'cercle_code':54,'est_rural':0,'alt_label':'','dnom':'Zrizer','label_ar':''},{'id':412,'code_hcp':'03.531.09.01.','label':'Ain Aicha','province_code':24,'cercle_code':55,'est_rural':0,'alt_label':'','dnom':'Ain Aicha','label_ar':' '},{'id':413,'code_hcp':'03.531.09.03.','label':'Ain Legdah','province_code':24,'cercle_code':55,'est_rural':0,'alt_label':'','dnom':'Ain Legdah','label_ar':' '},{'id':414,'code_hcp':'03.531.09.05.','label':'Ain Maatouf','province_code':24,'cercle_code':55,'est_rural':0,'alt_label':'','dnom':'Ain Maatouf','label_ar':' '},{'id':415,'code_hcp':'03.531.09.07.','label':'Bouarouss','province_code':24,'cercle_code':55,'est_rural':0,'alt_label':'','dnom':'Bouarouss','label_ar':''},{'id':416,'code_hcp':'03.531.09.09.','label':'El Bsabsa','province_code':24,'cercle_code':55,'est_rural':0,'alt_label':'','dnom':'El Bsabsa','label_ar':''},{'id':417,'code_hcp':'03.531.09.11.','label':'Messassa','province_code':24,'cercle_code':55,'est_rural':0,'alt_label':'','dnom':'Messassa','label_ar':''},{'id':418,'code_hcp':'03.531.09.13.','label':'Oued Jemaa','province_code':24,'cercle_code':55,'est_rural':0,'alt_label':'','dnom':'Oued Jemaa','label_ar':' '},{'id':419,'code_hcp':'03.531.09.15.','label':'Oulad Ayyad','province_code':24,'cercle_code':55,'est_rural':0,'alt_label':'','dnom':'Oulad Ayyad','label_ar':' '},{'id':420,'code_hcp':'03.531.09.17.','label':'Oulad Daoud','province_code':24,'cercle_code':55,'est_rural':0,'alt_label':'','dnom':'Oulad Daoud','label_ar':' '},{'id':421,'code_hcp':'03.531.09.19.','label':'Outabouabane','province_code':24,'cercle_code':55,'est_rural':0,'alt_label':'','dnom':'Outabouabane','label_ar':' '},{'id':422,'code_hcp':'03.531.09.21.','label':'Ras El Oued','province_code':24,'cercle_code':55,'est_rural':0,'alt_label':'','dnom':'Ras El Oued','label_ar':' '},{'id':423,'code_hcp':'03.531.09.23.','label':"Sidi M'Hamed Ben Lahcen",'province_code':24,'cercle_code':55,'est_rural':0,'alt_label':'','dnom':"Sidi M'HamedBen Lahcen",'label_ar':'   '},{'id':424,'code_hcp':'03.561.01.01.','label':'Aknoul','province_code':25,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Aknoul (Mun.)','label_ar':' ()'},{'id':425,'code_hcp':'03.561.01.05.','label':'Oued Amlil','province_code':25,'cercle_code':0,'est_rural':1,'alt_label':'Ouad Amlil','dnom':'Oued Amlil (Mun.)','label_ar':'  ()'},{'id':426,'code_hcp':'03.561.01.07.','label':'Tahla','province_code':25,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Tahla (Mun.)','label_ar':' ()'},{'id':427,'code_hcp':'03.561.01.11.','label':'Taza','province_code':25,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Taza (Mun.)','label_ar':' ()'},{'id':428,'code_hcp':'03.561.03.01.','label':'Ajdir','province_code':25,'cercle_code':56,'est_rural':0,'alt_label':'','dnom':'Ajdir','label_ar':''},{'id':429,'code_hcp':'03.561.03.03.','label':'Bourd','province_code':25,'cercle_code':56,'est_rural':0,'alt_label':'','dnom':'Bourd','label_ar':''},{'id':430,'code_hcp':'03.561.03.05.','label':'Gzenaya Al Janoubia','province_code':25,'cercle_code':56,'est_rural':0,'alt_label':'','dnom':'Gzenaya Al Janoubia','label_ar':' '},{'id':431,'code_hcp':'03.561.03.07.','label':'Jbarna','province_code':25,'cercle_code':56,'est_rural':0,'alt_label':'','dnom':'Jbarna','label_ar':''},{'id':432,'code_hcp':'03.561.03.09.','label':'Sidi Ali Bourakba','province_code':25,'cercle_code':56,'est_rural':0,'alt_label':'','dnom':'Sidi Ali Bourakba','label_ar':'  '},{'id':433,'code_hcp':'03.561.03.11.','label':'Tizi Ouasli','province_code':25,'cercle_code':56,'est_rural':0,'alt_label':'','dnom':'Tizi Ouasli','label_ar':' '},{'id':434,'code_hcp':'03.561.07.01.','label':'Bni Frassen','province_code':25,'cercle_code':57,'est_rural':0,'alt_label':'','dnom':'Bni Frassen','label_ar':' '},{'id':435,'code_hcp':'03.561.07.03.','label':'Bouchfaa','province_code':25,'cercle_code':57,'est_rural':0,'alt_label':'','dnom':'Bouchfaa','label_ar':''},{'id':436,'code_hcp':'03.561.07.05.','label':'Bouhlou','province_code':25,'cercle_code':57,'est_rural':0,'alt_label':'','dnom':'Bouhlou','label_ar':''},{'id':437,'code_hcp':'03.561.07.07.','label':'Ghiata Al Gharbia','province_code':25,'cercle_code':57,'est_rural':0,'alt_label':'','dnom':'Ghiata Al Gharbia','label_ar':' '},{'id':438,'code_hcp':'03.561.07.09.','label':'Oulad Zbair','province_code':25,'cercle_code':57,'est_rural':0,'alt_label':'','dnom':'Oulad Zbair','label_ar':' '},{'id':439,'code_hcp':'03.561.07.11.','label':'Rbaa El Fouki','province_code':25,'cercle_code':57,'est_rural':0,'alt_label':'','dnom':'Rbaa El Fouki','label_ar':' '},{'id':440,'code_hcp':'03.561.09.01.','label':'Ait Saghrouchen','province_code':25,'cercle_code':58,'est_rural':0,'alt_label':'','dnom':'Ait Saghrouchen','label_ar':' '},{'id':441,'code_hcp':'03.561.09.03.','label':'Bouyablane','province_code':25,'cercle_code':58,'est_rural':0,'alt_label':'','dnom':'Bouyablane','label_ar':''},{'id':442,'code_hcp':'03.561.09.07.','label':'Matmata','province_code':25,'cercle_code':58,'est_rural':0,'alt_label':'','dnom':'Matmata','label_ar':''},{'id':443,'code_hcp':'03.561.09.09.','label':'Smi','province_code':25,'cercle_code':58,'est_rural':0,'alt_label':'Smia','dnom':'Smi','label_ar':''},{'id':444,'code_hcp':'03.561.09.11.','label':'Tazarine','province_code':25,'cercle_code':58,'est_rural':0,'alt_label':'','dnom':'Tazarine','label_ar':''},{'id':445,'code_hcp':'03.561.09.13.','label':'Zrarda','province_code':25,'cercle_code':58,'est_rural':0,'alt_label':'','dnom':'Zrarda','label_ar':''},{'id':446,'code_hcp':'03.561.11.01.','label':'Bni Ftah','province_code':25,'cercle_code':59,'est_rural':0,'alt_label':'','dnom':'Bni Ftah','label_ar':' '},{'id':447,'code_hcp':'03.561.11.03.','label':'Brarha','province_code':25,'cercle_code':59,'est_rural':0,'alt_label':'','dnom':'Brarha','label_ar':''},{'id':448,'code_hcp':'03.561.11.05.','label':'El Gouzate','province_code':25,'cercle_code':59,'est_rural':0,'alt_label':'','dnom':'El Gouzate','label_ar':''},{'id':449,'code_hcp':'03.561.11.07.','label':'Kaf El Ghar','province_code':25,'cercle_code':59,'est_rural':0,'alt_label':'','dnom':'Kaf El Ghar','label_ar':' '},{'id':450,'code_hcp':'03.561.11.09.','label':'Msila','province_code':25,'cercle_code':59,'est_rural':0,'alt_label':'','dnom':'Msila','label_ar':''},{'id':451,'code_hcp':'03.561.11.11.','label':'Taifa','province_code':25,'cercle_code':59,'est_rural':0,'alt_label':'','dnom':'Taifa','label_ar':''},{'id':452,'code_hcp':'03.561.11.13.','label':'Tainaste','province_code':25,'cercle_code':59,'est_rural':0,'alt_label':'','dnom':'Tainaste','label_ar':''},{'id':453,'code_hcp':'03.561.11.15.','label':'Traiba','province_code':25,'cercle_code':59,'est_rural':0,'alt_label':'','dnom':'Traiba','label_ar':''},{'id':454,'code_hcp':'03.561.13.01.','label':'Bab Boudir','province_code':25,'cercle_code':60,'est_rural':0,'alt_label':'','dnom':'Bab Boudir','label_ar':' '},{'id':455,'code_hcp':'03.561.13.03.','label':'Bab Marzouka','province_code':25,'cercle_code':60,'est_rural':0,'alt_label':'','dnom':'Bab Marzouka','label_ar':' '},{'id':456,'code_hcp':'03.561.13.05.','label':'Bni Lent','province_code':25,'cercle_code':60,'est_rural':0,'alt_label':'','dnom':'Bni Lent','label_ar':' '},{'id':457,'code_hcp':'03.561.13.07.','label':'Galdamane','province_code':25,'cercle_code':60,'est_rural':0,'alt_label':'','dnom':'Galdamane','label_ar':''},{'id':458,'code_hcp':'03.561.13.09.','label':'Meknassa Acharqia','province_code':25,'cercle_code':60,'est_rural':0,'alt_label':'','dnom':'Meknassa Acharqia','label_ar':' '},{'id':459,'code_hcp':'03.561.13.11.','label':'Meknassa Al Gharbia','province_code':25,'cercle_code':60,'est_rural':0,'alt_label':'','dnom':'Meknassa Al Gharbia','label_ar':' '},{'id':460,'code_hcp':'03.561.13.13.','label':'Oulad Chrif','province_code':25,'cercle_code':60,'est_rural':0,'alt_label':'','dnom':'Oulad Chrif','label_ar':' '},{'id':461,'code_hcp':'03.561.13.15.','label':'Maghraoua','province_code':25,'cercle_code':60,'est_rural':0,'alt_label':'','dnom':'Maghraoua','label_ar':''},{'id':462,'code_hcp':'03.591.01.01.','label':'Moulay Yacoub','province_code':21,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Moulay Yacoub (Mun.)','label_ar':'  ()'},{'id':463,'code_hcp':'03.591.03.01.','label':'Ain Chkef','province_code':21,'cercle_code':0,'est_rural':0,'alt_label':'','dnom':'Ain Chkef','label_ar':' '},{'id':464,'code_hcp':'03.591.03.03.','label':'Mikkes','province_code':21,'cercle_code':61,'est_rural':0,'alt_label':'','dnom':'Mikkes','label_ar':''},{'id':465,'code_hcp':'03.591.03.05.','label':'Sebaa Rouadi','province_code':21,'cercle_code':61,'est_rural':0,'alt_label':'','dnom':'Sebaa Rouadi','label_ar':' '},{'id':466,'code_hcp':'03.591.03.07.','label':'Sebt Loudaya','province_code':21,'cercle_code':61,'est_rural':0,'alt_label':'','dnom':'Sebt Loudaya','label_ar':' '},{'id':467,'code_hcp':'03.591.05.01.','label':'Ain Bou Ali','province_code':21,'cercle_code':62,'est_rural':0,'alt_label':'','dnom':'Ain Bou Ali','label_ar':' '},{'id':468,'code_hcp':'03.591.05.02.','label':'Ain Kansra','province_code':21,'cercle_code':62,'est_rural':0,'alt_label':'Ain Kansara','dnom':'Ain Kansra','label_ar':' '},{'id':469,'code_hcp':'03.591.05.03.','label':'Laajajra','province_code':21,'cercle_code':62,'est_rural':0,'alt_label':'','dnom':'Laajajra','label_ar':''},{'id':470,'code_hcp':'03.591.05.05.','label':'Louadaine','province_code':21,'cercle_code':62,'est_rural':0,'alt_label':'','dnom':'Louadaine','label_ar':''},{'id':471,'code_hcp':'03.591.05.07.','label':'Oulad Mimoun','province_code':21,'cercle_code':62,'est_rural':0,'alt_label':'','dnom':'Oulad Mimoun','label_ar':' '},{'id':472,'code_hcp':'03.591.05.09.','label':'Sidi Daoud','province_code':21,'cercle_code':62,'est_rural':0,'alt_label':'','dnom':'Sidi Daoud','label_ar':' '},{'id':473,'code_hcp':'04.281.01.01.','label':'Knitra','province_code':29,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Knitra (Mun.)','label_ar':' ()'},{'id':474,'code_hcp':'04.281.01.05.','label':'Mehdya','province_code':29,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Mehdya (Mun.)','label_ar':' ()'},{'id':475,'code_hcp':'04.281.01.11.','label':'Souk El Arbaa','province_code':29,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Souk El Arbaa (Mun.)','label_ar':'  ()'},{'id':476,'code_hcp':'04.281.03.01.','label':'Ameur Seflia','province_code':29,'cercle_code':63,'est_rural':0,'alt_label':'','dnom':'Ameur Seflia','label_ar':' '},{'id':477,'code_hcp':'04.281.03.05.','label':'Haddada','province_code':29,'cercle_code':63,'est_rural':0,'alt_label':'Lehdada','dnom':'Haddada','label_ar':''},{'id':478,'code_hcp':'04.281.03.11.','label':'Ouled Slama','province_code':29,'cercle_code':63,'est_rural':0,'alt_label':'','dnom':'Ouled Slama','label_ar':' '},{'id':479,'code_hcp':'04.281.03.13.','label':'Sidi Taibi','province_code':29,'cercle_code':0,'est_rural':0,'alt_label':'','dnom':'Sidi Taibi','label_ar':' '},{'id':480,'code_hcp':'04.281.05.03.','label':'Ben Mansour','province_code':29,'cercle_code':64,'est_rural':0,'alt_label':'','dnom':'Ben Mansour','label_ar':''},{'id':481,'code_hcp':'04.281.05.07.','label':'Mnasra','province_code':29,'cercle_code':64,'est_rural':0,'alt_label':'','dnom':'Mnasra','label_ar':''},{'id':482,'code_hcp':'04.281.05.09.','label':'Mograne','province_code':29,'cercle_code':64,'est_rural':0,'alt_label':'Almkren','dnom':'Mograne','label_ar':''},{'id':483,'code_hcp':'04.281.05.11.','label':'Sidi Mohamed Ben Mansour','province_code':29,'cercle_code':64,'est_rural':0,'alt_label':'Sidi Mohamed Benmansour','dnom':'Sidi Mohamed Ben Mansour','label_ar':'  '},{'id':484,'code_hcp':'04.281.07.01.','label':'Arbaoua','province_code':29,'cercle_code':65,'est_rural':0,'alt_label':'','dnom':'Arbaoua','label_ar':''},{'id':485,'code_hcp':'04.281.07.03.','label':'Beni Malek','province_code':29,'cercle_code':65,'est_rural':0,'alt_label':'','dnom':'Beni Malek','label_ar':' '},{'id':486,'code_hcp':'04.281.07.05.','label':'Kariat Ben Aouda','province_code':29,'cercle_code':65,'est_rural':0,'alt_label':'','dnom':'Kariat Ben Aouda','label_ar':'  '},{'id':487,'code_hcp':'04.281.07.07.','label':'Oued El Makhazine','province_code':29,'cercle_code':65,'est_rural':0,'alt_label':'','dnom':'Oued El Makhazine','label_ar':' '},{'id':488,'code_hcp':'04.281.09.01.','label':'Bahhara Ouled Ayad','province_code':29,'cercle_code':66,'est_rural':0,'alt_label':'','dnom':'Bahhara Ouled Ayad','label_ar':'  '},{'id':489,'code_hcp':'04.281.09.09.','label':'Sidi Allal Tazi','province_code':29,'cercle_code':66,'est_rural':0,'alt_label':'','dnom':'Sidi Allal Tazi','label_ar':'  '},{'id':490,'code_hcp':'04.281.09.13.','label':'Sidi Mohamed Lahmar','province_code':29,'cercle_code':66,'est_rural':0,'alt_label':'','dnom':'Sidi Mohamed Lahmar','label_ar':'  '},{'id':491,'code_hcp':'04.281.09.15.','label':'Souk Tlet El Gharb','province_code':29,'cercle_code':66,'est_rural':0,'alt_label':'','dnom':'Souk Tlet El Gharb','label_ar':'  '},{'id':492,'code_hcp':'04.281.11.03.','label':'Chouafaa','province_code':29,'cercle_code':67,'est_rural':0,'alt_label':'','dnom':'Chouafaa','label_ar':''},{'id':493,'code_hcp':'04.281.11.05.','label':'Lalla Mimouna','province_code':29,'cercle_code':67,'est_rural':0,'alt_label':'','dnom':'Lalla Mimouna','label_ar':' '},{'id':494,'code_hcp':'04.281.11.07.','label':'Moulay Bousselham','province_code':29,'cercle_code':67,'est_rural':0,'alt_label':'','dnom':'Moulay Bousselham','label_ar':' '},{'id':495,'code_hcp':'04.281.11.11.','label':'Sidi Boubker El Haj','province_code':29,'cercle_code':67,'est_rural':0,'alt_label':'','dnom':'Sidi Boubker El Haj','label_ar':'  '},{'id':496,'code_hcp':'04.291.01.01.','label':'Khmisset','province_code':30,'cercle_code':0,'est_rural':1,'alt_label':'Khemisset','dnom':'Khmisset (Mun.)','label_ar':' ()'},{'id':497,'code_hcp':'04.291.01.03.','label':'Rommani','province_code':30,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Rommani (Mun.)','label_ar':' ()'},{'id':498,'code_hcp':'04.291.01.05.','label':'Tiflet','province_code':30,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Tiflet (Mun.)','label_ar':' ()'},{'id':499,'code_hcp':'04.291.01.17.','label':'Sidi Allal El Bahraoui','province_code':30,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Sidi Allal El Bahraoui (Mun.)','label_ar':'   ()'},{'id':500,'code_hcp':'04.291.03.01.','label':'Ait Mimoune','province_code':30,'cercle_code':68,'est_rural':0,'alt_label':'','dnom':'Ait Mimoune','label_ar':' '},{'id':501,'code_hcp':'04.291.03.03.','label':'Ait Ouribel','province_code':30,'cercle_code':68,'est_rural':0,'alt_label':'','dnom':'Ait Ouribel','label_ar':' '},{'id':502,'code_hcp':'04.291.03.05.','label':'Ait Siberne','province_code':30,'cercle_code':68,'est_rural':0,'alt_label':'','dnom':'Ait Siberne','label_ar':' '},{'id':503,'code_hcp':'04.291.03.07.','label':'Ait Yadine','province_code':30,'cercle_code':68,'est_rural':0,'alt_label':'','dnom':'Ait Yadine','label_ar':' '},{'id':504,'code_hcp':'04.291.03.09.','label':'El Ganzra','province_code':30,'cercle_code':68,'est_rural':0,'alt_label':'','dnom':'El Ganzra','label_ar':''},{'id':505,'code_hcp':'04.291.03.11.','label':'Majmaa Tolba','province_code':30,'cercle_code':68,'est_rural':0,'alt_label':'','dnom':'Majmaa Tolba','label_ar':' '},{'id':506,'code_hcp':'04.291.03.13.','label':'Sfassif','province_code':30,'cercle_code':68,'est_rural':0,'alt_label':'','dnom':'Sfassif','label_ar':''},{'id':507,'code_hcp':'04.291.03.15.','label':'Sidi Allal Lamsadder','province_code':30,'cercle_code':68,'est_rural':0,'alt_label':'','dnom':'Sidi Allal Lamsadder','label_ar':'  '},{'id':508,'code_hcp':'04.291.03.17.','label':'Sidi El Ghandour','province_code':30,'cercle_code':68,'est_rural':0,'alt_label':'Sidi El Rhandour','dnom':'Sidi El Ghandour','label_ar':' '},{'id':509,'code_hcp':'04.291.05.01.','label':'Ait Ichou','province_code':30,'cercle_code':69,'est_rural':0,'alt_label':'','dnom':'Ait Ichou','label_ar':'  '},{'id':510,'code_hcp':'04.291.05.03.','label':'Ait Ikkou','province_code':30,'cercle_code':69,'est_rural':0,'alt_label':'','dnom':'Ait Ikkou','label_ar':'  '},{'id':511,'code_hcp':'04.291.05.05.','label':'Bouqachmir','province_code':30,'cercle_code':69,'est_rural':0,'alt_label':'','dnom':'Bouqachmir','label_ar':''},{'id':512,'code_hcp':'04.291.05.07.','label':'Houderrane','province_code':30,'cercle_code':69,'est_rural':0,'alt_label':'','dnom':'Houderrane','label_ar':''},{'id':513,'code_hcp':'04.291.05.09.','label':'Maaziz','province_code':30,'cercle_code':69,'est_rural':0,'alt_label':'','dnom':'Maaziz','label_ar':''},{'id':514,'code_hcp':'04.291.05.11.','label':'Oulmes','province_code':30,'cercle_code':69,'est_rural':0,'alt_label':'','dnom':'Oulmes','label_ar':''},{'id':515,'code_hcp':'04.291.05.13.','label':'Tiddas','province_code':30,'cercle_code':69,'est_rural':0,'alt_label':'','dnom':'Tiddas','label_ar':''},{'id':516,'code_hcp':'04.291.07.01.','label':'Ain Sbit','province_code':30,'cercle_code':70,'est_rural':0,'alt_label':'','dnom':'Ain Sbit','label_ar':' '},{'id':517,'code_hcp':'04.291.07.05.','label':'Brachoua','province_code':30,'cercle_code':70,'est_rural':0,'alt_label':'','dnom':'Brachoua','label_ar':''},{'id':518,'code_hcp':'04.291.07.07.','label':'Ezzhiliga','province_code':30,'cercle_code':70,'est_rural':0,'alt_label':'','dnom':'Ezzhiliga','label_ar':''},{'id':519,'code_hcp':'04.291.07.09.','label':'Jemaat Moul Blad','province_code':30,'cercle_code':70,'est_rural':0,'alt_label':'','dnom':'Jemaat Moul Blad','label_ar':'  '},{'id':520,'code_hcp':'04.291.07.11.','label':'Laghoualem','province_code':30,'cercle_code':70,'est_rural':0,'alt_label':'','dnom':'Laghoualem','label_ar':''},{'id':521,'code_hcp':'04.291.07.13.','label':'Marchouch','province_code':30,'cercle_code':70,'est_rural':0,'alt_label':'','dnom':'Marchouch','label_ar':''},{'id':522,'code_hcp':'04.291.07.15.','label':'Moulay Driss Aghbal','province_code':30,'cercle_code':70,'est_rural':0,'alt_label':'My Driss Aghbal','dnom':'Moulay Driss Aghbal','label_ar':'  '},{'id':523,'code_hcp':'04.291.09.02.','label':'Ain Johra-Sidi Boukhalkhal','province_code':30,'cercle_code':71,'est_rural':0,'alt_label':'','dnom':'Ain Johra -Sidi Boukhalkhal','label_ar':' - '},{'id':524,'code_hcp':'04.291.09.03.','label':'Ait Belkacem','province_code':30,'cercle_code':71,'est_rural':0,'alt_label':'','dnom':'Ait Belkacem','label_ar':' '},{'id':525,'code_hcp':'04.291.09.05.','label':'Ait Buyahya El Hajjama','province_code':30,'cercle_code':71,'est_rural':0,'alt_label':'Ait Bouyahia El Hajjama','dnom':'Ait Buyahya El Hajjama','label_ar':'  '},{'id':526,'code_hcp':'04.291.09.07.','label':'Ait Malek','province_code':30,'cercle_code':71,'est_rural':0,'alt_label':'','dnom':'Ait Malek','label_ar':' '},{'id':527,'code_hcp':'04.291.09.09.','label':'Khemis Sidi Yahya','province_code':30,'cercle_code':71,'est_rural':0,'alt_label':'','dnom':'Khemis Sidi Yahya','label_ar':'  '},{'id':528,'code_hcp':'04.291.09.11.','label':"M'qam Tolba",'province_code':30,'cercle_code':71,'est_rural':0,'alt_label':'','dnom':"M'qam Tolba",'label_ar':' '},{'id':529,'code_hcp':'04.291.09.13.','label':'Sidi Abderrazak','province_code':30,'cercle_code':71,'est_rural':0,'alt_label':'','dnom':'Sidi Abderrazak','label_ar':'  '},{'id':530,'code_hcp':'04.291.09.19.','label':'Ait Ali ou Lahcen','province_code':30,'cercle_code':71,'est_rural':0,'alt_label':'','dnom':'Ait Ali ou Lahcen','label_ar':'   '},{'id':531,'code_hcp':'04.421.01.01.','label':'Agdal Riyad (Arrond.)','province_code':26,'cercle_code':0,'est_rural':1,'alt_label':'Agdal-Riyad (arrond.)','dnom':'Agdal Riyad (Arrond.)','label_ar':'  ()'},{'id':532,'code_hcp':'04.421.01.03.','label':'El Youssoufia (Arrond.)','province_code':26,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'El Youssoufia (Arrond.)','label_ar':' ()'},{'id':533,'code_hcp':'04.421.01.05.','label':'Hassan (Arrond.)','province_code':26,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Hassan (Arrond.)','label_ar':' ()'},{'id':534,'code_hcp':'04.421.01.06.','label':'Souissi (Arrond.)','province_code':26,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Souissi (Arrond.)','label_ar':' ()'},{'id':535,'code_hcp':'04.421.01.07.','label':'Touarga','province_code':26,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Touarga (Mun.)','label_ar':' ()'},{'id':536,'code_hcp':'04.421.01.09.','label':'Yacoub El Mansour (Arrond.)','province_code':26,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Yacoub El Mansour (Arrond.)','label_ar':'  ()'},{'id':537,'code_hcp':'04.441.01.03.','label':'Bab Lamrissa (Arrond.)','province_code':27,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Bab Lamrissa (Arrond.)','label_ar':'  ()'},{'id':538,'code_hcp':'04.441.01.05.','label':'Bettana (Arrond.)','province_code':27,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Bettana (Arrond.)','label_ar':' ()'},{'id':539,'code_hcp':'04.441.01.06.','label':'Hssaine (Arrond.)','province_code':27,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Hssaine (Arrond.)','label_ar':' ()'},{'id':540,'code_hcp':'04.441.01.07.','label':'Layayda (Arrond.)','province_code':27,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Layayda (Arrond.)','label_ar':' ()'},{'id':541,'code_hcp':'04.441.01.08.','label':'Sidi Bouknadel','province_code':27,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Sidi Bouknadel (Mun.)','label_ar':'  ()'},{'id':542,'code_hcp':'04.441.01.09.','label':'Tabriquet (Arrond.)','province_code':27,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Tabriquet (Arrond.)','label_ar':' ()'},{'id':543,'code_hcp':'04.441.03.01.','label':'Shoul','province_code':27,'cercle_code':0,'est_rural':0,'alt_label':'','dnom':'Shoul','label_ar':''},{'id':544,'code_hcp':'04.441.03.05.','label':'Ameur','province_code':27,'cercle_code':0,'est_rural':0,'alt_label':'','dnom':'Ameur','label_ar':''},{'id':545,'code_hcp':'04.481.01.01.','label':'Dar Gueddari','province_code':31,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Dar Gueddari (Mun.)','label_ar':'  ()'},{'id':546,'code_hcp':'04.481.01.03.','label':'Had Kourt','province_code':31,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Had Kourt (Mun.)','label_ar':'  ()'},{'id':547,'code_hcp':'04.481.01.05.','label':'Jorf El Melha','province_code':31,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Jorf El Melha (Mun.)','label_ar':'  ()'},{'id':548,'code_hcp':'04.481.01.07.','label':'Mechraa Bel Ksiri','province_code':31,'cercle_code':0,'est_rural':1,'alt_label':'Mechra Bel Ksiri','dnom':'Mechraa Bel Ksiri (Mun.)','label_ar':'  ()'},{'id':549,'code_hcp':'04.481.01.11.','label':'Sidi Kacem','province_code':31,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Sidi Kacem (Mun.)','label_ar':'  ()'},{'id':550,'code_hcp':'04.481.03.01.','label':'Ain Dfali','province_code':31,'cercle_code':73,'est_rural':0,'alt_label':'','dnom':'Ain Dfali','label_ar':' '},{'id':551,'code_hcp':'04.481.03.03.','label':'Bni Oual','province_code':31,'cercle_code':73,'est_rural':0,'alt_label':'','dnom':'Bni Oual','label_ar':' '},{'id':552,'code_hcp':'04.481.03.09.','label':'Moulay Abdelkader','province_code':31,'cercle_code':73,'est_rural':0,'alt_label':'','dnom':'Moulay Abdelkader','label_ar':'  '},{'id':553,'code_hcp':'04.481.03.13.','label':'Sidi Ahmed Benaissa','province_code':31,'cercle_code':73,'est_rural':0,'alt_label':'','dnom':'Sidi Ahmed Benaissa','label_ar':'  '},{'id':554,'code_hcp':'04.481.03.15.','label':'Sidi Ameur Al Hadi','province_code':31,'cercle_code':73,'est_rural':0,'alt_label':'','dnom':'Sidi Ameur Al Hadi','label_ar':'  '},{'id':555,'code_hcp':'04.481.03.17.','label':'Sidi Azzouz','province_code':31,'cercle_code':73,'est_rural':0,'alt_label':'','dnom':'Sidi Azzouz','label_ar':' '},{'id':556,'code_hcp':'04.481.05.01.','label':'Al Haouafate','province_code':31,'cercle_code':74,'est_rural':0,'alt_label':'','dnom':'Al Haouafate','label_ar':''},{'id':557,'code_hcp':'04.481.05.07.','label':'Nouirate','province_code':31,'cercle_code':74,'est_rural':0,'alt_label':'','dnom':'Nouirate','label_ar':''},{'id':558,'code_hcp':'04.481.05.09.','label':'Sefsaf','province_code':31,'cercle_code':74,'est_rural':0,'alt_label':'','dnom':'Sefsaf','label_ar':''},{'id':559,'code_hcp':'04.481.07.05.','label':'Khnichet','province_code':31,'cercle_code':75,'est_rural':0,'alt_label':'','dnom':'Khnichet','label_ar':''},{'id':560,'code_hcp':'04.481.07.07.','label':'Lamrabih','province_code':31,'cercle_code':75,'est_rural':0,'alt_label':'','dnom':'Lamrabih','label_ar':''},{'id':561,'code_hcp':'04.481.07.11.','label':'Oulad Nouel','province_code':31,'cercle_code':75,'est_rural':0,'alt_label':'','dnom':'Oulad Nouel','label_ar':' '},{'id':562,'code_hcp':'04.481.07.19.','label':"Sidi M'Hamed Chelh",'province_code':31,'cercle_code':75,'est_rural':0,'alt_label':'','dnom':"Sidi M'Hamed Chelh",'label_ar':'  '},{'id':563,'code_hcp':'04.481.07.21.','label':'Taoughilt','province_code':31,'cercle_code':75,'est_rural':0,'alt_label':'','dnom':'Taoughilt','label_ar':''},{'id':564,'code_hcp':'04.481.09.01.','label':'Bab Tiouka','province_code':31,'cercle_code':76,'est_rural':0,'alt_label':'','dnom':'Bab Tiouka','label_ar':' '},{'id':565,'code_hcp':'04.481.09.03.','label':'Bir Taleb','province_code':31,'cercle_code':76,'est_rural':0,'alt_label':'','dnom':'Bir Taleb','label_ar':' '},{'id':566,'code_hcp':'04.481.09.05.','label':'Chbanate','province_code':31,'cercle_code':76,'est_rural':0,'alt_label':'','dnom':'Chbanate','label_ar':''},{'id':567,'code_hcp':'04.481.09.07.','label':'Selfat','province_code':31,'cercle_code':76,'est_rural':0,'alt_label':'','dnom':'Selfat','label_ar':''},{'id':568,'code_hcp':'04.481.09.09.','label':'Tekna','province_code':31,'cercle_code':76,'est_rural':0,'alt_label':'','dnom':'Tekna','label_ar':''},{'id':569,'code_hcp':'04.481.09.11.','label':'Zaggota','province_code':31,'cercle_code':76,'est_rural':0,'alt_label':'','dnom':'Zaggota','label_ar':''},{'id':570,'code_hcp':'04.481.09.13.','label':'Zirara','province_code':31,'cercle_code':76,'est_rural':0,'alt_label':'','dnom':'Zirara','label_ar':''},{'id':571,'code_hcp':'04.481.11.03.','label':'Dar Laaslouji','province_code':31,'cercle_code':77,'est_rural':0,'alt_label':'','dnom':'Dar Laaslouji','label_ar':' '},{'id':572,'code_hcp':'04.481.11.05.','label':'Rmilat','province_code':31,'cercle_code':77,'est_rural':0,'alt_label':'','dnom':'Rmilat','label_ar':''},{'id':573,'code_hcp':'04.481.11.11.','label':'Sidi Al Kamel','province_code':31,'cercle_code':77,'est_rural':0,'alt_label':'','dnom':'Sidi Al Kamel','label_ar':' '},{'id':574,'code_hcp':'04.491.01.07.','label':'Sidi Slimane','province_code':32,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Sidi Slimane (Mun.)','label_ar':'  ()'},{'id':575,'code_hcp':'04.491.01.09.','label':'Sidi Yahya El Gharb','province_code':32,'cercle_code':0,'est_rural':1,'alt_label':'Sidi Yahia El Gharb','dnom':'Sidi Yahya El Gharb (Mun.)','label_ar':'   ()'},{'id':576,'code_hcp':'04.491.03.07.','label':'Kceibya','province_code':32,'cercle_code':78,'est_rural':0,'alt_label':'','dnom':'Kceibya','label_ar':''},{'id':577,'code_hcp':'04.491.03.15.','label':'Sfafaa','province_code':32,'cercle_code':78,'est_rural':0,'alt_label':'','dnom':'Sfafaa','label_ar':''},{'id':578,'code_hcp':'04.491.03.17.','label':'Ameur Chamalia','province_code':32,'cercle_code':78,'est_rural':0,'alt_label':'','dnom':'Ameur Chamalia','label_ar':' '},{'id':579,'code_hcp':'04.491.05.01.','label':'Azghar','province_code':32,'cercle_code':79,'est_rural':0,'alt_label':'','dnom':'Azghar','label_ar':''},{'id':580,'code_hcp':'04.491.05.03.','label':'Boumaiz','province_code':32,'cercle_code':79,'est_rural':0,'alt_label':'','dnom':'Boumaiz','label_ar':''},{'id':581,'code_hcp':'04.491.05.05.','label':'Dar Bel Amri','province_code':32,'cercle_code':79,'est_rural':0,'alt_label':'','dnom':'Dar Bel Amri','label_ar':' '},{'id':582,'code_hcp':'04.491.05.09.','label':"M'saada",'province_code':32,'cercle_code':79,'est_rural':0,'alt_label':'','dnom':"M'saada",'label_ar':''},{'id':583,'code_hcp':'04.491.05.11.','label':'Ouled Ben Hammadi','province_code':32,'cercle_code':79,'est_rural':0,'alt_label':'','dnom':'Ouled Ben Hammadi','label_ar':'  '},{'id':584,'code_hcp':'04.491.05.13.','label':"Ouled H'Cine",'province_code':32,'cercle_code':79,'est_rural':0,'alt_label':'','dnom':"Ouled H'Cine",'label_ar':' '},{'id':585,'code_hcp':'04.501.01.01.','label':'Ain El Aouda','province_code':28,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Ain El Aouda (Mun.)','label_ar':'  ()'},{'id':586,'code_hcp':'04.501.01.03.','label':'Harhoura','province_code':28,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Harhoura (Mun.)','label_ar':' ()'},{'id':587,'code_hcp':'04.501.01.05.','label':'Skhirate','province_code':28,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Skhirate (Mun.)','label_ar':' ()'},{'id':588,'code_hcp':'04.501.01.07.','label':'Tmara','province_code':28,'cercle_code':0,'est_rural':1,'alt_label':'Temara','dnom':'Tmara (Mun.)','label_ar':' ()'},{'id':589,'code_hcp':'04.501.01.09.','label':'Ain Attig','province_code':28,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Ain Attig (Mun.)','label_ar':'  ()'},{'id':590,'code_hcp':'04.501.03.01.','label':'El Menzeh','province_code':28,'cercle_code':80,'est_rural':0,'alt_label':'','dnom':'El Menzeh','label_ar':''},{'id':591,'code_hcp':'04.501.03.03.','label':'Oumazza','province_code':28,'cercle_code':80,'est_rural':0,'alt_label':'','dnom':'Oumazza','label_ar':' '},{'id':592,'code_hcp':'04.501.03.11.','label':'Sidi Yahya Zaer','province_code':28,'cercle_code':80,'est_rural':0,'alt_label':'','dnom':'Sidi Yahya Zaer','label_ar':'  '},{'id':593,'code_hcp':'04.501.05.03.','label':'Mers El Kheir','province_code':28,'cercle_code':81,'est_rural':0,'alt_label':'','dnom':'Mers El Kheir','label_ar':' '},{'id':594,'code_hcp':'04.501.05.05.','label':'Sabbah','province_code':28,'cercle_code':81,'est_rural':0,'alt_label':'','dnom':'Sabbah','label_ar':''},{'id':595,'code_hcp':'05.081.01.01.','label':'Azilal','province_code':34,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Azilal (Mun.)','label_ar':' ()'},{'id':596,'code_hcp':'05.081.01.03.','label':'Demnate','province_code':34,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Demnate (Mun.)','label_ar':' ()'},{'id':597,'code_hcp':'05.081.03.01.','label':"Agoudi N'Lkhair",'province_code':34,'cercle_code':82,'est_rural':0,'alt_label':'','dnom':"Agoudi N'Lkhair",'label_ar':' '},{'id':598,'code_hcp':'05.081.03.03.','label':'Ait Abbas','province_code':34,'cercle_code':82,'est_rural':0,'alt_label':'','dnom':'Ait Abbas','label_ar':' '},{'id':599,'code_hcp':'05.081.03.05.','label':'Ait Bou Oulli','province_code':34,'cercle_code':82,'est_rural':0,'alt_label':'','dnom':'Ait Bou Oulli','label_ar':' '},{'id':600,'code_hcp':'05.081.03.07.','label':"Ait M'Hamed",'province_code':34,'cercle_code':82,'est_rural':0,'alt_label':'','dnom':"Ait M'Hamed",'label_ar':' '},{'id':601,'code_hcp':'05.081.03.09.','label':'Tabant','province_code':34,'cercle_code':82,'est_rural':0,'alt_label':'','dnom':'Tabant','label_ar':''},{'id':602,'code_hcp':'05.081.03.11.','label':'Tamda Noumercid','province_code':34,'cercle_code':82,'est_rural':0,'alt_label':'','dnom':'Tamda Noumercid','label_ar':' '},{'id':603,'code_hcp':'05.081.03.13.','label':'Zaouiat Ahansal','province_code':34,'cercle_code':82,'est_rural':0,'alt_label':'','dnom':'Zaouiat Ahansal','label_ar':' '},{'id':604,'code_hcp':'05.081.05.01.','label':'Ait Taguella','province_code':34,'cercle_code':83,'est_rural':0,'alt_label':'','dnom':'Ait Taguella','label_ar':' '},{'id':605,'code_hcp':'05.081.05.05.','label':'Bni Hassane','province_code':34,'cercle_code':83,'est_rural':0,'alt_label':'','dnom':'Bni Hassane','label_ar':' '},{'id':606,'code_hcp':'05.081.05.07.','label':'Bzou','province_code':34,'cercle_code':83,'est_rural':0,'alt_label':'','dnom':'Bzou','label_ar':''},{'id':607,'code_hcp':'05.081.05.09.','label':'Foum Jemaa','province_code':34,'cercle_code':83,'est_rural':0,'alt_label':'','dnom':'Foum Jemaa','label_ar':' '},{'id':608,'code_hcp':'05.081.05.11.','label':'Moulay Aissa Ben Driss','province_code':34,'cercle_code':83,'est_rural':0,'alt_label':'','dnom':'Moulay Aissa Ben Driss','label_ar':'   '},{'id':609,'code_hcp':'05.081.05.13.','label':'Rfala','province_code':34,'cercle_code':83,'est_rural':0,'alt_label':'','dnom':'Rfala','label_ar':''},{'id':610,'code_hcp':'05.081.05.15.','label':'Tabia','province_code':34,'cercle_code':83,'est_rural':0,'alt_label':'','dnom':'Tabia','label_ar':''},{'id':611,'code_hcp':'05.081.05.17.','label':'Tanant','province_code':34,'cercle_code':83,'est_rural':0,'alt_label':'','dnom':'Tanant','label_ar':''},{'id':612,'code_hcp':'05.081.05.19.','label':'Taounza','province_code':34,'cercle_code':83,'est_rural':0,'alt_label':'','dnom':'Taounza','label_ar':''},{'id':613,'code_hcp':'05.081.05.21.','label':'Tisqi','province_code':34,'cercle_code':83,'est_rural':0,'alt_label':'','dnom':'Tisqi','label_ar':''},{'id':614,'code_hcp':'05.081.09.03.','label':'Ait Mazigh','province_code':34,'cercle_code':84,'est_rural':0,'alt_label':'','dnom':'Ait Mazigh','label_ar':' '},{'id':615,'code_hcp':'05.081.09.07.','label':'Ait Ouqabli','province_code':34,'cercle_code':84,'est_rural':0,'alt_label':'','dnom':'Ait Ouqabli','label_ar':' '},{'id':616,'code_hcp':'05.081.09.09.','label':'Anergui','province_code':34,'cercle_code':84,'est_rural':0,'alt_label':'','dnom':'Anergui','label_ar':''},{'id':617,'code_hcp':'05.081.09.11.','label':'Bin El Ouidane','province_code':34,'cercle_code':84,'est_rural':0,'alt_label':'','dnom':'Bin El Ouidane','label_ar':' '},{'id':618,'code_hcp':'05.081.09.13.','label':'Isseksi','province_code':34,'cercle_code':84,'est_rural':0,'alt_label':'','dnom':'Isseksi','label_ar':''},{'id':619,'code_hcp':'05.081.09.15.','label':'Ouaouizeght','province_code':34,'cercle_code':84,'est_rural':0,'alt_label':'','dnom':'Ouaouizeght','label_ar':''},{'id':620,'code_hcp':'05.081.09.17.','label':'Tabaroucht','province_code':34,'cercle_code':84,'est_rural':0,'alt_label':'','dnom':'Tabaroucht','label_ar':''},{'id':621,'code_hcp':'05.081.09.19.','label':'Tagleft','province_code':34,'cercle_code':84,'est_rural':0,'alt_label':'','dnom':'Tagleft','label_ar':''},{'id':622,'code_hcp':'05.081.09.21.','label':"Tiffert N'Ait Hamza",'province_code':34,'cercle_code':84,'est_rural':0,'alt_label':'','dnom':"Tiffert N'Ait Hamza",'label_ar':'  '},{'id':623,'code_hcp':'05.081.09.23.','label':'Tilougguite','province_code':34,'cercle_code':84,'est_rural':0,'alt_label':'Tiloukit','dnom':'Tilougguite','label_ar':''},{'id':624,'code_hcp':'05.081.11.01.','label':'Afourar','province_code':34,'cercle_code':85,'est_rural':0,'alt_label':'','dnom':'Afourar','label_ar':''},{'id':625,'code_hcp':'05.081.11.03.','label':'Bni Ayat','province_code':34,'cercle_code':85,'est_rural':0,'alt_label':'','dnom':'Bni Ayat','label_ar':' '},{'id':626,'code_hcp':'05.081.11.05.','label':'Ait Ouaarda','province_code':34,'cercle_code':85,'est_rural':0,'alt_label':'','dnom':'Ait Ouaarda','label_ar':' '},{'id':627,'code_hcp':'05.081.11.25.','label':'Timoulilt','province_code':34,'cercle_code':85,'est_rural':0,'alt_label':'','dnom':'Timoulilt','label_ar':''},{'id':628,'code_hcp':'05.081.13.05.','label':'Ait Oumdis','province_code':34,'cercle_code':86,'est_rural':0,'alt_label':'','dnom':'Ait Oumdis','label_ar':'  '},{'id':629,'code_hcp':'05.081.13.07.','label':'Ait Tamlil','province_code':34,'cercle_code':86,'est_rural':0,'alt_label':'','dnom':'Ait Tamlil','label_ar':' '},{'id':630,'code_hcp':'05.081.13.09.','label':'Anzou','province_code':34,'cercle_code':86,'est_rural':0,'alt_label':'','dnom':'Anzou','label_ar':''},{'id':631,'code_hcp':'05.081.13.17.','label':'Sidi Yacoub','province_code':34,'cercle_code':86,'est_rural':0,'alt_label':'','dnom':'Sidi Yacoub','label_ar':' '},{'id':632,'code_hcp':'05.081.13.19.','label':'Tidili Fetouaka','province_code':34,'cercle_code':86,'est_rural':0,'alt_label':'','dnom':'Tidili Fetouaka','label_ar':' '},{'id':633,'code_hcp':'05.081.15.01.','label':'Ait Blal','province_code':34,'cercle_code':87,'est_rural':0,'alt_label':'','dnom':'Ait Blal','label_ar':' '},{'id':634,'code_hcp':'05.081.15.03.','label':'Ait Majden','province_code':34,'cercle_code':87,'est_rural':0,'alt_label':'','dnom':'Ait Majden','label_ar':' '},{'id':635,'code_hcp':'05.081.15.11.','label':'Imlil','province_code':34,'cercle_code':87,'est_rural':0,'alt_label':'','dnom':'Imlil','label_ar':''},{'id':636,'code_hcp':'05.081.15.13.','label':'Ouaoula','province_code':34,'cercle_code':87,'est_rural':0,'alt_label':'','dnom':'Ouaoula','label_ar':''},{'id':637,'code_hcp':'05.081.15.15.','label':'Sidi Boulkhalf','province_code':34,'cercle_code':87,'est_rural':0,'alt_label':'','dnom':'Sidi Boulkhalf','label_ar':' '},{'id':638,'code_hcp':'05.081.15.21.','label':'Tifni','province_code':34,'cercle_code':87,'est_rural':0,'alt_label':'','dnom':'Tifni','label_ar':''},{'id':639,'code_hcp':'05.091.01.01.','label':'Bni Mellal','province_code':33,'cercle_code':0,'est_rural':1,'alt_label':'Beni Mellal','dnom':'Bni Mellal (Mun.)','label_ar':'  ()'},{'id':640,'code_hcp':'05.091.01.03.','label':'El Ksiba','province_code':33,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'El Ksiba (Mun.)','label_ar':' ()'},{'id':641,'code_hcp':'05.091.01.07.','label':'Kasba Tadla','province_code':33,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Kasba Tadla (Mun.)','label_ar':'  ()'},{'id':642,'code_hcp':'05.091.01.13.','label':'Zaouiat Cheikh','province_code':33,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Zaouiat Cheikh (Mun.)','label_ar':'  ()'},{'id':643,'code_hcp':'05.091.03.01.','label':'Foum Oudi','province_code':33,'cercle_code':88,'est_rural':0,'alt_label':'','dnom':'Foum Oudi','label_ar':' '},{'id':644,'code_hcp':'05.091.03.03.','label':'Ouled Gnaou','province_code':33,'cercle_code':88,'est_rural':0,'alt_label':'','dnom':'Ouled Gnaou','label_ar':' '},{'id':645,'code_hcp':'05.091.03.05.','label':"Ouled M'Barek",'province_code':33,'cercle_code':88,'est_rural':0,'alt_label':'','dnom':"Ouled M'Barek",'label_ar':' '},{'id':646,'code_hcp':'05.091.03.07.','label':'Ouled Yaich','province_code':33,'cercle_code':88,'est_rural':0,'alt_label':'','dnom':'Ouled Yaich','label_ar':' '},{'id':647,'code_hcp':'05.091.03.09.','label':'Sidi Jaber','province_code':33,'cercle_code':88,'est_rural':0,'alt_label':'','dnom':'Sidi Jaber','label_ar':' '},{'id':648,'code_hcp':'05.091.03.11.','label':'Foum El Anceur','province_code':33,'cercle_code':88,'est_rural':0,'alt_label':'','dnom':'Foum El Anceur','label_ar':' '},{'id':649,'code_hcp':'05.091.05.01.','label':'Aghbala','province_code':33,'cercle_code':89,'est_rural':0,'alt_label':'','dnom':'Aghbala','label_ar':''},{'id':650,'code_hcp':'05.091.05.05.','label':'Boutferda','province_code':33,'cercle_code':89,'est_rural':0,'alt_label':'','dnom':'Boutferda','label_ar':''},{'id':651,'code_hcp':'05.091.05.17.','label':"Tizi N'Isly",'province_code':33,'cercle_code':89,'est_rural':0,'alt_label':'','dnom':"Tizi N'Isly",'label_ar':' '},{'id':652,'code_hcp':'05.091.07.03.','label':'Ait Oum El Bekht','province_code':33,'cercle_code':90,'est_rural':0,'alt_label':'','dnom':'Ait Oum El Bekht','label_ar':'  '},{'id':653,'code_hcp':'05.091.07.07.','label':'Dir El Ksiba','province_code':33,'cercle_code':90,'est_rural':0,'alt_label':'','dnom':'Dir El Ksiba','label_ar':' '},{'id':654,'code_hcp':'05.091.07.11.','label':'Naour','province_code':33,'cercle_code':90,'est_rural':0,'alt_label':'','dnom':'Naour','label_ar':''},{'id':655,'code_hcp':'05.091.07.13.','label':'Taghzirt','province_code':33,'cercle_code':90,'est_rural':0,'alt_label':'','dnom':'Taghzirt','label_ar':''},{'id':656,'code_hcp':'05.091.07.15.','label':'Tanougha','province_code':33,'cercle_code':90,'est_rural':0,'alt_label':'','dnom':'Tanougha','label_ar':''},{'id':657,'code_hcp':'05.091.11.01.','label':'Guettaya','province_code':33,'cercle_code':91,'est_rural':0,'alt_label':'','dnom':'Guettaya','label_ar':''},{'id':658,'code_hcp':'05.091.11.03.','label':'Ouled Youssef','province_code':33,'cercle_code':91,'est_rural':0,'alt_label':'','dnom':'Ouled Youssef','label_ar':' '},{'id':659,'code_hcp':'05.091.11.05.','label':"Ouled Said L'Oued",'province_code':33,'cercle_code':91,'est_rural':0,'alt_label':'Ouled Said Loued','dnom':"Ouled Said L'Oued",'label_ar':'  '},{'id':660,'code_hcp':'05.091.11.07.','label':'Semguet','province_code':33,'cercle_code':91,'est_rural':0,'alt_label':'','dnom':'Semguet','label_ar':''},{'id':661,'code_hcp':'05.255.01.05.','label':'Fquih Ben Salah','province_code':35,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Fquih Ben Salah (Mun.)','label_ar':'   ()'},{'id':662,'code_hcp':'05.255.01.09.','label':'Ouled Ayad','province_code':35,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Ouled Ayad (Mun.)','label_ar':'  ()'},{'id':663,'code_hcp':'05.255.01.11.','label':'Souk Sebt Ouled Nemma','province_code':35,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Souk Sebt Ouled Nemma (Mun.)','label_ar':'    ()'},{'id':664,'code_hcp':'05.255.05.05.','label':'Ouled Bourahmoune','province_code':35,'cercle_code':92,'est_rural':0,'alt_label':'','dnom':'Ouled Bourahmoune','label_ar':' '},{'id':665,'code_hcp':'05.255.05.09.','label':'Ouled Zmam','province_code':35,'cercle_code':92,'est_rural':0,'alt_label':'','dnom':'Ouled Zmam','label_ar':' '},{'id':666,'code_hcp':'05.255.05.11.','label':'Sidi Aissa Ben Ali','province_code':35,'cercle_code':92,'est_rural':0,'alt_label':'','dnom':'Sidi Aissa Ben Ali','label_ar':'   '},{'id':667,'code_hcp':'05.255.05.13.','label':'Sidi Hammadi','province_code':35,'cercle_code':92,'est_rural':0,'alt_label':'','dnom':'Sidi Hammadi','label_ar':'  '},{'id':668,'code_hcp':'05.255.09.01.','label':'Khalfia','province_code':35,'cercle_code':93,'est_rural':0,'alt_label':'','dnom':'Khalfia','label_ar':''},{'id':669,'code_hcp':'05.255.09.03.','label':'Bni Chegdale','province_code':35,'cercle_code':93,'est_rural':0,'alt_label':'','dnom':'Bni Chegdale','label_ar':' '},{'id':670,'code_hcp':'05.255.09.05.','label':'Bni Oukil','province_code':35,'cercle_code':93,'est_rural':0,'alt_label':'','dnom':'Bni Oukil','label_ar':' '},{'id':671,'code_hcp':'05.255.09.07.','label':'Bradia','province_code':35,'cercle_code':93,'est_rural':0,'alt_label':'','dnom':'Bradia','label_ar':''},{'id':672,'code_hcp':'05.255.09.09.','label':'Hel Merbaa','province_code':35,'cercle_code':93,'est_rural':0,'alt_label':'','dnom':'Hel Merbaa','label_ar':' '},{'id':673,'code_hcp':'05.255.09.11.','label':'Krifate','province_code':35,'cercle_code':93,'est_rural':0,'alt_label':'','dnom':'Krifate','label_ar':''},{'id':674,'code_hcp':'05.255.11.01.','label':'Dar Ould Zidouh','province_code':35,'cercle_code':94,'est_rural':0,'alt_label':'','dnom':'Dar Ould Zidouh','label_ar':'  '},{'id':675,'code_hcp':'05.255.11.03.','label':'Had Boumoussa','province_code':35,'cercle_code':94,'est_rural':0,'alt_label':'','dnom':'Had Boumoussa','label_ar':' '},{'id':676,'code_hcp':'05.255.11.07.','label':'Ouled Nacer','province_code':35,'cercle_code':94,'est_rural':0,'alt_label':'','dnom':'Ouled Nacer','label_ar':' '},{'id':677,'code_hcp':'05.301.01.01.','label':'Khenifra','province_code':36,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Khenifra (Mun.)','label_ar':' ()'},{'id':678,'code_hcp':'05.301.01.05.','label':"M'Rirt",'province_code':36,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':"M'Rirt (Mun.)",'label_ar':' ()'},{'id':679,'code_hcp':'05.301.03.01.','label':'Ait Ishaq','province_code':36,'cercle_code':95,'est_rural':0,'alt_label':'','dnom':'Ait Ishaq','label_ar':' '},{'id':680,'code_hcp':'05.301.03.03.','label':'Ait Saadelli','province_code':36,'cercle_code':95,'est_rural':0,'alt_label':'','dnom':'Ait Saadelli','label_ar':' '},{'id':681,'code_hcp':'05.301.03.05.','label':'El Kbab','province_code':36,'cercle_code':95,'est_rural':0,'alt_label':'','dnom':'El Kbab','label_ar':''},{'id':682,'code_hcp':'05.301.03.07.','label':'Kerrouchen','province_code':36,'cercle_code':95,'est_rural':0,'alt_label':'','dnom':'Kerrouchen','label_ar':''},{'id':683,'code_hcp':'05.301.03.09.','label':'Ouaoumana','province_code':36,'cercle_code':95,'est_rural':0,'alt_label':'','dnom':'Ouaoumana','label_ar':' '},{'id':684,'code_hcp':'05.301.03.11.','label':'Sidi Yahya Ou Saad','province_code':36,'cercle_code':95,'est_rural':0,'alt_label':'','dnom':'Sidi Yahya Ou Saad','label_ar':'   '},{'id':685,'code_hcp':'05.301.03.13.','label':'Tighassaline','province_code':36,'cercle_code':95,'est_rural':0,'alt_label':'','dnom':'Tighassaline','label_ar':''},{'id':686,'code_hcp':'05.301.05.01.','label':'Aguelmam Azegza','province_code':36,'cercle_code':96,'est_rural':0,'alt_label':'','dnom':'Aguelmam Azegza','label_ar':' '},{'id':687,'code_hcp':'05.301.05.05.','label':'El Borj','province_code':36,'cercle_code':96,'est_rural':0,'alt_label':'','dnom':'El Borj','label_ar':''},{'id':688,'code_hcp':'05.301.05.11.','label':'Lehri','province_code':36,'cercle_code':96,'est_rural':0,'alt_label':'El Hri','dnom':'Lehri','label_ar':''},{'id':689,'code_hcp':'05.301.05.13.','label':'Moha Ou Hammou Zayani','province_code':36,'cercle_code':96,'est_rural':0,'alt_label':'Moha Ou Hammou-Zayani','dnom':'Moha Ou Hammou Zayani','label_ar':'  '},{'id':690,'code_hcp':'05.301.05.21.','label':'Sidi Amar','province_code':36,'cercle_code':96,'est_rural':0,'alt_label':'','dnom':'Sidi Amar','label_ar':' '},{'id':691,'code_hcp':'05.301.05.25.','label':'Sidi Lamine','province_code':36,'cercle_code':96,'est_rural':0,'alt_label':'','dnom':'Sidi Lamine','label_ar':' '},{'id':692,'code_hcp':'05.301.07.03.','label':'Aguelmous','province_code':36,'cercle_code':97,'est_rural':0,'alt_label':'','dnom':'Aguelmous','label_ar':''},{'id':693,'code_hcp':'05.301.07.07.','label':'El Hammam','province_code':36,'cercle_code':97,'est_rural':0,'alt_label':'','dnom':'El Hammam','label_ar':''},{'id':694,'code_hcp':'05.301.07.09.','label':'Had Bouhssoussen','province_code':36,'cercle_code':97,'est_rural':0,'alt_label':'','dnom':'Had Bouhssoussen','label_ar':' '},{'id':695,'code_hcp':'05.301.07.15.','label':'Moulay Bouazza','province_code':36,'cercle_code':97,'est_rural':0,'alt_label':'','dnom':'Moulay Bouazza','label_ar':' '},{'id':696,'code_hcp':'05.301.07.17.','label':'Oum Rabia','province_code':36,'cercle_code':97,'est_rural':0,'alt_label':'','dnom':'Oum Rabia','label_ar':' '},{'id':697,'code_hcp':'05.301.07.19.','label':'Sebt Ait Rahou','province_code':36,'cercle_code':97,'est_rural':0,'alt_label':'','dnom':'Sebt Ait Rahou','label_ar':'  '},{'id':698,'code_hcp':'05.301.07.23.','label':'Sidi Hcine','province_code':36,'cercle_code':97,'est_rural':0,'alt_label':'','dnom':'Sidi Hcine','label_ar':' '},{'id':699,'code_hcp':'05.311.01.01.','label':'Bejaad','province_code':37,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Bejaad (Mun.)','label_ar':'  ()'},{'id':700,'code_hcp':'05.311.01.03.','label':'Boujniba','province_code':37,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Boujniba (Mun.)','label_ar':' ()'},{'id':701,'code_hcp':'05.311.01.05.','label':'Hattane','province_code':37,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Hattane (Mun.)','label_ar':' ()'},{'id':702,'code_hcp':'05.311.01.07.','label':'Khouribga','province_code':37,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Khouribga (Mun.)','label_ar':' ()'},{'id':703,'code_hcp':'05.311.01.09.','label':'Oued Zem','province_code':37,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Oued Zem (Mun.)','label_ar':'  ()'},{'id':704,'code_hcp':'05.311.03.01.','label':'Ain Kaicher','province_code':37,'cercle_code':98,'est_rural':0,'alt_label':'','dnom':'Ain Kaicher','label_ar':' '},{'id':705,'code_hcp':'05.311.03.03.','label':'Bni Bataou','province_code':37,'cercle_code':98,'est_rural':0,'alt_label':'','dnom':'Bni Bataou','label_ar':' '},{'id':706,'code_hcp':'05.311.03.05.','label':'Bni Zrantel','province_code':37,'cercle_code':98,'est_rural':0,'alt_label':'','dnom':'Bni Zrantel','label_ar':' '},{'id':707,'code_hcp':'05.311.03.07.','label':'Boukhrisse','province_code':37,'cercle_code':98,'est_rural':0,'alt_label':'','dnom':'Boukhrisse','label_ar':''},{'id':708,'code_hcp':'05.311.03.09.','label':'Chougrane','province_code':37,'cercle_code':98,'est_rural':0,'alt_label':'','dnom':'Chougrane','label_ar':''},{'id':709,'code_hcp':'05.311.03.11.','label':'Oulad Gouaouch','province_code':37,'cercle_code':98,'est_rural':0,'alt_label':'','dnom':'Oulad Gouaouch','label_ar':' '},{'id':710,'code_hcp':'05.311.03.13.','label':'Rouached','province_code':37,'cercle_code':98,'est_rural':0,'alt_label':'','dnom':'Rouached','label_ar':''},{'id':711,'code_hcp':'05.311.03.15.','label':'Tachraft','province_code':37,'cercle_code':98,'est_rural':0,'alt_label':'Tachrafat','dnom':'Tachraft','label_ar':''},{'id':712,'code_hcp':'05.311.05.01.','label':'Bir Mezoui','province_code':37,'cercle_code':99,'est_rural':0,'alt_label':'','dnom':'Bir Mezoui','label_ar':' '},{'id':713,'code_hcp':'05.311.05.03.','label':'Bni Ykhlef','province_code':37,'cercle_code':99,'est_rural':0,'alt_label':'','dnom':'Bni Ykhlef','label_ar':' '},{'id':714,'code_hcp':'05.311.05.05.','label':'Boulanouare','province_code':37,'cercle_code':99,'est_rural':0,'alt_label':'','dnom':'Bulanouare','label_ar':''},{'id':715,'code_hcp':'05.311.05.07.','label':'Lagfaf','province_code':37,'cercle_code':99,'est_rural':0,'alt_label':'','dnom':'Lagfaf','label_ar':''},{'id':716,'code_hcp':'05.311.05.09.','label':'El Foqra','province_code':37,'cercle_code':99,'est_rural':0,'alt_label':'','dnom':'El Foqra','label_ar':''},{'id':717,'code_hcp':'05.311.05.11.','label':"M'Fassis",'province_code':37,'cercle_code':99,'est_rural':0,'alt_label':'','dnom':"M'Fassis",'label_ar':''},{'id':718,'code_hcp':'05.311.05.13.','label':'Oulad Abdoune','province_code':37,'cercle_code':99,'est_rural':0,'alt_label':'','dnom':'Oulad Abdoune','label_ar':' '},{'id':719,'code_hcp':'05.311.05.15.','label':'Oulad Azzouz','province_code':37,'cercle_code':99,'est_rural':0,'alt_label':'','dnom':'Oulad Azzouz','label_ar':' '},{'id':720,'code_hcp':'05.311.07.01.','label':'Ait Ammar','province_code':37,'cercle_code':100,'est_rural':0,'alt_label':'','dnom':'Ait Ammar','label_ar':' '},{'id':721,'code_hcp':'05.311.07.03.','label':'Bni Smir','province_code':37,'cercle_code':100,'est_rural':0,'alt_label':'','dnom':'Bni Smir','label_ar':' '},{'id':722,'code_hcp':'05.311.07.05.','label':'Braksa','province_code':37,'cercle_code':100,'est_rural':0,'alt_label':'','dnom':'Braksa','label_ar':''},{'id':723,'code_hcp':'05.311.07.07.','label':'Kasbat Troch','province_code':37,'cercle_code':100,'est_rural':0,'alt_label':'','dnom':'Kasbat Troch','label_ar':'  '},{'id':724,'code_hcp':'05.311.07.09.','label':'Lagnadiz','province_code':37,'cercle_code':100,'est_rural':0,'alt_label':'','dnom':'Lagnadiz','label_ar':''},{'id':725,'code_hcp':'05.311.07.11.','label':'Maadna','province_code':37,'cercle_code':100,'est_rural':0,'alt_label':'','dnom':'Maadna','label_ar':''},{'id':726,'code_hcp':'05.311.07.13.','label':'Oulad Aissa','province_code':37,'cercle_code':100,'est_rural':0,'alt_label':'','dnom':'Oulad Aissa','label_ar':' '},{'id':727,'code_hcp':'05.311.07.15.','label':'Oulad Boughadi','province_code':37,'cercle_code':100,'est_rural':0,'alt_label':'','dnom':'Oulad Boughadi','label_ar':' '},{'id':728,'code_hcp':'05.311.07.17.','label':'Oulad Fennane','province_code':37,'cercle_code':100,'est_rural':0,'alt_label':'','dnom':'Oulad Fennane','label_ar':' '},{'id':729,'code_hcp':'05.311.07.19.','label':'Oulad Ftata','province_code':37,'cercle_code':100,'est_rural':0,'alt_label':'','dnom':'Oulad Ftata','label_ar':' '},{'id':730,'code_hcp':'06.111.01.01.','label':'Benslimane','province_code':43,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Benslimane (Mun.)','label_ar':' ()'},{'id':731,'code_hcp':'06.111.01.03.','label':'Bouznika','province_code':43,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Bouznika (Mun.)','label_ar':' ()'},{'id':732,'code_hcp':'06.111.01.05.','label':'El Mansouria','province_code':43,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'El Mansouria (Mun.)','label_ar':' ()'},{'id':733,'code_hcp':'06.111.03.01.','label':'Ahlaf','province_code':43,'cercle_code':101,'est_rural':0,'alt_label':'','dnom':'Ahlaf','label_ar':''},{'id':734,'code_hcp':'06.111.03.03.','label':'Ain Tizgha','province_code':43,'cercle_code':101,'est_rural':0,'alt_label':'','dnom':'Ain Tizgha','label_ar':' '},{'id':735,'code_hcp':'06.111.03.05.','label':'Fdalate','province_code':43,'cercle_code':101,'est_rural':0,'alt_label':'','dnom':'Fdalate','label_ar':''},{'id':736,'code_hcp':'06.111.03.07.','label':'Mellila','province_code':43,'cercle_code':101,'est_rural':0,'alt_label':'','dnom':'Mellila','label_ar':''},{'id':737,'code_hcp':'06.111.03.11.','label':'Moualine El Oued','province_code':43,'cercle_code':101,'est_rural':0,'alt_label':'','dnom':'Moualine El Oued','label_ar':' '},{'id':738,'code_hcp':'06.111.03.13.','label':'Oulad Ali Toualaa','province_code':43,'cercle_code':101,'est_rural':0,'alt_label':'Oulad Ali Taoulaa','dnom':'Oulad Ali Toualaa','label_ar':'  '},{'id':739,'code_hcp':'06.111.03.15.','label':'Oulad Yahya Louta','province_code':43,'cercle_code':101,'est_rural':0,'alt_label':'','dnom':'Oulad Yahya Louta','label_ar':'  '},{'id':740,'code_hcp':'06.111.03.17.','label':'Rdadna Oulad Malek','province_code':43,'cercle_code':101,'est_rural':0,'alt_label':'','dnom':'Rdadna Oulad Malek','label_ar':'  '},{'id':741,'code_hcp':'06.111.03.19.','label':'Ziaida','province_code':43,'cercle_code':101,'est_rural':0,'alt_label':'','dnom':'Ziaida','label_ar':''},{'id':742,'code_hcp':'06.111.05.01.','label':'Bir Ennasr','province_code':43,'cercle_code':102,'est_rural':0,'alt_label':'','dnom':'Bir Ennasr','label_ar':' '},{'id':743,'code_hcp':'06.111.05.04.','label':'Sidi Bettache','province_code':43,'cercle_code':102,'est_rural':0,'alt_label':'','dnom':'Sidi Bettache','label_ar':' '},{'id':744,'code_hcp':'06.111.05.05.','label':'Charrate','province_code':43,'cercle_code':102,'est_rural':0,'alt_label':'','dnom':'Charrate','label_ar':''},{'id':745,'code_hcp':'06.117.01.03.','label':'Berrechid','province_code':44,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Berrechid (Mun.)','label_ar':' ()'},{'id':746,'code_hcp':'06.117.01.05.','label':'Deroua','province_code':44,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Deroua (Mun.)','label_ar':' ()'},{'id':747,'code_hcp':'06.117.01.07.','label':'El Gara','province_code':44,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'El Gara (Mun.)','label_ar':' ()'},{'id':748,'code_hcp':'06.117.01.09.','label':'Had Soualem','province_code':44,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Had Soualem (Mun.)','label_ar':'  ()'},{'id':749,'code_hcp':'06.117.01.11.','label':'Oulad Abbou','province_code':44,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Oulad Abbou (Mun.)','label_ar':'  ()'},{'id':750,'code_hcp':'06.117.01.13.','label':'Sidi Rahal Chatai','province_code':44,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Sidi Rahal Chatai (Mun.)','label_ar':'   ()'},{'id':751,'code_hcp':'06.117.05.01.','label':'Ben Maachou','province_code':44,'cercle_code':103,'est_rural':0,'alt_label':'','dnom':'Ben Maachou','label_ar':' '},{'id':752,'code_hcp':'06.117.05.11.','label':'Laghnimyine','province_code':44,'cercle_code':103,'est_rural':0,'alt_label':'','dnom':'Laghnimyine','label_ar':''},{'id':753,'code_hcp':'06.117.05.13.','label':'Lahsasna','province_code':44,'cercle_code':103,'est_rural':0,'alt_label':'','dnom':'Lahsasna','label_ar':''},{'id':754,'code_hcp':'06.117.05.25.','label':"Sahel Oulad H'Riz",'province_code':44,'cercle_code':103,'est_rural':0,'alt_label':'','dnom':"Sahel Oulad H'Riz",'label_ar':'  '},{'id':755,'code_hcp':'06.117.05.27.','label':'Sidi Abdelkhaleq','province_code':44,'cercle_code':103,'est_rural':0,'alt_label':'','dnom':'Sidi Abdelkhaleq','label_ar':'  '},{'id':756,'code_hcp':'06.117.05.29.','label':'Sidi El Mekki','province_code':44,'cercle_code':103,'est_rural':0,'alt_label':'','dnom':'Sidi El Mekki','label_ar':' '},{'id':757,'code_hcp':'06.117.05.33.','label':'Soualem Trifiya','province_code':44,'cercle_code':103,'est_rural':0,'alt_label':'','dnom':'Soualem Trifiya','label_ar':'-'},{'id':758,'code_hcp':'06.117.05.35.','label':'Zaouiat Sidi Ben Hamdoun','province_code':44,'cercle_code':103,'est_rural':0,'alt_label':'','dnom':'Zaouiat Sidi Ben Hamdoun','label_ar':'  '},{'id':759,'code_hcp':'06.117.08.05.','label':'Foqra Oulad Aameur','province_code':44,'cercle_code':104,'est_rural':0,'alt_label':'','dnom':'Foqra Oulad Aameur','label_ar':'  '},{'id':760,'code_hcp':'06.117.08.07.','label':'Jaqma','province_code':44,'cercle_code':104,'est_rural':0,'alt_label':'','dnom':'Jaqma','label_ar':''},{'id':761,'code_hcp':'06.117.08.09.','label':'Kasbat Ben Mchich','province_code':44,'cercle_code':104,'est_rural':0,'alt_label':'','dnom':'Kasbat Ben Mchich','label_ar':'  '},{'id':762,'code_hcp':'06.117.08.17.','label':'Lambarkiyine','province_code':44,'cercle_code':104,'est_rural':0,'alt_label':'','dnom':'Lambarkiyine','label_ar':''},{'id':763,'code_hcp':'06.117.08.19.','label':'Ouled Cebbah','province_code':44,'cercle_code':104,'est_rural':0,'alt_label':'','dnom':'Ouled Cebbah','label_ar':' '},{'id':764,'code_hcp':'06.117.08.20.','label':'Oulad Ziyane','province_code':44,'cercle_code':104,'est_rural':0,'alt_label':'','dnom':'Oulad Ziyane','label_ar':' '},{'id':765,'code_hcp':'06.117.08.21.','label':'Ouled Zidane','province_code':44,'cercle_code':104,'est_rural':0,'alt_label':'Oulad Zidane','dnom':'Ouled Zidane','label_ar':' '},{'id':766,'code_hcp':'06.117.08.23.','label':'Riah','province_code':44,'cercle_code':104,'est_rural':0,'alt_label':'','dnom':'Riah','label_ar':''},{'id':767,'code_hcp':'06.141.01.01.','label':'Anfa (Arrond.)','province_code':38,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Anfa (Arrond.)','label_ar':' ()'},{'id':768,'code_hcp':'06.141.01.03.','label':'El Maarif (Arrond.)','province_code':38,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'El Maarif (Arrond.)','label_ar':' ()'},{'id':769,'code_hcp':'06.141.01.07.','label':'Sidi Belyout (Arrond.)','province_code':38,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Sidi Belyout (Arrond.)','label_ar':'  ()'},{'id':770,'code_hcp':'06.141.01.11.','label':'Al-Fida (Arrond.)','province_code':38,'cercle_code':0,'est_rural':1,'alt_label':'Al Fida','dnom':'Al-Fida (Arrond.)','label_ar':' ()'},{'id':771,'code_hcp':'06.141.01.13.','label':'Mers-Sultan (Arrond.)','province_code':38,'cercle_code':0,'est_rural':1,'alt_label':'Mers Sultan','dnom':'Mers-Sultan (Arrond.)','label_ar':'  ()'},{'id':772,'code_hcp':'06.141.01.21.','label':'An-Seba (Arrond.)','province_code':38,'cercle_code':0,'est_rural':1,'alt_label':'Ain Sebaa','dnom':'An-Seba (Arrond.)','label_ar':'  ()'},{'id':773,'code_hcp':'06.141.01.23.','label':'Assoukhour Assawda (Arrond.)','province_code':38,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Assoukhour Assawda (Arrond.)','label_ar':'  ()'},{'id':774,'code_hcp':'06.141.01.25.','label':'Hay Mohammadi (Arrond.)','province_code':38,'cercle_code':0,'est_rural':1,'alt_label':'Hay Mohammadi','dnom':'Hay Mohammadi (Arrond.)','label_ar':'  ()'},{'id':775,'code_hcp':'06.141.01.31.','label':'Hay-Hassani (Arrond.)','province_code':38,'cercle_code':0,'est_rural':1,'alt_label':'Hay Hassani','dnom':'Hay-Hassani (Arrond.)','label_ar':'  ()'},{'id':776,'code_hcp':'06.141.01.41.','label':'An-Chock (Arrond.)','province_code':38,'cercle_code':0,'est_rural':1,'alt_label':'Ain Chok','dnom':'An-Chock (Arrond.)','label_ar':'  ()'},{'id':777,'code_hcp':'06.141.01.51.','label':'Sidi Bernoussi (Arrond.)','province_code':38,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Sidi Bernoussi (Arrond.)','label_ar':'  ()'},{'id':778,'code_hcp':'06.141.01.53.','label':'Sidi Moumen (Arrond.)','province_code':38,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Sidi Moumen (Arrond.)','label_ar':'  ()'},{'id':779,'code_hcp':'06.141.01.61.','label':"Ben M'Sick (Arrond.)",'province_code':38,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':"Ben M'Sick (Arrond.)",'label_ar':'  ()'},{'id':780,'code_hcp':'06.141.01.63.','label':'Sbata (Arrond.)','province_code':38,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Sbata (Arrond.)','label_ar':' ()'},{'id':781,'code_hcp':'06.141.01.71.','label':'Moulay Rachid (Arrond.)','province_code':38,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Moulay Rachid (Arrond.)','label_ar':'  ()'},{'id':782,'code_hcp':'06.141.01.73.','label':'Sidi Othmane (Arrond.)','province_code':38,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Sidi Othmane (Arrond.)','label_ar':'  ()'},{'id':783,'code_hcp':'06.141.01.81.','label':'Mechouar de Casablanca','province_code':38,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Mechouar de Casablanca (Mun.)','label_ar':'   ()'},{'id':784,'code_hcp':'06.181.01.01.','label':'Azemmour','province_code':40,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Azemmour (Mun.)','label_ar':' ()'},{'id':785,'code_hcp':'06.181.01.03.','label':'El Jadida','province_code':40,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'El Jadida (Mun.)','label_ar':' ()'},{'id':786,'code_hcp':'06.181.01.05.','label':'Lbir Jdid','province_code':40,'cercle_code':0,'est_rural':1,'alt_label':'Labir Jdid','dnom':'Lbir Jdid (Mun.)','label_ar':'  ()'},{'id':787,'code_hcp':'06.181.03.01.','label':'Chtouka','province_code':40,'cercle_code':105,'est_rural':0,'alt_label':'','dnom':'Chtouka','label_ar':''},{'id':788,'code_hcp':'06.181.03.05.','label':'Laghdira','province_code':40,'cercle_code':105,'est_rural':0,'alt_label':'','dnom':'Laghdira','label_ar':''},{'id':789,'code_hcp':'06.181.03.07.','label':'Lamharza Essahel','province_code':40,'cercle_code':105,'est_rural':0,'alt_label':'','dnom':'Lamharza Essahel','label_ar':' '},{'id':790,'code_hcp':'06.181.03.11.','label':'Sidi Ali Ben Hamdouche','province_code':40,'cercle_code':105,'est_rural':0,'alt_label':'','dnom':'Sidi Ali Ben Hamdouche','label_ar':'   '},{'id':791,'code_hcp':'06.181.05.01.','label':'My Abdellah','province_code':40,'cercle_code':106,'est_rural':0,'alt_label':'','dnom':'My Abdellah','label_ar':'  '},{'id':792,'code_hcp':'06.181.05.03.','label':'Oulad Aissa','province_code':40,'cercle_code':106,'est_rural':0,'alt_label':'','dnom':'Oulad Aissa','label_ar':' '},{'id':793,'code_hcp':'06.181.05.05.','label':'Ouled Ghanem','province_code':40,'cercle_code':106,'est_rural':0,'alt_label':'','dnom':'Ouled Ghanem','label_ar':' '},{'id':794,'code_hcp':'06.181.05.07.','label':'Ouled Hcine','province_code':40,'cercle_code':106,'est_rural':0,'alt_label':'','dnom':'Ouled Hcine','label_ar':' '},{'id':795,'code_hcp':'06.181.05.09.','label':'Sidi Abed','province_code':40,'cercle_code':106,'est_rural':0,'alt_label':'','dnom':'Sidi Abed','label_ar':' '},{'id':796,'code_hcp':'06.181.05.11.','label':"Sidi M'Hamed Akhdim",'province_code':40,'cercle_code':106,'est_rural':0,'alt_label':'','dnom':"Sidi M'Hamed Akhdim",'label_ar':'  '},{'id':797,'code_hcp':'06.181.07.03.','label':'Haouzia','province_code':40,'cercle_code':107,'est_rural':0,'alt_label':'','dnom':'Haouzia','label_ar':''},{'id':798,'code_hcp':'06.181.07.09.','label':'Oulad Rahmoune','province_code':40,'cercle_code':107,'est_rural':0,'alt_label':'','dnom':'Oulad Rahmoune','label_ar':' '},{'id':799,'code_hcp':'06.181.09.01.','label':'Boulaouane','province_code':40,'cercle_code':108,'est_rural':0,'alt_label':'','dnom':'Boulaouane','label_ar':''},{'id':800,'code_hcp':'06.181.09.03.','label':'Chaibate','province_code':40,'cercle_code':108,'est_rural':0,'alt_label':'','dnom':'Chaibate','label_ar':''},{'id':801,'code_hcp':'06.181.09.05.','label':'Mettouh','province_code':40,'cercle_code':108,'est_rural':0,'alt_label':'','dnom':'Mettouh','label_ar':''},{'id':802,'code_hcp':'06.181.09.07.','label':'Mogress','province_code':40,'cercle_code':108,'est_rural':0,'alt_label':'','dnom':'Mogress','label_ar':''},{'id':803,'code_hcp':'06.181.09.09.','label':'Oulad Hamdane','province_code':40,'cercle_code':108,'est_rural':0,'alt_label':'','dnom':'Oulad Hamdane','label_ar':' '},{'id':804,'code_hcp':'06.181.09.11.','label':'Oulad Sidi Ali Ben Youssef','province_code':40,'cercle_code':108,'est_rural':0,'alt_label':'','dnom':'Oulad Sidi Ali Ben Youssef','label_ar':'    '},{'id':805,'code_hcp':'06.181.09.13.','label':'Ouled Frej','province_code':40,'cercle_code':108,'est_rural':0,'alt_label':'','dnom':'Ouled Frej','label_ar':' '},{'id':806,'code_hcp':'06.181.09.15.','label':'Sebt Saiss','province_code':40,'cercle_code':108,'est_rural':0,'alt_label':'','dnom':'Sebt Saiss','label_ar':' '},{'id':807,'code_hcp':'06.181.09.17.','label':'Si Hsaien Ben Abderrahmane','province_code':40,'cercle_code':108,'est_rural':0,'alt_label':'','dnom':'Si Hsaien Ben Abderrahmane','label_ar':'    '},{'id':808,'code_hcp':'06.181.09.19.','label':'Sidi Smail','province_code':40,'cercle_code':108,'est_rural':0,'alt_label':'Zaouiat Sidi Ismail','dnom':'Sidi Smail','label_ar':' '},{'id':809,'code_hcp':'06.181.09.21.','label':'Zaouiat Saiss','province_code':40,'cercle_code':108,'est_rural':0,'alt_label':'','dnom':'Zaouiat Saiss','label_ar':' '},{'id':810,'code_hcp':'06.181.09.23.','label':'Zaouiat Lakouacem','province_code':40,'cercle_code':108,'est_rural':0,'alt_label':'','dnom':'Zaouiat Lakouacem','label_ar':' '},{'id':811,'code_hcp':'06.355.01.01.','label':'Lahraouyine','province_code':42,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Lahraouyine (Mun.)','label_ar':' ()'},{'id':812,'code_hcp':'06.355.01.03.','label':'Mediouna','province_code':42,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Mediouna (Mun.)','label_ar':' ()'},{'id':813,'code_hcp':'06.355.01.05.','label':'Tit Mellil','province_code':42,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Tit Mellil (Mun.)','label_ar':'  ()'},{'id':814,'code_hcp':'06.355.03.01.','label':'Al Majjatia Oulad Taleb','province_code':42,'cercle_code':109,'est_rural':0,'alt_label':'','dnom':'Al Majjatia Oulad Taleb','label_ar':'  '},{'id':815,'code_hcp':'06.355.03.05.','label':'Sidi Hajjaj Oued Hassar','province_code':42,'cercle_code':109,'est_rural':0,'alt_label':'','dnom':'Sidi Hajjaj Oued Hassar','label_ar':'   '},{'id':816,'code_hcp':'06.371.01.01.','label':'Mohammadia','province_code':39,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Mohammadia (Mun.)','label_ar':' ()'},{'id':817,'code_hcp':'06.371.01.03.','label':'Ain Harrouda','province_code':39,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Ain Harrouda (Mun.)','label_ar':'  ()'},{'id':818,'code_hcp':'06.371.03.01.','label':'Bni Yakhlef','province_code':39,'cercle_code':0,'est_rural':0,'alt_label':'','dnom':'Bni Yakhlef','label_ar':' '},{'id':819,'code_hcp':'06.371.03.03.','label':'Ech-challalate','province_code':39,'cercle_code':110,'est_rural':0,'alt_label':'','dnom':'Ech-challalate','label_ar':''},{'id':820,'code_hcp':'06.371.03.05.','label':'Sidi Moussa Ben Ali','province_code':39,'cercle_code':110,'est_rural':0,'alt_label':'','dnom':'Sidi Moussa Ben Ali','label_ar':'   '},{'id':821,'code_hcp':'06.371.03.07.','label':'Sidi Moussa Majdoub','province_code':39,'cercle_code':110,'est_rural':0,'alt_label':'Sidi Moussa El Majdoub','dnom':'Sidi Moussa Majdoub','label_ar':'  '},{'id':822,'code_hcp':'06.385.01.01.','label':'Bouskoura','province_code':41,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Bouskoura (Mun.)','label_ar':' ()'},{'id':823,'code_hcp':'06.385.01.02.','label':'Dar Bouazza','province_code':41,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Dar Bouazza (Mun.)','label_ar':'  ()'},{'id':824,'code_hcp':'06.385.01.03.','label':'Nouaceur','province_code':41,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Nouaceur (Mun.)','label_ar':' ()'},{'id':825,'code_hcp':'06.385.03.03.','label':'Oulad Azzouz','province_code':41,'cercle_code':0,'est_rural':0,'alt_label':'','dnom':'Oulad Azzouz','label_ar':' '},{'id':826,'code_hcp':'06.385.03.05.','label':'Oulad Salah','province_code':41,'cercle_code':0,'est_rural':0,'alt_label':'','dnom':'Oulad Salah','label_ar':' '},{'id':827,'code_hcp':'06.461.01.01.','label':'Ben Ahmed','province_code':45,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Ben Ahmed (Mun.)','label_ar':'  ()'},{'id':828,'code_hcp':'06.461.01.05.','label':'El Borouj','province_code':45,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'El Borouj (Mun.)','label_ar':' ()'},{'id':829,'code_hcp':'06.461.01.09.','label':'Loulad','province_code':45,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Loulad (Mun.)','label_ar':' ()'},{'id':830,'code_hcp':'06.461.01.13.','label':"Oulad M'Rah",'province_code':45,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':"Oulad M'Rah (Mun.)",'label_ar':'  ()'},{'id':831,'code_hcp':'06.461.01.15.','label':'Settat','province_code':45,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Settat (Mun.)','label_ar':' ()'},{'id':832,'code_hcp':'06.461.03.02.','label':'Ain Dorbane-Lahlaf','province_code':45,'cercle_code':112,'est_rural':0,'alt_label':'','dnom':'Ain Dorbane-Lahlaf','label_ar':' -'},{'id':833,'code_hcp':'06.461.03.03.','label':'Bouguargouh','province_code':45,'cercle_code':112,'est_rural':0,'alt_label':'','dnom':'Bouguargouh','label_ar':''},{'id':834,'code_hcp':'06.461.03.07.','label':'Lakhzazra','province_code':45,'cercle_code':112,'est_rural':0,'alt_label':'','dnom':'Lakhzazra','label_ar':''},{'id':835,'code_hcp':'06.461.03.09.','label':'Mniaa','province_code':45,'cercle_code':195,'est_rural':0,'alt_label':'','dnom':'Mniaa','label_ar':''},{'id':836,'code_hcp':'06.461.03.11.','label':'Mrizigue','province_code':45,'cercle_code':195,'est_rural':0,'alt_label':'','dnom':'Mrizigue','label_ar':''},{'id':837,'code_hcp':'06.461.03.13.','label':"M'Garto",'province_code':45,'cercle_code':112,'est_rural':0,'alt_label':'','dnom':"M'Garto",'label_ar':''},{'id':838,'code_hcp':'06.461.03.15.','label':"N'Khila",'province_code':45,'cercle_code':112,'est_rural':0,'alt_label':'','dnom':"N'Khila",'label_ar':''},{'id':839,'code_hcp':'06.461.03.17.','label':'Oued Naanaa','province_code':45,'cercle_code':195,'est_rural':0,'alt_label':'','dnom':'Oued Naanaa','label_ar':' '},{'id':840,'code_hcp':'06.461.03.19.','label':'Oulad Chbana','province_code':45,'cercle_code':195,'est_rural':0,'alt_label':'','dnom':'Oulad Chbana','label_ar':' '},{'id':841,'code_hcp':'06.461.03.21.','label':'Oulad Fares','province_code':45,'cercle_code':195,'est_rural':0,'alt_label':'','dnom':'Oulad Fares','label_ar':' '},{'id':842,'code_hcp':'06.461.03.23.','label':"Oulad M'Hamed",'province_code':45,'cercle_code':112,'est_rural':0,'alt_label':"Ouled M'Hamed",'dnom':"Oulad M'Hamed",'label_ar':' '},{'id':843,'code_hcp':'06.461.03.25.','label':'Ras El Ain Chaouia','province_code':45,'cercle_code':195,'est_rural':0,'alt_label':'','dnom':'Ras El Ain Chaouia','label_ar':'  '},{'id':844,'code_hcp':'06.461.03.27.','label':'Sgamna','province_code':45,'cercle_code':195,'est_rural':0,'alt_label':'','dnom':'Sgamna','label_ar':''},{'id':845,'code_hcp':'06.461.03.29.','label':'Sidi Abdelkrim','province_code':45,'cercle_code':112,'est_rural':0,'alt_label':'','dnom':'Sidi Abdelkrim','label_ar':'  '},{'id':846,'code_hcp':'06.461.03.31.','label':'Sidi Dahbi','province_code':45,'cercle_code':112,'est_rural':0,'alt_label':'','dnom':'Sidi Dahbi','label_ar':' '},{'id':847,'code_hcp':'06.461.03.33.','label':'Sidi Hajjaj','province_code':45,'cercle_code':195,'est_rural':0,'alt_label':'','dnom':'Sidi Hajjaj','label_ar':' '},{'id':848,'code_hcp':'06.461.07.01.','label':'Ain Blal','province_code':45,'cercle_code':113,'est_rural':0,'alt_label':'','dnom':'Ain Blal','label_ar':' '},{'id':849,'code_hcp':'06.461.07.03.','label':'Bni Khloug','province_code':45,'cercle_code':113,'est_rural':0,'alt_label':'','dnom':'Bni Khloug','label_ar':' '},{'id':850,'code_hcp':'06.461.07.05.','label':'Dar Chaffai','province_code':45,'cercle_code':113,'est_rural':0,'alt_label':'','dnom':'Dar Chaffai','label_ar':' '},{'id':851,'code_hcp':'06.461.07.07.','label':'Laqraqra','province_code':45,'cercle_code':113,'est_rural':0,'alt_label':'','dnom':'Laqraqra','label_ar':''},{'id':852,'code_hcp':'06.461.07.09.','label':'Meskoura','province_code':45,'cercle_code':113,'est_rural':0,'alt_label':'','dnom':'Meskoura','label_ar':''},{'id':853,'code_hcp':'06.461.07.11.','label':'Oulad Amer','province_code':45,'cercle_code':113,'est_rural':0,'alt_label':'','dnom':'Oulad Amer','label_ar':' '},{'id':854,'code_hcp':'06.461.07.13.','label':'Oulad Bouali Nouaja','province_code':45,'cercle_code':113,'est_rural':0,'alt_label':'','dnom':'Oulad Bouali Nouaja','label_ar':'  '},{'id':855,'code_hcp':'06.461.07.15.','label':'Oulad Fares El Halla','province_code':45,'cercle_code':113,'est_rural':0,'alt_label':'','dnom':'Oulad Fares El Halla','label_ar':'  '},{'id':856,'code_hcp':'06.461.07.17.','label':'Oulad Freiha','province_code':45,'cercle_code':113,'est_rural':0,'alt_label':'','dnom':'Oulad Freiha','label_ar':' '},{'id':857,'code_hcp':'06.461.07.19.','label':'Sidi Ahmed El Khadir','province_code':45,'cercle_code':113,'est_rural':0,'alt_label':'','dnom':'Sidi Ahmed El Khadir','label_ar':'  '},{'id':858,'code_hcp':'06.461.07.21.','label':'Sidi Boumehdi','province_code':45,'cercle_code':113,'est_rural':0,'alt_label':'','dnom':'Sidi Boumehdi','label_ar':' '},{'id':859,'code_hcp':'06.461.09.03.','label':'Bni Yagrine','province_code':45,'cercle_code':196,'est_rural':0,'alt_label':'','dnom':'Bni Yagrine','label_ar':' '},{'id':860,'code_hcp':'06.461.09.05.','label':'Gdana','province_code':45,'cercle_code':114,'est_rural':0,'alt_label':'','dnom':'Gdana','label_ar':''},{'id':861,'code_hcp':'06.461.09.07.','label':'Guisser','province_code':45,'cercle_code':196,'est_rural':0,'alt_label':'','dnom':'Guisser','label_ar':''},{'id':862,'code_hcp':'06.461.09.09.','label':'Khemisset Chaouia','province_code':45,'cercle_code':114,'est_rural':0,'alt_label':'','dnom':'Khemisset Chaouia','label_ar':' '},{'id':863,'code_hcp':'06.461.09.11.','label':'Lahouaza','province_code':45,'cercle_code':114,'est_rural':0,'alt_label':'','dnom':'Lahouaza','label_ar':''},{'id':864,'code_hcp':'06.461.09.13.','label':'Machraa Ben Abbou','province_code':45,'cercle_code':196,'est_rural':0,'alt_label':'','dnom':'Machraa Ben Abbou','label_ar':'  '},{'id':865,'code_hcp':'06.461.09.14.','label':'Mzamza Janoubia','province_code':45,'cercle_code':114,'est_rural':0,'alt_label':'','dnom':'Mzamza Janoubia','label_ar':' '},{'id':866,'code_hcp':'06.461.09.15.','label':'Mzoura','province_code':45,'cercle_code':114,'est_rural':0,'alt_label':'','dnom':'Mzoura','label_ar':''},{'id':867,'code_hcp':'06.461.09.19.','label':'Oulad Said','province_code':45,'cercle_code':114,'est_rural':0,'alt_label':'','dnom':'Oulad Said','label_ar':' '},{'id':868,'code_hcp':'06.461.09.21.','label':'Oulad Sghir','province_code':45,'cercle_code':196,'est_rural':0,'alt_label':'','dnom':'Oulad Sghir','label_ar':' '},{'id':869,'code_hcp':'06.461.09.23.','label':'Rima','province_code':45,'cercle_code':196,'est_rural':0,'alt_label':'','dnom':'Rima','label_ar':''},{'id':870,'code_hcp':'06.461.09.25.','label':'Sidi El Aidi','province_code':45,'cercle_code':114,'est_rural':0,'alt_label':'','dnom':'Sidi El Aidi','label_ar':' '},{'id':871,'code_hcp':'06.461.09.27.','label':'Sidi Mohammed Ben Rahal','province_code':45,'cercle_code':196,'est_rural':0,'alt_label':'','dnom':'Sidi Mohammed Ben Rahal','label_ar':'   '},{'id':872,'code_hcp':'06.461.09.31.','label':'Toualet','province_code':45,'cercle_code':196,'est_rural':0,'alt_label':'','dnom':'Toualet','label_ar':''},{'id':873,'code_hcp':'06.467.01.07.','label':'Sidi Bennour','province_code':46,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Sidi Bennour (Mun.)','label_ar':'  ()'},{'id':874,'code_hcp':'06.467.01.09.','label':'Zemamra','province_code':46,'cercle_code':0,'est_rural':1,'alt_label':'Zmamra','dnom':'Zemamra (Mun.)','label_ar':' ()'},{'id':875,'code_hcp':'06.467.07.01.','label':'Bni Hilal','province_code':46,'cercle_code':198,'est_rural':0,'alt_label':'','dnom':'Bni Hilal','label_ar':' '},{'id':876,'code_hcp':'06.467.07.03.','label':'Bni Tsiriss','province_code':46,'cercle_code':198,'est_rural':0,'alt_label':'','dnom':'Bni Tsiriss','label_ar':' '},{'id':877,'code_hcp':'06.467.07.05.','label':'Bouhmame','province_code':46,'cercle_code':115,'est_rural':0,'alt_label':'','dnom':'Bouhmame','label_ar':''},{'id':878,'code_hcp':'06.467.07.07.','label':'Jabria','province_code':46,'cercle_code':115,'est_rural':0,'alt_label':'','dnom':'Jabria','label_ar':''},{'id':879,'code_hcp':'06.467.07.09.','label':'Khmis Ksiba','province_code':46,'cercle_code':198,'est_rural':0,'alt_label':'','dnom':'Khmis Ksiba','label_ar':' '},{'id':880,'code_hcp':'06.467.07.11.','label':'Koudiat Bni Dghough','province_code':46,'cercle_code':199,'est_rural':0,'alt_label':'','dnom':'Koudiat Bni Dghough','label_ar':'  '},{'id':881,'code_hcp':'06.467.07.13.','label':'Kridid','province_code':46,'cercle_code':199,'est_rural':0,'alt_label':'','dnom':'Kridid','label_ar':''},{'id':882,'code_hcp':'06.467.07.15.','label':'Laagagcha','province_code':46,'cercle_code':199,'est_rural':0,'alt_label':'','dnom':'Laagagcha','label_ar':''},{'id':883,'code_hcp':'06.467.07.17.','label':'Laamria','province_code':46,'cercle_code':198,'est_rural':0,'alt_label':'','dnom':'Laamria','label_ar':''},{'id':884,'code_hcp':'06.467.07.19.','label':'Laaounate','province_code':46,'cercle_code':198,'est_rural':0,'alt_label':'','dnom':'Laaounate','label_ar':''},{'id':885,'code_hcp':'06.467.07.21.','label':'Laatatra','province_code':46,'cercle_code':115,'est_rural':0,'alt_label':'','dnom':'Laatatra','label_ar':''},{'id':886,'code_hcp':'06.467.07.23.','label':'Lmechrek','province_code':46,'cercle_code':115,'est_rural':0,'alt_label':'','dnom':'Lmechrek','label_ar':''},{'id':887,'code_hcp':'06.467.07.25.','label':'Metrane','province_code':46,'cercle_code':198,'est_rural':0,'alt_label':'','dnom':'Metrane','label_ar':''},{'id':888,'code_hcp':'06.467.07.27.','label':"M'Tal",'province_code':46,'cercle_code':115,'est_rural':0,'alt_label':'','dnom':"M'Tal",'label_ar':''},{'id':889,'code_hcp':'06.467.07.29.','label':'Oulad Amrane','province_code':46,'cercle_code':199,'est_rural':0,'alt_label':'','dnom':'Oulad Amrane','label_ar':' '},{'id':890,'code_hcp':'06.467.07.31.','label':'Oulad Boussaken','province_code':46,'cercle_code':198,'est_rural':0,'alt_label':'','dnom':'Oulad Boussaken','label_ar':' '},{'id':891,'code_hcp':'06.467.07.33.','label':'Oulad Si Bouhya','province_code':46,'cercle_code':115,'est_rural':0,'alt_label':'','dnom':'Oulad Si Bouhya','label_ar':'  '},{'id':892,'code_hcp':'06.467.07.35.','label':'Tamda','province_code':46,'cercle_code':199,'est_rural':0,'alt_label':'','dnom':'Tamda','label_ar':''},{'id':893,'code_hcp':'06.467.11.01.','label':'Laghnadra','province_code':46,'cercle_code':116,'est_rural':0,'alt_label':'','dnom':'Laghnadra','label_ar':''},{'id':894,'code_hcp':'06.467.11.03.','label':'Lgharbia','province_code':46,'cercle_code':116,'est_rural':0,'alt_label':'','dnom':'Lgharbia','label_ar':''},{'id':895,'code_hcp':'06.467.11.05.','label':'Loualidia','province_code':46,'cercle_code':0,'est_rural':0,'alt_label':'Oualidia','dnom':'Loualidia','label_ar':''},{'id':896,'code_hcp':'06.467.11.07.','label':'Oulad Sbaita','province_code':46,'cercle_code':116,'est_rural':0,'alt_label':'','dnom':'Oulad Sbaita','label_ar':' '},{'id':897,'code_hcp':'06.467.11.09.','label':'Saniat Berguig','province_code':46,'cercle_code':116,'est_rural':0,'alt_label':'','dnom':'Saniat Berguig','label_ar':' '},{'id':898,'code_hcp':'07.041.01.01.','label':'Ait Ourir','province_code':49,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Ait Ourir (Mun.)','label_ar':'  ()'},{'id':899,'code_hcp':'07.041.01.03.','label':'Amizmiz','province_code':49,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Amizmiz (Mun.)','label_ar':' ()'},{'id':900,'code_hcp':'07.041.01.09.','label':'Tahannaout','province_code':49,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Tahannaout (Mun.)','label_ar':' ()'},{'id':901,'code_hcp':'07.041.03.05.','label':'Ait Faska','province_code':49,'cercle_code':117,'est_rural':0,'alt_label':'','dnom':'Ait Faska','label_ar':' '},{'id':902,'code_hcp':'07.041.03.09.','label':'Ait Sidi Daoud','province_code':49,'cercle_code':117,'est_rural':0,'alt_label':'','dnom':'Ait Sidi Daoud','label_ar':'  '},{'id':903,'code_hcp':'07.041.03.11.','label':'Ghmate','province_code':49,'cercle_code':117,'est_rural':0,'alt_label':'','dnom':'Ghmate','label_ar':''},{'id':904,'code_hcp':'07.041.03.13.','label':'Iguerferouane','province_code':49,'cercle_code':117,'est_rural':0,'alt_label':'','dnom':'Iguerferouane','label_ar':''},{'id':905,'code_hcp':'07.041.03.15.','label':'Sidi Abdallah Ghiat','province_code':49,'cercle_code':117,'est_rural':0,'alt_label':'Sidi Abdellah Ghiat','dnom':'Sidi Abdallah Ghiat','label_ar':'   '},{'id':906,'code_hcp':'07.041.03.19.','label':'Tamazouzte','province_code':49,'cercle_code':117,'est_rural':0,'alt_label':'','dnom':'Tamazouzte','label_ar':''},{'id':907,'code_hcp':'07.041.03.23.','label':'Tidili Mesfioua','province_code':49,'cercle_code':117,'est_rural':0,'alt_label':'','dnom':'Tidili Mesfioua','label_ar':' '},{'id':908,'code_hcp':'07.041.05.01.','label':'Amghras','province_code':49,'cercle_code':118,'est_rural':0,'alt_label':'','dnom':'Amghras','label_ar':''},{'id':909,'code_hcp':'07.041.05.05.','label':'Anougal','province_code':49,'cercle_code':118,'est_rural':0,'alt_label':'','dnom':'Anougal','label_ar':''},{'id':910,'code_hcp':'07.041.05.07.','label':'Azgour','province_code':49,'cercle_code':118,'est_rural':0,'alt_label':'','dnom':'Azgour','label_ar':''},{'id':911,'code_hcp':'07.041.05.09.','label':'Dar Jamaa','province_code':49,'cercle_code':118,'est_rural':0,'alt_label':'','dnom':'Dar Jamaa','label_ar':' '},{'id':912,'code_hcp':'07.041.05.11.','label':'Lalla Takarkoust','province_code':49,'cercle_code':118,'est_rural':0,'alt_label':'','dnom':'Lalla Takarkoust','label_ar':' '},{'id':913,'code_hcp':'07.041.05.13.','label':'Ouazguita','province_code':49,'cercle_code':118,'est_rural':0,'alt_label':'','dnom':'Ouazguita','label_ar':''},{'id':914,'code_hcp':'07.041.05.15.','label':'Oulad Mtaa','province_code':49,'cercle_code':118,'est_rural':0,'alt_label':'','dnom':'Oulad Mtaa','label_ar':' '},{'id':915,'code_hcp':'07.041.05.17.','label':'Sidi Badhaj','province_code':49,'cercle_code':118,'est_rural':0,'alt_label':'','dnom':'Sidi Badhaj','label_ar':'  '},{'id':916,'code_hcp':'07.041.05.19.','label':'Tizguine','province_code':49,'cercle_code':118,'est_rural':0,'alt_label':'','dnom':'Tizguine','label_ar':''},{'id':917,'code_hcp':'07.041.07.01.','label':'Aghbar','province_code':49,'cercle_code':119,'est_rural':0,'alt_label':'','dnom':'Aghbar','label_ar':''},{'id':918,'code_hcp':'07.041.07.03.','label':'Asni','province_code':49,'cercle_code':119,'est_rural':0,'alt_label':'','dnom':'Asni','label_ar':''},{'id':919,'code_hcp':'07.041.07.05.','label':'Ighil','province_code':49,'cercle_code':119,'est_rural':0,'alt_label':'','dnom':'Ighil','label_ar':''},{'id':920,'code_hcp':'07.041.07.07.','label':'Ijoukak','province_code':49,'cercle_code':119,'est_rural':0,'alt_label':'','dnom':'Ijoukak','label_ar':''},{'id':921,'code_hcp':'07.041.07.09.','label':'Imgdal','province_code':49,'cercle_code':119,'est_rural':0,'alt_label':'','dnom':'Imgdal','label_ar':''},{'id':922,'code_hcp':'07.041.07.11.','label':'Ouirgane','province_code':49,'cercle_code':119,'est_rural':0,'alt_label':'','dnom':'Ouirgane','label_ar':''},{'id':923,'code_hcp':'07.041.07.13.','label':"Talat N'Yaaqoub",'province_code':49,'cercle_code':119,'est_rural':0,'alt_label':'','dnom':"Talat N'Yaaqoub",'label_ar':' '},{'id':924,'code_hcp':'07.041.09.01.','label':'Moulay Brahim','province_code':49,'cercle_code':120,'est_rural':0,'alt_label':'','dnom':'Moulay Brahim','label_ar':' '},{'id':925,'code_hcp':'07.041.09.03.','label':'Oukaimden','province_code':49,'cercle_code':120,'est_rural':0,'alt_label':'','dnom':'Oukaimden','label_ar':''},{'id':926,'code_hcp':'07.041.09.05.','label':'Ourika','province_code':49,'cercle_code':120,'est_rural':0,'alt_label':'','dnom':'Ourika','label_ar':''},{'id':927,'code_hcp':'07.041.09.07.','label':'Sti Fadma','province_code':49,'cercle_code':120,'est_rural':0,'alt_label':'','dnom':'Sti Fadma','label_ar':' '},{'id':928,'code_hcp':'07.041.09.11.','label':'Tameslohte','province_code':49,'cercle_code':120,'est_rural':0,'alt_label':'','dnom':'Tameslohte','label_ar':''},{'id':929,'code_hcp':'07.041.09.13.','label':'Aghouatim','province_code':49,'cercle_code':120,'est_rural':0,'alt_label':'','dnom':'Aghouatim','label_ar':''},{'id':930,'code_hcp':'07.041.11.01.','label':'Abadou','province_code':49,'cercle_code':121,'est_rural':0,'alt_label':'','dnom':'Abadou','label_ar':''},{'id':931,'code_hcp':'07.041.11.03.','label':'Ait Aadel','province_code':49,'cercle_code':121,'est_rural':0,'alt_label':'','dnom':'Ait Aadel','label_ar':' '},{'id':932,'code_hcp':'07.041.11.07.','label':'Ait Hkim-Ait Yzid','province_code':49,'cercle_code':121,'est_rural':0,'alt_label':'Ait Hkim Ait Yzid','dnom':'Ait Hkim-Ait Yzid','label_ar':'  -   '},{'id':933,'code_hcp':'07.041.11.17.','label':'Tamaguert','province_code':49,'cercle_code':121,'est_rural':0,'alt_label':'','dnom':'Tamaguert','label_ar':''},{'id':934,'code_hcp':'07.041.11.21.','label':'Tazart','province_code':49,'cercle_code':121,'est_rural':0,'alt_label':'','dnom':'Tazart','label_ar':''},{'id':935,'code_hcp':'07.041.11.25.','label':'Tighedouine','province_code':49,'cercle_code':121,'est_rural':0,'alt_label':'','dnom':'Tighedouine','label_ar':''},{'id':936,'code_hcp':'07.041.11.27.','label':'Touama','province_code':49,'cercle_code':121,'est_rural':0,'alt_label':'','dnom':'Touama','label_ar':''},{'id':937,'code_hcp':'07.041.11.29.','label':'Zerkten','province_code':49,'cercle_code':121,'est_rural':0,'alt_label':'','dnom':'Zerkten','label_ar':''},{'id':938,'code_hcp':'07.161.01.01.','label':'Chichaoua','province_code':48,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Chichaoua (Mun.)','label_ar':' ()'},{'id':939,'code_hcp':'07.161.01.03.','label':'Imintanoute','province_code':48,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Imintanoute (Mun.)','label_ar':' ()'},{'id':940,'code_hcp':'07.161.03.01.','label':'Ahdil','province_code':48,'cercle_code':122,'est_rural':0,'alt_label':'','dnom':'Ahdil','label_ar':''},{'id':941,'code_hcp':'07.161.03.03.','label':'Ait Hadi','province_code':48,'cercle_code':122,'est_rural':0,'alt_label':'','dnom':'Ait Hadi','label_ar':' '},{'id':942,'code_hcp':'07.161.03.05.','label':'Lamzoudia','province_code':48,'cercle_code':122,'est_rural':0,'alt_label':'','dnom':'Lamzoudia','label_ar':''},{'id':943,'code_hcp':'07.161.03.07.','label':'Oulad Moumna','province_code':48,'cercle_code':122,'est_rural':0,'alt_label':'','dnom':'Oulad Moumna','label_ar':' '},{'id':944,'code_hcp':'07.161.03.09.','label':'Saidate','province_code':48,'cercle_code':122,'est_rural':0,'alt_label':'','dnom':'Saidate','label_ar':''},{'id':945,'code_hcp':'07.161.03.11.','label':"Sid L'Mokhtar",'province_code':48,'cercle_code':122,'est_rural':0,'alt_label':'','dnom':"Sid L'Mokhtar",'label_ar':' '},{'id':946,'code_hcp':'07.161.03.13.','label':'Sidi Bouzid Arragragui','province_code':48,'cercle_code':122,'est_rural':0,'alt_label':'','dnom':'Sidi Bouzid Arragragui','label_ar':'  '},{'id':947,'code_hcp':'07.161.03.15.','label':"Sidi M'Hamed Dalil",'province_code':48,'cercle_code':122,'est_rural':0,'alt_label':'','dnom':"Sidi M'Hamed Dalil",'label_ar':'  '},{'id':948,'code_hcp':'07.161.05.01.','label':'Afalla Issen','province_code':48,'cercle_code':123,'est_rural':0,'alt_label':'','dnom':'Afalla Issen','label_ar':' '},{'id':949,'code_hcp':'07.161.05.03.','label':'Ain Tazitounte','province_code':48,'cercle_code':123,'est_rural':0,'alt_label':'','dnom':'Ain Tazitounte','label_ar':' '},{'id':950,'code_hcp':'07.161.05.05.','label':'Ait Haddou Youssef','province_code':48,'cercle_code':123,'est_rural':0,'alt_label':'','dnom':'Ait Haddou Youssef','label_ar':'  '},{'id':951,'code_hcp':'07.161.05.07.','label':'Irohalen','province_code':48,'cercle_code':123,'est_rural':0,'alt_label':'','dnom':'Irohalen','label_ar':''},{'id':952,'code_hcp':'07.161.05.09.','label':'Lalla Aaziza','province_code':48,'cercle_code':123,'est_rural':0,'alt_label':'','dnom':'Lalla Aaziza','label_ar':' '},{'id':953,'code_hcp':'07.161.05.11.','label':'Nfifa','province_code':48,'cercle_code':123,'est_rural':0,'alt_label':'','dnom':'Nfifa','label_ar':''},{'id':954,'code_hcp':'07.161.05.13.','label':"Ouad L'bour",'province_code':48,'cercle_code':123,'est_rural':0,'alt_label':'','dnom':"Ouad L'bour",'label_ar':' '},{'id':955,'code_hcp':'07.161.05.15.','label':'Sidi Ghanem','province_code':48,'cercle_code':123,'est_rural':0,'alt_label':'','dnom':'Sidi Ghanem','label_ar':' '},{'id':956,'code_hcp':'07.161.05.17.','label':'Timezgadiouine','province_code':48,'cercle_code':123,'est_rural':0,'alt_label':'','dnom':'Timezgadiouine','label_ar':''},{'id':957,'code_hcp':'07.161.07.01.','label':'Adassil','province_code':48,'cercle_code':124,'est_rural':0,'alt_label':'','dnom':'Adassil','label_ar':''},{'id':958,'code_hcp':'07.161.07.03.','label':'Assif El Mal','province_code':48,'cercle_code':124,'est_rural':0,'alt_label':'','dnom':'Assif El Mal','label_ar':' '},{'id':959,'code_hcp':'07.161.07.05.','label':'Douirane','province_code':48,'cercle_code':124,'est_rural':0,'alt_label':'','dnom':'Douirane','label_ar':''},{'id':960,'code_hcp':'07.161.07.07.','label':'Gmassa','province_code':48,'cercle_code':124,'est_rural':0,'alt_label':'','dnom':'Gmassa','label_ar':''},{'id':961,'code_hcp':'07.161.07.09.','label':'Imindounit','province_code':48,'cercle_code':124,'est_rural':0,'alt_label':'','dnom':'Imindounit','label_ar':''},{'id':962,'code_hcp':'07.161.07.11.','label':'Majjat','province_code':48,'cercle_code':124,'est_rural':0,'alt_label':'','dnom':'Majjat','label_ar':''},{'id':963,'code_hcp':'07.161.07.13.','label':"M'Zouda",'province_code':48,'cercle_code':124,'est_rural':0,'alt_label':'','dnom':"M'Zouda",'label_ar':''},{'id':964,'code_hcp':'07.161.07.15.','label':'Zaouia Annahlia','province_code':48,'cercle_code':124,'est_rural':0,'alt_label':'','dnom':'Zaouia Annahlia','label_ar':' '},{'id':965,'code_hcp':'07.161.09.01.','label':'Bouabout','province_code':48,'cercle_code':125,'est_rural':0,'alt_label':'','dnom':'Bouabout','label_ar':''},{'id':966,'code_hcp':'07.161.09.03.','label':'Bouabout Amdlane','province_code':48,'cercle_code':125,'est_rural':0,'alt_label':'','dnom':'Bouabout Amdlane','label_ar':' '},{'id':967,'code_hcp':'07.161.09.05.','label':'Ichamraren','province_code':48,'cercle_code':125,'est_rural':0,'alt_label':'','dnom':'Ichamraren','label_ar':''},{'id':968,'code_hcp':'07.161.09.07.','label':'Kouzemt','province_code':48,'cercle_code':125,'est_rural':0,'alt_label':'','dnom':'Kouzemt','label_ar':''},{'id':969,'code_hcp':'07.161.09.09.','label':'Rahhala','province_code':48,'cercle_code':125,'est_rural':0,'alt_label':'','dnom':'Rahhala','label_ar':''},{'id':970,'code_hcp':'07.161.09.11.','label':'Sidi Abdelmoumen','province_code':48,'cercle_code':125,'est_rural':0,'alt_label':'','dnom':'Sidi Abdelmoumen','label_ar':'  '},{'id':971,'code_hcp':'07.161.09.13.','label':'Taouloukoult','province_code':48,'cercle_code':125,'est_rural':0,'alt_label':'','dnom':'Taouloukoult','label_ar':''},{'id':972,'code_hcp':'07.161.09.15.','label':'Timlilt','province_code':48,'cercle_code':125,'est_rural':0,'alt_label':'','dnom':'Timlilt','label_ar':''},{'id':973,'code_hcp':'07.191.01.03.','label':'El Kela des Sraghna','province_code':50,'cercle_code':0,'est_rural':1,'alt_label':'Kelaat Sraghna','dnom':'El Kela des Sraghna (Mun.)','label_ar':'  ()'},{'id':974,'code_hcp':'07.191.01.05.','label':'Laattaouia','province_code':50,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Laattaouia (Mun.)','label_ar':' ()'},{'id':975,'code_hcp':'07.191.01.07.','label':'Sidi Rahhal','province_code':50,'cercle_code':0,'est_rural':1,'alt_label':'Sidi Rahal','dnom':'Sidi Rahhal (Mun.)','label_ar':'  ()'},{'id':976,'code_hcp':'07.191.01.09.','label':'Tamallalt','province_code':50,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Tamallalt (Mun.)','label_ar':' ()'},{'id':977,'code_hcp':'07.191.03.01.','label':'Chtaiba','province_code':50,'cercle_code':209,'est_rural':0,'alt_label':'','dnom':'Chtaiba','label_ar':''},{'id':978,'code_hcp':'07.191.03.03.','label':'Eddachra','province_code':50,'cercle_code':209,'est_rural':0,'alt_label':'','dnom':'Eddachra','label_ar':''},{'id':979,'code_hcp':'07.191.03.05.','label':'El Aamria','province_code':50,'cercle_code':209,'est_rural':0,'alt_label':'','dnom':'El Aamria','label_ar':''},{'id':980,'code_hcp':'07.191.03.07.','label':'El Marbouh','province_code':50,'cercle_code':126,'est_rural':0,'alt_label':'El Merbouh','dnom':'El Marbouh','label_ar':''},{'id':981,'code_hcp':'07.191.03.09.','label':'Errafiaya','province_code':50,'cercle_code':209,'est_rural':0,'alt_label':'','dnom':'Errafiaya','label_ar':''},{'id':982,'code_hcp':'07.191.03.11.','label':'Hiadna','province_code':50,'cercle_code':126,'est_rural':0,'alt_label':'Lahyadna','dnom':'Hiadna','label_ar':''},{'id':983,'code_hcp':'07.191.03.13.','label':'Lounasda','province_code':50,'cercle_code':126,'est_rural':0,'alt_label':'','dnom':'Lounasda','label_ar':''},{'id':984,'code_hcp':'07.191.03.15.','label':'Mayate','province_code':50,'cercle_code':126,'est_rural':0,'alt_label':'','dnom':'Mayate','label_ar':''},{'id':985,'code_hcp':'07.191.03.17.','label':'Oulad Aamer','province_code':50,'cercle_code':209,'est_rural':0,'alt_label':'','dnom':'Oulad Aamer','label_ar':' '},{'id':986,'code_hcp':'07.191.03.19.','label':'Oulad Bouali Loued','province_code':50,'cercle_code':209,'est_rural':0,'alt_label':'','dnom':'Oulad Bouali Loued','label_ar':'  '},{'id':987,'code_hcp':'07.191.03.21.','label':'Oulad Cherki','province_code':50,'cercle_code':126,'est_rural':0,'alt_label':'','dnom':'Oulad Cherki','label_ar':' '},{'id':988,'code_hcp':'07.191.03.23.','label':'Oulad El Garne','province_code':50,'cercle_code':126,'est_rural':0,'alt_label':'Oulad Lgern','dnom':'Oulad El Garne','label_ar':' '},{'id':989,'code_hcp':'07.191.03.25.','label':'Oulad Massaoud','province_code':50,'cercle_code':209,'est_rural':0,'alt_label':'','dnom':'Oulad Massaoud','label_ar':' '},{'id':990,'code_hcp':'07.191.03.27.','label':'Oulad Msabbel','province_code':50,'cercle_code':209,'est_rural':0,'alt_label':'','dnom':'Oulad Msabbel','label_ar':' '},{'id':991,'code_hcp':'07.191.03.29.','label':'Oulad Sbih','province_code':50,'cercle_code':126,'est_rural':0,'alt_label':'','dnom':'Oulad Sbih','label_ar':' '},{'id':992,'code_hcp':'07.191.03.31.','label':'Oulad Yaacoub','province_code':50,'cercle_code':126,'est_rural':0,'alt_label':'','dnom':'Oulad Yaacoub','label_ar':' '},{'id':993,'code_hcp':'07.191.03.33.','label':'Oulad Zarrad','province_code':50,'cercle_code':126,'est_rural':0,'alt_label':'','dnom':'Oulad Zarrad','label_ar':' '},{'id':994,'code_hcp':'07.191.03.35.','label':'Sidi El Hattab','province_code':50,'cercle_code':209,'est_rural':0,'alt_label':'','dnom':'Sidi El Hattab','label_ar':' '},{'id':995,'code_hcp':'07.191.03.37.','label':'Sidi Moussa','province_code':50,'cercle_code':209,'est_rural':0,'alt_label':'','dnom':'Sidi Moussa','label_ar':' '},{'id':996,'code_hcp':'07.191.03.39.','label':'Taouzint','province_code':50,'cercle_code':209,'est_rural':0,'alt_label':'','dnom':'Taouzint','label_ar':''},{'id':997,'code_hcp':'07.191.03.41.','label':'Znada','province_code':50,'cercle_code':126,'est_rural':0,'alt_label':'','dnom':'Znada','label_ar':''},{'id':998,'code_hcp':'07.191.05.01.','label':'Assahrij','province_code':50,'cercle_code':208,'est_rural':0,'alt_label':'','dnom':'Assahrij','label_ar':''},{'id':999,'code_hcp':'07.191.05.03.','label':'Bouya Omar','province_code':50,'cercle_code':127,'est_rural':0,'alt_label':'','dnom':'Bouya Omar','label_ar':' '},{'id':1000,'code_hcp':'07.191.05.05.','label':'Choara','province_code':50,'cercle_code':127,'est_rural':0,'alt_label':'','dnom':'Choara','label_ar':''},{'id':1001,'code_hcp':'07.191.05.07.','label':'Dzouz','province_code':50,'cercle_code':127,'est_rural':0,'alt_label':'','dnom':'Dzouz','label_ar':''},{'id':1002,'code_hcp':'07.191.05.09.','label':'Fraita','province_code':50,'cercle_code':127,'est_rural':0,'alt_label':'','dnom':'Fraita','label_ar':''},{'id':1003,'code_hcp':'07.191.05.15.','label':'Laatamna','province_code':50,'cercle_code':127,'est_rural':0,'alt_label':'','dnom':'Laatamna','label_ar':''},{'id':1004,'code_hcp':'07.191.05.16.','label':'Laattaouia Ech-chaibia','province_code':50,'cercle_code':127,'est_rural':0,'alt_label':'','dnom':'Laattaouia Ech-chaibia','label_ar':' '},{'id':1005,'code_hcp':'07.191.05.17.','label':'Louad Lakhdar','province_code':50,'cercle_code':208,'est_rural':0,'alt_label':'','dnom':'Louad Lakhdar','label_ar':' '},{'id':1006,'code_hcp':'07.191.05.19.','label':"M'Zem Sanhaja",'province_code':50,'cercle_code':208,'est_rural':0,'alt_label':'','dnom':"M'Zem Sanhaja",'label_ar':' '},{'id':1007,'code_hcp':'07.191.05.21.','label':'Ouargui','province_code':50,'cercle_code':127,'est_rural':0,'alt_label':'','dnom':'Ouargui','label_ar':''},{'id':1008,'code_hcp':'07.191.05.23.','label':'Oulad Aarrad','province_code':50,'cercle_code':127,'est_rural':0,'alt_label':'','dnom':'Oulad Aarrad','label_ar':' '},{'id':1009,'code_hcp':'07.191.05.25.','label':'Oulad Khallouf','province_code':50,'cercle_code':208,'est_rural':0,'alt_label':'','dnom':'Oulad Khallouf','label_ar':' '},{'id':1010,'code_hcp':'07.191.05.27.','label':'Sidi Aissa Ben Slimane','province_code':50,'cercle_code':208,'est_rural':0,'alt_label':'','dnom':'Sidi Aissa Ben Slimane','label_ar':'   '},{'id':1011,'code_hcp':'07.191.05.29.','label':'Sour El Aaz','province_code':50,'cercle_code':208,'est_rural':0,'alt_label':'','dnom':'Sour El Aaz','label_ar':' '},{'id':1012,'code_hcp':'07.191.07.11.','label':'Jbiel','province_code':50,'cercle_code':128,'est_rural':0,'alt_label':'','dnom':'Jbiel','label_ar':''},{'id':1013,'code_hcp':'07.191.07.13.','label':'Jouala','province_code':50,'cercle_code':128,'est_rural':0,'alt_label':'','dnom':'Jouala','label_ar':''},{'id':1014,'code_hcp':'07.191.07.31.','label':'Zemrane','province_code':50,'cercle_code':128,'est_rural':0,'alt_label':'','dnom':'Zemrane','label_ar':''},{'id':1015,'code_hcp':'07.191.07.33.','label':'Zemrane Charqia','province_code':50,'cercle_code':128,'est_rural':0,'alt_label':'Zemrane Cherqia','dnom':'Zemrane Charqia','label_ar':' '},{'id':1016,'code_hcp':'07.211.01.01.','label':'Ait Daoud','province_code':51,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Ait Daoud (Mun.)','label_ar':'  ()'},{'id':1017,'code_hcp':'07.211.01.03.','label':'El Hanchane','province_code':51,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'El Hanchane (Mun.)','label_ar':' ()'},{'id':1018,'code_hcp':'07.211.01.05.','label':'Essaouira','province_code':51,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Essaouira (Mun.)','label_ar':' ()'},{'id':1019,'code_hcp':'07.211.01.07.','label':'Talmest','province_code':51,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Talmest (Mun.)','label_ar':' ()'},{'id':1020,'code_hcp':'07.211.01.09.','label':'Tamanar','province_code':51,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Tamanar (Mun.)','label_ar':' ()'},{'id':1021,'code_hcp':'07.211.03.01.','label':'Ait Said','province_code':51,'cercle_code':210,'est_rural':0,'alt_label':'','dnom':'Ait Said','label_ar':' '},{'id':1022,'code_hcp':'07.211.03.03.','label':'Aquermoud','province_code':51,'cercle_code':129,'est_rural':0,'alt_label':'','dnom':'Aquermoud','label_ar':''},{'id':1023,'code_hcp':'07.211.03.05.','label':'Had Dra','province_code':51,'cercle_code':129,'est_rural':0,'alt_label':'','dnom':'Had Dra','label_ar':' '},{'id':1024,'code_hcp':'07.211.03.07.','label':'Kechoula','province_code':51,'cercle_code':210,'est_rural':0,'alt_label':'','dnom':'Kechoula','label_ar':''},{'id':1025,'code_hcp':'07.211.03.09.','label':'Korimate','province_code':51,'cercle_code':210,'est_rural':0,'alt_label':'','dnom':'Korimate','label_ar':''},{'id':1026,'code_hcp':'07.211.03.11.','label':'Lagdadra','province_code':51,'cercle_code':210,'est_rural':0,'alt_label':'','dnom':'Lagdadra','label_ar':''},{'id':1027,'code_hcp':'07.211.03.13.','label':'Lahsinate','province_code':51,'cercle_code':210,'est_rural':0,'alt_label':'','dnom':'Lahsinate','label_ar':''},{'id':1028,'code_hcp':'07.211.03.15.','label':'Mejji','province_code':51,'cercle_code':210,'est_rural':0,'alt_label':'','dnom':'Mejji','label_ar':''},{'id':1029,'code_hcp':'07.211.03.17.','label':'Meskala','province_code':51,'cercle_code':210,'est_rural':0,'alt_label':'','dnom':'Meskala','label_ar':''},{'id':1030,'code_hcp':'07.211.03.19.','label':'Mouarid','province_code':51,'cercle_code':210,'est_rural':0,'alt_label':'','dnom':'Mouarid','label_ar':''},{'id':1031,'code_hcp':'07.211.03.21.','label':'Moulay Bouzarqtoune','province_code':51,'cercle_code':129,'est_rural':0,'alt_label':'','dnom':'Moulay Bouzarqtoune','label_ar':' '},{'id':1032,'code_hcp':'07.211.03.23.','label':'Mzilate','province_code':51,'cercle_code':210,'est_rural':0,'alt_label':'','dnom':'Mzilate','label_ar':''},{'id':1033,'code_hcp':'07.211.03.25.','label':"M'Khalif",'province_code':51,'cercle_code':129,'est_rural':0,'alt_label':'','dnom':"M'Khalif",'label_ar':''},{'id':1034,'code_hcp':'07.211.03.27.','label':"M'Ramer",'province_code':51,'cercle_code':210,'est_rural':0,'alt_label':'','dnom':"M'Ramer",'label_ar':''},{'id':1035,'code_hcp':'07.211.03.29.','label':"Oulad M'Rabet",'province_code':51,'cercle_code':210,'est_rural':0,'alt_label':'','dnom':"Oulad M'Rabet",'label_ar':' '},{'id':1036,'code_hcp':'07.211.03.31.','label':'Ounagha','province_code':51,'cercle_code':129,'est_rural':0,'alt_label':'','dnom':'Ounagha','label_ar':''},{'id':1037,'code_hcp':'07.211.03.33.','label':'Sidi Abdeljalil','province_code':51,'cercle_code':129,'est_rural':0,'alt_label':'','dnom':'Sidi Abdeljalil','label_ar':'  '},{'id':1038,'code_hcp':'07.211.03.35.','label':'Sidi Aissa Regragui','province_code':51,'cercle_code':210,'est_rural':0,'alt_label':'','dnom':'Sidi Aissa Regragui','label_ar':'  '},{'id':1039,'code_hcp':'07.211.03.37.','label':'Sidi Ali El Korati','province_code':51,'cercle_code':129,'est_rural':0,'alt_label':'','dnom':'Sidi Ali El Korati','label_ar':'  '},{'id':1040,'code_hcp':'07.211.03.39.','label':'Sidi Boulaalam','province_code':51,'cercle_code':210,'est_rural':0,'alt_label':'','dnom':'Sidi Boulaalam','label_ar':' '},{'id':1041,'code_hcp':'07.211.03.41.','label':'Sidi Ishaq','province_code':51,'cercle_code':129,'est_rural':0,'alt_label':'','dnom':'Sidi Ishaq','label_ar':' '},{'id':1042,'code_hcp':'07.211.03.43.','label':'Sidi Laaroussi','province_code':51,'cercle_code':129,'est_rural':0,'alt_label':'','dnom':'Sidi Laaroussi','label_ar':' '},{'id':1043,'code_hcp':'07.211.03.45.','label':"Sidi M'Hamed Ou Marzouq",'province_code':51,'cercle_code':210,'est_rural':0,'alt_label':'','dnom':"Sidi M'Hamed Ou Marzouq",'label_ar':'  '},{'id':1044,'code_hcp':'07.211.03.47.','label':'Tafetachte','province_code':51,'cercle_code':210,'est_rural':0,'alt_label':'','dnom':'Tafetachte','label_ar':''},{'id':1045,'code_hcp':'07.211.03.49.','label':'Takate','province_code':51,'cercle_code':129,'est_rural':0,'alt_label':'','dnom':'Takate','label_ar':''},{'id':1046,'code_hcp':'07.211.03.51.','label':'Zaouiat Ben Hmida','province_code':51,'cercle_code':129,'est_rural':0,'alt_label':'','dnom':'Zaouiat Ben Hmida','label_ar':'  '},{'id':1047,'code_hcp':'07.211.05.01.','label':'Adaghas','province_code':51,'cercle_code':211,'est_rural':0,'alt_label':'','dnom':'Adaghas','label_ar':''},{'id':1048,'code_hcp':'07.211.05.03.','label':'Aglif','province_code':51,'cercle_code':211,'est_rural':0,'alt_label':'','dnom':'Aglif','label_ar':''},{'id':1049,'code_hcp':'07.211.05.05.','label':'Aguerd','province_code':51,'cercle_code':130,'est_rural':0,'alt_label':'','dnom':'Aguerd','label_ar':''},{'id':1050,'code_hcp':'07.211.05.07.','label':'Ait Aissi Ihahane','province_code':51,'cercle_code':130,'est_rural':0,'alt_label':'','dnom':'Ait Aissi Ihahane','label_ar':'  '},{'id':1051,'code_hcp':'07.211.05.09.','label':'Assais','province_code':51,'cercle_code':211,'est_rural':0,'alt_label':'','dnom':'Assais','label_ar':''},{'id':1052,'code_hcp':'07.211.05.11.','label':'Bizdad','province_code':51,'cercle_code':211,'est_rural':0,'alt_label':'','dnom':'Bizdad','label_ar':' '},{'id':1053,'code_hcp':'07.211.05.13.','label':'Bouzemmour','province_code':51,'cercle_code':211,'est_rural':0,'alt_label':'','dnom':'Bouzemmour','label_ar':''},{'id':1054,'code_hcp':'07.211.05.15.','label':'Ezzaouite','province_code':51,'cercle_code':211,'est_rural':0,'alt_label':'','dnom':'Ezzaouite','label_ar':''},{'id':1055,'code_hcp':'07.211.05.17.','label':'Ida Ou Aazza','province_code':51,'cercle_code':130,'est_rural':0,'alt_label':'','dnom':'Ida Ou Aazza','label_ar':' '},{'id':1056,'code_hcp':'07.211.05.19.','label':'Ida Ou Guelloul','province_code':51,'cercle_code':130,'est_rural':0,'alt_label':'','dnom':'Ida Ou Guelloul','label_ar':' '},{'id':1057,'code_hcp':'07.211.05.21.','label':'Ida Ou Kazzou','province_code':51,'cercle_code':130,'est_rural':0,'alt_label':'','dnom':'Ida Ou Kazzou','label_ar':' '},{'id':1058,'code_hcp':'07.211.05.23.','label':'Imgrade','province_code':51,'cercle_code':130,'est_rural':0,'alt_label':'','dnom':'Imgrade','label_ar':''},{'id':1059,'code_hcp':'07.211.05.25.','label':"Imi N'Tlit",'province_code':51,'cercle_code':130,'est_rural':0,'alt_label':'Imi-Ntlit','dnom':"Imi N'Tlit",'label_ar':' '},{'id':1060,'code_hcp':'07.211.05.27.','label':'Sidi Ahmed Essayeh','province_code':51,'cercle_code':130,'est_rural':0,'alt_label':'','dnom':'Sidi Ahmed Essayeh','label_ar':'  '},{'id':1061,'code_hcp':'07.211.05.29.','label':'Sidi El Jazouli','province_code':51,'cercle_code':130,'est_rural':0,'alt_label':'','dnom':'Sidi El Jazouli','label_ar':' '},{'id':1062,'code_hcp':'07.211.05.31.','label':'Sidi Ghaneme','province_code':51,'cercle_code':211,'est_rural':0,'alt_label':'','dnom':'Sidi Ghaneme','label_ar':' '},{'id':1063,'code_hcp':'07.211.05.33.','label':"Sidi H'Mad Ou M'Barek",'province_code':51,'cercle_code':130,'est_rural':0,'alt_label':"Sidi Hmad Ou M'Barek",'dnom':"Sidi H'Mad Ou M'Barek",'label_ar':'   '},{'id':1064,'code_hcp':'07.211.05.35.','label':'Sidi Hmad Ou Hamed','province_code':51,'cercle_code':130,'est_rural':0,'alt_label':"Sidi H'Mad Ou Hamed",'dnom':'Sidi Hmad Ou Hamed','label_ar':'  '},{'id':1065,'code_hcp':'07.211.05.37.','label':'Sidi Kaouki','province_code':51,'cercle_code':130,'est_rural':0,'alt_label':'','dnom':'Sidi Kaouki','label_ar':' '},{'id':1066,'code_hcp':'07.211.05.39.','label':'Smimou','province_code':51,'cercle_code':130,'est_rural':0,'alt_label':'','dnom':'Smimou','label_ar':''},{'id':1067,'code_hcp':'07.211.05.41.','label':'Tafedna','province_code':51,'cercle_code':130,'est_rural':0,'alt_label':'','dnom':'Tafedna','label_ar':''},{'id':1068,'code_hcp':'07.211.05.43.','label':'Tahelouante','province_code':51,'cercle_code':211,'est_rural':0,'alt_label':'','dnom':'Tahelouante','label_ar':''},{'id':1069,'code_hcp':'07.211.05.45.','label':'Takoucht','province_code':51,'cercle_code':211,'est_rural':0,'alt_label':'','dnom':'Takoucht','label_ar':''},{'id':1070,'code_hcp':'07.211.05.47.','label':'Targante','province_code':51,'cercle_code':130,'est_rural':0,'alt_label':'','dnom':'Targante','label_ar':''},{'id':1071,'code_hcp':'07.211.05.49.','label':'Tidzi','province_code':51,'cercle_code':130,'est_rural':0,'alt_label':'','dnom':'Tidzi','label_ar':''},{'id':1072,'code_hcp':'07.211.05.51.','label':'Timizguida-Ouftas','province_code':51,'cercle_code':130,'est_rural':0,'alt_label':'Timzguida-Ouftas','dnom':'Timizguida-Ouftas','label_ar':'- '},{'id':1073,'code_hcp':'07.351.01.01.','label':'Mchouar-Kasba','province_code':47,'cercle_code':0,'est_rural':1,'alt_label':'Mechouar-Kasba','dnom':'Mchouar-Kasba (Mun.)','label_ar':'- ()'},{'id':1074,'code_hcp':'07.351.01.03.','label':'Annakhil (Arrond.)','province_code':47,'cercle_code':0,'est_rural':1,'alt_label':'Ennakhil (arrond.)','dnom':'Annakhil (Arrond.)','label_ar':' ()'},{'id':1075,'code_hcp':'07.351.01.05.','label':'Gueliz (Arrond.)','province_code':47,'cercle_code':0,'est_rural':1,'alt_label':'Guliz (arrond.)','dnom':'Gueliz (Arrond.)','label_ar':' ()'},{'id':1076,'code_hcp':'07.351.01.07.','label':'Marrakech-Mdina (Arrond.)','province_code':47,'cercle_code':0,'est_rural':1,'alt_label':'Marrakech-Medina (arrond.)','dnom':'Marrakech-Mdina (Arrond.)','label_ar':'  ()'},{'id':1077,'code_hcp':'07.351.01.09.','label':'Mnara (Arrond.)','province_code':47,'cercle_code':0,'est_rural':1,'alt_label':'Menara (arrond.)','dnom':'Mnara (Arrond.)','label_ar':' ()'},{'id':1078,'code_hcp':'07.351.01.11.','label':'Sidi Youssef Ben Ali (Arrond.)','province_code':47,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Sidi Youssef Ben Ali (Arrond.)','label_ar':'    ()'},{'id':1079,'code_hcp':'07.351.02.01.','label':'Alouidane','province_code':47,'cercle_code':131,'est_rural':0,'alt_label':'Al Ouidane','dnom':'Alouidane','label_ar':''},{'id':1080,'code_hcp':'07.351.02.07.','label':'Ouahat Sidi Brahim','province_code':47,'cercle_code':131,'est_rural':0,'alt_label':'','dnom':'Ouahat Sidi Brahim','label_ar':'  '},{'id':1081,'code_hcp':'07.351.02.09.','label':'Oulad Hassoune','province_code':47,'cercle_code':131,'est_rural':0,'alt_label':'','dnom':'Oulad Hassoune','label_ar':' '},{'id':1082,'code_hcp':'07.351.03.03.','label':'Harbil','province_code':47,'cercle_code':132,'est_rural':0,'alt_label':'','dnom':'Harbil','label_ar':''},{'id':1083,'code_hcp':'07.351.03.05.','label':"M'Nabha",'province_code':47,'cercle_code':132,'est_rural':0,'alt_label':'','dnom':"M'Nabha",'label_ar':''},{'id':1084,'code_hcp':'07.351.03.11.','label':'Ouled Dlim','province_code':47,'cercle_code':132,'est_rural':0,'alt_label':'','dnom':'Ouled Dlim','label_ar':' '},{'id':1085,'code_hcp':'07.351.05.01.','label':'Agafay','province_code':47,'cercle_code':133,'est_rural':0,'alt_label':'','dnom':'Agafay','label_ar':''},{'id':1086,'code_hcp':'07.351.05.03.','label':'Ait Imour','province_code':47,'cercle_code':133,'est_rural':0,'alt_label':'','dnom':'Ait Imour','label_ar':' '},{'id':1087,'code_hcp':'07.351.05.05.','label':'Loudaya','province_code':47,'cercle_code':133,'est_rural':0,'alt_label':'','dnom':'Loudaya','label_ar':''},{'id':1088,'code_hcp':'07.351.05.09.','label':'Sid Zouine','province_code':47,'cercle_code':133,'est_rural':0,'alt_label':'','dnom':'Sid Zouine','label_ar':' '},{'id':1089,'code_hcp':'07.351.07.07.','label':'Saada','province_code':47,'cercle_code':134,'est_rural':0,'alt_label':'','dnom':'Saada','label_ar':''},{'id':1090,'code_hcp':'07.351.07.11.','label':'Souihla','province_code':47,'cercle_code':134,'est_rural':0,'alt_label':'','dnom':'Souihla','label_ar':''},{'id':1091,'code_hcp':'07.351.07.13.','label':'Tassoultante','province_code':47,'cercle_code':0,'est_rural':0,'alt_label':'','dnom':'Tassoultante','label_ar':''},{'id':1092,'code_hcp':'07.427.01.01.','label':'Ben Guerir','province_code':52,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Ben Guerir (Mun.)','label_ar':'  ()'},{'id':1093,'code_hcp':'07.427.01.17.','label':'Sidi Bou Othmane','province_code':52,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Sidi Bou Othmane (Mun.)','label_ar':'  ()'},{'id':1094,'code_hcp':'07.427.07.01.','label':'Ait Hammou','province_code':52,'cercle_code':135,'est_rural':0,'alt_label':'','dnom':'Ait Hammou','label_ar':' '},{'id':1095,'code_hcp':'07.427.07.03.','label':'Ait Taleb','province_code':52,'cercle_code':135,'est_rural':0,'alt_label':'','dnom':'Ait Taleb','label_ar':' '},{'id':1096,'code_hcp':'07.427.07.05.','label':'Bouchane','province_code':52,'cercle_code':135,'est_rural':0,'alt_label':'','dnom':'Bouchane','label_ar':''},{'id':1097,'code_hcp':'07.427.07.07.','label':'Jaafra','province_code':52,'cercle_code':135,'est_rural':0,'alt_label':'','dnom':'Jaafra','label_ar':''},{'id':1098,'code_hcp':'07.427.07.09.','label':'Labrikiyne','province_code':52,'cercle_code':135,'est_rural':0,'alt_label':'','dnom':'Labrikiyne','label_ar':''},{'id':1099,'code_hcp':'07.427.07.11.','label':'Oulad Aamer Tizmarine','province_code':52,'cercle_code':135,'est_rural':0,'alt_label':'','dnom':'Oulad Aamer Tizmarine','label_ar':'  '},{'id':1100,'code_hcp':'07.427.07.13.','label':'Oulad Hassoune Hamri','province_code':52,'cercle_code':135,'est_rural':0,'alt_label':'','dnom':'Oulad Hassoune Hamri','label_ar':'  '},{'id':1101,'code_hcp':'07.427.07.15.','label':'Sidi Abdallah','province_code':52,'cercle_code':135,'est_rural':0,'alt_label':'Sidi Abdellah','dnom':'Sidi Abdallah','label_ar':'   '},{'id':1102,'code_hcp':'07.427.07.17.','label':'Sidi Ali Labrahla','province_code':52,'cercle_code':135,'est_rural':0,'alt_label':'','dnom':'Sidi Ali Labrahla','label_ar':'  '},{'id':1103,'code_hcp':'07.427.07.19.','label':'Sidi Ghanem','province_code':52,'cercle_code':135,'est_rural':0,'alt_label':'','dnom':'Sidi Ghanem','label_ar':' '},{'id':1104,'code_hcp':'07.427.07.21.','label':'Sidi Mansour','province_code':52,'cercle_code':135,'est_rural':0,'alt_label':'','dnom':'Sidi Mansour','label_ar':' '},{'id':1105,'code_hcp':'07.427.07.23.','label':'Skhour Rehamna','province_code':52,'cercle_code':135,'est_rural':0,'alt_label':'Skhour Rhamna','dnom':'Skhour Rehamna','label_ar':' '},{'id':1106,'code_hcp':'07.427.07.25.','label':'Skoura Lhadra','province_code':52,'cercle_code':135,'est_rural':0,'alt_label':'','dnom':'Skoura Lhadra','label_ar':' '},{'id':1107,'code_hcp':'07.427.09.01.','label':'Akarma','province_code':52,'cercle_code':136,'est_rural':0,'alt_label':'','dnom':'Akarma','label_ar':''},{'id':1108,'code_hcp':'07.427.09.03.','label':'Bourrous','province_code':52,'cercle_code':136,'est_rural':0,'alt_label':'','dnom':'Bourrous','label_ar':''},{'id':1109,'code_hcp':'07.427.09.05.','label':'Jaidate','province_code':52,'cercle_code':136,'est_rural':0,'alt_label':'','dnom':'Jaidate','label_ar':''},{'id':1110,'code_hcp':'07.427.09.06.','label':'Jbilate','province_code':52,'cercle_code':136,'est_rural':0,'alt_label':'','dnom':'Jbilate','label_ar':''},{'id':1111,'code_hcp':'07.427.09.07.','label':'Lamharra','province_code':52,'cercle_code':136,'est_rural':0,'alt_label':'','dnom':'Lamharra','label_ar':''},{'id':1112,'code_hcp':'07.427.09.09.','label':'Nzalat Laadam','province_code':52,'cercle_code':136,'est_rural':0,'alt_label':'','dnom':'Nzalat Laadam','label_ar':' '},{'id':1113,'code_hcp':'07.427.09.11.','label':'Oulad Imloul','province_code':52,'cercle_code':136,'est_rural':0,'alt_label':'','dnom':'Oulad Imloul','label_ar':' '},{'id':1114,'code_hcp':'07.427.09.13.','label':'Ras Ain Rhamna','province_code':52,'cercle_code':136,'est_rural':0,'alt_label':'','dnom':'Ras Ain Rhamna','label_ar':'  '},{'id':1115,'code_hcp':'07.427.09.15.','label':'Sidi Boubker','province_code':52,'cercle_code':136,'est_rural':0,'alt_label':'','dnom':'Sidi Boubker','label_ar':' '},{'id':1116,'code_hcp':'07.427.09.19.','label':'Tlauh','province_code':52,'cercle_code':136,'est_rural':0,'alt_label':'','dnom':'Tlauh','label_ar':''},{'id':1117,'code_hcp':'07.431.01.03.','label':'Safi','province_code':53,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Safi (Mun.)','label_ar':' ()'},{'id':1118,'code_hcp':'07.431.01.09.','label':'Jamaat Shaim','province_code':53,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Jamaat Shaim (Mun.)','label_ar':'  ()'},{'id':1119,'code_hcp':'07.431.01.11.','label':'Sebt Gzoula','province_code':53,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Sebt Gzoula (Mun.)','label_ar':'  ()'},{'id':1120,'code_hcp':'07.431.03.01.','label':'Bouguedra','province_code':53,'cercle_code':137,'est_rural':0,'alt_label':'','dnom':'Bouguedra','label_ar':''},{'id':1121,'code_hcp':'07.431.03.02.','label':'Chahda','province_code':53,'cercle_code':137,'est_rural':0,'alt_label':'','dnom':'Chahda','label_ar':''},{'id':1122,'code_hcp':'07.431.03.03.','label':'El Gouraani','province_code':53,'cercle_code':137,'est_rural':0,'alt_label':'','dnom':'El Gouraani','label_ar':''},{'id':1123,'code_hcp':'07.431.03.05.','label':'Labkhati','province_code':53,'cercle_code':137,'est_rural':0,'alt_label':'','dnom':'Labkhati','label_ar':''},{'id':1124,'code_hcp':'07.431.03.07.','label':'Lahdar','province_code':53,'cercle_code':137,'est_rural':0,'alt_label':'','dnom':'Lahdar','label_ar':''},{'id':1125,'code_hcp':'07.431.03.09.','label':'Lamrasla','province_code':53,'cercle_code':137,'est_rural':0,'alt_label':'','dnom':'Lamrasla','label_ar':''},{'id':1126,'code_hcp':'07.431.03.11.','label':'Lamsabih','province_code':53,'cercle_code':137,'est_rural':0,'alt_label':'','dnom':'Lamsabih','label_ar':''},{'id':1127,'code_hcp':'07.431.03.13.','label':'Sidi Aissa','province_code':53,'cercle_code':137,'est_rural':0,'alt_label':'','dnom':'Sidi Aissa','label_ar':' '},{'id':1128,'code_hcp':'07.431.03.15.','label':'Sidi Ettiji','province_code':53,'cercle_code':137,'est_rural':0,'alt_label':'','dnom':'Sidi Ettiji','label_ar':' '},{'id':1129,'code_hcp':'07.431.07.01.','label':'Atouabet','province_code':53,'cercle_code':138,'est_rural':0,'alt_label':'','dnom':'Atouabet','label_ar':''},{'id':1130,'code_hcp':'07.431.07.03.','label':'El Ghiate','province_code':53,'cercle_code':138,'est_rural':0,'alt_label':'','dnom':'El Ghiate','label_ar':''},{'id':1131,'code_hcp':'07.431.07.05.','label':'Khatazakane','province_code':53,'cercle_code':138,'est_rural':0,'alt_label':'','dnom':'Khatazakane','label_ar':' '},{'id':1132,'code_hcp':'07.431.07.07.','label':'Laamamra','province_code':53,'cercle_code':138,'est_rural':0,'alt_label':'','dnom':'Laamamra','label_ar':''},{'id':1133,'code_hcp':'07.431.07.09.','label':'Lamaachate','province_code':53,'cercle_code':138,'est_rural':0,'alt_label':'','dnom':'Lamaachate','label_ar':''},{'id':1134,'code_hcp':'07.431.07.11.','label':'Nagga','province_code':53,'cercle_code':138,'est_rural':0,'alt_label':'','dnom':'Nagga','label_ar':''},{'id':1135,'code_hcp':'07.431.07.13.','label':'Ouled Salmane','province_code':53,'cercle_code':138,'est_rural':0,'alt_label':'','dnom':'Ouled Salmane','label_ar':' '},{'id':1136,'code_hcp':'07.431.09.01.','label':'Ayir','province_code':53,'cercle_code':139,'est_rural':0,'alt_label':'','dnom':'Ayir','label_ar':''},{'id':1137,'code_hcp':'07.431.09.03.','label':'Dar Si Aissa','province_code':53,'cercle_code':139,'est_rural':0,'alt_label':'','dnom':'Dar Si Aissa','label_ar':'  '},{'id':1138,'code_hcp':'07.431.09.05.','label':'El Beddouza','province_code':53,'cercle_code':139,'est_rural':0,'alt_label':'','dnom':'El Beddouza','label_ar':''},{'id':1139,'code_hcp':'07.431.09.07.','label':'Hrara','province_code':53,'cercle_code':139,'est_rural':0,'alt_label':'','dnom':'Hrara','label_ar':''},{'id':1140,'code_hcp':'07.431.09.09.','label':'Moul El Bergui','province_code':53,'cercle_code':139,'est_rural':0,'alt_label':'','dnom':'Moul El Bergui','label_ar':' '},{'id':1141,'code_hcp':'07.431.09.15.','label':'Saadla','province_code':53,'cercle_code':139,'est_rural':0,'alt_label':'','dnom':'Saadla','label_ar':''},{'id':1142,'code_hcp':'07.585.01.07.','label':'Echemmaia','province_code':54,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Echemmaia (Mun.)','label_ar':' ()'},{'id':1143,'code_hcp':'07.585.01.13.','label':'Youssoufia','province_code':54,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Youssoufia (Mun.)','label_ar':' ()'},{'id':1144,'code_hcp':'07.585.05.07.','label':'Ighoud','province_code':54,'cercle_code':140,'est_rural':0,'alt_label':'','dnom':'Ighoud','label_ar':''},{'id':1145,'code_hcp':'07.585.05.09.','label':'Jdour','province_code':54,'cercle_code':140,'est_rural':0,'alt_label':'','dnom':'Jdour','label_ar':''},{'id':1146,'code_hcp':'07.585.05.11.','label':'Jnane Bouih','province_code':54,'cercle_code':140,'est_rural':0,'alt_label':'','dnom':'Jnane Bouih','label_ar':' '},{'id':1147,'code_hcp':'07.585.05.17.','label':'Sidi Chiker','province_code':54,'cercle_code':140,'est_rural':0,'alt_label':'','dnom':'Sidi Chiker','label_ar':' '},{'id':1148,'code_hcp':'07.585.07.01.','label':'Atiamim','province_code':54,'cercle_code':141,'est_rural':0,'alt_label':'','dnom':'Atiamim','label_ar':''},{'id':1149,'code_hcp':'07.585.07.03.','label':'El Gantour','province_code':54,'cercle_code':141,'est_rural':0,'alt_label':'','dnom':'El Gantour','label_ar':''},{'id':1150,'code_hcp':'07.585.07.05.','label':'Esbiaat','province_code':54,'cercle_code':141,'est_rural':0,'alt_label':'','dnom':'Esbiaat','label_ar':''},{'id':1151,'code_hcp':'07.585.07.13.','label':'Lakhoualqa','province_code':54,'cercle_code':141,'est_rural':0,'alt_label':'','dnom':'Lakhoualqa','label_ar':''},{'id':1152,'code_hcp':'07.585.07.15.','label':'Ras El Ain','province_code':54,'cercle_code':141,'est_rural':0,'alt_label':'','dnom':'Ras El Ain','label_ar':' '},{'id':1153,'code_hcp':'08.201.01.01.','label':'Arfoud','province_code':55,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Arfoud (Mun.)','label_ar':' ()'},{'id':1154,'code_hcp':'08.201.01.03.','label':'Boudnib','province_code':55,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Boudnib (Mun.)','label_ar':' ()'},{'id':1155,'code_hcp':'08.201.01.05.','label':'Errachidia','province_code':55,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Errachidia (Mun.)','label_ar':' ()'},{'id':1156,'code_hcp':'08.201.01.09.','label':'Goulmima','province_code':55,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Goulmima (Mun.)','label_ar':' ()'},{'id':1157,'code_hcp':'08.201.01.11.','label':'Jorf','province_code':55,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Jorf (Mun.)','label_ar':' ()'},{'id':1158,'code_hcp':'08.201.01.13.','label':'Moulay Ali Cherif','province_code':55,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Moulay Ali Cherif (Mun.)','label_ar':'   ()'},{'id':1159,'code_hcp':'08.201.01.15.','label':'Tinejdad','province_code':55,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Tinejdad (Mun.)','label_ar':' ()'},{'id':1160,'code_hcp':'08.201.03.01.','label':'Aarab Sebbah Gheris','province_code':55,'cercle_code':142,'est_rural':0,'alt_label':'','dnom':'Aarab Sebbah Gheris','label_ar':'  '},{'id':1161,'code_hcp':'08.201.03.03.','label':'Aarab Sebbah Ziz','province_code':55,'cercle_code':142,'est_rural':0,'alt_label':'','dnom':'Aarab Sebbah Ziz','label_ar':'  '},{'id':1162,'code_hcp':'08.201.03.07.','label':'Es-sifa','province_code':55,'cercle_code':142,'est_rural':0,'alt_label':'','dnom':'Es-sifa','label_ar':''},{'id':1163,'code_hcp':'08.201.03.09.','label':'Fezna','province_code':55,'cercle_code':142,'est_rural':0,'alt_label':'','dnom':'Fezna','label_ar':''},{'id':1164,'code_hcp':'08.201.07.01.','label':'Aoufous','province_code':55,'cercle_code':143,'est_rural':0,'alt_label':'','dnom':'Aoufous','label_ar':''},{'id':1165,'code_hcp':'08.201.07.03.','label':"Chorfa M'Daghra",'province_code':55,'cercle_code':143,'est_rural':0,'alt_label':'','dnom':"Chorfa M'Daghra",'label_ar':' '},{'id':1166,'code_hcp':'08.201.07.05.','label':'Er-rteb','province_code':55,'cercle_code':143,'est_rural':0,'alt_label':'','dnom':'Er-rteb','label_ar':''},{'id':1167,'code_hcp':'08.201.07.07.','label':'Lkheng','province_code':55,'cercle_code':143,'est_rural':0,'alt_label':'','dnom':'Lkheng','label_ar':''},{'id':1168,'code_hcp':'08.201.07.09.','label':'Oued Naam','province_code':55,'cercle_code':143,'est_rural':0,'alt_label':'','dnom':'Oued Naam','label_ar':' '},{'id':1169,'code_hcp':'08.201.11.01.','label':"Bni M'Hamed-Sijelmassa",'province_code':55,'cercle_code':144,'est_rural':0,'alt_label':'','dnom':"Bni M'Hamed-Sijelmassa",'label_ar':'  '},{'id':1170,'code_hcp':'08.201.11.03.','label':'Er-rissani','province_code':55,'cercle_code':144,'est_rural':0,'alt_label':'','dnom':'Er-rissani','label_ar':''},{'id':1171,'code_hcp':'08.201.11.05.','label':'Es-sfalat','province_code':55,'cercle_code':144,'est_rural':0,'alt_label':'','dnom':'Es-sfalat','label_ar':''},{'id':1172,'code_hcp':'08.201.11.07.','label':'Et-taous','province_code':55,'cercle_code':144,'est_rural':0,'alt_label':'','dnom':'Et-taous','label_ar':''},{'id':1173,'code_hcp':'08.201.11.09.','label':'Sidi Ali','province_code':55,'cercle_code':144,'est_rural':0,'alt_label':'','dnom':'Sidi Ali','label_ar':' '},{'id':1174,'code_hcp':'08.201.13.01.','label':"Aghbalou N'Kerdous",'province_code':55,'cercle_code':206,'est_rural':0,'alt_label':'','dnom':"Aghbalou N'Kerdous",'label_ar':' '},{'id':1175,'code_hcp':'08.201.13.02.','label':'Amellagou','province_code':55,'cercle_code':145,'est_rural':0,'alt_label':'','dnom':'Amellagou','label_ar':''},{'id':1176,'code_hcp':'08.201.13.03.','label':'Ferkla El Oulia','province_code':55,'cercle_code':206,'est_rural':0,'alt_label':'','dnom':'Ferkla El Oulia','label_ar':' '},{'id':1177,'code_hcp':'08.201.13.05.','label':'Ferkla Es-soufla','province_code':55,'cercle_code':206,'est_rural':0,'alt_label':'Ferkla-Es-Soufla','dnom':'Ferkla Es-soufla','label_ar':' '},{'id':1178,'code_hcp':'08.201.13.07.','label':'Gheris El Ouloui','province_code':55,'cercle_code':145,'est_rural':0,'alt_label':'','dnom':'Gheris El Ouloui','label_ar':' '},{'id':1179,'code_hcp':'08.201.13.09.','label':'Gheris Es-soufla','province_code':55,'cercle_code':145,'est_rural':0,'alt_label':'','dnom':'Gheris Es-soufli','label_ar':' '},{'id':1180,'code_hcp':'08.201.13.11.','label':'Melaab','province_code':55,'cercle_code':206,'est_rural':0,'alt_label':'','dnom':'Melaab','label_ar':''},{'id':1181,'code_hcp':'08.201.13.13.','label':'Tadighoust','province_code':55,'cercle_code':145,'est_rural':0,'alt_label':'','dnom':'Tadighoust','label_ar':''},{'id':1182,'code_hcp':'08.363.01.03.','label':'Midelt','province_code':57,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Midelt (Mun.)','label_ar':' ()'},{'id':1183,'code_hcp':'08.363.01.07.','label':'Er-rich','province_code':57,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Er-rich (Mun.)','label_ar':' ()'},{'id':1184,'code_hcp':'08.363.05.01.','label':'Aghbalou','province_code':57,'cercle_code':146,'est_rural':0,'alt_label':'','dnom':'Aghbalou','label_ar':''},{'id':1185,'code_hcp':'08.363.05.03.','label':'Agoudim','province_code':57,'cercle_code':146,'est_rural':0,'alt_label':'','dnom':'Agoudim','label_ar':''},{'id':1186,'code_hcp':'08.363.05.13.','label':'Anemzi','province_code':57,'cercle_code':146,'est_rural':0,'alt_label':'','dnom':'Anemzi','label_ar':''},{'id':1187,'code_hcp':'08.363.05.15.','label':'Boumia','province_code':57,'cercle_code':0,'est_rural':0,'alt_label':'','dnom':'Boumia','label_ar':''},{'id':1188,'code_hcp':'08.363.05.21.','label':'Sidi Yahya Ou Youssef','province_code':57,'cercle_code':146,'est_rural':0,'alt_label':'Sidi Yahia Ou Youssef','dnom':'Sidi Yahya Ou Youssef','label_ar':'  '},{'id':1189,'code_hcp':'08.363.05.23.','label':'Tanourdi','province_code':57,'cercle_code':146,'est_rural':0,'alt_label':'','dnom':'Tanourdi','label_ar':''},{'id':1190,'code_hcp':'08.363.05.25.','label':"Tizi N'Ghachou",'province_code':57,'cercle_code':146,'est_rural':0,'alt_label':'','dnom':"Tizi N'Ghachou",'label_ar':' '},{'id':1191,'code_hcp':'08.363.05.27.','label':'Tounfite','province_code':57,'cercle_code':146,'est_rural':0,'alt_label':'','dnom':'Tounfite','label_ar':''},{'id':1192,'code_hcp':'08.363.07.05.','label':'Ait Ayach','province_code':57,'cercle_code':147,'est_rural':0,'alt_label':'','dnom':'Ait Ayach','label_ar':' '},{'id':1193,'code_hcp':'08.363.07.07.','label':'Ait Ben Yacoub','province_code':57,'cercle_code':147,'est_rural':0,'alt_label':'','dnom':'Ait Ben Yacoub','label_ar':'  '},{'id':1194,'code_hcp':'08.363.07.09.','label':'Ait Izdeg','province_code':57,'cercle_code':147,'est_rural':0,'alt_label':'','dnom':'Ait Izdeg','label_ar':' '},{'id':1195,'code_hcp':'08.363.07.11.','label':'Amersid','province_code':57,'cercle_code':147,'est_rural':0,'alt_label':'','dnom':'Amersid','label_ar':''},{'id':1196,'code_hcp':'08.363.07.17.','label':'Itzer','province_code':57,'cercle_code':147,'est_rural':0,'alt_label':'','dnom':'Itzer','label_ar':''},{'id':1197,'code_hcp':'08.363.07.19.','label':'Mibladen','province_code':57,'cercle_code':147,'est_rural':0,'alt_label':'','dnom':'Mibladen','label_ar':''},{'id':1198,'code_hcp':'08.363.07.29.','label':'Zaida','province_code':57,'cercle_code':147,'est_rural':0,'alt_label':'','dnom':'Zaida','label_ar':''},{'id':1199,'code_hcp':'08.363.09.01.','label':'En-nzala','province_code':57,'cercle_code':148,'est_rural':0,'alt_label':'','dnom':'En-nzala','label_ar':''},{'id':1200,'code_hcp':'08.363.09.03.','label':'Gourrama','province_code':57,'cercle_code':148,'est_rural':0,'alt_label':'','dnom':'Gourrama','label_ar':''},{'id':1201,'code_hcp':'08.363.09.05.','label':'Guers Tiaallaline','province_code':57,'cercle_code':148,'est_rural':0,'alt_label':'','dnom':'Guers Tiaallaline','label_ar':' '},{'id':1202,'code_hcp':'08.363.09.07.','label':'Guir','province_code':57,'cercle_code':148,'est_rural':0,'alt_label':'','dnom':'Guir','label_ar':''},{'id':1203,'code_hcp':'08.363.09.09.','label':"M'Zizel",'province_code':57,'cercle_code':148,'est_rural':0,'alt_label':'','dnom':"M'Zizel",'label_ar':''},{'id':1204,'code_hcp':'08.363.09.11.','label':'Sidi Aayad','province_code':57,'cercle_code':148,'est_rural':0,'alt_label':'Sid Aayad','dnom':'Sidi Aayad','label_ar':' '},{'id':1205,'code_hcp':'08.363.09.13.','label':'Zaouiat Sidi Hamza','province_code':57,'cercle_code':148,'est_rural':0,'alt_label':'','dnom':'Zaouiat Sidi Hamza','label_ar':'  '},{'id':1206,'code_hcp':'08.363.15.01.','label':'Ait Yahya','province_code':57,'cercle_code':149,'est_rural':0,'alt_label':'','dnom':'Ait Yahya','label_ar':' '},{'id':1207,'code_hcp':'08.363.15.03.','label':'Amouguer','province_code':57,'cercle_code':149,'est_rural':0,'alt_label':'','dnom':'Amouguer','label_ar':''},{'id':1208,'code_hcp':'08.363.15.05.','label':'Bou Azmou','province_code':57,'cercle_code':149,'est_rural':0,'alt_label':'Bou-Azmou','dnom':'Bou Azmou','label_ar':''},{'id':1209,'code_hcp':'08.363.15.07.','label':'Imilchil','province_code':57,'cercle_code':149,'est_rural':0,'alt_label':'','dnom':'Imilchil','label_ar':''},{'id':1210,'code_hcp':'08.363.15.09.','label':'Outerbat','province_code':57,'cercle_code':149,'est_rural':0,'alt_label':'','dnom':'Outerbat','label_ar':''},{'id':1211,'code_hcp':'08.401.01.07.','label':'Ouarzazate','province_code':56,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Ouarzazate (Mun.)','label_ar':' ()'},{'id':1212,'code_hcp':'08.401.01.09.','label':'Taznakht','province_code':56,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Taznakht (Mun.)','label_ar':' ()'},{'id':1213,'code_hcp':'08.401.03.01.','label':'Ait Zineb','province_code':56,'cercle_code':150,'est_rural':0,'alt_label':'','dnom':'Ait Zineb','label_ar':' '},{'id':1214,'code_hcp':'08.401.03.03.','label':'Amerzgane','province_code':56,'cercle_code':150,'est_rural':0,'alt_label':'','dnom':'Amerzgane','label_ar':''},{'id':1215,'code_hcp':'08.401.03.05.','label':'Iznaguen','province_code':56,'cercle_code':150,'est_rural':0,'alt_label':'','dnom':'Iznaguen','label_ar':''},{'id':1216,'code_hcp':'08.401.03.07.','label':"Ighrem N'Ougdal",'province_code':56,'cercle_code':150,'est_rural':0,'alt_label':'','dnom':"Ighrem N'Ougdal",'label_ar':' '},{'id':1217,'code_hcp':'08.401.03.09.','label':'Khouzama','province_code':56,'cercle_code':150,'est_rural':0,'alt_label':'','dnom':'Khouzama','label_ar':''},{'id':1218,'code_hcp':'08.401.03.11.','label':'Ouisselsate','province_code':56,'cercle_code':150,'est_rural':0,'alt_label':'','dnom':'Ouisselsate','label_ar':''},{'id':1219,'code_hcp':'08.401.03.13.','label':'Siroua','province_code':56,'cercle_code':150,'est_rural':0,'alt_label':'','dnom':'Siroua','label_ar':''},{'id':1220,'code_hcp':'08.401.03.15.','label':'Telouet','province_code':56,'cercle_code':150,'est_rural':0,'alt_label':'','dnom':'Telouet','label_ar':''},{'id':1221,'code_hcp':'08.401.03.17.','label':'Tidli','province_code':56,'cercle_code':150,'est_rural':0,'alt_label':'Tidili','dnom':'Tidli','label_ar':''},{'id':1222,'code_hcp':'08.401.07.01.','label':'Ghassate','province_code':56,'cercle_code':151,'est_rural':0,'alt_label':'','dnom':'Ghassate','label_ar':''},{'id':1223,'code_hcp':'08.401.07.03.','label':'Idelsane','province_code':56,'cercle_code':151,'est_rural':0,'alt_label':'','dnom':'Idelsane','label_ar':''},{'id':1224,'code_hcp':'08.401.07.05.','label':"Imi N'Oulaoune",'province_code':56,'cercle_code':151,'est_rural':0,'alt_label':"Imi-N'Oulaoune",'dnom':"Imi N'Oulaoune",'label_ar':' '},{'id':1225,'code_hcp':'08.401.07.07.','label':'Skoura Ahl El Oust','province_code':56,'cercle_code':151,'est_rural':0,'alt_label':'','dnom':'Skoura Ahl El Oust','label_ar':'  '},{'id':1226,'code_hcp':'08.401.07.09.','label':'Tarmigt','province_code':56,'cercle_code':151,'est_rural':0,'alt_label':'','dnom':'Tarmigt','label_ar':''},{'id':1227,'code_hcp':'08.401.07.11.','label':'Toundoute','province_code':56,'cercle_code':151,'est_rural':0,'alt_label':'','dnom':'Toundoute','label_ar':''},{'id':1228,'code_hcp':'08.577.01.03.','label':'Boumalne Dades','province_code':58,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Boumalne Dades (Mun.)','label_ar':'   ()'},{'id':1229,'code_hcp':'08.577.01.05.','label':"Kalaat M'Gouna",'province_code':58,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':"Kalaat M'Gouna (Mun.)",'label_ar':'  ()'},{'id':1230,'code_hcp':'08.577.01.11.','label':'Tinghir','province_code':58,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Tinghir (Mun.)','label_ar':' ()'},{'id':1231,'code_hcp':'08.577.02.05.','label':'Alnif','province_code':58,'cercle_code':152,'est_rural':0,'alt_label':'','dnom':'Alnif','label_ar':''},{'id':1232,'code_hcp':'08.577.02.11.','label':"H'Ssyia",'province_code':58,'cercle_code':152,'est_rural':0,'alt_label':'','dnom':"H'Ssyia",'label_ar':''},{'id':1233,'code_hcp':'08.577.02.21.','label':"M'Ssici",'province_code':58,'cercle_code':152,'est_rural':0,'alt_label':'','dnom':"M'Ssici",'label_ar':''},{'id':1234,'code_hcp':'08.577.03.01.','label':'Ait Hani','province_code':58,'cercle_code':153,'est_rural':0,'alt_label':'Ait-Hani','dnom':'Ait Hani','label_ar':' '},{'id':1235,'code_hcp':'08.577.03.05.','label':'Assoul','province_code':58,'cercle_code':153,'est_rural':0,'alt_label':'','dnom':'Assoul','label_ar':''},{'id':1236,'code_hcp':'08.577.05.03.','label':'Ait Ouassif','province_code':58,'cercle_code':154,'est_rural':0,'alt_label':'','dnom':'Ait Ouassif','label_ar':' '},{'id':1237,'code_hcp':'08.577.05.05.','label':'Ait Sedrate Jbel El Oulia','province_code':58,'cercle_code':154,'est_rural':0,'alt_label':'','dnom':'Ait Sedrate JbelEl Oulia','label_ar':'   '},{'id':1238,'code_hcp':'08.577.05.07.','label':'Ait Sedrate Jbel EL Soufla','province_code':58,'cercle_code':154,'est_rural':0,'alt_label':'Ait Sedrate Jbel Soufla','dnom':'Ait Sedrate JbelEL Soufla','label_ar':'   '},{'id':1239,'code_hcp':'08.577.05.09.','label':'Ait Sedrate Sahl Charkia','province_code':58,'cercle_code':200,'est_rural':0,'alt_label':'','dnom':'Ait Sedrate Sahl Charkia','label_ar':'   '},{'id':1240,'code_hcp':'08.577.05.11.','label':'Ait Sedrate Sahl El Gharbia','province_code':58,'cercle_code':200,'est_rural':0,'alt_label':'','dnom':'Ait Sedrate Sahl El Gharbia','label_ar':'    '},{'id':1241,'code_hcp':'08.577.05.13.','label':'Ait Youl','province_code':58,'cercle_code':154,'est_rural':0,'alt_label':'','dnom':'Ait Youl','label_ar':' '},{'id':1242,'code_hcp':'08.577.05.15.','label':"Ighil N'Oumgoun",'province_code':58,'cercle_code':154,'est_rural':0,'alt_label':'','dnom':"Ighil N'Oumgoun",'label_ar':' '},{'id':1243,'code_hcp':'08.577.05.17.','label':'Ikniouen','province_code':58,'cercle_code':154,'est_rural':0,'alt_label':'','dnom':'Ikniouen','label_ar':''},{'id':1244,'code_hcp':'08.577.05.21.','label':"M'Semrir",'province_code':58,'cercle_code':154,'est_rural':0,'alt_label':'','dnom':"M'Semrir",'label_ar':''},{'id':1245,'code_hcp':'08.577.05.25.','label':'Souk Lakhmis Dades','province_code':58,'cercle_code':154,'est_rural':0,'alt_label':'','dnom':'Souk Lakhmis Dades','label_ar':'  '},{'id':1246,'code_hcp':'08.577.05.29.','label':'Tilmi','province_code':58,'cercle_code':154,'est_rural':0,'alt_label':'','dnom':'Tilmi','label_ar':''},{'id':1247,'code_hcp':'08.577.07.01.','label':'Ait El Farsi','province_code':58,'cercle_code':155,'est_rural':0,'alt_label':'','dnom':'Ait El Farsi','label_ar':' '},{'id':1248,'code_hcp':'08.577.07.19.','label':'Imider','province_code':58,'cercle_code':155,'est_rural':0,'alt_label':'','dnom':'Imider','label_ar':''},{'id':1249,'code_hcp':'08.577.07.23.','label':'Ouaklim','province_code':58,'cercle_code':155,'est_rural':0,'alt_label':'','dnom':'Ouaklim','label_ar':''},{'id':1250,'code_hcp':'08.577.07.27.','label':"Taghzoute N'Ait Atta",'province_code':58,'cercle_code':155,'est_rural':0,'alt_label':'','dnom':"Taghzoute N'Ait Atta",'label_ar':'  '},{'id':1251,'code_hcp':'08.577.07.31.','label':'Toudgha El Oulia','province_code':58,'cercle_code':155,'est_rural':0,'alt_label':'','dnom':'Toudgha El Oulia','label_ar':' '},{'id':1252,'code_hcp':'08.577.07.33.','label':'Toudgha Essoufla','province_code':58,'cercle_code':155,'est_rural':0,'alt_label':'Toudgha El Soufla','dnom':'Toudgha Essoufla','label_ar':'  '},{'id':1253,'code_hcp':'08.587.01.01.','label':'Agdz','province_code':59,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Agdz (Mun.)','label_ar':' ()'},{'id':1254,'code_hcp':'08.587.01.13.','label':'Zagora','province_code':59,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Zagora (Mun.)','label_ar':' ()'},{'id':1255,'code_hcp':'08.587.03.01.','label':"Afella N'Dra",'province_code':59,'cercle_code':156,'est_rural':0,'alt_label':'Aflandra','dnom':"Afella N'Dra",'label_ar':''},{'id':1256,'code_hcp':'08.587.03.03.','label':'Afra','province_code':59,'cercle_code':156,'est_rural':0,'alt_label':'','dnom':'Afra','label_ar':''},{'id':1257,'code_hcp':'08.587.03.05.','label':'Ait Boudaoud','province_code':59,'cercle_code':156,'est_rural':0,'alt_label':'','dnom':'Ait Boudaoud','label_ar':' '},{'id':1258,'code_hcp':'08.587.03.07.','label':'Ait Ouallal','province_code':59,'cercle_code':156,'est_rural':0,'alt_label':'','dnom':'Ait Ouallal','label_ar':' '},{'id':1259,'code_hcp':'08.587.03.21.','label':'Mezguita','province_code':59,'cercle_code':156,'est_rural':0,'alt_label':'','dnom':'Mezguita','label_ar':''},{'id':1260,'code_hcp':'08.587.03.25.','label':"N'Kob",'province_code':59,'cercle_code':156,'est_rural':0,'alt_label':'','dnom':"N'Kob",'label_ar':''},{'id':1261,'code_hcp':'08.587.03.27.','label':'Oulad Yahia Lagraire','province_code':59,'cercle_code':156,'est_rural':0,'alt_label':'','dnom':'Oulad Yahia Lagraire','label_ar':'  '},{'id':1262,'code_hcp':'08.587.03.31.','label':'Taghbalte','province_code':59,'cercle_code':156,'est_rural':0,'alt_label':'','dnom':'Taghbalte','label_ar':''},{'id':1263,'code_hcp':'08.587.03.37.','label':'Tamezmoute','province_code':59,'cercle_code':156,'est_rural':0,'alt_label':'','dnom':'Tamezmoute','label_ar':''},{'id':1264,'code_hcp':'08.587.03.39.','label':'Tansifte','province_code':59,'cercle_code':156,'est_rural':0,'alt_label':'','dnom':'Tansifte','label_ar':''},{'id':1265,'code_hcp':'08.587.03.41.','label':'Tazarine','province_code':59,'cercle_code':156,'est_rural':0,'alt_label':'','dnom':'Tazarine','label_ar':''},{'id':1266,'code_hcp':'08.587.07.09.','label':'Bleida','province_code':59,'cercle_code':157,'est_rural':0,'alt_label':'','dnom':'Bleida','label_ar':''},{'id':1267,'code_hcp':'08.587.07.11.','label':'Bni Zoli','province_code':59,'cercle_code':157,'est_rural':0,'alt_label':'','dnom':'Bni Zoli','label_ar':' '},{'id':1268,'code_hcp':'08.587.07.13.','label':'Bouzeroual','province_code':59,'cercle_code':157,'est_rural':0,'alt_label':'','dnom':'Bouzeroual','label_ar':''},{'id':1269,'code_hcp':'08.587.07.15.','label':'Errouha','province_code':59,'cercle_code':157,'est_rural':0,'alt_label':'','dnom':'Errouha','label_ar':''},{'id':1270,'code_hcp':'08.587.07.29.','label':'Taftechna','province_code':59,'cercle_code':157,'est_rural':0,'alt_label':'','dnom':'Taftechna','label_ar':''},{'id':1271,'code_hcp':'08.587.07.43.','label':'Ternata','province_code':59,'cercle_code':157,'est_rural':0,'alt_label':'','dnom':'Ternata','label_ar':''},{'id':1272,'code_hcp':'08.587.07.45.','label':'Tinzouline','province_code':59,'cercle_code':157,'est_rural':0,'alt_label':'','dnom':'Tinzouline','label_ar':''},{'id':1273,'code_hcp':'08.587.09.17.','label':'Fezouata','province_code':59,'cercle_code':158,'est_rural':0,'alt_label':'','dnom':'Fezouata','label_ar':''},{'id':1274,'code_hcp':'08.587.09.19.','label':'Ktaoua','province_code':59,'cercle_code':158,'est_rural':0,'alt_label':'','dnom':'Ktaoua','label_ar':''},{'id':1275,'code_hcp':'08.587.09.23.','label':"M'Hamid El Ghizlane",'province_code':59,'cercle_code':158,'est_rural':0,'alt_label':'','dnom':"M'Hamid El Ghizlane",'label_ar':' '},{'id':1276,'code_hcp':'08.587.09.33.','label':'Tagounite','province_code':59,'cercle_code':158,'est_rural':0,'alt_label':'','dnom':'Tagounite','label_ar':''},{'id':1277,'code_hcp':'08.587.09.35.','label':'Tamegroute','province_code':59,'cercle_code':158,'est_rural':0,'alt_label':'','dnom':'Tamegroute','label_ar':''},{'id':1278,'code_hcp':'09.001.01.01.','label':'Agadir','province_code':60,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Agadir (Mun.)','label_ar':' ()'},{'id':1279,'code_hcp':'09.001.05.01.','label':'Amskroud','province_code':60,'cercle_code':159,'est_rural':0,'alt_label':'','dnom':'Amskroud','label_ar':''},{'id':1280,'code_hcp':'09.001.05.09.','label':'Drargua','province_code':60,'cercle_code':159,'est_rural':0,'alt_label':'','dnom':'Drargua','label_ar':''},{'id':1281,'code_hcp':'09.001.05.11.','label':'Idmine','province_code':60,'cercle_code':159,'est_rural':0,'alt_label':'','dnom':'Idmine','label_ar':''},{'id':1282,'code_hcp':'09.001.07.03.','label':'Aourir','province_code':60,'cercle_code':160,'est_rural':0,'alt_label':'','dnom':'Aourir','label_ar':''},{'id':1283,'code_hcp':'09.001.07.05.','label':'Aqesri','province_code':60,'cercle_code':160,'est_rural':0,'alt_label':'Aqsri','dnom':'Aqesri','label_ar':''},{'id':1284,'code_hcp':'09.001.07.07.','label':'Aziar','province_code':60,'cercle_code':160,'est_rural':0,'alt_label':'','dnom':'Aziar','label_ar':''},{'id':1285,'code_hcp':'09.001.07.13.','label':'Imouzzer','province_code':60,'cercle_code':160,'est_rural':0,'alt_label':'','dnom':'Imouzzer','label_ar':''},{'id':1286,'code_hcp':'09.001.07.15.','label':'Imsouane','province_code':60,'cercle_code':160,'est_rural':0,'alt_label':'','dnom':'Imsouane','label_ar':''},{'id':1287,'code_hcp':'09.001.07.21.','label':'Tadrart','province_code':60,'cercle_code':160,'est_rural':0,'alt_label':'','dnom':'Tadrart','label_ar':''},{'id':1288,'code_hcp':'09.001.07.23.','label':'Taghazout','province_code':60,'cercle_code':160,'est_rural':0,'alt_label':'','dnom':'Taghazout','label_ar':''},{'id':1289,'code_hcp':'09.001.07.25.','label':'Tamri','province_code':60,'cercle_code':160,'est_rural':0,'alt_label':'','dnom':'Tamri','label_ar':''},{'id':1290,'code_hcp':'09.001.07.29.','label':'Tiqqi','province_code':60,'cercle_code':160,'est_rural':0,'alt_label':'','dnom':'Tiqqi','label_ar':''},{'id':1291,'code_hcp':'09.163.01.03.','label':'Ait Baha','province_code':62,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Ait Baha (Mun.)','label_ar':'  ()'},{'id':1292,'code_hcp':'09.163.01.11.','label':'Biougra','province_code':62,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Biougra (Mun.)','label_ar':' ()'},{'id':1293,'code_hcp':'09.163.03.05.','label':'Ait Mzal','province_code':62,'cercle_code':161,'est_rural':0,'alt_label':'','dnom':'Ait Mzal','label_ar':' '},{'id':1294,'code_hcp':'09.163.03.07.','label':'Ait Ouadrim','province_code':62,'cercle_code':161,'est_rural':0,'alt_label':'','dnom':'Ait Ouadrim','label_ar':' '},{'id':1295,'code_hcp':'09.163.03.09.','label':'Aouguenz','province_code':62,'cercle_code':161,'est_rural':0,'alt_label':'','dnom':'Aouguenz','label_ar':' '},{'id':1296,'code_hcp':'09.163.03.13.','label':'Hilala','province_code':62,'cercle_code':161,'est_rural':0,'alt_label':'','dnom':'Hilala','label_ar':''},{'id':1297,'code_hcp':'09.163.03.15.','label':'Ida Ougnidif','province_code':62,'cercle_code':161,'est_rural':0,'alt_label':'Ida-Ougnidif','dnom':'Ida Ougnidif','label_ar':' '},{'id':1298,'code_hcp':'09.163.03.25.','label':'Sidi Abdallah El Bouchouari','province_code':62,'cercle_code':161,'est_rural':0,'alt_label':'','dnom':'Sidi AbdallahEl Bouchouari','label_ar':'   '},{'id':1299,'code_hcp':'09.163.03.33.','label':'Tanalt','province_code':62,'cercle_code':161,'est_rural':0,'alt_label':'','dnom':'Tanalt','label_ar':''},{'id':1300,'code_hcp':'09.163.03.35.','label':'Targua Ntouchka','province_code':62,'cercle_code':161,'est_rural':0,'alt_label':'Targua-Ntouchka','dnom':'Targua Ntouchka','label_ar':' '},{'id':1301,'code_hcp':'09.163.03.37.','label':'Tassegdelt','province_code':62,'cercle_code':161,'est_rural':0,'alt_label':'','dnom':'Tassegdelt','label_ar':''},{'id':1302,'code_hcp':'09.163.03.39.','label':'Tizi Ntakoucht','province_code':62,'cercle_code':161,'est_rural':0,'alt_label':'','dnom':'Tizi Ntakoucht','label_ar':' '},{'id':1303,'code_hcp':'09.163.05.03.','label':'Ait Milk','province_code':62,'cercle_code':162,'est_rural':0,'alt_label':'','dnom':'Ait Milk','label_ar':' '},{'id':1304,'code_hcp':'09.163.05.11.','label':'Belfaa','province_code':62,'cercle_code':162,'est_rural':0,'alt_label':'','dnom':'Belfaa','label_ar':''},{'id':1305,'code_hcp':'09.163.05.19.','label':'Inchaden','province_code':62,'cercle_code':162,'est_rural':0,'alt_label':'','dnom':'Inchaden','label_ar':''},{'id':1306,'code_hcp':'09.163.05.21.','label':'Massa','province_code':62,'cercle_code':162,'est_rural':0,'alt_label':'','dnom':'Massa','label_ar':''},{'id':1307,'code_hcp':'09.163.05.31.','label':'Sidi Ouassay','province_code':62,'cercle_code':162,'est_rural':0,'alt_label':'','dnom':'Sidi Ouassay','label_ar':' '},{'id':1308,'code_hcp':'09.163.07.01.','label':'Ait Amira','province_code':62,'cercle_code':163,'est_rural':0,'alt_label':'','dnom':'Ait Amira','label_ar':' '},{'id':1309,'code_hcp':'09.163.07.17.','label':'Imi Mqourn','province_code':62,'cercle_code':163,'est_rural':0,'alt_label':'Imi-Mqourn','dnom':'Imi Mqourn','label_ar':' '},{'id':1310,'code_hcp':'09.163.07.23.','label':'Ouad Essafa','province_code':62,'cercle_code':163,'est_rural':0,'alt_label':'Oued Essafa','dnom':'Ouad Essafa','label_ar':' '},{'id':1311,'code_hcp':'09.163.07.27.','label':'Sidi Bibi','province_code':62,'cercle_code':163,'est_rural':0,'alt_label':'','dnom':'Sidi Bibi','label_ar':' '},{'id':1312,'code_hcp':'09.163.07.29.','label':'Sidi Boushab','province_code':62,'cercle_code':163,'est_rural':0,'alt_label':'','dnom':'Sidi Boushab','label_ar':'  '},{'id':1313,'code_hcp':'09.273.01.05.','label':'Ait Melloul','province_code':61,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Ait Melloul (Mun.)','label_ar':'  ()'},{'id':1314,'code_hcp':'09.273.01.13.','label':'Dcheira El Jihadia','province_code':61,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Dcheira El Jihadia (Mun.)','label_ar':'  ()'},{'id':1315,'code_hcp':'09.273.01.15.','label':'Inezgane','province_code':61,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Inezgane (Mun.)','label_ar':' ()'},{'id':1316,'code_hcp':'09.273.01.17.','label':'Lqliaa','province_code':61,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Lqliaa (Mun.)','label_ar':' ()'},{'id':1317,'code_hcp':'09.273.05.19.','label':'Oulad Dahou','province_code':61,'cercle_code':164,'est_rural':0,'alt_label':'','dnom':'Oulad Dahou','label_ar':' '},{'id':1318,'code_hcp':'09.273.05.27.','label':'Temsia','province_code':61,'cercle_code':164,'est_rural':0,'alt_label':'','dnom':'Temsia','label_ar':''},{'id':1319,'code_hcp':'09.541.01.01.','label':'Ait Iaaza','province_code':63,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Ait Iaaza (Mun.)','label_ar':'  ()'},{'id':1320,'code_hcp':'09.541.01.02.','label':'Aoulouz','province_code':63,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Aoulouz (Mun.)','label_ar':' ()'},{'id':1321,'code_hcp':'09.541.01.03.','label':'El Guerdane','province_code':63,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'El Guerdane (Mun.)','label_ar':' ()'},{'id':1322,'code_hcp':'09.541.01.05.','label':'Irherm','province_code':63,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Irherm (Mun.)','label_ar':' ()'},{'id':1323,'code_hcp':'09.541.01.07.','label':'Oulad Berhil','province_code':63,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Oulad Berhil (Mun.)','label_ar':'  ()'},{'id':1324,'code_hcp':'09.541.01.09.','label':'Oulad Teima','province_code':63,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Oulad Teima (Mun.)','label_ar':'  ()'},{'id':1325,'code_hcp':'09.541.01.11.','label':'Taliouine','province_code':63,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Taliouine (Mun.)','label_ar':' ()'},{'id':1326,'code_hcp':'09.541.01.13.','label':'Taroudannt','province_code':63,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Taroudannt (Mun.)','label_ar':' ()'},{'id':1327,'code_hcp':'09.541.03.01.','label':'Adar','province_code':63,'cercle_code':165,'est_rural':0,'alt_label':'','dnom':'Adar','label_ar':''},{'id':1328,'code_hcp':'09.541.03.03.','label':'Ait Abdallah','province_code':63,'cercle_code':165,'est_rural':0,'alt_label':'','dnom':'Ait Abdallah','label_ar':'  '},{'id':1329,'code_hcp':'09.541.03.05.','label':'Amalou','province_code':63,'cercle_code':165,'est_rural':0,'alt_label':'','dnom':'Amalou','label_ar':''},{'id':1330,'code_hcp':'09.541.03.07.','label':"Azaghar N'Irs",'province_code':63,'cercle_code':165,'est_rural':0,'alt_label':'','dnom':"Azaghar N'Irs",'label_ar':''},{'id':1331,'code_hcp':'09.541.03.09.','label':'Imaouen','province_code':63,'cercle_code':165,'est_rural':0,'alt_label':'','dnom':'Imaouen','label_ar':''},{'id':1332,'code_hcp':'09.541.03.11.','label':"Imi N'Tayart",'province_code':63,'cercle_code':165,'est_rural':0,'alt_label':'Imi Ntayart','dnom':"Imi N'Tayart",'label_ar':' '},{'id':1333,'code_hcp':'09.541.03.13.','label':'Nihit','province_code':63,'cercle_code':165,'est_rural':0,'alt_label':'','dnom':'Nihit','label_ar':''},{'id':1334,'code_hcp':'09.541.03.15.','label':'Oualqadi','province_code':63,'cercle_code':165,'est_rural':0,'alt_label':'','dnom':'Oualqadi','label_ar':''},{'id':1335,'code_hcp':'09.541.03.17.','label':'Sidi Boaal','province_code':63,'cercle_code':165,'est_rural':0,'alt_label':'','dnom':'Sidi Boaal','label_ar':' '},{'id':1336,'code_hcp':'09.541.03.19.','label':'Sidi Mzal','province_code':63,'cercle_code':165,'est_rural':0,'alt_label':'','dnom':'Sidi Mzal','label_ar':' '},{'id':1337,'code_hcp':'09.541.03.21.','label':'Tabia','province_code':63,'cercle_code':165,'est_rural':0,'alt_label':'','dnom':'Tabia','label_ar':''},{'id':1338,'code_hcp':'09.541.03.23.','label':'Tataoute','province_code':63,'cercle_code':165,'est_rural':0,'alt_label':'','dnom':'Tataoute','label_ar':''},{'id':1339,'code_hcp':'09.541.03.25.','label':'Tindine','province_code':63,'cercle_code':165,'est_rural':0,'alt_label':'','dnom':'Tindine','label_ar':''},{'id':1340,'code_hcp':'09.541.03.27.','label':'Tisfane','province_code':63,'cercle_code':165,'est_rural':0,'alt_label':'','dnom':'Tisfane','label_ar':''},{'id':1341,'code_hcp':'09.541.03.29.','label':'Toufelaazt','province_code':63,'cercle_code':165,'est_rural':0,'alt_label':'','dnom':'Toufelaazt','label_ar':''},{'id':1342,'code_hcp':'09.541.03.31.','label':'Toumliline','province_code':63,'cercle_code':165,'est_rural':0,'alt_label':'','dnom':'Toumliline','label_ar':''},{'id':1343,'code_hcp':'09.541.04.09.','label':'Arazane','province_code':63,'cercle_code':166,'est_rural':0,'alt_label':'','dnom':'Arazane','label_ar':''},{'id':1344,'code_hcp':'09.541.04.13.','label':'El Faid','province_code':63,'cercle_code':166,'est_rural':0,'alt_label':'','dnom':'El Faid','label_ar':''},{'id':1345,'code_hcp':'09.541.04.17.','label':'Ida Ou Gailal','province_code':63,'cercle_code':166,'est_rural':0,'alt_label':'','dnom':'Ida Ou Gailal','label_ar':' '},{'id':1346,'code_hcp':'09.541.04.21.','label':'Ida Ougoummad','province_code':63,'cercle_code':166,'est_rural':0,'alt_label':'','dnom':'Ida Ougoummad','label_ar':' '},{'id':1347,'code_hcp':'09.541.04.23.','label':'Igli','province_code':63,'cercle_code':166,'est_rural':0,'alt_label':'','dnom':'Igli','label_ar':''},{'id':1348,'code_hcp':'09.541.04.25.','label':'Igoudar Mnabha','province_code':63,'cercle_code':166,'est_rural':0,'alt_label':'','dnom':'Igoudar Mnabha','label_ar':' '},{'id':1349,'code_hcp':'09.541.04.29.','label':'Lamhara','province_code':63,'cercle_code':166,'est_rural':0,'alt_label':'','dnom':'Lamhara','label_ar':''},{'id':1350,'code_hcp':'09.541.04.33.','label':'Oulad Aissa','province_code':63,'cercle_code':166,'est_rural':0,'alt_label':'','dnom':'Oulad Aissa','label_ar':' '},{'id':1351,'code_hcp':'09.541.04.35.','label':'Ouneine','province_code':63,'cercle_code':166,'est_rural':0,'alt_label':'','dnom':'Ouneine','label_ar':''},{'id':1352,'code_hcp':'09.541.04.39.','label':'Sidi Abdellah Ou Said','province_code':63,'cercle_code':166,'est_rural':0,'alt_label':'','dnom':'Sidi Abdellah Ou Said','label_ar':'    '},{'id':1353,'code_hcp':'09.541.04.47.','label':'Sidi Ouaaziz','province_code':63,'cercle_code':166,'est_rural':0,'alt_label':'','dnom':'Sidi Ouaaziz','label_ar':' '},{'id':1354,'code_hcp':'09.541.04.49.','label':'Tafingoult','province_code':63,'cercle_code':166,'est_rural':0,'alt_label':'','dnom':'Tafingoult','label_ar':''},{'id':1355,'code_hcp':'09.541.04.53.','label':'Talgjount','province_code':63,'cercle_code':166,'est_rural':0,'alt_label':'','dnom':'Talgjount','label_ar':''},{'id':1356,'code_hcp':'09.541.04.59.','label':'Tigouga','province_code':63,'cercle_code':166,'est_rural':0,'alt_label':'','dnom':'Tigouga','label_ar':''},{'id':1357,'code_hcp':'09.541.04.61.','label':'Tinzart','province_code':63,'cercle_code':166,'est_rural':0,'alt_label':'','dnom':'Tinzart','label_ar':''},{'id':1358,'code_hcp':'09.541.04.67.','label':"Tizi N'Test",'province_code':63,'cercle_code':166,'est_rural':0,'alt_label':'','dnom':"Tizi N'Test",'label_ar':' '},{'id':1359,'code_hcp':'09.541.04.69.','label':'Toughmart','province_code':63,'cercle_code':166,'est_rural':0,'alt_label':'','dnom':'Toughmart','label_ar':''},{'id':1360,'code_hcp':'09.541.05.01.','label':'Ahl Ramel','province_code':63,'cercle_code':167,'est_rural':0,'alt_label':'','dnom':'Ahl Ramel','label_ar':' '},{'id':1361,'code_hcp':'09.541.05.03.','label':'Argana','province_code':63,'cercle_code':205,'est_rural':0,'alt_label':'','dnom':'Argana','label_ar':''},{'id':1362,'code_hcp':'09.541.05.05.','label':'Assads','province_code':63,'cercle_code':167,'est_rural':0,'alt_label':'','dnom':'Assads','label_ar':''},{'id':1363,'code_hcp':'09.541.05.07.','label':'Bigoudine','province_code':63,'cercle_code':205,'est_rural':0,'alt_label':'','dnom':'Bigoudine','label_ar':''},{'id':1364,'code_hcp':'09.541.05.09.','label':'Eddir','province_code':63,'cercle_code':205,'est_rural':0,'alt_label':'','dnom':'Eddir','label_ar':''},{'id':1365,'code_hcp':'09.541.05.11.','label':'El Koudia El Beida','province_code':63,'cercle_code':167,'est_rural':0,'alt_label':'','dnom':'El Koudia El Beida','label_ar':' '},{'id':1366,'code_hcp':'09.541.05.13.','label':'Imilmaiss','province_code':63,'cercle_code':205,'est_rural':0,'alt_label':'','dnom':'Imilmaiss','label_ar':''},{'id':1367,'code_hcp':'09.541.05.15.','label':'Issen','province_code':63,'cercle_code':205,'est_rural':0,'alt_label':'','dnom':'Issen','label_ar':''},{'id':1368,'code_hcp':'09.541.05.17.','label':'Lagfifat','province_code':63,'cercle_code':167,'est_rural':0,'alt_label':'','dnom':'Lagfifat','label_ar':''},{'id':1369,'code_hcp':'09.541.05.19.','label':'Lakhnafif','province_code':63,'cercle_code':167,'est_rural':0,'alt_label':'','dnom':'Lakhnafif','label_ar':''},{'id':1370,'code_hcp':'09.541.05.21.','label':'Lamhadi','province_code':63,'cercle_code':167,'est_rural':0,'alt_label':'','dnom':'Lamhadi','label_ar':''},{'id':1371,'code_hcp':'09.541.05.23.','label':'Machraa El Ain','province_code':63,'cercle_code':167,'est_rural':0,'alt_label':'','dnom':'Machraa El Ain','label_ar':' '},{'id':1372,'code_hcp':'09.541.05.25.','label':'Sidi Ahmed Ou Amar','province_code':63,'cercle_code':167,'est_rural':0,'alt_label':'','dnom':'Sidi Ahmed Ou Amar','label_ar':'   '},{'id':1373,'code_hcp':'09.541.05.27.','label':'Sidi Boumoussa','province_code':63,'cercle_code':167,'est_rural':0,'alt_label':'','dnom':'Sidi Boumoussa','label_ar':' '},{'id':1374,'code_hcp':'09.541.05.29.','label':'Sidi Moussa Lhamri','province_code':63,'cercle_code':205,'est_rural':0,'alt_label':'','dnom':'Sidi Moussa Lhamri','label_ar':'  '},{'id':1375,'code_hcp':'09.541.05.31.','label':'Talmakante','province_code':63,'cercle_code':205,'est_rural':0,'alt_label':'','dnom':'Talmakante','label_ar':''},{'id':1376,'code_hcp':'09.541.05.33.','label':'Tidsi Nissendalene','province_code':63,'cercle_code':167,'est_rural':0,'alt_label':'Tidsi-Nissendalene','dnom':'Tidsi Nissendalene','label_ar':' '},{'id':1377,'code_hcp':'09.541.07.01.','label':'Agadir Melloul','province_code':63,'cercle_code':168,'est_rural':0,'alt_label':'','dnom':'Agadir Melloul','label_ar':' '},{'id':1378,'code_hcp':'09.541.07.03.','label':'Ahl Tifnoute','province_code':63,'cercle_code':168,'est_rural':0,'alt_label':'','dnom':'Ahl Tifnoute','label_ar':' '},{'id':1379,'code_hcp':'09.541.07.05.','label':'Askaouen','province_code':63,'cercle_code':168,'est_rural':0,'alt_label':'','dnom':'Askaouen','label_ar':''},{'id':1380,'code_hcp':'09.541.07.07.','label':'Assaisse','province_code':63,'cercle_code':168,'est_rural':0,'alt_label':'','dnom':'Assaisse','label_ar':''},{'id':1381,'code_hcp':'09.541.07.09.','label':'Assaki','province_code':63,'cercle_code':168,'est_rural':0,'alt_label':'','dnom':'Assaki','label_ar':''},{'id':1382,'code_hcp':'09.541.07.11.','label':'Azrar','province_code':63,'cercle_code':168,'est_rural':0,'alt_label':'','dnom':'Azrar','label_ar':''},{'id':1383,'code_hcp':'09.541.07.13.','label':'Iguidi','province_code':63,'cercle_code':168,'est_rural':0,'alt_label':'','dnom':'Iguidi','label_ar':''},{'id':1384,'code_hcp':'09.541.07.15.','label':'Sidi Hsaine','province_code':63,'cercle_code':168,'est_rural':0,'alt_label':'','dnom':'Sidi Hsaine','label_ar':' '},{'id':1385,'code_hcp':'09.541.07.17.','label':'Taouyalte','province_code':63,'cercle_code':168,'est_rural':0,'alt_label':'','dnom':'Taouyalte','label_ar':''},{'id':1386,'code_hcp':'09.541.07.19.','label':'Tassousfi','province_code':63,'cercle_code':168,'est_rural':0,'alt_label':'','dnom':'Tassousfi','label_ar':''},{'id':1387,'code_hcp':'09.541.07.21.','label':'Tizgzaouine','province_code':63,'cercle_code':168,'est_rural':0,'alt_label':'','dnom':'Tizgzaouine','label_ar':''},{'id':1388,'code_hcp':'09.541.07.23.','label':'Toubkal','province_code':63,'cercle_code':168,'est_rural':0,'alt_label':'','dnom':'Toubkal','label_ar':''},{'id':1389,'code_hcp':'09.541.07.25.','label':'Zagmouzen','province_code':63,'cercle_code':168,'est_rural':0,'alt_label':'','dnom':'Zagmouzen','label_ar':''},{'id':1390,'code_hcp':'09.541.07.37.','label':'Ouzioua','province_code':63,'cercle_code':168,'est_rural':0,'alt_label':'','dnom':'Ouzioua','label_ar':''},{'id':1391,'code_hcp':'09.541.07.65.','label':'Tisrasse','province_code':63,'cercle_code':168,'est_rural':0,'alt_label':'','dnom':'Tisrasse','label_ar':''},{'id':1392,'code_hcp':'09.541.09.01.','label':'Ahmar Laglalcha','province_code':63,'cercle_code':205,'est_rural':0,'alt_label':'','dnom':'Ahmar Laglalcha','label_ar':'  '},{'id':1393,'code_hcp':'09.541.09.03.','label':'Ait Igas','province_code':63,'cercle_code':169,'est_rural':0,'alt_label':'','dnom':'Ait Igas','label_ar':' '},{'id':1394,'code_hcp':'09.541.09.05.','label':'Ait Makhlouf','province_code':63,'cercle_code':169,'est_rural':0,'alt_label':'','dnom':'Ait Makhlouf','label_ar':' '},{'id':1395,'code_hcp':'09.541.09.11.','label':'Bounrar','province_code':63,'cercle_code':169,'est_rural':0,'alt_label':'','dnom':'Bounrar','label_ar':''},{'id':1396,'code_hcp':'09.541.09.15.','label':'Freija','province_code':63,'cercle_code':169,'est_rural':0,'alt_label':'','dnom':'Freija','label_ar':''},{'id':1397,'code_hcp':'09.541.09.19.','label':'Ida Ou Moumen','province_code':63,'cercle_code':205,'est_rural':0,'alt_label':'','dnom':'Ida Ou Moumen','label_ar':'  '},{'id':1398,'code_hcp':'09.541.09.27.','label':'Imoulass','province_code':63,'cercle_code':169,'est_rural':0,'alt_label':'','dnom':'Imoulass','label_ar':''},{'id':1399,'code_hcp':'09.541.09.31.','label':'Lamnizla','province_code':63,'cercle_code':205,'est_rural':0,'alt_label':'','dnom':'Lamnizla','label_ar':''},{'id':1400,'code_hcp':'09.541.09.41.','label':'Sidi Ahmed Ou Abdallah','province_code':63,'cercle_code':169,'est_rural':0,'alt_label':'','dnom':'Sidi Ahmed Ou Abdallah','label_ar':'    '},{'id':1401,'code_hcp':'09.541.09.43.','label':'Sidi Borja','province_code':63,'cercle_code':169,'est_rural':0,'alt_label':'','dnom':'Sidi Borja','label_ar':' '},{'id':1402,'code_hcp':'09.541.09.45.','label':'Sidi Dahmane','province_code':63,'cercle_code':169,'est_rural':0,'alt_label':'','dnom':'Sidi Dahmane','label_ar':' '},{'id':1403,'code_hcp':'09.541.09.51.','label':'Tafraouten','province_code':63,'cercle_code':169,'est_rural':0,'alt_label':'','dnom':'Tafraouten','label_ar':''},{'id':1404,'code_hcp':'09.541.09.55.','label':'Tamaloukte','province_code':63,'cercle_code':169,'est_rural':0,'alt_label':'','dnom':'Tamaloukte','label_ar':''},{'id':1405,'code_hcp':'09.541.09.57.','label':'Tazemmourt','province_code':63,'cercle_code':169,'est_rural':0,'alt_label':'','dnom':'Tazemmourt','label_ar':''},{'id':1406,'code_hcp':'09.541.09.63.','label':'Tiout','province_code':63,'cercle_code':169,'est_rural':0,'alt_label':'','dnom':'Tiout','label_ar':''},{'id':1407,'code_hcp':'09.541.09.71.','label':'Zaouia Sidi Tahar','province_code':63,'cercle_code':205,'est_rural':0,'alt_label':'Sidi Tahar','dnom':'Zaouia Sidi Tahar','label_ar':'  '},{'id':1408,'code_hcp':'09.551.01.01.','label':'Akka','province_code':65,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Akka (Mun.)','label_ar':' ()'},{'id':1409,'code_hcp':'09.551.01.03.','label':'Fam El Hisn','province_code':65,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Fam El Hisn (Mun.)','label_ar':'  ()'},{'id':1410,'code_hcp':'09.551.01.05.','label':'Foum Zguid','province_code':65,'cercle_code':0,'est_rural':1,'alt_label':'Foum-Zguid','dnom':'Foum Zguid (Mun.)','label_ar':'   ()'},{'id':1411,'code_hcp':'09.551.01.07.','label':'Tata','province_code':65,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Tata (Mun.)','label_ar':' ()'},{'id':1412,'code_hcp':'09.551.03.01.','label':'Ait Ouabelli','province_code':65,'cercle_code':170,'est_rural':0,'alt_label':'','dnom':'Ait Ouabelli','label_ar':' '},{'id':1413,'code_hcp':'09.551.03.03.','label':"Kasbat Sidi Abdellah Ben M'Barek",'province_code':65,'cercle_code':170,'est_rural':0,'alt_label':"Kasbat Sidi Abdellah-Ben M'Barek",'dnom':"Kasbat Sidi Abdellah Ben M'Barek",'label_ar':'     '},{'id':1414,'code_hcp':'09.551.03.05.','label':'Tamanarte','province_code':65,'cercle_code':170,'est_rural':0,'alt_label':'','dnom':'Tamanarte','label_ar':''},{'id':1415,'code_hcp':'09.551.03.07.','label':'Tizounine','province_code':65,'cercle_code':170,'est_rural':0,'alt_label':'','dnom':'Tizounine','label_ar':''},{'id':1416,'code_hcp':'09.551.05.01.','label':'Aguinane','province_code':65,'cercle_code':171,'est_rural':0,'alt_label':'','dnom':'Aguinane','label_ar':''},{'id':1417,'code_hcp':'09.551.05.03.','label':'Akka Ighane','province_code':65,'cercle_code':171,'est_rural':0,'alt_label':'Akka-Ighane','dnom':'Akka Ighane','label_ar':' '},{'id':1418,'code_hcp':'09.551.05.05.','label':'Allougoum','province_code':65,'cercle_code':171,'est_rural':0,'alt_label':'','dnom':'Allougoum','label_ar':''},{'id':1419,'code_hcp':'09.551.05.07.','label':'Ibn Yacoub','province_code':65,'cercle_code':171,'est_rural':0,'alt_label':'','dnom':'Ibn Yacoub','label_ar':' '},{'id':1420,'code_hcp':'09.551.05.09.','label':'Tissint','province_code':65,'cercle_code':171,'est_rural':0,'alt_label':'','dnom':'Tissint','label_ar':''},{'id':1421,'code_hcp':'09.551.05.11.','label':'Tlite','province_code':65,'cercle_code':171,'est_rural':0,'alt_label':'','dnom':'Tlite','label_ar':''},{'id':1422,'code_hcp':'09.551.07.01.','label':'Adis','province_code':65,'cercle_code':172,'est_rural':0,'alt_label':'','dnom':'Adis','label_ar':''},{'id':1423,'code_hcp':'09.551.07.03.','label':'Issafen','province_code':65,'cercle_code':172,'est_rural':0,'alt_label':'','dnom':'Issafen','label_ar':''},{'id':1424,'code_hcp':'09.551.07.05.','label':'Oum El Guerdane','province_code':65,'cercle_code':172,'est_rural':0,'alt_label':'','dnom':'Oum El Guerdane','label_ar':' '},{'id':1425,'code_hcp':'09.551.07.07.','label':'Tagmout','province_code':65,'cercle_code':172,'est_rural':0,'alt_label':'','dnom':'Tagmout','label_ar':''},{'id':1426,'code_hcp':'09.551.07.09.','label':'Tigzmerte','province_code':65,'cercle_code':172,'est_rural':0,'alt_label':'','dnom':'Tigzmerte','label_ar':''},{'id':1427,'code_hcp':'09.551.07.11.','label':'Tizaghte','province_code':65,'cercle_code':172,'est_rural':0,'alt_label':'','dnom':'Tizaghte','label_ar':''},{'id':1428,'code_hcp':'09.581.01.05.','label':'Tafraout','province_code':64,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Tafraout (Mun.)','label_ar':' ()'},{'id':1429,'code_hcp':'09.581.01.07.','label':'Tiznit','province_code':64,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Tiznit (Mun.)','label_ar':' ()'},{'id':1430,'code_hcp':'09.581.03.01.','label':'Ait Issafen','province_code':64,'cercle_code':173,'est_rural':0,'alt_label':'','dnom':'Ait Issafen','label_ar':' '},{'id':1431,'code_hcp':'09.581.03.03.','label':'Anzi','province_code':64,'cercle_code':173,'est_rural':0,'alt_label':'','dnom':'Anzi','label_ar':''},{'id':1432,'code_hcp':'09.581.03.05.','label':'Arbaa Ait Ahmed','province_code':64,'cercle_code':173,'est_rural':0,'alt_label':'','dnom':'Arbaa Ait Ahmed','label_ar':'  '},{'id':1433,'code_hcp':'09.581.03.07.','label':'Ida Ou Gougmar','province_code':64,'cercle_code':173,'est_rural':0,'alt_label':'','dnom':'Ida Ou Gougmar','label_ar':'  '},{'id':1434,'code_hcp':'09.581.03.09.','label':'Sidi Ahmed Ou Moussa','province_code':64,'cercle_code':173,'est_rural':0,'alt_label':'','dnom':'Sidi Ahmed Ou Moussa','label_ar':'   '},{'id':1435,'code_hcp':'09.581.03.11.','label':'Tafraout El Mouloud','province_code':64,'cercle_code':173,'est_rural':0,'alt_label':'','dnom':'Tafraout El Mouloud','label_ar':' '},{'id':1436,'code_hcp':'09.581.03.13.','label':'Tighmi','province_code':64,'cercle_code':173,'est_rural':0,'alt_label':'','dnom':'Tighmi','label_ar':''},{'id':1437,'code_hcp':'09.581.03.15.','label':'Tizoughrane','province_code':64,'cercle_code':173,'est_rural':0,'alt_label':'','dnom':'Tizoughrane','label_ar':''},{'id':1438,'code_hcp':'09.581.03.17.','label':'Tnine Aday','province_code':64,'cercle_code':173,'est_rural':0,'alt_label':'','dnom':'Tnine Aday','label_ar':' '},{'id':1439,'code_hcp':'09.581.09.01.','label':'Afella Ighir','province_code':64,'cercle_code':174,'est_rural':0,'alt_label':'','dnom':'Afella Ighir','label_ar':'  '},{'id':1440,'code_hcp':'09.581.09.03.','label':'Ait Ouafqa','province_code':64,'cercle_code':174,'est_rural':0,'alt_label':'','dnom':'Ait Ouafqa','label_ar':' '},{'id':1441,'code_hcp':'09.581.09.05.','label':'Ammelne','province_code':64,'cercle_code':174,'est_rural':0,'alt_label':'','dnom':'Ammelne','label_ar':''},{'id':1442,'code_hcp':'09.581.09.07.','label':"Irigh N'Tahala",'province_code':64,'cercle_code':174,'est_rural':0,'alt_label':'','dnom':"Irigh N'Tahala",'label_ar':'  '},{'id':1443,'code_hcp':'09.581.09.09.','label':'Tarsouat','province_code':64,'cercle_code':174,'est_rural':0,'alt_label':'','dnom':'Tarsouat','label_ar':''},{'id':1444,'code_hcp':'09.581.09.11.','label':'Tassrirt','province_code':64,'cercle_code':174,'est_rural':0,'alt_label':'','dnom':'Tassrirt','label_ar':''},{'id':1445,'code_hcp':'09.581.11.01.','label':'Arbaa Rasmouka','province_code':64,'cercle_code':175,'est_rural':0,'alt_label':'','dnom':'Arbaa Rasmouka','label_ar':' '},{'id':1446,'code_hcp':'09.581.11.03.','label':'Arbaa Sahel','province_code':64,'cercle_code':175,'est_rural':0,'alt_label':'','dnom':'Arbaa Sahel','label_ar':' '},{'id':1447,'code_hcp':'09.581.11.05.','label':'Bounaamane','province_code':64,'cercle_code':175,'est_rural':0,'alt_label':'','dnom':'Bounaamane','label_ar':''},{'id':1448,'code_hcp':'09.581.11.07.','label':'El Maader El Kabir','province_code':64,'cercle_code':175,'est_rural':0,'alt_label':'','dnom':'El Maader El Kabir','label_ar':' '},{'id':1449,'code_hcp':'09.581.11.09.','label':'Ouijjane','province_code':64,'cercle_code':175,'est_rural':0,'alt_label':'','dnom':'Ouijjane','label_ar':''},{'id':1450,'code_hcp':'09.581.11.11.','label':'Reggada','province_code':64,'cercle_code':175,'est_rural':0,'alt_label':'','dnom':'Reggada','label_ar':''},{'id':1451,'code_hcp':'09.581.11.13.','label':'Sidi Bouabdelli','province_code':64,'cercle_code':175,'est_rural':0,'alt_label':'','dnom':'Sidi Bouabdelli','label_ar':'  '},{'id':1452,'code_hcp':'09.581.11.15.','label':'Tnine Aglou','province_code':64,'cercle_code':175,'est_rural':0,'alt_label':'','dnom':'Tnine Aglou','label_ar':' '},{'id':1453,'code_hcp':'10.071.01.01.','label':'Assa','province_code':67,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Assa (Mun.)','label_ar':' ()'},{'id':1454,'code_hcp':'10.071.01.03.','label':'Zag','province_code':67,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Zag (Mun.)','label_ar':' ()'},{'id':1455,'code_hcp':'10.071.03.01.','label':'Aouint Lahna','province_code':67,'cercle_code':176,'est_rural':0,'alt_label':'','dnom':'Aouint Lahna','label_ar':' '},{'id':1456,'code_hcp':'10.071.03.03.','label':'Aouint Yghomane','province_code':67,'cercle_code':176,'est_rural':0,'alt_label':'','dnom':'Aouint Yghomane','label_ar':' '},{'id':1457,'code_hcp':'10.071.03.05.','label':'Touizgui','province_code':67,'cercle_code':176,'est_rural':0,'alt_label':'','dnom':'Touizgui','label_ar':''},{'id':1458,'code_hcp':'10.071.05.01.','label':'Al Mahbass','province_code':67,'cercle_code':177,'est_rural':0,'alt_label':'','dnom':'Al Mahbass','label_ar':''},{'id':1459,'code_hcp':'10.071.05.03.','label':'Labouirat','province_code':67,'cercle_code':177,'est_rural':0,'alt_label':'','dnom':'Labouirat','label_ar':''},{'id':1460,'code_hcp':'10.261.01.01.','label':'Bouizakarne','province_code':66,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Bouizakarne (Mun.)','label_ar':'  ()'},{'id':1461,'code_hcp':'10.261.01.03.','label':'Guelmim','province_code':66,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Guelmim (Mun.)','label_ar':' ()'},{'id':1462,'code_hcp':'10.261.03.01.','label':'Aday','province_code':66,'cercle_code':178,'est_rural':0,'alt_label':'','dnom':'Aday','label_ar':''},{'id':1463,'code_hcp':'10.261.03.03.','label':'Ait Boufoulen','province_code':66,'cercle_code':178,'est_rural':0,'alt_label':'','dnom':'Ait Boufoulen','label_ar':' '},{'id':1464,'code_hcp':'10.261.03.05.','label':'Amtdi','province_code':66,'cercle_code':178,'est_rural':0,'alt_label':'','dnom':'Amtdi','label_ar':''},{'id':1465,'code_hcp':'10.261.03.07.','label':'Ifrane Atlas Saghir','province_code':66,'cercle_code':178,'est_rural':0,'alt_label':'','dnom':'Ifrane Atlas Saghir','label_ar':'  '},{'id':1466,'code_hcp':'10.261.03.09.','label':'Tagante','province_code':66,'cercle_code':178,'est_rural':0,'alt_label':'','dnom':'Tagante','label_ar':''},{'id':1467,'code_hcp':'10.261.03.11.','label':'Taghjijt','province_code':66,'cercle_code':178,'est_rural':0,'alt_label':'','dnom':'Taghjijt','label_ar':''},{'id':1468,'code_hcp':'10.261.03.13.','label':'Timoulay','province_code':66,'cercle_code':178,'est_rural':0,'alt_label':'','dnom':'Timoulay','label_ar':''},{'id':1469,'code_hcp':'10.261.05.03.','label':'Aferkat','province_code':66,'cercle_code':179,'est_rural':0,'alt_label':'','dnom':'Aferkat','label_ar':''},{'id':1470,'code_hcp':'10.261.05.05.','label':'Asrir','province_code':66,'cercle_code':179,'est_rural':0,'alt_label':'','dnom':'Asrir','label_ar':''},{'id':1471,'code_hcp':'10.261.05.09.','label':'Fask','province_code':66,'cercle_code':179,'est_rural':0,'alt_label':'','dnom':'Fask','label_ar':''},{'id':1472,'code_hcp':'10.261.05.21.','label':'Tiglit','province_code':66,'cercle_code':179,'est_rural':0,'alt_label':'','dnom':'Tiglit','label_ar':''},{'id':1473,'code_hcp':'10.261.07.01.','label':'Abaynou','province_code':66,'cercle_code':180,'est_rural':0,'alt_label':'','dnom':'Abaynou','label_ar':''},{'id':1474,'code_hcp':'10.261.07.07.','label':'Echatea El Abied','province_code':66,'cercle_code':180,'est_rural':0,'alt_label':'','dnom':'Echatea El Abied','label_ar':' '},{'id':1475,'code_hcp':'10.261.07.11.','label':'Labyar','province_code':66,'cercle_code':180,'est_rural':0,'alt_label':'','dnom':'Labyar','label_ar':''},{'id':1476,'code_hcp':'10.261.07.13.','label':'Laqsabi Tagoust','province_code':66,'cercle_code':180,'est_rural':0,'alt_label':'','dnom':'Laqsabi Tagoust','label_ar':' '},{'id':1477,'code_hcp':'10.261.07.15.','label':'Rass Oumlil','province_code':66,'cercle_code':180,'est_rural':0,'alt_label':'','dnom':'Rass Oumlil','label_ar':' '},{'id':1478,'code_hcp':'10.261.07.17.','label':'Taliouine Assaka','province_code':66,'cercle_code':180,'est_rural':0,'alt_label':'','dnom':'Taliouine Assaka','label_ar':' '},{'id':1479,'code_hcp':'10.261.07.19.','label':'Targa Wassay','province_code':66,'cercle_code':180,'est_rural':0,'alt_label':'','dnom':'Targa Wassay','label_ar':' '},{'id':1480,'code_hcp':'10.473.01.01.','label':'Lakhsas','province_code':69,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Lakhsas (Mun.)','label_ar':' ()'},{'id':1481,'code_hcp':'10.473.01.03.','label':'Sidi Ifni','province_code':69,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Sidi Ifni (Mun.)','label_ar':'  ()'},{'id':1482,'code_hcp':'10.473.05.01.','label':'Arbaa Ait Abdellah','province_code':69,'cercle_code':181,'est_rural':0,'alt_label':'','dnom':'Arbaa Ait Abdellah','label_ar':'   '},{'id':1483,'code_hcp':'10.473.05.03.','label':"Imi N'Fast",'province_code':69,'cercle_code':181,'est_rural':0,'alt_label':"Imi-N'Fast",'dnom':"Imi N'Fast",'label_ar':' '},{'id':1484,'code_hcp':'10.473.05.05.','label':'Mesti','province_code':69,'cercle_code':181,'est_rural':0,'alt_label':'','dnom':'Mesti','label_ar':''},{'id':1485,'code_hcp':'10.473.05.07.','label':'Mirleft','province_code':69,'cercle_code':0,'est_rural':0,'alt_label':'','dnom':'Mirleft','label_ar':' '},{'id':1486,'code_hcp':'10.473.05.09.','label':'Sbouya','province_code':69,'cercle_code':181,'est_rural':0,'alt_label':'','dnom':'Sbouya','label_ar':''},{'id':1487,'code_hcp':'10.473.05.11.','label':'Tangarfa','province_code':69,'cercle_code':181,'est_rural':0,'alt_label':'','dnom':'Tangarfa','label_ar':''},{'id':1488,'code_hcp':'10.473.05.13.','label':'Tioughza','province_code':69,'cercle_code':181,'est_rural':0,'alt_label':'','dnom':'Tioughza','label_ar':''},{'id':1489,'code_hcp':'10.473.05.15.','label':'Tnine Amellou','province_code':69,'cercle_code':181,'est_rural':0,'alt_label':'','dnom':'Tnine Amellou','label_ar':' '},{'id':1490,'code_hcp':'10.473.07.01.','label':'Ait Erkha','province_code':69,'cercle_code':182,'est_rural':0,'alt_label':'','dnom':'Ait Erkha','label_ar':' '},{'id':1491,'code_hcp':'10.473.07.03.','label':'Anfeg','province_code':69,'cercle_code':182,'est_rural':0,'alt_label':'','dnom':'Anfeg','label_ar':''},{'id':1492,'code_hcp':'10.473.07.05.','label':'Boutrouch','province_code':69,'cercle_code':182,'est_rural':0,'alt_label':'','dnom':'Boutrouch','label_ar':''},{'id':1493,'code_hcp':'10.473.07.07.','label':'Ibdar','province_code':69,'cercle_code':182,'est_rural':0,'alt_label':'','dnom':'Ibdar','label_ar':''},{'id':1494,'code_hcp':'10.473.07.09.','label':'Sebt Ennabour','province_code':69,'cercle_code':182,'est_rural':0,'alt_label':'','dnom':'Sebt Ennabour','label_ar':' '},{'id':1495,'code_hcp':'10.473.07.11.','label':'Sidi Abdallah Ou Belaid','province_code':69,'cercle_code':182,'est_rural':0,'alt_label':'Sidi Abdellah Ou Belaid','dnom':'Sidi AbdallahOu Belaid','label_ar':'    '},{'id':1496,'code_hcp':'10.473.07.13.','label':"Sidi H'Saine Ou Ali",'province_code':69,'cercle_code':182,'est_rural':0,'alt_label':'','dnom':"Sidi H'Saine Ou Ali",'label_ar':'   '},{'id':1497,'code_hcp':'10.473.07.15.','label':"Sidi M'Bark",'province_code':69,'cercle_code':182,'est_rural':0,'alt_label':'','dnom':"Sidi M'Bark",'label_ar':' '},{'id':1498,'code_hcp':'10.473.07.17.','label':'Tighirt','province_code':69,'cercle_code':182,'est_rural':0,'alt_label':'','dnom':'Tighirt','label_ar':''},{'id':1499,'code_hcp':'10.521.01.01.','label':'Tan Tan','province_code':68,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Tan Tan (Mun.)','label_ar':' ()'},{'id':1500,'code_hcp':'10.521.01.03.','label':'El Ouatia','province_code':68,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'El Ouatia (Mun.)','label_ar':' ()'},{'id':1501,'code_hcp':'10.521.03.01.','label':'Msied','province_code':68,'cercle_code':183,'est_rural':0,'alt_label':'','dnom':'Msied','label_ar':''},{'id':1502,'code_hcp':'10.521.03.03.','label':'Tilemzoun','province_code':68,'cercle_code':183,'est_rural':0,'alt_label':'','dnom':'Tilemzoun','label_ar':''},{'id':1503,'code_hcp':'10.521.05.01.','label':'Abteh','province_code':68,'cercle_code':184,'est_rural':0,'alt_label':'','dnom':'Abteh','label_ar':''},{'id':1504,'code_hcp':'10.521.05.03.','label':'Ben Khlil','province_code':68,'cercle_code':184,'est_rural':0,'alt_label':'','dnom':'Ben Khlil','label_ar':' '},{'id':1505,'code_hcp':'10.521.05.05.','label':'Chbika','province_code':68,'cercle_code':184,'est_rural':0,'alt_label':'','dnom':'Chbika','label_ar':''},{'id':1506,'code_hcp':'11.121.01.01.','label':'Boujdour','province_code':71,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Boujdour (Mun.)','label_ar':' ()'},{'id':1507,'code_hcp':'11.121.03.01.','label':'Gueltat Zemmour','province_code':71,'cercle_code':185,'est_rural':0,'alt_label':'','dnom':'Gueltat Zemmour','label_ar':' '},{'id':1508,'code_hcp':'11.121.03.03.','label':'Jraifia','province_code':71,'cercle_code':185,'est_rural':0,'alt_label':'','dnom':'Jraifia','label_ar':''},{'id':1509,'code_hcp':'11.121.03.05.','label':'Lamssid','province_code':71,'cercle_code':185,'est_rural':0,'alt_label':'','dnom':'Lamssid','label_ar':''},{'id':1510,'code_hcp':'11.221.01.01.','label':'Es-semara','province_code':73,'cercle_code':0,'est_rural':1,'alt_label':'Es-Smara','dnom':'Es-semara (Mun.)','label_ar':' ()'},{'id':1511,'code_hcp':'11.221.03.01.','label':'Amgala','province_code':73,'cercle_code':186,'est_rural':0,'alt_label':'','dnom':'Amgala','label_ar':''},{'id':1512,'code_hcp':'11.221.03.03.','label':'Haouza','province_code':73,'cercle_code':186,'est_rural':0,'alt_label':'','dnom':'Haouza','label_ar':''},{'id':1513,'code_hcp':'11.221.03.05.','label':'Jdiriya','province_code':73,'cercle_code':186,'est_rural':0,'alt_label':'','dnom':'Jdiriya','label_ar':''},{'id':1514,'code_hcp':'11.221.03.07.','label':'Sidi Ahmed Laaroussi','province_code':73,'cercle_code':186,'est_rural':0,'alt_label':'','dnom':'Sidi Ahmed Laaroussi','label_ar':'  '},{'id':1515,'code_hcp':'11.221.03.09.','label':'Tifariti','province_code':73,'cercle_code':186,'est_rural':0,'alt_label':'','dnom':'Tifariti','label_ar':''},{'id':1516,'code_hcp':'11.321.01.01.','label':'El Marsa','province_code':70,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'El Marsa (Mun.)','label_ar':' ()'},{'id':1517,'code_hcp':'11.321.01.03.','label':'Laayoune','province_code':70,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Laayoune (Mun.)','label_ar':' ()'},{'id':1518,'code_hcp':'11.321.03.01.','label':'Boukraa','province_code':70,'cercle_code':187,'est_rural':0,'alt_label':'','dnom':'Boukraa','label_ar':''},{'id':1519,'code_hcp':'11.321.03.03.','label':'Dcheira','province_code':70,'cercle_code':187,'est_rural':0,'alt_label':'','dnom':'Dcheira','label_ar':''},{'id':1520,'code_hcp':'11.321.03.05.','label':'Foum El Oued','province_code':70,'cercle_code':187,'est_rural':0,'alt_label':'','dnom':'Foum El Oued','label_ar':' '},{'id':1521,'code_hcp':'11.537.01.05.','label':'Tarfaya','province_code':72,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Tarfaya (Mun.)','label_ar':' ()'},{'id':1522,'code_hcp':'11.537.03.03.','label':'Daoura','province_code':72,'cercle_code':188,'est_rural':0,'alt_label':'','dnom':'Daoura','label_ar':''},{'id':1523,'code_hcp':'11.537.03.05.','label':'El Hagounia','province_code':72,'cercle_code':188,'est_rural':0,'alt_label':'','dnom':'El Hagounia','label_ar':''},{'id':1524,'code_hcp':'11.537.05.01.','label':'Akhfennir','province_code':72,'cercle_code':189,'est_rural':0,'alt_label':'','dnom':'Akhfennir','label_ar':''},{'id':1525,'code_hcp':'11.537.05.07.','label':'Tah','province_code':72,'cercle_code':189,'est_rural':0,'alt_label':'','dnom':'Tah','label_ar':''},{'id':1526,'code_hcp':'12.066.01.03.','label':'Lagouira','province_code':75,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Lagouira (Mun.)','label_ar':' ()'},{'id':1527,'code_hcp':'12.066.03.03.','label':'Aghouinite','province_code':75,'cercle_code':190,'est_rural':0,'alt_label':'','dnom':'Aghouinite','label_ar':''},{'id':1528,'code_hcp':'12.066.03.05.','label':'Aousserd','province_code':75,'cercle_code':190,'est_rural':0,'alt_label':'','dnom':'Aousserd','label_ar':''},{'id':1529,'code_hcp':'12.066.03.07.','label':'Tichla','province_code':75,'cercle_code':190,'est_rural':0,'alt_label':'','dnom':'Tichla','label_ar':''},{'id':1530,'code_hcp':'12.066.03.09.','label':'Zoug','province_code':75,'cercle_code':190,'est_rural':0,'alt_label':'','dnom':'Zoug','label_ar':''},{'id':1531,'code_hcp':'12.066.05.03.','label':'Bir Gandouz','province_code':75,'cercle_code':191,'est_rural':0,'alt_label':'','dnom':'Bir Gandouz','label_ar':' '},{'id':1532,'code_hcp':'12.391.01.01.','label':'Dakhla','province_code':74,'cercle_code':0,'est_rural':1,'alt_label':'','dnom':'Dakhla (Mun.)','label_ar':' ()'},{'id':1533,'code_hcp':'12.391.05.01.','label':'Bir Anzarane','province_code':74,'cercle_code':192,'est_rural':0,'alt_label':'','dnom':'Bir Anzarane','label_ar':' '},{'id':1534,'code_hcp':'12.391.05.03.','label':'Gleibat El Foula','province_code':74,'cercle_code':192,'est_rural':0,'alt_label':'','dnom':'Gleibat El Foula','label_ar':' '},{'id':1535,'code_hcp':'12.391.05.05.','label':'Mijik','province_code':74,'cercle_code':192,'est_rural':0,'alt_label':'','dnom':'Mijik','label_ar':''},{'id':1536,'code_hcp':'12.391.05.07.','label':'Oum Dreyga','province_code':74,'cercle_code':192,'est_rural':0,'alt_label':'','dnom':'Oum Dreyga','label_ar':' '},{'id':1537,'code_hcp':'12.391.09.01.','label':'El Argoub','province_code':74,'cercle_code':193,'est_rural':0,'alt_label':'','dnom':'El Argoub','label_ar':''},{'id':1538,'code_hcp':'12.391.09.03.','label':'Imlili','province_code':74,'cercle_code':193,'est_rural':0,'alt_label':'','dnom':'Imlili','label_ar':''}]},0,0,0,0,['store.communes'],0,[App.store.INDH,'Communes'],0);Ext.cmd.derive('App.store.INDH.Fondations',Ext.data.Store,{fields:['value','label'],data:[{value:0,label:'FMPS'},{value:1,label:'FZ'},{value:3,label:'MENPS'}]},0,0,0,0,['store.fondations'],0,[App.store.INDH,'Fondations'],0);Ext.cmd.derive('App.store.INDH.NatureAffectations',Ext.data.Store,{fields:['value','label'],data:[{value:'Cration',label:'Cration'},{value:'Fonctionnement',label:'Fonctionnement'},{value:'Equipement',label:'Equipement'},{value:'Actions',label:'Actions Spciales'}]},0,0,0,0,['store.nature_affectations'],0,[App.store.INDH,'NatureAffectations'],0);Ext.cmd.derive('App.store.INDH.Phases',Ext.data.Store,{fields:['code','value'],data:[{code:0,value:'Annul, Rsili ou en Arrt'},{code:1,value:"Phase d'tudes"},{code:2,value:'Phase des travaux'},{code:3,value:'Phase de pr-ouverture'},{code:4,value:'Phase oprationnelle'}]},0,0,0,0,['store.phases'],0,[App.store.INDH,'Phases'],0);Ext.cmd.derive('App.store.INDH.Programmes',Ext.data.Store,{fields:['code','value'],data:[{code:1,value:'P1'},{code:4,value:'P4'}]},0,0,0,0,['store.programmes'],0,[App.store.INDH,'Programmes'],0);Ext.cmd.derive('App.store.INDH.Provinces',Ext.data.Store,{fields:['value','label','label_ar','label_complet','region_code','code_hcp'],data:[{'value':1,'label':'Tanger-Assilah','region_code':0,'code_hcp':'01.511.','label_ar':':  - ','label_complet':'Prfecture: Tanger-Assilah'},{'value':2,'label':'M\u2019diq-Fnideq','region_code':0,'code_hcp':'01.573.','label_ar':':  - ','label_complet':"Prfecture: M'Diq-Fnideq"},{'value':3,'label':'Ttouan','region_code':0,'code_hcp':'01.571.','label_ar':': ','label_complet':'Province: Ttouan'},{'value':4,'label':'Fahs-Anjra','region_code':0,'code_hcp':'01.227.','label_ar':':  - ','label_complet':'Province: Fahs-Anjra        '},{'value':5,'label':'Larache','region_code':0,'code_hcp':'01.331.','label_ar':': ','label_complet':'Province: Larache'},{'value':6,'label':'Al Hoceima','region_code':0,'code_hcp':'01.051.','label_ar':': ','label_complet':'Province: Al Hoceima'},{'value':7,'label':'Chefchaouen','region_code':0,'code_hcp':'01.151.','label_ar':': ','label_complet':'Province: Chefchaouen'},{'value':8,'label':'Ouezzane','region_code':0,'code_hcp':'01.405.','label_ar':': ','label_complet':'Province: Ouezzane'},{'value':9,'label':'Oujda-Angad','region_code':1,'code_hcp':'02.411.','label_ar':':  - ','label_complet':'Prfecture: Oujda-Angad'},{'value':10,'label':'Nador','region_code':1,'code_hcp':'02.381.','label_ar':': ','label_complet':'Province: Nador'},{'value':11,'label':'Driouch','region_code':1,'code_hcp':'02.167.','label_ar':': ','label_complet':'Province: Driouch'},{'value':12,'label':'Jerada','region_code':1,'code_hcp':'02.275.','label_ar':': ','label_complet':'Province: Jerada'},{'value':13,'label':'Berkane','region_code':1,'code_hcp':'02.113.','label_ar':': ','label_complet':'Province: Berkane'},{'value':14,'label':'Taourirt','region_code':1,'code_hcp':'02.533.','label_ar':': ','label_complet':'Province: Taourirt'},{'value':15,'label':'Guercif','region_code':1,'code_hcp':'02.265.','label_ar':': ','label_complet':'Province: Guercif'},{'value':16,'label':'Figuig','region_code':1,'code_hcp':'02.251.','label_ar':': ','label_complet':'Province: Figuig'},{'value':17,'label':'Fs','region_code':2,'code_hcp':'03.231.','label_ar':': ','label_complet':'Prfecture: Fs'},{'value':18,'label':'Mekns','region_code':2,'code_hcp':'03.061.','label_ar':': ','label_complet':'Prfecture: Mekns'},{'value':19,'label':'El Hajeb','region_code':2,'code_hcp':'03.171.','label_ar':': ','label_complet':'Province: El  Hajeb'},{'value':20,'label':'Ifrane','region_code':2,'code_hcp':'03.271.','label_ar':': ','label_complet':'Province: Ifrane'},{'value':21,'label':'Moulay Yacoub','region_code':2,'code_hcp':'03.591.','label_ar':':  ','label_complet':'Province: Moulay Yacoub'},{'value':22,'label':'Sefrou','region_code':2,'code_hcp':'03.451.','label_ar':': ','label_complet':'Province: Sefrou'},{'value':23,'label':'Boulemane','region_code':2,'code_hcp':'03.131.','label_ar':': ','label_complet':'Province: Boulemane'},{'value':24,'label':'Taounate','region_code':2,'code_hcp':'03.531.','label_ar':': ','label_complet':'Province: Taounate'},{'value':25,'label':'Taza','region_code':2,'code_hcp':'03.561.','label_ar':': ','label_complet':'Province: Taza'},{'value':26,'label':'Rabat','region_code':3,'code_hcp':'04.421.','label_ar':': ','label_complet':'Prfecture: Rabat'},{'value':27,'label':'Sal','region_code':3,'code_hcp':'04.441.','label_ar':': ','label_complet':'Prfecture: Sal'},{'value':28,'label':'Skhirate-Tmara','region_code':3,'code_hcp':'04.501.','label_ar':':   - ','label_complet':'Prfecture: Skhirate- Tmara'},{'value':29,'label':'Knitra','region_code':3,'code_hcp':'04.281.','label_ar':': ','label_complet':'Province: Knitra'},{'value':30,'label':'Khmisset','region_code':3,'code_hcp':'04.291.','label_ar':': ','label_complet':'Province: Khmisset'},{'value':31,'label':'Sidi Kacem','region_code':3,'code_hcp':'04.481.','label_ar':':  ','label_complet':'Province: Sidi Kacem'},{'value':32,'label':'Sidi Slimane','region_code':3,'code_hcp':'04.491.','label_ar':':  ','label_complet':'Province: Sidi Slimane'},{'value':33,'label':'Bni Mellal','region_code':4,'code_hcp':'05.091.','label_ar':':  ','label_complet':'Province: Bni Mellal'},{'value':34,'label':'Azilal','region_code':4,'code_hcp':'05.081.','label_ar':': ','label_complet':'Province: Azilal'},{'value':35,'label':'Fquih Ben Salah','region_code':4,'code_hcp':'05.255.','label_ar':':   ','label_complet':'Province: Fquih Ben Salah'},{'value':36,'label':'Khnifra','region_code':4,'code_hcp':'05.301.','label_ar':': ','label_complet':'Province: Khnifra'},{'value':37,'label':'Khouribga','region_code':4,'code_hcp':'05.311.','label_ar':': ','label_complet':'Province: Khouribga'},{'value':38,'label':'Casablanca','region_code':5,'code_hcp':'06.141.','label_ar':':  ','label_complet':'Prfecture: Casablanca'},{'value':39,'label':'Mohammadia','region_code':5,'code_hcp':'06.371.','label_ar':': ','label_complet':'Prfecture: Mohammadia'},{'value':40,'label':'El Jadida','region_code':5,'code_hcp':'06.181.','label_ar':': ','label_complet':'Province: El Jadida'},{'value':41,'label':'Nouaceur','region_code':5,'code_hcp':'06.385.','label_ar':': ','label_complet':'Province: Nouaceur'},{'value':42,'label':'Mdiouna','region_code':5,'code_hcp':'06.355.','label_ar':': ','label_complet':'Province: Mdiouna'},{'value':43,'label':'Benslimane','region_code':5,'code_hcp':'06.111.','label_ar':': ','label_complet':'Province: Benslimane'},{'value':44,'label':'Berrechid','region_code':5,'code_hcp':'06.117.','label_ar':': ','label_complet':'Province: Berrechid'},{'value':45,'label':'Settat','region_code':5,'code_hcp':'06.461.','label_ar':': ','label_complet':'Province: Settat'},{'value':46,'label':'Sidi Bennour','region_code':5,'code_hcp':'06.467.','label_ar':':  ','label_complet':'Province: Sidi Bennour'},{'value':47,'label':'Marrakech','region_code':6,'code_hcp':'07.351.','label_ar':': ','label_complet':'Prfecture: Marrakech'},{'value':48,'label':'Chichaoua','region_code':6,'code_hcp':'07.161.','label_ar':': ','label_complet':'Province: Chichaoua'},{'value':49,'label':'Al Haouz','region_code':6,'code_hcp':'07.041.','label_ar':': ','label_complet':'Province: Al  Haouz'},{'value':50,'label':'El Kela des Sraghna','region_code':6,'code_hcp':'07.191.','label_ar':':   ','label_complet':'Province: El Kela des  Sraghna'},{'value':51,'label':'Essaouira','region_code':6,'code_hcp':'07.211.','label_ar':': ','label_complet':'Province: Essaouira'},{'value':52,'label':'Rehamna','region_code':6,'code_hcp':'07.427.','label_ar':': ','label_complet':'Province: Rehamna'},{'value':53,'label':'Safi','region_code':6,'code_hcp':'07.431.','label_ar':': ','label_complet':'Province: Safi'},{'value':54,'label':'Youssoufia','region_code':6,'code_hcp':'07.585.','label_ar':': ','label_complet':'Province: Youssoufia'},{'value':55,'label':'Errachidia','region_code':7,'code_hcp':'08.201.','label_ar':': ','label_complet':'Province: Errachidia'},{'value':56,'label':'Ouarzazate','region_code':7,'code_hcp':'08.401.','label_ar':': ','label_complet':'Province: Ouarzazate'},{'value':57,'label':'Midelt','region_code':7,'code_hcp':'08.363.','label_ar':': ','label_complet':'Province: Midelt'},{'value':58,'label':'Tinghir','region_code':7,'code_hcp':'08.577.','label_ar':': ','label_complet':'Province: Tinghir'},{'value':59,'label':'Zagora','region_code':7,'code_hcp':'08.587.','label_ar':': ','label_complet':'Province: Zagora'},{'value':60,'label':'Agadir-Ida-Ou-Tanane','region_code':8,'code_hcp':'09.001.','label_ar':':    ','label_complet':'Prfecture: Agadir-Ida -Ou-Tanane'},{'value':61,'label':'Inezgane-At Melloul','region_code':8,'code_hcp':'09.273.','label_ar':':   ','label_complet':'Prfecture: Inezgane- Ait Melloul'},{'value':62,'label':'Chtouka-At Baha','region_code':8,'code_hcp':'09.163.','label_ar':':   ','label_complet':'Province: Chtouka- Ait Baha'},{'value':63,'label':'Taroudannt','region_code':8,'code_hcp':'09.541.','label_ar':': ','label_complet':'Province: Taroudannt'},{'value':64,'label':'Tiznit','region_code':8,'code_hcp':'09.581.','label_ar':': ','label_complet':'Province: Tiznit'},{'value':65,'label':'Tata','region_code':8,'code_hcp':'09.551.','label_ar':': ','label_complet':'Province: Tata'},{'value':66,'label':'Guelmim','region_code':9,'code_hcp':'10.261.','label_ar':': ','label_complet':'Province: Guelmim'},{'value':67,'label':'Assa-Zag','region_code':9,'code_hcp':'10.071.','label_ar':':  - ','label_complet':'Province: Assa-Zag'},{'value':68,'label':'Tan-Tan','region_code':9,'code_hcp':'10.521.','label_ar':': ','label_complet':'Province: Tan-Tan'},{'value':69,'label':'Sidi Ifni','region_code':9,'code_hcp':'10.473.','label_ar':':  ','label_complet':'Province: Sidi Ifni'},{'value':70,'label':'Layoune','region_code':10,'code_hcp':'11.321.','label_ar':': ','label_complet':'Province: Layoune'},{'value':71,'label':'Boujdour','region_code':10,'code_hcp':'11.121.','label_ar':': ','label_complet':'Province: Boujdour'},{'value':72,'label':'Tarfaya','region_code':10,'code_hcp':'11.537.','label_ar':': ','label_complet':'Province: Tarfaya'},{'value':73,'label':'Es-Semara','region_code':10,'code_hcp':'11.221.','label_ar':': ','label_complet':'Province: Es-Semara'},{'value':74,'label':'Oued Ed-Dahab','region_code':11,'code_hcp':'12.391.','label_ar':':  ','label_complet':'Province: Oued Ed-Dahab'},{'value':75,'label':'Aousserd','region_code':11,'code_hcp':'12.066.','label_ar':': ','label_complet':'Province: Aousserd'}]},0,0,0,0,['store.provinces'],0,[App.store.INDH,'Provinces'],0);Ext.cmd.derive('App.store.INDH.Regions',Ext.data.Store,{fields:['label','value','label_ar','code_hcp'],data:[{'value':0,'label':'Tanger-Ttouan-Al Hoceima','code_hcp':'01.','label_ar':' -  - '},{'value':1,'label':'L\u2019Oriental','code_hcp':'02.','label_ar':''},{'value':2,'label':'Fs-Mekns','code_hcp':'03.','label_ar':' - '},{'value':3,'label':'Rabat-Sal-Knitra','code_hcp':'04.','label_ar':' -  - '},{'value':4,'label':'Bni Mellal-Khnifra','code_hcp':'05.','label_ar':'  - '},{'value':5,'label':'Casablanca-Settat','code_hcp':'06.','label_ar':'   - '},{'value':6,'label':'Marrakech-Safi','code_hcp':'07.','label_ar':' - ','code_hcp':'07.'},{'value':7,'label':'Dra-Tafilalet','code_hcp':'08.','label_ar':' - ','code_hcp':'08.'},{'value':8,'label':'Souss-Massa','code_hcp':'09.','label_ar':' - '},{'value':9,'label':'Guelmim-Oued Noun','code_hcp':'10.','label_ar':' -  '},{'value':10,'label':'Layoune-Sakia Al Hamra','code_hcp':'11.','label_ar':' -   '},{'value':11,'label':'Dakhla-Oued Eddahab','code_hcp':'12.','label_ar':' -  '}]},0,0,0,0,['store.regions'],0,[App.store.INDH,'Regions'],0);Ext.cmd.derive('App.store.INDH.Saisons',Ext.data.Store,{fields:['value'],data:[],constructor:function(){Ext.data.Store.prototype.constructor.apply(this,arguments);var b=[],a=2019,c=2030;for(;a<=c;++a){b.push({'value':a.toString()+'/'+(a+1).toString()})}this.loadData(b)}},1,0,0,0,['store.saisons'],0,[App.store.INDH,'Saisons'],0);Ext.cmd.derive('App.store.INDH.Statuts',Ext.data.Store,{fields:['code','value'],data:[{code:40,value:'Oprationnelle'},{code:32,value:'Recrutement et formation en cours'},{code:31,value:'Equipement en cours'},{code:30,value:"En cours de la remise des cls de l'UP"},{code:22,value:'Travaux rceptionns'},{code:21,value:'Travaux achevs'},{code:20,value:'Travaux en cours'},{code:19,value:'March des travaux engag'},{code:18,value:"March des travaux en cours d'engagement"},{code:17,value:'March des travaux adjug'},{code:16,value:"March des travaux en cours d'adjudication"},{code:14,value:'March des travaux lanc'},{code:13,value:'March des travaux en cours de lancement'},{code:12,value:'Etudes acheves'},{code:11,value:'Etudes lances'},{code:10,value:'Etudes non encore lances'},{code:51,value:'Rsilie'},{code:52,value:'Annule'}]},0,0,0,0,['store.statuts'],0,[App.store.INDH,'Statuts'],0);var P_TRANCHES={SPECIAL:-1,ETUDES:0,CONSTRUCTION:1,EQUIPEMENT:2,TR1:3,TR2:4,ANNEE_1:5,TR3:6,TR4:7,ANNEE_2:8,ANNEE_1_2:9,ANNEE_3:10,ANNEE_4:11,ANNEE_5:12,COMPLEMENT_PERENISATION:13,ANNEE_6:14,ANNEE_7:15,ANNEE_8:16,ANNEE_9:17,ANNEE_10:18,ANNEE_11:19,ANNEE_12:20,ANNEE_13:21,ANNEE_14:22,ANNEE_15:23,SUPPLEMENT_SMIG:100,SUPPLEMENT_SMIG_PERENISATION:200,PRIME_ANCIENNETE:300,ENTRETIEN:400};Ext.cmd.derive('App.store.INDH.Tranches',Ext.data.Store,{fields:['value','label'],data:[{value:P_TRANCHES.ETUDES,label:'Tranche Etudes'},{value:P_TRANCHES.CONSTRUCTION,label:'Tranche Construction'},{value:P_TRANCHES.EQUIPEMENT,label:'Tranche Equipement'},{value:P_TRANCHES.TR1,label:'1re Tranche de Fonctionnement'},{value:P_TRANCHES.TR2,label:'2me Tranche de Fonctionnement'},{value:P_TRANCHES.TR3,label:'3me Tranche de Fonctionnement'},{value:P_TRANCHES.TR4,label:'4me Tranche de Fonctionnement'},{value:P_TRANCHES.ANNEE_1,label:'1re Anne de Fonctionnement'},{value:P_TRANCHES.ANNEE_2,label:'2me Anne de Fonctionnement'},{value:P_TRANCHES.ANNEE_1_2,label:'Deux annes de Fonctionnement'},{value:P_TRANCHES.ANNEE_3,label:'3me Anne de Fonctionnement'},{value:P_TRANCHES.ANNEE_4,label:'4me Anne de Fonctionnement'},{value:P_TRANCHES.ANNEE_5,label:'5me Anne de Fonctionnement'},{value:P_TRANCHES.COMPLEMENT_PERENISATION,label:"Complment de fonctionnement jusqu' fin 2023"},{value:P_TRANCHES.ANNEE_6,label:'6me Anne de Fonctionnement'},{value:P_TRANCHES.ANNEE_7,label:'7me Anne de Fonctionnement'},{value:P_TRANCHES.ANNEE_8,label:'8me Anne de Fonctionnement'},{value:P_TRANCHES.ANNEE_9,label:'9me Anne de Fonctionnement'},{value:P_TRANCHES.ANNEE_10,label:'10me Anne de Fonctionnement'},{value:P_TRANCHES.ANNEE_11,label:'11me Anne de Fonctionnement'},{value:P_TRANCHES.ANNEE_12,label:'12me Anne de Fonctionnement'},{value:P_TRANCHES.ANNEE_13,label:'13me Anne de Fonctionnement'},{value:P_TRANCHES.ANNEE_14,label:'14me Anne de Fonctionnement'},{value:P_TRANCHES.ANNEE_15,label:'15me Anne de Fonctionnement'},{value:P_TRANCHES.SUPPLEMENT_SMIG,label:'Supplment de SMIG / Tranches dlgues avant septembre et en cours de consommation'},{value:P_TRANCHES.SUPPLEMENT_SMIG_PERENISATION,label:'Supplment de SMIG / Tranches dlgues avant septembre et en cours de consommation'},{value:P_TRANCHES.PRIME_ANCIENNETE,label:"Prime d'anciennet"},{value:P_TRANCHES.ENTRETIEN,label:'Rnovation et entretien'}]},0,0,0,0,['store.tranches'],0,[App.store.INDH,'Tranches'],0);Ext.cmd.derive('App.store.INDH.UPModes',Ext.data.Store,{fields:['code','value'],data:[{code:1,value:'Construction'},{code:2,value:'Amnagement'},{code:3,value:'Modulaire'}]},0,0,0,0,['store.upmodes'],0,[App.store.INDH,'UPModes'],0);Ext.cmd.derive('App.store.INDH.UPTypes',Ext.data.Store,{fields:['code','value'],data:[{code:1,value:'T1'},{code:2,value:'T2'},{code:3,value:'T3'}]},0,0,0,0,['store.uptypes'],0,[App.store.INDH,'UPTypes'],0);Ext.cmd.derive('App.store.Lots',Ext.data.Store,{model:'App.model.Lot'},0,0,0,0,['store.lots'],0,[App.store,'Lots'],0);Ext.cmd.derive('App.store.NavigationTree',Ext.data.TreeStore,{storerouteId:'NavigationTree',fields:[{name:'text'},{name:'minRole'},{name:'maxRole'}],proxy:{type:'memory'},root:{expanded:!0,children:[{text:'Transfert des UP',iconCls:'x-fa fa-hand-holding',expanded:!0,selectable:!1,minRole:3,children:[{text:'UP  transfrer',routeId:'transfert_unites',viewType:'transfertunitesgrid',iconCls:'x-fa fa-school',leaf:!0,minRole:3,maxRole:0},{text:'Procdures',routeId:'transfert_suivi',viewType:'transfertbrowse',iconCls:'x-fa fa-tasks',leaf:!0,minRole:3,maxRole:0}]},{text:'Suivi Physique',iconCls:'x-fa fa-school',expanded:!0,selectable:!1,minRole:4,children:[{text:'Reporting',routeId:'reporting',viewType:'reportingview',iconCls:'x-fa fa-clipboard-list',leaf:!0,minRole:3},{text:'Etats de Sortie',routeId:'livrables',viewType:'reporting2view',iconCls:'x-fa fa-clipboard-list',leaf:!0,minRole:2},{text:'Donnes des UP',routeId:'unites',viewType:'unitebrowse',iconCls:'x-fa fa-chalkboard-teacher',leaf:!0,minRole:4},{text:'Statistiques',routeId:'stats',viewType:'statsshow',iconCls:'x-fa fa-chart-pie',leaf:!0,minRole:1}]},{text:'Suivi Budgtaire',iconCls:'x-fa fa-money-bill',expanded:!0,selectable:!1,minRole:3,children:[{text:'Situation budgtaire',routeId:'couts',viewType:'creditview',iconCls:'x-fa fa-money-bill',leaf:!0,minRole:3},{text:'Lots de Dlgations',routeId:'lots',viewType:'lotbrowse',iconCls:'x-fa fa-money-check-alt',minRole:1,leaf:!0},{text:'Liste des Dlgations',routeId:'delegations',viewType:'delegationbrowse',iconCls:'x-fa fa-receipt',minRole:1,leaf:!0,visible:!1},{text:'Dpenses',routeId:'depenses',viewType:'depensebrowse',iconCls:'x-fa fa-minus',minRole:1,leaf:!0,visible:!1},{text:'Dlgations',routeId:'sousdelegations',viewType:'sousdelegationsbrowse',iconCls:'x-fa fa-file-invoice-dollar',minRole:3,leaf:!0,visible:!0},{text:'Situation',routeId:'delegations_stats',viewType:'delegationsstats',iconCls:'x-fa fa-chart-bar',leaf:!0,minRole:3},{text:'Suivi UP',routeId:'monitoring',viewType:'monitoringhome',iconCls:'x-fa fa-eye',minRole:1,leaf:!0},{text:'Projections',routeId:'projections',viewType:'projectionsshow',iconCls:'x-fa fa-binoculars',minRole:1,leaf:!0}]},{text:'Territoires',iconCls:'x-fa fa-map',expanded:!0,selectable:!1,minRole:3,children:[{text:'Communes',routeId:'communes',viewType:'communebrowse',iconCls:'x-fa fa-map-marker-alt',leaf:!0,minRole:3},{text:'Douars',routeId:'douars',viewType:'douarbrowse',iconCls:'x-fa fa-map-marker-alt',leaf:!0,minRole:3},{text:'Carte Douars',routeId:'douarsmap',viewType:'douarsmap',iconCls:'x-fa fa-map-marked-alt',leaf:!0,minRole:1}]},{text:'Historique',routeId:'history',viewType:'historybrowse',iconCls:'x-fa fa-history',minRole:3,leaf:!0},{text:'Utilisateurs',routeId:'users',viewType:'userbrowse',iconCls:'x-fa fa-users',minRole:1,leaf:!0}]}},0,0,0,0,['store.navigation'],0,[App.store,'NavigationTree'],0);Ext.cmd.derive('App.store.ObjetsDelegations',Ext.data.Store,{model:'App.model.ObjetDelegation'},0,0,0,0,['store.objetsdelegations'],0,[App.store,'ObjetsDelegations'],0);Ext.cmd.derive('App.store.Projets',Ext.data.Store,{model:'App.model.Projet',proxy:{type:'direct',api:{prefix:'Server.unites',create:'insert',read:'list',update:'update',destroy:'remove'},reader:{type:'json',rootProperty:'data',messageProperty:'message'},extraParams:{scope:'nested'}}},0,0,0,0,['store.projets'],0,[App.store,'Projets'],0);Ext.cmd.derive('App.store.Reportings',Ext.data.Store,{model:'App.model.Reporting',remoteFilter:!1,remoteSort:!1,remoteGroup:!1},0,0,0,0,['store.reportings'],0,[App.store,'Reportings'],0);Ext.cmd.derive('App.store.SousDelegations',Ext.data.Store,{model:'App.model.SousDelegation'},0,0,0,0,['store.sousdelegations'],0,[App.store,'SousDelegations'],0);Ext.cmd.derive('App.store.Transferts',Ext.data.Store,{model:'App.model.Transfert'},0,0,0,0,['store.transferts'],0,[App.store,'Transferts'],0);Ext.cmd.derive('App.store.Unites',Ext.data.Store,{model:'App.model.Unite',service:'unites',remoteProxy:{type:'direct',api:{prefix:'Server.unites',create:'insert',read:'list',update:'update',destroy:'remove'},reader:{type:'json',rootProperty:'data',messageProperty:'message'},extraParams:{scope:'browse'}}},0,0,0,0,['store.unites'],0,[App.store,'Unites'],0);Ext.cmd.derive('App.store.Users',Ext.data.Store,{model:'App.model.User',remoteFilter:!0,remoteSort:!0,sorters:'lastname'},0,0,0,0,['store.users'],0,[App.store,'Users'],0);Ext.cmd.derive('App.store.VaguesTransferts',Ext.data.Store,{model:'App.model.VagueTransfert'},0,0,0,0,['store.vaguestransferts'],0,[App.store,'VaguesTransferts'],0);Ext.cmd.derive('App.util.Errors',Ext.Base,{statics:{toForm:function(a){var b={};if(Ext.isObject(a)&&a.errors){a=a.errors}if(Ext.isArray(a)){a.forEach(function(c){var e=c.id||c.field||c.path;var d=c.msg||c.message;if(e&&d){b[e]=d}})}else {b=a}return b},toMsg:function(a){var b='';if(!Ext.isEmpty(a.message)){b='<h2>'+a.message+'</h2>'}if(Ext.isObject(a)&&a.errors){a=a.errors}if(Ext.isArray(a)){b+='<ol>';a.forEach(function(c){var e=c.id||c.field||c.path;var d=c.msg||c.message;b=b+'<li><b>'+e+' : </b>'+d+'</li>'});b+='</ol>'}else {var c=a.id||a.field||a.path;var d=a.msg||a.message;b=b+'<b>'+c+' : </b><br/><br/>'}return b}}},0,0,0,0,0,0,[App.util,'Errors'],0);Ext.cmd.derive('App.util.Nodes',Ext.Base,{statics:{ITEMS:['Classe','Categorie','Risque'],CONFIGS:[{mtype:'Classe',iconCls:'x-fa fa-archive',expanded:!0,leaf:!1},{mtype:'Categorie',expanded:!0,leaf:!1},{mtype:'Risque',iconCls:'x-fa fa-warning',leaf:!0}],createNodes:function(){var b=App.app,e=b.getRisksStore(),c=b.getRisksTreeStore(),d=App.util.Nodes,a=d.CONFIGS;e.load({scope:this,callback:function(b,d,i){var k;if(!i||d.exception){var h="Nous n'avons pas pu Recuprer les Donnes  !<br/> Veuillez actualiser la page";h+=App.util.Errors.toMsg(d.error||d.getError());App.ux.Signals.showWarning(h,!0);return}if(!b.length){return}var e=c.getRootNode(),f={},g={},j=[];b.filter(function(a){return a.data.mtype==='Classe'}).forEach(function(f){var c=Ext.clone(f.data),h=c.mtype;c.text=c.name;Ext.apply(c,a[0]);c.children=[];g[c.id]=e.appendChild(c)});b.filter(function(a){return a.data.mtype==='Categorie'}).forEach(function(h){var c=Ext.clone(h.data),j=c.mtype,e;c.text=c.name;Ext.apply(c,a[1]);c.children=[];e=g[c.parentId];if(e){f[c.id]=e.appendChild(c)}});b.filter(function(a){return a.data.mtype==='Risque'}).forEach(function(g){var c=Ext.clone(g.data),h=c.mtype,e;c.text=c.name;Ext.apply(c,a[2]);e=f[c.parentId];if(e){e.appendChild(c)}});e.set('iconCls','x-fa fa-cube');e.expand()}})}}},0,0,0,0,0,0,[App.util,'Nodes'],0);Ext.cmd.derive('App.util.Remote',Ext.Base,{singleton:!0,constructor:function(){Ext.ux.ajax.SimManager.init({defaultSimlet:null})},filter:function(d,c,e){var a=Ext.calendar.date.Range,b=new a(c,e);return Ext.Array.filter(d,function(f){return b.overlaps(a.fly(f.startDate,f.endDate))})},find:function(a,d,c){var b=Ext.Date;a=b.clone(a);while(a.getDay()!==d){a=b.add(a,b.DAY,c)}return a},findNext:function(a,b){return this.find(a,b,1)},findPrevious:function(a,b){return this.find(a,b,-1)},generateIds:function(a,b){Ext.Array.forEach(a,function(c){c.id=++b});return a},generateOutput:function(d,b,a){var c=this.filter(d,a.params.startDate,a.params.endDate);return this.prepare(c,b)},prepare:function(c,b){var a=Ext.Date;return Ext.Array.map(c,function(d){d=Ext.apply({},d);d.calendarId=b;if(d.allDay){d.startDate=a.localToUtc(d.startDate);d.endDate=a.localToUtc(d.endDate)}d.startDate=a.format(d.startDate,'C');d.endDate=a.format(d.endDate,'C');return d})},setDate:function(e,b,c,d){var a=Ext.Date.clone(e);if(b!==undefined){a.setDate(b)}if(c!==undefined){a.setHours(c)}if(d!==undefined){a.setMinutes(d)}return a},setHours:function(a,b,c){return this.setDate(a,undefined,b,c)}},1,0,0,0,0,0,[App.util,'Remote'],function(b){function halfhour(){return Math.random()<0.5?30:0}function getRandom(a){var d=c.randomInt(0,a.length-1);return a[d]}function getStaticWorkData(){var d=[],h=2,f=a.clearTime(a.getFirstDateOfMonth(new Date()),!0),i=a.clearTime(a.getLastDateOfMonth(f),!0),e=f,g,c;while(e<=i){e=b.findNext(e,h);g=h===2;d.push({title:'Scrum',startDate:b.setHours(e,g?9:15),endDate:b.setHours(e,g?10:16)});h=g?4:2}c=b.findNext(f,1);d.push({title:'RoadShow Tokyo',allDay:!0,startDate:c,endDate:a.add(c,a.DAY,2)});c=a.add(c,a.DAY,8);d.push({title:'RoadShow Melbourne',allDay:!0,startDate:c,endDate:a.add(c,a.DAY,2)});c=a.add(c,a.DAY,8);d.push({title:'RoadShow London',allDay:!0,startDate:c,endDate:a.add(c,a.DAY,2)});c=b.findNext(b.findNext(f,5),5);d.push({title:'Client A',startDate:b.setHours(c,10),endDate:b.setHours(c,10,30)});d.push({title:'Client B',startDate:b.setHours(c,11),endDate:b.setHours(c,11,30)});d.push({title:'Client C',startDate:b.setHours(c,12),endDate:b.setHours(c,12,30)});d.push({title:'Client D',startDate:b.setHours(c,15),endDate:b.setHours(c,15,30)});return b.generateIds(d,100)}function getDynamicWorkData(){var e=a.clone(g),h=[],i,k,f;while(e<j){i=1;if(!a.isWeekend(e)){k=Math.random();if(k>0.25){if(Math.random()<0.5){f=c.randomInt(8,12);h.push({title:getRandom(d)+' with '+getRandom(m),startDate:b.setDate(e,undefined,f,halfhour()),endDate:b.setDate(e,undefined,c.randomInt(f+1,13),halfhour())})}if(Math.random()>0.5){f=c.randomInt(14,18);h.push({title:getRandom(d)+' with '+getRandom(m),startDate:b.setDate(e,undefined,f,halfhour()),endDate:b.setDate(e,undefined,c.randomInt(f+1,18),halfhour())})}}else if(k>0.2){i=a.FRIDAY-e.getDay()+1;h.push({title:'In '+getRandom(l)+' office',startDate:e,endDate:a.add(e,a.DAY,i),allDay:!0})}}e=a.add(e,a.DAY,i)}return b.generateIds(h,3000)}function getStaticUseralData(){var d=[],e=a.clearTime(a.getFirstDateOfMonth(new Date()),!0),f=a.clearTime(a.getLastDateOfMonth(e),!0),c;c=b.setHours(b.findNext(e,5),19,0);d.push({title:'Dinner w/ Tom',startDate:c,endDate:b.setHours(c,22)});c=b.findNext(e,6);d.push({title:'Golf Weekend',allDay:!0,startDate:c,endDate:a.add(c,a.DAY,2)});c=b.findNext(b.findNext(e,5),5);d.push({title:'Go to Post Office',allDay:!0,startDate:c,endDate:a.add(c,a.DAY,1)});d.push({title:'Bike Ride',startDate:b.setHours(c,6),endDate:b.setHours(c,7)});d.push({title:'Watch Show X',startDate:b.setHours(c,20),endDate:b.setHours(c,21)});d.push({title:'Watch Show Y',startDate:b.setHours(c,22),endDate:b.setHours(c,23)});return b.generateIds(d,200)}function getDynamicUseralData(){var d=a.clone(g),e=[],i,f,m;while(d<j){i=1;if(a.isWeekend(d)){f=Math.random();if(d.getDay()===a.SATURDAY&&f<0.1){e.push({title:'Weekend away in '+getRandom(l),startDate:d,endDate:a.add(d,a.DAY,2),allDay:!0});i=2}else if(f<0.3){e.push({title:getRandom(k)+' with '+getRandom(h),startDate:d,endDate:a.add(d,a.DAY,1),allDay:!0})}else if(f<0.7){m=c.randomInt(9,18);e.push({title:getRandom(k)+' with '+getRandom(h),startDate:b.setDate(d,undefined,m,halfhour()),endDate:b.setDate(d,undefined,c.randomInt(m+1,21),halfhour())})}}else {if(Math.random()>0.7){e.push({title:'Dinner with '+getRandom(h),startDate:b.setDate(d,undefined,19,30),endDate:b.setDate(d,undefined,22)})}}d=a.add(d,a.DAY,i)}return b.generateIds(e,6000)}function getStaticUniteData(){return []}function getDynamicUniteData(){var e=a.clone(g),f=[],k=0,l,i,h;while(e<j){l=1;if(!a.isWeekend(e)){if(e.getDay()===a.TUESDAY||e.getDay()===a.THURSDAY){f.push({title:'Scrum',startDate:b.setDate(e,undefined,9),endDate:b.setDate(e,undefined,9,30)})}i=Math.random();if(i>0.6){h=c.randomInt(11,15);f.push({title:getRandom(d)+' with '+getRandom(o),startDate:b.setDate(e,undefined,h,halfhour()),endDate:b.setDate(e,undefined,c.randomInt(h+1,17),halfhour())});if(i>0.9){++k;f.push({title:'Deliverable '+k+' Due',allDay:!0,startDate:e,endDate:a.add(e,a.DAY,1)})}}}e=a.add(e,a.DAY,l)}return b.generateIds(f,9000)}var l=['London','Paris','Munich','Amsterdam','Rome'],h=['Louis','Mitch','Ava','Shelly','Vicki','Stefanie','Jason','Elena','Randy','Fred','Debbie'],m=['Release','QA','Development','PM','R&D'],o=['Marketing','Sales'],p=['Client A','Client B','Client C','Client D'],q=['Client E','Client F','Client G','Client H'],d=['Meet','Call','Review'],k=['Hike','Gallery','Gaming','Theatre','Bowling','Concert'];var f=window.location.search.toLowerCase().indexOf('nodata')>-1,e=window.location.search.toLowerCase().indexOf('staticdata')>-1,a=Ext.Date,c=Ext.Number,n=a.clearTime(new Date()),g=a.subtract(a.subtract(n,a.YEAR,1),a.DAY,15),j=a.add(a.add(n,a.YEAR,1),a.DAY,15),i={work:f?[]:e?getStaticWorkData():getDynamicWorkData(),useral:f?[]:e?getStaticUseralData():getDynamicUseralData(),uniteZeus:f?[]:e?getStaticUniteData():getDynamicUniteData()};Ext.ux.ajax.SimManager.register({'/Calendars':{type:'json',data:[{id:1,title:'Work Calendar',eventStore:{proxy:{type:'ajax',url:'/Calendars/1'}}},{id:2,title:'Useral',eventStore:{proxy:{type:'ajax',url:'/Calendars/2'}}},{id:3,title:'Unite Zeus',eventStore:{proxy:{type:'ajax',url:'/Calendars/3'}}}]},'/Calendars/1':{type:'json',data:function(a){return b.generateOutput(i.work,1,a)}},'/Calendars/2':{type:'json',data:function(a){return b.generateOutput(i.useral,2,a)}},'/Calendars/3':{type:'json',data:function(a){return b.generateOutput(i.uniteZeus,3,a)}}})});Ext.cmd.derive('App.util.SVGExporter',Ext.Base,{singleton:!0,exportToPNG:function(e,c,d,b){var f=this,a=this.getSVGString(e.node());this.svgString2Image(a,d,b,'png',function(a,g){f.saveBase64AsFile(a,c+'.png')})},saveBase64AsFile:function(c,b){var a=document.createElement('a');a.setAttribute('href',c);a.setAttribute('download',b);a.click()},getSVGString:function(b){b.setAttribute('xlink','http://www.w3.org/1999/xlink');var c=this.getCSSStyles(b);this.appendCSS(c,b);var d=new XMLSerializer();var a=d.serializeToString(b);a=a.replace(/(\w+)?:?xlink=/g,'xmlns:xlink=');a=a.replace(/NS\d+:href/g,'xlink:href');return a},getCSSStyles:function(d){var b=[];var e=function(b,a){return a.indexOf(b)===-1?!1:!0};b.push('#'+d.id);for(var a=0;a<d.classList.length;a++){if(!e('.'+d.classList[a],b)){b.push('.'+d.classList[a])}}var i=d.getElementsByTagName('*');for(var c=0;c<i.length;c++){var k=i[c].id;if(!e('#'+k,b)){b.push('#'+k)}var h=i[c].classList;for(var a=0;a<h.length;a++){if(!e('.'+h[a],b)){b.push('.'+h[a])}}}var j='';for(var c=0;c<document.styleSheets.length;c++){var l=document.styleSheets[c];try{if(!l.cssRules){continue}}catch(m){if(m.name!=='SecurityError'){throw m}continue}var g=l.cssRules;for(var f=0;f<g.length;f++){if(e(g[f].selectorText,b)){j+=g[f].cssText}}}return j},appendCSS:function(c,b){var a=document.createElement('style');a.setAttribute('type','text/css');a.innerHTML=c;var d=b.hasChildNodes()?b.children[0]:null;b.insertBefore(a,d)},svgString2Image:function(h,e,c,b,f){var b=b?b:'png';var i='data:image/svg+xml;base64,'+btoa(unescape(encodeURIComponent(h)));var a=document.createElement('canvas');var g=a.getContext('2d');a.width=e;a.height=c;var d=new Image();d.onload=function(){g.clearRect(0,0,e,c);g.drawImage(d,0,0,e,c);a.toBlob(function(a){var d=Math.round(a.length/1024)+' KB';if(f){f(a,d)}})};d.src=i},saveAs:function(a){if(typeof a==='undefined'||typeof navigator!=='undefined'&&/MSIE [1-9]\./.test(navigator.userAgent)){return}var q=a.document||document,d=function(){return a.URL||a.webkitURL||a},c=q.createElement('a'),k='download' in c,p=function(c){var b=new MouseEvent('click');c.dispatchEvent(b)},m=/constructor/i.test(a.HTMLElement)||a.safari,e=/CriOS\/[\d]+/.test(navigator.userAgent),l=function(b){(a.setImmediate||a.setTimeout)(function(){throw b},0)},j='application/octet-stream',i=1000*40,h=function(b){var c=function(){if(typeof b==='string'){d().revokeObjectURL(b)}else {b.remove()}};setTimeout(c,i)},n=function(c,b,f){b=[].concat(b);var e=b.length;while(e--){var d=c['on'+b[e]];if(typeof d==='function'){try{d.call(c,f||c)}catch(r){l(r)}}}},g=function(b){if(/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(b.type)){return new Blob([String.fromCharCode(65279),b],{type:b.type})}return b},f=function(i,s,q){if(!q){i=g(i)}var b=this,t=i.type,o=t===j,f,l=function(){n(b,'writestart progress write writeend'.split(' '))},r=function(){if((e||o&&m)&&a.FileReader){var c=new FileReader();c.onloadend=function(){var d=e?c.result:c.result.replace(/^data:[^;]*;/,'data:attachment/file;');var f=a.open(d,'_blank');if(!f){a.location.href=d}d=undefined;b.readyState=b.DONE;l()};c.readAsDataURL(i);b.readyState=b.INIT;return}if(!f){f=d().createObjectURL(i)}if(o){a.location.href=f}else {var g=a.open(f,'_blank');if(!g){a.location.href=f}}b.readyState=b.DONE;l();h(f)};b.readyState=b.INIT;if(k){f=d().createObjectURL(i);setTimeout(function(){c.href=f;c.download=s;p(c);l();h(f);b.readyState=b.DONE});return}r()},b=f.prototype,o=function(b,d,c){return new f(b,d||b.name||'download',c)};if(typeof navigator!=='undefined'&&navigator.msSaveOrOpenBlob){return function(b,c,d){c=c||b.name||'download';if(!d){b=g(b)}return navigator.msSaveOrOpenBlob(b,c)}}b.abort=function(){};b.readyState=b.INIT=0;b.WRITING=1;b.DONE=2;b.error=b.onwritestart=b.onprogress=b.onwrite=b.onabort=b.onerror=b.onwriteend=null;return o}},0,0,0,0,0,0,[App.util,'SVGExporter'],0);Ext.cmd.derive('App.util.State',Ext.Base,{singleton:!0,store:new Ext.util.LocalStorage({id:'app-state'}),get:function(c,b){var a=this.store.getItem(c);return a===undefined?b:Ext.decode(a)},set:function(b,a){if(a==null){this.store.removeItem(b)}else {this.store.setItem(b,Ext.encode(a))}},clear:function(a){this.set(a,null)}},0,0,0,0,0,0,[App.util,'State'],0);Ext.cmd.derive('App.util.String',Ext.Base,{statics:{stripAccents:function(a){var e='';var d='AAAAAAaaaaaaOOOOOOOooooooEEEEeeeeeCcDIIIIiiiiUUUUuuuuNnSsYyyZz';a=a.split('');var f=a.length;var b,c;for(b=0;b<f;b++){if((c=e.indexOf(a[b]))!=-1){a[b]=d[c]}}return a.join('')}}},0,0,0,0,0,0,[App.util,'String'],0);Ext.cmd.derive('App.ux.ImageViewer',Ext.Panel,{cls:'imageviewer',config:{images:[]},autoScroll:!0,resizeMode:'fit',zoomLevel:100,mousedowntime:0,images:[],imageindex:1,sourceX:0,sourceY:0,targetX:0,targetY:0,panWidth:0,panHeight:0,orgWidth:0,orgHeight:0,initComponent:function(){Ext.tip.QuickTipManager.init();var a=this;this.bbar=[{xtype:'tbfill'},{tooltip:'Previous',iconCls:'iconcls-arrow_left',xid:'prev'},{tooltip:'Next',iconCls:'iconcls-arrow_right',xid:'next'},{tooltip:'Original',iconCls:'iconcls-arrow_out',xid:'org'},{tooltip:'Fit to window',iconCls:'iconcls-arrow_in',xid:'fit'},{tooltip:'Fit vertical',iconCls:'iconcls-arrow-up-down',xid:'fit-v'},{tooltip:'Fit horizontal',iconCls:'iconcls-arrow-left-right',xid:'fit-h'},{tooltip:'Zoom out',iconCls:'iconcls-magifier_zoom_out',xid:'zoom-out'},{xtype:'slider',xid:'zoomlevel',increment:1,minValue:10,maxValue:200,value:100,width:200},{xtype:'tbtext',xid:'zoomlevel-text',width:40,style:'text-align:right;',text:'100%'},{tooltip:'Zoom in',iconCls:'iconcls-magnifier_zoom_in',xid:'zoom-in'},{xtype:'tbfill'}];this.items=[{xtype:'image',src:''}];a.callParent();a.on('afterrender',this.onImagePanelRendered,this);a.on('resize',this.onPanelResized,this);a.on('firstimage',this.onFirstImage,this);a.on('lastimage',this.onLastImage,this);a.on('imagechange',this.onImageChange,this);a.child('image').on('afterrender',this.onImageRendered,this)},setCurrentImage:function(b){var a=this.getImages().indexOf(b);if(a>-1){this.imageindex=a+1}},onImagePanelRendered:function(){var c=this;var b=this.body;b.on('mousedown',this.onImagePanelMouseDown,this);b.on('mouseup',this.onImagePanelMouseUp,this);var a=this.getDockedItems('toolbar[dock=bottom]')[0];Ext.each(a.query('button'),function(a){a.on('click',c.onToolbarButtonClicked,c)});a.child('slider[xid=zoomlevel]').on('change',this.onZoomlevelChanged,this);a.child('slider[xid=zoomlevel]').on('drag',this.onZoomlevelSelected,this);a.child('slider[xid=zoomlevel]').getEl().on('click',this.onZoomlevelSelected,this);this.fireEvent('resize')},onPanelResized:function(){this.panWidth=Ext.get(this.body.dom).getWidth()-20;this.panHeight=Ext.get(this.body.dom).getHeight()-20;this.resize()},onImagePanelMouseDown:function(a){if(a.button==0){this.mousedowntime=(new Date()).getTime();this.sourceX=this.targetX=a.browserEvent.clientX;this.sourceY=this.targetY=a.browserEvent.clientY;this.body.on('mousemove',this.onBodyMouseMove,this);a.stopEvent()}},onImagePanelMouseUp:function(b){if(b.button==0){var a=(new Date()).getTime()-this.mousedowntime;if(a<180&&this.targetX-this.sourceX<5&&this.targetX-this.sourceX>-5&&this.targetY-this.sourceY<5&&this.targetY-this.sourceY>-5){this.next()}this.body.un('mousemove',this.onBodyMouseMove,this)}this.mousedowntime=0},onBodyMouseMove:function(a){this.scrollBy(this.targetX-a.browserEvent.clientX,this.targetY-a.browserEvent.clientY);this.targetX=a.browserEvent.clientX;this.targetY=a.browserEvent.clientY},onImageChange:function(){var a=this.getDockedItems('toolbar[dock=bottom]')[0];a.child('button[xid=next]').enable();a.child('button[xid=prev]').enable()},onFirstImage:function(){var a=this.getDockedItems('toolbar[dock=bottom]')[0];a.child('button[xid=prev]').disable()},onLastImage:function(){var a=this.getDockedItems('toolbar[dock=bottom]')[0];a.child('button[xid=next]').disable()},onToolbarButtonClicked:function(a){if(a.xid=='fit'){this.resizeMode='fit'}if(a.xid=='fit-h'){this.resizeMode='fith'}if(a.xid=='fit-v'){this.resizeMode='fitv'}if(a.xid=='org'){this.resizeMode=null}if(a.xid=='fit'||a.xid=='fit-h'||a.xid=='fit-v'||a.xid=='org'){this.resize()}if(a.xid=='next'){this.next()}if(a.xid=='prev'){this.prev()}if(a.xid=='zoom-in'){this.zoomIn(10)}if(a.xid=='zoom-out'){this.zoomOut(10)}},onZoomlevelChanged:function(d,a){this.zoomLevel=a;var c=this.getDockedItems('toolbar[dock=bottom]')[0];var b=c.child('tbtext[xid=zoomlevel-text]');b.setText(this.zoomLevel+'%');this.imageZoom(this.zoomLevel)},onZoomlevelSelected:function(a){this.resizeMode='zoom'},onImageRendered:function(b){var a=this;b.el.on({load:function(e,c,d){c.style.width='';c.style.height='';a.orgWidth=Ext.get(c).getWidth();a.orgHeight=Ext.get(c).getHeight();a.resize();a.fireEvent('imageloaded');if(c.src!=''){a.setLoading(!1)}},error:function(d,c,a){}});this.prev()},resize:function(){if(this.resizeMode=='fit'){this.imageFit()}else if(this.resizeMode=='fith'){this.imageFitHorizontal()}else if(this.resizeMode=='fitv'){this.imageFitVertical()}else if(this.resizeMode==null){this.imageFitNot()}this.imageZoom(this.zoomLevel)},imageFit:function(){var d=this.panWidth;var b=this.panHeight;var c=this.orgWidth;var a=this.orgHeight;if(c*b/a>d){this.imageFitHorizontal()}else {this.imageFitVertical()}},imageFitHorizontal:function(){var b=this.panWidth;var f=this.panHeight;var a=this.orgWidth;var e=this.orgHeight;if(a>=b){var c=100/a*b;var d=this.getDockedItems('toolbar[dock=bottom]')[0];d.child('slider[xid=zoomlevel]').setValue(c)}else {this.imageFitNot()}},imageFitVertical:function(e){var g=this.panWidth;var b=this.panHeight;var f=this.orgWidth;var a=this.orgHeight;if(a>=b){var c=100/a*b;var d=this.getDockedItems('toolbar[dock=bottom]')[0];d.child('slider[xid=zoomlevel]').setValue(c)}else {this.imageFitNot()}},imageZoom:function(a){var c=this.orgWidth;var b=this.orgHeight;this.child('image').getEl().dom.style.width=parseInt(c/100*a)+'px';this.child('image').getEl().dom.style.height=parseInt(b/100*a)+'px'},zoomIn:function(d){this.resizeMode='zoom';var f=this.getDockedItems('toolbar[dock=bottom]')[0];var a=f.child('slider[xid=zoomlevel]');var g=a.minValue;var c=a.maxValue;var e=a.getValue();var b=e+d;if(b>c){b=c}a.setValue(b)},zoomOut:function(d){this.resizeMode='zoom';var f=this.getDockedItems('toolbar[dock=bottom]')[0];var a=f.child('slider[xid=zoomlevel]');var g=a.minValue;var c=a.maxValue;var e=a.getValue();var b=e-d;if(b>c){b=c}a.setValue(b)},imageFitNot:function(b){var a=this.getDockedItems('toolbar[dock=bottom]')[0];a.child('slider[xid=zoomlevel]').setValue(100)},setImage:function(a){var b=this.child('image');this.setLoading('Loading...');b.setSrc(a)},next:function(){if(this.images[this.imageindex+1]){this.imageindex++;this.setImage(this.images[this.imageindex]);this.fireEvent('imagechange');this.fireEvent('nextimage');if(this.imageindex<=0){this.fireEvent('firstimage')}if(this.images.length-1<=this.imageindex){this.fireEvent('lastimage')}}},prev:function(){if(this.images[this.imageindex-1]){this.imageindex--;this.setImage(this.images[this.imageindex]);this.fireEvent('imagechange');this.fireEvent('previousimage');if(this.imageindex<=0){this.fireEvent('firstimage')}if(this.images.length-1<=this.imageindex){this.fireEvent('lastimage')}}}},0,['imageviewer'],['widget','component','container','panel','imageviewer'],{'widget':!0,'component':!0,'container':!0,'panel':!0,'imageviewer':!0},['widget.imageviewer'],0,[App.ux,'ImageViewer'],0);Ext.cmd.derive('App.ux.MultiSelect',Ext.field.Select,{require:['Ext.field.Select'],config:{delimiter:',',mode:'MULTI',doneButton:!0},applyDoneButton:function(a){if(a){if(Ext.isBoolean(a)){a={}}if(typeof a=='string'){a={text:a}}Ext.applyIf(a,{text:'Done',ui:'action',height:'20px',margin:'5px auto 0px auto',width:'50%',docked:'bottom',listeners:{tap:this.onButtonTap,scope:this}})}return Ext.factory(a,'Ext.Button',this.getDoneButton())},getTabletPicker:function(){var a=this,c=a.getDefaultTabletPickerConfig(),b=a.getMode();if(!a.listPanel){a.listPanel=Ext.create('Ext.Panel',Ext.apply({left:0,top:0,modal:!0,cls:'x-select-overlay',layout:'fit',hideOnMaskTap:!0,width:Ext.os.is.Phone?'14em':'18em',height:Ext.os.is.BlackBerry&&Ext.os.version.getMajor()===10?'12em':Ext.os.is.Phone?'12.5em':'22em',items:[{xtype:'list',mode:b,store:a.getStore(),itemTpl:'<span class="x-list-label">{'+a.getDisplayField()+':htmlEncode}</span>'}]},c));if(b==='SINGLE'){a.listPanel.down('list').on('itemtap',a.onListTap,a)}else {a.listPanel.add(this.getDoneButton())}}return a.listPanel},onListTap:function(d,c,b,a){this.setValue(a);this.callParent()},onButtonTap:function(){var a=this.listPanel.down('list');this.setValue(a.selected.keys);this.updateValue(a.selected.keys,this.getValue());this.listPanel.hide()},applyValue:function(a){this.getOptions();return this.getValueFromRecords(a,this.getValueField())},updateValue:function(c,d){var a=this,b=a.convertValue(c,a.getValueField(),a.getDisplayField());b=b.join(a.getDelimiter());a.superclass.superclass.updateValue.call(a,[b])},convertValue:function(a,h,g){var d=this.getDelimiter(),i=this.getStore(),c=0,f=[],e,b;if(a){if(d&&Ext.isString(a)){a=a.split(d)}else if(!Ext.isArray(a)){a=[a]}for(e=a.length;c<e;++c){b=i.findRecord(h,a[c]);if(b){f.push(b.get(g))}}}return f},getValueFromRecords:function(a){var e=this.getDelimiter(),g=this.getValueField(),d=0,b=[],f,c;if(a){if(e&&Ext.isString(a)){a=a.split(e)}else if(!Ext.isArray(a)){a=[a]}for(f=a.length;d<f;++d){c=a[d];if(c&&c.isModel){b.push(c.get(g))}}b=Ext.Array.unique(b)}return b.length>0?b:a},getRecordsFromValue:function(b){var f=[],g=this.getStore().getRange(),h=this.getValueField(),d=0,i=g.length,c,a,e;if(b){for(e=b.length;d<e;++d){for(a=0;a<i;++a){c=g[a];if(c.get(h)==b[d]){f.push(c);break}}}}return f},getSelection:function(){return this.listPanel.down('list').getSelection()},getValue:function(){return this._value},onChange:function(d,e,b){var a=this,c=a.convertValue(b,a.getDisplayField(),a.getValueField());a.fireEvent('change',a,a.getValue(),c)},showPicker:function(){var a=this,d=this.getStore();if(!d||d.getCount()===0){return}if(a.getReadOnly()){return}a.isFocused=!0;var b=a.getTabletPicker(),f=b.down('list'),g,c,e=a.getValue();if(!b.getParent()){Ext.Viewport.add(b)}if(e){c=a.getRecordsFromValue(e);f.select(c,null,!0)}else {f.deselectAll()}b.showBy(a.getComponent(),Ext.os.is.BlackBerry&&Ext.os.version.getMajor()===10?'t-b':null)},onStoreDataChanged:function(d){var a=this,c=a.getInitialConfig(),b=a.getValue();if(b||b===0){a.updateValue(a.applyValue(b))}if(a.getValue()===null){if(c.hasOwnProperty('value')){a.setValue(c.value)}if(a.getValue()===null&&a.getAutoSelect()){if(d.getCount()>0){}}}}},0,['multiselectfield'],['widget','component','field','inputfield','textfield','pickerfield','selectfield','multiselectfield'],{'widget':!0,'component':!0,'field':!0,'inputfield':!0,'textfield':!0,'pickerfield':!0,'selectfield':!0,'multiselectfield':!0},['widget.multiselectfield'],0,[App.ux,'MultiSelect'],0);Ext.cmd.derive('App.ux.ReminderColumn',Ext.grid.column.Column,{config:{menuPosition:'tl-bl'},tdCls:'x-grid-cell-remindercolumn',initMenu:function(){var b=this,a=[];function createItem(c,a){return {text:c,listeners:{click:Ext.bind(b.handleMenuItemClick,b,[a],!0)}}}a.push(createItem('No Reminder'));a.push({xtype:'menuseparator'});a.push(createItem('1 day before',1));a.push(createItem('2 days before',2));a.push(createItem('3 days before',3));a.push(createItem('1 week before',7));a.push(createItem('2 weeks before',14));a.push(createItem('Set Default Time...','set'));b.menu=Ext.create('Ext.menu.Menu',{plain:!0,items:a})},handleMenuItemClick:function(b,c,d,a){this.fireEvent('select',this.record,a)},processEvent:function(e,f,i,d,h,g){var a=this,c='x-',b=Ext.get(g.getTarget());if(b.hasCls(c+'grid-reminder')){if(e==='click'){if(!a.menu){a.initMenu()}a.record=f.store.getAt(d);a.menu.showBy(b,a.menuPosition)}}else {return a.callParent(arguments)}},renderer:function(d,f,b,g,e,h,i){var a='x-',c=[a+'grid-reminder'];if(b.get('done')||!b.get('due')){return ''}if(!d){c.push(a+'grid-reminder-empty')}return '<div class="'+c.join(' ')+'"></div>'}},0,['remindercolumn'],['widget','component','container','headercontainer','gridcolumn','column','templatecolumn','remindercolumn'],{'widget':!0,'component':!0,'container':!0,'headercontainer':!0,'gridcolumn':!0,'column':!0,'templatecolumn':!0,'remindercolumn':!0},['widget.remindercolumn'],0,[App.ux,'ReminderColumn'],0);Ext.cmd.derive('App.ux.Signals',Ext.Base,{singleton:!0,askUserPermission:function(a,c,d,e,b){a='<h3>'+a+'</h3>';Ext.Msg.confirm('Confirmation',a,Ext.bind(c,d,e,b))},showWarning:function(b,a){Ext.Msg.show({ui:'warning',title:a?'Erreur':'Avertissement',message:b,width:300,buttons:Ext.MessageBox.OK,defaultFocus:'#ok',prompt:!1})},showSuccess:function(b,a){if(a==undefined){a=!0}Ext.toast({message:a?'<h3>Opration russie</h3><br/>'+b:b,timeout:2000,centered:!1,width:600,minWidth:600,minHeight:200,height:200,padding:20,top:0,right:10})},CRUDCallback:function(a,e,g,c){var b;if(e.hasException()){if(a&&a.isStore){a.rejectChanges()}var f=e.exceptions[0],d=App.util.Errors.toMsg(f.getError());b="Nous n'avons pas pu Enregistrer les Changements ! <br/><hr/>";if(d){b+=d}this.showWarning(b,!0)}else {this.showSuccess('Vos Changements ont t Enregistrs');c&&c()}}},0,0,0,0,0,0,[App.ux,'Signals'],0);Ext.cmd.derive('App.ux.SpeechRecognition',Ext.Base,{continuous:!1,interimResults:!1,lang:'fr-FR',maxAlternatives:1,serviceURI:null,minimumConfidenceLevel:0.5,logFinalOnly:!1,chainTranscripts:!1,grammars:null,recognizing:!1,finalTranscript:'',constructor:function(b){var a=this;b=b||{};a.mixins.observable.constructor.call(a,b);a.speech=new webkitSpeechRecognition();Ext.apply(a.speech,b);a.results=Ext.create('Ext.data.Store',{fields:[{name:'confidence',type:'float'},{name:'transcript',type:'string'},{name:'isFinal',type:'boolean',defaultValue:!1},{name:'isMostConfident',type:'boolean',defaultValue:!1},{name:'timeStamp',type:'int'},{name:'emma'},{name:'interpretation'}]});a.interimTranscript='';a.initDurations();a.speech.onstart=Ext.Function.bind(a.onStart,a);a.speech.onend=Ext.Function.bind(a.onEnd,a);a.speech.onspeechstart=Ext.Function.bind(a.onSpeechStart,a);a.speech.onspeechend=Ext.Function.bind(a.onSpeechEnd,a);a.speech.onresult=Ext.Function.bind(a.onResult,a);a.speech.onerror=Ext.Function.bind(a.onError,a);a.speech.onaudioend=Ext.Function.bind(a.onAudioEnd,a);a.speech.onaudiostart=Ext.Function.bind(a.onAudioStart,a);a.speech.onnomatch=Ext.Function.bind(a.onNoMatch,a);a.speech.onsoundend=Ext.Function.bind(a.onSoundEnd,a);a.speech.onsoundstart=Ext.Function.bind(a.onSoundStart,a)},initDurations:function(){var a=this;a.durations={audio:{start:0,end:0},sound:{start:0,end:0},speech:{start:0,end:0},timer:{start:0,end:0}}},start:function(){var a=this;try{a.speech.start();a.recognizing=!0}catch(b){a.fireEvent('error',a,b.timeStamp,b.error,b.message,b)}},stop:function(){var a=this;a.recognizing=!1;a.speech.stop()},abort:function(){var a=this;a.recognizing=!1;a.speech.abort()},isInProgress:function(){var a=this;return a.recognizing},getFinalTranscript:function(){var a=this;return a.finalTranscript},getCurrentTranscript:function(){var a=this;return a.interimTranscript},getSpeechDuration:function(){var a=this;return a.calculateDuration(a.durations.speech.start,a.durations.speech.end)},getAudioDuration:function(){var a=this;return a.calculateDuration(a.durations.audio.start,a.durations.audio.end)},getSoundDuration:function(){var a=this;return a.calculateDuration(a.durations.sound.start,a.durations.sound.end)},getDuration:function(){var a=this;return a.calculateDuration(a.durations.timer.start,a.durations.timer.end)},getResults:function(){var a=this;return a.results},calculateDuration:function(a,b){return (b-a)/1000},onStart:function(b){var a=this;a.durations.timer.start=b.timeStamp;a.fireEvent('start',a,b.timeStamp,b)},onEnd:function(b){var a=this;a.durations.timer.end=b.timeStamp;if(a.chainTranscripts){a.finalTranscript+=' '+a.interimTranscript}else {a.finalTranscript=a.interimTranscript}a.fireEvent('end',a,b.timeStamp,b)},onResult:function(b){var a=this,j=!0,i=[],d,c,e,g='';for(var h=0;h<b.results.length;h++){c=b.results[h];j=a.logFinalOnly&&!c.isFinal?!1:!0;for(var f=0;f<c.length;f++){e=c[f];d={transcript:e.transcript,confidence:e.confidence,isFinal:c.isFinal,timeStamp:b.timeStamp,isMostConfident:f==0?!0:!1,emma:b.emma,interpretation:b.interpretation};i.push(d);if(j&&a.minimumConfidenceLevel<=e.confidence){a.results.add(d);if(d.isMostConfident){g+=d.transcript}}}}a.interimTranscript=g;a.fireEvent('result',a,g,a.results.store,i,b)},onSpeechStart:function(b){var a=this;a.durations.speech.start=b.timeStamp;a.fireEvent('speechstart',a,b.timeStamp,a.durations.speech,b)},onSpeechEnd:function(b){var a=this,e=a.results.store,c=a.results.lastStartIndex,d;a.durations.speech.end=b.timeStamp;a.fireEvent('speechend',a,b.timeStamp,a.durations.speech,b)},onAudioStart:function(b){var a=this;a.durations.audio.start=b.timeStamp;a.fireEvent('audiostart',a,b.timeStamp,a.durations.audio,b)},onAudioEnd:function(b){var a=this;a.durations.audio.end=b.timeStamp;a.fireEvent('audioend',a,b.timeStamp,a.durations.audio,b)},onSoundStart:function(b){var a=this;a.durations.sound.start=b.timeStamp;a.fireEvent('soundstart',a,b.timeStamp,a.durations.sound,b)},onSoundEnd:function(b){var a=this;a.durations.sound.end=b.timeStamp;a.fireEvent('soundend',a,b.timeStamp,a.durations.sound,b)},onNoMatch:function(b){var a=this;a.fireEvent('nomatch',a,b)},onError:function(a){var b=this;b.fireEvent('error',b,a.timeStamp,a.error,a.message,a)}},1,0,0,0,0,[['observable',Ext.util.Observable]],[App.ux,'SpeechRecognition'],0);Ext.cmd.derive('App.ux.StatusColumn',Ext.grid.column.Column,{tdCls:'x-grid-cell-statuscolumn',processEvent:function(g,l,k,i,j,h){var b=this,c='x-',f=Ext.get(h.getTarget()),d,a,e;if(f.hasCls(c+'grid-statusheader-inner')){if(g==='mousedown'&&h.button===0){a=h.record;d=b.dataIndex;e=!a.get(d);a.set(d,e);b.fireEvent('checkchange',b,a,i,e);return !1}else if(g==='mouseover'){f.parent().addCls(c+'grid-statusheader-over')}else if(g==='mouseout'){f.parent().removeCls(c+'grid-statusheader-over')}}else {return b.callParent(arguments)}},renderer:function(c){var a='x-',b=[a+'grid-statusheader'];if(c){b.push(a+'grid-statusheader-checked')}return '<div class="'+b.join(' ')+'"><div class="'+a+'grid-statusheader-inner">&#160;</div></div>'}},0,['statuscolumn'],['widget','component','container','headercontainer','gridcolumn','column','templatecolumn','statuscolumn'],{'widget':!0,'component':!0,'container':!0,'headercontainer':!0,'gridcolumn':!0,'column':!0,'templatecolumn':!0,'statuscolumn':!0},['widget.statuscolumn'],0,[App.ux,'StatusColumn'],0);Ext.cmd.derive('App.ux.TagField',Ext.field.Picker,{isField:!0,twoWayBindable:{selection:1},publishes:{selection:1},config:{store:null,displayField:'value',valueField:'id',separator:'; ',floatedPicker:{xtype:'list',selectable:'multi'},selected:{}},listeners:{keyup:function(){var a=this;var b=this.getInputValue();if(b.length){this.getStore().filterBy(function(b){return b.get(a.getDisplayField()).match(new RegExp(a.getInputValue(),'gi'))!==null})}else {this.getStore().clearFilter()}}},createSelectionRecord:function(b){var a=this.getStore().getModel();return new a(b)},onSelect:function(g,c){var b=0,f=c.length;var e=this.getValueField();if(!this._selected){this._selected={}}while(b<f){var a=c[b],d=a.get(e);console.log('select tag',a,d);this._selected[d]=a;this.addTag(a);b++}this.validate()},onDeselect:function(g,c){var b=0,f=c.length;var e=this.getValueField();while(b<f){var a=c[b],d=a.get(e);console.log('deselect tag',a,d);delete this._selected[d];this.removeTag(a);b++}this.validate()},addTag:function(b){var a=document.createElement('span');var d=b.get(this.getValueField());a.id=this.id+'-tag-'+b.internalId;a.innerHTML=b.get(this.getDisplayField())+'<span style="margin-left: 2px; color: var( --base-foreground-color ); cursor: pointer;" class="x-fa fa-times-circle" aria-hidden="true">&nbsp;</span>';a.style.padding='4px';a.style.margin='4px';a.style.cursor='default';a.style.backgroundColor='var( --base-color )';a.style.color='var( --base-foreground-color )';a.style.borderRadius='3px';a.style.boxShadow='1px 1px 1px var( --base-dark-color )';a.querySelector('span').addEventListener('click',function(){this.getPicker().onItemDeselect([b]);this.getPicker().setItemSelection([b],!1)}.bind(this));this.beforeInputElement.append(a);this.beforeInputElement.setStyle({marginRight:'10px',flexWrap:'wrap'});var c=this.getValue();this.fireEvent('change',this,c,this._selected);c=null},removeTag:function(c){var b=this.beforeInputElement.down('#'+this.id+'-tag-'+c.internalId);if(b){b.destroy()}if(!this.expanded){this.syncLabelPlaceholder(!0)}var a=this.getValue();this.fireEvent('change',this,a,this._selected);a=null},createFloatedPicker:function(){var a=this;var b=Ext.merge({ownerCmp:a,store:a.getStore(),itemTpl:a.itemTpl?a.itemTpl:'{'+a.getDisplayField()+'}',listeners:{select:{fn:a.onSelect,scope:a},deselect:{fn:a.onDeselect,scope:a}}},a.getFloatedPicker());return b},getValue:function(){var c=Object.keys(this._selected),b=0,d=c.length,a=[];while(b<d){a.push(this._selected[c[b]].get(this.getValueField()));b++}console.log('@Get  val',a);console.log('@Get  val join',a.join(this.getSeparator()));return a.join(this.getSeparator())},setValue:function(a){console.log('@Set raw v ',a);var b=[];if(!(a instanceof Array)){if(!a){a=[]}else {a=a.split(this.getSeparator())}}console.log('@Set v ',a);var e=0,f=a.length,c=this.getStore(),d;if(!c){return !1}while(e<f){d=c.getAt(c.findExact(this.getValueField(),a[e]));if(d){b.push(d)}e++}console.log('@Set  sel',b);if(b.length){this.getPicker().select(b)}if(!this.expanded){this.syncLabelPlaceholder(!0)}},updateValue:function(){var a=this,b=a._selected,d=b.length,c;for(c=0;c<d;c++){b[c]=b[c].get(a.valueField)}a.setHiddenValue(b);a.value=a.multiSelect?b.join(a.getSeparator()):b[0];if(!Ext.isDefined(a.value)){a.value=undefined}},privates:{syncLabelPlaceholder:function(b){var a;this._animPlaceholderLabel=b;if(this.rendered){if(Object.keys(this._selected).length>0){a=!1}else {a=!this.hasFocus||this.getDisabled()||this.getReadOnly()}this.setLabelInPlaceholder(a)}this._animPlaceholderLabel=!1}},updateInputValue:function(){},isInputField:!1,isSelectField:!0,validate:function(h){var a=this,d,b,g,f,e,c;if(a.isConfiguring&&a.validateOnInit==='none'){return !0}if(!a.getDisabled()||a.getValidateDisabled()){b=[];if(a.isInputField&&!a.isSelectField){c=a.getInputValue();d=!c;e=d&&a.inputElement.dom.validity;if(e&&e.badInput){b.push(a.badFormatMessage);d=!1}}else {c=a.getValue();d=c===''||c==null||!c.length}if(d&&a.getRequired()){b.push(a.getRequiredMessage())}else if(!b.length){if(!d){c=a.parseValue(c,b)}if(!b.length){g=a._validationField;f=a._validationRecord;if(g&&f){g.validate(c,null,b,f)}if(!d){a.doValidate(c,b,h)}}}if(b.length){a.setError(b);return !1}}a.setError(null);return !0},doDestroy:function(){this._selected={};this.destroyMembers('picker','hideEventListeners','touchListeners','focusTrap');Ext.field.Picker.prototype.doDestroy.call(this)}},0,['tagfield'],['widget','component','field','inputfield','textfield','pickerfield','tagfield'],{'widget':!0,'component':!0,'field':!0,'inputfield':!0,'textfield':!0,'pickerfield':!0,'tagfield':!0},['widget.tagfield'],0,[App.ux,'TagField'],0);Ext.cmd.derive('App.ux.data.summary.Distinct',Ext.data.summary.Base,{calculate:function(b,a,e,f,g){var d=b.map(function(c){return typeof this.extractValue!=='undefined'?this.extractValue(c,a,e):c.get(a)});var c=Ext.Array.unique(d);return c.length}},0,0,0,0,['data.summary.distinct'],0,[App.ux.data.summary,'Distinct'],0);Ext.cmd.derive('App.ux.data.summary.TrueCount',Ext.data.summary.Base,{calculate:function(b,a,d,e,f){var c=b.map(function(c){return this.extractValue(c,a,d)}).filter(function(c){return !!c});return c.length}},0,0,0,0,['data.summary.true_count'],0,[App.ux.data.summary,'TrueCount'],0);Ext.cmd.derive('App.ux.exporter.Word',Ext.exporter.Base,{fileName:'export.docx',getContent:function(){var a=this,b=[],c=a.getData();if(c){a.buildHeader(b);a.buildRows(c,b,c.getColumnCount());a.columnStyles=Ext.destroy(a.columnStyles)}console.log(b);return a.saveAsDocx(b)},saveAsDocx:function(a){function loadFile(c,b){JSZipUtils.getBinaryContent(c,b)}loadFile('templates/fiches/visite.docx',function(c,e){if(c){throw c}var g=new JSZip(e);var b=(new Docxtemplater()).loadZip(g);b.setData(a);try{b.render()}catch(i){var h={message:i.message,name:i.name,stack:i.stack,properties:i.properties};console.log(JSON.stringify({error:h}));throw i}var f=b.getZip().generate({type:'blob',mimeType:'application/vnd.openxmlformats-officedocument.wordprocessingml.document'});var d='Fiche Visite '+product.get('name')+'.docx';saveAs(f,d)})},buildHeader:function(f){var c=this,h={},g=c.getData(),d,e,b,a;c.buildHeaderRows(g.getColumns(),h);f.push.apply(f,Ext.Object.getValues(h));d=g.getBottomColumns();e=d.length;c.columnStyles=[];for(b=0;b<e;b++){a=d[b].getStyle()||{};if(!a.id){a.id='c'+b}a.name='.'+a.id;c.columnStyles.push(new Ext.exporter.file.Style(a))}},buildHeaderRows:function(f,b){var d,e,j,a,h,i,c,g;if(!f){return}j=f.length;for(e=0;e<j;e++){d=f.items[e];h=d._mergeAcross;i=d._mergeDown;g=d._level;a='s'+g;b[a]=b[a]||[];b[a].push(d._text);for(c=1;c<=h;c++){b[a].push('')}for(c=1;c<=i;c++){a='s'+(g+c);b[a]=b[a]||[];b[a].push('')}this.buildHeaderRows(d._columns,b)}},buildRows:function(a,i,p){var r=this._showSummary,h,l,c,q,e,k,d,j,m,f,n,b,g,o;if(!a){return}h=a._groups;o=a._text;n=!h&&!a._rows;if(!Ext.isEmpty(o)&&!n){c=[];c.length=p;c[a.level||0]=o;i.push(c)}if(h){q=h.length;for(l=0;l<q;l++){this.buildRows(h.items[l],i,p)}}if(a._rows){k=a._rows.length;for(e=0;e<k;e++){c=[];m=a._rows.items[e];f=m._cells;j=f.length;for(d=0;d<j;d++){b=f.items[d];g=this.columnStyles[d];b=g?g.getFormattedValue(b._value):b._value;c.push(b)}i.push(c)}}if(a._summaries&&(r||n)){k=a._summaries.length;for(e=0;e<k;e++){c=[];m=a._summaries.items[e];f=m._cells;j=f.length;for(d=0;d<j;d++){b=f.items[d];g=this.columnStyles[d];b=g?g.getFormattedValue(b._value):b._value;c.push(b)}i.push(c)}}}},0,0,0,0,['exporter.word'],0,[App.ux.exporter,'Word'],0);Ext.cmd.derive('App.view.auth.Login',Ext.Container,{controller:'authlogin',cls:'auth-login',layout:{type:'vbox',align:'center',pack:'center'},items:[{cls:'auth-header',html:'<div class="caption">Plateforme de Suivi et Reporting</div><div class="title">INDH - Axe Prscolaire</div>'},{xtype:'formpanel',reference:'form',layout:'vbox',ui:'auth',bodyBorder:!1,shadow:!1,items:[{xtype:'textfield',name:'username',placeholder:'Identifiant',required:!0,errorTarget:'under'},{xtype:'passwordfield',name:'password',revealable:!0,clearable:!1,placeholder:'Mot de Passe',required:!0,errorTarget:'under'},{xtype:'button',reference:'okButton',text:'Se Connecter',iconAlign:'right',iconCls:'x-fa fa-arrow-circle-right',handler:'onLoginTap',ui:'action'}]},{cls:'auth-footer',html:'<div></div><a href="#"><span class="label">CN-INDH</span></a>'}]},0,['authlogin'],['widget','component','container','authlogin'],{'widget':!0,'component':!0,'container':!0,'authlogin':!0},['widget.authlogin'],0,[App.view.auth,'Login'],0);Ext.cmd.derive('App.view.auth.LoginController',Ext.app.ViewController,{init:function(){Ext.app.ViewController.prototype.init.apply(this,arguments);this.control({'formpanel textfield':{specialkey:this.onSpecialKey}})},onSpecialKey:function(b,a){if(a.getKey()===a.ENTER){this.onLoginTap()}},onLoginTap:function(){var c=this,a=c.lookup('form'),b=a.getValues();a.clearErrors();Ext.Viewport.setMasked({xtype:'loadmask'});App.model.Session.login(b.username,b.password).then(function(a){c.fireEvent('login',a)})['catch'](function(c){var b=App.util.Errors.toForm(c);if(b){if(b.username==='Invalid username and/or password'){b.username="Nom d'utilisateur ou Mot de passe incorrecte !"}if(b.password==='Invalid username and/or password'){b.password='Mot de passe incorrecte !'}}if(Ext.isObject(b)){a.setErrors(b)}}).then(function(a){Ext.Viewport.setMasked(!1)})}},0,0,0,0,['controller.authlogin'],0,[App.view.auth,'LoginController'],0);Ext.cmd.derive('App.view.commune.Browse',App.view.widgets.Browse,{fields:{id:{property:'id'},region:{property:'region_code'},province:{property:'province_code'},cercle:{property:'cercle_code'},est_rural:{property:'est_rural'}},controller:'communebrowse',viewModel:{type:'communebrowse'},cls:'communebrowse',tbar:{xtype:'communebrowsetoolbar'},bind:{title:'Liste des communes - {count} affichs',store:'{communes}'},items:[{xtype:'grid',reference:'communesList',emptyText:'Aucun commune correspondant  votre recherche',bind:'{communes}',ui:'listing',grouped:!0,groupHeader:{tpl:'{name} ({count} communes)'},plugins:{listpaging:{autoPaging:!0},gridviewoptions:!0,gridexporter:!0,gridfilters:!0,gridsummaryrow:!0,gridcellediting:{selectOnEdit:!0}},loadMask:!0,columnLines:!0,rowLines:!0,selectable:{rows:!1,cells:!0},listeners:{documentsave:'onDocumentSave',beforedocumentsave:'onBeforeDocumentSave',complete:'onCompleteEdit'},grouped:!0,groupHeader:{tpl:'{name} ({count} communes)'},columns:[{text:'Code',dataIndex:'id',hidden:!0},{text:'Code HCP',dataIndex:'code_hcp',hidden:!0},{text:'Rgion',dataIndex:'region_code',align:'center',locked:!0,summary:'distinct',groupable:!0,renderer:function(b,a){return a.get('region')},exportRenderer:!0,bind:{hidden:'{user.role > 1}'},filter:{type:'list',sorted:!0,sortDirection:'ASC',menu:{items:{list:{multiSelect:!0,valueField:'value',displayField:'label',placeholder:'Choisir Rgion',store:{type:'regions'}}}}}},{text:'Province',dataIndex:'province_code',align:'center',locked:!0,summary:'distinct',groupable:!0,renderer:function(b,a){return a.get('province')},exportRenderer:!0,filter:{type:'list',property:'province_code',sorted:!0,sortDirection:'ASC',menu:{items:{list:{multiSelect:!0,valueField:'value',displayField:'label',placeholder:'Choisir P/P',store:{type:'provinces'}}}}}},{text:'Cercle',dataIndex:'cercle_code',align:'center',locked:!0,groupable:!0,summary:'distinct',renderer:function(b,a){return a.get('cercle')},exportRenderer:!0,filter:{type:'list',property:'cercle_code',sorted:!0,sortDirection:'ASC',menu:{items:{list:{multiSelect:!0,valueField:'value',displayField:'label',placeholder:'Choisir Cercle',store:{type:'cercles'}}}}}},{text:'Commune',dataIndex:'label',align:'center',locked:!0,minWidth:150,summary:'count',filter:{type:'list',sorted:!0,sortDirection:'ASC',menu:{items:{list:{multiSelect:!0}}}}},{text:'Dnomination Alt.',dataIndex:'alt_label',hidden:!0},{text:' dominance rurale ?',dataIndex:'est_rural',align:'center',xtype:'booleancolumn',trueText:'Oui',falseText:'',summary:'sum',width:85},{text:'UP INDH 2019-2022',columns:[{text:'UP Prog.',dataIndex:'nbre_ups_programmees',xtype:'numbercolumn',format:'0',width:78,align:'center',summary:'sum',filter:'number'},{text:'UP Ouvertes',dataIndex:'nbre_ups_ouvertes',xtype:'numbercolumn',format:'0',width:78,align:'center',summary:'sum',filter:'number'}]},{text:'UP Prog. 2023',dataIndex:'nbre_ups_programmees2023',xtype:'numbercolumn',format:'0',width:78,align:'center',summary:'sum',filter:'number'},{text:'Consultation',dataIndex:'nbre_ups_programmees',align:'center',width:100,cell:{encodeHtml:!1},summary:'none',filter:'number',tpl:['<a href="#unites/commune/{id}">','Afficher {[parseInt(values.nbre_ups_programmees) + parseInt(values.nbre_ups_programmees2023)]} UP','</a>']}]}]},0,['communebrowse'],['widget','component','container','panel','browse','communebrowse'],{'widget':!0,'component':!0,'container':!0,'panel':!0,'browse':!0,'communebrowse':!0},['widget.communebrowse'],0,[App.view.commune,'Browse'],0);Ext.cmd.derive('App.view.widgets.BrowseController',Ext.app.ViewController,{control:{'#':{routechange:'onRouteChange',storechange:'onStoreChange'}},listen:{controller:{'*':{datachanged:'onRecordDataChanged',recorddatachanged:'onRecordDataChanged'}}},_initialized:!1,init:function(){this._initialized=!0;Ext.app.ViewController.prototype.init.apply(this,arguments);var c=this.getViewModel();c.set('user',App.user);var b=this.getView(),a=b.down('grid');if(a&&Ext.os.is.Desktop){a.el.on({scope:this,contextmenu:this.onContextMenu})}},initViewModel:function(a){a.bind({bindTo:'{filters}',deep:!0},Ext.Function.createBuffered(function(){if(!this.destroyed){this.updateFilters()}},500,this,{}))},onRecordDataChanged:function(){var a=this.getStore();if(a){a.reload()}console.log('here onRecordDataChanged')},getStore:function(){var b=this.getView(),a=b.getStore();return a},onStoreRefresh:function(a){var b=this.getViewModel();b.set({'count':a.getCount(),'totalCount':a.getTotalCount()})},updateFilters:function(h){var i=this.getView(),b=this.getStore(),j=this.getViewModel(),e=b&&b.getFilters(),c=j.get('filters'),g=i.getFields(),f=!!h,d,a;if(!e||!c){return}if(c){if(typeof c['search']==='string'&&c['search'].length<=3&&c['search'].length>0){return}}Ext.Object.each(g,function(g,l){a=c[g];if(a&&a.isModel){a=a.get('value')}g=l.property||g;d=e.get(g);if((d&&d.getValue())==a){return}f=!0;console.log('filter',g,a);if(g==='est_obsolete'){if(!a){b.removeFilter('updated',!0);b.removeFilter('nbre_restantes',!0)}else {b.filter([{property:'updated',operator:'<',value:Ext.Date.subtract(new Date(),Ext.Date.DAY,10)},{property:'nbre_restantes',operator:'>',value:'0'}])}}else {if(a==null){b.removeFilter(g,!0)}else {if(typeof a==='string'){if(a.indexOf('..')>-1){var k=a.split('..'),i=new Date(+k[0]),j=new Date(+k[1]);if(j-i===0){i=Ext.Date.clearTime(i);j=Ext.Date.add(i,Ext.Date.MINUTE,23*60+59)}b.filter({property:g,operator:'between',value:[i,j]});return}}b.filter(g,a,!0)}}});if(f){console.log('dirty !!');b.removeAll();b.load()}},onRouteChange:function(i,g){var d=this,h=d.getViewModel(),f=/([^\/]+)\/([^\/]+)/g,e=d.getView().getFields()||{},a={},b,c;Ext.Object.each(e,function(c,b){a[c]=typeof b.defaultValue!=='undefined'?b.defaultValue:null});while(match=f.exec(g)){b=match[1];c=decodeURI(match[2]);if(Ext.isDefined(a[b])){a[b]=b!=='search'?Ext.create(App.model.Filter,{value:c}):c}}h.set('filters',a)},onStoreChange:function(b,d,a,c){console.log(arguments);this.updateFilters(!0)},onChildActivate:function(c,b){var a=b.record;if(a){this.redirectTo(a)}},onEditAction:function(b,a){this.redirectTo(a.record.toEditUrl())},onRefresh:function(){},onRefreshTap:function(){var a=this.getStore();if(a){a.reload()}},onClearFiltersTap:function(){this.getViewModel().set('filters',{})},onToggleGroupTap:function(){var b=this.getView().down('grid'),a=b.getGrouped(),c=this.getViewModel();b.setGrouped(!a);if(c){c.set({toogleGroupIconCls:a?'x-fa fa-object-group':'x-fa fa-object-ungroup'})}},onBeforeDocumentSave:function(a){a.mask({xtype:'loadmask',message:"Prparation de l'exportation ..."})},onDocumentSave:function(a){a.unmask()},_exportGrid:function(d){var c=this.lookup(d),e=this.getViewModel(),a=this.getView().getTitle(),b=e.get('filters');a=a.replace(/\s+\-.+/,'');if(b){Object.keys(b).forEach(function(e){var f=b[e],c,g;if(typeof f==='object'&&f!==null&&e!=='search'){c=f.data;g=' '+e+' '+(c?c.value||c.text:'');a+=g}})}this._exportToXlsx(c,a,a)},_exportToXlsx:function(a,c,b){if(!a){return}a.saveDocumentAs({type:'xlsx',title:c,author:'Mohamed DIDI',fileName:b+'.xlsx'})},onShowAllColumns:function(){var a=this.getView().down('grid');a.suspendEvents();Ext.each(a.getColumns(),function(a,b){if(a.getHidden()){a.show()}});a.resumeEvents()},destroy:function(){this.toolMenu=Ext.destroy(this.toolMenu);Ext.app.ViewController.prototype.destroy.call(this)},getMenu:function(){var c=this.getView(),b=c.down('grid'),a=this.toolMenu;if(!a){this.toolMenu=a=Ext.create(Ext.apply({ownerCmp:b},b.toolContextMenu))}return a},updateMenu:function(b,d,e,c){var a=this.getMenu();this.getViewModel().set('record',b.getData());a.autoFocus=!e.pointerType;a.showBy(d,c)},onContextMenu:function(c){var e=this.getView(),d=c.getTarget(e.itemSelector),b,a;if(d){a=Ext.getCmp(d.id);b=a&&typeof a.getRecord==='function'&&a.getRecord();if(!b){return}c.stopEvent();this.updateMenu(b,a.el,c,'t-b?')}},onMenu:function(b,a){this.updateMenu(a.record,a.tool.el,a.event,'r-l?')},onEditTap:function(){var a=this.getViewModel().get('record'),b=a.url+'/edit';this.redirectTo(b)},onShowFilters:function(m){var j=this.getView().down('grid'),l=j.getPlugin('gridfilters')||{},i=l.getActiveFilter()||[],e={},h=j.getColumns(),b,d,k,a,c,f,g;for(d=1;d<h.length;d++){b=h[d];e[b.getDataIndex()]={name:b.getText(),xtype:b.xtype}}for(k in i){a=i[k];c=a.value;if(a.property){f={operator:a.operator,property:a.property,value:a.value};if(e[a.property].xtype==='datecolumn'){c=Ext.Date.format(new Date(c),'d-m-Y')}g=m.add({text:e[a.property].name+': '+a.operator+' '+c,checked:!0,filterConfig:f});g.setCheckHandler(this.toggleFilterItem.bind(this))}}},addFilter:function(b){var d=!0,a,e,g=this.getView().down('grid'),f=g.getPlugin('gridfilters')||{},c=Ext.clone(f.getActiveFilter()||[]);for(e in c){a=c[e];if(a.property===b.property&&a.value===b.value&&a.operator===b.operator){d=!1}}if(d){c.push(b)}return c},removeFilter:function(b){var d=[],a,e,g=this.getView().down('grid'),f=g.getPlugin('gridfilters'),c=f.getActiveFilter();for(e in c){a=c[e];if(!(b.property===a.property&&b.operator===a.operator&&b.value===a.value)){d.push(a)}}return d},onHideFilters:function(d){var c=d.getItems(),a,b;for(a=c.length-1;a>1;a--){d.remove(c.items[a])}b=this.lookupReference('allFilter');b.setChecked(!0)},toggleFilterItem:function(c){var b=c,a;if(b.getChecked()){a=this.addFilter(b.filterConfig)}else {a=this.removeFilter(b.filterConfig)}this.syncAllFIlters();this.getView().down('grid').getPlugin('gridfilters').setActiveFilter(a)},handleAllFilters:function(d){var b=d.getChecked(),a,e=this.lookupReference('ShowFilters'),c=e.getMenu().getItems().items;if(b){this.setCheckAll(!0)}if(this.getCheckAll()){for(a=2;a<c.length;a++){c[a].setChecked(b)}}},syncAllFIlters:function(){var d=this.lookupReference('allFilter'),b=!0,a,e=this.lookupReference('ShowFilters'),c=e.getMenu().getItems().items;for(a=2;a<c.length;a++){if(!c[a].getChecked()){b=!1;this.setCheckAll(!1);break}else {this.setCheckAll(!0)}}d.setChecked(b)}},0,0,0,0,['controller.browse'],0,[App.view.widgets,'BrowseController'],0);Ext.cmd.derive('App.view.commune.BrowseController',App.view.widgets.BrowseController,{control:{'#':{reset:'refresh'}},init:function(){App.view.widgets.BrowseController.prototype.init.apply(this,arguments);var d=this.getViewModel();var c=App.util.State.get('session');var a=c.user;var b=this.getViewModel().getStore('communes');if(a){d.set('province',a.region||a.province);if(a.province){b.filter('province_code',a.province_code)}}},refresh:function(){var a=this.getViewModel()},onSave:function(){var h=this,a=this.getView(),b=this.getViewModel().getStore('communes'),c=b.getModifiedRecords(),e=[];var i=0,d=c.length,g,f;if(!d){App.ux.Signals.showWarning("Vous n'avez rien modifi !",!1);return}a.mask({xtype:'loadmask',message:'Enregistrement ...'});b.sync({success:function(c,b){a.unmask();App.ux.Signals.showSuccess('Modification russie')},failure:function(c,d){a.unmask();var b=c.getExceptions().map(function(a){a.getError()}).join('. ');App.ux.Signals.showWarning('Opration chec :'+b,!0)}})},exportToXlsx:function(){var b=this,c=this.getView(),a=this.getViewModel().getStore('communes');if(a.getPageSize()===0){b._exportGrid('communesList')}else {a.setPageSize(0);a.load({scope:b,callback:function(){b._exportGrid('communesList')}})}}},0,0,0,0,['controller.communebrowse'],0,[App.view.commune,'BrowseController'],0);Ext.cmd.derive('App.view.commune.BrowseModel',Ext.app.ViewModel,{data:{user:null,province:null},stores:{communes:{type:'communes2',remoteGroup:!1,remoteSort:!1,remoteFilter:!1,sorters:[{property:'cercle_code',direction:'ASC'},{property:'province_code',direction:'ASC'}],pageSize:0,clearOnPageLoad:!1,listeners:{refresh:'onStoreRefresh',buffer:100},grouper:{groupFn:function(a){return a.get('province')}}},regions:{type:'regions',autoLoad:!0},provinces:{type:'provinces',autoLoad:!0},cercles:{type:'cercles',autoLoad:!0}}},0,0,0,0,['viewmodel.communebrowse'],0,[App.view.commune,'BrowseModel'],0);Ext.cmd.derive('App.view.commune.BrowseToolbar',App.view.widgets.BrowseToolbar,{shadow:!0,items:{speech:null,province:{xtype:'combobox',weight:4,valueField:'value',displayField:'label',placeholder:'P/P',queryMode:'local',bind:{selection:'{filters.province}',store:'{provinces}'}},cercles:{xtype:'combobox',valueField:'value',displayField:'label',placeholder:'Cercle',queryMode:'local',weight:5,bind:{selection:'{filters.cercle}',store:'{cercles}'}},statut:{xtype:'selectfield',weight:6,placeholder:'Nature',width:120,options:[{text:'Toutes',value:null},{text:'Rurale',value:!0},{text:'Urbaine',value:!1}],bind:{selection:'{filters.est_rural}'}},save:{xtype:'button',iconCls:'x-fa fa-save',text:'Sauvegarder',handler:'onSave',weight:30},'export':{xtype:'button',iconCls:'x-fa fa-download',text:'Exporter sous excel',handler:'exportToXlsx',weight:40}}},0,['communebrowsetoolbar'],['widget','component','container','toolbar','communebrowsetoolbar'],{'widget':!0,'component':!0,'container':!0,'toolbar':!0,'communebrowsetoolbar':!0},['widget.communebrowsetoolbar'],0,[App.view.commune,'BrowseToolbar'],0);Ext.cmd.derive('App.view.reporting.RowViewModel',Ext.app.ViewModel,{formulas:{obsoleteCls:function(b){var a=b('record.est_obsolete');return a?'obsolete':''}}},0,0,0,0,['viewmodel.inputRowViewModel'],0,[App.view.reporting,'RowViewModel'],0);Ext.cmd.derive('App.view.credit.View',App.view.widgets.Browse,{controller:'reportingview',viewModel:{type:'reportingview'},bind:{title:'Situation budgtaire de la mise en oeuvre du prscolaire - {province}',store:'{reportings}'},fields:{id:{property:'id'},plan_actions:{property:'plan_actions'},fondation_partenaire:{property:'fondation_partenaire'},region:{property:'region'},province:{property:'province'},est_obsolete:{property:'est_obsolete'},concernee_visio2022:{property:'concernee_visio2022'}},layout:'fit',tbar:{shadow:!0,docked:'top',items:[{xtype:'button',iconCls:'x-fa fa-sync',text:'Rafrachir',handler:'onRefreshTap',align:'left',bind:{hidden:'{user.role > 1}'}},{xtype:'button',iconCls:'x-fa fa-save',text:'Sauvegarder',handler:'onSave',align:'left'},{xtype:'button',iconCls:'x-fa fa-download',text:'Exporter sous excel',handler:'exportToXlsx',align:'left'},{xtype:'checkbox',boxLabel:'Affich. Nbre UP / BDD',checked:!1,align:'right',bind:{checked:'{showUnitesJoin}',hidden:'{user.role > 1}'}}]},items:[{xtype:'grid',reference:'reportingsList',bind:'{reportings}',listeners:{documentsave:'onDocumentSave',beforedocumentsave:'onBeforeDocumentSave',complete:'onCompleteEdit',beforeedit:'onBeforeEdit'},cls:'sheet',emptyText:'Aucun reporting',loadingText:'Chargement...',ui:'listing',grouped:!0,groupHeader:{tpl:"{name:substr(5)} ({count} Plans d'Actions)"},platformConfig:{desktop:{plugins:{gridcellediting:{selectOnEdit:!0},gridexporter:!0,gridviewoptions:!0,gridfilters:!0,gridsummaryrow:{bind:{hidden:'{user.role > 1}'}}}},'!desktop':{plugins:{grideditable:!0,gridexporter:!0}}},loadMask:!0,columnLines:!0,rowLines:!0,selectable:{rows:!1,cells:!0},itemConfig:{viewModel:{type:'inputRowViewModel'}},columns:[{text:'ID',dataIndex:'id',hidden:!0},{text:'Rgion',dataIndex:'region',locked:!0,width:200,filter:{type:'list',sorted:!0,sortDirection:'ASC',menu:{items:{list:{multiSelect:!0,valueField:'label',displayField:'label',placeholder:'Choisir Rgion',store:{type:'regions'}}}}},bind:{hidden:'{user.role > 1}'}},{text:'Province',dataIndex:'province',width:120,align:'left',editable:!1,locked:!0,summaryRenderer:'summarizeProvinces',cell:{cls:'province-cell',bind:{bodyCls:'{obsoleteCls}'}},filter:{type:'list',sorted:!0,sortDirection:'ASC',menu:{items:{list:{multiSelect:!0,valueField:'label',displayField:'label',placeholder:'Choisir P/P',store:{type:'provinces'}}}}}},{text:'Plan Actions',dataIndex:'plan_actions',width:65,align:'center',editable:!1,groupHeaderTpl:'PA {value} ({count} P/P)',filter:{type:'list',sorted:!0,sortDirection:'ASC',menu:{items:{list:{multiSelect:!0,valueField:'value',displayField:'value',placeholder:'Choisir PAs',store:{type:'annees'}}}}}},{text:'Cot des tudes',dataIndex:'cout_etudes',xtype:'numbercolumn',editable:!0,format:'0,000.00',filter:'number',width:120,align:'right',summary:'sum',editor:{xtype:'numberfield',clearable:!1,minValue:0,required:!0,validators:{type:'number',message:'Veuillez Remplir Cette Cellule'}},exportStyle:{format:'General Number',alignment:{horizontal:'Right'}}},{text:'Cot des travaux',dataIndex:'cout_travaux',xtype:'numbercolumn',editable:!0,format:'0,000.00',filter:'number',width:120,align:'right',summary:'sum',editor:{xtype:'numberfield',clearable:!1,minValue:0,required:!0,validators:{type:'number',message:'Veuillez Remplir Cette Cellule'}},exportStyle:{format:'General Number',alignment:{horizontal:'Right'}}},{text:"Cot d'quipement",dataIndex:'cout_equipement',xtype:'numbercolumn',editable:!0,format:'0,000.00',filter:'number',width:120,align:'right',summary:'sum',editor:{xtype:'numberfield',clearable:!1,minValue:0,required:!0,validators:{type:'number',message:'Veuillez Remplir Cette Cellule'}},exportStyle:{format:'General Number',alignment:{horizontal:'Right'}}},{text:'Cot de fonctionnemnt 2 ans',dataIndex:'cout_fct_2ans',xtype:'numbercolumn',editable:!0,format:'0,000.00',filter:'number',width:120,align:'right',summary:'sum',editor:{xtype:'numberfield',clearable:!1,minValue:0,required:!0,validators:{type:'number',message:'Veuillez Remplir Cette Cellule'}},exportStyle:{format:'General Number',alignment:{horizontal:'Right'}}},{text:'Cot de fonctionnemnt au-del 2 ans',dataIndex:'cout_fct_audela_2ans',xtype:'numbercolumn',editable:!0,format:'0,000.00',filter:'number',width:120,align:'right',summary:'sum',editor:{xtype:'numberfield',clearable:!1,minValue:0,required:!0,validators:{type:'number',message:'Veuillez Remplir Cette Cellule'}},exportStyle:{format:'General Number',alignment:{horizontal:'Right'}}},{text:'Cot total',dataIndex:'cout_total',xtype:'numbercolumn',format:'0,000.00',filter:'number',width:120,align:'right',summary:'sum',exportStyle:{format:'General Number',alignment:{horizontal:'Right'}}},{xtype:'datecolumn',text:'Date Situation',dataIndex:'updated',align:'center',exportStyle:{format:'General Date'},format:'d/m/Y',filter:'date',bind:{hidden:'{user.role > 1}'}},{text:'Auteur Modif.',dataIndex:'modified_by',filter:'string',bind:{hidden:'{user.role > 1}'}}]}]},0,['creditview'],['widget','component','container','panel','browse','creditview'],{'widget':!0,'component':!0,'container':!0,'panel':!0,'browse':!0,'creditview':!0},['widget.creditview'],0,[App.view.credit,'View'],0);Ext.cmd.derive('App.view.delegation.Browse',App.view.widgets.Browse,{stateId:'delegationBrowse',stateful:!0,fields:{id:{property:'id'},lot:{property:'lotId'},annee:{property:'annee_budgetaire'},nature_affectation:{property:'nature_affectation'}},controller:'delegationbrowse',viewModel:{type:'delegationbrowse'},cls:'delegation-browse',bind:{title:'Dlgations - {count} affichs',store:'{delegations}'},tbar:{xtype:'delegationbrowsetoolbar'},layout:'fit',items:[{xtype:'grid',reference:'delegationsList',emptyText:'Aucune dlgation correspondante  votre recherche',loadingText:'Chargement...',bind:'{delegations}',ui:'listing',syncRowHeight:!1,grouped:!0,groupHeader:{tpl:'{name} ({count})'},title:' ',titleBar:{shadow:!1,docked:'bottom',items:[{align:'right',xtype:'button',iconCls:'x-fa fa-download',tooltip:'Exporter sous excel',handler:'exportToXlsx'}]},plugins:{listpaging:{autoPaging:!1},gridviewoptions:!0,gridexporter:!0,gridfilters:!0},listeners:{documentsave:'onDocumentSave',beforedocumentsave:'onBeforeDocumentSave',childdoubletap:'onChildActivate'},columnLines:!0,rowLines:!0,loadMask:!0,multiColumnSort:!1,selectable:{rows:!0},columns:[{xtype:'datecolumn',text:'Date Dlgation',dataIndex:'date_delegation',align:'center',width:150,exportStyle:{format:'Medium Date'},format:'d/m/Y'},{text:'Libell',dataIndex:'libelle',align:'center',flex:1,filterType:'list',cell:{encodeHtml:!1},tpl:['<a class="item-title" href="#{url}">{libelle}</a>']},{text:'Nature Affectation',dataIndex:'nature_affectation',align:'center',width:150,filterType:'list'},{text:'Montant',dataIndex:'montant_effectif',xtype:'numbercolumn',format:'0,000.00',align:'right',summary:'sum',width:150,exportStyle:{format:'General Number',alignment:{horizontal:'Right'}}},{text:'Objet de Dlgation',dataIndex:'provincescount_effectif',align:'center',flex:1,cell:{encodeHtml:!1},tpl:['<a href="#depenses/delegation/{id}">','<b>{provincescount_effectif} P/P</b>','<div class="item-caption">Pour {unitescount:plural("UP")} / {sallescount:plural("Salle")}','</div>','</a>']},{text:'Observations',dataIndex:'observations',flex:1}]}]},0,['delegationbrowse'],['widget','component','container','panel','browse','delegationbrowse'],{'widget':!0,'component':!0,'container':!0,'panel':!0,'browse':!0,'delegationbrowse':!0},['widget.delegationbrowse'],0,[App.view.delegation,'Browse'],0);Ext.cmd.derive('App.view.delegation.BrowseController',App.view.widgets.BrowseController,{control:{'#':{reset:'refresh'}},refresh:function(){var a=this.getViewModel()},onCreate:function(){var a=Ext.create('App.model.Delegation');Ext.create({xtype:'delegationcreate',record:a,centered:!0,floated:!0,modal:!0,ui:'dialog',toolbar:{docked:'bottom'}}).show()},exportToXlsx:function(){var b=this,c=this.getView(),a=this.getViewModel().getStore('delegations');if(a.getPageSize()===0){b._exportGrid('delegationsList')}else {a.setPageSize(0);a.load({scope:b,callback:function(){b._exportGrid('delegationsList')}})}}},0,0,0,0,['controller.delegationbrowse'],0,[App.view.delegation,'BrowseController'],0);Ext.cmd.derive('App.view.delegation.BrowseModel',Ext.app.ViewModel,{data:{groupBy:null,sortOrder:null,filteredBy:null},stores:{delegations:{type:'delegations',remoteGroup:!1,remoteFilter:!0,remoteSort:!1,extraParams:{scope:'browse'},sorters:[{property:'date_delegation',direction:'ASC'}],pageSize:0,clearOnPageLoad:!1,grouper:{groupFn:function(b){var a=b.getLot();var c=a?new Date(a.get('date_delegation')):new Date(b.get('date_delegation'));return Ext.Date.format(c,'Y/m')+' '+(a&&a.get('libelle'))}},listeners:{refresh:'onStoreRefresh',buffer:100}},annees:{type:'annees',autoLoad:!0},nature_affectations:{type:'nature_affectations',autoLoad:!0}}},0,0,0,0,['viewmodel.delegationbrowse'],0,[App.view.delegation,'BrowseModel'],0);Ext.cmd.derive('App.view.delegation.BrowseToolbar',App.view.widgets.BrowseToolbar,{items:{lf:{xtype:'combobox',weight:10,valueField:'value',displayField:'value',placeholder:'Anne Budgtaire',queryMode:'local',bind:{selection:'{filters.annee}',store:'{annees}'}},nature:{xtype:'combobox',weight:11,valueField:'label',displayField:'label',placeholder:'Toute Affectation',queryMode:'local',bind:{selection:'{filters.nature_affectation}',store:'{nature_affectations}'}},toggleGrouping:{handler:'onToggleGroupTap',tooltip:'Grouper',bind:{iconCls:'{toogleGroupIconCls}'},weight:30}}},0,['delegationbrowsetoolbar'],['widget','component','container','toolbar','delegationbrowsetoolbar'],{'widget':!0,'component':!0,'container':!0,'toolbar':!0,'delegationbrowsetoolbar':!0},['widget.delegationbrowsetoolbar'],0,[App.view.delegation,'BrowseToolbar'],0);Ext.cmd.derive('App.view.widgets.Show',Ext.Panel,{controller:{type:'wizard'},viewModel:{data:{record:null}},eventedConfig:{record:null},platformConfig:{phone:{header:{items:{edit:{xtype:'button',iconCls:'x-fa fa-edit',handler:'onEditTap',weight:10}}}},'!phone':{header:{hidden:!0}}},margin:12,bodyBorder:!0,shadow:!0,scrollable:{y:'scroll'},weighted:!0,defaults:{userCls:'page-constrained',userSelectable:{element:!0,bodyElement:!0}},items:{header:{xtype:'showheader',weight:-10},content:{weighted:!0,userCls:['page-constrained','blocks'],defaults:{userCls:'blocks-column',weighted:!0,defaults:{ui:'block'}},items:{left:{weighted:!0},right:{weighted:!0,items:{history:{xtype:'historypanel',bind:'{history}',ui:'block',listeners:{'childtap':'onHistoryChildTap'}}}}}}}},0,0,['widget','component','container','panel'],{'widget':!0,'component':!0,'container':!0,'panel':!0},0,0,[App.view.widgets,'Show'],0);Ext.cmd.derive('App.view.delegation.Show',App.view.widgets.Show,{controller:'delegationshow',viewModel:{type:'delegationshow'},items:{header:{items:{title:{tpl:['<div class="name"><b>{libelle}</b></div>']},printFiche:{xtype:'button',iconCls:'x-fa fa-file-word',cls:'no-print',ui:'flat',weigth:2,text:'Exporter Listes UPs',platformConfig:{phone:{hidden:!0}}}}},content:{items:{right:null,left:{items:{details:{xtype:'delegationshowdetails'},sousdelegs:{xtype:'delegationshowsousdelegs'},stats:{xtype:'delegationshowstats'}}}}}}},0,['delegationshow'],['widget','component','container','panel','delegationshow'],{'widget':!0,'component':!0,'container':!0,'panel':!0,'delegationshow':!0},['widget.delegationshow'],0,[App.view.delegation,'Show'],0);Ext.cmd.derive('App.view.widgets.ShowController',Ext.app.ViewController,{control:{'#':{recordchange:'onRecordChange'}},type:null,init:function(){Ext.app.ViewController.prototype.init.apply(this,arguments);var c=this,a=location.hash;a=a.slice(1).split('/')[0];if(!a.endsWith('s')){a+='s'}var c=this,d=this.getViewModel(),a=location.hash.slice(1).split('/')[0],b=a[a.length-1]==='s'?a:a+'s';if(a==='users'){b=a}switch(b){case 'unites':this.type='unite';break;case 'users':this.type='utilisateur';break;case 'effectifs':this.type='effectif';break;case 'reportings':this.type='reporting';break;default:this.type='enregistrement';}},getRecord:function(){return this.getViewModel().get('record')},onRecordChange:function(d,a){this.getViewModel().set('record',a);var e=this.getViewModel(),c=e.getStore('history');if(a&&c){c.filter('object',a.toUrl())}if(!d.destroyed){var b=d.getScrollable();b&&b.scrollTo(null,0,!0)}},onReturnBackTap:function(){Ext.History.back()},onEditTap:function(){this.redirectTo(this.getRecord().toEditUrl())},onDeleteTap:function(){var b=this,c=b.getView(),a=b.getRecord(),f='Continuer la Suppression ?',d=function(){c.unmask();Ext.History.back()},e=function(e){if(e!=='yes'){return !1}c.mask({xtype:'loadmask',message:'Suppression ...'});a.erase({callback:function(f,c){App.ux.Signals.CRUDCallback(a,c,null,d);b.fireEvent('actionlog','Suppression '+b.type,a.get('name')||a.get('intitule'),a)}})};if(App.user.get('role')>1){this.redirectTo('page403');return}App.ux.Signals.askUserPermission(f,e)},onUsersChildTap:function(c,b){var a=b.record;if(a){this.redirectTo(a)}},onHistoryChildTap:function(c,b){var a=b.record;if(a){this.redirectTo(a.getPerson())}},onHistoryAllTap:function(){this.redirectTo('history/person/'+this.getRecord().getId())},onBeforeDocumentSave:function(a){a.mask({xtype:'loadmask',message:"Prparation de l'exportation ..."})},onDocumentSave:function(a){a.unmask()},_exportGrid:function(e){var d=this.lookup(e),f=this.getViewModel(),c=f.get('record'),a=c.get('name'),b=a;this._exportToXlsx(d,a,b)},_exportToXlsx:function(a,c,b){if(!a){return}a.saveDocumentAs({type:'xlsx',title:c,fileName:b+'.xlsx'})}},0,0,0,0,['controller.show'],0,[App.view.widgets,'ShowController'],0);Ext.cmd.derive('App.view.delegation.ShowController',App.view.widgets.ShowController,{onRecordChange:function(h,b){if(!b){return}var c=this.getViewModel(),g=c.getStore('history'),e=c.getStore('unites'),d=c.getStore('sousdelegations');if(b&&!b.isPhantom()){var a=b.get('unites')||[];if(a&&a.length){a=a.map(function(a){a.montant_delegue=parseFloat(a.DelegationUnites.montant);return a})}e.loadData(a);var f=b.get('sousdelegations')||[];d.loadData(f)}else {g.removeAll();e.removeAll();d.removeAll()}App.view.widgets.ShowController.prototype.onRecordChange.apply(this,arguments)},onDelegationsCountTap:function(){this.redirectTo('delegations/lot/'+this.getRecord().getId())},onDelegationChildTap:function(c,b){var a=b.record;if(a){this.redirectTo('delegation/'+a.getId())}},onHistoryAllTap:function(){this.redirectTo('history/lot/'+this.getRecord().getId())},expandAll:function(){this.lookup('pivotgrid').expandAll()},collapseAll:function(){this.lookup('pivotgrid').collapseAll()},getStore:function(){var c=this.lookup('pivotgrid'),a=c.getMatrix(),b=a.store;return b},showConfigurator:function(){this.lookup('pivotgrid').showConfigurator()},orderedLabelRenderer:function(a){return a.split('#')[1].trim()},addSousDelegation:function(){var a=this.getRecord();var b=Ext.create('App.model.SousDelegation',{delegationId:a.getId(),plan_actions:a.get('plan_actions')});Ext.create({xtype:'sousdelegationcreate',record:b,centered:!0,floated:!0,modal:!0,ui:'dialog',toolbar:{docked:'bottom'}}).show()},exportDocument:function(d){var c=this.lookup('pivotgrid'),b=this.getRecord();var a='Statistiques '+b.get('libelle');c.saveDocumentAs({type:'excel07',title:a,fileName:a+'.xlsx'}).then(null,this.onError)},saveAsDocx:function(){var c=this.getViewModel(),d=this.getRecord(),a=c.getStore('delegations'),b=[];a.each(function(a){b.push(a.data)});function loadFile(b,a){JSZipUtils.getBinaryContent(b,a)}return;loadFile('templates/fiches/visite.docx',function(c,e){if(c){throw c}var g=new JSZip(e);var b=(new Docxtemplater()).loadZip(g);var a=visit.get('observations');a=a.split('<br/>');b.setData({productName:product.get('name'),date:Ext.util.Format.date(visit.get('startDate'),'d F Y'),responsable:visit.getAssignee().get('fullname'),observations:a,recommandations:recomms});try{b.render()}catch(i){var h={message:i.message,name:i.name,stack:i.stack,properties:i.properties};console.log(JSON.stringify({error:h}));throw i}var f=b.getZip().generate({type:'blob',mimeType:'application/vnd.openxmlformats-officedocument.wordprocessingml.document'});var d='Fiche Visite '+product.get('name')+'.docx';saveAs(f,d)})}},0,0,0,0,['controller.delegationshow'],0,[App.view.delegation,'ShowController'],0);Ext.cmd.derive('App.view.delegation.ShowDetails',Ext.Panel,{title:'Dtails',tpl:['<div class="block-section">','<div class="item">','<div class="label">Date</div>','<div class="value">{date_delegation:date("d F Y")}</div>','</div>','<div class="item">','<div class="label">Nbre P/P Concerns</div>','<div class="value">{provincescount_effectif}</div>','</div>','</div>','<div class="block-section">','<div class="item">','<div class="label">Plan d\'actions</div>','<div class="value">{plan_actions}</div>','</div>','<div class="item">','<div class="label">Nbre UP Concernes</div>','<div class="value">{unitescount}</div>','</div>','</div>','<div class="block-section">','<div class="item">','<div class="label">Affectation</div>','<div class="value">{nature_affectation}</div>','</div>','<div class="item">','<div class="label">Nbre Salles Concernes</div>','<div class="value">{sallescount}</div>','</div>','</div>','<div class="block-section">','<div class="item">','<div class="label">Montant Global</div>','<div class="value">{montant_effectif:dhMoney}</div>','</div>','</div>'],bind:{record:'{record}'}},0,['delegationshowdetails'],['widget','component','container','panel','delegationshowdetails'],{'widget':!0,'component':!0,'container':!0,'panel':!0,'delegationshowdetails':!0},['widget.delegationshowdetails'],0,[App.view.delegation,'ShowDetails'],0);Ext.cmd.derive('App.view.delegation.ShowModel',Ext.app.ViewModel,{stores:{history:{type:'actions',pageSize:12,autoLoad:!1},unites:{type:'unites',autoLoad:!1},sousdelegations:{type:'sousdelegations',autoLoad:!1,sorters:[{property:'province_order',direction:'ASC'}]}}},0,0,0,0,['viewmodel.delegationshow'],0,[App.view.delegation,'ShowModel'],0);Ext.cmd.derive('App.view.delegation.ShowSousDelegations',Ext.Panel,{title:'Sous-Dlgations Par Province',bodyPadding:15,shadow:!0,collapsible:{collapsed:!1,dynamic:!0,direction:'top'},items:[{xtype:'delegationsousdelegslist',bind:'{record.sousdelegations}',cls:'office-details',ui:'listing',minHeight:300}]},0,['delegationshowsousdelegs'],['widget','component','container','panel','delegationshowsousdelegs'],{'widget':!0,'component':!0,'container':!0,'panel':!0,'delegationshowsousdelegs':!0},['widget.delegationshowsousdelegs'],0,[App.view.delegation,'ShowSousDelegations'],0);Ext.cmd.derive('App.view.delegation.ShowStats',Ext.Panel,{title:'Statistiques',bodyPadding:15,shadow:!0,minHeight:500,layout:'fit',header:{items:[{xtype:'button',handler:'expandAll',iconCls:'x-fa fa-chevron-down',ui:'block',weigth:10,tooltip:'Dvelopper Tout'},{xtype:'button',handler:'collapseAll',iconCls:'x-fa fa-chevron-up',ui:'block',weigth:11,tooltip:'Rduire Tout'},{xtype:'button',iconCls:'x-fa fa-cog',tooltip:'Configurer',handler:'showConfigurator',ui:'block',weigth:20},{xtype:'button',iconCls:'x-fa fa-download',tooltip:'Exporter sous excel',handler:'exportDocument',ui:'block',weigth:30}]},items:[{xtype:'pivotgrid',reference:'pivotgrid',emptyText:'Aucune Dpense associe  cette Dlgation',bind:'{unites}',cls:'app-pivot',startColGroupsCollapsed:!0,startRowGroupsCollapsed:!0,plugins:{pivotdrilldown:{columns:[{text:'Rgion',dataIndex:'region'},{text:'P/P',dataIndex:'province'},{text:'Commune',dataIndex:'commune'},{text:'FP',dataIndex:'fondation_partenaire'},{text:'PA',dataIndex:'plan_actions',width:60},{text:'Intitul',dataIndex:'intitule',align:'left',minWidth:300,cell:{encodeHtml:!1},tpl:'<a class="item-title" href="#{url}">{intitule}</a>'},{text:'Nbre Salles',dataIndex:'nbre_salles',align:'center',xtype:'numbercolumn',format:'0',summary:'sum',width:75},{dataIndex:'montant_delegue',header:'Montant Dlgu',aggregator:'sum',align:'center',renderer:Ext.util.Format.numberRenderer('0,000'),width:100},{text:'Ouverte ?',dataIndex:'est_ouverte',align:'center',xtype:'booleancolumn',trueText:'Oui',falseText:'',summary:'sum',width:75},{xtype:'datecolumn',text:'Date Ouverture',dataIndex:'date_ouverture',minWidth:80,format:'d/m/Y'}]},pivotexporter:!0,pivotconfigurator:!0},matrix:{type:'local',enableLocking:!0,textRowLabels:'',compactViewColumnWidth:360,viewLayoutType:'compact',calculateAsExcel:!0,textGrandTotalTpl:'Total gnral',colGrandTotalsPosition:'end',colSubTotalsPosition:'end',aggregate:[{dataIndex:'id',header:'Nbre UPs',aggregator:'count',align:'center',renderer:Ext.util.Format.numberRenderer('0'),width:60},{dataIndex:'nbre_salles',header:'Nbre Salles',aggregator:'sum',align:'center',renderer:Ext.util.Format.numberRenderer('0'),width:60}],leftAxis:[{dataIndex:'region_order',header:'Rgion',labelRenderer:'orderedLabelRenderer'},{dataIndex:'province_order',header:'P/P',labelRenderer:'orderedLabelRenderer'}],topAxis:[{dataIndex:'plan_actions',header:'PA'}]},listeners:{}}]},0,['delegationshowstats'],['widget','component','container','panel','delegationshowstats'],{'widget':!0,'component':!0,'container':!0,'panel':!0,'delegationshowstats':!0},['widget.delegationshowstats'],0,[App.view.delegation,'ShowStats'],0);Ext.cmd.derive('App.view.widgets.Wizard',Ext.form.Panel,{controller:{type:'wizard'},viewModel:{data:{user:null,record:null,finish:!1},formulas:{isNew:function(a){return !a('record')||a('record').phantom}}},listeners:{show:'onShow'},config:{screens:[],toolbar:{xtype:'toolbar',weighted:!0,ui:'tools',defaults:{ui:'flat'},items:{prev:{reference:'prev',handler:'onPrevTap',iconCls:'x-fa fa-chevron-circle-left',text:'Prcdant',weight:-20},next:{reference:'next',handler:'onNextTap',iconCls:'x-fa fa-chevron-circle-right',text:'Suivant',weight:-10}}}},platformConfig:{phone:{header:{items:{submit:{xtype:'button',handler:'onSubmitTap',iconCls:'x-fa fa-save',weight:10}}},toolbar:{docked:'bottom',layout:{pack:'end'}}},'!phone':{header:{items:{cancel:{xtype:'button',reference:'cancel',handler:'onCancelTap',iconCls:'x-fa fa-arrow-left',text:'Retour',weight:10,ui:'action',bind:{hidden:'{isNew}'}}}},toolbar:{userCls:'page-constrained',docked:'top',items:{spacer:{xtype:'spacer',weight:10},submit:{reference:'submit',handler:'onSubmitTap',cls:'submit',weight:20,ui:'action',bind:{hidden:'{!finish}',text:'{record.phantom? "Crer" : "Enregistrer"}'}}}}}},modelValidation:!0,layout:'fit',minHeight:500,minWidth:700,scrollable:'y',margin:12,bodyBorder:!0,shadow:!0,bind:{closable:'{isNew}'},items:[{xtype:'tabpanel',reference:'tabs',defaults:{userCls:'wizard-screen',scrollable:'y',padding:10,tab:{iconAlign:'top'}},tabBar:{defaultTabUI:'flat',ui:'flat',layout:{pack:'center'}},listeners:{add:'onScreenAdd',remove:'onScreenRemove',activeitemchange:'onScreenActivate'}}],initialize:function(){var a=this;Ext.form.Panel.prototype.initialize.call(this);a.add(a.getToolbar());var b=a.getScreens();a.lookup('tabs').add(b)},reset:function(){var a=this;Ext.form.Panel.prototype.reset.call(this);a.fireEvent('reset');return a},setRecord:function(a){this.getViewModel().set('record',a);this.fireEvent('recordchange')}},0,0,['widget','component','container','panel','fieldpanel','formpanel'],{'widget':!0,'component':!0,'container':!0,'panel':!0,'fieldpanel':!0,'formpanel':!0},0,0,[App.view.widgets,'Wizard'],0);Ext.cmd.derive('App.view.delegation.depenses.DepensesList',Ext.grid.Grid,{ui:'listing',bodyPadding:15,shadow:!0,minHeight:200,title:' ',titleBar:{shadow:!1,docked:'top',items:[{align:'right',xtype:'button',iconCls:'x-fa fa-plus',text:'Ajouter UPs  la Dlgation',handler:'onAddUnites'}]},listeners:{childdoubletap:'onDepenseEdit'},rowNumbers:{minWidth:45,align:'center'},plugins:{gridfilters:!0},columns:[{text:'P/P',dataIndex:'province'},{text:'Commune',dataIndex:'commune'},{text:'FP',dataIndex:'fondation_partenaire'},{text:'PA',dataIndex:'plan_actions',width:60},{text:'Douar',dataIndex:'intitule',align:'left',minWidth:300,cell:{encodeHtml:!1,tools:{close:{handler:'removeDepense',tooltip:'Supprimer',zone:'end'}}},tpl:'<a class="item-title" href="#{url}">{intitule}</a>'},{text:'Nbre Salles',dataIndex:'nbre_salles',align:'center',xtype:'numbercolumn',format:'0',summary:'sum',width:75},{text:'Ouverte ?',dataIndex:'est_ouverte',align:'center',xtype:'booleancolumn',trueText:'Oui',falseText:'',summary:'sum',width:75},{text:'Rsilie ?',dataIndex:'est_resiliee',align:'center',xtype:'booleancolumn',trueText:'Oui',falseText:'',summary:'sum',width:75},{xtype:'datecolumn',text:'Date Ouverture',dataIndex:'date_ouverture',exportStyle:{format:'Medium Date',alignment:{horizontal:'Center'}},minWidth:80,format:'d/m/Y'},{text:'Dern. Tranche',dataIndex:'last_tranche',align:'center',width:120},{dataIndex:'montant',text:'Montant Dlgu',aggregator:'sum',align:'center',renderer:Ext.util.Format.numberRenderer('0,000'),width:100}]},0,['delegationdepenseslist'],['widget','component','container','componentdataview','list','grid','delegationdepenseslist'],{'widget':!0,'component':!0,'container':!0,'componentdataview':!0,'list':!0,'grid':!0,'delegationdepenseslist':!0},['widget.delegationdepenseslist'],0,[App.view.delegation.depenses,'DepensesList'],0);Ext.cmd.derive('App.view.delegation.depenses.SelectUnite',Ext.grid.Grid,{ui:'listing',grouped:!0,groupHeader:{tpl:'{name} ({count} UPs)'},plugins:{gridfilters:!0},columnLines:!0,rowLines:!0,loadMask:!0,multiColumnSort:!1,selectable:{checkbox:!0,extensible:'y'},scrollable:!0,title:'Slectionner UP',titleBar:{shadow:!1,docked:'top',items:[{align:'left',xtype:'component',bind:{html:'{currSelCount} UPs Slctionnes'}},{align:'right',xtype:'button',text:'Valider',iconCls:'x-fa fa-check',handler:'addToDelegation'},{align:'right',xtype:'button',text:'Annuler',iconCls:'x-fa fa-arrow-left',handler:'onCancelSelection'}]},columns:[{text:'PA',dataIndex:'plan_actions',width:60},{text:'P/P',dataIndex:'province'},{text:'FP',dataIndex:'fondation_partenaire',width:60},{text:'Commune',dataIndex:'commune'},{text:'Douar / Quartier',dataIndex:'intitule',minWidth:300},{text:'Nbre Salles',dataIndex:'nbre_salles',summary:'sum'},{xtype:'checkcolumn',text:'Ouverte ?',dataIndex:'est_ouverte'},{xtype:'checkcolumn',text:'Resilie ?',dataIndex:'est_resiliee'},{xtype:'datecolumn',text:'Date Ouverture',dataIndex:'date_ouverture',exportStyle:{format:'Medium Date',alignment:{horizontal:'Center'}},minWidth:95,format:'d/m/Y'},{text:'Age',dataIndex:'age_ans',align:'center',xtype:'numbercolumn',format:'0.0'},{text:'Dern. Tranche',dataIndex:'last_tranche_label',align:'center',width:120}]},0,['selectunitewizard'],['widget','component','container','componentdataview','list','grid','selectunitewizard'],{'widget':!0,'component':!0,'container':!0,'componentdataview':!0,'list':!0,'grid':!0,'selectunitewizard':!0},['widget.selectunitewizard'],0,[App.view.delegation.depenses,'SelectUnite'],0);Ext.cmd.derive('App.view.delegation.sousdelegation.SousDelegationsList',Ext.grid.Grid,{ui:'listing',bodyPadding:15,shadow:!0,minHeight:200,emptyText:'Aucune Sous-Dlgation associe  cette Dlgation',title:' ',titleBar:{shadow:!1,docked:'top',items:[{align:'right',xtype:'button',iconCls:'x-fa fa-plus',text:'Ajouter Sous-Dlgation',handler:'onAddSousDelegation'}]},listeners:{childdoubletap:'onSousDelegationEdit'},rowNumbers:{minWidth:45,align:'center'},plugins:{gridfilters:!0},columns:[{text:'Province',dataIndex:'province',align:'center',flex:1,cell:{encodeHtml:!1,tools:{close:{handler:'removeSousDelegation',tooltip:'Supprimer',zone:'end'}}}},{text:'Montant',dataIndex:'montant_effectif',xtype:'numbercolumn',align:'right',width:100,format:'0,000.00'},{text:'Nbre UP Objet Dlgation',columns:[{text:'Nbre Total',dataIndex:'nbre_ups_concernees',width:50,align:'center',xtype:'numbercolumn',format:'0'},{text:'Nbre Salles',dataIndex:'nbre_salles_concernees',width:65,align:'center',xtype:'numbercolumn',format:'0'},{text:'Nbre T1',dataIndex:'nbre_t1',width:65,align:'center',xtype:'numbercolumn',format:'0'},{text:'Nbre T2',dataIndex:'nbre_t2',width:65,align:'center',xtype:'numbercolumn',format:'0'},{text:'Nbre T3',dataIndex:'nbre_t3',width:65,align:'center',xtype:'numbercolumn',format:'0'},{text:'Nbre Amnag.',dataIndex:'nbre_amg',width:65,align:'center',xtype:'numbercolumn',format:'0'},{text:'Nbre Mod.',dataIndex:'nbre_modulaire',width:65,align:'center',xtype:'numbercolumn',format:'0'}]},{text:'Observations',flex:1,dataIndex:'observations'}]},0,['delegationsousdelegslist'],['widget','component','container','componentdataview','list','grid','delegationsousdelegslist'],{'widget':!0,'component':!0,'container':!0,'componentdataview':!0,'list':!0,'grid':!0,'delegationsousdelegslist':!0},['widget.delegationsousdelegslist'],0,[App.view.delegation.sousdelegation,'SousDelegationsList'],0);Ext.cmd.derive('App.view.delegation.Wizard',App.view.widgets.Wizard,{viewModel:{type:'delegationwizard'},controller:{type:'delegationwizard'},bind:{title:'{record.phantom? "Ajouter" : "Modifier"} Dlgation de Crdit "{record.libelle}"'},screens:[{title:'Identification',iconCls:'x-fa fa-info',defaults:{labelAlign:'left'},items:[{xtype:'datepickerfield',label:'Date de la Dlgation',dateFormat:'d/m/Y',required:!0,bind:'{record.date_delegation}'},{xtype:'selectfield',label:"Plan d'Actions",displayField:'value',valueField:'value',queryMode:'local',required:!0,bind:{value:'{record.plan_actions}',store:'{annees}'}},{xtype:'combobox',reference:'nature_affectation',label:"Nature d'affectation",displayField:'label',valueField:'value',queryMode:'local',required:!0,bind:{value:'{record.nature_affectation}',store:'{nature_affectations}'}},{xtype:'spinnerfield',reference:'mois',label:'Nbre Mois de Fonctionnement Couverts',stepValue:1,cycle:!0,bind:{value:'{record.nbre_mois_fonctionnement}',hidden:'{record.nature_affectation !== "Fonctionnement"}'}},{xtype:'combobox',label:'Ordre Tranche',displayField:'label',valueField:'value',queryMode:'local',required:!0,bind:{value:'{record.tranche_no}',store:'{tranches}'}},{xtype:'textfield',reference:'libelle',label:'Libell',autoCapitalize:!0,required:!0,bind:'{record.libelle}'},{xtype:'checkbox',padding:'0 0 0 198',reference:'est_effective',boxLabel:'Finalise et Effective ?',boxLabelAlign:'before',bind:'{record.est_effective}'},{xtype:'textareafield',label:'Observations',bind:'{record.observations}'}]},{title:'Objet de Dlgation',iconCls:'x-fa fa-building',reference:'delegationObjetsContainer',layout:'card',items:[{xtype:'delegationdepenseslist',bind:{store:'{objets_delegation}',title:'UPs Objets de Dlgation ({objectsCount} UP)'}},{xtype:'selectunitewizard',reference:'delegationUnitesList',bind:'{unites}'}]},{title:'Sous-Dlgations',iconCls:'x-fa fa-building',layout:'fit',items:[{xtype:'delegationsousdelegslist',bind:{store:'{sousdelegations}',title:'Sous-Dlgations ({provincesCount} P/P)'}}]}]},0,['delegationcreate','delegationedit','delegationwizard'],['widget','component','container','panel','fieldpanel','formpanel','delegationwizard','delegationcreate','delegationedit'],{'widget':!0,'component':!0,'container':!0,'panel':!0,'fieldpanel':!0,'formpanel':!0,'delegationwizard':!0,'delegationcreate':!0,'delegationedit':!0},['widget.delegationcreate','widget.delegationedit','widget.delegationwizard'],0,[App.view.delegation,'Wizard'],0);Ext.cmd.derive('App.view.widgets.WizardController',Ext.app.ViewController,{type:null,control:{'#':{reset:'reset'}},reset:function(){},onShow:function(a,b){var a=this.getView();if(!a.destroyed){this.goToFirstScreen()}},init:function(){Ext.app.ViewController.prototype.init.apply(this,arguments);var d=this,c=this.getViewModel(),a=location.hash.slice(1).split('/')[0],b=a[a.length-1]==='s'?a:a+'s';c.set('user',App.user);if(a==='users'){b=a}switch(b){case 'users':case 'user':this.type='utilisateur';break;default:this.type='enregistrement';}},getRecord:function(){var a=this.getViewModel();return a&&a.get('record')},getItemCount:function(a){return a.getInnerItems().length},getActiveIndex:function(a){return a.getInnerItems().indexOf(a.getActiveItem())},goToFirstScreen:function(c){var b=this,a=b.lookup('tabs');if(a){a.setActiveItem(0)}},advance:function(c){var a=this,g=a.getView(),b=a.lookup('tabs'),e=a.getActiveIndex(b),d=a.getItemCount(b),f=e+c;b.setActiveItem(Math.max(0,Math.min(d-1,f)))},resync:function(){var a=this,h=a.getViewModel(),e=a.lookup('tabs'),g=a.lookup('prev'),f=a.lookup('next'),b=a.getActiveIndex(e),d=a.getItemCount(e),c=d<2;e.getTabBar().setHidden(c);if(g){g.setDisabled(b<=0).setHidden(c)}if(f){f.setDisabled(b==-1||b>=d-1).setHidden(c)}if(b===d-1||!a.getView().getFloated()){a.getViewModel().set('finish',!0)}else {a.getViewModel().set('finish',!1)}},syncCache:function(a){var g=this,e=this.getRecord(),f=location.hash.slice(1).split('/')[0],c=f+'_'+e.getId();var b=App.app.getCacheStore();var d=b.findRecord('key',c);if(d){}if(a&&a.isModel){console.log(a.isModel,a);b.add({key:c,value:a})}},finalize:function(a){this.cancelWizard(!1);this.fireEvent('datachanged')},cancelWizard:function(b){var a=this.getView();if(!a){return}var b=typeof b==='undefined'?!0:!1;globalThis.vw=a;if(a.getFloated()){a.close()}else if(b){Ext.History.back()}},validate:function(){var d=this,f=d.getView(),a=f.getFields(),b=[],e=d.getViewModel().get('record'),c=function(a){if(a.validate()){return}var c=a.getLabel()||a.getBoxLabel();var g=a.getValue();var f=a.getBind().value.stub.name;var d=e.get(f);if(Ext.isEmpty(d)){c=c+' : '+a.getValidationMessage()+' et vide';b.push(c)}else {a.clearValue();a.setValue(d);a.focus()}};if(a&&Ext.isObject(a)){Object.keys(a).forEach(function(d){var b=a[d];if(Array.isArray(b)){b.forEach(function(a){c(a)})}else {c(b)}})}return b},getModifications:function(a){var d=this;a=a||d.getViewModel().get('record');var c=a.modified,e=a.isPhantom(),b;if(e){b=a.get('name')||a.get('intitule')}else {b=d.type;b+=' ';b+=a.get('name')||a.get('intitule');if(c){b+='<ul>';Object.keys(c).forEach(function(c){b+='<li><b>'+c+' :</b> &nbsp;'+a.getModified(c)+'&nbsp; ---> '+a.get(c);b+='</li>'});b+='</ul>'}}return b},onSubmitTap:function(){var c=this,d=c.getViewModel().get('record'),b,a;b=c.validate();if(b.length>0){a='<h3>Formulaire invalide</h3>Veuillez vrifier les champs suivants :<br/> <ul><li>';a+=b.join('</li><li>');a+='</ul>';App.ux.Signals.showWarning(a,!0);return}if(!d.isDirty()){console.debug('is not dirty');c.finalize();return}this._doSave()},onCancelTap:function(){this.cancelWizard()},onPrevTap:function(){this.advance(-1)},onNextTap:function(){this.advance(1)},onScreenAdd:function(){this.resync()},onScreenRemove:function(a){if(!a.destroying){this.resync()}},onScreenActivate:function(a){if(!a.destroying){this.resync()}},_doSave:function(b,d){var c=this,a=this.getView();b=b||this.getViewModel().get('record');if(a){a.setMasked({xtype:'loadmask'});a.clearErrors()}b.save({callback:function(i,h){a&&a.setMasked(!1);if(h.hasException()){var j=h.getError(),e=App.util.Errors.toForm(j);if(Ext.isObject(e)){var k=Object.keys(e),g=k[0],l=g+' : '+e[g];a&&a.setErrors(e);App.ux.Signals.showWarning(l,!0)}else {App.ux.Signals.showWarning(j,!0)}return}App.ux.Signals.showSuccess('Modification russie');var f=c.getModifications(b);if(f){c.fireEvent('actionlog',(b.isPhantom()?'Ajout ':'Modification ')+c.type,f,i)}if(!d){c.finalize(i)}}})}},0,0,0,0,['controller.wizard'],0,[App.view.widgets,'WizardController'],0);Ext.cmd.derive('App.view.delegation.WizardController',App.view.widgets.WizardController,{control:{'#':{recordchange:'onRecordChange',reset:'reset'}},listen:{controller:{'*':{sousdelegationcreated:'onSousDelegationCreated'}}},corbeille:[],onRecordChange:function(){var a=this.getViewModel(),b=a.get('record'),c=a.getStore('objets_delegation'),e=a.getStore('sousdelegations');if(b&&!b.isPhantom()){var g=b.get('unites')||[];var d=b.get('sousdelegations')||[];var f=g.map(function(a){var b=Object.assign({},a,a.DelegationUnites);var c=Ext.create('App.model.Unite',b);return Object.assign(b,{province:c.get('province')})});a.set('objectsCount',f.length);c.loadData(f);a.set('provincesCount',d.length);e.loadData(d)}else {c.removeAll();e.removeAll()}},onUnitesStoreLoad:function(){var b=this.getViewModel(),e=b.getStore('unites'),a=b.get('record');if(!a){return}var c=a.get('unites').map(function(a){return a.id});var d=new Ext.util.Filter({filterFn:function(d){var a=d.getId();var b=c.includes(a);return !b}});e.filter(d)},removeDepense:function(g,e){var i=this,c=this.getViewModel(),b=i.getView(),a=e.record,h='Continuer la Suppression ?',d=function(){b.unmask()},f=function(f){if(f!=='yes'){return !1}b.mask({xtype:'loadmask',message:'Suppression ...'});console.log(a);if(a.isPhantom()){a.delegationUnites().remove(a);objets_delegation.remove(a);var h=this.corbeille.find(function(b){return b.getId()===a.getUnite().getId()});g.getStore().add(h)}a.phantom=!1;a.erase({callback:function(h,b){c.set('objectsCount',c.get('objectsCount')-1);App.ux.Signals.CRUDCallback(a,b,null,d)}})};App.ux.Signals.askUserPermission(h,f)},onDepenseEdit:function(c,b){var a=b.record;if(!a){return}Ext.create({xtype:'delegationdepensesedit',record:a,centered:!0,floated:!0,modal:!0,ui:'dialog',toolbar:{docked:'bottom'}}).show()},removeSousDelegation:function(j,e){console.log(arguments);var h=this,a=this.getViewModel(),i=a.getStore('sousdelegations'),c=h.getView(),b=e.record,g='Continuer la Suppression ?',d=function(){c.unmask()},f=function(f){if(f!=='yes'){return !1}c.mask({xtype:'loadmask',message:'Suppression ...'});b.erase({callback:function(g,c){a.set('provincesCount',a.get('provincesCount')-1);App.ux.Signals.CRUDCallback(b,c,null,d)}})};App.ux.Signals.askUserPermission(g,f)},onSousDelegationEdit:function(c,b){var a=b.record;if(!a){return}console.log(a);Ext.create({xtype:'sousdelegationedit',record:a,centered:!0,floated:!0,modal:!0,ui:'dialog',toolbar:{docked:'bottom'}}).show()},onAddSousDelegation:function(){var a=this.getRecord();var b=Ext.create('App.model.SousDelegation',{delegationId:a.getId(),plan_actions:a.get('plan_actions')});Ext.create({xtype:'sousdelegationcreate',record:b,centered:!0,floated:!0,modal:!0,ui:'dialog',toolbar:{docked:'bottom'}}).show()},onSousDelegationCreated:function(b){var c=this.getViewModel(),a=c.getStore('sousdelegations');a.add(b)},onCancelSelection:function(){this.onUnitesSelectDone()},addToDelegation:function(){var d=this,f=this.lookup('delegationUnitesList'),c=this.getViewModel(),a=c.get('record'),e=c.getStore('objets_delegation');var b=f.getSelections();if(!b.length){App.ux.Signals.showWarning("Vous n'avez rien choisi !",!1);return}Ext.Msg.confirm('Confirmation de Dlgation','<h3>Vous etes sr de vouloir ajouter ces '+b.length+' UP  la Dlgation de crdits:</h3>',function(h){if(h!=='yes'){return}var f=[];var g=b.map(function(b){var d=0;var e=a.get('nature_affectation').trim();switch(e){case 'Cration':d=b.get('cout_travaux_estime');break;case 'Fonctionnement':d=b.get('nbre_salles')*58000*a.get('nbre_mois_fonctionnement')/12;break;case 'Equipement':console.log(b,b.get('nbre_salles'),b.get('cout_equipement'));break;default:alert('Nature: '+e+' non support');}var c=Ext.create('App.model.DelegationUnite',{montant:d});c.setDelegation(a);c.setUnite(b);c.setLot(a.getLot());f.push(Object.assign({},b.getData(),{delegation:a.getData(),unite:b.getData(),lot:a.getLot().getData(),montant:d},{id:null}));return c});a.delegationUnites().add(g);e.add(f);d.corbeille=d.corbeille.concat(b);d.onUnitesSelectDone();c.set('objectsCount',c.get('objectsCount')+g.length)})},onAddUnites:function(){var e=this.lookup('delegationObjetsContainer');e.setActiveItem(1);var b=this.getViewModel(),a=b.getStore('unites'),d=b.get('record');var c=d.get('plan_actions');a.filter([{property:'plan_actions',value:c}]);if(a.count()===0){a.load()}},onUnitesSelectDone:function(){var a=this.lookup('delegationObjetsContainer');a.setActiveItem(-1)},finalize:function(a){console.log(a);var b=this,d=b.getViewModel(),c=d.get('record');c.delegationUnites().sync({callback:function(){App.view.delegation.WizardController.superclass.finalize.apply(b,[a])}})}},0,0,0,0,['controller.delegationwizard'],0,[App.view.delegation,'WizardController'],0);Ext.cmd.derive('App.view.delegation.WizardModel',Ext.app.ViewModel,{data:{record:null,objectsCount:null,provincesCount:null},formulas:{currSelCount:{bind:{selection:'{delegationUnitesList.selection}',gridSelModel:'{delegationUnitesList.selModel}'},get:function(a){console.log(a);return a.gridSelModel.getCount()}}},stores:{annees:{type:'annees',autoLoad:!0},nature_affectations:{type:'nature_affectations',autoLoad:!0},tranches:{type:'tranches',autoLoad:!0},objets_delegation:{type:'depenses',autoLoad:!1},sousdelegations:{type:'sousdelegations',autoLoad:!1},unites:{type:'projets',remoteGroup:!1,remoteFilter:!1,remoteSort:!1,autoLoad:!1,pageSize:0,clearOnPageLoad:!1,sorters:[{property:'plan_actions',direction:'DESC'},{property:'commune',direction:'ASC'},{property:'province',direction:'ASC'}],groupers:'plan_actions',listeners:{beforeload:'onUnitesStoreLoad',buffer:100},proxy:{type:'direct',api:{prefix:'Server.unites',create:'insert',read:'list',update:'update',destroy:'remove'},reader:{type:'json',rootProperty:'data',messageProperty:'message'},extraParams:{scope:'lastdelegation'}}}}},0,0,0,0,['viewmodel.delegationwizard'],0,[App.view.delegation,'WizardModel'],0);Ext.cmd.derive('App.view.delegation.depenses.DepensesWizard',App.view.widgets.Wizard,{controller:{type:'delegationdepenseswizard'},viewModel:{type:'delegationdepenseswizard'},bind:{title:'{record.phantom? "Ajouter" : "Modifier"} Dpense'},width:700,screens:[{title:'Qualification',iconCls:'x-fa fa-info',defaults:{labelAlign:'left'},items:[{xtype:'spinnerfield',reference:'montant',label:'Montant',stepValue:1,cycle:!0,bind:{value:'{record.montant}'}},{xtype:'checkbox',padding:'0 0 0 198',reference:'est_effective',boxLabel:'Finalis ?',bind:'{record.est_effective}'}]}]},0,['delegationdepensescreate','delegationdepensesedit','delegationdepenseswizard'],['widget','component','container','panel','fieldpanel','formpanel','delegationdepenseswizard','delegationdepensescreate','delegationdepensesedit'],{'widget':!0,'component':!0,'container':!0,'panel':!0,'fieldpanel':!0,'formpanel':!0,'delegationdepenseswizard':!0,'delegationdepensescreate':!0,'delegationdepensesedit':!0},['widget.delegationdepensescreate','widget.delegationdepensesedit','widget.delegationdepenseswizard'],0,[App.view.delegation.depenses,'DepensesWizard'],0);Ext.cmd.derive('App.view.delegation.depenses.DepensesWizardController',App.view.widgets.WizardController,{finalize:function(){var a=this.getViewModel(),c=a.getStore('depenses'),b=a.get('record');c.add(b);App.view.widgets.WizardController.prototype.finalize.apply(this,arguments)}},0,0,0,0,['controller.delegationdepenseswizard'],0,[App.view.delegation.depenses,'DepensesWizardController'],0);Ext.cmd.derive('App.view.delegation.depenses.DepensesWizardModel',Ext.app.ViewModel,{data:{record:null}},0,0,0,0,['viewmodel.delegationdepenseswizard'],0,[App.view.delegation.depenses,'DepensesWizardModel'],0);Ext.cmd.derive('App.view.delegation.sousdelegation.SousDelegationWizard',App.view.widgets.Wizard,{viewModel:{type:'sousdelegationwizard'},controller:{type:'sousdelegationwizard'},bind:{title:'{record.phantom ? "Ajouter" : "Modifier"} Sous-Dlgation'},screens:[{title:'Qualification',iconCls:'x-fa fa-info',defaults:{labelAlign:'left'},items:[{xtype:'selectfield',label:'Province',displayField:'label',valueField:'value',queryMode:'local',required:!0,bind:{value:'{record.province_code}',store:'{provinces}'}},{xtype:'spinnerfield',reference:'montant',label:'Montant',decimals:2,stepValue:1,cycle:!0,bind:{value:'{record.montant_effectif}'}},{xtype:'checkbox',padding:'0 0 0 198',reference:'credits_restitues',boxLabel:'Crdits restitus CAS-ILDHs?',boxLabelAlign:'before',bind:'{record.credits_restitues}'},{xtype:'checkbox',padding:'0 0 0 198',reference:'est_complement',boxLabel:'Complment de crdit ?',boxLabelAlign:'before',bind:'{record.est_complement}'},{xtype:'spinnerfield',label:'Nbre Total UP',stepValue:1,cycle:!0,bind:{value:'{record.nbre_ups_concernees}'}},{xtype:'spinnerfield',label:'Nbre Total Salles',stepValue:1,cycle:!0,bind:{value:'{record.nbre_salles_concernees}'}},{xtype:'spinnerfield',label:'Nbre T1',stepValue:1,cycle:!0,bind:{value:'{record.nbre_t1}'}},{xtype:'spinnerfield',label:'Nbre T2',stepValue:1,cycle:!0,bind:{value:'{record.nbre_t2}'}},{xtype:'spinnerfield',label:'Nbre T3',stepValue:1,cycle:!0,bind:{value:'{record.nbre_t3}'}},{xtype:'spinnerfield',label:'Nbre Amg.',stepValue:1,cycle:!0,bind:{value:'{record.nbre_amg}'}},{xtype:'spinnerfield',label:'Nbre Modulaires',stepValue:1,cycle:!0,bind:{value:'{record.nbre_modulaire}'}},{xtype:'fieldset',items:[{xtype:'spinnerfield',label:'Nbre UP Ouvertes',stepValue:1,cycle:!0,bind:{value:'{record.nbre_ups_ouvertes}'}},{xtype:'spinnerfield',label:"Nbre UP en phase d'Ouv.",stepValue:1,cycle:!0,bind:{value:'{record.nbre_ups_achevees}'}},{xtype:'spinnerfield',label:'Nbre UP en cours trvx.',stepValue:1,cycle:!0,bind:{value:'{record.nbre_ups_encours}'}}]},{xtype:'textareafield',label:'Observations',bind:'{record.observations}'}]}]},0,['sousdelegationcreate','sousdelegationedit','sousdelegationwizard'],['widget','component','container','panel','fieldpanel','formpanel','sousdelegationwizard','sousdelegationcreate','sousdelegationedit'],{'widget':!0,'component':!0,'container':!0,'panel':!0,'fieldpanel':!0,'formpanel':!0,'sousdelegationwizard':!0,'sousdelegationcreate':!0,'sousdelegationedit':!0},['widget.sousdelegationcreate','widget.sousdelegationedit','widget.sousdelegationwizard'],0,[App.view.delegation.sousdelegation,'SousDelegationWizard'],0);Ext.cmd.derive('App.view.delegation.sousdelegation.SousDelegationWizardController',App.view.widgets.WizardController,{finalize:function(c){var b=this.getViewModel(),a=b?b.get('record'):c;if(!a){alert('no record found !');return}if(a.isPhantom()){this.fireEvent('sousdelegationcreated',a)}else {this._doSave(a,!0)}App.view.widgets.WizardController.prototype.finalize.apply(this,arguments)}},0,0,0,0,['controller.sousdelegationwizard'],0,[App.view.delegation.sousdelegation,'SousDelegationWizardController'],0);Ext.cmd.derive('App.view.delegation.sousdelegation.SousDelegationWizardModel',Ext.app.ViewModel,{data:{record:null},stores:{provinces:{type:'provinces',autoLoad:!0}}},0,0,0,0,['viewmodel.sousdelegationwizard'],0,[App.view.delegation.sousdelegation,'SousDelegationWizardModel'],0);Ext.cmd.derive('App.view.delegation.sousdelegation.SousDelegationsListController',Ext.app.ViewController,{removeSousDelegation:function(h,d){var g=this,b=g.getView(),a=d.record,f='Continuer la Suppression ?',c=function(){b.unmask()},e=function(e){if(e!=='yes'){return !1}b.mask({xtype:'loadmask',message:'Suppression ...'});console.info(a.getId());a.phantom=!1;console.info(a.getId());a.erase({callback:function(f,b){console.log(arguments);App.ux.Signals.CRUDCallback(a,b,null,c)}})};App.ux.Signals.askUserPermission(f,e)},onSousDelegationEdit:function(c,b){var a=b.record;if(!a){return}Ext.create({xtype:'sousdelegationedit',record:a,centered:!0,floated:!0,modal:!0,ui:'dialog',toolbar:{docked:'bottom'}}).show()}},0,0,0,0,['controller.delegationsousdelegslist'],0,[App.view.delegation.sousdelegation,'SousDelegationsListController'],0);Ext.cmd.derive('App.view.depense.BrowseController',App.view.widgets.BrowseController,{control:{'#':{reset:'refresh'}},listen:{controller:{'*':{datachanged:'onRecordDataChanged',recorddatachanged:'onRecordDataChanged'}}},refresh:function(){var a=this.getViewModel()},onCreate:function(){this.redirectTo('depense/create')},exportToXlsx:function(){var b=this,c=this.getView(),a=this.getViewModel().getStore('depenses');if(a.getPageSize()===0){b._exportGrid('depensesList')}else {a.setPageSize(0);a.load({scope:b,callback:function(){b._exportGrid('depensesList')}})}}},0,0,0,0,['controller.depensebrowse'],0,[App.view.depense,'BrowseController'],0);Ext.cmd.derive('App.view.depense.BrowseModel',Ext.app.ViewModel,{data:{groupBy:null,sortOrder:null,filteredBy:null},stores:{depenses:{type:'depenses',autoLoad:!0,remoteFilter:!0,remoteSort:!1,remoteGroup:!1,grouper:{groupFn:function(a){return a.getUnite().get('province')}},pageSize:0,clearOnPageLoad:!1,listeners:{refresh:'onStoreRefresh',buffer:100}},annees:{type:'annees',autoLoad:!0},nature_affectations:{type:'nature_affectations',autoLoad:!0}}},0,0,0,0,['viewmodel.depensebrowse'],0,[App.view.depense,'BrowseModel'],0);Ext.cmd.derive('App.view.depense.Wizard',App.view.widgets.Wizard,{viewModel:{type:'depensewizard'},controller:{type:'depensewizard'},bind:{title:'{record.phantom? "Ajouter" : "Modifier"} Dpense'},width:700,height:600,screens:[{title:'Qualification',iconCls:'x-fa fa-info',defaults:{labelAlign:'left'},items:[{xtype:'spinnerfield',reference:'montant',label:'Montant',stepValue:1,cycle:!0,bind:{value:'{record.montant}'}},{xtype:'checkbox',padding:'0 0 0 198',reference:'est_effective',boxLabel:'Finalis ?',bind:'{record.est_effective}'}]}]},0,['depensecreate','depenseedit','depensewizard'],['widget','component','container','panel','fieldpanel','formpanel','depensewizard','depensecreate','depenseedit'],{'widget':!0,'component':!0,'container':!0,'panel':!0,'fieldpanel':!0,'formpanel':!0,'depensewizard':!0,'depensecreate':!0,'depenseedit':!0},['widget.depensecreate','widget.depenseedit','widget.depensewizard'],0,[App.view.depense,'Wizard'],0);Ext.cmd.derive('App.view.depense.WizardController',App.view.widgets.WizardController,{},0,0,0,0,['controller.depensewizard'],0,[App.view.depense,'WizardController'],0);Ext.cmd.derive('App.view.depense.WizardModel',Ext.app.ViewModel,{data:{record:null},stores:{}},0,0,0,0,['viewmodel.depensewizard'],0,[App.view.depense,'WizardModel'],0);Ext.cmd.derive('App.view.douar.Browse',App.view.widgets.Browse,{fields:{id:{property:'id'},nom_fr:{property:'nom_fr'},region:{property:'region_code'},province:{property:'province_code'},cercle:{property:'cercle_code'},has_prescolaire:{property:'has_prescolaire'},has_ecole:{property:'has_ecole'}},controller:'douarbrowse',viewModel:{type:'douarbrowse'},cls:'douarbrowse',tbar:{xtype:'douarbrowsetoolbar'},bind:{title:'Liste des Douars - {count} affichs',store:'{douars}'},items:[{xtype:'grid',reference:'douarsList',emptyText:'Aucun douar correspondant  votre recherche',bind:'{douars}',ui:'listing',grouped:!0,groupHeader:{tpl:'{name} ({count} douars)'},plugins:{listpaging:{autoPaging:!0},gridviewoptions:!0,gridexporter:!0,gridfilters:!0,gridcellediting:{selectOnEdit:!0}},loadMask:!0,columnLines:!0,rowLines:!0,selectable:{rows:!1,cells:!0},listeners:{documentsave:'onDocumentSave',beforedocumentsave:'onBeforeDocumentSave',complete:'onCompleteEdit'},grouped:!0,groupHeader:{tpl:'{name} ({count} Douars)'},columns:[{text:'Rgion',dataIndex:'region_code',align:'center',locked:!0,groupable:!0,renderer:function(b,a){return a.get('region')},exportRenderer:!0,bind:{hidden:'{user.role > 1}'},filter:{type:'list',sorted:!0,sortDirection:'ASC',menu:{items:{list:{multiSelect:!0,valueField:'value',displayField:'label',placeholder:'Choisir Rgion',store:{type:'regions'}}}}}},{text:'Province',dataIndex:'province_code',align:'center',locked:!0,groupable:!0,renderer:function(b,a){return a.get('province')},exportRenderer:!0,filter:{type:'list',property:'province_code',sorted:!0,sortDirection:'ASC',menu:{items:{list:{multiSelect:!0,valueField:'value',displayField:'label',placeholder:'Choisir P/P',store:{type:'provinces'}}}}}},{text:'Cercle',dataIndex:'cercle_code',align:'center',locked:!0,groupable:!0,renderer:function(b,a){return a.get('cercle')},exportRenderer:!0,filter:{type:'list',property:'cercle_code',sorted:!0,sortDirection:'ASC',menu:{items:{list:{multiSelect:!0,valueField:'value',displayField:'label',placeholder:'Choisir Cercle',store:{type:'cercles'}}}}}},{text:'Commune',dataIndex:'commune',align:'center',locked:!0,minWidth:150,filter:{type:'list',sorted:!0,sortDirection:'ASC',menu:{items:{list:{multiSelect:!0}}}}},{text:'Code HCP',dataIndex:'code_hcp',hidden:!0},{text:'Code Targa Aide',dataIndex:'code_douar'},{text:'Dnomination',dataIndex:'nom_fr',align:'center',width:200,renderer:function(c,b){var a=c;if(b.get('est_sousdouar')){a=b.get('douar_mere')+' ==> '+a}return a},exportRenderer:!0},{text:'type',dataIndex:'type',hidden:!0},{text:'Est sous-douar ?',dataIndex:'est_sousdouar',xtype:'booleancolumn',trueText:'Oui',falseText:'',align:'center'},{text:'Population',hidden:!0,dataIndex:'population',xtype:'numbercolumn',format:'0',exportStyle:{format:'General Number',alignment:{horizontal:'Right'}}},{text:'Nbre Mnages',dataIndex:'nbre_menages',xtype:'numbercolumn',align:'center',format:'0',exportStyle:{format:'General Number',alignment:{horizontal:'Right'}},bind:{hidden:'{user.role != 0}'}},{text:'Coordonnes GPS',dataIndex:'location',exportRenderer:!0,bind:{hidden:'{user.role != 0}'},renderer:function(a,f,d,g,e){if(!a){return null}var b=Ext.Number.roundToPrecision(a.lat,6),c=Ext.Number.roundToPrecision(a.lng,6);return b+' , '+c}},{text:'Dispose de Prscolaire ?',dataIndex:'has_prescolaire',xtype:'checkcolumn'},{text:"Type d'cole primaire",dataIndex:'type_ecole',width:100,align:'center',editable:!0,filter:'string',editor:{xtype:'selectfield',required:!0,options:['-','Ecole centrale','Ecole satellite','Ecole indpendante','Ecole ferme']}},{text:'UP INDH',dataIndex:'unites',align:'center',width:100,cell:{encodeHtml:!1},tpl:['<tpl for="unites">','<a class="item-title" href="#unite/{id}">{intitule}</a>','</tpl>']}]}]},0,['douarbrowse'],['widget','component','container','panel','browse','douarbrowse'],{'widget':!0,'component':!0,'container':!0,'panel':!0,'browse':!0,'douarbrowse':!0},['widget.douarbrowse'],0,[App.view.douar,'Browse'],0);Ext.cmd.derive('App.view.douar.BrowseController',App.view.widgets.BrowseController,{control:{'#':{reset:'refresh'}},init:function(){App.view.widgets.BrowseController.prototype.init.apply(this,arguments);var e=this.getViewModel();var d=App.util.State.get('session');var a=d.user;var b=this.getViewModel().getStore('communes');var c=this.getViewModel().getStore('cercles');if(a){e.set('province',a.region||a.province);if(a.province){b.filter('province_code',a.province_code);c.filter('province_code',a.province_code)}}},refresh:function(){var a=this.getViewModel()},onCreate:function(){this.redirectTo('douar/create')},showMap:function(){this.redirectTo('douarsmap')},onCompleteEdit:function(a,f,c,d,e){var b=a.ownerCmp.row;b.refresh()},onSave:function(){var h=this,a=this.getView(),b=this.getViewModel().getStore('douars'),c=b.getModifiedRecords(),e=[];var i=0,d=c.length,g,f;if(!d){App.ux.Signals.showWarning("Vous n'avez rien modifi !",!1);return}a.mask({xtype:'loadmask',message:'Enregistrement ...'});b.sync({success:function(c,b){a.unmask();App.ux.Signals.showSuccess('Modification russie')},failure:function(c,d){a.unmask();var b=c.getExceptions().map(function(a){a.getError()}).join('. ');App.ux.Signals.showWarning('Opration chec :'+b,!0)}})},exportToXlsx:function(){var b=this,c=this.getView(),a=this.getViewModel().getStore('douars');if(a.getPageSize()===0){b._exportGrid('douarsList')}else {a.setPageSize(0);a.load({scope:b,callback:function(){b._exportGrid('douarsList')}})}}},0,0,0,0,['controller.douarbrowse'],0,[App.view.douar,'BrowseController'],0);Ext.cmd.derive('App.view.douar.BrowseModel',Ext.app.ViewModel,{data:{user:null,province:null},stores:{douars:{type:'douars',remoteGroup:!1,remoteSort:!1,sorters:[{property:'commune_code',direction:'ASC'},{property:'cercle_code',direction:'ASC'},{property:'province_code',direction:'ASC'}],pageSize:5000,clearOnPageLoad:!1,listeners:{refresh:'onStoreRefresh',buffer:100},grouper:{groupFn:function(a){return a.get('province')}}},regions:{type:'regions',autoLoad:!0},provinces:{type:'provinces',autoLoad:!0},cercles:{type:'cercles',autoLoad:!0},communes:{type:'communes',autoLoad:!0}}},0,0,0,0,['viewmodel.douarbrowse'],0,[App.view.douar,'BrowseModel'],0);Ext.cmd.derive('App.view.douar.BrowseToolbar',App.view.widgets.BrowseToolbar,{shadow:!0,items:{speech:null,province:{xtype:'combobox',weight:4,valueField:'value',displayField:'label',placeholder:'P/P',queryMode:'local',bind:{selection:'{filters.province}',store:'{provinces}'}},cercles:{xtype:'combobox',valueField:'value',displayField:'label',placeholder:'Cercle',queryMode:'local',weight:10,bind:{selection:'{filters.cercle}',store:'{cercles}'}},prescolaire:{xtype:'selectfield',placeholder:'Prscolaire',weight:13,options:[{text:'Avec ou sans prscolaire',value:null},{text:'Dispose du Prscolaire',value:!0},{text:'Sans Prscolaire',value:!1}],bind:{selection:'{filters.has_prescolaire}'}},save:{xtype:'button',iconCls:'x-fa fa-save',text:'Sauvegarder',handler:'onSave',weight:30},'export':{xtype:'button',iconCls:'x-fa fa-download',text:'Exporter sous excel',handler:'exportToXlsx',weight:40},create:{xtype:'button',iconCls:'x-fa fa-plus',handler:'onCreate',text:'Ajouter Nouv. Douar',weight:50},map:{iconCls:'x-fa fa-globe',handler:'showMap',tooltip:'Carte des douars',weight:60}}},0,['douarbrowsetoolbar'],['widget','component','container','toolbar','douarbrowsetoolbar'],{'widget':!0,'component':!0,'container':!0,'toolbar':!0,'douarbrowsetoolbar':!0},['widget.douarbrowsetoolbar'],0,[App.view.douar,'BrowseToolbar'],0);Ext.cmd.derive('App.view.douar.Show',App.view.widgets.Show,{controller:'douarshow',viewModel:{type:'douarshow'},title:'Fiche Douar',items:{header:{items:{title:{tpl:['<div class="icon x-fa fa-globe"></div>','<div class="name">{nom_ar}</div>','<div class="desc">Douar {nom_fr}, <b>Commune {commune}</b><div>']}}},map:{xtype:'mapview',reference:'douarsMap',userCls:'office-map',weight:-5,bind:{markers:'{markers}',hidden:'{!location}'},listeners:{markerclick:'onMarkerClick'}},content:{items:{left:{items:{details:{xtype:'douarshowdetails'}}}}}}},0,['douarshow'],['widget','component','container','panel','douarshow'],{'widget':!0,'component':!0,'container':!0,'panel':!0,'douarshow':!0},['widget.douarshow'],0,[App.view.douar,'Show'],0);Ext.cmd.derive('App.view.douar.ShowController',App.view.widgets.ShowController,{onRecordChange:function(d,a){if(!a){return}var b=this.getViewModel(),c=b.getStore('history');if(a){}else {}App.view.widgets.ShowController.prototype.onRecordChange.apply(this,arguments)},onHistoryAllTap:function(){this.redirectTo('history/visit/'+this.getRecord().getId())},saveAsDocx:function(){var e=this.getViewModel(),a=this.getRecord(),b=a.getProduct(),d=e.getStore('recommandations'),c=[];d.each(function(a){c.push(a.data)});function loadFile(b,a){JSZipUtils.getBinaryContent(b,a)}loadFile('templates/fiches/visite.docx',function(f,h){if(f){throw f}var j=new JSZip(h);var e=(new Docxtemplater()).loadZip(j);var d=a.get('observations');d=d.split('<br/>');e.setData({productName:b.get('name'),date:Ext.util.Format.date(a.get('startDate'),'d F Y'),responsable:a.getAssignee().get('fullname'),observations:d,recommandations:c});try{e.render()}catch(l){var k={message:l.message,name:l.name,stack:l.stack,properties:l.properties};console.log(JSON.stringify({error:k}));throw l}var i=e.getZip().generate({type:'blob',mimeType:'application/vnd.openxmlformats-officedocument.wordprocessingml.document'});var g='Fiche Visite '+b.get('name')+'.docx';saveAs(i,g)})}},0,0,0,0,['controller.douarshow'],0,[App.view.douar,'ShowController'],0);Ext.cmd.derive('App.view.douar.ShowDetails',Ext.Panel,{title:'Dtails',bind:{record:'{record}'},tpl:['<div class="block-section">','<div class="item">','<div class="label">Dnomination</div>','<div class="value">{nom_fr}</div>','<div class="value">{nom_ar}</div>','</div>','<div class="item">','<div class="label">Commune</div>','<div class="value">{commune}</div>','</div>','<div class="item">','<div class="label">Type</div>','<div class="value">{type}</div>','</div>','</div>','<div class="block-section">','<div class="item">','<div class="label">Mnages</div>','<div class="value">','{nbre_menages}','</div>','</div>','</div>','<div class="block-section full-width">','<h3>Etablissements scolaires</h3>','<div class="item">','<div class="value">{has_prescolaire:pick("  &nbsp; &nbsp;", \'<span class="x-fa fa-check"></span>\')} Prscolaire</div>','</div>','<div class="item">','<div class="value">{has_ecole:pick("  &nbsp; &nbsp;", \'<span class="x-fa fa-check"></span>\')} {type_ecole}</i></div>','</div>','</div>']},0,['douarshowdetails'],['widget','component','container','panel','douarshowdetails'],{'widget':!0,'component':!0,'container':!0,'panel':!0,'douarshowdetails':!0},['widget.douarshowdetails'],0,[App.view.douar,'ShowDetails'],0);Ext.cmd.derive('App.view.douar.ShowModel',Ext.app.ViewModel,{stores:{}},0,0,0,0,['viewmodel.douarshow'],0,[App.view.douar,'ShowModel'],0);Ext.cmd.derive('App.view.douar.Wizard',App.view.widgets.Wizard,{controller:{type:'douarwizard'},viewModel:{type:'douarwizard'},bind:{title:'{record.phantom? "Ajouter" : "Modifier"} Douar  << {record.nom_fr} >>'},width:900,screens:[{title:'Gnral',iconCls:'x-fa fa-info',items:[{xtype:'textfield',label:'nom_fr',bind:'{record.nom_fr}'},{xtype:'textfield',label:'nom_ar',bind:'{record.nom_ar}'},{xtype:'combobox',reference:'commune',label:'Commune',displayField:'label',valueField:'id',queryMode:'local',required:!0,bind:{value:'{record.commune}',store:'{communes}'}},{xtype:'selectfield',label:'Type',options:['Douar','Groupement de douar'],bind:'{record.type}'},{xtype:'checkbox',padding:'0 0 0 198',boxLabel:'sousdouar ?',bind:'{record.est_sousdouar}'},{xtype:'combobox',label:'Douar Pre',displayField:'label',valueField:'value',queryMode:'remote',typeAhead:!0,bind:{value:'{record.douar_pere_id}',store:'{douars}',disabled:'{!record.est_sousdouar}'}},{xtype:'container',autoSize:!0,items:[{xtype:'numberfield',reference:'lat',label:'Latitude',decimals:10,bind:'{record.location.lat}'},{xtype:'numberfield',reference:'lng',label:'Longitude',decimals:10,bind:'{record.location.lng}'}]}]},{title:'Dmographie & Economie',iconCls:'x-fa fa-info',items:[{xtype:'numberfield',label:'Population',decimals:0,bind:'{record.population}'},{xtype:'numberfield',label:'Nombre de Mnages',decimals:0,bind:'{record.nbre_menages}'}]},{title:'Education',iconCls:'x-fa fa-info',items:[{xtype:'checkbox',padding:'0 0 0 198',boxLabel:'ecole ?',bind:'{record.has_ecole}'},{xtype:'checkbox',padding:'0 0 0 198',boxLabel:'prescolaire ?',bind:'{record.has_prescolaire}'}]}]},0,['douarcreate','douaredit','douarwizard'],['widget','component','container','panel','fieldpanel','formpanel','douarwizard','douarcreate','douaredit'],{'widget':!0,'component':!0,'container':!0,'panel':!0,'fieldpanel':!0,'formpanel':!0,'douarwizard':!0,'douarcreate':!0,'douaredit':!0},['widget.douarcreate','widget.douaredit','widget.douarwizard'],0,[App.view.douar,'Wizard'],0);Ext.cmd.derive('App.view.douar.WizardController',App.view.widgets.WizardController,{},0,0,0,0,['controller.douarwizard'],0,[App.view.douar,'WizardController'],0);Ext.cmd.derive('App.view.douar.WizardModel',Ext.app.ViewModel,{stores:{communes:{type:'communes',autoLoad:!0},douars:{type:'filters',service:'douars',field:'douar.id',label:'douar.nom_fr',pageSize:0,remoteSort:!0,sorters:{property:'nom_fr',direction:'ASC'}}}},0,0,0,0,['viewmodel.douarwizard'],0,[App.view.douar,'WizardModel'],0);function intToRGB(b){var a=(b&16777215).toString(16).toUpperCase();return '00000'.substring(0,6-a.length)+a}function ColorIntensity(a,e,f){var d=f-e;if(d==0){a=100}else {a=(a-e)/d*100}var c,b,g=0;if(a<50){c=255;b=Math.round(5.1*a)}else {b=255;c=Math.round(510-5.1*a)}var h=c*65536+b*256+g*1;return '#'+('000000'+h.toString(16)).slice(-6)}Ext.cmd.derive('App.view.douar.map.Controller',Ext.app.ViewController,{control:{'#':{reset:'refresh',routechange:'onRouteChange'}},initConfig:function(){this.circles=[];this.lines=[];this.isCirclesDrawn=!1;this.isMarkersVisible=!0;this.isHeatMapDrawn=!1;this.defaultsMapOptions={disableDoubleClickZoom:!1,disableDefaultUI:!1,scrollwheel:!1,zoom:12,styles:[{featureType:'all',elementType:'all',stylers:[{visibility:'on'}]},{featureType:'transit',elementType:'all',stylers:[{visibility:'on'}]},{featureType:'poi',elementType:'all',stylers:[{visibility:'on'}]},{featureType:'road',elementType:'labels',stylers:[{visibility:'on'}]}]};this.simplifiedMapOptions=this.defaultsMapOptions={disableDoubleClickZoom:!1,disableDefaultUI:!1,scrollwheel:!1,zoom:12,styles:[{featureType:'transit',elementType:'all',stylers:[{visibility:'off'}]},{featureType:'poi',elementType:'all',stylers:[{visibility:'off'}]},{featureType:'road',elementType:'labels',stylers:[{visibility:'off'}]}]};this.centresCommunes={}},initViewModel:function(a){a.bind({bindTo:'{filters}',deep:!0},Ext.Function.createBuffered(function(){if(!this.destroyed){this.updateFilters()}},500,this,{}));this.onRouteChange()},onRouteChange:function(i,g){var d=this,h=d.getViewModel(),f=/([^\/]+)\/([^\/]+)/g,e=d.getView().getFields()||{},a={},b,c;Ext.Object.each(e,function(c,b){a[c]=typeof b.defaultValue!=='undefined'?b.defaultValue:null});while(match=f.exec(g)){b=match[1];c=decodeURI(match[2]);if(Ext.isDefined(a[b])){a[b]=b!=='search'?Ext.create(App.model.Filter,{value:c}):c}}h.set('filters',a)},refresh:function(){var a=this.getViewModel(),c=a.getStore('markers'),b=this.lookup('douarsMap')},updateFilters:function(i){var j=this.getView(),g=this.getViewModel(),b=g.getStore('douars'),e=b&&b.getFilters(),c=g.get('filters'),h=j.getFields(),f=!!i,d,a;if(!e){return}if(c){if(typeof c['search']==='string'&&c['search'].length<3){return}}Ext.Object.each(h,function(g,l){a=c[g];if(a&&a.isModel){a=a.get('value')}g=l.property||g;d=e.get(g);if((d&&d.getValue())==a){return}f=!0;if(a==null){b.removeFilter(g,!0)}else {if(typeof a==='string'){if(a.indexOf('..')>-1){var k=a.split('..'),h=new Date(+k[0]),j=new Date(+k[1]);if(j-h===0){h=Ext.Date.clearTime(h);j=Ext.Date.add(h,Ext.Date.MINUTE,23*60+59)}b.filter({property:g,operator:'between',value:[h,j]});return}}b.filter(g,a,!0)}});if(f){b.removeAll();b.load()}},onClearFiltersTap:function(){this.getViewModel().set('filters',{})},onStoreRefresh:function(){var e=this,c=this.getViewModel(),d=c.getStore('douars'),b=c.getStore('markers'),f=this.lookup('douarsMap');b.removeAll();var a=[];d.each(function(b){var c=b.get('location');if(c&&c.lat!==null){a.push(b);if(b.get('est_centrecommune')==!0){e.centresCommunes[b.get('commune')]=c}}});globalThis.locations=a;b.loadRecords(a);if(this.isMarkersVisible==!0&&this.isHeatMapDrawn==!1){this.drawCircles()}},onMarkerClick:function(g,c){var e=this.lookup('douarsMap'),f=c.marker;data=c.record.data,lng=data.location.lng,lat=data.location.lat;var h=new Ext.Template('<div style="float:left; margin-right: 8px"><h3>{nom_fr}</h3><h3>{nom_ar}</h3><div>Distance / Centre communal: {distance_centre} par voiture</div></div>');var d=new google.maps.InfoWindow({content:h.apply(data)});d.open(g,f);var a=this.centresCommunes[data.commune];var b;if(a!=null&&a.lat!=null){b=a.lat+','+a.lng}else {b='33.9013474,-5.551834'}e.calculateAndDisplayRoute(lat+','+lng,b)},drawCircles:function(a){console.log('draw circles');this.clearCircles();var b=this,c=b.getViewModel(),e=c.getStore('douars'),g=c.getStore('markers'),d=b.lookup('douarsMap'),f=c.get('filters');if(typeof a=='undefined'){a=!1}e.each(function(c){var e=c.get('location');if(['douar','sousdouar','centrecommune'].indexOf(c.get('icon'))==-1){return !0}if(e&&e.lat!==null){var f=new google.maps.Circle({strokeColor:c.get('color'),strokeOpacity:0.65,strokeWeight:c.get('est_centrecommune')==!0?3:c.get('est_sousdouar')==!1?2:1,fillColor:c.get('color'),fillOpacity:0.1,editable:a,draggable:a,geodesic:a,map:d.getMap(),center:{lat:e.lat,lng:e.lng},radius:c.get('est_centrecommune')==!0?750:c.get('est_sousdouar')===!1?500:250});b.circles.push(f)}});this.isCirclesDrawn=!0},clearCircles:function(){console.log('clear circles');if(this.circles.length>0){this.circles.forEach(function(a){a.setMap(null)})}this.circles=[];this.isCirclesDrawn=!1;this.isHeatMapDrawn=!1},onEditableChange:function(d,a,b,c){if(this.isCirclesDrawn){this.drawCircles(a)}},onVisibilityChange:function(e,b,c,d){var a=this.lookup('douarsMap');a.setMapOptions(b==!0?this.simplifiedMapOptions:this.defaultsMapOptions)},onShowServicesChange:function(o,i,m,n){var b=this,e=this.lookup('douarsMap'),f=e.getMap(),l=this.getViewModel(),a=l.getStore('markers');if(i==!0){var g=function(a){var b=new google.maps.Marker({map:f,position:a.geometry.location,icon:{url:a.icon,scaledSize:new iSize(24,24),origin:new iPoint(0,0),labelOrigin:new iPoint(0,-5),anchor:new iPoint(12,12)},title:a.name,label:{fontFamily:'"Open Sans", "Helvetica Neue", helvetica, arial, sans-serif',fontSize:'11px',fontWeight:'bold',text:a.name}});google.maps.event.addListener(b,'click',function(){d.setContent(a.name);d.open(map,this)})};var j={type:'school',bounds:f.getBounds(),fields:['name','geometry']};var d=new google.maps.InfoWindow();e.placesService.textSearch(j,function(a,c){if(c===google.maps.places.PlacesServiceStatus.OK){console.log(a.length);for(var b=0;b<a.length;b++){console.log(a[b].name,a[b]);g(a[b])}}});var h=[];a.add(h)}else {a.each(function(b){if(['douar','sousdouar','centrecommune'].indexOf(b.get('icon'))==-1){a.remove(b)}});var c=0;var k=b.lines.length;for(;c<k;c++){b.lines[c].setMap(null)}b.lines=[]}},onShowProjectsChange:function(i,d,g,h){var f=this.lookup('douarsMap');var c=this.getViewModel(),e=c.getStore('products'),a=c.getStore('markers');if(d==!0){var b=[];e.each(function(a){var c=a.get('location');if(c&&c.lat!==null){a.data.nom_fr=a.get('type');b.push(a)}});a.add(b)}else {a.each(function(b){if(['douar','sousdouar','centrecommune'].indexOf(b.get('icon'))==-1){a.remove(b)}})}},CalculateDistances:function(k,e,l,j){var i=this,b=this.lookup('douarsMap'),f=this.getViewModel(),h=f.getStore('douars'),g=f.getStore('markers');var a;console.info(e.getText());switch(e.getText()){case 'Centre communal':a='distance_centre';break;default:a='distance_centre';break;}b.mask({xtype:'loadmask',message:'Calcul des Distances...'});var d=function(a){b.unmask();App.ux.Signals.showWarning('Opration chec',!0)};function process(d){var c=new Ext.Deferred();function Quit(a){if(a!=null){c.reject(a)}else {c.resolve(null)}return c.promise}if(!d){return Quit(new Error('No Douar'))}var f=d.get('location');if(f==null||f.lat==null){return Quit()}var g=null;switch(a){case 'distance_centre':if(d.get(a)!=null){return Quit()};var m=d.get('commune');var h=i.centresCommunes[m];if(h==null||h.lat==null){g={lat:33.9013474,lng:-5.551834}}else {g=h};break;default:return Quit();}b.calculateDistance([{lat:f.lat,lng:f.lng}],[{lat:g.lat,lng:g.lng}],function(b){d.set(a,b);d.save({success:function(a,f){c.resolve(a)},failure:function(f,a){c.reject(a.exception)}})});return c.promise}var c=h.data.items;process(c.shift()).then(function next(){if(c.length){return process(c.shift()).then(next,d)}else {b.unmask();App.ux.Signals.showSuccess('Opration russie')}}).otherwise(d);g.each(function(c){var b=c.get(a);if(b!=null){b=b.split(' en ')[0]}c.set('nom_fr',c.get('nom_fr')+' ('+b+')')})},showHeatMap:function(h,d,i,g){this.clearCircles();var e=this,b=this.lookup('douarsMap'),f=this.getViewModel(),c=f.getStore('markers');var a;switch(d.getText()){case 'Centre communal':a='distance_centre';break;default:a='distance_centre';break;}c.each(function(j){var f=j.get('location');var c=j.get(a);var k=1;if(f&&f.lat!==null){if(c!=null){c=c.split(' en ')[0].trim();if(c.endsWith('km')){k=parseFloat(c.split(' km')[0])}else if(c.endsWith('m')){k=0}}var m=ColorIntensity(k,15,0);var l=new google.maps.Circle({strokeColor:null,strokeOpacity:0,strokeWeight:0,fillColor:m,fillOpacity:0.5,map:b.getMap(),center:{lat:f.lat,lng:f.lng},radius:j.get('est_centrecommune')==!0?750:j.get('est_sousdouar')===!1?500:250});e.circles.push(l)}});this.isHeatMapDrawn=!0},showHeatMap2:function(i,f,k,h){var j=this,c=this.lookup('douarsMap'),g=this.getViewModel(),e=g.getStore('markers');var a;switch(f.getText()){case 'Centre communal':a='distance_centre';break;default:a='distance_centre';break;}var b=[];e.each(function(e){var d=e.get('location');var c=e.get(a);var g=1;if(d&&d.lat!==null){if(c!=null){c=c.split(' en ')[0].trim();if(c.endsWith('km')){g=parseFloat(c.split(' km')[0])}else if(c.endsWith('m')){g=0}}var l=e.get('est_centrecommune')?6:e.get('est_sousdouar')?2:4;var j=1;var m=d.lat;var n=d.lng;for(;j<=l;j++){b.push({location:new google.maps.LatLng(m,n),weight:g})}}});this.clearCircles();var d=new google.maps.visualization.HeatmapLayer({data:b,dissipating:!0,opacity:0.35,radius:20});d.setMap(c.getMap())},setMarkersVisibility:function(a){if(this.isMarkersVisible==a){return}var c=this,b=c.lookup('douarsMap'),d=b.getId();markers=b.getMarkers();markers.each(function(c){var b=Ext.getExpando(c,d).marker;b.setVisible(a)});this.isMarkersVisible=a},onZoomChange:function(g,h,c){var a=this,b=a.getViewModel(),f=b.getStore('douars'),e=b.getStore('markers'),d=a.lookup('douarsMap');if(c<12){this.setMarkersVisibility(!1);if(this.isHeatMapDrawn==!1){this.clearCircles()}}else {this.setMarkersVisibility(!0);if(this.isCirclesDrawn==!1&&this.isHeatMapDrawn==!1){this.drawCircles()}}}},0,0,0,0,['controller.douarsmap'],0,[App.view.douar.map,'Controller'],0);Ext.cmd.derive('App.view.douar.map.DouarsMap',App.view.widgets.Browse,{tbar:{xtype:'douarbrowsetoolbar'},config:{route:null},eventedConfig:{route:null},title:'Carte des Douars',fields:{search:{property:'#search',defaultValue:null},commune:{property:'commune_code'},province:{property:'province_code'},region:{property:'region_code'},nom_fr:{property:'nom_fr'},has_prescolaire:{property:'has_prescolaire'},has_ecole:{property:'has_ecole'}},controller:'douarsmap',viewModel:{type:'douarsmap'},tbar:{xtype:'douarsmaptoolbar'},cls:'productbrowse',scrollable:'y',bind:{store:'{douars}'},padding:10,layout:'fit',items:[{xtype:'douarsmapview',reference:'douarsMap',userCls:'douars-map',bind:{markers:'{markers}'},listeners:{markerclick:'onMarkerClick',zoomchange:'onZoomChange'}}],reset:function(){this.fireEvent('reset');return this}},0,['douarsmap'],['widget','component','container','panel','browse','douarsmap'],{'widget':!0,'component':!0,'container':!0,'panel':!0,'browse':!0,'douarsmap':!0},['widget.douarsmap'],0,[App.view.douar.map,'DouarsMap'],0);Ext.define('App.view.widgets.MapView',{extend:'Ext.ux.google.Map',xtype:'mapview',cls:'mapview',markerTemplate:{title:'{name}',animation:'DROP',position:{lat:'{location.latitude}',lng:'{location.longitude}'}},mapOptions:{disableDoubleClickZoom:!0,disableDefaultUI:!0,scrollwheel:!1,zoom:8,styles:[{featureType:'all',elementType:'all',stylers:[{visibility:'simplified'}]},{featureType:'administrative',elementType:'all',stylers:[{visibility:'on'},{lightness:33}]},{featureType:'landscape',elementType:'all',stylers:[{color:'#eaeaea'}]},{featureType:'poi.park',elementType:'geometry',stylers:[{color:'#c5dac6'}]},{featureType:'poi.park',elementType:'labels',stylers:[{visibility:'off'}]},{featureType:'road',elementType:'geometry',stylers:[{hue:'#bbc0c4'},{saturation:-93},{lightness:20}]},{featureType:'water',elementType:'all',stylers:[{visibility:'on'},{color:'#acbcc9'}]}]},updateMarkers:function(a,c){var d=this,b={refresh:'onStoreRefresh',scope:d};Ext.ux.google.Map.prototype.updateMarkers.apply(this,arguments);if(c){c.un(b)}if(a){a.on(b);d.onStoreRefresh(a)}},onStoreRefresh:function(b){var a=b.getRange();if(a.length===1){this.setMapCenter(a[0])}else {this.fitMarkersInView(a)}}});function iPoint(a,b){this.x=a;this.y=b}function iSize(a,b,c,d){this.width=a;this.height=b;this.f=c||'px';this.b=d||'px'}Ext.define('App.view.douar.map.MapView',{extend:'App.view.widgets.MapView',xtype:'douarsmapview',cls:'mapview no-print',markerTemplate:{title:'{nom_fr}',label:{color:'{est_sousdouar:pick("#262224", "#4A4A4A")}',fontFamily:'"Open Sans", "Helvetica Neue", helvetica, arial, sans-serif',fontSize:'{est_sousdouar:pick("12px", "11px")}',fontWeight:'{est_sousdouar:pick("bolder", "bold")}',text:'{nom_fr}'},icon:{url:'/resources/icons/{icon}.png',scaledSize:new iSize(20,20),origin:new iPoint(0,0),labelOrigin:new iPoint(0,-5),anchor:new iPoint(10,17)},animation:'DROP',position:{lat:'{location.lat}',lng:'{location.lng}'}},useCurrentLocation:!1,mapOptions:{center:{lat:33.9013474,lng:-5.551834},disableDoubleClickZoom:!1,disableDefaultUI:!1,scrollwheel:!1,zoom:12,styles:[{featureType:'all',elementType:'all',stylers:[{visibility:'on'}]},{featureType:'administrative',elementType:'all',stylers:[{visibility:'on'},{lightness:33}]},{featureType:'landscape',elementType:'all',stylers:[{color:'#eaeaea'}]},{featureType:'poi.park',elementType:'geometry',stylers:[{color:'#c5dac6'}]},{featureType:'poi.park',elementType:'labels',stylers:[{visibility:'off'}]},{featureType:'road',elementType:'geometry',stylers:[{hue:'#bbc0c4'},{saturation:-93},{lightness:20}]},{featureType:'water',elementType:'all',stylers:[{visibility:'on'},{color:'#acbcc9'}]},{featureType:'poi.business',stylers:[{visibility:'off'}]},{featureType:'transit',elementType:'labels.icon',stylers:[{visibility:'off'}]}]},updateMarkers:function(a,c){var d=this,b={refresh:'onStoreRefresh',scope:d};App.view.widgets.MapView.prototype.updateMarkers.apply(this,arguments);if(c){c.un(b)}if(a){a.on(b);d.onStoreRefresh(a)}},onStoreRefresh:function(b){var a=b.getRange();if(a.length<10){this.setMapCenter(a[0])}else {this.fitMarkersInView(a)}},onTilesLoaded:function(){Ext.toast({message:'<p>&nbsp;Veuillez attendre quelques instants pour la fin du chargement de la carte !&nbsp;</p>',timeout:5000,centered:!0,showAnimation:{type:'popIn',duration:250,easing:'ease-out'}});var b=this,a=this.getMap();this.directionsService=new google.maps.DirectionsService();this.directionsDisplay=new google.maps.DirectionsRenderer({map:a,preserveViewport:!0});this.distanceMatrixService=new google.maps.DistanceMatrixService();if(google.maps.places&&google.maps.places.PlacesService){this.placesService=new google.maps.places.PlacesService(a)}},calculateAndDisplayRoute:function(b,a){var c=this;this.directionsService.route({origin:b,destination:a,travelMode:'DRIVING',provideRouteAlternatives:!0},function(d,e){if(e==='OK'){window.resp=d;c.directionsDisplay.setDirections(d);var g=d.routes;var h=g[0].legs;var f=h[0].distance.text;console.info(f)}else {window.alert("Echc d'obtenir une rponse du serveur Google "+e)}})},calculateDistance:function(c,a,b){var d=this;this.distanceMatrixService.getDistanceMatrix({origins:c,destinations:a,travelMode:'DRIVING',unitSystem:google.maps.UnitSystem.METRIC,avoidHighways:!1,avoidTolls:!1},function(e,h){if(h!=='OK'){alert('Erreur: '+h)}else {var i=e.originAddresses;var j=e.destinationAddresses;for(var g=0;g<i.length;g++){var f=e.rows[g].elements;for(var d=0;d<f.length;d++){b(f[d].distance.text+' en '+f[d].duration.text)}}}})},addMarker:function(){var c=this.getMap();var a=this.measureTool._firstClick.latLng,b=a.toString(),d=new google.maps.Marker({'position':a,'map':c,'zIndex':0,'draggable':!0,'label':{text:b},'title':'Point insr au: '+b})}});Ext.cmd.derive('App.view.douar.map.Model',Ext.app.ViewModel,{data:{filters:null,count:null},stores:{markers:{},douars:{type:'douars',autoLoad:!0,pageSize:100,listeners:{refresh:'onStoreRefresh',buffer:100}},provinces:{type:'provinces',autoLoad:!0},regions:{type:'regions',autoLoad:!0},communes:{type:'communes',autoLoad:!0},cercles:{type:'cercles',autoLoad:!0}}},0,0,0,0,['viewmodel.douarsmap'],0,[App.view.douar.map,'Model'],0);Ext.cmd.derive('App.view.douar.map.Toolbar',App.view.widgets.BrowseToolbar,{items:{toggleGrouping:null,refresh:null,speech:null,search:null,general:{xtype:'container',weight:10,margin:'0 8 0 0',autoSize:!0,width:138,items:[{xtype:'searchfield',reference:'search',clearable:!0,placeholder:'Rechercher',userCls:'expandable',bind:'{filters.search}'},{xtype:'combobox',valueField:'value',displayField:'label',placeholder:'P/P',queryMode:'local',bind:{selection:'{filters.province}',store:'{provinces}'}},{xtype:'combobox',valueField:'id',displayField:'label',placeholder:'Commune',queryMode:'local',weight:10,bind:{selection:'{filters.commune}',store:'{communes}'}}]},education:{xtype:'container',weight:11,margin:'0 8 0 0',autoSize:!0,width:130,items:[{xtype:'selectfield',placeholder:'Disp. Ecole Primaire',options:[{text:'Tout',value:null},{text:'Ecole Primaire',value:!0},{text:'Sans Ecole',value:!1}],bind:{selection:'{filters.has_ecole}'}}]},options:{xtype:'container',weight:30,margin:'0 8 0 0',autoSize:!0,width:162,items:[{xtype:'checkbox',boxLabel:'(D)Verrouiller Circles',checked:!1,listeners:{change:'onEditableChange'}},{xtype:'checkbox',boxLabel:'Vue Simple',checked:!1,listeners:{change:'onVisibilityChange'}}]},options2:{xtype:'container',weight:40,margin:'0 8 0 8',autoSize:!0,width:160,items:[{xtype:'button',ui:'action',text:'Distance ..',tooltip:'Calculer Distance par rapport ',margin:'4',minWidth:150,menu:{xtype:'menu',items:[{text:'Centre communal'},{text:'Collge plus proche'},{text:'Lyce plus proche'}],listeners:{click:'CalculateDistances'}}},{xtype:'button',ui:'action',text:'Carte de Chaleur',tooltip:'Afficher une carte de chaleur des Distances',minWidth:150,menu:{xtype:'menu',items:[{text:'Centre de la Commune'},{text:'Collge plus proche'},{text:'Lyce plus proche'}],listeners:{click:'showHeatMap'}}}]}}},0,['douarsmaptoolbar'],['widget','component','container','toolbar','douarsmaptoolbar'],{'widget':!0,'component':!0,'container':!0,'toolbar':!0,'douarsmaptoolbar':!0},['widget.douarsmaptoolbar'],0,[App.view.douar.map,'Toolbar'],0);Ext.cmd.derive('App.view.history.Browse',App.view.widgets.Browse,{tbar:{xtype:'historybrowsetoolbar'},fields:{person:{property:'person_id'},object:{property:'object'},type:{property:'type',defaultValue:1}},controller:'historybrowse',viewModel:{type:'historybrowse'},cls:'historybrowse',bind:{store:'{history}'},items:[{xtype:'grid',reference:'historyList',emptyText:'Aucune activit correspond  votre recherche',bind:'{history}',ui:'listing',grouped:!0,groupHeader:{tpl:'{name} ({count} changements)'},columnLines:!0,rowLines:!0,loadMask:!0,multiColumnSort:!1,syncRowHeight:!1,infinite:!1,selectable:{disabled:!0},listeners:{documentsave:'onDocumentSave',beforedocumentsave:'onBeforeDocumentSave'},plugins:{listpaging:{autoPaging:!0},gridexporter:!0,rowexpander:!0},itemConfig:{body:{tpl:'<div>{subject}</div>'}},columns:[{xtype:'datecolumn',dataIndex:'created',format:'d F Y H:i',text:'Date',width:200,align:'center'},{dataIndex:'type_label',text:'Action',width:200,align:'center'},{dataIndex:'object',text:'Objet',width:300,align:'center',cell:{encodeHtml:!1},tpl:'<a class="item-title" href="#{objectUrl}">{object}</a>'},{text:'Auteur',dataIndex:'person.fullname',width:300,align:'center',cell:{encodeHtml:!1},tpl:['<tpl for="person">','<a class="item-title" href="#{url}">{fullname}</a>','</tpl>']}]}]},0,['historybrowse'],['widget','component','container','panel','browse','historybrowse'],{'widget':!0,'component':!0,'container':!0,'panel':!0,'browse':!0,'historybrowse':!0},['widget.historybrowse'],0,[App.view.history,'Browse'],0);Ext.cmd.derive('App.view.history.BrowseController',App.view.widgets.BrowseController,{control:{'#':{reset:'refresh'}},refresh:function(){var a=this.getViewModel();a.getStore('history').reload()},onDeleteAction:function(c,b){var a=this.getViewModel().getStore('history');a.remove(b.record);a.save()},exportToXlsx:function(){var b=this,c=this.getView(),a=this.getViewModel().getStore('history');if(a.getPageSize()===0){b._exportGrid('historyList')}else {a.setPageSize(0);a.load({scope:b,callback:function(){b._exportGrid('historyList')}})}}},0,0,0,0,['controller.historybrowse'],0,[App.view.history,'BrowseController'],0);Ext.cmd.derive('App.view.history.BrowseToolbar',App.view.widgets.BrowseToolbar,{items:{types:{xtype:'combobox',valueField:'value',displayField:'label',placeholder:'Tout Type',queryMode:'local',options:[{label:'Tout',value:null},{label:'Modification Reporting',value:1},{label:'Modification Etat des UP',value:2}],weight:9,width:220,bind:'{filters.type}'},users:{xtype:'combobox',valueField:'value',displayField:'label',placeholder:'Tous les Utilisateurs',queryMode:'local',weight:10,bind:{selection:'{filters.person}',store:'{recipients}'}},objects:{xtype:'combobox',valueField:'value',displayField:'label',placeholder:'Tous les PA',queryMode:'local',weight:13,bind:{selection:'{filters.object}',store:'{objects}'}},'export':{xtype:'button',iconCls:'x-fa fa-download',text:'Exporter sous excel',handler:'exportToXlsx',weight:40}}},0,['historybrowsetoolbar'],['widget','component','container','toolbar','historybrowsetoolbar'],{'widget':!0,'component':!0,'container':!0,'toolbar':!0,'historybrowsetoolbar':!0},['widget.historybrowsetoolbar'],0,[App.view.history,'BrowseToolbar'],0);Ext.cmd.derive('App.view.history.BrowserModel',Ext.app.ViewModel,{stores:{history:{type:'actions',remoteGroup:!1,remoteSort:!0,autoLoad:!0,pageSize:50,clearOnPageLoad:!1,listeners:{refresh:'onStoreRefresh',buffer:100},sorters:[{property:'created',direction:'DESC'}],grouper:{groupFn:function(a){return Ext.Date.format(a.get('created'),'l j F Y')},sorterFn:Ext.emptyFn}},recipients:{type:'filters',service:'people',field:'id',label:'firstname'},objects:{type:'filters',service:'actions',field:'object',label:'object',pageSize:0,clearOnPageLoad:!1}}},0,0,0,0,['viewmodel.historybrowse'],0,[App.view.history,'BrowserModel'],0);Ext.cmd.derive('App.view.home.Home',Ext.panel.Panel,{config:{route:null,activeState:null,defaultActiveState:'clicks'},controller:'home',viewModel:{type:'home'},eventedConfig:{route:null},platformConfig:{'!phone':{header:{hidden:!0}}},cls:'kpi-main',layout:{type:'vbox',align:'stretch'},scrollable:'y',minWidth:600,items:[{xtype:'component',cls:'kpi-tiles',height:100,tpl:['<div class="kpi-meta">','<span>','<div>{nbre_ups_ouvertes}</div> UP Ouvertes ({nbre_salles_ouvertes} salles)','</span>','<span>','<div>{nbre_}</div> Enfants inscrits','</span>','</div>']},{reference:'mainChart',xtype:'chart',flex:1,interactions:[{type:'panzoom',zoomOnPanGesture:!1,axes:{left:{maxZoom:1}}}],cls:'kpi-main-chart',bind:'{kpiMain}',minHeight:290,animation:!1,insetPadding:'40px 40px 20px 30px',tbar:{cls:'kpi-toolbar',defaults:{toggleHandler:'onToggleKpi'},items:[{xtype:'container',cls:'kpi-chart-title',html:'CAMPAIGN PERFORMANCE'},'->',{ui:'kpi',text:'CLICKS',filter:'clicks',toggleGroup:'kpi',reference:'clicks',allowDepress:!1,dataIndex:0},{ui:'kpi',text:'WON',filter:'redemption',reference:'redemption',toggleGroup:'kpi',allowDepress:!1,dataIndex:1},{ui:'kpi',text:'SALES',filter:'sales',reference:'sales',toggleGroup:'kpi',allowDepress:!1,dataIndex:2},{ui:'kpi',text:'GOALS MET',filter:'goalsmet',reference:'goalsmet',margin:0,toggleGroup:'kpi',allowDepress:!1,dataIndex:1}]},axes:[{type:'numeric',position:'left',fields:['data1'],fontSize:12,grid:!0,minimum:0},{type:'category',position:'bottom',fields:['name']}],series:[{type:'area',subStyle:{stroke:['rgb(34,198,239)','rgb(241,73,91)'],fill:['rgba(34,198,239,0.25)','rgba(241,73,91,0.25)'],'stroke-width':3},xField:'name',yField:['data1','data2']}]},{height:230,cls:'kpi-meta-charts',layout:{type:'hbox',align:'stretch'},items:[{title:'REDEMPTION',margin:'0 10px 0 20px',width:280,bodyCls:'redemption-body',layout:{type:'vbox',align:'stretch'},items:[{xtype:'container',layout:{type:'hbox',align:'stretch'},flex:1,items:[{xtype:'polar',flex:1,animation:!0,padding:'10px 0 10px 10px',donut:!0,interactions:['rotate'],colors:['#2ac8ef','#ececec'],store:{fields:['name','data1'],data:[{name:'metric one',data1:25},{name:'metric two',data1:75}]},sprites:[{type:'text',x:40,y:71,text:'25%',font:'30px 300 Proxima Nova, Helvetica Neue, Helvetica, Arial, sans-serif',fillStyle:'#69708a'}],series:[{type:'pie',xField:'data1',colors:['#2ac8ef','#ececec'],donut:85}]},{xtype:'polar',flex:1,padding:'10px 10px 10px 0',animation:!0,donut:!0,interactions:['rotate'],colors:['#11c897','#ececec'],store:{fields:['name','data1'],data:[{name:'metric one',data1:50},{name:'metric two',data1:50}]},sprites:[{type:'text',x:40,y:71,text:'50%',font:'30px 300 Proxima Nova, Helvetica Neue, Helvetica, Arial, sans-serif',fillStyle:'#69708a'}],series:[{type:'pie',xField:'data1',colors:['#11c897','#ececec'],donut:85}]}]},{xtype:'label',html:'<span>IN STORE</span><span>1,024</span>',cls:'kpi-in-store'},{xtype:'label',html:'<span>ONLINE</span><span>20,678</span>',cls:'kpi-online'}]},{xtype:'panel',bodyCls:'statistics-body',margin:'0 20px 0 0',flex:1,title:'STATISTICS',tpl:['<div class="statistic-header">Current Campaigns</div>','<tpl for=".">','<div class="statistic-tag {status}">{status}</div>','<div class="statistic-description">{description}</div>','<div class="sparkline">','<div class="sparkline-inner sparkline-inner-{status}" style="width: {[values.ratio * 100]}%;"></div>','</div>','</tpl>'],data:[{status:'active',description:'2 for 1, 30% off for $50',ratio:0.5},{status:'paused',description:'$100 for new customers',ratio:0.3},{status:'ended',description:'$25 refferal',ratio:0.1}]}]}],validStates:{clicks:1,redemption:1,sales:1,goalsmet:1},isValidState:function(a){return a in this.validStates}},0,['home'],['widget','component','container','panel','home'],{'widget':!0,'component':!0,'container':!0,'panel':!0,'home':!0},['widget.home'],0,[App.view.home,'Home'],0);Ext.cmd.derive('App.view.home.HomeController',Ext.app.ViewController,{init:function(a){a.updateActiveState=this.updateActiveState.bind(this)},onToggleKpi:function(a){if(a.pressed){var b=this.getView();b.setActiveState(a.filter)}},updateActiveState:function(a){var c=this.getReferences();var b=this.getViewModel();c[a].setPressed(!0);b.set('kpiCategory',a);this.fireEvent('changeroute',this,'kpi/'+a)}},0,0,0,0,['controller.home'],0,[App.view.home,'HomeController'],0);Ext.cmd.derive('App.view.home.HomeHeader',Ext.Container,{cls:'home-header',layout:'vbox',items:[{xtype:'component',cls:'header-message',tpl:['<div class="text">','<div class="greeting">{greeting}</div>','<div class="user-name">{firstname}</div>','</div>'],bind:{data:{firstname:'{user.firstname}',greeting:'{greeting}'}}},{xtype:'container',layout:'hbox',userCls:['page-constrained','header-info'],items:[{xtype:'component',cls:'header-clock',tpl:['<div class="date">{time:date("l, F d")}</div>','<div class="time"><span class="x-fa fa-clock-o"></span> {time:date("G:ia")}</div>'],bind:{data:{time:'{time}'}}}]}]},0,['homeheader'],['widget','component','container','homeheader'],{'widget':!0,'component':!0,'container':!0,'homeheader':!0},['widget.homeheader'],0,[App.view.home,'HomeHeader'],0);Ext.cmd.derive('App.view.home.HomeModel',Ext.app.ViewModel,{data:{greeting:null,range:'upcoming',time:null},stores:{reportings:{type:'reportings',autoLoad:!1,pageSize:0,clearOnPageLoad:!1,grouper:'province_order',sorters:[{property:'plan_actions',direction:'ASC'}],listeners:{refresh:'onStoreRefresh',buffer:100},proxy:{type:'direct',api:{prefix:'Server.reportings',create:'insert',read:'list',update:'update',destroy:'remove'},reader:{type:'json',rootProperty:'data',messageProperty:'message'},extraParams:{scope:"{showUnitesJoin ? 'nested' : (showDelegationsJoin ? 'delegations': 'browse')}"}},updateProxy:function(a){a&&a.onAfter('extraparamschanged',this.load,this)}}}},0,0,0,0,['viewmodel.home'],0,[App.view.home,'HomeModel'],0);Ext.cmd.derive('App.view.importer.ImporterWizard',App.view.widgets.Wizard,{controller:{type:'importerwizard'},title:'Importation',width:600,closable:!0,screens:[{title:'Choisir Fichier',defaults:{labelAlign:'left'},items:[{xtype:'selectfield',label:'Nature du Document',options:[{text:'Etat Priodique FMPS',value:'FMPS'},{text:'Etat Priodique FZ',value:'FZ'}],name:'nature',required:!0,bind:'{record.nature}'},{xtype:'datepickerfield',label:'Date de la situation',name:'date_situation',dateFormat:'d/m/Y',submitFormat:'U000',required:!0,bind:'{record.date_situation}'},{xtype:'filefield',reference:'fileBrowser',label:'Fichier',name:'file',bind:'{record.file}',accept:'*.xlsx',multiple:!1,required:!0}]}]},0,['importerwizard'],['widget','component','container','panel','fieldpanel','formpanel','importerwizard'],{'widget':!0,'component':!0,'container':!0,'panel':!0,'fieldpanel':!0,'formpanel':!0,'importerwizard':!0},['widget.importerwizard'],0,[App.view.importer,'ImporterWizard'],0);Ext.cmd.derive('App.view.importer.ImporterWizardController',App.view.widgets.WizardController,{onSubmitTap:function(){var d=this,c=d.getView(),b,a;b=d.validate();if(b.length>0){a='<h3>Formulaire invalide</h3>Veuillez vrifier les champs suivants :<br/> <ul><li>';a+=b.join('</li><li>');a+='</ul>';App.ux.Signals.showWarning(a,!0);return}c.setMasked({xtype:'loadmask'});c.clearErrors();c.submit({method:'POST',url:'/upload',waitMsg:'Envoi du fichier...',timeout:180000,success:function(b,a){b.setMasked(!1);console.log(a);if(a.success&&a.count>=0){App.ux.Signals.showSuccess('Importation russie !'+a.count+' UPs. '+a.message);d.finalize(a)}else {App.ux.Signals.showWarning("Echec d'Importation: "+a.message,!0)}},failure:function(b,a){console.log(a);b.setMasked(!1);App.ux.Signals.showWarning("Echec d'Importation: "+a.statusText,!0)}})}},0,0,0,0,['controller.importerwizard'],0,[App.view.importer,'ImporterWizardController'],0);Ext.cmd.derive('App.view.lot.Browse',App.view.widgets.Browse,{stateId:'lotBrowse',stateful:!0,fields:{id:{property:'id'},annee_budgetaire:{property:'annee_budgetaire'}},controller:'lotbrowse',viewModel:{type:'lotbrowse'},cls:'lot-browse',bind:{title:'Lots de Dlgations - {count} affichs',store:'{lots}'},tbar:{xtype:'lotbrowsetoolbar'},layout:'fit',items:[{xtype:'grid',reference:'lotsList',emptyText:'Aucun Lot de dlgations correspondant  votre recherche',loadingText:'Chargement...',bind:'{lots}',ui:'listing',syncRowHeight:!1,grouped:!0,groupHeader:{tpl:'{name} ({count} Lots)'},title:' ',titleBar:{shadow:!1,docked:'bottom',items:[{align:'right',xtype:'button',iconCls:'x-fa fa-download',tooltip:'Exporter sous excel',handler:'exportToXlsx'}]},plugins:{gridviewoptions:!0,gridexporter:!0,gridsummaryrow:!0},listeners:{documentsave:'onDocumentSave',beforedocumentsave:'onBeforeDocumentSave',childdoubletap:'onChildActivate'},columnLines:!0,rowLines:!0,loadMask:!0,multiColumnSort:!1,selectable:{disabled:!0},columns:[{text:'Date Dlgation',dataIndex:'date_delegation',align:'center',summaryRenderer:'summaryRenderer',width:150,formatter:'date("d/m/Y")'},{text:'Libell',dataIndex:'libelle',align:'center',flex:3,cell:{encodeHtml:!1},tpl:['<a class="item-title" href="#{url}">{libelle}</a>']},{text:'Montant Global',dataIndex:'montant_effectif',xtype:'numbercolumn',format:'0,000.00',align:'right',summary:'sum',width:150,exportStyle:{format:'General Number',alignment:{horizontal:'Right'}}},{text:'Observations',dataIndex:'observations',flex:1}]}]},0,['lotbrowse'],['widget','component','container','panel','browse','lotbrowse'],{'widget':!0,'component':!0,'container':!0,'panel':!0,'browse':!0,'lotbrowse':!0},['widget.lotbrowse'],0,[App.view.lot,'Browse'],0);Ext.cmd.derive('App.view.lot.BrowseController',App.view.widgets.BrowseController,{control:{'#':{reset:'refresh'}},listen:{controller:{'*':{datachanged:'onRecordDataChanged',recorddatachanged:'onRecordDataChanged'}}},refresh:function(){var a=this.getViewModel()},onCreateLot:function(){var a=Ext.create('App.model.Lot',{date_delegation:new Date()});Ext.create({xtype:'lotcreate',record:a,centered:!0,floated:!0,modal:!0,ui:'dialog',toolbar:{docked:'bottom'}}).show()},exportToXlsx:function(){var b=this,c=this.getView(),a=this.getViewModel().getStore('lots');if(a.getPageSize()===0){b._exportGrid('lotsList')}else {a.setPageSize(0);a.load({scope:b,callback:function(){b._exportGrid('lotsList')}})}},summaryRenderer:function(b,a){return 'Total Global'},noSummaryRenderer:function(b,a){console.log(arguments);return ''}},0,0,0,0,['controller.lotbrowse'],0,[App.view.lot,'BrowseController'],0);Ext.cmd.derive('App.view.lot.BrowseModel',Ext.app.ViewModel,{data:{groupBy:null,sortOrder:null,filteredBy:null},stores:{lots:{type:'lots',autoLoad:!0,remoteFilter:!0,remoteSort:!1,remoteGroup:!1,sorters:[{property:'date_delegation',direction:'ASC'}],pageSize:0,clearOnPageLoad:!1,grouper:{groupFn:function(a){return 'Anne Budgtaire '+a.get('annee_budgetaire')}},listeners:{refresh:'onStoreRefresh',buffer:100}},annees:{type:'annees',autoLoad:!0}}},0,0,0,0,['viewmodel.lotbrowse'],0,[App.view.lot,'BrowseModel'],0);Ext.cmd.derive('App.view.lot.BrowseToolbar',App.view.widgets.BrowseToolbar,{items:{lf:{xtype:'combobox',weight:10,valueField:'value',displayField:'value',placeholder:'Anne Budgtaire',queryMode:'local',bind:{selection:'{filters.annee_budgetaire}',store:'{annees}'}},create:{xtype:'button',iconCls:'x-fa fa-plus',handler:'onCreateLot',text:'Nouveau Lot de Dlgations',weight:50}}},0,['lotbrowsetoolbar'],['widget','component','container','toolbar','lotbrowsetoolbar'],{'widget':!0,'component':!0,'container':!0,'toolbar':!0,'lotbrowsetoolbar':!0},['widget.lotbrowsetoolbar'],0,[App.view.lot,'BrowseToolbar'],0);Ext.cmd.derive('App.view.lot.Show',App.view.widgets.Show,{controller:'lotshow',viewModel:{type:'lotshow'},items:{header:{items:{title:{tpl:['<div class="name"><b>{libelle}</b></div>']}}},content:{items:{right:null,left:{items:{details:{xtype:'lotshowdetails'},delegations:{xtype:'lotshowdelegations'},recap:{xtype:'lotshowrecap'}}}}}}},0,['lotshow'],['widget','component','container','panel','lotshow'],{'widget':!0,'component':!0,'container':!0,'panel':!0,'lotshow':!0},['widget.lotshow'],0,[App.view.lot,'Show'],0);Ext.cmd.derive('App.view.lot.ShowController',App.view.widgets.ShowController,{onRecordChange:function(e,a){if(!a){return}var c=this.getViewModel(),d=c.getStore('history'),b=c.getStore('lotsousdelegations');if(a&&!a.isPhantom()){setTimeout(function(){var c=a.delegations().getData().items.map(function(b){return b.getId()});b.filter({property:'delegation_id',operator:'in',value:c});b.load()},750)}else {d.removeAll();b.removeAll()}App.view.widgets.ShowController.prototype.onRecordChange.apply(this,arguments)},onDelegationsCountTap:function(){this.redirectTo('delegations/lot/'+this.getRecord().getId())},onDelegationChildTap:function(c,b){var a=b.record;if(a){this.redirectTo('delegation/'+a.getId())}},onHistoryAllTap:function(){this.redirectTo('history/lot/'+this.getRecord().getId())},addDelegation:function(){var a=this.getRecord();var b=Ext.create('App.model.Delegation',{lotId:a.getId(),date_delegation:a.get('date_delegation')});Ext.create({xtype:'delegationcreate',record:b,centered:!0,floated:!0,modal:!0,ui:'dialog',toolbar:{docked:'bottom'}}).show()},saveAsDocx:function(){var c=this.getViewModel(),d=this.getRecord(),a=c.getStore('delegations'),b=[];a.each(function(a){b.push(a.data)});function loadFile(b,a){JSZipUtils.getBinaryContent(b,a)}return;loadFile('templates/fiches/visite.docx',function(c,e){if(c){throw c}var g=new JSZip(e);var b=(new Docxtemplater()).loadZip(g);var a=visit.get('observations');a=a.split('<br/>');b.setData({productName:product.get('name'),date:Ext.util.Format.date(visit.get('startDate'),'d F Y'),responsable:visit.getAssignee().get('fullname'),observations:a,recommandations:recomms});try{b.render()}catch(i){var h={message:i.message,name:i.name,stack:i.stack,properties:i.properties};console.log(JSON.stringify({error:h}));throw i}var f=b.getZip().generate({type:'blob',mimeType:'application/vnd.openxmlformats-officedocument.wordprocessingml.document'});var d='Fiche Visite '+product.get('name')+'.docx';saveAs(f,d)})}},0,0,0,0,['controller.lotshow'],0,[App.view.lot,'ShowController'],0);Ext.cmd.derive('App.view.lot.ShowDelegations',Ext.Panel,{title:'Dlgations',bodyPadding:15,shadow:!0,header:{items:[{xtype:'button',iconCls:'x-fa fa-plus',handler:'addDelegation',text:'Ajouter Dlgation',ui:'flat',weigth:10}]},layout:'fit',items:[{xtype:'grid',bind:'{record.delegations}',cls:'office-details allow-select',emptyText:'Aucune Dlgation associe  ce Lot',ui:'listing',minHeight:300,columns:[{text:'ID',dataIndex:'id',align:'center',width:180,filterType:'list',hidden:!0},{text:'PA',dataIndex:'plan_actions',align:'center',width:100,filterType:'list'},{text:'Nature Affectation',dataIndex:'nature_affectation',align:'center',width:150,filterType:'list'},{text:'Tranche',dataIndex:'tranche_libelle',align:'center',width:180,filterType:'list'},{text:'Libell',dataIndex:'libelle',align:'center',flex:2,filterType:'list'},{text:'Montant',dataIndex:'montant_effectif',xtype:'numbercolumn',align:'right',summary:'sum',width:150,exportStyle:{format:'General Number',alignment:{horizontal:'Right'}}},{text:'Objet de Dlgation',dataIndex:'provincescount_effectif',flex:1,cell:{encodeHtml:!1},tpl:['<b>{provincescount_effectif} P/P</b>','<div class="item-caption">Pour {unitescount:plural("UP")} / {sallescount:plural("Salle")}','</div>']},{text:'Effective ?',dataIndex:'est_effective',align:'center',renderer:function(a,d,b,e,c){return a?'Oui':''}},{text:'Observations',dataIndex:'observations'}],listeners:{childtap:'onDelegationChildTap'}}]},0,['lotshowdelegations'],['widget','component','container','panel','lotshowdelegations'],{'widget':!0,'component':!0,'container':!0,'panel':!0,'lotshowdelegations':!0},['widget.lotshowdelegations'],0,[App.view.lot,'ShowDelegations'],0);Ext.cmd.derive('App.view.lot.ShowDetails',Ext.Panel,{title:'Dtails',tpl:['<div class="block-section">','<div class="item">','<div class="label">Date</div>','<div class="value">{date_delegation:date("d F Y")}</div>','</div>','</div>','<div class="block-section">','<div class="item">','<div class="label">Montant Global</div>','<div class="value">{montant_effectif:dhMoney}</div>','</div>','</div>'],bind:{record:'{record}'}},0,['lotshowdetails'],['widget','component','container','panel','lotshowdetails'],{'widget':!0,'component':!0,'container':!0,'panel':!0,'lotshowdetails':!0},['widget.lotshowdetails'],0,[App.view.lot,'ShowDetails'],0);Ext.cmd.derive('App.view.lot.ShowModel',Ext.app.ViewModel,{stores:{history:{type:'actions',pageSize:12,autoLoad:!1},lotsousdelegations:{type:'sousdelegations',pageSize:0,autoLoad:!1,remoteFilter:!0,proxy:{type:'direct',api:{prefix:'Server.sousdelegations',create:'insert',read:'list',update:'update',destroy:'remove'},reader:{type:'json',rootProperty:'data',messageProperty:'message'},extraParams:{scope:'nested'}}}}},0,0,0,0,['viewmodel.lotshow'],0,[App.view.lot,'ShowModel'],0);Ext.cmd.derive('App.view.lot.ShowRecap',Ext.Panel,{title:'Rcapitulatif',bodyPadding:15,shadow:!0,layout:'fit',items:[{xtype:'delegationspivot',minHeight:500,items:{pivotgrid:{bind:'{lotsousdelegations}',matrix:{aggregate:[{dataIndex:'nbre_ups_concernees',header:'Nbre UP',aggregator:'sum',align:'center',renderer:Ext.util.Format.numberRenderer('0'),width:60},{dataIndex:'nbre_salles_concernees',header:'Nbre Salles',aggregator:'sum',align:'center',renderer:Ext.util.Format.numberRenderer('0'),width:60},{dataIndex:'montant_effectif',header:'Montant Dlgu',aggregator:'sum',align:'center',renderer:Ext.util.Format.numberRenderer('0,000.00'),width:95}],topAxis:[{dataIndex:'plan_actions',header:'PA',labelRenderer:'yearLabelRenderer'},{dataIndex:'delegation_libelle',header:'Catgorie'}]}}}}]},0,['lotshowrecap'],['widget','component','container','panel','lotshowrecap'],{'widget':!0,'component':!0,'container':!0,'panel':!0,'lotshowrecap':!0},['widget.lotshowrecap'],0,[App.view.lot,'ShowRecap'],0);Ext.cmd.derive('App.view.lot.Wizard',App.view.widgets.Wizard,{viewModel:{type:'lotwizard'},controller:{type:'lotwizard'},bind:{title:'{record.phantom? "Ajouter" : "Modifier"} Lot de Dlgations de Crdit'},width:700,height:500,closable:!0,screens:[{title:'Qualification',iconCls:'x-fa fa-info',defaults:{labelAlign:'left'},items:[{xtype:'datepickerfield',reference:'startDate',label:'Date de la Dlgation',dateFormat:'d/m/Y',required:!0,bind:'{record.date_delegation}'},{xtype:'textfield',reference:'libelle',label:'Libell',autoCapitalize:!0,required:!0,clearable:!1,bind:'{record.libelle}'},{xtype:'textareafield',reference:'comment',label:'Observations',bind:'{record.observations}'}]}]},0,['lotcreate','lotedit','lotwizard'],['widget','component','container','panel','fieldpanel','formpanel','lotwizard','lotcreate','lotedit'],{'widget':!0,'component':!0,'container':!0,'panel':!0,'fieldpanel':!0,'formpanel':!0,'lotwizard':!0,'lotcreate':!0,'lotedit':!0},['widget.lotcreate','widget.lotedit','widget.lotwizard'],0,[App.view.lot,'Wizard'],0);Ext.cmd.derive('App.view.lot.WizardController',App.view.widgets.WizardController,{},0,0,0,0,['controller.lotwizard'],0,[App.view.lot,'WizardController'],0);Ext.cmd.derive('App.view.lot.WizardModel',Ext.app.ViewModel,{data:{record:null},stores:{}},0,0,0,0,['viewmodel.lotwizard'],0,[App.view.lot,'WizardModel'],0);Ext.cmd.derive('App.view.main.Main',Ext.navigation.View,{controller:'main',navigationBar:!1,userCls:'main-container',items:[{xtype:'maintoolbar',docked:'top',userCls:'main-toolbar',shadow:!0},{xtype:'container',docked:'left',userCls:'main-nav-container',reference:'navigation',layout:'fit',items:[{xtype:'treelist',reference:'navigationTree',scrollable:!0,ui:'nav',store:'NavigationTree',expanderFirst:!1,expanderOnly:!1,listeners:{itemclick:'onNavigationItemClick',selectionchange:'onNavigationTreeSelectionChange'}}]}]},0,['main'],['widget','component','container','navigationview','main'],{'widget':!0,'component':!0,'container':!0,'navigationview':!0,'main':!0},['widget.main'],0,[App.view.main,'Main'],0);Ext.cmd.derive('App.view.main.MainController',Ext.app.ViewController,{routes:{':type(/:args)?':{before:'checkHasPermission',action:'handleNavigationRoute',conditions:{':type':'(page404|page403|history|home|reporting|livrables|unites|unites|users|stats|input|lots|delegations|sousdelegations|monitoring|depenses|projections|reportings_stats|unites_stats|delegations_stats|douars|communes|douarsmap|classement|transfert_suivi|transfert_unites|couts)',':args':'(.*)'}},':type/:id(/:args)?':{action:'handleDataRoute',conditions:{':type':'(user|unite|reporting|lot|delegation|sousdelegation|depense|commune|douar|transfert|implementation)',':id':'([a-fA-F0-9-]{1,}|create|edit|manage|stats|suivi)',':args':'(.*)'}}},config:{showNavigation:!0},listen:{controller:{'*':{login:'onLogged'}},global:{}},collapsedCls:'main-nav-collapsed',onNavigationItemClick:function(){},onNavigationTreeSelectionChange:function(c,a){var b=a&&(a.get('routeId')||a.get('viewType'));if(b){this.redirectTo(b)}},checkHasPermission:function(c,b){var d;if(arguments.length>2){d=b;b=arguments[arguments.length-1]}var e=Ext.getStore('NavigationTree'),a,g=this.getViewModel().get('user'),f=g.get('role');if(d){switch(c){case 'user':a=e.findNode('routeId','users');break;default:a=e.findNode('routeId',c+'s');}}else {a=e.findNode('routeId',c)}if(!a){b.resume();return}if(a.get('minRole')<f&&(a.get('maxRole')==null||a.get('maxRole')>f)){b.stop(!0);this.activate(this.ensureView(c,{xtype:'page403',title:"Vous n'etes pas autoris !"},d))}else {b.resume()}},onToggleNavigationSize:function(){this.setShowNavigation(!this.getShowNavigation())},updateShowNavigation:function(d,h){if(h!==undefined){var a=this,f=a.collapsedCls,e=a.lookup('logo'),g=a.lookup('navigation'),b=a.lookup('navigationTree'),c=b.rootItem.el;g.toggleCls(f);e.toggleCls(f);if(d){b.setMicro(!1)}else {c.setWidth(c.getWidth())}e.element.on({single:!0,transitionend:function(){if(d){c.setWidth('')}else {b.setMicro(!0)}}})}},toolbarButtonClick:function(b){var a=b.config.href;this.redirectTo(a)},onLogged:function(){console.log('logged')},init:function(){var c=this.lookup('navigationTree'),d=c.getStore(),b=this.getViewModel().get('user'),a=b&&b.get('role');d.each(function(b){var d=b.get('minRole');var c=b.get('maxRole');if(d!=null&&d<a||c!=null&&c>a){b.parentNode.removeChild(b)}})},activate:function(c){var d=c.isComponent?c:this.lookup(c),b=d,a;while(a=b.getParent()){a.setActiveItem(b);b=a}return d},ensureView:function(c,d,f){var b=this.getView(),a=b.child('component[routeId='+c+']'),e=!!a;if(!a){a=b.add(Ext.apply({routeId:c},d))}if(Ext.isDefined(a.config.route)){a.setRoute(f)}if(e&&Ext.isFunction(a.reset)){a.reset()}return a},handleNavigationRoute:function(b,g){var d=this.getView(),e=this.lookup('navigationTree'),f=e.getStore(),a=f.findNode('routeId',b)||f.findNode('viewType',b),c;e.setSelection(a);if(!a){d='page500';c='Erreur'}else {d=a.get('viewType');c=a.get('text')}this.activate(this.ensureView(b,{xtype:d,title:c},g))},handleDataRoute:function(h,d,a){var c=this,a=Ext.Array.clean((a||'').split('/')),k=App.model[Ext.String.capitalize(h)],e,g,b,n=Ext.getStore('NavigationTree'),i,m=c.getViewModel().get('user'),f=m.get('role');switch(h){case 'user':i=n.findNode('routeId','users');break;default:i=n.findNode('routeId',h+'s');}if(h!=='user'){if(d=='create'||d=='manage'||a[0]=='edit'){if(f>4&&f<10){b=c.ensureView('page403',{xtype:'page403'});c.activate(b);return}}else if(!i||i.get('minRole')<f){b=c.ensureView('page403',{xtype:'page403'});c.activate(b);return}}else {if(f>4&&f<10||a[0]=='edit'&&(f>0&&d!==m.getId())){b=c.ensureView('page403',{xtype:'page403'});c.activate(b);return}}if(d=='create'){e='create';d=null}else if(d=='manage'){e='manage'}else if(a[0]=='edit'){e='edit';a.shift()}else if(a[0]=='stats'){e='stats';a.shift()}else {e='show'}g=h+e;if(!Ext.ClassManager.getNameByAlias('widget.'+g)){Ext.log.error('Invalid route: no view for xtype: '+g)}b=c.ensureView(g,{xtype:g});if(d==null){var j;if(a.length>=2){var o=a[0],l={};l[o]=a[1];l['assignee_id']=m.getId();j=new k(l)}else {j=new k()}b.setRecord(j);c.activate(b);return}Ext.Viewport.setMasked({xtype:'loadmask'});k.load(d,{callback:function(e){c.prepareView(b,e)}})},prepareView:function(a,b){a.setRecord(b);this.activate(a);Ext.Viewport.setMasked(!1)},onToggleMainMenu:function(a){var b=this.lookup('mainmenu');if(a===undefined){a=!b.getExpanded()}b.setExpanded(a)},onMenuChildTap:function(c,b){var a=b.record;if(a){this.redirectTo(a.get('rootId'));this.setShowNavigation(!1)}},onProfileTap:function(){this.redirectTo(this.getViewModel().get('user'));this.setShowNavigation(!1)},onLogoutTap:function(){if(this.fireEvent('logout')){this.setShowNavigation(!1)}}},0,0,0,0,['controller.main'],0,[App.view.main,'MainController'],0);Ext.cmd.derive('App.view.main.Toolbar',Ext.Toolbar,{items:[{xtype:'component',reference:'logo',userCls:'main-logo',html:'CN INDH'},{ui:'header',iconCls:'x-fa fa-bars',margin:'0 0 0 10',listeners:{tap:'onToggleNavigationSize'}},'->',{ui:'header',iconCls:'x-fa fa-th-large',href:'#reporting',tooltip:'Aller au Tableau de Bord',margin:'0 7 0 0',handler:'toolbarButtonClick'},{ui:'header',margin:'0 12 0 4',userCls:'main-user-name',handler:'onProfileTap',bind:{html:'{user.firstname}</div>'}},{ui:'header',iconCls:'x-fa fa-power-off',text:'Se Dconnecter',textAlign:'left',margin:'0 7 0 0',handler:'onLogoutTap'}]},0,['maintoolbar'],['widget','component','container','toolbar','maintoolbar'],{'widget':!0,'component':!0,'container':!0,'toolbar':!0,'maintoolbar':!0},['widget.maintoolbar'],0,[App.view.main,'Toolbar'],0);Ext.cmd.derive('App.view.monitoring.uplist.RowViewModel',Ext.app.ViewModel,{formulas:{urgenceCls:function(b){var a=b('record.reserve_mois');if(a<=1){return 0}if(a<=2){return 1}if(a<=3){return 2}return 3}}},0,0,0,0,['viewmodel.uplistbrowse-rowViewModel'],0,[App.view.monitoring.uplist,'RowViewModel'],0);Ext.cmd.derive('App.view.monitoring.uplist.Browse',App.view.widgets.Browse,{stateId:'uplistBrowse',stateful:!0,controller:'uplistbrowse',viewModel:{type:'uplistbrowse'},bind:{title:'{count} UPs affichs'},fields:{id:{property:'id'},plan_actions:{property:'plan_actions'},fondation_partenaire:{property:'fp_code'},region:{property:'region'},province:{property:'province'},type_unite:{property:'type_unite'},statut:{property:'statut'},delegation:{property:'delegation_id'}},layout:'fit',items:[{xtype:'grid',reference:'uplistList',emptyText:'Aucune UP correspondant  votre recherche',loadingText:'Chargement...',bind:'{unites}',ui:'listing',syncRowHeight:!1,groupHeaderTpl:'{name} ({group.length} UPs)',groupSummaryTpl:'Total: {name}',summaryTpl:'Total: {store.data.length} UPs',summaryPosition:'bottom',grouped:!0,title:' ',titleBar:{shadow:!1,docked:'bottom',items:[{align:'right',xtype:'button',iconCls:'x-fa fa-download',tooltip:'Exporter sous excel',handler:'exportToXlsx'}]},plugins:{gridviewoptions:!0,gridexporter:!0,gridfilters:!0},listeners:{documentsave:'onDocumentSave',beforedocumentsave:'onBeforeDocumentSave'},itemConfig:{viewModel:{type:'uplistbrowse-rowViewModel'}},columnLines:!0,rowLines:!0,loadMask:!0,multiColumnSort:!0,selectable:{rows:!0},columns:[{text:'ID',dataIndex:'id',hidden:!0,width:60,filterType:'list'},{xtype:'datecolumn',text:"Date d'Ajout",hidden:!0,dataIndex:'created',exportStyle:{format:'Medium Date',alignment:{horizontal:'Center'}},minWidth:95,format:'d/m/Y',filterType:'date'},{text:'PA',dataIndex:'plan_actions',groupable:!0,filterType:'list',align:'center',groupHeaderTpl:'PA: {value:htmlEncode}',summaryRenderer:'summarizeUPs'},{text:'Rgion',dataIndex:'region',groupable:!0,filterType:'list',groupHeaderTpl:'Rg.: {value:htmlEncode}',minWidth:160},{text:'P/P',dataIndex:'province',groupable:!0,filterType:'list',groupHeaderTpl:'P/P: {value:htmlEncode}',minWidth:160},{text:'Commune',dataIndex:'commune',minWidth:160},{text:'Douar / Quartier',dataIndex:'intitule',align:'left',filterType:'string',minWidth:180,cell:{cls:'intitule-cell',bind:{bodyCls:'urgence-{urgenceCls:pick("red", "orange", "yellow", "green")}'}}},{text:'FP',dataIndex:'fondation_partenaire',width:60,filterType:'list',align:'center'},{xtype:'numbercolumn',text:'Nbre Salles',dataIndex:'nbre_salles',format:'0',align:'center',summary:'sum'},{text:'Bnfs. 21/22',dataIndex:'saison_2021_2022_total_global',align:'center',xtype:'numbercolumn',format:'0',summary:'sum',width:80},{text:'% Remplissage',dataIndex:'tx_remplissage',align:'center',xtype:'numbercolumn',format:'0.00',summary:'average',width:90},{text:'Ouverte ?',dataIndex:'est_ouverte',hidden:!0,align:'center',xtype:'booleancolumn',trueText:'Oui',falseText:'',summary:'sum',width:75},{text:'Retenue ?',dataIndex:'est_retenue',hidden:!0,align:'center',xtype:'booleancolumn',trueText:'Oui',falseText:'',summary:'sum',width:75},{text:'En Arrt ?',dataIndex:'est_en_arret',hidden:!0,align:'center',xtype:'booleancolumn',trueText:'Oui',falseText:'',summary:'sum',width:75},{text:'Rsilie ?',dataIndex:'est_resiliee',hidden:!0,align:'center',renderer:function(a,d,b,e,c){return a?'Oui':''},exportRenderer:!0,summary:'sum',width:75},{xtype:'datecolumn',text:'Date Ouverture',dataIndex:'date_ouverture',exportStyle:{format:'Medium Date',alignment:{horizontal:'Center'}},minWidth:90,format:'d/m/Y',filterType:'date'},{xtype:'numbercolumn',text:'Age (mois)',dataIndex:'age_mois',align:'center',format:'0.0',filterType:'number'},{text:'Nbre Saisons Y2D',dataIndex:'age_saisons_y2d',align:'center',xtype:'numbercolumn',format:'0',filterType:'number',hidden:!0},{text:'Nbre Saisons Fin Anne',dataIndex:'age_saisons_decembre',align:'center',xtype:'numbercolumn',format:'0',filterType:'number',hidden:!0},{text:'Dern. Tranche',dataIndex:'last_tranche_label',align:'center',width:220},{text:'Tranches',dataIndex:'tranches_labels',align:'center',hidden:!0,width:300},{xtype:'numbercolumn',text:'Crdits de Fct. Dlgus',dataIndex:'montant_delegue_fct',format:'0,000',align:'right',summary:'sum',filterType:'number',minWidth:120,exportStyle:{format:'General Number',alignment:{horizontal:'Right'}}},{text:'Consom. Fct / Thorique',dataIndex:'consommation',xtype:'numbercolumn',format:'0,000',align:'right',filterType:'number',hidden:!0,minWidth:120,exportStyle:{format:'General Number',alignment:{horizontal:'Right'}}},{text:'Solde',dataIndex:'solde',xtype:'numbercolumn',format:'0,000',align:'right',summary:'min',filterType:'number',hidden:!0,minWidth:120,exportStyle:{format:'General Number',alignment:{horizontal:'Right'}}},{text:'Nbre Mois Rserve',dataIndex:'reserve_mois',align:'center',xtype:'numbercolumn',format:'0',filterType:'number',summary:'min'},{xtype:'datecolumn',text:'Date Epuisement',dataIndex:'date_epuisement',exportStyle:{format:'Medium Date',alignment:{horizontal:'Center'}},minWidth:95,format:'d/m/Y',filterType:'date'},{xtype:'numbercolumn',text:'Nbre Annees Financees',dataIndex:'nbre_annees_financees',align:'center',format:'0',filterType:'number'},{text:'Prennisation',columns:[{text:"Nbre Mois jusqu'au Aout 2023",dataIndex:'budget_peren_aout23_nbre_mois',align:'center',xtype:'numbercolumn',format:'0.0',filterType:'number',summary:'min'},{text:'Nbre mois Sept.- Dc. 2023',dataIndex:'budget_peren_dec23_mois',align:'center',xtype:'numbercolumn',format:'0.0',filterType:'number',summary:'min'},{text:'Montant Aout 2023',dataIndex:'budget_peren_aout23_montant',xtype:'numbercolumn',format:'0,000.00',align:'right',filterType:'number',minWidth:120,exportStyle:{format:'General Number',alignment:{horizontal:'Right'}}},{text:'Montant',dataIndex:'budget_perennisation',xtype:'numbercolumn',format:'0,000.00',align:'right',filterType:'number',minWidth:120,exportStyle:{format:'General Number',alignment:{horizontal:'Right'}}}]},{text:'Prime Anciennete',columns:[{text:'Nbre Mois avant Sept. 2022',dataIndex:'prime_anciennete_aout22_nbre_mois',align:'center',xtype:'numbercolumn',format:'0.0',filterType:'number',summary:'min'},{text:'Nbre Mois Sept.2022 - Aout 2023',dataIndex:'prime_anciennete_aout23_nbre_mois',align:'center',xtype:'numbercolumn',format:'0.0',filterType:'number',summary:'min'},{text:'Nbre Mois Sept.- Dc. 2023',dataIndex:'prime_anciennete_dec23_nbre_mois',align:'center',xtype:'numbercolumn',format:'0.0',filterType:'number',summary:'min'},{text:'Montant Primes',dataIndex:'prime_anciennete',xtype:'numbercolumn',format:'0,000.00',align:'right',filterType:'number',minWidth:120,exportStyle:{format:'General Number',alignment:{horizontal:'Right'}}}]}]}]},0,['uplistbrowse'],['widget','component','container','panel','browse','uplistbrowse'],{'widget':!0,'component':!0,'container':!0,'panel':!0,'browse':!0,'uplistbrowse':!0},['widget.uplistbrowse'],0,[App.view.monitoring.uplist,'Browse'],0);Ext.cmd.derive('App.view.unite.BrowseController',App.view.widgets.BrowseController,{control:{'#':{reset:'refresh'}},config:{checkAll:!0},refresh:function(){var a=this.getViewModel()},onCreate:function(){this.redirectTo('unite/create')},summarizeProvinces:function(b,a){return 'Total P/P'},summarizePA:function(b,a){return '';a.records.length+' PA'},exportToXlsx:function(){var b=this,c=this.getView(),a=this.getViewModel().getStore('unites');if(a.getPageSize()===0){b._exportGrid('unitesList')}else {a.setPageSize(0);a.load({scope:b,callback:function(){b._exportGrid('unitesList')}})}},importFile:function(){var a=Ext.create('App.model.Document');Ext.create({xtype:'importerwizard',record:a,centered:!0,floated:!0,modal:!0,ui:'dialog',toolbar:{docked:'bottom'}}).show()},destroy:function(){Ext.destroy(this.dialog);App.view.widgets.BrowseController.prototype.destroy.call(this)},onStoreChange:function(d,f,c,e){var b=App.util.State.get('session');var a=b.user;if(!a.province_code&&!a.region_code){return}this.updateFilters(!0)}},0,0,0,0,['controller.unitebrowse'],0,[App.view.unite,'BrowseController'],0);Ext.cmd.derive('App.view.monitoring.uplist.BrowseController',App.view.unite.BrowseController,{control:{'#':{reset:'refresh'}},grid:null,reserveTpl:'<span style="color:{value:sign("${red}", "${green}")}">{text} jours</span>',exportToXlsx:function(){var b=this,c=this.getView(),a=this.getViewModel().getStore('unites');if(a.getPageSize()===0){b._exportGrid('uplistList')}else {a.setPageSize(0);a.load({scope:b,callback:function(){b._exportGrid('uplistList')}})}},getGrid:function(){if(this.grid){return this.grid}this.grid=this.lookup('upsList');return this.grid},summarizeUPs:function(b,a){return a.records.length+' UPs'},expandAll:function(){this.getGrid().expandAll()},collapseAll:function(){this.getGrid().collapseAll()},setSummaryPosition:function(a){this.getGrid().setSummaryPosition(a.sum)}},0,0,0,0,['controller.uplistbrowse'],0,[App.view.monitoring.uplist,'BrowseController'],0);Ext.cmd.derive('App.view.monitoring.uplist.BrowseModel',Ext.app.ViewModel,{data:{groupBy:'region',sortOrder:null,filteredBy:null,delegation_id:null},stores:{unites:{type:'projets',autoLoad:!0,remoteGroup:!1,remoteFilter:!1,remoteSort:!1,pageSize:0,clearOnPageLoad:!1,sorters:[{property:'reserve_jours',direction:'ASC'}],filters:[{property:'est_ouverte',value:!0}],groupers:['plan_actions'],listeners:{refresh:'onStoreRefresh',buffer:100}},annees:{type:'annees',autoLoad:!0},regions:{type:'regions',autoLoad:!0},provinces:{type:'provinces',autoLoad:!0},fondations:{type:'fondations',autoLoad:!0},statuts:{type:'statuts',autoLoad:!0}}},0,0,0,0,['viewmodel.uplistbrowse'],0,[App.view.monitoring.uplist,'BrowseModel'],0);Ext.cmd.derive('App.view.unite.Browse',App.view.widgets.Browse,{stateId:'uniteBrowse',stateful:!0,fields:{id:{property:'id'},plan_actions:{property:'plan_actions'},fondation_partenaire:{property:'fp_code'},region:{property:'region_code'},province:{property:'province_code'},commune:{property:'commune_code'},est_ouverte:{property:'est_ouverte'},est_ouverte_fp:{property:'est_ouverte_fp'},operationnalite:{property:'operationnalite'}},controller:'unitebrowse',viewModel:{type:'unitebrowse'},cls:'unitebrowse',bind:{title:'[Consultation] Liste des UPs selon les donnes des Fondations gestionnaires - {count} affiches / {totalCount}',store:'{unites}'},tbar:{xtype:'unitebrowsetoolbar'},layout:'fit',items:[{xtype:'grid',reference:'unitesList',emptyText:'Aucune Unit trouve',loadingText:'Chargement...',bind:'{unites}',ui:'listing',syncRowHeight:!1,grouped:!0,groupHeader:{tpl:'{name} ({count} UPs)'},title:' ',titleBar:{shadow:!1,docked:'bottom',items:[{align:'right',xtype:'button',iconCls:'x-fa fa-download',tooltip:'Exporter sous excel',handler:'exportToXlsx'}]},plugins:{listpaging:{autoPaging:!0},gridviewoptions:!0,gridexporter:!0,gridfilters:!0,gridsummaryrow:!0},listeners:{documentsave:'onDocumentSave',beforedocumentsave:'onBeforeDocumentSave'},columnLines:!0,rowLines:!0,loadMask:!0,multiColumnSort:!1,selectable:{rows:!0},userSelectable:'text',columns:[{text:'ID',dataIndex:'id',hidden:!0},{text:'FP ID',dataIndex:'fp_id',hidden:!0},{text:'Rgion',dataIndex:'region_code',align:'center',locked:!0,groupable:!0,renderer:function(b,a){return a.get('region')},exportRenderer:!0,filter:{type:'list',sorted:!0,sortDirection:'ASC',menu:{items:{list:{multiSelect:!0,valueField:'value',displayField:'label',placeholder:'Choisir Rgion',store:{type:'regions'}}}}}},{text:'Province',dataIndex:'province_code',align:'center',locked:!0,groupable:!0,renderer:function(b,a){return a.get('province')},exportRenderer:!0,summaryRenderer:'summarizeProvinces',filter:{type:'list',property:'province_code',sorted:!0,sortDirection:'ASC',menu:{items:{list:{multiSelect:!0,valueField:'value',displayField:'label',placeholder:'Choisir P/P',store:{type:'provinces'}}}}}},{text:'PA',dataIndex:'plan_actions',align:'center',locked:!0,groupable:!0,summary:'count',summaryRenderer:'summarizePA',width:60,filter:{type:'list',sorted:!0,sortDirection:'ASC',menu:{items:{list:{multiSelect:!0,valueField:'value',displayField:'value',placeholder:'Choisir PAs',store:{type:'annees'}}}}}},{text:'FP',align:'center',dataIndex:'fp_code',width:60,locked:!0,renderer:function(b,a){return a.get('fondation_partenaire')},exportRenderer:!0,filter:{type:'list',sorted:!0,sortDirection:'ASC',menu:{items:{list:{multiSelect:!0,valueField:'value',displayField:'label',placeholder:'Choisir FP',store:{type:'fondations'}}}}},bind:{hidden:'{user.role === 4}'}},{text:'Cercle',dataIndex:'cercle',align:'center',locked:!0,minWidth:150,filter:{type:'list',sorted:!0,sortDirection:'ASC',menu:{items:{list:{multiSelect:!0}}}}},{text:'Code Commune',hidden:!0,dataIndex:'commune_code',align:'center'},{text:'Commune',dataIndex:'commune_label',align:'center',locked:!0,minWidth:150,filter:{type:'list',sorted:!0,sortDirection:'ASC',menu:{items:{list:{multiSelect:!0}}}}},{text:'Douar/Quartier',dataIndex:'douar_quartier',align:'center',hidden:!0,minWidth:150,filter:{type:'list',sorted:!0,sortDirection:'ASC',menu:{items:{list:{multiSelect:!0}}}}},{text:'UP',dataIndex:'intitule',groupable:!1,hideable:!1,align:'center',minWidth:200,locked:!0,summary:'count',bind:{hidden:'{user.role === 4  || user.role <= 1}'},filter:{type:'list',sorted:!0,sortDirection:'ASC',menu:{items:{list:{multiSelect:!0}}}}},{text:'UP',dataIndex:'intitule',groupable:!1,hideable:!1,align:'center',minWidth:200,locked:!0,summary:'count',cell:{encodeHtml:!1},tpl:['<a class="item-title" href="#{url}/edit">{intitule}</a>'],bind:{hidden:'{user.role !== 4 && user.role > 1}'}},{text:'Mode de Cration',hidden:!0,dataIndex:'mode_creation',align:'center'},{text:'Nbre Salles',dataIndex:'nbre_salles',align:'center',xtype:'numbercolumn',format:'0',summary:'sum',width:75,filter:'number'},{text:'Nbre Groupes',dataIndex:'nbre_classes',align:'center',xtype:'numbercolumn',format:'0',summary:'sum',width:75,filter:'number'},{text:'Programme ?',dataIndex:'est_programmee_pp',align:'center',xtype:'booleancolumn',trueText:'Oui',falseText:'',summary:'sum',bind:{hidden:'{user.role !== 4}'},width:85},{text:'Convention ?',dataIndex:'dispose_convention_signee',align:'center',xtype:'booleancolumn',trueText:'Oui',falseText:'',summary:'sum',bind:{hidden:'{user.role !== 4}'},width:85},{text:'Livre ?',dataIndex:'est_livree',align:'center',xtype:'booleancolumn',trueText:'Oui',falseText:'',summary:'sum',bind:{hidden:'{user.role !== 4}'},width:75},{text:'UP Ouverte',dataIndex:'est_ouverte',align:'center',xtype:'booleancolumn',trueText:'Oui',falseText:'',summary:'sum',width:75},{text:'Ouverture (selon FP)',dataIndex:'est_ouverte_fp',align:'center',xtype:'booleancolumn',trueText:'Oui',falseText:'',summary:'sum',width:75},{text:'Resilie (selon FP)',dataIndex:'est_resiliee',align:'center',xtype:'booleancolumn',trueText:'Oui',falseText:'',summary:'sum',width:75,bind:{hidden:'{user.role > 1}'}},{xtype:'datecolumn',text:'Date Ouverture',dataIndex:'date_ouverture',exportStyle:{format:'Medium Date',alignment:{horizontal:'Center'}},minWidth:80,format:'d/m/Y'},{text:'En arrt (selon FP)',dataIndex:'est_en_arret',align:'center',summary:'sum',xtype:'booleancolumn',trueText:'Oui',falseText:'',width:150},{xtype:'numbercolumn',text:'Age en nbre de mois',dataIndex:'age_mois',align:'center',format:'0',filter:'number'},{text:'Educateurs',columns:[{text:'Total Postes',dataIndex:'nombre_postes_total',align:'center',xtype:'numbercolumn',format:'0',summary:'sum',width:60,filter:'number',hidden:!0},{text:'Total',dataIndex:'nombre_educatrices_total',align:'center',xtype:'numbercolumn',format:'0',summary:'sum',width:60,filter:'number'},{text:'Femmes',dataIndex:'nombre_educatrices_femme',align:'center',xtype:'numbercolumn',format:'0',summary:'sum',width:60,filter:'number'},{text:'Hommes',dataIndex:'nombre_educatrices_homme',align:'center',xtype:'numbercolumn',format:'0',summary:'sum',width:60,filter:'number'}]},{text:'Remplissage %',dataIndex:'tx_remplissage',align:'center',xtype:'numbercolumn',format:'0.00',summary:'average',width:60,filter:'number'},{text:'Bnficiaires 2023/24',columns:[{text:'Total Etat Quotidien',dataIndex:'saison_2023_2024_total_global_q',align:'center',xtype:'numbercolumn',format:'0',hidden:!0,summary:'sum',width:60,filter:'number'},{text:'Total',dataIndex:'saison_2023_2024_total_global',align:'center',xtype:'numbercolumn',format:'0',summary:'sum',width:60,filter:'number'},{text:'Garons',dataIndex:'saison_2023_2024_total_garcons',align:'center',xtype:'numbercolumn',format:'0',summary:'sum',width:60,filter:'number'},{text:'Filles',dataIndex:'saison_2023_2024_total_filles',align:'center',xtype:'numbercolumn',format:'0',summary:'sum',width:60,filter:'number'},{text:'Moyenne Section',columns:[{text:'Total',dataIndex:'saison_2023_2024_total_moyenne_section',align:'center',xtype:'numbercolumn',format:'0',summary:'sum',width:60,filter:'number'},{text:'Filles',dataIndex:'saison_2023_2024_moyenne_section_filles',align:'center',xtype:'numbercolumn',format:'0',summary:'sum',width:60,filter:'number'},{text:'Garons',dataIndex:'saison_2023_2024_moyenne_section_garcons',align:'center',xtype:'numbercolumn',format:'0',summary:'sum',width:60,filter:'number'}]},{text:'Grande Section',columns:[{text:'Total',dataIndex:'saison_2023_2024_total_grande_section',align:'center',xtype:'numbercolumn',format:'0',summary:'sum',width:60,filter:'number'},{text:'Filles',dataIndex:'saison_2023_2024_grande_section_filles',align:'center',xtype:'numbercolumn',format:'0',summary:'sum',width:60,filter:'number'},{text:'Garons',dataIndex:'saison_2023_2024_grande_section_garcons',align:'center',xtype:'numbercolumn',format:'0',summary:'sum',width:60,filter:'number'}]}]},{text:'Bnficiaires 2022/23',columns:[{text:'Total',dataIndex:'saison_2022_2023_total_global',align:'center',xtype:'numbercolumn',format:'0',summary:'sum',width:60,filter:'number'},{text:'Garons',dataIndex:'saison_2022_2023_total_garcons',align:'center',xtype:'numbercolumn',format:'0',summary:'sum',width:60,filter:'number'},{text:'Filles',dataIndex:'saison_2022_2023_total_filles',align:'center',xtype:'numbercolumn',format:'0',summary:'sum',width:60,filter:'number'},{text:'Moyenne Section',columns:[{text:'Total',dataIndex:'saison_2022_2023_total_moyenne_section',align:'center',xtype:'numbercolumn',format:'0',summary:'sum',width:60,filter:'number'},{text:'Filles',dataIndex:'saison_2022_2023_moyenne_section_filles',align:'center',xtype:'numbercolumn',format:'0',summary:'sum',width:60,filter:'number'},{text:'Garons',dataIndex:'saison_2022_2023_moyenne_section_garcons',align:'center',xtype:'numbercolumn',format:'0',summary:'sum',width:60,filter:'number'}]},{text:'Grande Section',columns:[{text:'Total',dataIndex:'saison_2022_2023_total_grande_section',align:'center',xtype:'numbercolumn',format:'0',summary:'sum',width:60,filter:'number'},{text:'Filles',dataIndex:'saison_2022_2023_grande_section_filles',align:'center',xtype:'numbercolumn',format:'0',summary:'sum',width:60,filter:'number'},{text:'Garons',dataIndex:'saison_2022_2023_grande_section_garcons',align:'center',xtype:'numbercolumn',format:'0',summary:'sum',width:60,filter:'number'}]}]},{text:'Evolution Inscrits 2022/23',bind:{hidden:'{!showEffectifs}'},columns:[{text:'Evolution MS',columns:[{dataIndex:'saison_2022_2023_ms_reinscrit_ms',text:'Rinscrits MS',align:'center',xtype:'numbercolumn',format:'0',summary:'sum',width:60,filter:'number',bind:{hidden:'{!showEffectifs}'}},{dataIndex:'saison_2022_2023_ms_passe_gs',text:'Passs  GS',align:'center',xtype:'numbercolumn',format:'0',summary:'sum',width:60,filter:'number',bind:{hidden:'{!showEffectifs}'}},{dataIndex:'saison_2022_2023_ms_passe_primaire',text:'Passs au Primaire',align:'center',xtype:'numbercolumn',format:'0',summary:'sum',width:60,filter:'number',bind:{hidden:'{!showEffectifs}'}}]},{text:'Evolution GS',columns:[{dataIndex:'saison_2022_2023_gs_refait_gs',text:'Rinscrits GS',align:'center',xtype:'numbercolumn',format:'0',summary:'sum',width:60,filter:'number',bind:{hidden:'{!showEffectifs}'}},{dataIndex:'saison_2022_2023_gs_primaire',text:'Passs au Primaire',align:'center',xtype:'numbercolumn',format:'0',summary:'sum',width:60,filter:'number',bind:{hidden:'{!showEffectifs}'}}]},{text:'Primaire',columns:[{dataIndex:'saison_2022_2023_inscrits_primaire_total',text:'Total',align:'center',xtype:'numbercolumn',format:'0',summary:'sum',width:60,filter:'number',bind:{hidden:'{!showEffectifs}'}},{dataIndex:'saison_2022_2023_inscrits_primaire_filles',text:'Filles',align:'center',xtype:'numbercolumn',format:'0',summary:'sum',width:60,filter:'number',bind:{hidden:'{!showEffectifs}'}},{dataIndex:'saison_2022_2023_inscrits_primaire_garcons',text:'Garons',align:'center',xtype:'numbercolumn',format:'0',summary:'sum',width:60,filter:'number',bind:{hidden:'{!showEffectifs}'}}]},{dataIndex:'saison_2022_2023_nbre_arret_scolarite',text:'Arrt Scolarit',align:'center',xtype:'numbercolumn',format:'0',summary:'sum',width:60,filter:'number',bind:{hidden:'{!showEffectifs}'}}]},{text:'Bnficiaires 2021/22',columns:[{text:'Total',dataIndex:'saison_2021_2022_total_global',align:'center',xtype:'numbercolumn',format:'0',summary:'sum',width:60,filter:'number'},{text:'Garons',dataIndex:'saison_2021_2022_total_garcons',align:'center',xtype:'numbercolumn',format:'0',summary:'sum',width:60,filter:'number'},{text:'Filles',dataIndex:'saison_2021_2022_total_filles',align:'center',xtype:'numbercolumn',format:'0',summary:'sum',width:60,filter:'number'},{text:'Moyenne Section',columns:[{text:'Total',dataIndex:'saison_2021_2022_total_moyenne_section',align:'center',xtype:'numbercolumn',format:'0',summary:'sum',width:60,filter:'number'},{text:'Filles',dataIndex:'saison_2021_2022_moyenne_section_filles',align:'center',xtype:'numbercolumn',format:'0',summary:'sum',width:60,filter:'number'},{text:'Garons',dataIndex:'saison_2021_2022_moyenne_section_garcons',align:'center',xtype:'numbercolumn',format:'0',summary:'sum',width:60,filter:'number'}]},{text:'Grande Section',columns:[{text:'Total',dataIndex:'saison_2021_2022_total_grande_section',align:'center',xtype:'numbercolumn',format:'0',summary:'sum',width:60,filter:'number'},{text:'Filles',dataIndex:'saison_2021_2022_grande_section_filles',align:'center',xtype:'numbercolumn',format:'0',summary:'sum',width:60,filter:'number'},{text:'Garons',dataIndex:'saison_2021_2022_grande_section_garcons',align:'center',xtype:'numbercolumn',format:'0',summary:'sum',width:60,filter:'number'}]}]},{text:'Bnficiaires 2020/21',bind:{hidden:'{!showEffectifs}'},columns:[{text:'Total',dataIndex:'saison_2020_2021_total_global',align:'center',xtype:'numbercolumn',format:'0',summary:'sum',width:60,filter:'number',bind:{hidden:'{!showEffectifs}'}},{text:'Garons',dataIndex:'saison_2020_2021_total_garcons',align:'center',xtype:'numbercolumn',format:'0',summary:'sum',width:60,filter:'number',bind:{hidden:'{!showEffectifs}'}},{text:'Filles',dataIndex:'saison_2020_2021_total_filles',align:'center',xtype:'numbercolumn',format:'0',summary:'sum',width:60,filter:'number',bind:{hidden:'{!showEffectifs}'}},{text:'Moyenne Section',columns:[{text:'Total',dataIndex:'saison_2020_2021_total_moyenne_section',align:'center',xtype:'numbercolumn',format:'0',summary:'sum',width:60,filter:'number',bind:{hidden:'{!showEffectifs}'}},{text:'Filles',dataIndex:'saison_2020_2021_moyenne_section_filles',align:'center',xtype:'numbercolumn',format:'0',summary:'sum',width:60,filter:'number',bind:{hidden:'{!showEffectifs}'}},{text:'Garons',dataIndex:'saison_2020_2021_moyenne_section_garcons',align:'center',xtype:'numbercolumn',format:'0',summary:'sum',width:60,filter:'number',bind:{hidden:'{!showEffectifs}'}}]},{text:'Grande Section',columns:[{text:'Total',dataIndex:'saison_2020_2021_total_grande_section',align:'center',xtype:'numbercolumn',format:'0',summary:'sum',width:60,filter:'number',bind:{hidden:'{!showEffectifs}'}},{text:'Filles',dataIndex:'saison_2020_2021_grande_section_filles',align:'center',xtype:'numbercolumn',format:'0',summary:'sum',width:60,filter:'number',bind:{hidden:'{!showEffectifs}'}},{text:'Garons',dataIndex:'saison_2020_2021_grande_section_garcons',align:'center',xtype:'numbercolumn',format:'0',summary:'sum',width:60,filter:'number',bind:{hidden:'{!showEffectifs}'}}]}]},{text:'Evolution Inscrits 2021/22',bind:{hidden:'{!showEffectifs}'},columns:[{text:'Evolution MS',columns:[{dataIndex:'saison_2021_2022_ms_reinscrit_ms',text:'Rinscrits MS',align:'center',xtype:'numbercolumn',format:'0',summary:'sum',width:60,filter:'number',bind:{hidden:'{!showEffectifs}'}},{dataIndex:'saison_2021_2022_ms_passe_gs',text:'Passs  GS',align:'center',xtype:'numbercolumn',format:'0',summary:'sum',width:60,filter:'number',bind:{hidden:'{!showEffectifs}'}},{dataIndex:'saison_2021_2022_ms_passe_primaire',text:'Passs au Primaire',align:'center',xtype:'numbercolumn',format:'0',summary:'sum',width:60,filter:'number',bind:{hidden:'{!showEffectifs}'}}]},{text:'Evolution GS',columns:[{dataIndex:'saison_2021_2022_gs_refait_gs',text:'Rinscrits GS',align:'center',xtype:'numbercolumn',format:'0',summary:'sum',width:60,filter:'number',bind:{hidden:'{!showEffectifs}'}},{dataIndex:'saison_2021_2022_gs_primaire',text:'Passs au Primaire',align:'center',xtype:'numbercolumn',format:'0',summary:'sum',width:60,filter:'number',bind:{hidden:'{!showEffectifs}'}}]},{text:'Primaire',columns:[{dataIndex:'saison_2021_2022_inscrits_primaire_total',text:'Total',align:'center',xtype:'numbercolumn',format:'0',summary:'sum',width:60,filter:'number',bind:{hidden:'{!showEffectifs}'}},{dataIndex:'saison_2021_2022_inscrits_primaire_filles',text:'Filles',align:'center',xtype:'numbercolumn',format:'0',summary:'sum',width:60,filter:'number',bind:{hidden:'{!showEffectifs}'}},{dataIndex:'saison_2021_2022_inscrits_primaire_garcons',text:'Garons',align:'center',xtype:'numbercolumn',format:'0',summary:'sum',width:60,filter:'number',bind:{hidden:'{!showEffectifs}'}}]},{dataIndex:'saison_2021_2022_nbre_arret_scolarite',text:'Arrt Scolarit',align:'center',xtype:'numbercolumn',format:'0',summary:'sum',width:60,filter:'number',bind:{hidden:'{!showEffectifs}'}}]},{text:'Evolution Inscrits 2020/21',bind:{hidden:'{!showEffectifs}'},columns:[{text:'Evolution MS',columns:[{dataIndex:'saison_2020_2021_ms_reinscrit_ms',text:'Rinscrits MS',align:'center',xtype:'numbercolumn',format:'0',summary:'sum',width:60,filter:'number',bind:{hidden:'{!showEffectifs}'}},{dataIndex:'saison_2020_2021_ms_passe_gs',text:'Passs  GS',align:'center',xtype:'numbercolumn',format:'0',summary:'sum',width:60,filter:'number',bind:{hidden:'{!showEffectifs}'}},{dataIndex:'saison_2020_2021_ms_passe_primaire',text:'Passs au Primaire',align:'center',xtype:'numbercolumn',format:'0',summary:'sum',width:60,filter:'number',bind:{hidden:'{!showEffectifs}'}}]},{text:'Evolution GS',columns:[{dataIndex:'saison_2020_2021_gs_refait_gs',text:'Rinscrits GS',align:'center',xtype:'numbercolumn',format:'0',summary:'sum',width:60,filter:'number',bind:{hidden:'{!showEffectifs}'}},{dataIndex:'saison_2020_2021_gs_primaire',text:'Passs au Primaire',align:'center',xtype:'numbercolumn',format:'0',summary:'sum',width:60,filter:'number',bind:{hidden:'{!showEffectifs}'}}]},{text:'Primaire',columns:[{dataIndex:'saison_2020_2021_inscrits_primaire_total',text:'Total',align:'center',xtype:'numbercolumn',format:'0',summary:'sum',width:60,filter:'number',bind:{hidden:'{!showEffectifs}'}},{dataIndex:'saison_2020_2021_inscrits_primaire_filles',text:'Filles',align:'center',xtype:'numbercolumn',format:'0',summary:'sum',width:60,filter:'number',bind:{hidden:'{!showEffectifs}'}},{dataIndex:'saison_2020_2021_inscrits_primaire_garcons',text:'Garons',align:'center',xtype:'numbercolumn',format:'0',summary:'sum',width:60,filter:'number',bind:{hidden:'{!showEffectifs}'}}]},{dataIndex:'saison_2020_2021_nbre_arret_scolarite',text:'Arrt Scolarit',align:'center',xtype:'numbercolumn',format:'0',summary:'sum',width:60,filter:'number',bind:{hidden:'{!showEffectifs}'}}]},{text:'Bnficiaires 2019/20',bind:{hidden:'{!showEffectifs}'},columns:[{text:'Total',dataIndex:'saison_2019_2020_total_global',align:'center',xtype:'numbercolumn',format:'0',summary:'sum',width:60,filter:'number',bind:{hidden:'{!showEffectifs}'}},{text:'Total MS',dataIndex:'saison_2019_2020_total_moyenne_section',align:'center',xtype:'numbercolumn',format:'0',summary:'sum',width:60,filter:'number',bind:{hidden:'{!showEffectifs}'}},{text:'Total GS',dataIndex:'saison_2019_2020_total_grande_section',align:'center',xtype:'numbercolumn',format:'0',summary:'sum',width:60,filter:'number',bind:{hidden:'{!showEffectifs}'}}]},{text:'Evolution Inscrits 19/20',bind:{hidden:'{!showEffectifs}'},columns:[{text:'Evolution MS',columns:[{dataIndex:'saison_2019_2020_ms_reinscrit_ms',text:'Rinscrits MS',align:'center',xtype:'numbercolumn',format:'0',summary:'sum',width:60,filter:'number',bind:{hidden:'{!showEffectifs}'}},{dataIndex:'saison_2019_2020_ms_passe_gs',text:'Passs  GS',align:'center',xtype:'numbercolumn',format:'0',summary:'sum',width:60,filter:'number',bind:{hidden:'{!showEffectifs}'}},{dataIndex:'saison_2019_2020_ms_passe_primaire',text:'Passs au Primaire',align:'center',xtype:'numbercolumn',format:'0',summary:'sum',width:60,filter:'number',bind:{hidden:'{!showEffectifs}'}}]},{text:'Evolution GS',columns:[{dataIndex:'saison_2019_2020_gs_refait_gs',text:'Rinscrits GS',align:'center',xtype:'numbercolumn',format:'0',summary:'sum',width:60,filter:'number',bind:{hidden:'{!showEffectifs}'}},{dataIndex:'saison_2019_2020_gs_primaire',text:'Passs au Primaire',align:'center',xtype:'numbercolumn',format:'0',summary:'sum',width:60,filter:'number',bind:{hidden:'{!showEffectifs}'}}]},{text:'Primaire',columns:[{dataIndex:'saison_2019_2020_inscrits_primaire_total',text:'Total',align:'center',xtype:'numbercolumn',format:'0',summary:'sum',width:60,filter:'number',bind:{hidden:'{!showEffectifs}'}},{dataIndex:'saison_2019_2020_inscrits_primaire_filles',text:'Filles',align:'center',xtype:'numbercolumn',format:'0',summary:'sum',width:60,filter:'number',bind:{hidden:'{!showEffectifs}'}},{dataIndex:'saison_2019_2020_inscrits_primaire_garcons',text:'Garons',align:'center',xtype:'numbercolumn',format:'0',summary:'sum',width:60,filter:'number',bind:{hidden:'{!showEffectifs}'}}]},{dataIndex:'saison_2019_2020_nbre_arret_scolarite',text:'Arrt Scolarit',align:'center',xtype:'numbercolumn',format:'0',summary:'sum',width:60,filter:'number',bind:{hidden:'{!showEffectifs}'}}]},{text:'Tranches dlgus',bind:{hidden:'{user.role > 1}'},columns:[{text:'TR 1',dataIndex:'delegation_tr1',align:'center',xtype:'booleancolumn',trueText:'X',falseText:'',summary:'sum',width:75,bind:{hidden:'{user.role > 1}'}},{text:'TR 2',dataIndex:'delegation_tr2',align:'center',xtype:'booleancolumn',trueText:'X',falseText:'',summary:'sum',width:75,bind:{hidden:'{user.role > 1}'}},{text:'TR 3',dataIndex:'delegation_tr3',align:'center',xtype:'booleancolumn',trueText:'X',falseText:'',summary:'sum',width:75,bind:{hidden:'{user.role > 1}'}},{text:'TR 4',dataIndex:'delegation_tr4',align:'center',xtype:'booleancolumn',trueText:'X',falseText:'',summary:'sum',width:75,bind:{hidden:'{user.role > 1}'}},{text:'3e Anne',dataIndex:'delegation_tr_3annee',align:'center',xtype:'booleancolumn',trueText:'X',falseText:'',summary:'sum',width:75,bind:{hidden:'{user.role > 1}'}},{text:'4e Anne',dataIndex:'delegation_tr_4annee',align:'center',xtype:'booleancolumn',trueText:'X',falseText:'',summary:'sum',width:75,bind:{hidden:'{user.role > 1}'}},{text:'Compl. dc 2023',dataIndex:'delegation_tr_complement',align:'center',xtype:'booleancolumn',trueText:'X',falseText:'',summary:'sum',width:75,bind:{hidden:'{user.role > 1}'}}]},{text:'Dern. Tranche',dataIndex:'last_tranche_label',align:'center',width:220,hidden:!0,bind:{hidden:'{user.role > 1}'},filter:{type:'list',sorted:!0,sortDirection:'ASC',menu:{items:{list:{multiSelect:!0}}}}},{xtype:'datecolumn',text:'Date Situation',dataIndex:'date_situation',align:'center',exportStyle:{format:'General Date'},format:'d/m/Y',filter:'date'},{text:'Observations',dataIndex:'fp_comments',align:'left',minWidth:300,editable:!0,filter:'string'}]}]},0,['unitebrowse'],['widget','component','container','panel','browse','unitebrowse'],{'widget':!0,'component':!0,'container':!0,'panel':!0,'browse':!0,'unitebrowse':!0},['widget.unitebrowse'],0,[App.view.unite,'Browse'],0);var yesterday=new Date();yesterday.setDate(yesterday.getDate()-1);Ext.cmd.derive('App.view.monitoring.chart.Chart',App.view.unite.Browse,{stateId:'upChart',stateful:!0,controller:'upchart',viewModel:{type:'upchart'},bind:{title:'{count} UPs affichs'},tbar:{xtype:'upcharttoolbar'},fields:{id:{property:'id'},plan_actions:{property:'plan_actions',defaultValue:'2019'},fondation_partenaire:{property:'fondation_partenaire'},region:{property:'region'},province:{property:'province'},type_unite:{property:'type_unite'},statut:{property:'statut'},delegation:{property:'delegation_id'}},layout:'fit',items:[{bind:{store:'{unites}'},xtype:'cartesian',shadow:'true',reference:'upchart',insetPadding:'20 10',legend:null,interactions:['itemhighlight',{type:'panzoom',zoomOnPanGesture:!1,modeToggleButton:{width:200,defaults:{flex:1,ui:'action'},items:[{iconCls:'x-fa fa-arrows-alt',text:'Pan',value:'pan'},{iconCls:'x-fa fa-search-plus',text:'Zoom',value:'zoom'}]}},{type:'crosshair',axes:{label:{fillStyle:'white'},rect:{fillStyle:'#344459',opacity:0.7,radius:5}}}],axes:[{type:'category',position:'left',title:'Rgions'},{type:'time',dateFormat:'M\nY',position:'bottom',fields:'date_epuisement',title:'Date Epuisement',visibleRange:[0.15,0.45],fromDate:yesterday,segmenter:{type:'time',step:{unit:Ext.Date.MONTH,step:1}}}],series:[{type:'scatter',xField:'date_epuisement',yField:'region',marker:{scale:1,lineWidth:1},tooltip:{trackMouse:!0,showDelay:0,dismissDelay:0,hideDelay:0,renderer:'tooltipRender'}}]},{xtype:'toolbar',docked:'top',ui:'transparent',padding:'5 8',layout:{type:'hbox',align:'stretch'},defaults:{shadow:'true',ui:'action'},items:[{xtype:'segmentedbutton',width:300,defaults:{flex:1,ui:'action'},items:[{text:'Crosshair',pressed:!0,handler:'onCrosshair'},{text:'Pan',handler:'onPan'},{text:'Zoom',handler:'onZoom'}]}]}]},0,['upchart'],['widget','component','container','panel','browse','unitebrowse','upchart'],{'widget':!0,'component':!0,'container':!0,'panel':!0,'browse':!0,'unitebrowse':!0,'upchart':!0},['widget.upchart'],0,[App.view.monitoring.chart,'Chart'],0);Ext.cmd.derive('App.view.monitoring.chart.ChartController',App.view.widgets.BrowseController,{control:{'#':{reset:'refresh'}},refresh:function(){var a=this.getViewModel()},doToggle:function(e,a){var c=this.lookup('upchart'),b=c.getInteraction('panzoom'),d=c.getInteraction('crosshair');b.setEnabled(!!a);d.setEnabled(e);if(a){b.setZoomOnPan(a==='zoom')}},onCrosshair:function(){this.doToggle(!0,!1)},onPan:function(){this.doToggle(!1,'pan')},onZoom:function(){this.doToggle(!1,'zoom')},tooltipRender:function(c,a,d){var e=d.field;var b='<div><b>P/P '+a.get('province')+'</b> / '+a.get('intitule')+':</div><ul>';b+='<li>Rserve: '+a.get('reserve_mois')+' mois</li>';b+='<li>Epuisement le: '+Ext.Date.format(a.get('date_epuisement'),'d/M/Y')+'</li></ul>';c.setHtml(b)}},0,0,0,0,['controller.upchart'],0,[App.view.monitoring.chart,'ChartController'],0);Ext.cmd.derive('App.view.monitoring.chart.ChartModel',Ext.app.ViewModel,{data:{groupBy:'region',sortOrder:null,filteredBy:null,delegation_id:null,filters:null,count:null},stores:{unites:{type:'projets',autoLoad:!0,remoteGroup:!1,remoteFilter:!1,remoteSort:!1,pageSize:0,clearOnPageLoad:!1,sorters:[{property:'region_order',direction:'ASC'}],filters:[{property:'est_ouverte',value:!0},{property:'est_resiliee',value:!1}],groupers:['plan_actions','region','province','commune'],listeners:{refresh:'onStoreRefresh',buffer:100}},delegations:{type:'delegations',remoteSort:!0,remoteFilter:!0,autoLoad:!0,sorters:[{property:'date_delegation',direction:'DESC'}],filters:[{property:'est_effective',value:!1}]},annees:{type:'annees',autoLoad:!0},regions:{type:'regions',autoLoad:!0},provinces:{type:'provinces',autoLoad:!0},fondations:{type:'fondations',autoLoad:!0},statuts:{type:'statuts',autoLoad:!0}}},0,0,0,0,['viewmodel.upchart'],0,[App.view.monitoring.chart,'ChartModel'],0);Ext.cmd.derive('App.view.unite.BrowseToolbar',App.view.widgets.BrowseToolbar,{items:{search:null,search_panel:{xtype:'container',weight:0,margin:'0 8 0 0',autoSize:!0,width:154,items:[{xtype:'searchfield',reference:'search',placeholder:'Rechercher',userCls:'expandable',bind:'{filters.search}'}]},pa:{xtype:'combobox',weight:1,width:85,valueField:'value',displayField:'value',placeholder:'PA',queryMode:'local',bind:{selection:'{filters.plan_actions}',store:'{annees}'}},province:{xtype:'combobox',weight:4,valueField:'value',displayField:'label',placeholder:'P/P',queryMode:'local',bind:{selection:'{filters.province}',store:'{provinces}'}},fp:{xtype:'combobox',weight:5,width:85,valueField:'value',displayField:'label',placeholder:'FP',queryMode:'local',bind:{selection:'{filters.fondation_partenaire}',store:'{fondations}'}},statut:{xtype:'selectfield',weight:6,placeholder:'Ouverture',width:120,options:[{text:'Toutes UP',value:null},{text:'Ouvertes',value:!0},{text:'Non Ouvertes',value:!1}],bind:{selection:'{filters.est_ouverte}'}},fonctionnel:{xtype:'selectfield',weight:6,placeholder:'Oprationnalit',width:120,options:[{text:'Toutes UP',value:null},{text:'Oprationnelles',value:!0},{text:'Non Oprationnelles',value:!1}],bind:{selection:'{filters.est_ouverte_fp}'}},show_effectifs:{xtype:'checkbox',weight:8,boxLabel:'Affich. Effectifs Prc. Anne',checked:!1,bind:{checked:'{showEffectifs}'}},create:{xtype:'button',iconCls:'x-fa fa-plus',handler:'onCreate',text:'Ajouter Unite',weight:40,bind:{hidden:'{user.role !== 4 && user.role > 1}'}},upload:{iconCls:'x-fa fa-upload',handler:'importFile',text:'Importer Donnes',weight:50,bind:{hidden:'{user.role > 1}'}}}},0,['unitebrowsetoolbar'],['widget','component','container','toolbar','unitebrowsetoolbar'],{'widget':!0,'component':!0,'container':!0,'toolbar':!0,'unitebrowsetoolbar':!0},['widget.unitebrowsetoolbar'],0,[App.view.unite,'BrowseToolbar'],0);Ext.cmd.derive('App.view.monitoring.chart.ChartToolbar',App.view.unite.BrowseToolbar,{items:{toggleGrouping:null,create:null,sync:null,search_panel:null,search:null,statut:null,upload:null}},0,['upcharttoolbar'],['widget','component','container','toolbar','unitebrowsetoolbar','upcharttoolbar'],{'widget':!0,'component':!0,'container':!0,'toolbar':!0,'unitebrowsetoolbar':!0,'upcharttoolbar':!0},['widget.upcharttoolbar'],0,[App.view.monitoring.chart,'ChartToolbar'],0);Ext.cmd.derive('App.view.monitoring.Home',Ext.tab.Panel,{controller:'monitoringhome',viewModel:{type:'monitoringhome'},config:{route:null},listeners:{show:'onShow'},ui:'navigation',margin:12,bodyBorder:!0,shadow:!0,scrollable:!0,defaults:{bodyPadding:6,scrollable:!1,tabConfig:{plugins:'responsive',responsiveConfig:{wide:{iconAlign:'left',textAlign:'left'},tall:{iconAlign:'top',textAlign:'center',width:120}}}},tabBar:{defaultTabUI:'flat',ui:'flat',layout:{pack:'start'}},tabBarHeaderPosition:1,titleRotation:0,tabRotation:0,responsiveConfig:{tall:{headerPosition:'top'},wide:{headerPosition:'left'}},items:[{title:'Liste des UP Ouvertes',layout:'fit',items:[{xtype:'uplistbrowse'}]},{title:'Graphique',layout:'fit',items:[{xtype:'upchart'}]}]},0,['monitoringhome'],['widget','component','container','tabpanel','monitoringhome'],{'widget':!0,'component':!0,'container':!0,'tabpanel':!0,'monitoringhome':!0},['widget.monitoringhome'],0,[App.view.monitoring,'Home'],0);Ext.cmd.derive('App.view.monitoring.HomeController',Ext.app.ViewController,{control:{'#':{reset:'refresh'}},onShow:function(){this.refresh()},refresh:function(){var a=this.getViewModel()}},0,0,0,0,['controller.monitoringhome'],0,[App.view.monitoring,'HomeController'],0);Ext.cmd.derive('App.view.widgets.ShowHeader',Ext.Container,{cls:'show-header',weighted:!0,layout:{type:'hbox',align:'center'},items:{back:{xtype:'button',iconCls:'x-fa fa-chevron-left',cls:'no-print',handler:'onReturnBackTap',toolTip:'Retour  la Page Prcdante',ui:'block',platformConfig:{phone:{hidden:!0}}},title:{xtype:'component',userCls:'header-title',flex:1,bind:{record:'{record}'}},edit:{xtype:'button',iconCls:'x-fa fa-edit',cls:'no-print',handler:'onEditTap',text:'Modifier',weight:10,ui:'flat',platformConfig:{phone:{hidden:!0}}},remove:{xtype:'button',iconCls:'x-fa fa-remove',cls:'no-print',handler:'onDeleteTap',text:'Supprimer',weight:20,ui:'flat',platformConfig:{phone:{hidden:!0}}}}},0,['showheader'],['widget','component','container','showheader'],{'widget':!0,'component':!0,'container':!0,'showheader':!0},['widget.showheader'],0,[App.view.widgets,'ShowHeader'],0);Ext.cmd.derive('App.view.monitoring.HomeHeader',App.view.widgets.ShowHeader,{cls:'show-header',items:{title:{html:'<div class="icon x-fa fa-line-chart"></div><div class="name">Suivi Financier</div><div class="desc">Tableau de Bord<div>'},edit:null,remove:null}},0,['monitoringhomeheader'],['widget','component','container','showheader','monitoringhomeheader'],{'widget':!0,'component':!0,'container':!0,'showheader':!0,'monitoringhomeheader':!0},['widget.monitoringhomeheader'],0,[App.view.monitoring,'HomeHeader'],0);Ext.cmd.derive('App.view.monitoring.HomeModel',Ext.app.ViewModel,{},0,0,0,0,['viewmodel.monitoringhome'],0,[App.view.monitoring,'HomeModel'],0);Ext.cmd.derive('App.view.monitoring.calendar.Calendar',Ext.calendar.panel.Panel,{config:{calendarList:{padding:8},titleBar:{xtype:'toolbar',items:[{xtype:'button',iconCls:'x-fa fa-download',tooltip:'Exporter sous excel',handler:'exportToXlsx'}]},todayButton:{xtype:'button',text:"Aujourd'Hui",margin:'0 10 0 0'},sideBar:{ui:'default',bodyPadding:0,title:'Planning'},sheet:{title:'Calendrier',ui:'dark'},sideBarHeader:{weight:-1,margin:'0 0 3em 0'}},privates:{attachHeader:function(a){a.items.unshift(this.getSideBarHeader());return a},createSheet:function(){return this.attachHeader(Ext.calendar.panel.Panel.prototype.createSheet.call(this))},createSideBar:function(){return this.attachHeader(Ext.calendar.panel.Panel.prototype.createSideBar.call(this))}}},0,['upcalendar'],['widget','component','container','panel','calendar','upcalendar'],{'widget':!0,'component':!0,'container':!0,'panel':!0,'calendar':!0,'upcalendar':!0},['widget.upcalendar'],0,[App.view.monitoring.calendar,'Calendar'],0);Ext.cmd.derive('App.view.monitoring.calendar.Schedule',Ext.Panel,{reference:'calendar',controller:'upschedule',viewModel:{type:'upschedule'},layout:'fit',minHeight:550,items:[{xtype:'upcalendar',reference:'calendarpanel',views:{week:{xtype:'calendar-week',titleTpl:'{start:date("j M")} - {end:date("j M")}',label:'Semaine',weight:15,dayHeaderFormat:'D d',firstDayOfWeek:1,visibleDays:5,startTime:9,endTime:18},month:{xtype:'calendar-month',titleTpl:'{intitule}',label:'Mois',weight:30,firstDayOfWeek:1}},timezoneOffset:0,bind:{store:'{unites}'}}]},0,['upschedule'],['widget','component','container','panel','upschedule'],{'widget':!0,'component':!0,'container':!0,'panel':!0,'upschedule':!0},['widget.upschedule'],0,[App.view.monitoring.calendar,'Schedule'],0);Ext.cmd.derive('App.view.monitoring.calendar.ScheduleController',App.view.widgets.ShowController,{control:{'#':{reset:'refresh'}},onShow:function(){this.refresh()},refresh:function(){var a=this.getViewModel()},onStoreRefresh:function(b){var a=this.getView(),c=this.getViewModel();a.setMasked(!1)}},0,0,0,0,['controller.upschedule'],0,[App.view.monitoring.calendar,'ScheduleController'],0);Ext.cmd.derive('App.view.monitoring.calendar.ScheduleModel',Ext.app.ViewModel,{stores:{unites:{type:'unites',autoLoad:!0,remoteGroup:!1,remoteFilter:!1,remoteSort:!1,pageSize:0,clearOnPageLoad:!1,sorters:[{property:'date_epuisement',direction:'ASC'}],filters:[{property:'est_ouverte',value:!0},{property:'est_resiliee',value:!1}],groupers:['plan_actions','region','province','commune'],listeners:{refresh:'onStoreRefresh',buffer:100}},annees:{type:'annees',autoLoad:!0},regions:{type:'regions',autoLoad:!0},provinces:{type:'provinces',autoLoad:!0},fondations:{type:'fondations',autoLoad:!0},statuts:{type:'statuts',autoLoad:!0}}},0,0,0,0,['viewmodel.upschedule'],0,[App.view.monitoring.calendar,'ScheduleModel'],0);var columns=[{text:'Intitul',dataIndex:'intitule',align:'left',minWidth:300,cell:{encodeHtml:!1},tpl:'<a class="item-title" href="#{url}">{intitule}</a>'},{text:'PA',dataIndex:'plan_actions',width:60},{text:'Localisation',columns:[{text:'Rgion',dataIndex:'region'},{text:'P/P',dataIndex:'province'},{text:'Douar',dataIndex:'douar_quartier'}]},{text:'Date Ouverture',dataIndex:'date_ouverture'}];Ext.cmd.derive('App.view.monitoring.stats.Pivot',App.view.unite.Browse,{controller:{type:'upstatspivot',events:['showdrilldownpanel','hidedrilldownpanel']},viewModel:{type:'upstatspivot'},title:'Statistiques Crdits de Fonctionnement',cls:'unites-pivot',tbar:{xtype:'uplistbrowsetoolbar'},layout:'fit',scrollable:!0,fields:{id:{property:'id'},plan_actions:{property:'plan_actions'},fondation_partenaire:{property:'fondation_partenaire'},region:{property:'region'},province:{property:'province'}},header:{items:[{xtype:'button',iconCls:'x-fa fa-download',tooltip:'Exporter sous excel',handler:'exportDocument',ui:'block',weigth:10},{xtype:'button',iconCls:'x-fa fa-gear',tooltip:'Configurer',handler:'showConfigurator',ui:'block',weigth:20}]},items:[{xtype:'pivotgrid',shadow:'true',reference:'pivotgrid',enableLocking:!0,plugins:{pivotdrilldown:{columns:columns},pivotexporter:!0,pivotconfigurator:!0},matrix:{type:'local',store:{type:'unites',pageSize:0,autoLoad:!0,filters:[{property:'est_ouverte',value:!0},{property:'est_resiliee',value:!1},{property:'montant_delegue_fct',operator:'>',value:0}]},enableLocking:!0,textRowLabels:'',compactViewColumnWidth:360,viewLayoutType:'compact',calculateAsExcel:!0,textGrandTotalTpl:'Total gnral',colGrandTotalsPosition:'first',colSubTotalsPosition:'first',aggregate:[{dataIndex:'id',header:'Nbre UPs',aggregator:'count',align:'center',renderer:Ext.util.Format.numberRenderer('0'),width:60},{dataIndex:'nbre_salles',header:'Nbre Salles',aggregator:'sum',align:'center',renderer:Ext.util.Format.numberRenderer('0'),width:60},{dataIndex:'montant_delegue_fct',header:'Montant Dlgu / Fct',aggregator:'sum',align:'center',renderer:Ext.util.Format.numberRenderer('0,000'),width:100},{dataIndex:'consommation',header:'Consom. Fct / Thorique',aggregator:'sum',align:'center',renderer:Ext.util.Format.numberRenderer('0,000'),width:100},{dataIndex:'solde',header:'Solde',aggregator:'sum',align:'center',renderer:Ext.util.Format.numberRenderer('0,000'),width:100}],leftAxis:[{dataIndex:'region',header:'Rgion',locked:!0},{dataIndex:'province',header:'P/P',sortable:!1,locked:!0}],topAxis:[{dataIndex:'plan_actions',header:'PA',labelRenderer:'yearLabelRenderer'}]},listeners:{documentsave:'onDocumentSave',beforedocumentsave:'onBeforeDocumentSave'}}]},0,['upstatspivot'],['widget','component','container','panel','browse','unitebrowse','upstatspivot'],{'widget':!0,'component':!0,'container':!0,'panel':!0,'browse':!0,'unitebrowse':!0,'upstatspivot':!0},['widget.upstatspivot'],0,[App.view.monitoring.stats,'Pivot'],0);Ext.cmd.derive('App.view.monitoring.stats.PivotController',App.view.widgets.BrowseController,{getStore:function(){var c=this.lookup('pivotgrid'),a=c.getMatrix(),b=a.store;return b},showConfigurator:function(){this.lookup('pivotgrid').showConfigurator()},yearLabelRenderer:function(a){return a},monthLabelRenderer:function(a){return Ext.Date.monthNames[a]},coloredRenderer:function(a,e,c,b,d){b.setStyle(Ext.String.format('color: {0};',a>500?'green':'red'));return Ext.util.Format.number(a,'0,000.00')},exportDocument:function(c){var b=this.lookup('pivotgrid'),a=this.getView().getTitle();b.saveDocumentAs({type:'excel07',title:a,fileName:a+'.xlsx'}).then(null,this.onError)},onError:function(a){Ext.Msg.alert('Erreur',typeof a==='string'?a:'Erreur inconnue')},updateFilters:function(i){var j=this.getView(),c=this.getStore(),k=this.getViewModel(),f=c&&c.getFilters(),b=k.get('filters'),g=j.getFields(),h=!!i,e,a;if(b){if(typeof b['search']==='string'&&b['search'].length<=3&&b['search'].length>0){return}}else {b={};Ext.Object.each(g,function(c,a){if(c==='est_depense_locale'){return}b[c]=typeof a.defaultValue!=='undefined'?a.defaultValue:null})}if(!f){return}var d=b['statut'];if(d&&d.isModel){d=d.get('value')}else {d=null}Ext.Object.each(g,function(g,j){a=b[g];if(a&&a.isModel){a=a.get('value')}g=j.property||g;e=f.get(g);if(g==='est_annule'&&typeof a==='undefined'){a=!1}if((e&&e.getValue())==a){return}h=!0;if(g==='est_sousunite'&&a){a=null}if(g==='est_annule'){if(d!==null){return}if(a==!0){c.removeFilter('statut',!0)}else {c.filter({property:'statut',operator:'notlike',value:'Annul'})}}else {if(a==null){c.removeFilter(g,!0)}else {c.filter(g,a,!0)}}});if(h){c.removeAll();c.load()}},onClearFiltersTap:function(){this.getViewModel().set('filters',{'est_sousunite':!1,'est_annule':!1})},__getPivotGridOf:function(f,b){var h=this.lookup('pivotgrid'),e=h.getMatrix(),d=e.store;d.group(f);var g=d.getGroups().items,c=[],a=Ext.util.Format.number;g.forEach(function(d,g){var e={label:d.getGroupKey(),count:d.getCount(),montant_global:a(d.sum('montant_global'),'0.000'),part_INDH:a(d.sum('part_INDH'),'0.000'),effet_levier:a(d.sum('effet_levier'),'0.000'),contribution_beneficiaires:a(d.sum('contribution_beneficiaires'),'0.000'),pop_benef_total:a(d.sum('pop_benef_total'),'0.000')};if(b&&b.length){}c.push(e)});return c}},0,0,0,0,['controller.upstatspivot'],0,[App.view.monitoring.stats,'PivotController'],0);Ext.cmd.derive('App.view.monitoring.stats.PivotModel',Ext.app.ViewModel,{stores:{annees:{type:'annees',autoLoad:!0},regions:{type:'regions',autoLoad:!0},provinces:{type:'provinces',autoLoad:!0},fondations:{type:'fondations',autoLoad:!0}}},0,0,0,0,['viewmodel.upstatspivot'],0,[App.view.monitoring.stats,'PivotModel'],0);Ext.cmd.derive('App.view.monitoring.up.Browse',App.view.widgets.Browse,{stateId:'upBrowse',stateful:!0,controller:'upbrowse',viewModel:{type:'upbrowse'},bind:{title:'{count} UPs affichs'},fields:{id:{property:'id'},plan_actions:{property:'plan_actions'},fondation_partenaire:{property:'fondation_partenaire'},region:{property:'region'},province:{property:'province'},type_unite:{property:'type_unite'},statut:{property:'statut'},delegation:{property:'delegation_id'}},layout:'fit',items:[{xtype:'treegroupedgrid',reference:'upsList',emptyText:'Aucun UP correspondant  votre recherche',loadingText:'Chargement...',bind:'{unites}',ui:'listing',syncRowHeight:!1,startCollapsed:!0,groupHeaderTpl:'{name} ({group.length} UPs)',groupSummaryTpl:'Total: {name}',summaryTpl:'Total: {store.data.length} UPs',summaryPosition:'bottom',title:' ',titleBar:{shadow:!1,docked:'bottom',items:[{xtype:'button',align:'right',text:'Ligne Total',menu:{defaults:{handler:'setSummaryPosition'},items:[{text:'Bas Ecran',sum:'docked'},{text:'Haut',sum:'top'},{text:'Bas',sum:'bottom'},{text:'Cache',sum:'hidden'}]}},{xtype:'button',align:'right',text:'Groupes',menu:{items:[{text:'Dvelopper Tout',handler:'expandAll'},{text:'Rduire Tout',handler:'collapseAll'}]}},{align:'right',xtype:'button',iconCls:'x-fa fa-download',tooltip:'Exporter sous excel',handler:'exportToXlsx'}]},plugins:{gridviewoptions:!0,gridexporter:!0,groupingpanel:!0,gridsummaries:!0,gridfilters:!0,rowoperations:{operation:{text:'Oprations',ui:'alt',menu:[{text:'Ajouter  une Dlgation',iconCls:'x-fa fa-money-bill',handler:'addToDelegationLot'}]}}},listeners:{documentsave:'onDocumentSave',beforedocumentsave:'onBeforeDocumentSave'},columnLines:!0,rowLines:!0,loadMask:!0,multiColumnSort:!0,selectable:{rows:!0},columns:[{text:'PA',dataIndex:'plan_actions',groupable:!0,filterType:'list',flex:2},{text:'Rgion',dataIndex:'region',groupable:!0,filterType:'list'},{text:'P/P',dataIndex:'province',groupable:!0,filterType:'list'},{text:'Commune',dataIndex:'commune'},{text:'Douar / Quartier',dataIndex:'intitule',align:'left',filterType:'string'},{text:'FP',dataIndex:'fondation_partenaire',width:60,filterType:'list'},{xtype:'numbercolumn',text:'Nbre Salles',dataIndex:'nbre_salles',format:'0',align:'center',summary:'sum'},{xtype:'datecolumn',text:'Date Ouverture',dataIndex:'date_ouverture',exportStyle:{format:'Medium Date',alignment:{horizontal:'Center'}},minWidth:95,format:'d/m/Y',filterType:'date'},{xtype:'numbercolumn',text:'Age',dataIndex:'age_ans',align:'center',format:'0.0',filterType:'number'},{text:'Nbre Saisons Y2D',dataIndex:'age_saisons_y2d',align:'center',xtype:'numbercolumn',format:'0',filterType:'number'},{text:'Nbre Saisons Fin Anne',dataIndex:'age_saisons_decembre',align:'center',xtype:'numbercolumn',format:'0',filterType:'number'},{xtype:'numbercolumn',text:'Montant Dlgu / Fct',dataIndex:'montant_delegue_fct',format:'0,000.00',align:'right',summary:'sum',filterType:'number',exportStyle:{format:'General Number',alignment:{horizontal:'Right'}}},{text:'Consom. Fct / Thorique',dataIndex:'consommation',xtype:'numbercolumn',format:'0,000.00',align:'right',filterType:'number',exportStyle:{format:'General Number',alignment:{horizontal:'Right'}}},{text:'Solde',dataIndex:'solde',xtype:'numbercolumn',format:'0,000.00',align:'right',summary:'min',filterType:'number',exportStyle:{format:'General Number',alignment:{horizontal:'Right'}}},{text:'Nbre Mois Rserve',dataIndex:'reserve_mois',align:'center',xtype:'numbercolumn',format:'0',filterType:'number',summary:'min'},{xtype:'datecolumn',text:'Date Epuisement',dataIndex:'date_epuisement',exportStyle:{format:'Medium Date',alignment:{horizontal:'Center'}},minWidth:95,format:'d/m/Y',filterType:'date'}]}]},0,['upbrowse'],['widget','component','container','panel','browse','upbrowse'],{'widget':!0,'component':!0,'container':!0,'panel':!0,'browse':!0,'upbrowse':!0},['widget.upbrowse'],0,[App.view.monitoring.up,'Browse'],0);Ext.cmd.derive('App.view.monitoring.up.BrowseController',App.view.unite.BrowseController,{control:{'#':{reset:'refresh'}},grid:null,reserveTpl:'<span style="color:{value:sign("${red}", "${green}")}">{text} jours</span>',exportToXlsx:function(){var b=this,c=this.getView(),a=this.getViewModel().getStore('unites');if(a.getPageSize()===0){b._exportGrid('upsList')}else {a.setPageSize(0);a.load({scope:b,callback:function(){b._exportGrid('upsList')}})}},getGrid:function(){if(this.grid){return this.grid}this.grid=this.lookup('upsList');return this.grid},summarizeUPs:function(b,a){return a.records.length+' UPs'},expandAll:function(){this.getGrid().expandAll()},collapseAll:function(){globalThis.debug=this;this.getGrid().collapseAll()},setSummaryPosition:function(a){this.getGrid().setSummaryPosition(a.sum)}},0,0,0,0,['controller.upbrowse'],0,[App.view.monitoring.up,'BrowseController'],0);Ext.cmd.derive('App.view.monitoring.up.BrowseModel',Ext.app.ViewModel,{data:{groupBy:'region',sortOrder:null,filteredBy:null,delegation_id:null},stores:{unites:{type:'unites',autoLoad:!0,remoteGroup:!1,remoteFilter:!1,remoteSort:!1,pageSize:0,clearOnPageLoad:!1,filters:[{property:'est_ouverte',value:!0},{property:'est_resiliee',value:!1},{property:'plan_actions',value:'2019'}],groupers:['plan_actions','region','province'],listeners:{refresh:'onStoreRefresh',buffer:100}},delegations:{type:'delegations',remoteSort:!0,remoteFilter:!0,autoLoad:!0,sorters:[{property:'date_delegation',direction:'DESC'}],filters:[{property:'est_effective',value:!1}]},annees:{type:'annees',autoLoad:!0},regions:{type:'regions',autoLoad:!0},provinces:{type:'provinces',autoLoad:!0},fondations:{type:'fondations',autoLoad:!0},statuts:{type:'statuts',autoLoad:!0}}},0,0,0,0,['viewmodel.upbrowse'],0,[App.view.monitoring.up,'BrowseModel'],0);Ext.cmd.derive('App.view.monitoring.uplist.BrowseToolbar',App.view.widgets.BrowseToolbar,{items:{search:null,pa:{xtype:'combobox',weight:10,valueField:'value',displayField:'value',placeholder:'PA',queryMode:'local',bind:{selection:'{filters.plan_actions}',store:'{annees}'}},fp:{xtype:'combobox',weight:11,valueField:'value',displayField:'label',placeholder:'FP',queryMode:'local',bind:{selection:'{filters.fondation_partenaire}',store:'{fondations}'}},region:{xtype:'combobox',weight:12,valueField:'value',displayField:'value',placeholder:'Rgion',queryMode:'local',bind:{selection:'{filters.region}',store:'{regions}'}},province:{xtype:'combobox',weight:13,valueField:'value',displayField:'value',placeholder:'P/P',queryMode:'local',bind:{selection:'{filters.province}',store:'{provinces}'}},toggleGrouping:null}},0,['uplistbrowsetoolbar'],['widget','component','container','toolbar','uplistbrowsetoolbar'],{'widget':!0,'component':!0,'container':!0,'toolbar':!0,'uplistbrowsetoolbar':!0},['widget.uplistbrowsetoolbar'],0,[App.view.monitoring.uplist,'BrowseToolbar'],0);Ext.cmd.derive('App.view.pages.BlankPage',Ext.Container,{layout:{type:'vbox',pack:'center',align:'center'},items:[{cls:'blank-page-container',html:"<div class='fa-outer-class'><span class='x-fa fa-clock-o'></span></div><h1>Coming Soon!</h1><span class='blank-page-text'>Stay tuned for updates</span>"}]},0,['pageblank'],['widget','component','container','pageblank'],{'widget':!0,'component':!0,'container':!0,'pageblank':!0},['widget.pageblank'],0,[App.view.pages,'BlankPage'],0);Ext.cmd.derive('App.view.pages.ErrorBase',Ext.Container,{layout:{type:'vbox',align:'center',pack:'center'},cls:'error-page-container',defaults:{xtype:'label'}},0,0,['widget','component','container'],{'widget':!0,'component':!0,'container':!0},0,0,[App.view.pages,'ErrorBase'],0);Ext.cmd.derive('App.view.pages.Error403',App.view.pages.ErrorBase,{items:[{cls:'error-page-top-text',html:'403'},{cls:'error-page-desc',html:"<p>Dsol, votre demande ne peut pas etre traite.<br/>Vous ne possdez pas les autorisations d'accs suffisantes !</p><p>Revenir  la <a href='#home'> page d'accueil </a></p>"}]},0,['page403'],['widget','component','container','page403'],{'widget':!0,'component':!0,'container':!0,'page403':!0},['widget.page403'],0,[App.view.pages,'Error403'],0);Ext.cmd.derive('App.view.pages.Error404',App.view.pages.ErrorBase,{items:[{cls:'error-page-top-text',html:'404'},{cls:'error-page-desc',html:'<p>Attention, cette page n\'existe pas !</p><p>Retour  la  <a href="#home"> Page d\'accueil </a></p>'}]},0,['page404'],['widget','component','container','page404'],{'widget':!0,'component':!0,'container':!0,'page404':!0},['widget.page404'],0,[App.view.pages,'Error404'],0);Ext.cmd.derive('App.view.pages.Error500',App.view.pages.ErrorBase,{items:[{cls:'error-page-top-text',html:'500'},{cls:'error-page-desc',html:'<p>Something went wrong and server could not process your request.</p><p>Try going back to our <a href="#dashboard"> Home page </a></p>'}]},0,['page500'],['widget','component','container','page500'],{'widget':!0,'component':!0,'container':!0,'page500':!0},['widget.page500'],0,[App.view.pages,'Error500'],0);Ext.cmd.derive('App.view.phone.history.Browse',App.view.history.Browse,{items:[{xtype:'list',bind:'{history}',emptyText:'No activity was found',striped:!0,grouped:!0,ui:'listing',selectable:{disabled:!0},plugins:[{type:'listpaging',autoPaging:!0},{type:'listswiper',right:[{iconCls:'x-fa fa-trash',commit:'onDeleteAction',undoable:!0,text:'Delete',ui:'remove'}]}],itemTpl:['<div class="history-visual">','<span class="action action-{type} {type:actionIconCls}"></span>','<div class="picture" style="background-image: url({person.picture})"></div>','</div>','<div class="item-details">','<div class="item-title">{person.fullname}</div>','<div class="item-caption">{subject}</div>','</div>','<div class="item-stats">','<div class="date">{created:date("Y/m/d")}</div>','<div class="time">{created:date("H:i")}</div>','</div>']}]},0,0,['widget','component','container','panel','browse','historybrowse'],{'widget':!0,'component':!0,'container':!0,'panel':!0,'browse':!0,'historybrowse':!0},0,0,[App.view.phone.history,'Browse'],0);Ext.cmd.derive('App.view.phone.main.Main',Ext.Container,{controller:'phone-main',cls:'phone-profile',layout:'card',items:[{xtype:'panel',layout:'card',reference:'views',defaults:{header:{ui:'dark',defaults:{ui:'flat dark large'},items:{menu:{xtype:'button',iconCls:'x-fa fa-bars',weight:-10,handler:function(){}}}}},lbar:{xtype:'mainmenu',reference:'mainmenu',ui:'dark slide',zIndex:4,items:{trigger:!1}}},{xtype:'container',reference:'navigation',layout:'card',defaults:{header:{ui:'dark',defaults:{ui:'flat dark large'},items:{back:{xtype:'button',iconCls:'x-fa fa-chevron-left',weight:-10,handler:function(){}}}}}}]},0,0,['widget','component','container'],{'widget':!0,'component':!0,'container':!0},0,0,[App.view.phone.main,'Main'],0);Ext.cmd.derive('App.view.phone.main.MainController',App.view.main.MainController,{getContainerForViewId:function(b){var a=/^(user|user|office|organization)(create|edit|show)$/;return this.lookup(b.match(a)?'navigation':'views')}},0,0,0,0,['controller.phone-main'],0,[App.view.phone.main,'MainController'],0);Ext.cmd.derive('App.view.phone.user.Browse',App.view.user.Browse,{controller:'phone-userbrowse',layout:'fit',header:{items:{create:{xtype:'button',iconCls:'x-fa fa-plus',handler:'onCreate',weight:10}}},items:[{xtype:'list',reference:'list',bind:'{users}',striped:!0,grouped:!0,ui:'listing',selectable:{disabled:!0},plugins:[{type:'listpaging',autoPaging:!0},{type:'listswiper',left:[{iconCls:'x-fa fa-skype',commit:'onSkypeAction',text:'Skype',ui:'skype',data:{subject:'skype'}},{iconCls:'x-fa fa-envelope-o',commit:'onEmailAction',text:'Email',ui:'email',data:{subject:'email'}}],right:[{iconCls:'x-fa fa-pencil',commit:'onEditAction',text:'Edit',ui:'edit'}],widget:{xtype:'userlistswiperitem'}}],itemConfig:{xtype:'listitem',items:[{xtype:'button',handler:'onPhoneTap',iconCls:'x-fa fa-phone',userCls:'x-item-no-tap',docked:'right',ui:'flat'}]},itemTpl:['<div class="picture" style="background-image:url({picture})"></div>','<div class="item-details">','<div class="item-title">{fullname}</div> ','<div class="item-caption">{title}</div>','</div>'],listeners:{childtap:'onChildActivate'}}]},0,0,['widget','component','container','panel','browse'],{'widget':!0,'component':!0,'container':!0,'panel':!0,'browse':!0},0,0,[App.view.phone.user,'Browse'],0);Ext.cmd.derive('App.view.user.BrowseController',App.view.widgets.BrowseController,{control:{'#':{reset:'refresh'}},refresh:function(){var a=this.getViewModel()},onCreate:function(){this.redirectTo('user/create')},exportToXlsx:function(){var b=this,c=this.getView(),a=this.getViewModel().getStore('users');if(a.getPageSize()===0){b._exportGrid('usersList')}else {a.setPageSize(0);a.load({scope:b,callback:function(){b._exportGrid('usersList')}})}}},0,0,0,0,['controller.userbrowse'],0,[App.view.user,'BrowseController'],0);Ext.cmd.derive('App.view.phone.user.BrowseController',App.view.user.BrowseController,{onPhoneTap:function(d,b){var c=this.lookup('list'),a=c.mapToRecord(b);this.doAction('phone',a)},onSkypeAction:function(b,a){this.doAction('skype',a.record)},onEmailAction:function(b,a){this.doAction('email',a.record)},doAction:function(b,a){this.fireEvent('actionexec',b,a)}},0,0,0,0,['controller.phone-userbrowse'],0,[App.view.phone.user,'BrowseController'],0);Ext.cmd.derive('App.view.phone.user.BrowseFilters',Ext.Container,{layout:'vbox',items:[{xtype:'searchfield',placeholder:'Search'}]},0,0,['widget','component','container'],{'widget':!0,'component':!0,'container':!0},0,0,[App.view.phone.user,'BrowseFilters'],0);Ext.cmd.derive('App.view.phone.user.ListSwiperItem',Ext.dataview.listswiper.Stepper,{tpl:['<div class="x-text">','<tpl if="text">','<span class="label">{text}</span>','</tpl>','<tpl if="subject">','<span class="subject">{[values[values.subject]]}</span>','</tpl>','</div>']},0,0,['widget','component','container','listswiperitem','listswiperstepper'],{'widget':!0,'component':!0,'container':!0,'listswiperitem':!0,'listswiperstepper':!0},0,0,[App.view.phone.user,'ListSwiperItem'],0);Ext.cmd.derive('App.view.projection.BudgetUtils',Ext.Base,{calcChargesSocialesMensuelles:function(a){var c=Ext.Number.roundToPrecision(a*0.1698,2,'ceil');var d=Ext.Number.roundToPrecision(a*0.0411,2,'ceil');var b=Ext.Number.roundToPrecision(a*0.01368,2,'ceil');return Ext.Number.correctFloat(a+c+d+b)},createSousDelegation:function(a,b,e){if(e){var d=new Date(2023,11,15);if(a.date_delegation>d){a.date_delegation=d}}var f=Ext.create('App.model.Delegation',{tranche_no:a.tranche_no,libelle:a.libelle,plan_actions:a.plan_actions,nature_affectation:a.nature_affectation,date_delegation:a.date_delegation,nbre_mois_fonctionnement:a.nbre_mois_fonctionnement,montant_global:b,montant_effectif:b,unitescount:a.unitescount,sallescount:a.sallescount,provincescount:a.provincescount});var c=Ext.create('App.model.SousDelegation',Object.assign({montant_effectif:b,montant_effectif:b,nbre_ups_concernees:a.unitescount,nbre_salles_concernees:a.sallescount},a));c.setDelegation(f);return c},addManualDelegations:function(f,h,a,e,c,b,d){var g=this;return f.map(function(i,j){return g.createSousDelegation({province_code:i.province_code,tranche_no:a,libelle:e,observations:i.comments,plan_actions:h,nature_affectation:a<=P_TRANCHES.CONSTRUCTION?'Cration':a===P_TRANCHES.EQUIPEMENT?'Equipement':'Fonctionnement',date_delegation:c,unitescount:i.nbre_ups_concernees,sallescount:i.nbre_salles_concernees,provincescount:1},i.montant_effectif*(d||1),b)})},_createDeleg:function(a,f){var c=a===P_TRANCHES.ETUDES||a===P_TRANCHES.CONSTRUCTION?'Cration':a===P_TRANCHES.EQUIPEMENT?'Equipement':'Fonctionnement';var d=App.app.getINDHTranchesStore();var b=0;var e=d.findRecord('value',a).get('label');if(c==='Fonctionnement'){b=a<P_TRANCHES.ANNEE_3?6:12}return {current_tranche:a,tranche_order:f+'_'+a,libelle:e,nature_affectation:c,nbre_mois_fonctionnement:b}},checkUPEligible:function(a,b,k,i,n,j,f,d){if(b===P_TRANCHES.ETUDES){if(a.get('statut')&&a.get('statut')!=='Etudes non encore lances'){return !1}var o=(new Date()).getFullYear();return a.get('plan_actions')>=o}else if(b===P_TRANCHES.CONSTRUCTION){if(["March des travaux en cours d'adjudication",'March des travaux adjugs'].includes(a.get('statut'))===!1){return !1}if(!a.get('cout_travaux_estime')){return !1}return !0}else if(b===P_TRANCHES.EQUIPEMENT||b===P_TRANCHES.TR1){if(a.get('est_resiliee')){return !1}var l=a.get('statut');var m=a.get('tx_avancement_physique');var h=a.get('date_ouverture_prevu');if(l&&m!=null){if(m<90){return !1}if(['Travaux en cours','Travaux achevs','Travaux rceptionns','Remise des cls'].includes(l)){return !1}}if(h&&Ext.Date.diff(new Date(+f),h,'d')>j*30/2){return !1}return !0}else if(b>=P_TRANCHES.TR2){if(!a.get('est_ouverte')||a.get('est_resiliee')||a.get('est_en_arret')){if(d){console.log('pas ouvert')}return !1}if(n){var c=a.get('last_delegation_dt');var e=a.get('last_tranche');var g=e>=P_TRANCHES.TR1?e<P_TRANCHES.ANNEE_3?6:12:0;if(c){var p=Ext.Date.diff(c,f,'mo',0,'ceil');if(g-p>j){this.stats.logs.push([e,g,c,Ext.Date.diff(c,f,'mo',0,'ceil')]);this.stats.date+=1;if(d){console.log('interval not respected')}return !1}}}if(k===1){if(d&&a.get('reserve_mois')>i){console.log('reserve sufficient')}return a.get('reserve_mois')>i?!1:!0}else if(k===2){return !0}return !1}else {if(d){console.log('unkonwn state')}this.stats.bound+=1;return !1}}},0,0,0,0,0,0,[App.view.projection,'BudgetUtils'],0);Ext.cmd.derive('App.view.projection.Cadrage',Ext.Panel,{controller:'cadrage',viewModel:{type:'cadrage'},ui:'light',margin:12,bodyBorder:!0,shadow:!0,layout:'fit',header:{items:[{xtype:'button',handler:'expandAll',iconCls:'x-fa fa-chevron-down',ui:'light',weigth:10,tooltip:'Dvelopper Tout'},{xtype:'button',handler:'collapseAll',iconCls:'x-fa fa-chevron-up',ui:'light',weigth:11,tooltip:'Rduire Tout'},{xtype:'button',iconCls:'x-fa fa-sync',tooltip:'Rinitialiser',handler:'reset',ui:'light',weigth:12},{xtype:'button',iconCls:'x-fa fa-cog',tooltip:'Configurer',handler:'showConfigurator',ui:'light',weigth:20},{xtype:'button',iconCls:'x-fa fa-download',tooltip:'Exporter sous excel',handler:'exportDocument',ui:'light',weigth:30}]},items:[{xtype:'toolbar',docked:'top',ui:'transparent',padding:'5 12',layout:'hbox',shadow:!1,items:[{xtype:'datepickerfield',label:'Fin Priode',labelAlign:'left',dateFormat:'d/m/Y',minDate:new Date(),width:225,bind:'{toDate}'},{xtype:'button',text:'Calculer',ui:'action',handler:'process',width:100,height:35,margin:'0 0 0 5',bind:{disabled:'{isCalculating}'}},'->',{xtype:'checkbox',boxLabel:'Afficher Prog. 2023',boxLabelAlign:'before',tooltip:'',bind:'{showProg2023}',width:190,margin:'0 20 0 0',listeners:{change:'showLF2023',buffer:250}},{xtype:'selectfield',label:'Afficher les montants en',labelAlign:'left',options:[{text:'DH',value:0},{text:'KDH',value:3},{text:'MDH',value:6},{text:'MMDH',value:9}],bind:{value:'{amountDivisor}'},width:250,labelWidth:140,listeners:{buffer:100,change:'updatePivotAmounts'}}]},{xtype:'panel',title:'Hypothses & Paramtres',docked:'bottom',ui:'light',padding:'10 12 35',layout:'hbox',shadow:!0,border:!0,height:'100%',scrollable:!0,collapsible:{dynamic:!0,collapsed:!0,direction:'bottom'},defaults:{flex:1,margin:'0 0 0 10',scrollable:!0,autoSize:!0},items:[{xtype:'fieldset',title:'PA 2023 / UP Supplm. selon Type',defaults:{width:240,labelWidth:140,autoSize:!0},items:[{xtype:'spinnerfield',label:'T1',labelAlign:'left',stepValue:1,cycle:!0,bind:'{pa23_supp_t1}'},{xtype:'spinnerfield',label:'T2',labelAlign:'left',stepValue:1,cycle:!0,bind:'{pa23_supp_t2}'},{xtype:'spinnerfield',label:'T3',labelAlign:'left',stepValue:1,cycle:!0,bind:'{pa23_supp_t3}'},{xtype:'spinnerfield',label:'Amnagement',labelAlign:'left',stepValue:1,cycle:!0,bind:'{pa23_supp_amg}'},{xtype:'spinnerfield',label:'Modulaire T1',labelAlign:'left',stepValue:1,cycle:!0,bind:'{pa23_supp_mod}'}]},{xtype:'fieldset',title:'Cots',defaults:{width:240,labelWidth:140},items:[{xtype:'spinnerfield',label:'Cot des Etudes',labelAlign:'left',stepValue:1,cycle:!0,bind:'{cout_etudes}'},{xtype:'spinnerfield',label:'Cot de Constr. T1',labelAlign:'left',stepValue:1,cycle:!0,bind:'{cout_construction_t1}'},{xtype:'spinnerfield',label:'Cot de Constr. T2',labelAlign:'left',stepValue:1,cycle:!0,bind:'{cout_construction_t2}'},{xtype:'spinnerfield',label:'Cot de Modulaire T1',labelAlign:'left',stepValue:1,cycle:!0,bind:'{cout_modulaire}'},{xtype:'spinnerfield',label:"Cot d'Amngament",labelAlign:'left',stepValue:1,cycle:!0,bind:'{cout_amenagement}'},{xtype:'spinnerfield',label:"Cot d'Equipement",labelAlign:'left',stepValue:1,cycle:!0,bind:'{cout_equipement}'}]},{xtype:'container',defaults:{width:240,labelWidth:140},scrollable:!0,items:[{xtype:'spinnerfield',label:'Cot de Fct. Annuel',labelAlign:'left',stepValue:1,cycle:!0,bind:'{cout_fonctionnement}',listeners:{change:'updateCoutFct',buffer:250}},{xtype:'checkbox',boxLabel:'Appliquer Revalor. Salar.',boxLabelAlign:'before',tooltip:"Prime d'anciennet et Hausse du SMIG",bind:'{appliquerRevalorisation}',width:190,listeners:{change:'updateCoutFct',buffer:250}},{xtype:'component',style:'font-size: 10px',html:"* Prime d'anciennet: 5% de Salaire brut, aprs 2 ans de service, 10% aprs 5 ans.<br/>* Augmentation du SMIG de 5% en Sept. 2022, 5% en Sept. 2023"},{xtype:'component',style:'font-size: 11px; color: red;',bind:{html:'{augmentationsCoutFct}',hidden:'{!appliquerRevalorisation}'}},{xtype:'spinnerfield',label:'SMIG brut (avant sept. 2022)',labelAlign:'left',decimals:2,stepValue:1,cycle:!0,bind:{value:'{smig}',hidden:'{!appliquerRevalorisation}'},listeners:{change:'updateCoutFct',buffer:250}},{xtype:'spinnerfield',label:'Cot de Fct. hors salaires',labelAlign:'left',decimals:2,stepValue:1,cycle:!0,bind:{value:'{cout_fonctionnement_hors_salaires}',hidden:'{!appliquerRevalorisation}'},listeners:{change:'updateCoutFct',buffer:250}},{xtype:'checkbox',boxLabel:'Appliquer 2me Hausse SMIG',boxLabelAlign:'before',bind:'{appliquer2Augmentation}',width:190,bind:{checked:'{appliquer2Augmentation}',value:'{appliquer2Augmentation}',hidden:'{!appliquerRevalorisation}'},listeners:{change:'updateCoutFct',buffer:250}},{xtype:'selectfield',label:'Arrondir sup. Cot Fct.',labelAlign:'left',options:[{text:" l'unit",value:0},{text:' la dizaine',value:-1},{text:' la centaine',value:-2},{text:'au millier',value:-3}],bind:{value:'{roundCoutFct}',hidden:'{!appliquerRevalorisation}'},width:250,labelWidth:115,listeners:{buffer:250,change:'updateCoutFct'}}]},{xtype:'container',flex:1,margin:'0 0 0 5',items:[{xtype:'spinnerfield',label:'Interval Entre Dlg.(Mois)',labelAlign:'left',stepValue:1,cycle:!0,bind:'{interval}',width:250,labelWidth:115},{xtype:'selectfield',label:'Mthode Calc.',labelAlign:'left',options:[{text:'Echance',value:1},{text:'Totalit du Lot',value:2}],bind:'{method}',width:250,labelWidth:115},{xtype:'spinnerfield',label:'Marge (Mois)',labelAlign:'left',stepValue:1,cycle:!0,bind:{value:'{treshould}',hidden:'{method === 2}'},width:250,labelWidth:115},{xtype:'checkbox',boxLabel:'Respect Interval Dlg.',boxLabelAlign:'before',tooltip:"Mme si l'UP est dficitaire, il faut qu'il finisse la priode couverte par la dernire dlgation",bind:'{respectInterval}',width:205},{xtype:'checkbox',boxLabel:'Se Limiter  2 Annes Fct.',boxLabelAlign:'before',bind:'{seulement2AnneesFct}',width:205},{xtype:'spinnerfield',label:'% Quote-Part INDH / Fct > 2ans',labelAlign:'left',stepValue:1,cycle:!0,decimals:2,bind:{value:'{quote_part_INDH}',hidden:'{seulement2AnneesFct}'},width:250,labelWidth:115},{xtype:'checkbox',boxLabel:'Pas de Prenisation au-dela 2023',tooltip:'Pas de dlgations de troisime anne pour les PA 2022 et PA 2023',boxLabelAlign:'before',width:205,bind:{checked:'{pasPerenisationAudela2023}',value:'{pasPerenisationAudela2023}',hidden:'{seulement2AnneesFct}'}},{xtype:'checkbox',boxLabel:'Arrter Dlg. Fct. Fin 2023',boxLabelAlign:'before',tooltip:"Dlguer en totalit le budget de fonctionnement des deux premires annes de fonctionnement avant la fin de l'anne 2023",bind:'{stopDelegationAtEndOf2023}',width:205},{xtype:'checkbox',boxLabel:'Compenser crdits / hors prsc.',boxLabelAlign:'before',tooltip:'Dlguer les crdits pour les UP ayant t finances par des crdits INDH hors prscolaire (Crdits des autres axes)',bind:'{doCompensation}',width:205}]}]},{xtype:'pivotgrid',reference:'pivotgrid',emptyText:'Aucune Dpense associe  cette Dlgation',bind:'{sousdelegations}',cls:'app-pivot',plugins:{pivotdrilldown:{pageSize:100,panel:{xtype:'panel',hidden:!0,floated:!0,modal:!0,hideOnMaskTap:!0,right:0,height:'100%',showAnimation:{type:'slideIn',duration:250,easing:'ease-out',direction:'left'},hideAnimation:{type:'slideOut',duration:250,easing:'ease-in',direction:'right'},layout:'fit',items:[{docked:'top',xtype:'titlebar',itemId:'title',items:[{align:'right',xtype:'button',iconCls:'x-fa fa-download',tooltip:'Exporter sous excel',handler:'exportToXlsx'},{xtype:'button',text:'Fermer',ui:'action',align:'right',itemId:'done'}]},{xtype:'grid',itemId:'grid',reference:'matchingRecGrid',plugins:{gridpagingtoolbar:!0,gridexporter:!0}}]},columns:[{text:'Date',dataIndex:'delegation.date_delegation',align:'center',minWidth:80,cell:{encodeHtml:!1},tpl:['<tpl for="delegation">','<div class="item-caption">{date_delegation:date("d/m/Y")}</div>','</tpl>']},{text:'Dlgation',dataIndex:'delegation.libelle',align:'center',minWidth:200,cell:{encodeHtml:!1},tpl:['<tpl for="delegation">','<a class="item-title" href="#{url}">{parent.plan_actions} / {libelle}</a>','</tpl>']},{text:'Tranche',dataIndex:'delegation.tranche_libelle',align:'center',minWidth:200,cell:{encodeHtml:!1},tpl:['<tpl for="delegation">','<a class="item-title" href="#{url}">{parent.plan_actions} / {tranche_libelle}</a>','</tpl>']},{text:'Province',dataIndex:'province',align:'center',minWidth:100},{text:'Montant',dataIndex:'montant_effectif',xtype:'numbercolumn',align:'right',format:'0,000',minWidth:100},{text:'Observations',minWidth:100,dataIndex:'observations'},{text:'Nbre UP Concernes',dataIndex:'nbre_ups_concernees',xtype:'numbercolumn',format:'0'},{text:'Nbre Salles Concernes',dataIndex:'nbre_salles_concernees',xtype:'numbercolumn',format:'0'},{text:'Nbre T1',dataIndex:'nbre_t1',xtype:'numbercolumn',format:'0'},{text:'Nbre T2',dataIndex:'nbre_t2',xtype:'numbercolumn',format:'0'},{text:'Nbre T3',dataIndex:'nbre_t3',xtype:'numbercolumn',format:'0'},{text:'Nbre Amg',dataIndex:'nbre_amg',xtype:'numbercolumn',format:'0'}]},pivotexporter:!0,pivotconfigurator:{id:'configurator',fields:[{dataIndex:'plan_actions',header:'PA'},{dataIndex:'axe_intervention',header:"Axe d'intervention"},{dataIndex:'delegation_libelle',header:'Dlgation'},{dataIndex:'tranche_libelle',header:'Tranche'},{dataIndex:'region_order',header:'Rgion',labelRenderer:'orderedLabelRenderer'},{dataIndex:'province_order',header:'P/P',labelRenderer:'orderedLabelRenderer'},{dataIndex:'annee_budgetaire',header:'LF'},{dataIndex:'montant_effectif',header:'Montant',aggregator:'sum',settings:{allowed:'aggregate',aggregators:['sum'],formatters:{0:'number("0")','0,000':'number("0,000")'}}},{dataIndex:'nbre_ups_concernees',header:'Nbre UP',aggregator:'sum',formatter:'number("0,000")',settings:{allowed:['aggregate'],aggregators:['sum'],style:{fontWeight:'bold'},formatters:{0:'number("0")','0,000':'number("0,000")'}}},{dataIndex:'nbre_salles_concernees',header:'Nbre Salles',aggregator:'sum',formatter:'number("0,000")',settings:{allowed:['aggregate'],aggregators:['sum'],style:{fontWeight:'bold'},formatters:{0:'number("0")','0,000':'number("0,000")'}}}]}},matrix:{type:'local',enableLocking:!0,textRowLabels:'',compactViewColumnWidth:260,viewLayoutType:'compact',calculateAsExcel:!0,textGrandTotalTpl:'Total gnral',colGrandTotalsPosition:'last',colSubTotalsPosition:'none',aggregate:[{dataIndex:'nbre_ups_concernees',header:'Nbre UP',aggregator:'sum',formatter:'number("0,000")',width:65},{dataIndex:'montant_effectif',header:'Montant',aggregator:'sum',align:'center',renderer:'montantRenderer',width:90}]},listeners:{}}],defaultCfg:{leftAxis:[{dataIndex:'plan_actions',header:'PA'},{dataIndex:'axe_intervention',header:'Axe Intervention',sortIndex:'tranche_no'},{dataIndex:'tranche_libelle',header:'Tranche',sortIndex:'tranche_no',minWidth:400},{dataIndex:'region_order',header:'Rgion',labelRenderer:'orderedLabelRenderer'},{dataIndex:'province_order',header:'P/P',labelRenderer:'orderedLabelRenderer'}],topAxis:[{dataIndex:'annee_budgetaire',header:'LF'}]},progCfg:{leftAxis:[{dataIndex:'axe_intervention',header:'Axe Intervention',sortIndex:'tranche_no'},{dataIndex:'delegation_libelle',header:'Dlgation'},{dataIndex:'tranche_libelle',header:'Tranche',sortIndex:'tranche_no',minWidth:400},{dataIndex:'region_order',header:'Rgion',labelRenderer:'orderedLabelRenderer'},{dataIndex:'province_order',header:'P/P',labelRenderer:'orderedLabelRenderer'}],topAxis:[{dataIndex:'plan_actions',header:'PA'}]}},0,['cadrage'],['widget','component','container','panel','cadrage'],{'widget':!0,'component':!0,'container':!0,'panel':!0,'cadrage':!0},['widget.cadrage'],0,[App.view.projection,'Cadrage'],0);Ext.cmd.derive('App.view.projection.cadrage.CadrageController',Ext.app.ViewController,{init:function(){Ext.app.ViewController.prototype.init.apply(this,arguments);globalThis.debug=this;this.showLF2023(null,!1);this.getView().setMasked({xtype:'loadmask',indicator:!0,message:'Chargement Donnes...'})},reset:function(){var b=this.getViewModel(),a=b.getStore('sousdelegations');a.rejectChanges()},process:function(k,l){console.debug('process');this.getView().setMasked({xtype:'loadmask',indicator:!0,message:'Calcul...'});var f=this,a=this.getViewModel(),e=a.getStore('unites'),h=a.getStore('sousdelegations'),g=a.getStore('delegationobjets'),d=a.getStore('reportings');a.set('isCalculating',!0);g.removeAll();h.rejectChanges();d.rejectChanges();e.removeAll();var i=this.ups.map(function(a){return a.copy()});e.loadData(i);this.stats.date=0;this.stats.bound=0;var b=math.matrix([a.get('pa23_supp_t1'),a.get('pa23_supp_t2'),a.get('pa23_supp_t3'),a.get('pa23_supp_amg'),a.get('pa23_supp_mod')]);var c=math.sum(b);if(c){var j=Ext.create('App.model.Reporting',{plan_actions:'2023',nbre_programmees:c,nbre_programmees_t1:b.get([0]),nbre_programmees_t2:b.get([1]),nbre_programmees_t3:b.get([2]),nbre_programmees_amg:b.get([3]),nbre_programmees_mod:b.get([4]),nbre_salles:math.sum(math.multiply(b,[1,2,3,1,1])),nbre_etudes_non_lancees:c,date_situation:new Date(),updated:new Date()});d.add(j)}setTimeout(function(){f.calculateProjections()}.bind(f),1000)},ups:[],stats:{date:0,bound:0,dues:[],logs:[]},manual:{supplSMIG2019:[{'province':'Azilal','province_code':34,'nbre_ups_concernees':22,'nbre_salles_concernees':22,'montant_effectif':5500},{'province':'Benslimane','province_code':43,'nbre_ups_concernees':10,'nbre_salles_concernees':11,'montant_effectif':2750},{'province':'Berkane','province_code':13,'nbre_ups_concernees':14,'nbre_salles_concernees':14,'montant_effectif':22750},{'province':'Boulemane','province_code':23,'nbre_ups_concernees':10,'nbre_salles_concernees':11,'montant_effectif':29000},{'province':'Chichaoua','province_code':48,'nbre_ups_concernees':32,'nbre_salles_concernees':32,'montant_effectif':8000},{'province':'Chtouka-At Baha','province_code':62,'nbre_ups_concernees':25,'nbre_salles_concernees':25,'montant_effectif':11750},{'province':'El Jadida','province_code':40,'nbre_ups_concernees':27,'nbre_salles_concernees':27,'montant_effectif':25500},{'province':'Errachidia','province_code':55,'nbre_ups_concernees':26,'nbre_salles_concernees':36,'montant_effectif':35999.54},{'province':'Essaouira','province_code':51,'nbre_ups_concernees':40,'nbre_salles_concernees':40,'montant_effectif':55000},{'province':'Fs','province_code':17,'nbre_ups_concernees':2,'nbre_salles_concernees':5,'montant_effectif':9000},{'province':'Figuig','province_code':16,'nbre_ups_concernees':5,'nbre_salles_concernees':6,'montant_effectif':1500},{'province':'Fquih Ben Salah','province_code':35,'nbre_ups_concernees':24,'nbre_salles_concernees':24,'montant_effectif':39000.75},{'province':'Guercif','province_code':15,'nbre_ups_concernees':6,'nbre_salles_concernees':6,'montant_effectif':1500},{'province':'Ifrane','province_code':20,'nbre_ups_concernees':4,'nbre_salles_concernees':8,'montant_effectif':16000},{'province':'Inezgane-At Melloul','province_code':61,'nbre_ups_concernees':9,'nbre_salles_concernees':9,'montant_effectif':2250},{'province':'Khmisset','province_code':30,'nbre_ups_concernees':21,'nbre_salles_concernees':24,'montant_effectif':72000},{'province':'Khouribga','province_code':37,'nbre_ups_concernees':13,'nbre_salles_concernees':13,'montant_effectif':19500},{'province':'M\u2019diq-Fnideq','province_code':2,'nbre_ups_concernees':7,'nbre_salles_concernees':7,'montant_effectif':15750},{'province':'Mdiouna','province_code':42,'nbre_ups_concernees':16,'nbre_salles_concernees':41,'montant_effectif':10250},{'province':'Mekns','province_code':18,'nbre_ups_concernees':7,'nbre_salles_concernees':9,'montant_effectif':25000},{'province':'Midelt','province_code':57,'nbre_ups_concernees':13,'nbre_salles_concernees':15,'montant_effectif':11250},{'province':'Moulay Yacoub','province_code':21,'nbre_ups_concernees':3,'nbre_salles_concernees':3,'montant_effectif':750},{'province':'Nador','province_code':10,'nbre_ups_concernees':3,'nbre_salles_concernees':3,'montant_effectif':750},{'province':'Nouaceur','province_code':41,'nbre_ups_concernees':8,'nbre_salles_concernees':13,'montant_effectif':3250},{'province':'Ouezzane','province_code':8,'nbre_ups_concernees':8,'nbre_salles_concernees':8,'montant_effectif':24000},{'province':'Rehamna','province_code':52,'nbre_ups_concernees':28,'nbre_salles_concernees':29,'montant_effectif':87000},{'province':'Sal','province_code':27,'nbre_ups_concernees':7,'nbre_salles_concernees':7,'montant_effectif':1750},{'province':'Sefrou','province_code':22,'nbre_ups_concernees':3,'nbre_salles_concernees':3,'montant_effectif':9000},{'province':'Settat','province_code':45,'nbre_ups_concernees':34,'nbre_salles_concernees':34,'montant_effectif':90665.36},{'province':'Sidi Ifni','province_code':69,'nbre_ups_concernees':26,'nbre_salles_concernees':26,'montant_effectif':49125},{'province':'Sidi Slimane','province_code':32,'nbre_ups_concernees':36,'nbre_salles_concernees':48,'montant_effectif':79500},{'province':'Skhirate-Tmara','province_code':28,'nbre_ups_concernees':14,'nbre_salles_concernees':17,'montant_effectif':51000},{'province':'Tanger-Assilah','province_code':1,'nbre_ups_concernees':10,'nbre_salles_concernees':22,'montant_effectif':2750},{'province':'Taourirt','province_code':14,'nbre_ups_concernees':3,'nbre_salles_concernees':3,'montant_effectif':750},{'province':'Tarfaya','province_code':72,'nbre_ups_concernees':2,'nbre_salles_concernees':2,'montant_effectif':500},{'province':'Taroudannt','province_code':63,'nbre_ups_concernees':113,'nbre_salles_concernees':113,'montant_effectif':187750},{'province':'Tata','province_code':65,'nbre_ups_concernees':22,'nbre_salles_concernees':22,'montant_effectif':48000},{'province':'Taza','province_code':25,'nbre_ups_concernees':18,'nbre_salles_concernees':19,'montant_effectif':57000},{'province':'Ttouan','province_code':3,'nbre_ups_concernees':8,'nbre_salles_concernees':8,'montant_effectif':18000},{'province':'Tinghir','province_code':58,'nbre_ups_concernees':83,'nbre_salles_concernees':96,'montant_effectif':186000},{'province':'Youssoufia','province_code':54,'nbre_ups_concernees':29,'nbre_salles_concernees':31,'montant_effectif':7750}],supplSMIG2020:[{'province':'Assa-Zag','province_code':67,'nbre_ups_concernees':1,'nbre_salles_concernees':1,'montant_effectif':250},{'province':'Azilal','province_code':34,'nbre_ups_concernees':102,'nbre_salles_concernees':105,'montant_effectif':26250},{'province':'Bni Mellal','province_code':33,'nbre_ups_concernees':51,'nbre_salles_concernees':51,'montant_effectif':220996.0712},{'province':'Benslimane','province_code':43,'nbre_ups_concernees':15,'nbre_salles_concernees':16,'montant_effectif':4000},{'province':'Berkane','province_code':13,'nbre_ups_concernees':60,'nbre_salles_concernees':60,'montant_effectif':75000},{'province':'Berrechid','province_code':44,'nbre_ups_concernees':45,'nbre_salles_concernees':46,'montant_effectif':34500},{'province':'Boulemane','province_code':23,'nbre_ups_concernees':28,'nbre_salles_concernees':28,'montant_effectif':39000},{'province':'Chichaoua','province_code':48,'nbre_ups_concernees':17,'nbre_salles_concernees':17,'montant_effectif':4250},{'province':'Chtouka-At Baha','province_code':62,'nbre_ups_concernees':8,'nbre_salles_concernees':9,'montant_effectif':4500},{'province':'El Jadida','province_code':40,'nbre_ups_concernees':46,'nbre_salles_concernees':64,'montant_effectif':80000},{'province':'Errachidia','province_code':55,'nbre_ups_concernees':18,'nbre_salles_concernees':22,'montant_effectif':22000},{'province':'Essaouira','province_code':51,'nbre_ups_concernees':82,'nbre_salles_concernees':82,'montant_effectif':123000},{'province':'Fs','province_code':17,'nbre_ups_concernees':11,'nbre_salles_concernees':17,'montant_effectif':12750},{'province':'Figuig','province_code':16,'nbre_ups_concernees':28,'nbre_salles_concernees':30,'montant_effectif':7500},{'province':'Fquih Ben Salah','province_code':35,'nbre_ups_concernees':68,'nbre_salles_concernees':68,'montant_effectif':54526.81},{'province':'Guelmim','province_code':66,'nbre_ups_concernees':1,'nbre_salles_concernees':1,'montant_effectif':1500},{'province':'Guercif','province_code':15,'nbre_ups_concernees':33,'nbre_salles_concernees':34,'montant_effectif':8500},{'province':'Khmisset','province_code':30,'nbre_ups_concernees':32,'nbre_salles_concernees':42,'montant_effectif':21500},{'province':'M\u2019diq-Fnideq','province_code':2,'nbre_ups_concernees':2,'nbre_salles_concernees':3,'montant_effectif':4500},{'province':'Mdiouna','province_code':42,'nbre_ups_concernees':12,'nbre_salles_concernees':13,'montant_effectif':3250},{'province':'Mekns','province_code':18,'nbre_ups_concernees':16,'nbre_salles_concernees':22,'montant_effectif':27250},{'province':'Midelt','province_code':57,'nbre_ups_concernees':37,'nbre_salles_concernees':44,'montant_effectif':33000},{'province':'Moulay Yacoub','province_code':21,'nbre_ups_concernees':56,'nbre_salles_concernees':56,'montant_effectif':14000},{'province':'Nador','province_code':10,'nbre_ups_concernees':36,'nbre_salles_concernees':36,'montant_effectif':8998.85},{'province':'Oued Ed-Dahab','province_code':74,'nbre_ups_concernees':8,'nbre_salles_concernees':16,'montant_effectif':4000},{'province':'Ouezzane','province_code':8,'nbre_ups_concernees':53,'nbre_salles_concernees':54,'montant_effectif':169250},{'province':'Oujda-Angad','province_code':9,'nbre_ups_concernees':6,'nbre_salles_concernees':6,'montant_effectif':6000},{'province':'Sal','province_code':27,'nbre_ups_concernees':30,'nbre_salles_concernees':38,'montant_effectif':9500},{'province':'Sefrou','province_code':22,'nbre_ups_concernees':33,'nbre_salles_concernees':33,'montant_effectif':46500},{'province':'Settat','province_code':45,'nbre_ups_concernees':49,'nbre_salles_concernees':50,'montant_effectif':62500},{'province':'Sidi Slimane','province_code':32,'nbre_ups_concernees':50,'nbre_salles_concernees':53,'montant_effectif':17500},{'province':'Skhirate-Tmara','province_code':28,'nbre_ups_concernees':12,'nbre_salles_concernees':15,'montant_effectif':45000},{'province':'Tanger-Assilah','province_code':1,'nbre_ups_concernees':5,'nbre_salles_concernees':6,'montant_effectif':283.34},{'province':'Tan-Tan','province_code':68,'nbre_ups_concernees':2,'nbre_salles_concernees':3,'montant_effectif':750},{'province':'Taourirt','province_code':14,'nbre_ups_concernees':22,'nbre_salles_concernees':22,'montant_effectif':2750},{'province':'Tarfaya','province_code':72,'nbre_ups_concernees':2,'nbre_salles_concernees':2,'montant_effectif':5000},{'province':'Taroudannt','province_code':63,'nbre_ups_concernees':44,'nbre_salles_concernees':176,'montant_effectif':66500},{'province':'Ttouan','province_code':3,'nbre_ups_concernees':2,'nbre_salles_concernees':2,'montant_effectif':2000},{'province':'Tinghir','province_code':58,'nbre_ups_concernees':90,'nbre_salles_concernees':98,'montant_effectif':73500},{'province':'Youssoufia','province_code':54,'nbre_ups_concernees':48,'nbre_salles_concernees':48,'montant_effectif':12000},{'province':'Zagora','province_code':59,'nbre_ups_concernees':30,'nbre_salles_concernees':30,'montant_effectif':7500}],supplSMIG2021:[{'province':'Assa-Zag','province_code':67,'nbre_ups_concernees':2,'nbre_salles_concernees':2,'montant_effectif':3000},{'province':'Azilal','province_code':34,'nbre_ups_concernees':60,'nbre_salles_concernees':66,'montant_effectif':14948},{'province':'Benslimane','province_code':43,'nbre_ups_concernees':33,'nbre_salles_concernees':33,'montant_effectif':8250},{'province':'Berkane','province_code':13,'nbre_ups_concernees':22,'nbre_salles_concernees':37,'montant_effectif':37000},{'province':'Berrechid','province_code':44,'nbre_ups_concernees':98,'nbre_salles_concernees':102,'montant_effectif':76500},{'province':'Boujdour','province_code':71,'nbre_ups_concernees':2,'nbre_salles_concernees':7,'montant_effectif':1750},{'province':'Boulemane','province_code':23,'nbre_ups_concernees':20,'nbre_salles_concernees':22,'montant_effectif':20500},{'province':'Chichaoua','province_code':48,'nbre_ups_concernees':28,'nbre_salles_concernees':28,'montant_effectif':7000},{'province':'Chtouka-At Baha','province_code':62,'nbre_ups_concernees':33,'nbre_salles_concernees':44,'montant_effectif':11000},{'province':'El Jadida','province_code':40,'nbre_ups_concernees':80,'nbre_salles_concernees':88,'montant_effectif':88000},{'province':'Errachidia','province_code':55,'nbre_ups_concernees':119,'nbre_salles_concernees':119,'montant_effectif':119000},{'province':'Essaouira','province_code':51,'nbre_ups_concernees':154,'nbre_salles_concernees':162,'montant_effectif':243000},{'province':'Figuig','province_code':16,'nbre_ups_concernees':24,'nbre_salles_concernees':24,'montant_effectif':6000},{'province':'Fquih Ben Salah','province_code':35,'nbre_ups_concernees':28,'nbre_salles_concernees':28,'montant_effectif':42000.81},{'province':'Guelmim','province_code':66,'nbre_ups_concernees':6,'nbre_salles_concernees':6,'montant_effectif':9000},{'province':'Guercif','province_code':15,'nbre_ups_concernees':44,'nbre_salles_concernees':44,'montant_effectif':11000},{'province':'Inezgane-At Melloul','province_code':61,'nbre_ups_concernees':13,'nbre_salles_concernees':15,'montant_effectif':3750},{'province':'Khouribga','province_code':37,'nbre_ups_concernees':32,'nbre_salles_concernees':32,'montant_effectif':32000},{'province':'Mekns','province_code':18,'nbre_ups_concernees':43,'nbre_salles_concernees':43,'montant_effectif':66250},{'province':'Moulay Yacoub','province_code':21,'nbre_ups_concernees':65,'nbre_salles_concernees':65,'montant_effectif':16250},{'province':'Nador','province_code':10,'nbre_ups_concernees':43,'nbre_salles_concernees':43,'montant_effectif':10750},{'province':'Oued Ed-Dahab','province_code':74,'nbre_ups_concernees':4,'nbre_salles_concernees':8,'montant_effectif':2000},{'province':'Ouezzane','province_code':8,'nbre_ups_concernees':72,'nbre_salles_concernees':72,'montant_effectif':80500},{'province':'Oujda-Angad','province_code':9,'nbre_ups_concernees':6,'nbre_salles_concernees':6,'montant_effectif':24000},{'province':'Rehamna','province_code':52,'nbre_ups_concernees':45,'nbre_salles_concernees':48,'montant_effectif':144000},{'province':'Sal','province_code':27,'nbre_ups_concernees':17,'nbre_salles_concernees':21,'montant_effectif':5250},{'province':'Sefrou','province_code':22,'nbre_ups_concernees':6,'nbre_salles_concernees':6,'montant_effectif':9000},{'province':'Settat','province_code':45,'nbre_ups_concernees':169,'nbre_salles_concernees':182,'montant_effectif':273000},{'province':'Sidi Slimane','province_code':32,'nbre_ups_concernees':15,'nbre_salles_concernees':15,'montant_effectif':7500},{'province':'Tan-Tan','province_code':68,'nbre_ups_concernees':6,'nbre_salles_concernees':6,'montant_effectif':1500},{'province':'Taourirt','province_code':14,'nbre_ups_concernees':58,'nbre_salles_concernees':58,'montant_effectif':9500},{'province':'Tarfaya','province_code':72,'nbre_ups_concernees':5,'nbre_salles_concernees':5,'montant_effectif':8750},{'province':'Taroudannt','province_code':63,'nbre_ups_concernees':15,'nbre_salles_concernees':15,'montant_effectif':3750},{'province':'Tata','province_code':65,'nbre_ups_concernees':7,'nbre_salles_concernees':7,'montant_effectif':1750},{'province':'Taza','province_code':25,'nbre_ups_concernees':30,'nbre_salles_concernees':30,'montant_effectif':45000},{'province':'Tinghir','province_code':58,'nbre_ups_concernees':107,'nbre_salles_concernees':114,'montant_effectif':168000},{'province':'Youssoufia','province_code':54,'nbre_ups_concernees':57,'nbre_salles_concernees':57,'montant_effectif':14250},{'province':'Zagora','province_code':59,'nbre_ups_concernees':140,'nbre_salles_concernees':149,'montant_effectif':37250}],peren2023:{pa2019Annee3:[{'province':'Al Hoceima','province_code':6,'nbre_ups_concernees':5,'nbre_salles_concernees':7,'montant_effectif':314167},{'province':'Chefchaouen','province_code':7,'nbre_ups_concernees':1,'nbre_salles_concernees':1,'montant_effectif':53167},{'province':'Ifrane','province_code':20,'nbre_ups_concernees':1,'nbre_salles_concernees':2,'montant_effectif':116000},{'province':'Sefrou','province_code':22,'nbre_ups_concernees':3,'nbre_salles_concernees':3,'montant_effectif':166752},{'province':'Taounate','province_code':24,'nbre_ups_concernees':2,'nbre_salles_concernees':2,'montant_effectif':111167},{'province':'Sal','province_code':27,'nbre_ups_concernees':5,'nbre_salles_concernees':5,'montant_effectif':265835},{'province':'Knitra','province_code':29,'nbre_ups_concernees':38,'nbre_salles_concernees':44,'montant_effectif':1405542},{'province':'Azilal','province_code':34,'nbre_ups_concernees':10,'nbre_salles_concernees':10,'montant_effectif':366372},{'province':'El Jadida','province_code':40,'nbre_ups_concernees':6,'nbre_salles_concernees':6,'montant_effectif':290968},{'province':'Chichaoua','province_code':48,'nbre_ups_concernees':1,'nbre_salles_concernees':1,'montant_effectif':24167},{'province':'Al Haouz','province_code':49,'nbre_ups_concernees':1,'nbre_salles_concernees':1,'montant_effectif':55584},{'province':'Tinghir','province_code':58,'nbre_ups_concernees':2,'nbre_salles_concernees':2,'montant_effectif':92317},{'province':'Tata','province_code':65,'nbre_ups_concernees':6,'nbre_salles_concernees':6,'montant_effectif':333504},{'province':'Sidi Ifni','province_code':69,'nbre_ups_concernees':12,'nbre_salles_concernees':12,'montant_effectif':528772},{'province':'Tarfaya','province_code':72,'nbre_ups_concernees':2,'nbre_salles_concernees':2,'montant_effectif':33834}],pa2019Annee4:[{'province':'Larache','province_code':5,'nbre_ups_concernees':8,'nbre_salles_concernees':8,'montant_effectif':259072},{'province':'Chefchaouen','province_code':7,'nbre_ups_concernees':2,'nbre_salles_concernees':2,'montant_effectif':72500},{'province':'Mekns','province_code':18,'nbre_ups_concernees':1,'nbre_salles_concernees':1,'montant_effectif':38667},{'province':'El Hajeb','province_code':19,'nbre_ups_concernees':4,'nbre_salles_concernees':5,'montant_effectif':171100},{'province':'Taounate','province_code':24,'nbre_ups_concernees':3,'nbre_salles_concernees':4,'montant_effectif':149834},{'province':'Sidi Kacem','province_code':31,'nbre_ups_concernees':36,'nbre_salles_concernees':36,'montant_effectif':1954136},{'province':'Bni Mellal','province_code':33,'nbre_ups_concernees':11,'nbre_salles_concernees':11,'montant_effectif':33000},{'province':'El Jadida','province_code':40,'nbre_ups_concernees':7,'nbre_salles_concernees':7,'montant_effectif':219919},{'province':'Settat','province_code':45,'nbre_ups_concernees':17,'nbre_salles_concernees':17,'montant_effectif':51000},{'province':'Sidi Bennour','province_code':46,'nbre_ups_concernees':3,'nbre_salles_concernees':3,'montant_effectif':106334},{'province':'Marrakech','province_code':47,'nbre_ups_concernees':4,'nbre_salles_concernees':4,'montant_effectif':140168},{'province':'Rehamna','province_code':52,'nbre_ups_concernees':2,'nbre_salles_concernees':2,'montant_effectif':106334},{'province':'Tinghir','province_code':58,'nbre_ups_concernees':59,'nbre_salles_concernees':62,'montant_effectif':1954622},{'province':'Inezgane-At Melloul','province_code':61,'nbre_ups_concernees':9,'nbre_salles_concernees':9,'montant_effectif':323838},{'province':'Chtouka-At Baha','province_code':62,'nbre_ups_concernees':1,'nbre_salles_concernees':1,'montant_effectif':38667},{'province':'Taroudannt','province_code':63,'nbre_ups_concernees':33,'nbre_salles_concernees':33,'montant_effectif':797511},{'province':'Tiznit','province_code':64,'nbre_ups_concernees':7,'nbre_salles_concernees':7,'montant_effectif':203000}],pa2019Annee5:[{'province':'Tanger-Assilah','province_code':1,'nbre_ups_concernees':1,'nbre_salles_concernees':1,'montant_effectif':16917},{'province':'M\u2019diq-Fnideq','province_code':2,'nbre_ups_concernees':7,'nbre_salles_concernees':7,'montant_effectif':135338},{'province':'Ttouan','province_code':3,'nbre_ups_concernees':2,'nbre_salles_concernees':2,'montant_effectif':31417},{'province':'Larache','province_code':5,'nbre_ups_concernees':8,'nbre_salles_concernees':8,'montant_effectif':154672},{'province':'Chefchaouen','province_code':7,'nbre_ups_concernees':5,'nbre_salles_concernees':5,'montant_effectif':82168},{'province':'Taourirt','province_code':14,'nbre_ups_concernees':2,'nbre_salles_concernees':2,'montant_effectif':38668},{'province':'Fs','province_code':17,'nbre_ups_concernees':2,'nbre_salles_concernees':5,'montant_effectif':123734},{'province':'El Hajeb','province_code':19,'nbre_ups_concernees':1,'nbre_salles_concernees':1,'montant_effectif':19817},{'province':'Ifrane','province_code':20,'nbre_ups_concernees':4,'nbre_salles_concernees':8,'montant_effectif':154668},{'province':'Moulay Yacoub','province_code':21,'nbre_ups_concernees':1,'nbre_salles_concernees':1,'montant_effectif':19334},{'province':'Boulemane','province_code':23,'nbre_ups_concernees':4,'nbre_salles_concernees':4,'montant_effectif':72502},{'province':'Taounate','province_code':24,'nbre_ups_concernees':4,'nbre_salles_concernees':7,'montant_effectif':124217},{'province':'Taza','province_code':25,'nbre_ups_concernees':1,'nbre_salles_concernees':2,'montant_effectif':33834},{'province':'Skhirate-Tmara','province_code':28,'nbre_ups_concernees':2,'nbre_salles_concernees':2,'montant_effectif':33834},{'province':'Sidi Kacem','province_code':31,'nbre_ups_concernees':17,'nbre_salles_concernees':17,'montant_effectif':1333037},{'province':'Khnifra','province_code':36,'nbre_ups_concernees':2,'nbre_salles_concernees':2,'montant_effectif':33834},{'province':'Sidi Bennour','province_code':46,'nbre_ups_concernees':6,'nbre_salles_concernees':15,'montant_effectif':290001},{'province':'Marrakech','province_code':47,'nbre_ups_concernees':28,'nbre_salles_concernees':33,'montant_effectif':688755},{'province':'Al Haouz','province_code':49,'nbre_ups_concernees':6,'nbre_salles_concernees':8,'montant_effectif':155636},{'province':'El Kela des Sraghna','province_code':50,'nbre_ups_concernees':24,'nbre_salles_concernees':24,'montant_effectif':469812},{'province':'Essaouira','province_code':51,'nbre_ups_concernees':7,'nbre_salles_concernees':7,'montant_effectif':133888},{'province':'Rehamna','province_code':52,'nbre_ups_concernees':1,'nbre_salles_concernees':1,'montant_effectif':19334},{'province':'Safi','province_code':53,'nbre_ups_concernees':3,'nbre_salles_concernees':3,'montant_effectif':55585},{'province':'Youssoufia','province_code':54,'nbre_ups_concernees':3,'nbre_salles_concernees':5,'montant_effectif':99084},{'province':'Ouarzazate','province_code':56,'nbre_ups_concernees':7,'nbre_salles_concernees':7,'montant_effectif':125188},{'province':'Tinghir','province_code':58,'nbre_ups_concernees':8,'nbre_salles_concernees':12,'montant_effectif':200104},{'province':'Sidi Ifni','province_code':69,'nbre_ups_concernees':3,'nbre_salles_concernees':3,'montant_effectif':50751}],pa2020Annee3:[{'province':'Tanger-Assilah','province_code':1,'nbre_ups_concernees':5,'nbre_salles_concernees':6,'montant_effectif':224752},{'province':'Ttouan','province_code':3,'nbre_ups_concernees':2,'nbre_salles_concernees':2,'montant_effectif':94734},{'province':'Larache','province_code':5,'nbre_ups_concernees':33,'nbre_salles_concernees':35,'montant_effectif':754011},{'province':'Al Hoceima','province_code':6,'nbre_ups_concernees':34,'nbre_salles_concernees':43,'montant_effectif':983593},{'province':'Chefchaouen','province_code':7,'nbre_ups_concernees':81,'nbre_salles_concernees':81,'montant_effectif':1860857},{'province':'Ouezzane','province_code':8,'nbre_ups_concernees':30,'nbre_salles_concernees':31,'montant_effectif':1077843},{'province':'Oujda-Angad','province_code':9,'nbre_ups_concernees':6,'nbre_salles_concernees':6,'montant_effectif':246502},{'province':'Nador','province_code':10,'nbre_ups_concernees':34,'nbre_salles_concernees':36,'montant_effectif':957496},{'province':'Driouch','province_code':11,'nbre_ups_concernees':35,'nbre_salles_concernees':36,'montant_effectif':1015000},{'province':'Jerada','province_code':12,'nbre_ups_concernees':3,'nbre_salles_concernees':4,'montant_effectif':164335},{'province':'Berkane','province_code':13,'nbre_ups_concernees':30,'nbre_salles_concernees':30,'montant_effectif':942510},{'province':'Taourirt','province_code':14,'nbre_ups_concernees':11,'nbre_salles_concernees':11,'montant_effectif':464002},{'province':'Guercif','province_code':15,'nbre_ups_concernees':33,'nbre_salles_concernees':34,'montant_effectif':1463541},{'province':'Fs','province_code':17,'nbre_ups_concernees':11,'nbre_salles_concernees':17,'montant_effectif':657339},{'province':'Mekns','province_code':18,'nbre_ups_concernees':16,'nbre_salles_concernees':22,'montant_effectif':770921},{'province':'El Hajeb','province_code':19,'nbre_ups_concernees':22,'nbre_salles_concernees':27,'montant_effectif':664585},{'province':'Moulay Yacoub','province_code':21,'nbre_ups_concernees':17,'nbre_salles_concernees':17,'montant_effectif':345590},{'province':'Sal','province_code':27,'nbre_ups_concernees':15,'nbre_salles_concernees':19,'montant_effectif':413250},{'province':'Skhirate-Tmara','province_code':28,'nbre_ups_concernees':11,'nbre_salles_concernees':14,'montant_effectif':664589},{'province':'Khmisset','province_code':30,'nbre_ups_concernees':16,'nbre_salles_concernees':21,'montant_effectif':606589},{'province':'Sidi Kacem','province_code':31,'nbre_ups_concernees':58,'nbre_salles_concernees':68,'montant_effectif':1872936},{'province':'Sidi Slimane','province_code':32,'nbre_ups_concernees':49,'nbre_salles_concernees':54,'montant_effectif':2040637},{'province':'Azilal','province_code':34,'nbre_ups_concernees':99,'nbre_salles_concernees':102,'montant_effectif':3199210},{'province':'Fquih Ben Salah','province_code':35,'nbre_ups_concernees':10,'nbre_salles_concernees':14,'montant_effectif':203000},{'province':'Khnifra','province_code':36,'nbre_ups_concernees':21,'nbre_salles_concernees':22,'montant_effectif':978274},{'province':'Mohammadia','province_code':39,'nbre_ups_concernees':6,'nbre_salles_concernees':12,'montant_effectif':290003},{'province':'El Jadida','province_code':40,'nbre_ups_concernees':51,'nbre_salles_concernees':74,'montant_effectif':2465015},{'province':'Mdiouna','province_code':42,'nbre_ups_concernees':6,'nbre_salles_concernees':6,'montant_effectif':188502},{'province':'Berrechid','province_code':44,'nbre_ups_concernees':45,'nbre_salles_concernees':46,'montant_effectif':1624013},{'province':'Sidi Bennour','province_code':46,'nbre_ups_concernees':10,'nbre_salles_concernees':10,'montant_effectif':120840},{'province':'Marrakech','province_code':47,'nbre_ups_concernees':1,'nbre_salles_concernees':1,'montant_effectif':21750},{'province':'Chichaoua','province_code':48,'nbre_ups_concernees':3,'nbre_salles_concernees':3,'montant_effectif':72501},{'province':'Al Haouz','province_code':49,'nbre_ups_concernees':51,'nbre_salles_concernees':59,'montant_effectif':2373169},{'province':'El Kela des Sraghna','province_code':50,'nbre_ups_concernees':6,'nbre_salles_concernees':18,'montant_effectif':408900},{'province':'Essaouira','province_code':51,'nbre_ups_concernees':81,'nbre_salles_concernees':81,'montant_effectif':3463584},{'province':'Safi','province_code':53,'nbre_ups_concernees':73,'nbre_salles_concernees':75,'montant_effectif':3197745},{'province':'Youssoufia','province_code':54,'nbre_ups_concernees':48,'nbre_salles_concernees':48,'montant_effectif':1974423},{'province':'Ouarzazate','province_code':56,'nbre_ups_concernees':7,'nbre_salles_concernees':7,'montant_effectif':193338},{'province':'Midelt','province_code':57,'nbre_ups_concernees':37,'nbre_salles_concernees':44,'montant_effectif':2005846},{'province':'Tinghir','province_code':58,'nbre_ups_concernees':84,'nbre_salles_concernees':92,'montant_effectif':2607136},{'province':'Zagora','province_code':59,'nbre_ups_concernees':30,'nbre_salles_concernees':30,'montant_effectif':1305000},{'province':'Agadir-Ida-Ou-Tanane','province_code':60,'nbre_ups_concernees':5,'nbre_salles_concernees':5,'montant_effectif':212669},{'province':'Inezgane-At Melloul','province_code':61,'nbre_ups_concernees':1,'nbre_salles_concernees':1,'montant_effectif':38667},{'province':'Chtouka-At Baha','province_code':62,'nbre_ups_concernees':24,'nbre_salles_concernees':32,'montant_effectif':879670},{'province':'Tiznit','province_code':64,'nbre_ups_concernees':1,'nbre_salles_concernees':1,'montant_effectif':31417},{'province':'Assa-Zag','province_code':67,'nbre_ups_concernees':1,'nbre_salles_concernees':1,'montant_effectif':48334},{'province':'Oued Ed-Dahab','province_code':74,'nbre_ups_concernees':2,'nbre_salles_concernees':4,'montant_effectif':183667},{'province':'Aousserd','province_code':75,'nbre_ups_concernees':1,'nbre_salles_concernees':1,'montant_effectif':48334}],pa2020Annee4:[{'province':'Essaouira','province_code':51,'nbre_ups_concernees':1,'nbre_salles_concernees':1,'montant_effectif':36250}],pa2021Annee3:[{'province':'Driouch','province_code':11,'nbre_ups_concernees':1,'nbre_salles_concernees':1,'montant_effectif':17884},{'province':'Al Haouz','province_code':49,'nbre_ups_concernees':5,'nbre_salles_concernees':12,'montant_effectif':232001},{'province':'Tinghir','province_code':58,'nbre_ups_concernees':1,'nbre_salles_concernees':1,'montant_effectif':38667}]},peren2024:{pa2019Annee3:[{'province':'Rehamna','province_code':52,'nbre_ups_concernees':1,'nbre_salles_concernees':1,'montant_effectif':36610},{'province':'Sidi Bennour','province_code':46,'nbre_ups_concernees':2,'nbre_salles_concernees':4,'montant_effectif':165495},{'province':'Sidi Kacem','province_code':31,'nbre_ups_concernees':1,'nbre_salles_concernees':1,'montant_effectif':34604}],pa2019Annee4:[{'province':'Al Haouz','province_code':49,'nbre_ups_concernees':1,'nbre_salles_concernees':1,'montant_effectif':60180},{'province':'Al Hoceima','province_code':6,'nbre_ups_concernees':5,'nbre_salles_concernees':7,'montant_effectif':421260},{'province':'Azilal','province_code':34,'nbre_ups_concernees':10,'nbre_salles_concernees':10,'montant_effectif':601800},{'province':'Chefchaouen','province_code':7,'nbre_ups_concernees':1,'nbre_salles_concernees':1,'montant_effectif':60180},{'province':'Chichaoua','province_code':48,'nbre_ups_concernees':1,'nbre_salles_concernees':1,'montant_effectif':60180},{'province':'El Jadida','province_code':40,'nbre_ups_concernees':6,'nbre_salles_concernees':6,'montant_effectif':361080},{'province':'Ifrane','province_code':20,'nbre_ups_concernees':1,'nbre_salles_concernees':2,'montant_effectif':120360},{'province':'Knitra','province_code':29,'nbre_ups_concernees':38,'nbre_salles_concernees':44,'montant_effectif':2647920},{'province':'Sal','province_code':27,'nbre_ups_concernees':5,'nbre_salles_concernees':5,'montant_effectif':300900},{'province':'Sefrou','province_code':22,'nbre_ups_concernees':3,'nbre_salles_concernees':3,'montant_effectif':179036},{'province':'Sidi Ifni','province_code':69,'nbre_ups_concernees':12,'nbre_salles_concernees':12,'montant_effectif':722160},{'province':'Taounate','province_code':24,'nbre_ups_concernees':2,'nbre_salles_concernees':2,'montant_effectif':120360},{'province':'Tarfaya','province_code':72,'nbre_ups_concernees':2,'nbre_salles_concernees':2,'montant_effectif':120360},{'province':'Tata','province_code':65,'nbre_ups_concernees':6,'nbre_salles_concernees':6,'montant_effectif':361080},{'province':'Tinghir','province_code':58,'nbre_ups_concernees':2,'nbre_salles_concernees':2,'montant_effectif':120360},{'province':'Youssoufia','province_code':54,'nbre_ups_concernees':2,'nbre_salles_concernees':2,'montant_effectif':104313}],pa2019Annee5:[{'province':'Agadir-Ida-Ou-Tanane','province_code':60,'nbre_ups_concernees':11,'nbre_salles_concernees':12,'montant_effectif':660982},{'province':'Al Haouz','province_code':49,'nbre_ups_concernees':44,'nbre_salles_concernees':49,'montant_effectif':2758763},{'province':'Azilal','province_code':34,'nbre_ups_concernees':12,'nbre_salles_concernees':12,'montant_effectif':659476},{'province':'Bni Mellal','province_code':33,'nbre_ups_concernees':12,'nbre_salles_concernees':12,'montant_effectif':653956},{'province':'Benslimane','province_code':43,'nbre_ups_concernees':10,'nbre_salles_concernees':11,'montant_effectif':576227},{'province':'Berkane','province_code':13,'nbre_ups_concernees':7,'nbre_salles_concernees':7,'montant_effectif':332498},{'province':'Berrechid','province_code':44,'nbre_ups_concernees':7,'nbre_salles_concernees':13,'montant_effectif':782340},{'province':'Boulemane','province_code':23,'nbre_ups_concernees':6,'nbre_salles_concernees':7,'montant_effectif':400197},{'province':'Chefchaouen','province_code':7,'nbre_ups_concernees':17,'nbre_salles_concernees':17,'montant_effectif':872617},{'province':'Chichaoua','province_code':48,'nbre_ups_concernees':31,'nbre_salles_concernees':31,'montant_effectif':1651443},{'province':'Chtouka-At Baha','province_code':62,'nbre_ups_concernees':25,'nbre_salles_concernees':25,'montant_effectif':1351044},{'province':'El Hajeb','province_code':19,'nbre_ups_concernees':11,'nbre_salles_concernees':16,'montant_effectif':837507},{'province':'El Jadida','province_code':40,'nbre_ups_concernees':21,'nbre_salles_concernees':21,'montant_effectif':1061680},{'province':'Errachidia','province_code':55,'nbre_ups_concernees':26,'nbre_salles_concernees':34,'montant_effectif':1711122},{'province':'Essaouira','province_code':51,'nbre_ups_concernees':33,'nbre_salles_concernees':33,'montant_effectif':1904702},{'province':'Fahs-Anjra','province_code':4,'nbre_ups_concernees':53,'nbre_salles_concernees':63,'montant_effectif':3587743},{'province':'Figuig','province_code':16,'nbre_ups_concernees':5,'nbre_salles_concernees':6,'montant_effectif':279838},{'province':'Fquih Ben Salah','province_code':35,'nbre_ups_concernees':12,'nbre_salles_concernees':12,'montant_effectif':678028},{'province':'Guercif','province_code':15,'nbre_ups_concernees':6,'nbre_salles_concernees':6,'montant_effectif':330992},{'province':'Ifrane','province_code':20,'nbre_ups_concernees':5,'nbre_salles_concernees':10,'montant_effectif':507518},{'province':'Inezgane-At Melloul','province_code':61,'nbre_ups_concernees':12,'nbre_salles_concernees':13,'montant_effectif':738208},{'province':'Jerada','province_code':12,'nbre_ups_concernees':20,'nbre_salles_concernees':20,'montant_effectif':1148441},{'province':'Knitra','province_code':29,'nbre_ups_concernees':5,'nbre_salles_concernees':11,'montant_effectif':525071},{'province':'Khmisset','province_code':30,'nbre_ups_concernees':21,'nbre_salles_concernees':24,'montant_effectif':1303903},{'province':'Khnifra','province_code':36,'nbre_ups_concernees':7,'nbre_salles_concernees':7,'montant_effectif':400197},{'province':'Khouribga','province_code':37,'nbre_ups_concernees':13,'nbre_salles_concernees':13,'montant_effectif':769301},{'province':'Layoune','province_code':70,'nbre_ups_concernees':1,'nbre_salles_concernees':1,'montant_effectif':57171},{'province':'Larache','province_code':5,'nbre_ups_concernees':16,'nbre_salles_concernees':16,'montant_effectif':902704},{'province':'Marrakech','province_code':47,'nbre_ups_concernees':21,'nbre_salles_concernees':21,'montant_effectif':1039617},{'province':'Mdiouna','province_code':42,'nbre_ups_concernees':16,'nbre_salles_concernees':41,'montant_effectif':2269289},{'province':'Mekns','province_code':18,'nbre_ups_concernees':7,'nbre_salles_concernees':9,'montant_effectif':488461},{'province':'Midelt','province_code':57,'nbre_ups_concernees':13,'nbre_salles_concernees':15,'montant_effectif':859572},{'province':'Moulay Yacoub','province_code':21,'nbre_ups_concernees':2,'nbre_salles_concernees':2,'montant_effectif':114342},{'province':'Nador','province_code':10,'nbre_ups_concernees':3,'nbre_salles_concernees':3,'montant_effectif':168504},{'province':'Nouaceur','province_code':41,'nbre_ups_concernees':4,'nbre_salles_concernees':7,'montant_effectif':371613},{'province':'Ouezzane','province_code':8,'nbre_ups_concernees':8,'nbre_salles_concernees':8,'montant_effectif':451353},{'province':'Oujda-Angad','province_code':9,'nbre_ups_concernees':10,'nbre_salles_concernees':10,'montant_effectif':583747},{'province':'Rehamna','province_code':52,'nbre_ups_concernees':26,'nbre_salles_concernees':27,'montant_effectif':1533587},{'province':'Safi','province_code':53,'nbre_ups_concernees':22,'nbre_salles_concernees':22,'montant_effectif':1265791},{'province':'Sal','province_code':27,'nbre_ups_concernees':2,'nbre_salles_concernees':2,'montant_effectif':97292},{'province':'Settat','province_code':45,'nbre_ups_concernees':17,'nbre_salles_concernees':17,'montant_effectif':733703},{'province':'Sidi Bennour','province_code':46,'nbre_ups_concernees':55,'nbre_salles_concernees':83,'montant_effectif':4388141},{'province':'Sidi Ifni','province_code':69,'nbre_ups_concernees':11,'nbre_salles_concernees':11,'montant_effectif':652953},{'province':'Sidi Kacem','province_code':31,'nbre_ups_concernees':34,'nbre_salles_concernees':34,'montant_effectif':2046120},{'province':'Sidi Slimane','province_code':32,'nbre_ups_concernees':18,'nbre_salles_concernees':24,'montant_effectif':1361577},{'province':'Skhirate-Tmara','province_code':28,'nbre_ups_concernees':12,'nbre_salles_concernees':15,'montant_effectif':854561},{'province':'Tanger-Assilah','province_code':1,'nbre_ups_concernees':9,'nbre_salles_concernees':21,'montant_effectif':1215136},{'province':'Taounate','province_code':24,'nbre_ups_concernees':11,'nbre_salles_concernees':15,'montant_effectif':846535},{'province':'Taourirt','province_code':14,'nbre_ups_concernees':2,'nbre_salles_concernees':2,'montant_effectif':113340},{'province':'Tarfaya','province_code':72,'nbre_ups_concernees':2,'nbre_salles_concernees':2,'montant_effectif':114342},{'province':'Taroudannt','province_code':63,'nbre_ups_concernees':58,'nbre_salles_concernees':58,'montant_effectif':3388636},{'province':'Tata','province_code':65,'nbre_ups_concernees':8,'nbre_salles_concernees':8,'montant_effectif':357072},{'province':'Taza','province_code':25,'nbre_ups_concernees':18,'nbre_salles_concernees':18,'montant_effectif':954362},{'province':'Ttouan','province_code':3,'nbre_ups_concernees':6,'nbre_salles_concernees':6,'montant_effectif':325475},{'province':'Tinghir','province_code':58,'nbre_ups_concernees':75,'nbre_salles_concernees':84,'montant_effectif':4948305},{'province':'Tiznit','province_code':64,'nbre_ups_concernees':18,'nbre_salles_concernees':18,'montant_effectif':1061174},{'province':'Youssoufia','province_code':54,'nbre_ups_concernees':24,'nbre_salles_concernees':24,'montant_effectif':1349540},{'province':'Zagora','province_code':59,'nbre_ups_concernees':70,'nbre_salles_concernees':89,'montant_effectif':4980407}],pa2019Annee6:[{'province':'Al Haouz','province_code':49,'nbre_ups_concernees':6,'nbre_salles_concernees':8,'montant_effectif':481440},{'province':'Boulemane','province_code':23,'nbre_ups_concernees':4,'nbre_salles_concernees':4,'montant_effectif':240720},{'province':'Chefchaouen','province_code':7,'nbre_ups_concernees':5,'nbre_salles_concernees':5,'montant_effectif':300900},{'province':'El Hajeb','province_code':19,'nbre_ups_concernees':1,'nbre_salles_concernees':1,'montant_effectif':60180},{'province':'El Kela des Sraghna','province_code':50,'nbre_ups_concernees':24,'nbre_salles_concernees':24,'montant_effectif':1444320},{'province':'Essaouira','province_code':51,'nbre_ups_concernees':7,'nbre_salles_concernees':7,'montant_effectif':421260},{'province':'Fs','province_code':17,'nbre_ups_concernees':2,'nbre_salles_concernees':5,'montant_effectif':300900},{'province':'Ifrane','province_code':20,'nbre_ups_concernees':4,'nbre_salles_concernees':8,'montant_effectif':481440},{'province':'Khnifra','province_code':36,'nbre_ups_concernees':2,'nbre_salles_concernees':2,'montant_effectif':120360},{'province':'Larache','province_code':5,'nbre_ups_concernees':8,'nbre_salles_concernees':8,'montant_effectif':481440},{'province':'M\u2019diq-Fnideq','province_code':2,'nbre_ups_concernees':7,'nbre_salles_concernees':7,'montant_effectif':421260},{'province':'Marrakech','province_code':47,'nbre_ups_concernees':28,'nbre_salles_concernees':28,'montant_effectif':1685040},{'province':'Moulay Yacoub','province_code':21,'nbre_ups_concernees':1,'nbre_salles_concernees':1,'montant_effectif':60180},{'province':'Ouarzazate','province_code':56,'nbre_ups_concernees':7,'nbre_salles_concernees':7,'montant_effectif':421260},{'province':'Rehamna','province_code':52,'nbre_ups_concernees':1,'nbre_salles_concernees':1,'montant_effectif':60180},{'province':'Safi','province_code':53,'nbre_ups_concernees':3,'nbre_salles_concernees':3,'montant_effectif':180540},{'province':'Sidi Bennour','province_code':46,'nbre_ups_concernees':6,'nbre_salles_concernees':15,'montant_effectif':902700},{'province':'Sidi Ifni','province_code':69,'nbre_ups_concernees':3,'nbre_salles_concernees':3,'montant_effectif':180540},{'province':'Sidi Kacem','province_code':31,'nbre_ups_concernees':17,'nbre_salles_concernees':17,'montant_effectif':1023060},{'province':'Skhirate-Tmara','province_code':28,'nbre_ups_concernees':2,'nbre_salles_concernees':2,'montant_effectif':120360},{'province':'Tanger-Assilah','province_code':1,'nbre_ups_concernees':1,'nbre_salles_concernees':1,'montant_effectif':60180},{'province':'Taounate','province_code':24,'nbre_ups_concernees':4,'nbre_salles_concernees':7,'montant_effectif':421260},{'province':'Taourirt','province_code':14,'nbre_ups_concernees':2,'nbre_salles_concernees':2,'montant_effectif':120360},{'province':'Taroudannt','province_code':63,'nbre_ups_concernees':15,'nbre_salles_concernees':15,'montant_effectif':902700},{'province':'Taza','province_code':25,'nbre_ups_concernees':1,'nbre_salles_concernees':2,'montant_effectif':120360},{'province':'Ttouan','province_code':3,'nbre_ups_concernees':2,'nbre_salles_concernees':2,'montant_effectif':120360},{'province':'Tinghir','province_code':58,'nbre_ups_concernees':8,'nbre_salles_concernees':12,'montant_effectif':722160},{'province':'Youssoufia','province_code':54,'nbre_ups_concernees':3,'nbre_salles_concernees':5,'montant_effectif':300900}],pa2020Annee3:[{'province':'Al Hoceima','province_code':6,'nbre_ups_concernees':29,'nbre_salles_concernees':34,'montant_effectif':1819949},{'province':'Azilal','province_code':34,'nbre_ups_concernees':3,'nbre_salles_concernees':3,'montant_effectif':123369},{'province':'Benslimane','province_code':43,'nbre_ups_concernees':15,'nbre_salles_concernees':16,'montant_effectif':810431},{'province':'Boulemane','province_code':23,'nbre_ups_concernees':12,'nbre_salles_concernees':12,'montant_effectif':348545},{'province':'Chefchaouen','province_code':7,'nbre_ups_concernees':12,'nbre_salles_concernees':12,'montant_effectif':401203},{'province':'Chichaoua','province_code':48,'nbre_ups_concernees':14,'nbre_salles_concernees':14,'montant_effectif':582746},{'province':'Driouch','province_code':11,'nbre_ups_concernees':18,'nbre_salles_concernees':18,'montant_effectif':831489},{'province':'El Hajeb','province_code':19,'nbre_ups_concernees':11,'nbre_salles_concernees':11,'montant_effectif':588261},{'province':'El Jadida','province_code':40,'nbre_ups_concernees':12,'nbre_salles_concernees':17,'montant_effectif':1023060},{'province':'El Kela des Sraghna','province_code':50,'nbre_ups_concernees':22,'nbre_salles_concernees':37,'montant_effectif':1806404},{'province':'Fahs-Anjra','province_code':4,'nbre_ups_concernees':11,'nbre_salles_concernees':11,'montant_effectif':497488},{'province':'Figuig','province_code':16,'nbre_ups_concernees':28,'nbre_salles_concernees':30,'montant_effectif':1267292},{'province':'Fquih Ben Salah','province_code':35,'nbre_ups_concernees':15,'nbre_salles_concernees':20,'montant_effectif':1013035},{'province':'Guelmim','province_code':66,'nbre_ups_concernees':1,'nbre_salles_concernees':1,'montant_effectif':26078},{'province':'Ifrane','province_code':20,'nbre_ups_concernees':23,'nbre_salles_concernees':24,'montant_effectif':1207612},{'province':'Inezgane-At Melloul','province_code':61,'nbre_ups_concernees':2,'nbre_salles_concernees':2,'montant_effectif':112336},{'province':'Larache','province_code':5,'nbre_ups_concernees':7,'nbre_salles_concernees':10,'montant_effectif':539113},{'province':'Marrakech','province_code':47,'nbre_ups_concernees':37,'nbre_salles_concernees':37,'montant_effectif':1845525},{'province':'Mdiouna','province_code':42,'nbre_ups_concernees':6,'nbre_salles_concernees':7,'montant_effectif':379134},{'province':'Moulay Yacoub','province_code':21,'nbre_ups_concernees':22,'nbre_salles_concernees':22,'montant_effectif':1235696},{'province':'Ouezzane','province_code':8,'nbre_ups_concernees':23,'nbre_salles_concernees':23,'montant_effectif':1056166},{'province':'Sal','province_code':27,'nbre_ups_concernees':1,'nbre_salles_concernees':1,'montant_effectif':56168},{'province':'Sefrou','province_code':22,'nbre_ups_concernees':9,'nbre_salles_concernees':9,'montant_effectif':271314},{'province':'Settat','province_code':45,'nbre_ups_concernees':3,'nbre_salles_concernees':3,'montant_effectif':160481},{'province':'Sidi Bennour','province_code':46,'nbre_ups_concernees':38,'nbre_salles_concernees':47,'montant_effectif':1859068},{'province':'Skhirate-Tmara','province_code':28,'nbre_ups_concernees':1,'nbre_salles_concernees':1,'montant_effectif':50652},{'province':'Taounate','province_code':24,'nbre_ups_concernees':1,'nbre_salles_concernees':1,'montant_effectif':56168},{'province':'Taroudannt','province_code':63,'nbre_ups_concernees':30,'nbre_salles_concernees':30,'montant_effectif':1484445},{'province':'Tata','province_code':65,'nbre_ups_concernees':3,'nbre_salles_concernees':3,'montant_effectif':160983},{'province':'Taza','province_code':25,'nbre_ups_concernees':54,'nbre_salles_concernees':54,'montant_effectif':2643417},{'province':'Tinghir','province_code':58,'nbre_ups_concernees':6,'nbre_salles_concernees':6,'montant_effectif':314441}],pa2020Annee4:[{'province':'Agadir-Ida-Ou-Tanane','province_code':60,'nbre_ups_concernees':5,'nbre_salles_concernees':5,'montant_effectif':300900},{'province':'Al Haouz','province_code':49,'nbre_ups_concernees':51,'nbre_salles_concernees':59,'montant_effectif':3550620},{'province':'Al Hoceima','province_code':6,'nbre_ups_concernees':34,'nbre_salles_concernees':43,'montant_effectif':2587740},{'province':'Aousserd','province_code':75,'nbre_ups_concernees':1,'nbre_salles_concernees':1,'montant_effectif':60180},{'province':'Assa-Zag','province_code':67,'nbre_ups_concernees':1,'nbre_salles_concernees':1,'montant_effectif':60180},{'province':'Azilal','province_code':34,'nbre_ups_concernees':99,'nbre_salles_concernees':102,'montant_effectif':6138360},{'province':'Bni Mellal','province_code':33,'nbre_ups_concernees':31,'nbre_salles_concernees':51,'montant_effectif':3069180},{'province':'Berkane','province_code':13,'nbre_ups_concernees':30,'nbre_salles_concernees':30,'montant_effectif':1805400},{'province':'Berrechid','province_code':44,'nbre_ups_concernees':45,'nbre_salles_concernees':46,'montant_effectif':2768280},{'province':'Chefchaouen','province_code':7,'nbre_ups_concernees':81,'nbre_salles_concernees':81,'montant_effectif':4874580},{'province':'Chichaoua','province_code':48,'nbre_ups_concernees':3,'nbre_salles_concernees':3,'montant_effectif':180540},{'province':'Chtouka-At Baha','province_code':62,'nbre_ups_concernees':24,'nbre_salles_concernees':32,'montant_effectif':1925760},{'province':'Driouch','province_code':11,'nbre_ups_concernees':35,'nbre_salles_concernees':36,'montant_effectif':2166480},{'province':'El Hajeb','province_code':19,'nbre_ups_concernees':22,'nbre_salles_concernees':27,'montant_effectif':1624860},{'province':'El Jadida','province_code':40,'nbre_ups_concernees':51,'nbre_salles_concernees':74,'montant_effectif':4453320},{'province':'El Kela des Sraghna','province_code':50,'nbre_ups_concernees':6,'nbre_salles_concernees':18,'montant_effectif':1083240},{'province':'Errachidia','province_code':55,'nbre_ups_concernees':18,'nbre_salles_concernees':22,'montant_effectif':906714},{'province':'Essaouira','province_code':51,'nbre_ups_concernees':81,'nbre_salles_concernees':81,'montant_effectif':4874580},{'province':'Fahs-Anjra','province_code':4,'nbre_ups_concernees':55,'nbre_salles_concernees':59,'montant_effectif':3550620},{'province':'Fs','province_code':17,'nbre_ups_concernees':11,'nbre_salles_concernees':17,'montant_effectif':1023060},{'province':'Fquih Ben Salah','province_code':35,'nbre_ups_concernees':10,'nbre_salles_concernees':14,'montant_effectif':842520},{'province':'Guercif','province_code':15,'nbre_ups_concernees':33,'nbre_salles_concernees':34,'montant_effectif':2046120},{'province':'Inezgane-At Melloul','province_code':61,'nbre_ups_concernees':1,'nbre_salles_concernees':1,'montant_effectif':60180},{'province':'Jerada','province_code':12,'nbre_ups_concernees':3,'nbre_salles_concernees':4,'montant_effectif':240720},{'province':'Khmisset','province_code':30,'nbre_ups_concernees':16,'nbre_salles_concernees':21,'montant_effectif':1263780},{'province':'Khnifra','province_code':36,'nbre_ups_concernees':21,'nbre_salles_concernees':22,'montant_effectif':1323960},{'province':'Larache','province_code':5,'nbre_ups_concernees':33,'nbre_salles_concernees':35,'montant_effectif':2106300},{'province':'Marrakech','province_code':47,'nbre_ups_concernees':1,'nbre_salles_concernees':1,'montant_effectif':60180},{'province':'Mdiouna','province_code':42,'nbre_ups_concernees':6,'nbre_salles_concernees':6,'montant_effectif':361080},{'province':'Mekns','province_code':18,'nbre_ups_concernees':16,'nbre_salles_concernees':22,'montant_effectif':1323960},{'province':'Midelt','province_code':57,'nbre_ups_concernees':37,'nbre_salles_concernees':44,'montant_effectif':2647920},{'province':'Mohammadia','province_code':39,'nbre_ups_concernees':6,'nbre_salles_concernees':12,'montant_effectif':722160},{'province':'Moulay Yacoub','province_code':21,'nbre_ups_concernees':17,'nbre_salles_concernees':17,'montant_effectif':1023060},{'province':'Nador','province_code':10,'nbre_ups_concernees':34,'nbre_salles_concernees':36,'montant_effectif':2166480},{'province':'Ouarzazate','province_code':56,'nbre_ups_concernees':7,'nbre_salles_concernees':7,'montant_effectif':421260},{'province':'Oued Ed-Dahab','province_code':74,'nbre_ups_concernees':2,'nbre_salles_concernees':4,'montant_effectif':240720},{'province':'Ouezzane','province_code':8,'nbre_ups_concernees':30,'nbre_salles_concernees':31,'montant_effectif':1865580},{'province':'Oujda-Angad','province_code':9,'nbre_ups_concernees':6,'nbre_salles_concernees':6,'montant_effectif':361080},{'province':'Safi','province_code':53,'nbre_ups_concernees':73,'nbre_salles_concernees':75,'montant_effectif':4513500},{'province':'Sal','province_code':27,'nbre_ups_concernees':14,'nbre_salles_concernees':18,'montant_effectif':1083240},{'province':'Settat','province_code':45,'nbre_ups_concernees':46,'nbre_salles_concernees':47,'montant_effectif':2828460},{'province':'Sidi Bennour','province_code':46,'nbre_ups_concernees':10,'nbre_salles_concernees':10,'montant_effectif':601800},{'province':'Sidi Kacem','province_code':31,'nbre_ups_concernees':58,'nbre_salles_concernees':68,'montant_effectif':4092240},{'province':'Sidi Slimane','province_code':32,'nbre_ups_concernees':49,'nbre_salles_concernees':54,'montant_effectif':3249720},{'province':'Skhirate-Tmara','province_code':28,'nbre_ups_concernees':11,'nbre_salles_concernees':14,'montant_effectif':842520},{'province':'Tanger-Assilah','province_code':1,'nbre_ups_concernees':5,'nbre_salles_concernees':6,'montant_effectif':361080},{'province':'Taourirt','province_code':14,'nbre_ups_concernees':11,'nbre_salles_concernees':11,'montant_effectif':661980},{'province':'Taroudannt','province_code':63,'nbre_ups_concernees':14,'nbre_salles_concernees':14,'montant_effectif':842520},{'province':'Taza','province_code':25,'nbre_ups_concernees':1,'nbre_salles_concernees':1,'montant_effectif':60180},{'province':'Ttouan','province_code':3,'nbre_ups_concernees':2,'nbre_salles_concernees':2,'montant_effectif':120360},{'province':'Tinghir','province_code':58,'nbre_ups_concernees':84,'nbre_salles_concernees':92,'montant_effectif':5536560},{'province':'Tiznit','province_code':64,'nbre_ups_concernees':1,'nbre_salles_concernees':1,'montant_effectif':60180},{'province':'Youssoufia','province_code':54,'nbre_ups_concernees':48,'nbre_salles_concernees':48,'montant_effectif':2888640},{'province':'Zagora','province_code':59,'nbre_ups_concernees':30,'nbre_salles_concernees':30,'montant_effectif':1805400}],pa2020Annee5:[{'province':'Essaouira','province_code':51,'nbre_ups_concernees':1,'nbre_salles_concernees':1,'montant_effectif':60180}],pa2021Annee3:[{'province':'Agadir-Ida-Ou-Tanane','province_code':60,'nbre_ups_concernees':8,'nbre_salles_concernees':10,'montant_effectif':464390},{'province':'Al Haouz','province_code':49,'nbre_ups_concernees':144,'nbre_salles_concernees':149,'montant_effectif':6059138},{'province':'Al Hoceima','province_code':6,'nbre_ups_concernees':24,'nbre_salles_concernees':25,'montant_effectif':718659},{'province':'Aousserd','province_code':75,'nbre_ups_concernees':1,'nbre_salles_concernees':3,'montant_effectif':136910},{'province':'Azilal','province_code':34,'nbre_ups_concernees':48,'nbre_salles_concernees':51,'montant_effectif':1673518},{'province':'Bni Mellal','province_code':33,'nbre_ups_concernees':20,'nbre_salles_concernees':24,'montant_effectif':899696},{'province':'Benslimane','province_code':43,'nbre_ups_concernees':33,'nbre_salles_concernees':33,'montant_effectif':1050142},{'province':'Berrechid','province_code':44,'nbre_ups_concernees':98,'nbre_salles_concernees':102,'montant_effectif':2943828},{'province':'Boujdour','province_code':71,'nbre_ups_concernees':2,'nbre_salles_concernees':7,'montant_effectif':393176},{'province':'Boulemane','province_code':23,'nbre_ups_concernees':9,'nbre_salles_concernees':10,'montant_effectif':270810},{'province':'Chefchaouen','province_code':7,'nbre_ups_concernees':87,'nbre_salles_concernees':87,'montant_effectif':3158490},{'province':'Chichaoua','province_code':48,'nbre_ups_concernees':66,'nbre_salles_concernees':66,'montant_effectif':1966393},{'province':'Chtouka-At Baha','province_code':62,'nbre_ups_concernees':29,'nbre_salles_concernees':38,'montant_effectif':965899},{'province':'Driouch','province_code':11,'nbre_ups_concernees':40,'nbre_salles_concernees':40,'montant_effectif':1586246},{'province':'El Hajeb','province_code':19,'nbre_ups_concernees':22,'nbre_salles_concernees':26,'montant_effectif':847544},{'province':'El Jadida','province_code':40,'nbre_ups_concernees':80,'nbre_salles_concernees':88,'montant_effectif':2942308},{'province':'El Kela des Sraghna','province_code':50,'nbre_ups_concernees':25,'nbre_salles_concernees':33,'montant_effectif':1107821},{'province':'Errachidia','province_code':55,'nbre_ups_concernees':119,'nbre_salles_concernees':119,'montant_effectif':3726665},{'province':'Essaouira','province_code':51,'nbre_ups_concernees':88,'nbre_salles_concernees':96,'montant_effectif':2915742},{'province':'Fs','province_code':17,'nbre_ups_concernees':2,'nbre_salles_concernees':2,'montant_effectif':80240},{'province':'Figuig','province_code':16,'nbre_ups_concernees':26,'nbre_salles_concernees':26,'montant_effectif':769313},{'province':'Guelmim','province_code':66,'nbre_ups_concernees':6,'nbre_salles_concernees':6,'montant_effectif':156468},{'province':'Guercif','province_code':15,'nbre_ups_concernees':44,'nbre_salles_concernees':44,'montant_effectif':2088247},{'province':'Inezgane-At Melloul','province_code':61,'nbre_ups_concernees':13,'nbre_salles_concernees':15,'montant_effectif':644932},{'province':'Jerada','province_code':12,'nbre_ups_concernees':3,'nbre_salles_concernees':3,'montant_effectif':114342},{'province':'Knitra','province_code':29,'nbre_ups_concernees':5,'nbre_salles_concernees':5,'montant_effectif':253260},{'province':'Khmisset','province_code':30,'nbre_ups_concernees':20,'nbre_salles_concernees':20,'montant_effectif':552662},{'province':'Khnifra','province_code':36,'nbre_ups_concernees':36,'nbre_salles_concernees':36,'montant_effectif':1423270},{'province':'Khouribga','province_code':37,'nbre_ups_concernees':28,'nbre_salles_concernees':32,'montant_effectif':1239709},{'province':'Layoune','province_code':70,'nbre_ups_concernees':2,'nbre_salles_concernees':2,'montant_effectif':47142},{'province':'Larache','province_code':5,'nbre_ups_concernees':22,'nbre_salles_concernees':27,'montant_effectif':899198},{'province':'Marrakech','province_code':47,'nbre_ups_concernees':2,'nbre_salles_concernees':2,'montant_effectif':40120},{'province':'Mekns','province_code':18,'nbre_ups_concernees':41,'nbre_salles_concernees':41,'montant_effectif':918759},{'province':'Midelt','province_code':57,'nbre_ups_concernees':67,'nbre_salles_concernees':74,'montant_effectif':2508514},{'province':'Moulay Yacoub','province_code':21,'nbre_ups_concernees':65,'nbre_salles_concernees':65,'montant_effectif':2426774},{'province':'Nador','province_code':10,'nbre_ups_concernees':42,'nbre_salles_concernees':42,'montant_effectif':1206113},{'province':'Ouarzazate','province_code':56,'nbre_ups_concernees':107,'nbre_salles_concernees':139,'montant_effectif':3784334},{'province':'Oued Ed-Dahab','province_code':74,'nbre_ups_concernees':2,'nbre_salles_concernees':4,'montant_effectif':162486},{'province':'Ouezzane','province_code':8,'nbre_ups_concernees':56,'nbre_salles_concernees':56,'montant_effectif':1962891},{'province':'Oujda-Angad','province_code':9,'nbre_ups_concernees':6,'nbre_salles_concernees':6,'montant_effectif':186561},{'province':'Rehamna','province_code':52,'nbre_ups_concernees':2,'nbre_salles_concernees':2,'montant_effectif':112336},{'province':'Safi','province_code':53,'nbre_ups_concernees':82,'nbre_salles_concernees':82,'montant_effectif':3231702},{'province':'Sidi Kacem','province_code':31,'nbre_ups_concernees':50,'nbre_salles_concernees':55,'montant_effectif':2141428},{'province':'Sidi Slimane','province_code':32,'nbre_ups_concernees':15,'nbre_salles_concernees':15,'montant_effectif':191076},{'province':'Tanger-Assilah','province_code':1,'nbre_ups_concernees':10,'nbre_salles_concernees':11,'montant_effectif':519055},{'province':'Tan-Tan','province_code':68,'nbre_ups_concernees':3,'nbre_salles_concernees':3,'montant_effectif':78234},{'province':'Taourirt','province_code':14,'nbre_ups_concernees':17,'nbre_salles_concernees':17,'montant_effectif':467398},{'province':'Tarfaya','province_code':72,'nbre_ups_concernees':5,'nbre_salles_concernees':5,'montant_effectif':117855},{'province':'Taroudannt','province_code':63,'nbre_ups_concernees':15,'nbre_salles_concernees':15,'montant_effectif':383655},{'province':'Tata','province_code':65,'nbre_ups_concernees':7,'nbre_salles_concernees':7,'montant_effectif':179039},{'province':'Ttouan','province_code':3,'nbre_ups_concernees':10,'nbre_salles_concernees':10,'montant_effectif':504514},{'province':'Tinghir','province_code':58,'nbre_ups_concernees':106,'nbre_salles_concernees':113,'montant_effectif':4340995},{'province':'Tiznit','province_code':64,'nbre_ups_concernees':18,'nbre_salles_concernees':18,'montant_effectif':460386},{'province':'Youssoufia','province_code':54,'nbre_ups_concernees':57,'nbre_salles_concernees':57,'montant_effectif':1801900},{'province':'Zagora','province_code':59,'nbre_ups_concernees':140,'nbre_salles_concernees':149,'montant_effectif':6716595}],pa2021Annee4:[{'province':'Al Haouz','province_code':49,'nbre_ups_concernees':5,'nbre_salles_concernees':12,'montant_effectif':722160},{'province':'Driouch','province_code':11,'nbre_ups_concernees':1,'nbre_salles_concernees':1,'montant_effectif':60180},{'province':'Taourirt','province_code':14,'nbre_ups_concernees':1,'nbre_salles_concernees':1,'montant_effectif':60180},{'province':'Tinghir','province_code':58,'nbre_ups_concernees':1,'nbre_salles_concernees':1,'montant_effectif':60180}]},anciennete:{arrierrePA2019:[{'province':'Agadir-Ida-Ou-Tanane','province_code':60,'nbre_ups_concernees':11,'nbre_salles_concernees':12,'montant_effectif':22793},{'province':'Al Haouz','province_code':49,'nbre_ups_concernees':50,'nbre_salles_concernees':57,'montant_effectif':117688.8},{'province':'Azilal','province_code':34,'nbre_ups_concernees':12,'nbre_salles_concernees':12,'montant_effectif':22723.72},{'province':'Bni Mellal','province_code':33,'nbre_ups_concernees':12,'nbre_salles_concernees':12,'montant_effectif':22533.2},{'province':'Benslimane','province_code':43,'nbre_ups_concernees':10,'nbre_salles_concernees':11,'montant_effectif':21788.44},{'province':'Berkane','province_code':13,'nbre_ups_concernees':7,'nbre_salles_concernees':7,'montant_effectif':11448.45},{'province':'Berrechid','province_code':44,'nbre_ups_concernees':7,'nbre_salles_concernees':13,'montant_effectif':27019.07},{'province':'Boulemane','province_code':23,'nbre_ups_concernees':10,'nbre_salles_concernees':11,'montant_effectif':24784.81},{'province':'Chefchaouen','province_code':7,'nbre_ups_concernees':22,'nbre_salles_concernees':22,'montant_effectif':41966.14},{'province':'Chichaoua','province_code':48,'nbre_ups_concernees':31,'nbre_salles_concernees':31,'montant_effectif':56999.81},{'province':'Chtouka-At Baha','province_code':62,'nbre_ups_concernees':25,'nbre_salles_concernees':25,'montant_effectif':45949.71},{'province':'El Hajeb','province_code':19,'nbre_ups_concernees':12,'nbre_salles_concernees':17,'montant_effectif':27365.45},{'province':'El Jadida','province_code':40,'nbre_ups_concernees':21,'nbre_salles_concernees':21,'montant_effectif':29807.51},{'province':'El Kela des Sraghna','province_code':50,'nbre_ups_concernees':24,'nbre_salles_concernees':24,'montant_effectif':67131.96},{'province':'Errachidia','province_code':55,'nbre_ups_concernees':26,'nbre_salles_concernees':34,'montant_effectif':62057.2},{'province':'Essaouira','province_code':51,'nbre_ups_concernees':40,'nbre_salles_concernees':40,'montant_effectif':75757.28},{'province':'Fahs-Anjra','province_code':4,'nbre_ups_concernees':53,'nbre_salles_concernees':63,'montant_effectif':123352.41},{'province':'Fs','province_code':17,'nbre_ups_concernees':2,'nbre_salles_concernees':5,'montant_effectif':15033.68},{'province':'Figuig','province_code':16,'nbre_ups_concernees':5,'nbre_salles_concernees':6,'montant_effectif':10998.15},{'province':'Fquih Ben Salah','province_code':35,'nbre_ups_concernees':12,'nbre_salles_concernees':12,'montant_effectif':23347.24},{'province':'Guercif','province_code':15,'nbre_ups_concernees':6,'nbre_salles_concernees':6,'montant_effectif':11396.5},{'province':'Ifrane','province_code':20,'nbre_ups_concernees':9,'nbre_salles_concernees':18,'montant_effectif':40043.62},{'province':'Inezgane-At Melloul','province_code':61,'nbre_ups_concernees':12,'nbre_salles_concernees':13,'montant_effectif':18393.71},{'province':'Jerada','province_code':12,'nbre_ups_concernees':20,'nbre_salles_concernees':20,'montant_effectif':39627.96},{'province':'Knitra','province_code':29,'nbre_ups_concernees':5,'nbre_salles_concernees':11,'montant_effectif':24680.86},{'province':'Khmisset','province_code':30,'nbre_ups_concernees':21,'nbre_salles_concernees':24,'montant_effectif':44893.2},{'province':'Khnifra','province_code':36,'nbre_ups_concernees':9,'nbre_salles_concernees':9,'montant_effectif':19259.75},{'province':'Khouribga','province_code':37,'nbre_ups_concernees':13,'nbre_salles_concernees':13,'montant_effectif':26568.75},{'province':'Layoune','province_code':70,'nbre_ups_concernees':1,'nbre_salles_concernees':1,'montant_effectif':1957.15},{'province':'Larache','province_code':5,'nbre_ups_concernees':24,'nbre_salles_concernees':24,'montant_effectif':46278.8},{'province':'M\u2019diq-Fnideq','province_code':2,'nbre_ups_concernees':7,'nbre_salles_concernees':7,'montant_effectif':18913.37},{'province':'Marrakech','province_code':47,'nbre_ups_concernees':49,'nbre_salles_concernees':49,'montant_effectif':146976.66},{'province':'Mdiouna','province_code':42,'nbre_ups_concernees':16,'nbre_salles_concernees':41,'montant_effectif':78285.99},{'province':'Mekns','province_code':18,'nbre_ups_concernees':7,'nbre_salles_concernees':9,'montant_effectif':16124.83},{'province':'Midelt','province_code':57,'nbre_ups_concernees':13,'nbre_salles_concernees':15,'montant_effectif':29530.45},{'province':'Moulay Yacoub','province_code':21,'nbre_ups_concernees':3,'nbre_salles_concernees':3,'montant_effectif':6754.77},{'province':'Nador','province_code':10,'nbre_ups_concernees':3,'nbre_salles_concernees':3,'montant_effectif':5767.53},{'province':'Nouaceur','province_code':41,'nbre_ups_concernees':4,'nbre_salles_concernees':7,'montant_effectif':16384.63},{'province':'Ouarzazate','province_code':56,'nbre_ups_concernees':7,'nbre_salles_concernees':7,'montant_effectif':19277.09},{'province':'Ouezzane','province_code':8,'nbre_ups_concernees':8,'nbre_salles_concernees':8,'montant_effectif':15535.96},{'province':'Oujda-Angad','province_code':9,'nbre_ups_concernees':10,'nbre_salles_concernees':10,'montant_effectif':20021.82},{'province':'Rehamna','province_code':52,'nbre_ups_concernees':27,'nbre_salles_concernees':28,'montant_effectif':55770.12},{'province':'Safi','province_code':53,'nbre_ups_concernees':25,'nbre_salles_concernees':25,'montant_effectif':51838.51},{'province':'Sal','province_code':27,'nbre_ups_concernees':2,'nbre_salles_concernees':2,'montant_effectif':3360.06},{'province':'Settat','province_code':45,'nbre_ups_concernees':17,'nbre_salles_concernees':17,'montant_effectif':25338.99},{'province':'Sidi Bennour','province_code':46,'nbre_ups_concernees':61,'nbre_salles_concernees':98,'montant_effectif':194138.83},{'province':'Sidi Ifni','province_code':69,'nbre_ups_concernees':14,'nbre_salles_concernees':14,'montant_effectif':30708.22},{'province':'Sidi Kacem','province_code':31,'nbre_ups_concernees':51,'nbre_salles_concernees':51,'montant_effectif':103694.21},{'province':'Sidi Slimane','province_code':32,'nbre_ups_concernees':18,'nbre_salles_concernees':24,'montant_effectif':46919.64},{'province':'Skhirate-Tmara','province_code':28,'nbre_ups_concernees':14,'nbre_salles_concernees':17,'montant_effectif':34934.27},{'province':'Tanger-Assilah','province_code':1,'nbre_ups_concernees':10,'nbre_salles_concernees':22,'montant_effectif':44338.98},{'province':'Taounate','province_code':24,'nbre_ups_concernees':15,'nbre_salles_concernees':22,'montant_effectif':45655.28},{'province':'Taourirt','province_code':14,'nbre_ups_concernees':4,'nbre_salles_concernees':4,'montant_effectif':9491.32},{'province':'Tarfaya','province_code':72,'nbre_ups_concernees':2,'nbre_salles_concernees':2,'montant_effectif':3914.3},{'province':'Taroudannt','province_code':63,'nbre_ups_concernees':73,'nbre_salles_concernees':73,'montant_effectif':126712.39},{'province':'Tata','province_code':65,'nbre_ups_concernees':8,'nbre_salles_concernees':8,'montant_effectif':12193.2},{'province':'Taza','province_code':25,'nbre_ups_concernees':19,'nbre_salles_concernees':20,'montant_effectif':38259.67},{'province':'Ttouan','province_code':3,'nbre_ups_concernees':8,'nbre_salles_concernees':8,'montant_effectif':16557.84},{'province':'Tinghir','province_code':58,'nbre_ups_concernees':83,'nbre_salles_concernees':96,'montant_effectif':144499.79},{'province':'Tiznit','province_code':64,'nbre_ups_concernees':18,'nbre_salles_concernees':18,'montant_effectif':29305.26},{'province':'Youssoufia','province_code':54,'nbre_ups_concernees':27,'nbre_salles_concernees':29,'montant_effectif':60688.96},{'province':'Zagora','province_code':59,'nbre_ups_concernees':70,'nbre_salles_concernees':89,'montant_effectif':171328.55}],arrierrePA2020:[{'province':'Essaouira','province_code':51,'nbre_ups_concernees':1,'nbre_salles_concernees':1,'montant_effectif':1298.99}],peren2023PA2019:[{'province':'Agadir-Ida-Ou-Tanane','province_code':60,'nbre_ups_concernees':11,'nbre_salles_concernees':12,'montant_effectif':25896.73},{'province':'Al Haouz','province_code':49,'nbre_ups_concernees':51,'nbre_salles_concernees':58,'montant_effectif':128483.4},{'province':'Al Hoceima','province_code':6,'nbre_ups_concernees':5,'nbre_salles_concernees':7,'montant_effectif':11275.25},{'province':'Azilal','province_code':34,'nbre_ups_concernees':22,'nbre_salles_concernees':22,'montant_effectif':40700.01},{'province':'Bni Mellal','province_code':33,'nbre_ups_concernees':12,'nbre_salles_concernees':12,'montant_effectif':27260.63},{'province':'Benslimane','province_code':43,'nbre_ups_concernees':10,'nbre_salles_concernees':11,'montant_effectif':26951.49},{'province':'Berkane','province_code':13,'nbre_ups_concernees':7,'nbre_salles_concernees':7,'montant_effectif':15621.71},{'province':'Berrechid','province_code':44,'nbre_ups_concernees':7,'nbre_salles_concernees':13,'montant_effectif':28370.03},{'province':'Boulemane','province_code':23,'nbre_ups_concernees':10,'nbre_salles_concernees':11,'montant_effectif':24714.63},{'province':'Chefchaouen','province_code':7,'nbre_ups_concernees':23,'nbre_salles_concernees':23,'montant_effectif':50138.57},{'province':'Chichaoua','province_code':48,'nbre_ups_concernees':32,'nbre_salles_concernees':32,'montant_effectif':70906.73},{'province':'Chtouka-At Baha','province_code':62,'nbre_ups_concernees':25,'nbre_salles_concernees':25,'montant_effectif':55776.11},{'province':'El Hajeb','province_code':19,'nbre_ups_concernees':12,'nbre_salles_concernees':17,'montant_effectif':37099.25},{'province':'El Jadida','province_code':40,'nbre_ups_concernees':27,'nbre_salles_concernees':27,'montant_effectif':57267.39},{'province':'El Kela des Sraghna','province_code':50,'nbre_ups_concernees':24,'nbre_salles_concernees':24,'montant_effectif':53903.04},{'province':'Errachidia','province_code':55,'nbre_ups_concernees':26,'nbre_salles_concernees':34,'montant_effectif':81963.89},{'province':'Essaouira','province_code':51,'nbre_ups_concernees':40,'nbre_salles_concernees':40,'montant_effectif':88128.85},{'province':'Fahs-Anjra','province_code':4,'nbre_ups_concernees':53,'nbre_salles_concernees':63,'montant_effectif':141631.75},{'province':'Fs','province_code':17,'nbre_ups_concernees':2,'nbre_salles_concernees':5,'montant_effectif':11311.63},{'province':'Figuig','province_code':16,'nbre_ups_concernees':5,'nbre_salles_concernees':6,'montant_effectif':15367.1},{'province':'Fquih Ben Salah','province_code':35,'nbre_ups_concernees':12,'nbre_salles_concernees':12,'montant_effectif':26405.96},{'province':'Guercif','province_code':15,'nbre_ups_concernees':6,'nbre_salles_concernees':6,'montant_effectif':12948.36},{'province':'Ifrane','province_code':20,'nbre_ups_concernees':10,'nbre_salles_concernees':20,'montant_effectif':43791.65},{'province':'Inezgane-At Melloul','province_code':61,'nbre_ups_concernees':12,'nbre_salles_concernees':13,'montant_effectif':28515.49},{'province':'Jerada','province_code':12,'nbre_ups_concernees':20,'nbre_salles_concernees':20,'montant_effectif':44773.66},{'province':'Knitra','province_code':29,'nbre_ups_concernees':43,'nbre_salles_concernees':55,'montant_effectif':89019.99},{'province':'Khmisset','province_code':30,'nbre_ups_concernees':21,'nbre_salles_concernees':24,'montant_effectif':53248.32},{'province':'Khnifra','province_code':36,'nbre_ups_concernees':9,'nbre_salles_concernees':9,'montant_effectif':20513.68},{'province':'Khouribga','province_code':37,'nbre_ups_concernees':13,'nbre_salles_concernees':13,'montant_effectif':28842.84},{'province':'Layoune','province_code':70,'nbre_ups_concernees':1,'nbre_salles_concernees':1,'montant_effectif':2309.61},{'province':'Larache','province_code':5,'nbre_ups_concernees':24,'nbre_salles_concernees':24,'montant_effectif':53248.4},{'province':'M\u2019diq-Fnideq','province_code':2,'nbre_ups_concernees':7,'nbre_salles_concernees':7,'montant_effectif':15785.35},{'province':'Marrakech','province_code':47,'nbre_ups_concernees':49,'nbre_salles_concernees':49,'montant_effectif':143377.68},{'province':'Mdiouna','province_code':42,'nbre_ups_concernees':16,'nbre_salles_concernees':41,'montant_effectif':92566.28},{'province':'Mekns','province_code':18,'nbre_ups_concernees':7,'nbre_salles_concernees':9,'montant_effectif':19440.75},{'province':'Midelt','province_code':57,'nbre_ups_concernees':13,'nbre_salles_concernees':15,'montant_effectif':34098.56},{'province':'Moulay Yacoub','province_code':21,'nbre_ups_concernees':3,'nbre_salles_concernees':3,'montant_effectif':6728.78},{'province':'Nador','province_code':10,'nbre_ups_concernees':3,'nbre_salles_concernees':3,'montant_effectif':6492.36},{'province':'Nouaceur','province_code':41,'nbre_ups_concernees':4,'nbre_salles_concernees':7,'montant_effectif':20077.23},{'province':'Ouarzazate','province_code':56,'nbre_ups_concernees':7,'nbre_salles_concernees':7,'montant_effectif':15403.43},{'province':'Ouezzane','province_code':8,'nbre_ups_concernees':8,'nbre_salles_concernees':8,'montant_effectif':18058.6},{'province':'Oujda-Angad','province_code':9,'nbre_ups_concernees':10,'nbre_salles_concernees':10,'montant_effectif':22259.56},{'province':'Rehamna','province_code':52,'nbre_ups_concernees':27,'nbre_salles_concernees':28,'montant_effectif':63832.44},{'province':'Safi','province_code':53,'nbre_ups_concernees':25,'nbre_salles_concernees':25,'montant_effectif':55776.14},{'province':'Sal','province_code':27,'nbre_ups_concernees':7,'nbre_salles_concernees':7,'montant_effectif':14475.99},{'province':'Sefrou','province_code':22,'nbre_ups_concernees':3,'nbre_salles_concernees':3,'montant_effectif':6546.93},{'province':'Settat','province_code':45,'nbre_ups_concernees':17,'nbre_salles_concernees':17,'montant_effectif':37226.54},{'province':'Sidi Bennour','province_code':46,'nbre_ups_concernees':61,'nbre_salles_concernees':98,'montant_effectif':219703.92},{'province':'Sidi Ifni','province_code':69,'nbre_ups_concernees':26,'nbre_salles_concernees':26,'montant_effectif':49774.86},{'province':'Sidi Kacem','province_code':31,'nbre_ups_concernees':51,'nbre_salles_concernees':51,'montant_effectif':128447.05},{'province':'Sidi Slimane','province_code':32,'nbre_ups_concernees':18,'nbre_salles_concernees':24,'montant_effectif':51666.17},{'province':'Skhirate-Tmara','province_code':28,'nbre_ups_concernees':14,'nbre_salles_concernees':17,'montant_effectif':36426.36},{'province':'Tanger-Assilah','province_code':1,'nbre_ups_concernees':10,'nbre_salles_concernees':22,'montant_effectif':49465.67},{'province':'Taounate','province_code':24,'nbre_ups_concernees':17,'nbre_salles_concernees':24,'montant_effectif':52084.42},{'province':'Taourirt','province_code':14,'nbre_ups_concernees':4,'nbre_salles_concernees':4,'montant_effectif':8583.74},{'province':'Tarfaya','province_code':72,'nbre_ups_concernees':4,'nbre_salles_concernees':4,'montant_effectif':6074.1},{'province':'Taroudannt','province_code':63,'nbre_ups_concernees':73,'nbre_salles_concernees':73,'montant_effectif':161927.15},{'province':'Tata','province_code':65,'nbre_ups_concernees':14,'nbre_salles_concernees':14,'montant_effectif':41754.84},{'province':'Taza','province_code':25,'nbre_ups_concernees':19,'nbre_salles_concernees':20,'montant_effectif':44391.79},{'province':'Ttouan','province_code':3,'nbre_ups_concernees':8,'nbre_salles_concernees':8,'montant_effectif':17894.93},{'province':'Tinghir','province_code':58,'nbre_ups_concernees':85,'nbre_salles_concernees':98,'montant_effectif':217267.06},{'province':'Tiznit','province_code':64,'nbre_ups_concernees':18,'nbre_salles_concernees':18,'montant_effectif':40154.48},{'province':'Youssoufia','province_code':54,'nbre_ups_concernees':29,'nbre_salles_concernees':31,'montant_effectif':67942.54},{'province':'Zagora','province_code':59,'nbre_ups_concernees':70,'nbre_salles_concernees':89,'montant_effectif':198917.37}],peren2023PA2020:[{'province':'Agadir-Ida-Ou-Tanane','province_code':60,'nbre_ups_concernees':5,'nbre_salles_concernees':5,'montant_effectif':8001.79},{'province':'Al Haouz','province_code':49,'nbre_ups_concernees':51,'nbre_salles_concernees':59,'montant_effectif':89838.25},{'province':'Al Hoceima','province_code':6,'nbre_ups_concernees':34,'nbre_salles_concernees':43,'montant_effectif':37826.77},{'province':'Aousserd','province_code':75,'nbre_ups_concernees':1,'nbre_salles_concernees':1,'montant_effectif':1818.59},{'province':'Assa-Zag','province_code':67,'nbre_ups_concernees':1,'nbre_salles_concernees':1,'montant_effectif':1818.59},{'province':'Azilal','province_code':34,'nbre_ups_concernees':99,'nbre_salles_concernees':102,'montant_effectif':121118.1},{'province':'Bni Mellal','province_code':33,'nbre_ups_concernees':31,'nbre_salles_concernees':51,'montant_effectif':76926.27},{'province':'Berkane','province_code':13,'nbre_ups_concernees':30,'nbre_salles_concernees':30,'montant_effectif':37281.02},{'province':'Berrechid','province_code':44,'nbre_ups_concernees':45,'nbre_salles_concernees':46,'montant_effectif':60377.06},{'province':'Chefchaouen','province_code':7,'nbre_ups_concernees':81,'nbre_salles_concernees':81,'montant_effectif':71834.7},{'province':'Chichaoua','province_code':48,'nbre_ups_concernees':3,'nbre_salles_concernees':3,'montant_effectif':2727.9},{'province':'Chtouka-At Baha','province_code':62,'nbre_ups_concernees':24,'nbre_salles_concernees':32,'montant_effectif':33098.34},{'province':'Driouch','province_code':11,'nbre_ups_concernees':35,'nbre_salles_concernees':36,'montant_effectif':38554.01},{'province':'El Hajeb','province_code':19,'nbre_ups_concernees':22,'nbre_salles_concernees':27,'montant_effectif':24551.04},{'province':'El Jadida','province_code':40,'nbre_ups_concernees':51,'nbre_salles_concernees':74,'montant_effectif':88565.27},{'province':'El Kela des Sraghna','province_code':50,'nbre_ups_concernees':6,'nbre_salles_concernees':18,'montant_effectif':16367.34},{'province':'Errachidia','province_code':55,'nbre_ups_concernees':18,'nbre_salles_concernees':22,'montant_effectif':33643.89},{'province':'Essaouira','province_code':51,'nbre_ups_concernees':82,'nbre_salles_concernees':82,'montant_effectif':135575.81},{'province':'Fahs-Anjra','province_code':4,'nbre_ups_concernees':55,'nbre_salles_concernees':59,'montant_effectif':86019.37},{'province':'Fs','province_code':17,'nbre_ups_concernees':11,'nbre_salles_concernees':17,'montant_effectif':24732.79},{'province':'Fquih Ben Salah','province_code':35,'nbre_ups_concernees':10,'nbre_salles_concernees':14,'montant_effectif':7638.08},{'province':'Guercif','province_code':15,'nbre_ups_concernees':33,'nbre_salles_concernees':34,'montant_effectif':55830.68},{'province':'Inezgane-At Melloul','province_code':61,'nbre_ups_concernees':1,'nbre_salles_concernees':1,'montant_effectif':1454.87},{'province':'Jerada','province_code':12,'nbre_ups_concernees':3,'nbre_salles_concernees':4,'montant_effectif':6546.92},{'province':'Khmisset','province_code':30,'nbre_ups_concernees':16,'nbre_salles_concernees':21,'montant_effectif':21823.1},{'province':'Khnifra','province_code':36,'nbre_ups_concernees':21,'nbre_salles_concernees':22,'montant_effectif':36008.06},{'province':'Larache','province_code':5,'nbre_ups_concernees':33,'nbre_salles_concernees':35,'montant_effectif':29279.44},{'province':'Marrakech','province_code':47,'nbre_ups_concernees':1,'nbre_salles_concernees':1,'montant_effectif':909.3},{'province':'Mdiouna','province_code':42,'nbre_ups_concernees':6,'nbre_salles_concernees':6,'montant_effectif':6546.9},{'province':'Mekns','province_code':18,'nbre_ups_concernees':16,'nbre_salles_concernees':22,'montant_effectif':28188.12},{'province':'Midelt','province_code':57,'nbre_ups_concernees':37,'nbre_salles_concernees':44,'montant_effectif':78926.8},{'province':'Mohammadia','province_code':39,'nbre_ups_concernees':6,'nbre_salles_concernees':12,'montant_effectif':10911.55},{'province':'Moulay Yacoub','province_code':21,'nbre_ups_concernees':17,'nbre_salles_concernees':17,'montant_effectif':13639.5},{'province':'Nador','province_code':10,'nbre_ups_concernees':34,'nbre_salles_concernees':36,'montant_effectif':33825.86},{'province':'Ouarzazate','province_code':56,'nbre_ups_concernees':7,'nbre_salles_concernees':7,'montant_effectif':7092.49},{'province':'Oued Ed-Dahab','province_code':74,'nbre_ups_concernees':2,'nbre_salles_concernees':4,'montant_effectif':6910.64},{'province':'Ouezzane','province_code':8,'nbre_ups_concernees':30,'nbre_salles_concernees':31,'montant_effectif':42009.36},{'province':'Oujda-Angad','province_code':9,'nbre_ups_concernees':6,'nbre_salles_concernees':6,'montant_effectif':9092.94},{'province':'Safi','province_code':53,'nbre_ups_concernees':73,'nbre_salles_concernees':75,'montant_effectif':121481.73},{'province':'Sal','province_code':27,'nbre_ups_concernees':14,'nbre_salles_concernees':18,'montant_effectif':15639.92},{'province':'Settat','province_code':45,'nbre_ups_concernees':46,'nbre_salles_concernees':47,'montant_effectif':33825.95},{'province':'Sidi Bennour','province_code':46,'nbre_ups_concernees':10,'nbre_salles_concernees':10,'montant_effectif':5455.8},{'province':'Sidi Kacem','province_code':31,'nbre_ups_concernees':58,'nbre_salles_concernees':68,'montant_effectif':70925.22},{'province':'Sidi Slimane','province_code':32,'nbre_ups_concernees':49,'nbre_salles_concernees':54,'montant_effectif':73289.11},{'province':'Skhirate-Tmara','province_code':28,'nbre_ups_concernees':11,'nbre_salles_concernees':14,'montant_effectif':25096.54},{'province':'Tanger-Assilah','province_code':1,'nbre_ups_concernees':5,'nbre_salles_concernees':6,'montant_effectif':8547.38},{'province':'Taourirt','province_code':14,'nbre_ups_concernees':11,'nbre_salles_concernees':11,'montant_effectif':17276.59},{'province':'Taroudannt','province_code':63,'nbre_ups_concernees':14,'nbre_salles_concernees':14,'montant_effectif':17822.14},{'province':'Taza','province_code':25,'nbre_ups_concernees':1,'nbre_salles_concernees':1,'montant_effectif':727.44},{'province':'Ttouan','province_code':3,'nbre_ups_concernees':2,'nbre_salles_concernees':2,'montant_effectif':3637.18},{'province':'Tinghir','province_code':58,'nbre_ups_concernees':84,'nbre_salles_concernees':92,'montant_effectif':96930.98},{'province':'Tiznit','province_code':64,'nbre_ups_concernees':1,'nbre_salles_concernees':1,'montant_effectif':1273.01},{'province':'Youssoufia','province_code':54,'nbre_ups_concernees':48,'nbre_salles_concernees':48,'montant_effectif':76017},{'province':'Zagora','province_code':59,'nbre_ups_concernees':30,'nbre_salles_concernees':30,'montant_effectif':49101.9}],peren2023PA2021:[{'province':'Al Haouz','province_code':49,'nbre_ups_concernees':5,'nbre_salles_concernees':12,'montant_effectif':8729.23},{'province':'Driouch','province_code':11,'nbre_ups_concernees':1,'nbre_salles_concernees':1,'montant_effectif':727.44},{'province':'Taourirt','province_code':14,'nbre_ups_concernees':1,'nbre_salles_concernees':1,'montant_effectif':1091.15},{'province':'Tinghir','province_code':58,'nbre_ups_concernees':1,'nbre_salles_concernees':1,'montant_effectif':1454.87}],peren2024PA2019:[{'province':'Agadir-Ida-Ou-Tanane','province_code':60,'nbre_ups_concernees':11,'nbre_salles_concernees':12,'montant_effectif':30170.45},{'province':'Al Haouz','province_code':49,'nbre_ups_concernees':51,'nbre_salles_concernees':58,'montant_effectif':149324.48},{'province':'Al Hoceima','province_code':6,'nbre_ups_concernees':5,'nbre_salles_concernees':7,'montant_effectif':36280.89},{'province':'Azilal','province_code':34,'nbre_ups_concernees':22,'nbre_salles_concernees':22,'montant_effectif':83446.06},{'province':'Bni Mellal','province_code':33,'nbre_ups_concernees':12,'nbre_salles_concernees':12,'montant_effectif':29024.66},{'province':'Benslimane','province_code':43,'nbre_ups_concernees':10,'nbre_salles_concernees':11,'montant_effectif':30170.4},{'province':'Berkane','province_code':13,'nbre_ups_concernees':7,'nbre_salles_concernees':7,'montant_effectif':19095.21},{'province':'Berrechid','province_code':44,'nbre_ups_concernees':7,'nbre_salles_concernees':13,'montant_effectif':29788.52},{'province':'Boulemane','province_code':23,'nbre_ups_concernees':10,'nbre_salles_concernees':11,'montant_effectif':28451.82},{'province':'Chefchaouen','province_code':7,'nbre_ups_concernees':23,'nbre_salles_concernees':23,'montant_effectif':66451.31},{'province':'Chichaoua','province_code':48,'nbre_ups_concernees':32,'nbre_salles_concernees':32,'montant_effectif':82682.12},{'province':'Chtouka-At Baha','province_code':62,'nbre_ups_concernees':25,'nbre_salles_concernees':25,'montant_effectif':62632.17},{'province':'El Hajeb','province_code':19,'nbre_ups_concernees':12,'nbre_salles_concernees':17,'montant_effectif':49647.53},{'province':'El Jadida','province_code':40,'nbre_ups_concernees':27,'nbre_salles_concernees':27,'montant_effectif':92611.68},{'province':'El Kela des Sraghna','province_code':50,'nbre_ups_concernees':24,'nbre_salles_concernees':24,'montant_effectif':75616.92},{'province':'Errachidia','province_code':55,'nbre_ups_concernees':26,'nbre_salles_concernees':34,'montant_effectif':92993.68},{'province':'Essaouira','province_code':51,'nbre_ups_concernees':40,'nbre_salles_concernees':40,'montant_effectif':111897.93},{'province':'Fahs-Anjra','province_code':4,'nbre_ups_concernees':53,'nbre_salles_concernees':63,'montant_effectif':148369.63},{'province':'Fs','province_code':17,'nbre_ups_concernees':2,'nbre_salles_concernees':5,'montant_effectif':16994.72},{'province':'Figuig','province_code':16,'nbre_ups_concernees':5,'nbre_salles_concernees':6,'montant_effectif':19858.99},{'province':'Fquih Ben Salah','province_code':35,'nbre_ups_concernees':12,'nbre_salles_concernees':12,'montant_effectif':29024.72},{'province':'Guercif','province_code':15,'nbre_ups_concernees':6,'nbre_salles_concernees':6,'montant_effectif':15085.23},{'province':'Ifrane','province_code':20,'nbre_ups_concernees':10,'nbre_salles_concernees':20,'montant_effectif':62632.25},{'province':'Inezgane-At Melloul','province_code':61,'nbre_ups_concernees':12,'nbre_salles_concernees':13,'montant_effectif':39145.13},{'province':'Jerada','province_code':12,'nbre_ups_concernees':20,'nbre_salles_concernees':20,'montant_effectif':46783.2},{'province':'Knitra','province_code':29,'nbre_ups_concernees':43,'nbre_salles_concernees':55,'montant_effectif':284900.48},{'province':'Khmisset','province_code':30,'nbre_ups_concernees':21,'nbre_salles_concernees':24,'montant_effectif':59577.04},{'province':'Khnifra','province_code':36,'nbre_ups_concernees':9,'nbre_salles_concernees':9,'montant_effectif':22150.4},{'province':'Khouribga','province_code':37,'nbre_ups_concernees':13,'nbre_salles_concernees':13,'montant_effectif':29788.46},{'province':'Layoune','province_code':70,'nbre_ups_concernees':1,'nbre_salles_concernees':1,'montant_effectif':2291.42},{'province':'Larache','province_code':5,'nbre_ups_concernees':24,'nbre_salles_concernees':24,'montant_effectif':73325.6},{'province':'M\u2019diq-Fnideq','province_code':2,'nbre_ups_concernees':7,'nbre_salles_concernees':7,'montant_effectif':21386.61},{'province':'Marrakech','province_code':47,'nbre_ups_concernees':49,'nbre_salles_concernees':49,'montant_effectif':200690.53},{'province':'Mdiouna','province_code':42,'nbre_ups_concernees':16,'nbre_salles_concernees':41,'montant_effectif':98340.31},{'province':'Mekns','province_code':18,'nbre_ups_concernees':7,'nbre_salles_concernees':9,'montant_effectif':23678.06},{'province':'Midelt','province_code':57,'nbre_ups_concernees':13,'nbre_salles_concernees':15,'montant_effectif':34753.22},{'province':'Moulay Yacoub','province_code':21,'nbre_ups_concernees':3,'nbre_salles_concernees':3,'montant_effectif':8019.98},{'province':'Nador','province_code':10,'nbre_ups_concernees':3,'nbre_salles_concernees':3,'montant_effectif':7447.14},{'province':'Nouaceur','province_code':41,'nbre_ups_concernees':4,'nbre_salles_concernees':7,'montant_effectif':22723.29},{'province':'Ouarzazate','province_code':56,'nbre_ups_concernees':7,'nbre_salles_concernees':7,'montant_effectif':21386.61},{'province':'Ouezzane','province_code':8,'nbre_ups_concernees':8,'nbre_salles_concernees':8,'montant_effectif':18904.24},{'province':'Oujda-Angad','province_code':9,'nbre_ups_concernees':10,'nbre_salles_concernees':10,'montant_effectif':23296.12},{'province':'Rehamna','province_code':52,'nbre_ups_concernees':28,'nbre_salles_concernees':29,'montant_effectif':72752.62},{'province':'Safi','province_code':53,'nbre_ups_concernees':25,'nbre_salles_concernees':25,'montant_effectif':61486.5},{'province':'Sal','province_code':27,'nbre_ups_concernees':7,'nbre_salles_concernees':7,'montant_effectif':29215.66},{'province':'Sefrou','province_code':22,'nbre_ups_concernees':3,'nbre_salles_concernees':3,'montant_effectif':13748.55},{'province':'Settat','province_code':45,'nbre_ups_concernees':17,'nbre_salles_concernees':17,'montant_effectif':49838.46},{'province':'Sidi Bennour','province_code':46,'nbre_ups_concernees':63,'nbre_salles_concernees':102,'montant_effectif':295402.81},{'province':'Sidi Ifni','province_code':69,'nbre_ups_concernees':26,'nbre_salles_concernees':26,'montant_effectif':97194.51},{'province':'Sidi Kacem','province_code':31,'nbre_ups_concernees':52,'nbre_salles_concernees':52,'montant_effectif':180831.49},{'province':'Sidi Slimane','province_code':32,'nbre_ups_concernees':18,'nbre_salles_concernees':24,'montant_effectif':59004.19},{'province':'Skhirate-Tmara','province_code':28,'nbre_ups_concernees':14,'nbre_salles_concernees':17,'montant_effectif':43537.09},{'province':'Tanger-Assilah','province_code':1,'nbre_ups_concernees':10,'nbre_salles_concernees':22,'montant_effectif':51938.94},{'province':'Taounate','province_code':24,'nbre_ups_concernees':17,'nbre_salles_concernees':24,'montant_effectif':72179.87},{'province':'Taourirt','province_code':14,'nbre_ups_concernees':4,'nbre_salles_concernees':4,'montant_effectif':11075.22},{'province':'Tarfaya','province_code':72,'nbre_ups_concernees':4,'nbre_salles_concernees':4,'montant_effectif':16803.76},{'province':'Taroudannt','province_code':63,'nbre_ups_concernees':73,'nbre_salles_concernees':73,'montant_effectif':215011.89},{'province':'Tata','province_code':65,'nbre_ups_concernees':14,'nbre_salles_concernees':14,'montant_effectif':80199.84},{'province':'Taza','province_code':25,'nbre_ups_concernees':19,'nbre_salles_concernees':20,'montant_effectif':51748.05},{'province':'Ttouan','province_code':3,'nbre_ups_concernees':8,'nbre_salles_concernees':8,'montant_effectif':21004.74},{'province':'Tinghir','province_code':58,'nbre_ups_concernees':85,'nbre_salles_concernees':98,'montant_effectif':304186.42},{'province':'Tiznit','province_code':64,'nbre_ups_concernees':18,'nbre_salles_concernees':18,'montant_effectif':49265.6},{'province':'Youssoufia','province_code':54,'nbre_ups_concernees':29,'nbre_salles_concernees':31,'montant_effectif':84400.79},{'province':'Zagora','province_code':59,'nbre_ups_concernees':70,'nbre_salles_concernees':89,'montant_effectif':214057.17}],peren2024PA2020:[{'province':'Agadir-Ida-Ou-Tanane','province_code':60,'nbre_ups_concernees':5,'nbre_salles_concernees':5,'montant_effectif':25969.49},{'province':'Al Haouz','province_code':49,'nbre_ups_concernees':51,'nbre_salles_concernees':59,'montant_effectif':311251.68},{'province':'Al Hoceima','province_code':6,'nbre_ups_concernees':63,'nbre_salles_concernees':77,'montant_effectif':489600.81},{'province':'Aousserd','province_code':75,'nbre_ups_concernees':1,'nbre_salles_concernees':1,'montant_effectif':4964.75},{'province':'Assa-Zag','province_code':67,'nbre_ups_concernees':1,'nbre_salles_concernees':1,'montant_effectif':4964.75},{'province':'Azilal','province_code':34,'nbre_ups_concernees':102,'nbre_salles_concernees':105,'montant_effectif':594624.63},{'province':'Bni Mellal','province_code':33,'nbre_ups_concernees':31,'nbre_salles_concernees':51,'montant_effectif':269815.16},{'province':'Benslimane','province_code':43,'nbre_ups_concernees':15,'nbre_salles_concernees':16,'montant_effectif':109988.32},{'province':'Berkane','province_code':13,'nbre_ups_concernees':30,'nbre_salles_concernees':30,'montant_effectif':167083.05},{'province':'Berrechid','province_code':44,'nbre_ups_concernees':45,'nbre_salles_concernees':46,'montant_effectif':252820.55},{'province':'Boulemane','province_code':23,'nbre_ups_concernees':12,'nbre_salles_concernees':12,'montant_effectif':82491.24},{'province':'Chefchaouen','province_code':7,'nbre_ups_concernees':93,'nbre_salles_concernees':93,'montant_effectif':563881.05},{'province':'Chichaoua','province_code':48,'nbre_ups_concernees':17,'nbre_salles_concernees':17,'montant_effectif':113998.31},{'province':'Chtouka-At Baha','province_code':62,'nbre_ups_concernees':24,'nbre_salles_concernees':32,'montant_effectif':185223.42},{'province':'Driouch','province_code':11,'nbre_ups_concernees':53,'nbre_salles_concernees':54,'montant_effectif':330728.82},{'province':'El Hajeb','province_code':19,'nbre_ups_concernees':33,'nbre_salles_concernees':38,'montant_effectif':235443.75},{'province':'El Jadida','province_code':40,'nbre_ups_concernees':63,'nbre_salles_concernees':91,'montant_effectif':532565.13},{'province':'El Kela des Sraghna','province_code':50,'nbre_ups_concernees':28,'nbre_salles_concernees':55,'montant_effectif':360899.23},{'province':'Errachidia','province_code':55,'nbre_ups_concernees':18,'nbre_salles_concernees':22,'montant_effectif':115907.84},{'province':'Essaouira','province_code':51,'nbre_ups_concernees':82,'nbre_salles_concernees':82,'montant_effectif':419903.27},{'province':'Fahs-Anjra','province_code':4,'nbre_ups_concernees':66,'nbre_salles_concernees':70,'montant_effectif':390878.66},{'province':'Fs','province_code':17,'nbre_ups_concernees':11,'nbre_salles_concernees':17,'montant_effectif':90893.16},{'province':'Figuig','province_code':16,'nbre_ups_concernees':28,'nbre_salles_concernees':30,'montant_effectif':206228.1},{'province':'Fquih Ben Salah','province_code':35,'nbre_ups_concernees':25,'nbre_salles_concernees':34,'montant_effectif':225705.24},{'province':'Guelmim','province_code':66,'nbre_ups_concernees':1,'nbre_salles_concernees':1,'montant_effectif':6874.27},{'province':'Guercif','province_code':15,'nbre_ups_concernees':33,'nbre_salles_concernees':34,'montant_effectif':175102.95},{'province':'Ifrane','province_code':20,'nbre_ups_concernees':23,'nbre_salles_concernees':24,'montant_effectif':164982.48},{'province':'Inezgane-At Melloul','province_code':61,'nbre_ups_concernees':3,'nbre_salles_concernees':3,'montant_effectif':19095.2},{'province':'Jerada','province_code':12,'nbre_ups_concernees':3,'nbre_salles_concernees':4,'montant_effectif':20622.81},{'province':'Khmisset','province_code':30,'nbre_ups_concernees':16,'nbre_salles_concernees':21,'montant_effectif':121445.46},{'province':'Khnifra','province_code':36,'nbre_ups_concernees':21,'nbre_salles_concernees':22,'montant_effectif':113425.41},{'province':'Larache','province_code':5,'nbre_ups_concernees':40,'nbre_salles_concernees':45,'montant_effectif':278598.87},{'province':'Marrakech','province_code':47,'nbre_ups_concernees':38,'nbre_salles_concernees':38,'montant_effectif':260267.5},{'province':'Mdiouna','province_code':42,'nbre_ups_concernees':12,'nbre_salles_concernees':13,'montant_effectif':82491.25},{'province':'Mekns','province_code':18,'nbre_ups_concernees':16,'nbre_salles_concernees':22,'montant_effectif':121636.43},{'province':'Midelt','province_code':57,'nbre_ups_concernees':37,'nbre_salles_concernees':44,'montant_effectif':219594.7},{'province':'Mohammadia','province_code':39,'nbre_ups_concernees':6,'nbre_salles_concernees':12,'montant_effectif':71034.13},{'province':'Moulay Yacoub','province_code':21,'nbre_ups_concernees':39,'nbre_salles_concernees':39,'montant_effectif':260649.38},{'province':'Nador','province_code':10,'nbre_ups_concernees':34,'nbre_salles_concernees':36,'montant_effectif':211956.68},{'province':'Ouarzazate','province_code':56,'nbre_ups_concernees':7,'nbre_salles_concernees':7,'montant_effectif':40672.79},{'province':'Oued Ed-Dahab','province_code':74,'nbre_ups_concernees':2,'nbre_salles_concernees':4,'montant_effectif':20240.91},{'province':'Ouezzane','province_code':8,'nbre_ups_concernees':53,'nbre_salles_concernees':54,'montant_effectif':327100.67},{'province':'Oujda-Angad','province_code':9,'nbre_ups_concernees':6,'nbre_salles_concernees':6,'montant_effectif':31698.04},{'province':'Safi','province_code':53,'nbre_ups_concernees':73,'nbre_salles_concernees':75,'montant_effectif':388014.31},{'province':'Sal','province_code':27,'nbre_ups_concernees':15,'nbre_salles_concernees':19,'montant_effectif':114189.26},{'province':'Sefrou','province_code':22,'nbre_ups_concernees':9,'nbre_salles_concernees':9,'montant_effectif':61868.43},{'province':'Settat','province_code':45,'nbre_ups_concernees':49,'nbre_salles_concernees':50,'montant_effectif':308196.36},{'province':'Sidi Bennour','province_code':46,'nbre_ups_concernees':48,'nbre_salles_concernees':57,'montant_effectif':386104.89},{'province':'Sidi Kacem','province_code':31,'nbre_ups_concernees':58,'nbre_salles_concernees':68,'montant_effectif':392979.09},{'province':'Sidi Slimane','province_code':32,'nbre_ups_concernees':49,'nbre_salles_concernees':54,'montant_effectif':294257.05},{'province':'Skhirate-Tmara','province_code':28,'nbre_ups_concernees':12,'nbre_salles_concernees':15,'montant_effectif':76762.68},{'province':'Tanger-Assilah','province_code':1,'nbre_ups_concernees':5,'nbre_salles_concernees':6,'montant_effectif':32270.89},{'province':'Taounate','province_code':24,'nbre_ups_concernees':1,'nbre_salles_concernees':1,'montant_effectif':6874.27},{'province':'Taourirt','province_code':14,'nbre_ups_concernees':11,'nbre_salles_concernees':11,'montant_effectif':57476.52},{'province':'Taroudannt','province_code':63,'nbre_ups_concernees':44,'nbre_salles_concernees':44,'montant_effectif':283754.64},{'province':'Tata','province_code':65,'nbre_ups_concernees':9,'nbre_salles_concernees':9,'montant_effectif':61868.43},{'province':'Taza','province_code':25,'nbre_ups_concernees':55,'nbre_salles_concernees':55,'montant_effectif':377321.04},{'province':'Ttouan','province_code':3,'nbre_ups_concernees':2,'nbre_salles_concernees':2,'montant_effectif':9929.5},{'province':'Tinghir','province_code':58,'nbre_ups_concernees':90,'nbre_salles_concernees':98,'montant_effectif':571901.03},{'province':'Tiznit','province_code':64,'nbre_ups_concernees':1,'nbre_salles_concernees':1,'montant_effectif':5537.61},{'province':'Youssoufia','province_code':54,'nbre_ups_concernees':48,'nbre_salles_concernees':48,'montant_effectif':250147.04},{'province':'Zagora','province_code':59,'nbre_ups_concernees':30,'nbre_salles_concernees':30,'montant_effectif':154671}],peren2024PA2021:[{'province':'Agadir-Ida-Ou-Tanane','province_code':60,'nbre_ups_concernees':8,'nbre_salles_concernees':10,'montant_effectif':68742.7},{'province':'Al Haouz','province_code':49,'nbre_ups_concernees':149,'nbre_salles_concernees':161,'montant_effectif':1097591.8},{'province':'Al Hoceima','province_code':6,'nbre_ups_concernees':24,'nbre_salles_concernees':25,'montant_effectif':171856.75},{'province':'Aousserd','province_code':75,'nbre_ups_concernees':1,'nbre_salles_concernees':3,'montant_effectif':20622.82},{'province':'Azilal','province_code':34,'nbre_ups_concernees':48,'nbre_salles_concernees':51,'montant_effectif':350587.77},{'province':'Bni Mellal','province_code':33,'nbre_ups_concernees':20,'nbre_salles_concernees':24,'montant_effectif':164982.48},{'province':'Benslimane','province_code':43,'nbre_ups_concernees':33,'nbre_salles_concernees':33,'montant_effectif':226850.91},{'province':'Berrechid','province_code':44,'nbre_ups_concernees':98,'nbre_salles_concernees':102,'montant_effectif':701175.54},{'province':'Boujdour','province_code':71,'nbre_ups_concernees':2,'nbre_salles_concernees':7,'montant_effectif':48119.91},{'province':'Boulemane','province_code':23,'nbre_ups_concernees':9,'nbre_salles_concernees':10,'montant_effectif':68742.7},{'province':'Chefchaouen','province_code':7,'nbre_ups_concernees':87,'nbre_salles_concernees':87,'montant_effectif':598061.49},{'province':'Chichaoua','province_code':48,'nbre_ups_concernees':66,'nbre_salles_concernees':66,'montant_effectif':453701.82},{'province':'Chtouka-At Baha','province_code':62,'nbre_ups_concernees':29,'nbre_salles_concernees':38,'montant_effectif':261222.26},{'province':'Driouch','province_code':11,'nbre_ups_concernees':41,'nbre_salles_concernees':41,'montant_effectif':281081.26},{'province':'El Hajeb','province_code':19,'nbre_ups_concernees':22,'nbre_salles_concernees':26,'montant_effectif':178731.02},{'province':'El Jadida','province_code':40,'nbre_ups_concernees':80,'nbre_salles_concernees':88,'montant_effectif':604935.76},{'province':'El Kela des Sraghna','province_code':50,'nbre_ups_concernees':25,'nbre_salles_concernees':33,'montant_effectif':226850.91},{'province':'Errachidia','province_code':55,'nbre_ups_concernees':119,'nbre_salles_concernees':119,'montant_effectif':818038.13},{'province':'Essaouira','province_code':51,'nbre_ups_concernees':88,'nbre_salles_concernees':96,'montant_effectif':659929.92},{'province':'Fs','province_code':17,'nbre_ups_concernees':2,'nbre_salles_concernees':2,'montant_effectif':13748.54},{'province':'Figuig','province_code':16,'nbre_ups_concernees':26,'nbre_salles_concernees':26,'montant_effectif':178731.02},{'province':'Guelmim','province_code':66,'nbre_ups_concernees':6,'nbre_salles_concernees':6,'montant_effectif':41245.62},{'province':'Guercif','province_code':15,'nbre_ups_concernees':44,'nbre_salles_concernees':44,'montant_effectif':302467.88},{'province':'Inezgane-At Melloul','province_code':61,'nbre_ups_concernees':13,'nbre_salles_concernees':15,'montant_effectif':103114.05},{'province':'Jerada','province_code':12,'nbre_ups_concernees':3,'nbre_salles_concernees':3,'montant_effectif':20622.81},{'province':'Knitra','province_code':29,'nbre_ups_concernees':5,'nbre_salles_concernees':5,'montant_effectif':34371.35},{'province':'Khmisset','province_code':30,'nbre_ups_concernees':20,'nbre_salles_concernees':20,'montant_effectif':137485.4},{'province':'Khnifra','province_code':36,'nbre_ups_concernees':36,'nbre_salles_concernees':36,'montant_effectif':247473.72},{'province':'Khouribga','province_code':37,'nbre_ups_concernees':28,'nbre_salles_concernees':32,'montant_effectif':219976.64},{'province':'Layoune','province_code':70,'nbre_ups_concernees':2,'nbre_salles_concernees':2,'montant_effectif':13748.54},{'province':'Larache','province_code':5,'nbre_ups_concernees':22,'nbre_salles_concernees':27,'montant_effectif':185605.29},{'province':'Marrakech','province_code':47,'nbre_ups_concernees':2,'nbre_salles_concernees':2,'montant_effectif':13748.54},{'province':'Mekns','province_code':18,'nbre_ups_concernees':41,'nbre_salles_concernees':41,'montant_effectif':281845.07},{'province':'Midelt','province_code':57,'nbre_ups_concernees':67,'nbre_salles_concernees':74,'montant_effectif':508695.98},{'province':'Moulay Yacoub','province_code':21,'nbre_ups_concernees':65,'nbre_salles_concernees':65,'montant_effectif':446827.55},{'province':'Nador','province_code':10,'nbre_ups_concernees':42,'nbre_salles_concernees':42,'montant_effectif':288719.34},{'province':'Ouarzazate','province_code':56,'nbre_ups_concernees':107,'nbre_salles_concernees':139,'montant_effectif':955523.53},{'province':'Oued Ed-Dahab','province_code':74,'nbre_ups_concernees':2,'nbre_salles_concernees':4,'montant_effectif':27497.08},{'province':'Ouezzane','province_code':8,'nbre_ups_concernees':56,'nbre_salles_concernees':56,'montant_effectif':384959.12},{'province':'Oujda-Angad','province_code':9,'nbre_ups_concernees':6,'nbre_salles_concernees':6,'montant_effectif':41245.62},{'province':'Rehamna','province_code':52,'nbre_ups_concernees':2,'nbre_salles_concernees':2,'montant_effectif':13748.54},{'province':'Safi','province_code':53,'nbre_ups_concernees':82,'nbre_salles_concernees':82,'montant_effectif':563690.14},{'province':'Sidi Kacem','province_code':31,'nbre_ups_concernees':50,'nbre_salles_concernees':55,'montant_effectif':378084.86},{'province':'Sidi Slimane','province_code':32,'nbre_ups_concernees':15,'nbre_salles_concernees':15,'montant_effectif':103114.05},{'province':'Tanger-Assilah','province_code':1,'nbre_ups_concernees':10,'nbre_salles_concernees':11,'montant_effectif':75616.97},{'province':'Tan-Tan','province_code':68,'nbre_ups_concernees':3,'nbre_salles_concernees':3,'montant_effectif':20622.81},{'province':'Taourirt','province_code':14,'nbre_ups_concernees':18,'nbre_salles_concernees':18,'montant_effectif':122591.15},{'province':'Tarfaya','province_code':72,'nbre_ups_concernees':5,'nbre_salles_concernees':5,'montant_effectif':34371.35},{'province':'Taroudannt','province_code':63,'nbre_ups_concernees':15,'nbre_salles_concernees':15,'montant_effectif':103114.05},{'province':'Tata','province_code':65,'nbre_ups_concernees':7,'nbre_salles_concernees':7,'montant_effectif':48119.89},{'province':'Ttouan','province_code':3,'nbre_ups_concernees':10,'nbre_salles_concernees':10,'montant_effectif':68742.7},{'province':'Tinghir','province_code':58,'nbre_ups_concernees':107,'nbre_salles_concernees':114,'montant_effectif':782139.17},{'province':'Tiznit','province_code':64,'nbre_ups_concernees':18,'nbre_salles_concernees':18,'montant_effectif':123736.86},{'province':'Youssoufia','province_code':54,'nbre_ups_concernees':57,'nbre_salles_concernees':57,'montant_effectif':391833.39},{'province':'Zagora','province_code':59,'nbre_ups_concernees':140,'nbre_salles_concernees':149,'montant_effectif':1031140.5}]}},onUnitesStoreLoad:function(){var a=this,c=this.getViewModel(),b=c.getStore('fp_unites'),d=c.getStore('reportings');this.ups=b.getData().items;d.load({scope:this,callback:function(f,d,g){console.log('reportingsStore load');if(!g||d.exception){var e="Nous n'avons pas pu Charger les Donnes !<br/> Veuillez actualiser la page";e+=App.util.Errors.toMsg(d.error||d.getError());console.log(d);a.getView().setMasked(!1);App.ux.Signals.showWarning(e,!0);return}var c=[];f.forEach(function(e){var r=e.get('province_code');var m=e.get('plan_actions');var v=e.get('fondation_partenaire');if(m==='2022'||m==='2023'){return}var s=b.getData().createFiltered(function(a){return a.get('plan_actions')==m&&a.get('province_code')==r});var l={province_code:r,plan_actions:m,nbre_salles:1,fondation_partenaire:v};var o=s.count();if(e.get('nbre_programmees')<=o||e.get('nbre_salles_calc')<=s.sum('nbre_salles')){return}var i=e.get('prevision_mois0');if(o>e.get('nbre_ouvertes')){i-=o-e.get('nbre_ouvertes')}var h=e.get('date_situation')||e.get('updated');var u=Ext.util.Format.date(h,'F');var p=Ext.util.Format.date(Ext.Date.add(h,Ext.Date.MONTH,1),'F');if(i>0){c=c.concat(a.fillArray(i,l,{intitule:'UP / Ouverture Prvue au '+u,est_ouverte:!0,tx_avancement_physique:100,statut:'Oprationnel',date_ouverture:h}))}var j=e.get('prevision_mois1');if(i<0){j+=i}if(j>0){c=c.concat(a.fillArray(j,l,{intitule:'UP / Ouverture Prvue au '+p,est_ouverte:!0,date_ouverture:Ext.Date.add(h,Ext.Date.MONTH,1)}))}var k=e.get('prevision_mois2');if(j<0){k+=j}var w=e.get('prevision_prochaine_rentree');var t=e.get('nbre_encours');if(k>0){var n=Math.min(k,t);var q=k-n;if(n>0){c=c.concat(a.fillArray(n,l,{intitule:'UP / Ouverture Prvue Au-del du '+p,est_ouverte:!0,date_ouverture:Ext.Date.add(h,Ext.Date.MONTH,3)}))}if(q>0){c=c.concat(a.fillArray(q,l,{intitule:'UP Non Dmarres / Ouverture Prvue Au-del du '+p,est_ouverte:!0,date_ouverture:Ext.Date.add(h,Ext.Date.MONTH,6)}))}}});if(c.length>0){this.ups=this.ups.concat(c)}setTimeout(function(){a.getView().setMasked(!1)},500)}})},fillArray:function(b,g,f){var d=[];var a=0;for(;a<b;a++){var c=Object.assign({},g,f);c.intitule+=' ('+Ext.String.leftPad(a+1,b.toString().length,'0')+')';var e=Ext.create('App.model.Projet',c);d.push(e)}return d},calcCoutBaseFoncAt:function(n,c){var b=this.getViewModel(),g=b.get('cout_fonctionnement_hors_salaires'),j=b.get('appliquer2Augmentation'),l=b.get('treshould'),k=b.get('roundCoutFct'),f=b.get('smig_horaire'),a;var i=new Date(2022,8,1),h=new Date(2023,8,1);var d=new Date(+n);d.setMonth(d.getMonth()+l);var a=b.get('smig');var e=1;if(d>=h&&j){a=Ext.Number.roundToPrecision(a*1.05,2,'ceil');a=Ext.Number.roundToPrecision(a*1.05,2,'ceil')}else if(d>=i){e=1.05;a=Ext.Number.roundToPrecision(a*e,2,'ceil')}f=Ext.Number.roundToPrecision(f*e,2,'round');charges_sociales_mensuelles=this.mixins.util.calcChargesSocialesMensuelles(a);if(c>=25){charges_sociales_mensuelles*=1.25}else if(c>=20){charges_sociales_mensuelles*=1.2}else if(c>=12){charges_sociales_mensuelles*=1.15}else if(c>=5){charges_sociales_mensuelles*=1.1}else if(c>=2){charges_sociales_mensuelles*=1.05}charges_sociales_mensuelles=Ext.Number.roundToPrecision(charges_sociales_mensuelles,2,'ceil');var m=charges_sociales_mensuelles*12+g;return Ext.Number.roundToPrecision(m,k,'ceil')},_getCostsMatrix:function(c,m){var a=this.getViewModel(),g=a.get('cout_construction_t1'),e=a.get('cout_construction_t2'),i=a.get('cout_amenagement'),k=a.get('cout_modulaire'),n=a.get('cout_etudes'),p=a.get('cout_equipement'),l=[g,e,e,i,k],d=a.get('cout_fonctionnement'),j=a.get('quote_part_INDH')/100,f=a.get('appliquerRevalorisation'),h=a.get('calcCASINDHContrib');var b;switch(c){case P_TRANCHES.ETUDES:b=n;break;case P_TRANCHES.CONSTRUCTION:b=l;break;case P_TRANCHES.EQUIPEMENT:b=p;break;default:var o=c<P_TRANCHES.ANNEE_3?0:c-P_TRANCHES.ANNEE_3+2;if(f){d=this.calcCoutBaseFoncAt(m,o)};if(c>=P_TRANCHES.ANNEE_3){b=d;if(h){b*=j}}else if(c===P_TRANCHES.ANNEE_1||c===P_TRANCHES.ANNEE_2){b=d}else if(c===P_TRANCHES.ANNEE_1_2){b=d*2}else if(c>=P_TRANCHES.TR1&&c<=P_TRANCHES.TR4){b=d/2};}return b},cloneSousDelegations:function(f,l,a,k,b){var m=this,g=this.getViewModel(),h=g.get('stopDelegationAtEndOf2023'),i=g.getStore('sousdelegations'),c=[],e,j=[1,2,3,1,1],d=this._getCostsMatrix(a,b);e=i.getData().createFiltered(function(c){return c.get('plan_actions')==='PA '+f&&c.get('tranche_no')===l});e.each(function(e){var g=e.get('matrix_types_up');var n=math.sum(g)===0?e.get('nbre_salles_concernees'):math.sum(math.multiply(g,j));var i;if(a<P_TRANCHES.EQUIPEMENT){i=math.sum(math.multiply(d,g))}else {i=n*d}c.push(m.mixins.util.createSousDelegation({province_code:e.get('province_code'),tranche_no:a,libelle:k,plan_actions:f,nature_affectation:a<=P_TRANCHES.CONSTRUCTION?'Cration':a===P_TRANCHES.EQUIPEMENT?'Equipement':'Fonctionnement',date_delegation:b,unitescount:e.get('nbre_ups_concernees'),sallescount:e.get('nbre_salles_concernees'),nbre_t1:e.get('nbre_t1'),nbre_t2:e.get('nbre_t2'),nbre_t3:e.get('nbre_t3'),nbre_amg:e.get('nbre_amg'),nbre_mod:e.get('nbre_mod'),provincescount:1},i,h))});return c},calcBesoins:function(b,a,p,e){var q=this,c=this.getViewModel(),h=c.get('stopDelegationAtEndOf2023'),j=c.getStore('sousdelegations'),i=c.getStore('reportings'),k=c.get('doCompensation'),f=[],g,d,n=['T1','T2','T3','Amg','Mod'],l=[1,2,3,1,1],m=this._getCostsMatrix(a,e),o=function(c,f){var g=math.magnitude(c);if(g===1){c.forEach(function(g,d,h){if(g>0){c.set(d,f)}})}else if(g>=2){var h=math.sum(c);var d=h-f;c.forEach(function(h,g,i){if(f===0){return}if(h>d){c.set(g,f-d);d=0}else {c.set(g,0);d-=h}})}};g=i.getData().createFiltered(function(c){return c.get('plan_actions')===b});d=j.getData().createFiltered(function(c){return c.get('plan_actions')==='PA '+b&&c.get('tranche_no')===a});g.each(function(i){var j=i.get('province_code');var z=i.get('nbre_programmees');var B=i.get('nbre_salles');if(!z){return}var x=d&&d.createFiltered(function(c){return c.get('province_code')===j});var s=i.get('matrix_programmation');var g=x&&x.sum('matrix_types_up');var A=s.get([0])+s.get([1])+s.get([2]);if(a===P_TRANCHES.ETUDES){var u=x.sum('nbre_ups_concernees');if(u<math.sum(g)){console.log('*************************');if(A===u){g=s;g.set([3],0);g.set([4],0)}else {if(math.sum(g)===0){g.set([0],u)}else {g.set([0],g.get([0])+(u-math.sum(g)))}}}}var c=math.subtract(s,g).map(function(c,d){return c<0?0:c});if(a===P_TRANCHES.ETUDES){if(b==='2023'){switch(j){case 27:case 49:return;}}if(A<=math.sum(g)){return}c.set([3],0);c.set([4],0)}if(!k){var r;if(a===P_TRANCHES.ETUDES){r=i.get('nbre_etudes_non_lancees')+i.get('nbre_etudes_lancees')}else if(a===P_TRANCHES.CONSTRUCTION){r=z-i.get('nbre_achevees')-i.get('nbre_encours');if(b==='2022'){if(j==49){r+=26}else if(j===24){r-=i.get('nbre_marches_adjuges')}}}if(r===0){return}var C=math.sum(c);var v=C-r;if(v>0){if(a===P_TRANCHES.CONSTRUCTION&&c.get([3])>=v){c.set([3],c.get([3])-v)}else {o(c,r)}}}var y=math.sum(g)===0?B:math.sum(math.multiply(c,l));var t=math.sum(math.multiply(m,a<P_TRANCHES.EQUIPEMENT?c:y));if(t<=0||math.sum(c)<=0){console.log('not logic amount: ',t,c,b,i);return}if(j===65&&b==='2022'&&a===P_TRANCHES.CONSTRUCTION){t=1102000}if(j===49&&b==='2023'&&a===P_TRANCHES.ANNEE_1_2){t=11998480}var w='';c.forEach(function(c,d,f){if(!c){return}w+=c;w+=n[d]+', '});f.push(q.mixins.util.createSousDelegation({province_code:j,tranche_no:a,libelle:p,observations:w,plan_actions:b,nature_affectation:a<=P_TRANCHES.CONSTRUCTION?'Cration':a===P_TRANCHES.EQUIPEMENT?'Equipement':'Fonctionnement',date_delegation:e,unitescount:math.sum(c),sallescount:y,nbre_t1:c.get([0]),nbre_t2:c.get([1]),nbre_t3:c.get([2]),nbre_amg:c.get([3]),nbre_mod:c.get([4]),provincescount:1},t,h))});return f},calculateProjections:function(){var v=this,e=this.getViewModel(),b=e.get('stopDelegationAtEndOf2023'),f=e.get('pasPerenisationAudela2023'),g=e.get('appliquerRevalorisation'),j=e.getStore('sousdelegations');var a=[];var o=this.cloneSousDelegations('2020',P_TRANCHES.ANNEE_1,P_TRANCHES.ANNEE_2,'2me Anne de fonctionnement PA 2020',new Date(2023,8,2));a=a.concat(o);var p=this.cloneSousDelegations('2021',P_TRANCHES.ANNEE_1,P_TRANCHES.ANNEE_2,'2me Anne de fonctionnement PA 2021',new Date(2023,8,2));a=a.concat(p);var k=this.calcBesoins('2022',P_TRANCHES.CONSTRUCTION,'Construction UP Restantes / PA 2022',new Date(2023,0,30));a=a.concat(k);var q=this.calcBesoins('2022',P_TRANCHES.ANNEE_2,'2me anne de Fonctionnement UP / PA 2022',new Date(2023,8,2));a=a.concat(q);var m=this.calcBesoins('2023',P_TRANCHES.ETUDES,'Etudes des UP Restantes / PA 2023',new Date(2023,0,30));a=a.concat(m);var l=this.calcBesoins('2023',P_TRANCHES.CONSTRUCTION,'Construction UP / PA 2023',new Date(2023,2,1));a=a.concat(l);var n=this.calcBesoins('2023',P_TRANCHES.EQUIPEMENT,'Equipement UP / PA 2023',new Date(2023,8,1));a=a.concat(n);var r=this.calcBesoins('2023',P_TRANCHES.ANNEE_1_2,'2 annes de Fonctionnement UP / PA 2023',new Date(2023,8,2));a=a.concat(r);var c=e.get('calcCASINDHContrib');var d=e.get('quote_part_INDH')/100;var u=[].concat.apply([],[this.mixins.util.addManualDelegations(this.manual.supplSMIG2019,'2019',P_TRANCHES.SUPPLEMENT_SMIG_PERENISATION,'Supplment de SMIG / Tranches dlgues avant septembre et en cours de consommation',new Date(2023,0,30),b,c?d:1),this.mixins.util.addManualDelegations(this.manual.supplSMIG2020,'2020',P_TRANCHES.SUPPLEMENT_SMIG,'Supplment de SMIG / Tranches dlgues avant septembre et en cours de consommation',new Date(2023,0,30)),this.mixins.util.addManualDelegations(this.manual.supplSMIG2021,'2021',P_TRANCHES.SUPPLEMENT_SMIG,'Supplment de SMIG / Tranches dlgues avant septembre et en cours de consommation',new Date(2023,0,30))]);a=a.concat(u);var s=[].concat.apply([],[this.mixins.util.addManualDelegations(this.manual.peren2023.pa2019Annee3,'2019',P_TRANCHES.ANNEE_3,"Prennisation  l'horizon 31 aot 2023 / PA 2019",new Date(2023,0,30),b,c?d:1),this.mixins.util.addManualDelegations(this.manual.peren2023.pa2019Annee4,'2019',P_TRANCHES.ANNEE_4,"Prennisation  l'horizon 31 aot 2023 / PA 2019",new Date(2023,0,30),b,c?d:1),this.mixins.util.addManualDelegations(this.manual.peren2023.pa2019Annee5,'2019',P_TRANCHES.ANNEE_5,"Prennisation  l'horizon 31 aot 2023 / PA 2019",new Date(2023,0,30),b,c?d:1),this.mixins.util.addManualDelegations(this.manual.peren2023.pa2020Annee3,'2020',P_TRANCHES.ANNEE_3,"Prennisation  l'horizon 31 aot 2023 / PA 2020",new Date(2023,0,30),b,c?d:1),this.mixins.util.addManualDelegations(this.manual.peren2023.pa2020Annee4,'2020',P_TRANCHES.ANNEE_4,"Prennisation  l'horizon 31 aot 2023 / PA 2020",new Date(2023,0,30),b,c?d:1),this.mixins.util.addManualDelegations(this.manual.peren2023.pa2021Annee3,'2021',P_TRANCHES.ANNEE_3,"Prennisation  l'horizon 31 aot 2023 / PA 2021",new Date(2023,0,30),b,c?d:1)]);a=a.concat(s);if(!f){var t=[].concat.apply([],[this.mixins.util.addManualDelegations(this.manual.peren2024.pa2019Annee3,'2019',P_TRANCHES.ANNEE_3,"Prennisation  l'horizon 31 aot 2024 / PA 2019",new Date(2023,8,30),b,c?d:1),this.mixins.util.addManualDelegations(this.manual.peren2024.pa2019Annee4,'2019',P_TRANCHES.ANNEE_4,"Prennisation  l'horizon 31 aot 2024 / PA 2019",new Date(2023,8,30),b,c?d:1),this.mixins.util.addManualDelegations(this.manual.peren2024.pa2019Annee5,'2019',P_TRANCHES.ANNEE_5,"Prennisation  l'horizon 31 aot 2024 / PA 2019",new Date(2023,8,30),b,c?d:1),this.mixins.util.addManualDelegations(this.manual.peren2024.pa2019Annee6,'2019',P_TRANCHES.ANNEE_6,"Prennisation  l'horizon 31 aot 2024 / PA 2019",new Date(2023,8,30),b,c?d:1),this.mixins.util.addManualDelegations(this.manual.peren2024.pa2020Annee3,'2020',P_TRANCHES.ANNEE_3,"Prennisation  l'horizon 31 aot 2024 / PA 2020",new Date(2023,8,30),b,c?d:1),this.mixins.util.addManualDelegations(this.manual.peren2024.pa2020Annee4,'2020',P_TRANCHES.ANNEE_4,"Prennisation  l'horizon 31 aot 2024 / PA 2020",new Date(2023,8,30),b,c?d:1),this.mixins.util.addManualDelegations(this.manual.peren2024.pa2020Annee5,'2020',P_TRANCHES.ANNEE_5,"Prennisation  l'horizon 31 aot 2024 / PA 2020",new Date(2023,8,30),b,c?d:1),this.mixins.util.addManualDelegations(this.manual.peren2024.pa2021Annee3,'2021',P_TRANCHES.ANNEE_3,"Prennisation  l'horizon 31 aot 2024 / PA 2021",new Date(2023,8,30),b,c?d:1),this.mixins.util.addManualDelegations(this.manual.peren2024.pa2021Annee4,'2021',P_TRANCHES.ANNEE_4,"Prennisation  l'horizon 31 aot 2024 / PA 2021",new Date(2023,8,30),b,c?d:1)]);a=a.concat(t)}if(g){var i=[].concat.apply([],[this.mixins.util.addManualDelegations(this.manual.anciennete.arrierrePA2019,'2019',P_TRANCHES.PRIME_ANCIENNETE,"Arrir de Prime d'anciennet ( fin aot 2022)",new Date(2023,0,30),b,c?d:1),this.mixins.util.addManualDelegations(this.manual.anciennete.arrierrePA2020,'2020',P_TRANCHES.PRIME_ANCIENNETE,"Arrir de Prime d'anciennet ( fin aot 2022)",new Date(2023,0,30),b,c?d:1),this.mixins.util.addManualDelegations(this.manual.anciennete.peren2023PA2019,'2019',P_TRANCHES.PRIME_ANCIENNETE,"Prime d'anciennet pour la priode Sept 2022 - Aout 2023",new Date(2023,8,30),b,c?d:1),this.mixins.util.addManualDelegations(this.manual.anciennete.peren2023PA2020,'2020',P_TRANCHES.PRIME_ANCIENNETE,"Prime d'anciennet pour la priode Sept 2022 - Aout 2023",new Date(2023,8,30),b,c?d:1),this.mixins.util.addManualDelegations(this.manual.anciennete.peren2023PA2021,'2021',P_TRANCHES.PRIME_ANCIENNETE,"Prime d'anciennet pour la priode Sept 2022 - Aout 2023",new Date(2023,8,30),b,c?d:1)]);a=a.concat(i);if(!f){var h=[].concat.apply([],[this.mixins.util.addManualDelegations(this.manual.anciennete.peren2024PA2019,'2019',P_TRANCHES.PRIME_ANCIENNETE,"Prime d'anciennet pour la priode Sept 2023 - Aout 2024",new Date(2023,11,0),b,c?d:1),this.mixins.util.addManualDelegations(this.manual.anciennete.peren2024PA2020,'2020',P_TRANCHES.PRIME_ANCIENNETE,"Prime d'anciennet pour la priode Sept 2023 - Aout 2024",new Date(2023,11,0),b,c?d:1),this.mixins.util.addManualDelegations(this.manual.anciennete.peren2024PA2021,'2021',P_TRANCHES.PRIME_ANCIENNETE,"Prime d'anciennet pour la priode Sept 2023 - Aout 2024",new Date(2023,11,0),b,c?d:1)]);a=a.concat(h)}}j.add(a);e.set('isCalculating',!1);setTimeout(function(){v.getView().setMasked(!1)})},createDepenses:function(b,x,d,h){var e=this.getViewModel(),p=e.get('seulement2AnneesFct'),u=e.get('interval'),i=e.get('respectInterval'),o=e.get('method'),n=e.get('treshould'),g=e.get('pasPerenisationAudela2023'),z=e.get('stopDelegationAtEndOf2023');var f=b.get('last_tranche');var c=parseInt(b.get('plan_actions'));var a=!f||isNaN(f)?P_TRANCHES.EQUIPEMENT:f+1;var s=!1;if(c===2019&&a<P_TRANCHES.ANNEE_3){a=P_TRANCHES.ANNEE_3}if(c===2020&&a===P_TRANCHES.EQUIPEMENT){a=P_TRANCHES.TR2;s=!0}b.set('date_calcul',new Date(+d));if(g){if(c===2019&&a>P_TRANCHES.ANNEE_5){return null}if(c===2020&&a>P_TRANCHES.ANNEE_4){return null}if(c===2021&&a>P_TRANCHES.ANNEE_3){return null}if(c>=2022&&a>P_TRANCHES.TR4){return null}}if(o===1&&a>=P_TRANCHES.ANNEE_3&&!h){var t=b.get('age_mois');if(t<(a-P_TRANCHES.ANNEE_3+3)*12-n){if(c>2020||a!=P_TRANCHES.ANNEE_3){return null}}}if(a>=P_TRANCHES.ANNEE_3){if(p){return null}if(g&&c>2021){return null}}if(!h){var q=this.mixins.util.checkUPEligible(b,a,o,n,i,u,new Date(+d));if(!q){return null}}if(i&&a>P_TRANCHES.ANNEE_3){var l=b.get('last_delegation_dt');var v=Ext.Date.diff(l,d,'mo',0,'ceil');if(l.getFullYear()===d.getFullYear()||v<=12){return null}}if(a<=f){console.debug('nextTranche <= currTranche',b);return null}var r=this.mixins.util._createDeleg(a,c);var j=this.calcMontant(b,a,d);var k=b.get('tranche_due');var y=Object.assign({},b.getData(),{lot:x,date_delegation:new Date(+d),montant_global:j,est_echu:b.get('reserve_jours')<=15,tranche_due:k<=a||b.get('solde')>0?null:k},r,{id:null,unite_id:b.getId()});var w=Ext.create('App.model.ObjetDelegation',y);var m={last_tranche:a,last_delegation_dt:new Date(+d)};if(a>=P_TRANCHES.TR1){m.montant_delegue_fct=b.get('montant_delegue_fct')+j}b.set(m);return w},updateCoutFct:function(){var d=this.getViewModel();var b=this.calcCoutBaseFoncAt(new Date(2022,11,30),0);var e=this.calcCoutBaseFoncAt(new Date(2022,11,30),3);var c=this.calcCoutBaseFoncAt(new Date(2023,11,30),0);var a='Cout Fct. (fin 2022): ';a+=b+' dhs<br/>';a+='Cout Fct. (fin 2023): '+c+' dhs';d.set('augmentationsCoutFct',a)},calcMontant:function(e,a,j){var b=this.getViewModel(),c=b.get('cout_fonctionnement'),g=b.get('cout_equipement'),h=b.get('quote_part_INDH')/100,f=b.get('appliquerRevalorisation');var i=a<P_TRANCHES.ANNEE_3?0:a-P_TRANCHES.ANNEE_3+2;if(f){c=this.calcCoutBaseFoncAt(j,i)}if(a===P_TRANCHES.EQUIPEMENT){return e.calcCoutEquipement(g)}else if(a>=P_TRANCHES.TR1){var d=e.calcCoutFonctionnement(a<P_TRANCHES.ANNEE_3?6:12,c);if(a>=P_TRANCHES.ANNEE_3){d*=h}return d}return null},showLF2023:function(h,e,i){var c=this.getView(),d=c.defaultCfg,f=c.progCfg,g=this.lookup('pivotgrid'),b=g.getMatrix(),a=b.store;if(e){b.reconfigure(f);a&&a.filter({property:'annee_budgetaire',operator:'like',value:'2023'})}else {b.reconfigure(d);a&&a.clearFilter()}},expandAll:function(){this.lookup('pivotgrid').expandAll()},collapseAll:function(){this.lookup('pivotgrid').collapseAll()},getStore:function(){var c=this.lookup('pivotgrid'),a=c.getMatrix(),b=a.store;return b},showConfigurator:function(){this.lookup('pivotgrid').showConfigurator()},orderedLabelRenderer:function(a){return a.split('#')[1].trim()},trancheRenderer:function(c){var b=App.app.getINDHTranchesStore();var a=b.findRecord('value',c);return a?a.get('label'):''},montantRenderer:function(a){var c=this.getViewModel(),b=Math.pow(10,c.get('amountDivisor'));if(!a){return null}if(b===1){return Ext.util.Format.number(a,'0,000')}return Ext.util.Format.number(a/b,'0,000.0')},dateRenderer:function(a){return 'Dlgation du '+Ext.util.Format.date(a,'d F Y')},updatePivotAmounts:function(){var a=this.lookup('pivotgrid');a.refresh()},exportDocument:function(d){var c=this.getViewModel();var b=this.lookup('pivotgrid');var a='Projections '+Ext.util.Format.date(c.get('referenceDate'),'d/m/Y');b.saveDocumentAs({type:'excel07',title:a,fileName:a+'.xlsx'}).then(null,this.onError)},exportToXlsx:function(){var a=this.lookup('matchingRecGrid');a.saveDocumentAs({type:'xlsx',title:'Dlgations',author:'Mohamed DIDI',fileName:'Dlgations.xlsx'})}},0,0,0,0,['controller.cadrage'],[['util',App.view.projection.BudgetUtils]],[App.view.projection.cadrage,'CadrageController'],0);Ext.cmd.derive('App.view.projection.cadrage.CadrageModel',Ext.app.ViewModel,{data:{isCalculating:!1,fromDate:new Date(),toDate:new Date(2023,11,31),interval:6,respectInterval:!0,method:2,treshould:3,cout_etudes:20000,cout_fonctionnement:55000,cout_equipement:25000,cout_construction_t1:250000,cout_construction_t2:350000,cout_amenagement:50000,cout_modulaire:347189,quote_part_INDH:20,pa23_supp_t1:3,pa23_supp_t2:0,pa23_supp_t3:0,pa23_supp_amg:0,pa23_supp_mod:0,appliquerRevalorisation:!0,seulement2AnneesFct:!1,pasPerenisationAudela2023:!1,stopDelegationAtEndOf2023:!0,appliquer2Augmentation:!0,smig:2828.71,smig_horaire:14.81,cout_fonctionnement_hors_salaires:14350,roundCoutFct:-1,amountDivisor:6,augmentationsCoutFct:'55000 dhs',calcCASINDHContrib:!0,doCompensation:!1,justProg2023:!1},formulas:{charges_sociales_mensuelles:function(e){var a=e('smig');var c=Ext.Number.roundToPrecision(a*0.1698,2,'ceil');var d=Ext.Number.roundToPrecision(a*0.0411,2,'ceil');var b=Ext.Number.roundToPrecision(a*0.01368,2,'ceil');return Ext.Number.correctFloat(a+c+d+b)}},stores:{sousdelegations:{type:'sousdelegations',pageSize:0,autoLoad:!0,proxy:{type:'direct',api:{prefix:'Server.sousdelegations',create:'insert',read:'list',update:'update',destroy:'remove'},reader:{type:'json',rootProperty:'data',messageProperty:'message'},extraParams:{scope:'nested'}}},delegationobjets:{type:'objetsdelegations',autoLoad:!1},projections:{type:'store',model:'App.model.SousDelegation',proxy:{type:'memory'},sorters:[{property:'province_code',direction:'ASC'}]},reportings:{type:'reportings',autoLoad:!1,remoteSort:!0,remoteFilter:!0,pageSize:0,sorters:[{property:'plan_actions',direction:'ASC'},{property:'province_code',direction:'ASC'}],filters:[{property:'plan_actions',operator:'!=',value:'2019'}],proxy:{type:'direct',api:{prefix:'Server.reportings',create:'insert',read:'list',update:'update',destroy:'remove'},reader:{type:'json',rootProperty:'data',messageProperty:'message'},extraParams:{scope:'simple'}}},unites:{type:'projets',autoLoad:!1,proxy:{type:'memory'}},fp_unites:{type:'projets',autoLoad:!0,remoteGroup:!1,remoteFilter:!0,remoteSort:!1,pageSize:0,filters:[{property:'est_resiliee',value:!1}],listeners:{single:!0,load:'onUnitesStoreLoad'},proxy:{type:'direct',api:{prefix:'Server.unites',create:'insert',read:'list',update:'update',destroy:'remove'},reader:{type:'json',rootProperty:'data',messageProperty:'message'},extraParams:{scope:'projections'}}}}},0,0,0,0,['viewmodel.cadrage'],0,[App.view.projection.cadrage,'CadrageModel'],0);Ext.cmd.derive('App.view.projection.delegation.Delegation',Ext.Panel,{controller:'delegationprojection',viewModel:{type:'delegationprojection'},ui:'light',margin:12,bodyBorder:!0,shadow:!0,layout:'fit',header:{items:[{xtype:'button',handler:'expandAll',iconCls:'x-fa fa-chevron-down',ui:'light',weigth:10,tooltip:'Dvelopper Tout'},{xtype:'button',handler:'collapseAll',iconCls:'x-fa fa-chevron-up',ui:'light',weigth:11,tooltip:'Rduire Tout'},{xtype:'button',iconCls:'x-fa fa-cog',tooltip:'Configurer',handler:'showConfigurator',ui:'light',weigth:20},{xtype:'button',iconCls:'x-fa fa-download',tooltip:'Exporter sous excel',handler:'exportDocument',ui:'light',weigth:30},{xtype:'button',handler:'confirmDelegations',iconCls:'x-fa fa-save',ui:'light',weigth:40,text:'Confirmer'}]},items:[{xtype:'toolbar',docked:'top',ui:'transparent',padding:'5 12',layout:'hbox',shadow:!1,scrollable:{x:!0},defaults:{width:200,labelWidth:95},items:[{xtype:'container',flex:1,margin:'0 0 0 5',autoSize:!0,defaults:{width:225},items:[{xtype:'datepickerfield',label:'Dbut Priode',labelAlign:'left',dateFormat:'d/m/Y',minDate:new Date(),bind:'{fromDate}'},{xtype:'datepickerfield',label:'Fin Priode',labelAlign:'left',dateFormat:'d/m/Y',minDate:new Date(),bind:'{toDate}'}]},{xtype:'container',flex:1,margin:'0 0 0 5',autoSize:!0,items:[{xtype:'spinnerfield',label:'Interval Prochaine Dlg.(Mois)',labelAlign:'left',stepValue:1,cycle:!0,bind:'{interval}',width:250,labelWidth:115},{xtype:'selectfield',label:'Mthode Calc.',labelAlign:'left',options:[{text:'Echance',value:1},{text:'Totalit du Lot',value:2}],bind:'{method}',width:250,labelWidth:115}]},{xtype:'container',flex:1,margin:'0 0 0 5',autoSize:!0,items:[{xtype:'spinnerfield',label:'Marge (Mois)',labelAlign:'left',stepValue:1,cycle:!0,bind:{value:'{treshould}',hidden:'{method === 2}'},width:180},{xtype:'checkbox',boxLabel:'Respect Interval Dlg.',boxLabelAlign:'after',tooltip:"Mme si l'UP est dficitaire, il faut qu'il finisse la priode couverte par la dernire dlgation",bind:'{respectInterval}',width:180}]},{xtype:'container',flex:1,margin:'0 0 0 5',autoSize:!0,defauts:{width:180,labelWidth:120},items:[{xtype:'spinnerfield',label:'Cot de Fct. (6 mois)',labelAlign:'left',stepValue:1,cycle:!0,bind:'{cout_fonctionnement}'},{xtype:'spinnerfield',label:'Cot de Equipement',labelAlign:'left',stepValue:1,cycle:!0,bind:'{cout_equipement}'}]},{text:'Calculer',ui:'action',handler:'process',width:100,height:35,margin:'0 0 0 5'}]},{xtype:'pivotgrid',reference:'pivotgrid',emptyText:'Aucune Dpense associe  cette Dlgation',bind:'{delegationobjets}',cls:'app-pivot',plugins:{pivotdrilldown:{columns:[{text:'P/P',align:'center',dataIndex:'province'},{text:'Commune',align:'center',dataIndex:'commune'},{text:'FP',align:'center',dataIndex:'fondation_partenaire'},{text:'PA',dataIndex:'plan_actions',align:'center',width:60},{text:'Douar',dataIndex:'intitule',align:'left',minWidth:200,cell:{encodeHtml:!1},tpl:'<a class="item-title" href="#{url}">{intitule}</a>'},{text:'Nbre Salles',dataIndex:'nbre_salles',align:'center',xtype:'numbercolumn',format:'0',summary:'sum',width:75},{text:'Dern. Tranche',dataIndex:'last_tranche_label',align:'center',width:120},{dataIndex:'montant_delegue_fct',text:'Mnt Fct. Dlgu',aggregator:'sum',align:'center',renderer:Ext.util.Format.numberRenderer('0,000'),width:100},{dataIndex:'montant_global',text:'Mnt  Dlguer',aggregator:'sum',align:'center',renderer:Ext.util.Format.numberRenderer('0,000'),width:100},{text:'Ouverte ?',dataIndex:'est_ouverte',align:'center',xtype:'booleancolumn',trueText:'Oui',falseText:'',summary:'sum',width:75},{text:'Resilie ?',dataIndex:'est_resiliee',align:'center',xtype:'booleancolumn',trueText:'Oui',falseText:'',summary:'sum',width:75},{xtype:'datecolumn',text:'Date Ouverture',dataIndex:'date_ouverture',minWidth:80,format:'d/m/Y'},{xtype:'numbercolumn',text:'Age Mois',dataIndex:'age_mois',align:'center'},{xtype:'numbercolumn',text:'Rserve (Mois)',dataIndex:'reserve_mois',align:'center'},{xtype:'datecolumn',text:'Date Epuisment',dataIndex:'date_epuisement',minWidth:80,format:'d/m/Y'},{text:'Echue ?',dataIndex:'est_echu',align:'center',renderer:function(a,d,b,e,c){return a?'Oui':''},exportRenderer:!0,width:75},{text:'Autre Tranche Due',dataIndex:'tranche_due',align:'center',renderer:'trancheRenderer'}]},pivotexporter:!0,pivotconfigurator:!0},matrix:{type:'local',enableLocking:!0,textRowLabels:'',compactViewColumnWidth:360,viewLayoutType:'compact',calculateAsExcel:!0,textGrandTotalTpl:'Total gnral',colGrandTotalsPosition:'first',colSubTotalsPosition:'none',aggregate:[{dataIndex:'province_code',header:'Nbre P/P',aggregator:'distinct',align:'center',renderer:Ext.util.Format.numberRenderer('0'),width:60},{dataIndex:'id',header:'Nbre UPs',aggregator:'distinct',align:'center',renderer:Ext.util.Format.numberRenderer('0'),width:60},{dataIndex:'nbre_salles',header:'Nbre Salles',aggregator:'sum',align:'center',renderer:Ext.util.Format.numberRenderer('0'),width:60},{dataIndex:'montant_global',header:'Mnt  Dlguer',aggregator:'sum',align:'center',renderer:Ext.util.Format.numberRenderer('0,000'),width:100},{header:'Date Ouverture',dataIndex:'date_ouverture',aggregator:'first',minWidth:80,renderer:Ext.util.Format.dateRenderer('d/m/Y')},{dataIndex:'est_echu',header:'Echue',aggregator:'true_count',align:'center',width:60},{header:'Autre Tranche Due',dataIndex:'tranche_due',aggregator:'first',renderer:'trancheRenderer',minWidth:80}],leftAxis:[{dataIndex:'date_delegation',header:'Lot',labelRenderer:'dateRenderer'},{dataIndex:'plan_actions',header:'PA'},{dataIndex:'libelle',header:'Tranche',minWidth:475,sortIndex:'current_tranche'},{dataIndex:'region_order',header:'Rgion',labelRenderer:'orderedLabelRenderer'},{dataIndex:'province_order',header:'P/P',labelRenderer:'orderedLabelRenderer'},{dataIndex:'intitule',header:'Intitul'}]},listeners:{}}]},0,['delegationprojection'],['widget','component','container','panel','delegationprojection'],{'widget':!0,'component':!0,'container':!0,'panel':!0,'delegationprojection':!0},['widget.delegationprojection'],0,[App.view.projection.delegation,'Delegation'],0);Ext.cmd.derive('App.view.projection.delegation.DelegationController',Ext.app.ViewController,{init:function(){Ext.app.ViewController.prototype.init.apply(this,arguments);this.getView().setMasked({xtype:'loadmask',indicator:!0,message:'Chargement Donnes...'})},process:function(f,g){var b=this,c=this.getViewModel(),a=c.getStore('unites'),d=c.getStore('delegationobjets');d.removeAll();a.removeAll();var e=this.ups.map(function(a){return a.copy()});a.loadData(e);this.stats.date=0;this.stats.bound=0;setTimeout(function(){b.calculateProjections()}.bind(b),750)},ups:[],stats:{date:0,bound:0,dues:[],logs:[]},onUnitesStoreLoad:function(){var a=this,c=this.getViewModel(),b=c.getStore('fp_unites'),d=c.getStore('reportings');this.ups=b.getData().items;a.getView().setMasked(!1);return;d.load({scope:this,callback:function(f,d,g){if(!g||d.exception){var e="Nous n'avons pas pu Charger les Donnes !<br/> Veuillez actualiser la page";e+=App.util.Errors.toMsg(d.error||d.getError());console.log(d);a.getView().setMasked(!1);App.ux.Signals.showWarning(e,!0);return}var c=[];f.forEach(function(e){var q=e.get('province_code');var s=e.get('plan_actions');var v=e.get('fondation_partenaire');var r=b.getData().createFiltered(function(a){return a.get('plan_actions')==s&&a.get('province_code')==q});var l={province_code:q,plan_actions:s,nbre_salles:1,fondation_partenaire:v};var n=r.count();if(e.get('nbre_programmees')<=n||e.get('nbre_salles_calc')<=r.sum('nbre_salles')){return}var i=e.get('prevision_mois0');if(n>e.get('nbre_ouvertes')){i-=n-e.get('nbre_ouvertes')}var h=e.get('date_situation')||e.get('updated');var u=Ext.util.Format.date(h,'F');var o=Ext.util.Format.date(Ext.Date.add(h,Ext.Date.MONTH,1),'F');if(i>0){c=c.concat(a.fillArray(i,l,{intitule:'UP / Ouverture Prvue au '+u,est_ouverte:!0,tx_avancement_physique:100,statut:'Oprationnel',date_ouverture:h}))}var j=e.get('prevision_mois1');if(i<0){j+=i}if(j>0){c=c.concat(a.fillArray(j,l,{intitule:'UP / Ouverture Prvue au '+o,est_ouverte:!1,date_ouverture_prevu:Ext.Date.add(h,Ext.Date.MONTH,1)}))}var k=e.get('prevision_mois2');if(j<0){k+=j}var t=e.get('nbre_encours');if(k>0){var m=Math.min(k,t);var p=k-m;if(m>0){c=c.concat(a.fillArray(m,l,{intitule:'UP / Ouverture Prvue Au-del du '+o,est_ouverte:!1,date_ouverture_prevu:Ext.Date.add(h,Ext.Date.MONTH,3)}))}if(p>0){c=c.concat(a.fillArray(p,l,{intitule:'UP Non Dmarres / Ouverture Prvue Au-del du '+o,est_ouverte:!1,date_ouverture_prevu:Ext.Date.add(h,Ext.Date.MONTH,6)}))}}});if(c.length>0){this.ups=this.ups.concat(c)}a.getView().setMasked(!1)}})},fillArray:function(b,g,f){var d=[];var a=0;for(;a<b;a++){var c=Object.assign({},g,f);c.intitule+=' ('+Ext.String.leftPad(a+1,b.toString().length,'0')+')';var e=Ext.create('App.model.Projet',c);d.push(e)}return d},calculateProjections:function(){this.getView().setMasked({xtype:'loadmask',indicator:!0,message:'Calcul...'});var e=this,a=this.getViewModel(),i=a.get('fromDate')||new Date(),m=a.get('toDate')||new Date(),d=a.get('interval'),g=a.get('respectInterval'),j=a.get('method'),h=a.get('treshould'),n=a.get('cout_fonctionnement'),o=a.get('cout_equipement'),l=a.getStore('unites'),k=a.getStore('delegationobjets');var c=Ext.Date.diff(i,m,'d')/(d*30);c=Math.max(1,Math.ceil(c));var b=1;if(c>25){alert('Erreur quelque part !');return}var f=[];for(;b<=c;b++){l.each(function(k,l){var c=new Date(+i);c.setMonth(c.getMonth()+(b-1)*d);var a=e.createDepenses(k,b,c,d,g,j,h);if(!a||a.get('montant_global')<=0){return}f.push(a);if(a.get('tranche_due')){e.stats.dues.push(a);do{a=e.createDepenses(k,b,c,d,g,j,h);if(a&&a.get('montant_global')>0){f.push(a)}}while(a&&a.get('tranche_due'))}})}k.add(f);setTimeout(function(){e.getView().setMasked(!1)},750)},createDepenses:function(b,p,e,n,l,j,d){var c=b.get('last_tranche');var a;if(!c||isNaN(c)){a=P_TRANCHES.EQUIPEMENT}else {if(c===P_TRANCHES.ANNEE_1){a=P_TRANCHES.ANNEE_2}else if(c===P_TRANCHES.ANNEE_2||c===P_TRANCHES.ANNEE_1_2){a=P_TRANCHES.ANNEE_3}else {a=c+1}}if(a===P_TRANCHES.EQUIPEMENT){a=P_TRANCHES.TR1}var r=b.get('plan_actions');b.set('date_calcul',new Date(+e));if(j===1&&a>P_TRANCHES.TR1&&a<=P_TRANCHES.ANNEE_5){var g=b.get('age_mois');if(g>=4*12-d){a=P_TRANCHES.ANNEE_5}else if(g>=3*12-d){a=P_TRANCHES.ANNEE_4}else if(g>=2*12-d){a=P_TRANCHES.ANNEE_3}if(a<=c){return null}}var k=this.checkUPEligible(b,a,j,d,l,n,new Date(+e));if(!k){return null}var m=this._createDeleg(a,r);var h=this.calcMontant(b,a);var i=b.get('tranche_due');var q=Object.assign({},b.getData(),{lot:p,date_delegation:new Date(+e),montant_global:h,est_echu:b.get('reserve_jours')<=15,tranche_due:i<=a||b.get('solde')>0?null:i},m,{id:null,unite_id:b.getId()});var o=Ext.create('App.model.ObjetDelegation',q);var f={last_tranche:a,last_delegation_dt:new Date(+e)};if(a>=P_TRANCHES.TR1){f.montant_delegue_fct=b.get('montant_delegue_fct')+h;if(a===P_TRANCHES.TR1){f.montant_delegue_fct-=this.calcMontant(b,2)}}b.set(f);return o},_createDeleg:function(a,f){var d=a<=1?'Cration':a<P_TRANCHES.TR1?'Equipement':'Fonctionnement';var e=App.app.getINDHTranchesStore();var c=0;var b=e.findRecord('value',a).get('label');if(d==='Fonctionnement'){c=a<P_TRANCHES.ANNEE_3&&[P_TRANCHES.ANNEE_1,P_TRANCHES.ANNEE_2,P_TRANCHES.ANNEE_1_2].includes(a)!=P_TRANCHES.ANNEE_1?6:12}if(a===P_TRANCHES.TR1){b='Equipement et '+b}return {current_tranche:a,tranche_order:f+'_'+a,libelle:b,nature_affectation:d,nbre_mois_fonctionnement:c}},checkUPEligible:function(a,l,h,m,k,g,d){switch(l){case 0:if(a.get('statut')&&a.get('statut')!=='Etudes non encore lances'){return !1};var n=(new Date()).getFullYear();return a.get('plan_actions')>=n;case 1:if(["March des travaux en cours d'adjudication",'March des travaux adjugs'].includes(a.get('statut'))===!1){return !1};if(!a.get('cout_travaux_estime')){return !1};return !0;case 2:case 3:if(a.get('est_resiliee')){return !1};var i=a.get('statut');var j=a.get('tx_avancement_physique');var f=a.get('date_ouverture_prevu');if(i&&j!=null){if(j<90){return !1}if(['Travaux en cours','Travaux achevs','Travaux rceptionns','Remise des cls'].includes(i)){return !1}};if(f&&Ext.Date.diff(new Date(+d),f,'d')>g*30/2){return !1};return !0;case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:if(!a.get('est_ouverte')||a.get('est_resiliee')||a.get('est_en_arret')){return !1};if(k){var b=a.get('last_delegation_dt');var c=a.get('last_tranche');var e=c>=3?c<7?6:12:0;if(b){var o=Ext.Date.diff(b,d,'mo',0,'ceil');if(e-o>g){this.stats.logs.push([c,e,b,Ext.Date.diff(b,d,'mo',0,'ceil')]);this.stats.date+=1;return !1}}};if(h===1){return a.get('reserve_mois')>m?!1:!0}else if(h===2){return !0};default:this.stats.bound+=1;return !1;}},calcMontant:function(a,c){var d=this.getViewModel(),b=d.get('cout_fonctionnement'),e=d.get('cout_equipement');switch(c){case 0:return 10000;case 1:return a.get('cout_travaux_estime');case 2:case 3:return a.calcCoutEquipement(e)+a.calcCoutFonctionnement(6,b*2);case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:return a.get('nbre_salles')*b*2*(c<7?0.5:1);default:return null;}},confirmDelegations:function(){var a=this,c=this.getViewModel(),b=c.getStore('delegationobjets'),d=c.getStore('fp_unites');b.group([{property:'date_delegation'},{property:'plan_actions'},{property:'current_tranche'},{property:'province_code'}]);function onError(a){if(a){console.log(a)}App.ux.Signals.showWarning("Echec d'ajout des dlgations",!0)}function _process(b,c){var a=new Ext.Deferred();b.save({callback:function(e,d){if(d.exception){a.reject(d.exception)}else {a.resolve(e)}}});return a.promise}b.getGroups().each(function(c){var b=new Date(c.getGroupValue());var e=a.createLot('Dlgation des crdits d\u2019quipement et de fonctionnement des units du prscolaire',b);e.save({callback:function(e,f){if(f.exception){alert('Operation failed ! Please retry');return}c.getGroups().each(function(h){var g=h.getGroupKey();h.getGroups().each(function(i){var m=parseInt(i.getGroupKey());var j=i.first().getData();var n=j.libelle;var l=j.nature_affectation;var k=j.nbre_mois_fonctionnement;var o=a.createDelegation(e,{tranche_no:m,libelle:n+' PA '+g,plan_actions:g,nature_affectation:l,date_delegation:b,nbre_mois_fonctionnement:k});o.save({callback:function(g,j){if(j.exception){alert('Operation failed ! Please retry');return}var b=[];i.getGroups().each(function(k){var l=parseInt(k.getGroupKey());var m=a.createSousDelegation(g,{province_code:l,unitescount:k.count(),sallescount:k.sum('nbre_salles'),provincescount:1},k.sum('montant_global'));b.push(m);k.each(function(b){var l=b.get('unite_id');var m=l?d.getById(l):null;var n=a.createDelegationUnite(e,g,m,b.get('montant_global'))})});_process(b.shift()).then(function next(){if(b.length){return _process(b.shift()).then(next,onError)}g.delegationUnites().sync({callback:function(){}})}).otherwise(onError)}})})})}})})},createLot:function(b,a){var c=Ext.create('App.model.Lot',{date_delegation:a,libelle:b});return c},createDelegation:function(c,a){var b=Ext.create('App.model.Delegation',{tranche_no:a.tranche_no,libelle:a.libelle,plan_actions:a.plan_actions,nature_affectation:a.nature_affectation,date_delegation:a.date_delegation,nbre_mois_fonctionnement:a.nbre_mois_fonctionnement});b.setLot(c);return b},createSousDelegation:function(d,a,c){var b=Ext.create('App.model.SousDelegation',{montant_effectif:c,montant_effectif:c,nbre_ups_concernees:a.unitescount,nbre_salles_concernees:a.sallescount,province_code:a.province_code});b.setDelegation(d);return b},createDelegationUnite:function(c,b,d,e){var a=Ext.create('App.model.DelegationUnite',{montant:e});if(b){a.setDelegation(b)}if(c){a.setLot(c)}if(d){a.setUnite(d)}b.delegationUnites().add(a);return a},expandAll:function(){this.lookup('pivotgrid').expandAll()},collapseAll:function(){this.lookup('pivotgrid').collapseAll()},getStore:function(){var c=this.lookup('pivotgrid'),a=c.getMatrix(),b=a.store;return b},showConfigurator:function(){this.lookup('pivotgrid').showConfigurator()},orderedLabelRenderer:function(a){return a.split('#')[1].trim()},trancheRenderer:function(c){var b=App.app.getINDHTranchesStore();var a=b.findRecord('value',c);return a?a.get('label'):''},dateRenderer:function(a){return 'Dlgation du '+Ext.util.Format.date(a,'d F Y')},exportDocument:function(d){var c=this.getViewModel();var b=this.lookup('pivotgrid');var a='Projections '+Ext.util.Format.date(c.get('referenceDate'),'d/m/Y');b.saveDocumentAs({type:'excel07',title:a,fileName:a+'.xlsx'}).then(null,this.onError)}},0,0,0,0,['controller.delegationprojection'],0,[App.view.projection.delegation,'DelegationController'],0);Ext.cmd.derive('App.view.projection.delegation.DelegationModel',Ext.app.ViewModel,{data:{fromDate:new Date(),toDate:null,interval:6,respectInterval:!0,method:1,treshould:3,cout_fonctionnement:27500,cout_equipement:25000},stores:{projections:{type:'store',model:'App.model.Delegation',proxy:{type:'memory'}},delegationobjets:{type:'objetsdelegations',autoLoad:!1},reportings:{type:'reportings',autoLoad:!1,remoteSort:!0,remoteFilter:!0,pageSize:0,sorters:[{property:'plan_actions',direction:'ASC'},{property:'province_code',direction:'ASC'}],filters:[{property:'plan_actions',operator:'!=',value:'2019'}]},unites:{type:'projets',autoLoad:!1,proxy:{type:'memory'}},fp_unites:{type:'projets',autoLoad:!0,remoteGroup:!1,remoteFilter:!0,remoteSort:!1,pageSize:0,filters:[{property:'est_ouverte',value:!0},{property:'est_resiliee',value:!1}],listeners:{load:'onUnitesStoreLoad',single:!0,buffer:100},proxy:{type:'direct',api:{prefix:'Server.unites',create:'insert',read:'list',update:'update',destroy:'remove'},reader:{type:'json',rootProperty:'data',messageProperty:'message'},extraParams:{scope:'projections'}}}}},0,0,0,0,['viewmodel.delegationprojection'],0,[App.view.projection.delegation,'DelegationModel'],0);Ext.cmd.derive('App.view.projection.Show',Ext.tab.Panel,{config:{route:null},ui:'navigation',margin:12,bodyBorder:!0,shadow:!0,scrollable:!0,defaults:{bodyPadding:6,scrollable:!1,tabConfig:{plugins:'responsive',responsiveConfig:{wide:{iconAlign:'left',textAlign:'left'},tall:{iconAlign:'top',textAlign:'center',width:120}}}},tabBar:{defaultTabUI:'flat',ui:'flat',layout:{pack:'start'}},tabBarHeaderPosition:1,titleRotation:0,tabRotation:0,responsiveConfig:{tall:{headerPosition:'top'},wide:{headerPosition:'left'}},items:[{title:'Cadrage',layout:'fit',items:[{xtype:'cadrage'}]},{title:'Dlgation',layout:'fit',items:[{xtype:'delegationprojection'}]}]},0,['projectionsshow'],['widget','component','container','tabpanel','projectionsshow'],{'widget':!0,'component':!0,'container':!0,'tabpanel':!0,'projectionsshow':!0},['widget.projectionsshow'],0,[App.view.projection,'Show'],0);Ext.cmd.derive('App.view.projection.budget.Budget',Ext.Panel,{controller:'budget',viewModel:{type:'budget'},ui:'light',margin:12,bodyBorder:!0,shadow:!0,layout:'fit',items:[{xtype:'panel',title:'Hypothses & Paramtres',docked:'bottom',ui:'light',padding:'10 12 35',layout:'hbox',shadow:!0,border:!0,height:'100%',scrollable:!0,collapsible:{dynamic:!0,collapsed:!0,direction:'bottom'},defaults:{flex:1,margin:'0 0 0 10',scrollable:!0,autoSize:!0},items:[{xtype:'fieldset',title:'PA 2023 / UP Supplm. selon Type',defaults:{width:240,labelWidth:140,autoSize:!0},items:[{xtype:'spinnerfield',label:'T1',labelAlign:'left',stepValue:1,cycle:!0,bind:'{pa23_objectif_t1}'},{xtype:'spinnerfield',label:'T2',labelAlign:'left',stepValue:1,cycle:!0,bind:'{pa23_objectif_t2}'},{xtype:'spinnerfield',label:'Amnagement',labelAlign:'left',stepValue:1,cycle:!0,bind:'{pa23_objectif_amg}'},{xtype:'spinnerfield',label:'Modulaire T1',labelAlign:'left',stepValue:1,cycle:!0,bind:'{pa23_objectif_modulaire}'}]},{xtype:'fieldset',title:'Cots',defaults:{width:240,labelWidth:140},items:[{xtype:'spinnerfield',label:'Cot des Etudes',labelAlign:'left',stepValue:1,cycle:!0,bind:'{cout_etudes}'},{xtype:'spinnerfield',label:'Cot de Constr. T1',labelAlign:'left',stepValue:1,cycle:!0,bind:'{cout_construction_t1}'},{xtype:'spinnerfield',label:'Cot de Constr. T2',labelAlign:'left',stepValue:1,cycle:!0,bind:'{cout_construction_t2}'},{xtype:'spinnerfield',label:'Cot de Modulaire T1',labelAlign:'left',stepValue:1,cycle:!0,bind:'{cout_modulaire}'},{xtype:'spinnerfield',label:"Cot d'Amngament",labelAlign:'left',stepValue:1,cycle:!0,bind:'{cout_amenagement}'},{xtype:'spinnerfield',label:"Cot d'Equipement",labelAlign:'left',stepValue:1,cycle:!0,bind:'{cout_equipement}'}]},{xtype:'container',defaults:{width:240,labelWidth:140},scrollable:!0,items:[{xtype:'spinnerfield',label:'Cot de Fct. Annuel',labelAlign:'left',stepValue:1,cycle:!0,bind:'{cout_fonctionnement}',listeners:{change:'updateCoutFct',buffer:250}},{xtype:'checkbox',boxLabel:'Appliquer Revalor. Salar.',boxLabelAlign:'before',tooltip:"Prime d'anciennet et Hausse du SMIG",bind:'{appliquerRevalorisation}',width:190,listeners:{change:'updateCoutFct',buffer:250}},{xtype:'component',style:'font-size: 10px',html:"* Prime d'anciennet: 5% de Salaire brut, aprs 2 ans de service, 10% aprs 5 ans.<br/>* Augmentation du SMIG de 5% en Sept. 2022, 5% en Sept. 2023"},{xtype:'component',style:'font-size: 11px; color: red;',bind:{html:'{augmentationsCoutFct}',hidden:'{!appliquerRevalorisation}'}},{xtype:'spinnerfield',label:'Cot social mensuel',labelAlign:'left',decimals:2,stepValue:1,cycle:!0,bind:{value:'{charges_sociales_mensuelles}',hidden:'{!appliquerRevalorisation}'},listeners:{change:'updateCoutFct',buffer:250}},{xtype:'spinnerfield',label:'Cot de Fct. hors salaires',labelAlign:'left',decimals:2,stepValue:1,cycle:!0,bind:{value:'{cout_fonctionnement_hors_salaires}',hidden:'{!appliquerRevalorisation}'},listeners:{change:'updateCoutFct',buffer:250}},{xtype:'checkbox',boxLabel:'Appliquer 2me Hausse SMIG',boxLabelAlign:'before',bind:'{appliquer2Augmentation}',width:190,bind:{checked:'{appliquer2Augmentation}',value:'{appliquer2Augmentation}',hidden:'{!appliquerRevalorisation}'},listeners:{change:'updateCoutFct',buffer:250}},{xtype:'selectfield',label:'Arrondir sup. Cot Fct.',labelAlign:'left',options:[{text:" l'unit",value:0},{text:' la dizaine',value:-1},{text:' la centaine',value:-2},{text:'au millier',value:-3}],bind:{value:'{roundCoutFct}',hidden:'{!appliquerRevalorisation}'},width:250,labelWidth:115,listeners:{buffer:250,change:'updateCoutFct'}}]},{xtype:'container',flex:1,margin:'0 0 0 5',items:[{xtype:'spinnerfield',label:'Interval Entre Dlg.(Mois)',labelAlign:'left',stepValue:1,cycle:!0,bind:'{interval}',width:250,labelWidth:115},{xtype:'selectfield',label:'Mthode Calc.',labelAlign:'left',options:[{text:'Echance',value:1},{text:'Totalit du Lot',value:2}],bind:'{method}',width:250,labelWidth:115},{xtype:'spinnerfield',label:'Marge (Mois)',labelAlign:'left',stepValue:1,cycle:!0,bind:{value:'{treshould}',hidden:'{method === 2}'},width:250,labelWidth:115},{xtype:'checkbox',boxLabel:'Respect Interval Dlg.',boxLabelAlign:'before',tooltip:"Mme si l'UP est dficitaire, il faut qu'il finisse la priode couverte par la dernire dlgation",bind:'{respectInterval}',width:205},{xtype:'checkbox',boxLabel:'Se Limiter  2 Annes Fct.',boxLabelAlign:'before',bind:'{seulement2AnneesFct}',width:205},{xtype:'spinnerfield',label:'% Quote-Part INDH / Fct > 2ans',labelAlign:'left',stepValue:1,cycle:!0,decimals:2,bind:{value:'{quote_part_INDH}',hidden:'{seulement2AnneesFct}'},width:250,labelWidth:115},{xtype:'checkbox',boxLabel:'Pas de Prenisation au-dela 2023',tooltip:'Pas de dlgations de troisime anne pour les PA 2022 et PA 2023',boxLabelAlign:'before',width:205,bind:{checked:'{pasPerenisationAudela2023}',value:'{pasPerenisationAudela2023}',hidden:'{seulement2AnneesFct}'}},{xtype:'checkbox',boxLabel:'Arrter Dlg. Fct. Fin 2023',boxLabelAlign:'before',tooltip:"Dlguer en totalit le budget de fonctionnement des deux premires annes de fonctionnement avant la fin de l'anne 2023",bind:'{stopDelegationAtEndOf2023}',width:205}]}]},{xtype:'panel',scrollable:!0,layout:'fit',html:"\n        <table border=0 cellpadding=0 cellspacing=0 width=2006 style='border-collapse:\ncollapse;table-layout:fixed;width:1505pt'>\n    <col width=796 style='mso-width-source:userset;mso-width-alt:29110;width:363pt'>\n    <col class=xl670 width=120 style='mso-width-source:userset;mso-width-alt:4388;\nwidth:90pt'>\n    <col width=164 style='mso-width-source:userset;mso-width-alt:5997;width:123pt'>\n    <col width=926 style='mso-width-source:userset;mso-width-alt:33865;width:695pt;visibility:collapse'>\n    <tr height=21 style='mso-height-source:userset;height:15.75pt'>\n        <td rowspan=2 height=44 class=xl741 style='border-bottom:1.0pt solid black;\n height:33.0pt;border-top:none'>Oprations par Nature et par PA</td>\n        <td rowspan=2 class=xl747 width=120 style='border-bottom:1.0pt solid black;\n border-top:none;width:90pt'>Nbre UP concernes</td>\n        <td rowspan=2 class=xl745 style='border-bottom:1.0pt solid black;border-top:\n none'>Montant</td>\n        <td rowspan=2 class=xl743 style='border-bottom:1.0pt solid black'>Observations</td>\n    </tr>\n    <tr height=23 style='mso-height-source:userset;height:17.25pt'>\n    </tr>\n    <tr height=22 style='mso-height-source:userset;height:16.5pt'>\n        <td height=22 class=xl430 style='height:16.5pt;border-top:none'>Budget de\n            Cration</td>\n        <td class=xl671 style='border-top:none'>&nbsp;</td>\n        <td class=xl431 style='border-top:none'><span style='mso-spacerun:yes'>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 </span>527 882 000<span\n                style='mso-spacerun:yes'>\xa0\xa0 </span></td>\n        <td class=xl432 style='border-top:none'>&nbsp;</td>\n    </tr>\n    <tr height=22 style='mso-height-source:userset;height:16.5pt'>\n        <td height=22 class=xl433 style='height:16.5pt'><span style='mso-spacerun:yes'>\xa0</span>PA 2022</td>\n        <td class=xl672>&nbsp;</td>\n        <td class=xl434><span style='mso-spacerun:yes'>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\n            </span>20 352 000<span style='mso-spacerun:yes'>\xa0\xa0 </span></td>\n        <td class=xl435>&nbsp;</td>\n    </tr>\n    <tr height=22 style='mso-height-source:userset;height:16.5pt'>\n        <td height=22 class=xl89 style='height:16.5pt'>Crations</td>\n        <td class=xl673>108</td>\n        <td class=xl427 style='border-top:none'><span style='mso-spacerun:yes'>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 </span>20\n            352 000<span style='mso-spacerun:yes'>\xa0\xa0 </span></td>\n        <td class=xl91 style='border-top:none'><span style='mso-spacerun:yes'>\xa0</span>Cot de cration de 108 UP\n            restantes : 91\n            T1, 16 T2 et 1 Amg. Une demande manant de Tata  traiter dbut 2023<span style='mso-spacerun:yes'>\xa0</span>\n        </td>\n    </tr>\n    <tr height=22 style='mso-height-source:userset;height:16.5pt'>\n        <td height=22 class=xl433 style='height:16.5pt'><span style='mso-spacerun:yes'>\xa0</span>PA 2023</td>\n        <td class=xl672>&nbsp;</td>\n        <td class=xl434 style='border-top:none'><span style='mso-spacerun:yes'>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 </span>507 530\n            000<span style='mso-spacerun:yes'>\xa0\xa0 </span></td>\n        <td class=xl435 style='border-top:none'>&nbsp;</td>\n    </tr>\n    <tr height=22 style='mso-height-source:userset;height:16.5pt'>\n        <td height=22 class=xl89 style='height:16.5pt'>Etudes</td>\n        <td class=xl673>133</td>\n        <td class=xl427 style='border-top:none'><span style='mso-spacerun:yes'>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 </span>2\n            580 000<span style='mso-spacerun:yes'>\xa0\xa0 </span></td>\n        <td class=xl91 style='border-top:none'><span style='mso-spacerun:yes'>\xa0</span>Crdits des Etudes relatives  133\n            UP\n            restantes (en cration)<span style='mso-spacerun:yes'>\xa0</span></td>\n    </tr>\n    <tr height=22 style='mso-height-source:userset;height:16.5pt'>\n        <td height=22 class=xl89 style='height:16.5pt'>Crations</td>\n        <td class=xl673>2 023</td>\n        <td class=xl427 style='border-top:none'><span style='mso-spacerun:yes'>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 </span>504 950\n            000<span style='mso-spacerun:yes'>\xa0\xa0 </span></td>\n        <td class=xl91 style='border-top:none'><span style='mso-spacerun:yes'>\xa0</span>Crdits de cration de 2023 UP:\n            1884 T1, 90\n            T2 et 49 Amg. 2110 UP Programmes dont 86 UP a fait l'objet de dlgation des\n            crdits de trvx en 2022<span style='mso-spacerun:yes'>\xa0</span></td>\n    </tr>\n    <tr height=22 style='mso-height-source:userset;height:16.5pt'>\n        <td height=22 class=xl436 style='height:16.5pt'>Budget d'Equipement</td>\n        <td class=xl674>&nbsp;</td>\n        <td class=xl437><span style='mso-spacerun:yes'>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 </span>54\n            050 000<span style='mso-spacerun:yes'>\xa0\xa0 </span></td>\n        <td class=xl438>&nbsp;</td>\n    </tr>\n    <tr height=22 style='mso-height-source:userset;height:16.5pt'>\n        <td height=22 class=xl439 style='height:16.5pt'>PA 2023</td>\n        <td class=xl675>2 076</td>\n        <td class=xl440><span style='mso-spacerun:yes'>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\n            </span>54 050 000<span style='mso-spacerun:yes'>\xa0\xa0 </span></td>\n        <td class=xl441><span style='mso-spacerun:yes'>\xa0</span>2076 UP  quiper\n            (2164 Salles) (dduction de 38 UP reportes Al Haouz)<span style='mso-spacerun:yes'>\xa0</span></td>\n    </tr>\n    <tr height=22 style='mso-height-source:userset;height:16.5pt'>\n        <td height=22 class=xl98 style='height:16.5pt'>Budget de Fonctionnement des 2\n            premires annes</td>\n        <td class=xl676>&nbsp;</td>\n        <td class=xl131><span style='mso-spacerun:yes'>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 </span>438 328\n            104<span style='mso-spacerun:yes'>\xa0\xa0 </span></td>\n        <td class=xl99>&nbsp;</td>\n    </tr>\n    <tr height=22 style='mso-height-source:userset;height:16.5pt'>\n        <td height=22 class=xl94 style='height:16.5pt'>PA 2020 / 2me Anne de\n            fonctionnement</td>\n        <td class=xl677>67</td>\n        <td class=xl133><span style='mso-spacerun:yes'>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\n            </span>4 754 220<span style='mso-spacerun:yes'>\xa0\xa0 </span></td>\n        <td class=xl95><span style='mso-spacerun:yes'>\xa0</span>2me Anne de\n            fonctionnement pour les nouvelles ouvertures: 67 UP (79 Salles)<span style='mso-spacerun:yes'>\xa0</span></td>\n    </tr>\n    <tr height=22 style='mso-height-source:userset;height:16.5pt'>\n        <td height=22 class=xl94 style='height:16.5pt'>PA 2021 / 2me Anne de\n            fonctionnement</td>\n        <td class=xl677>742</td>\n        <td class=xl133 style='border-top:none'><span style='mso-spacerun:yes'>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 </span>50\n            731 740<span style='mso-spacerun:yes'>\xa0\xa0 </span></td>\n        <td class=xl95 style='border-top:none'><span style='mso-spacerun:yes'>\xa0</span>2me Anne de fonctionnement pour\n            les\n            nouvelles ouvertures: 742 UP (843 Salles)<span style='mso-spacerun:yes'>\xa0</span></td>\n    </tr>\n    <tr height=22 style='mso-height-source:userset;height:16.5pt'>\n        <td height=22 class=xl94 style='height:16.5pt'>PA 2022 / 2me Anne de\n            fonctionnement</td>\n        <td class=xl677>1 803</td>\n        <td class=xl133 style='border-top:none'><span style='mso-spacerun:yes'>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 </span>117 230\n            640<span style='mso-spacerun:yes'>\xa0\xa0 </span></td>\n        <td class=xl95 style='border-top:none'><span style='mso-spacerun:yes'>\xa0</span>2me Anne de fonctionnement pour\n            l'ensemble\n            des UP programmes: 1803 UP (1948 Salles)<span style='mso-spacerun:yes'>\xa0</span></td>\n    </tr>\n    <tr height=22 style='mso-height-source:userset;height:16.5pt'>\n        <td height=22 class=xl94 style='height:16.5pt'>PA 2023 / 2 Annes de\n            fonctionnement</td>\n        <td class=xl677>2 110</td>\n        <td class=xl133 style='border-top:none'><span style='mso-spacerun:yes'>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 </span>262 588\n            000<span style='mso-spacerun:yes'>\xa0\xa0 </span></td>\n        <td class=xl95 style='border-top:none'><span style='mso-spacerun:yes'>\xa0</span>Deux Annes de fonctionnement pour\n            2110 UP\n            (2200 Salles) calcul sur la base de 60178 DH (2me augmentation SMIG)<span\n                style='mso-spacerun:yes'>\xa0</span></td>\n    </tr>\n    <tr height=20 style='height:15.0pt'>\n        <td height=20 class=xl94 style='height:15.0pt'>Supplment de SMIG / Tranches\n            dlgues avant septembre et en cours de consommation</td>\n        <td class=xl677>1 999</td>\n        <td class=xl133 style='border-top:none'><span style='mso-spacerun:yes'>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 </span>3\n            023 504<span style='mso-spacerun:yes'>\xa0\xa0 </span></td>\n        <td class=xl563 width=926 style='border-top:none;width:695pt'>&nbsp;</td>\n    </tr>\n    <tr height=22 style='mso-height-source:userset;height:16.5pt'>\n        <td height=22 class=xl89 style='height:16.5pt'>PA 2020</td>\n        <td class=xl673>1 291</td>\n        <td class=xl427 style='border-top:none'><span style='mso-spacerun:yes'>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 </span>1\n            361 555<span style='mso-spacerun:yes'>\xa0\xa0 </span></td>\n        <td class=xl91 style='border-top:none'>&nbsp;</td>\n    </tr>\n    <tr height=22 style='mso-height-source:userset;height:16.5pt'>\n        <td height=22 class=xl89 style='height:16.5pt'>PA 2021</td>\n        <td class=xl673>708</td>\n        <td class=xl427 style='border-top:none'><span style='mso-spacerun:yes'>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 </span>1\n            661 949<span style='mso-spacerun:yes'>\xa0\xa0 </span></td>\n        <td class=xl91 style='border-top:none'>&nbsp;</td>\n    </tr>\n    <tr height=22 style='mso-height-source:userset;height:16.5pt'>\n        <td height=22 class=xl425 style='height:16.5pt'>Budget de Prennisation\n            financire au-del des 2res annes</td>\n        <td class=xl678>&nbsp;</td>\n        <td class=xl428><span style='mso-spacerun:yes'>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 </span>386 759\n            467<span style='mso-spacerun:yes'>\xa0\xa0 </span></td>\n        <td class=xl426>&nbsp;</td>\n    </tr>\n    <tr height=22 style='mso-height-source:userset;height:16.5pt'>\n        <td height=22 class=xl442 style='height:16.5pt'>Supplment de SMIG / Tranches\n            dlgues avant septembre et en cours de consommation</td>\n        <td class=xl679>791</td>\n        <td class=xl443><span style='mso-spacerun:yes'>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\n            </span>1 324 541<span style='mso-spacerun:yes'>\xa0\xa0 </span></td>\n        <td class=xl444>&nbsp;</td>\n    </tr>\n    <tr height=22 style='mso-height-source:userset;height:16.5pt'>\n        <td height=22 class=xl442 style='height:16.5pt'>Prennisation  l'horizon 31\n            aot 2023</td>\n        <td class=xl679>1 725</td>\n        <td class=xl443 style='border-top:none'><span style='mso-spacerun:yes'>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 </span>62\n            219 400<span style='mso-spacerun:yes'>\xa0\xa0 </span></td>\n        <td class=xl444 style='border-top:none'><span style='mso-spacerun:yes'>\xa0</span>Projections valides par les P/P\n            sur la base\n            du complment ncessaire pour le fonctionnement jusqu'au 31/08/2023. 1725\n            UP<span style='mso-spacerun:yes'>\xa0</span></td>\n    </tr>\n    <tr height=22 style='mso-height-source:userset;height:16.5pt'>\n        <td height=22 class=xl682 style='height:16.5pt'>PA 2019</td>\n        <td class=xl680>461</td>\n        <td class=xl495 style='border-top:none'><span style='mso-spacerun:yes'>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 </span>15\n            473 979<span style='mso-spacerun:yes'>\xa0\xa0 </span></td>\n        <td class=xl496 style='border-top:none'><span style='mso-spacerun:yes'>\xa0</span>461 UP (508 Salles)<span\n                style='mso-spacerun:yes'>\xa0</span></td>\n    </tr>\n    <tr height=22 style='mso-height-source:userset;height:16.5pt'>\n        <td height=22 class=xl89 style='height:16.5pt'>3me Anne</td>\n        <td class=xl673>95</td>\n        <td class=xl427 style='border-top:none'><span style='mso-spacerun:yes'>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 </span>4\n            158 148<span style='mso-spacerun:yes'>\xa0\xa0 </span></td>\n        <td class=xl93><span style='mso-spacerun:yes'>\xa0</span>95 UP (104 Salles)<span style='mso-spacerun:yes'>\xa0</span>\n        </td>\n    </tr>\n    <tr height=22 style='mso-height-source:userset;height:16.5pt'>\n        <td height=22 class=xl89 style='height:16.5pt'>4me Anne</td>\n        <td class=xl673>207</td>\n        <td class=xl427 style='border-top:none'><span style='mso-spacerun:yes'>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 </span>6\n            619 702<span style='mso-spacerun:yes'>\xa0\xa0 </span></td>\n        <td class=xl93><span style='mso-spacerun:yes'>\xa0</span>207 UP (212\n            Salles)<span style='mso-spacerun:yes'>\xa0</span></td>\n    </tr>\n    <tr height=22 style='mso-height-source:userset;height:16.5pt'>\n        <td height=22 class=xl89 style='height:16.5pt'>5me Anne</td>\n        <td class=xl673>159</td>\n        <td class=xl427 style='border-top:none'><span style='mso-spacerun:yes'>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 </span>4\n            696 129<span style='mso-spacerun:yes'>\xa0\xa0 </span></td>\n        <td class=xl93><span style='mso-spacerun:yes'>\xa0</span>159 UP (192\n            Salles)<span style='mso-spacerun:yes'>\xa0</span></td>\n    </tr>\n    <tr height=22 style='mso-height-source:userset;height:16.5pt'>\n        <td height=22 class=xl682 style='height:16.5pt'>PA 2020</td>\n        <td class=xl680>1 257</td>\n        <td class=xl495 style='border-top:none'><span style='mso-spacerun:yes'>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 </span>46\n            456 869<span style='mso-spacerun:yes'>\xa0\xa0 </span></td>\n        <td class=xl496><span style='mso-spacerun:yes'>\xa0</span>1257 UP (1404\n            Salles)<span style='mso-spacerun:yes'>\xa0</span></td>\n    </tr>\n    <tr height=22 style='mso-height-source:userset;height:16.5pt'>\n        <td height=22 class=xl89 style='height:16.5pt'>3me Anne</td>\n        <td class=xl673>1 256</td>\n        <td class=xl427 style='border-top:none'><span style='mso-spacerun:yes'>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 </span>46\n            420 619<span style='mso-spacerun:yes'>\xa0\xa0 </span></td>\n        <td class=xl93><span style='mso-spacerun:yes'>\xa0</span>1256 UP (1403\n            Salles)<span style='mso-spacerun:yes'>\xa0</span></td>\n    </tr>\n    <tr height=22 style='mso-height-source:userset;height:16.5pt'>\n        <td height=22 class=xl89 style='height:16.5pt'>4me Anne</td>\n        <td class=xl673>1</td>\n        <td class=xl427 style='border-top:none'><span style='mso-spacerun:yes'>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\n            </span>36\n            250<span style='mso-spacerun:yes'>\xa0\xa0 </span></td>\n        <td class=xl93><span style='mso-spacerun:yes'>\xa0</span>1 UP (1 Salles)<span style='mso-spacerun:yes'>\xa0</span>\n        </td>\n    </tr>\n    <tr height=22 style='mso-height-source:userset;height:16.5pt'>\n        <td height=22 class=xl682 style='height:16.5pt'>PA 2021</td>\n        <td class=xl680>7</td>\n        <td class=xl495 style='border-top:none'><span style='mso-spacerun:yes'>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\n            </span>288\n            552<span style='mso-spacerun:yes'>\xa0\xa0 </span></td>\n        <td class=xl496><span style='mso-spacerun:yes'>\xa0</span>7 UP (14 Salles)<span style='mso-spacerun:yes'>\xa0</span>\n        </td>\n    </tr>\n    <tr height=22 style='mso-height-source:userset;height:16.5pt'>\n        <td height=22 class=xl89 style='height:16.5pt'>3me Anne</td>\n        <td class=xl673>7</td>\n        <td class=xl427 style='border-top:none'><span style='mso-spacerun:yes'>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\n            </span>288\n            552<span style='mso-spacerun:yes'>\xa0\xa0 </span></td>\n        <td class=xl93><span style='mso-spacerun:yes'>\xa0</span>7 UP (14 Salles)<span style='mso-spacerun:yes'>\xa0</span>\n        </td>\n    </tr>\n    <tr height=22 style='mso-height-source:userset;height:16.5pt'>\n        <td height=22 class=xl442 style='height:16.5pt'>Prennisation au 31 aot 2024</td>\n        <td class=xl681>5 279</td>\n        <td class=xl445 style='border-top:none'><span style='mso-spacerun:yes'>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 </span>282 836\n            675<span style='mso-spacerun:yes'>\xa0\xa0 </span></td>\n        <td class=xl444><span style='mso-spacerun:yes'>\xa0</span>Projections sur la\n            base du complment ncessaire pour le fonctionnement jusqu'au 31/08/2024.\n            5279 UP<span style='mso-spacerun:yes'>\xa0</span></td>\n    </tr>\n    <tr height=22 style='mso-height-source:userset;height:16.5pt'>\n        <td height=22 class=xl682 style='height:16.5pt'>PA 2019</td>\n        <td class=xl680>1 306</td>\n        <td class=xl495 style='border-top:none'><span style='mso-spacerun:yes'>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 </span>85\n            132 814<span style='mso-spacerun:yes'>\xa0\xa0 </span></td>\n        <td class=xl496 style='border-top:none'><span style='mso-spacerun:yes'>\xa0</span>1306 UP (1512 Salles)<span\n                style='mso-spacerun:yes'>\xa0</span></td>\n    </tr>\n    <tr height=22 style='mso-height-source:userset;height:16.5pt'>\n        <td height=22 class=xl89 style='height:16.5pt'>3me Anne</td>\n        <td class=xl673>4</td>\n        <td class=xl427 style='border-top:none'><span style='mso-spacerun:yes'>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\n            </span>236\n            709<span style='mso-spacerun:yes'>\xa0\xa0 </span></td>\n        <td class=xl93><span style='mso-spacerun:yes'>\xa0</span>4 UP (6 Salles)<span style='mso-spacerun:yes'>\xa0</span>\n        </td>\n    </tr>\n    <tr height=22 style='mso-height-source:userset;height:16.5pt'>\n        <td height=22 class=xl89 style='height:16.5pt'>4me Anne</td>\n        <td class=xl673>97</td>\n        <td class=xl427 style='border-top:none'><span style='mso-spacerun:yes'>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 </span>6\n            361 529<span style='mso-spacerun:yes'>\xa0\xa0 </span></td>\n        <td class=xl93><span style='mso-spacerun:yes'>\xa0</span>97 UP (106 Salles)<span style='mso-spacerun:yes'>\xa0</span>\n        </td>\n    </tr>\n    <tr height=22 style='mso-height-source:userset;height:16.5pt'>\n        <td height=22 class=xl89 style='height:16.5pt'>5me Anne</td>\n        <td class=xl673>1 031</td>\n        <td class=xl427 style='border-top:none'><span style='mso-spacerun:yes'>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 </span>66\n            378 216<span style='mso-spacerun:yes'>\xa0\xa0 </span></td>\n        <td class=xl93><span style='mso-spacerun:yes'>\xa0</span>1031 UP (1198\n            Salles)<span style='mso-spacerun:yes'>\xa0</span></td>\n    </tr>\n    <tr height=22 style='mso-height-source:userset;height:16.5pt'>\n        <td height=22 class=xl89 style='height:16.5pt'>6me Anne</td>\n        <td class=xl673>174</td>\n        <td class=xl427 style='border-top:none'><span style='mso-spacerun:yes'>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 </span>12\n            156 360<span style='mso-spacerun:yes'>\xa0\xa0 </span></td>\n        <td class=xl93><span style='mso-spacerun:yes'>\xa0</span>174 UP (202\n            Salles)<span style='mso-spacerun:yes'>\xa0</span></td>\n    </tr>\n    <tr height=22 style='mso-height-source:userset;height:16.5pt'>\n        <td height=22 class=xl682 style='height:16.5pt'>PA 2020</td>\n        <td class=xl680>1 890</td>\n        <td class=xl495 style='border-top:none'><span style='mso-spacerun:yes'>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 </span>120 262\n            283<span style='mso-spacerun:yes'>\xa0\xa0 </span></td>\n        <td class=xl496><span style='mso-spacerun:yes'>\xa0</span>1890 UP (2113\n            Salles)<span style='mso-spacerun:yes'>\xa0</span></td>\n    </tr>\n    <tr height=22 style='mso-height-source:userset;height:16.5pt'>\n        <td height=22 class=xl89 style='height:16.5pt'>3me Anne</td>\n        <td class=xl673>469</td>\n        <td class=xl427 style='border-top:none'><span style='mso-spacerun:yes'>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 </span>24\n            572 069<span style='mso-spacerun:yes'>\xa0\xa0 </span></td>\n        <td class=xl93><span style='mso-spacerun:yes'>\xa0</span>469 UP (516\n            Salles)<span style='mso-spacerun:yes'>\xa0</span></td>\n    </tr>\n    <tr height=22 style='mso-height-source:userset;height:16.5pt'>\n        <td height=22 class=xl89 style='height:16.5pt'>4me Anne</td>\n        <td class=xl673>1 420</td>\n        <td class=xl427 style='border-top:none'><span style='mso-spacerun:yes'>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 </span>95\n            630 034<span style='mso-spacerun:yes'>\xa0\xa0 </span></td>\n        <td class=xl93><span style='mso-spacerun:yes'>\xa0</span>1420 UP (1596\n            Salles)<span style='mso-spacerun:yes'>\xa0</span></td>\n    </tr>\n    <tr height=22 style='mso-height-source:userset;height:16.5pt'>\n        <td height=22 class=xl89 style='height:16.5pt'>5me Anne</td>\n        <td class=xl673>1</td>\n        <td class=xl427 style='border-top:none'><span style='mso-spacerun:yes'>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\n            </span>60\n            180<span style='mso-spacerun:yes'>\xa0\xa0 </span></td>\n        <td class=xl93><span style='mso-spacerun:yes'>\xa0</span>1 UP (1 Salle)<span style='mso-spacerun:yes'>\xa0</span></td>\n    </tr>\n    <tr height=22 style='mso-height-source:userset;height:16.5pt'>\n        <td height=22 class=xl682 style='height:16.5pt'>PA 2021</td>\n        <td class=xl680>2 083</td>\n        <td class=xl495 style='border-top:none'><span style='mso-spacerun:yes'>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 </span>77\n            441 578<span style='mso-spacerun:yes'>\xa0\xa0 </span></td>\n        <td class=xl496><span style='mso-spacerun:yes'>\xa0</span>2083 UP (2228\n            Salles)<span style='mso-spacerun:yes'>\xa0</span></td>\n    </tr>\n    <tr height=22 style='mso-height-source:userset;height:16.5pt'>\n        <td height=22 class=xl89 style='height:16.5pt'>3me Anne</td>\n        <td class=xl673>2 075</td>\n        <td class=xl427 style='border-top:none'><span style='mso-spacerun:yes'>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 </span>76\n            538 878<span style='mso-spacerun:yes'>\xa0\xa0 </span></td>\n        <td class=xl93><span style='mso-spacerun:yes'>\xa0</span>2075 UP (2213\n            Salles)<span style='mso-spacerun:yes'>\xa0</span></td>\n    </tr>\n    <tr height=22 style='mso-height-source:userset;height:16.5pt'>\n        <td height=22 class=xl89 style='height:16.5pt'>4me Anne</td>\n        <td class=xl673>8</td>\n        <td class=xl427 style='border-top:none'><span style='mso-spacerun:yes'>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\n            </span>902\n            700<span style='mso-spacerun:yes'>\xa0\xa0 </span></td>\n        <td class=xl93><span style='mso-spacerun:yes'>\xa0</span>8 UP (15 Salles)<span style='mso-spacerun:yes'>\xa0</span>\n        </td>\n    </tr>\n    <tr height=22 style='mso-height-source:userset;height:16.5pt'>\n        <td height=22 class=xl442 style='height:16.5pt'>Prime d'anciennet pour les\n            ducateurs ayant plus de 2 ans de service</td>\n        <td class=xl679>5 285</td>\n        <td class=xl443 style='border-top:none'><span style='mso-spacerun:yes'>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 </span>40\n            378 851<span style='mso-spacerun:yes'>\xa0\xa0 </span></td>\n        <td class=xl444>&nbsp;</td>\n    </tr>\n    <tr height=22 style='mso-height-source:userset;height:16.5pt'>\n        <td height=22 class=xl682 style='height:16.5pt'>Arrir de Prime d'anciennet\n            ( fin aot 2022)</td>\n        <td class=xl680>1 206</td>\n        <td class=xl495 style='border-top:none'><span style='mso-spacerun:yes'>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 </span>2\n            748 167<span style='mso-spacerun:yes'>\xa0\xa0 </span></td>\n        <td class=xl496 style='border-top:none'>&nbsp;</td>\n    </tr>\n    <tr height=22 style='mso-height-source:userset;height:16.5pt'>\n        <td height=22 class=xl89 style='height:16.5pt'>PA 2019</td>\n        <td class=xl673>1 205</td>\n        <td class=xl427 style='border-top:none'><span style='mso-spacerun:yes'>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 </span>2\n            746 868<span style='mso-spacerun:yes'>\xa0\xa0 </span></td>\n        <td class=xl93>&nbsp;</td>\n    </tr>\n    <tr height=22 style='mso-height-source:userset;height:16.5pt'>\n        <td height=22 class=xl89 style='height:16.5pt'>PA 2020</td>\n        <td class=xl673>1</td>\n        <td class=xl427 style='border-top:none'><span style='mso-spacerun:yes'>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\n            </span>1\n            299<span style='mso-spacerun:yes'>\xa0\xa0 </span></td>\n        <td class=xl93>&nbsp;</td>\n    </tr>\n    <tr height=22 style='mso-height-source:userset;height:16.5pt'>\n        <td height=22 class=xl682 style='height:16.5pt'>Prime d'anciennet pour la\n            priode Sept 2022 - Aout 2023</td>\n        <td class=xl680>2 731</td>\n        <td class=xl495 style='border-top:none'><span style='mso-spacerun:yes'>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 </span>5\n            377 371<span style='mso-spacerun:yes'>\xa0\xa0 </span></td>\n        <td class=xl496>&nbsp;</td>\n    </tr>\n    <tr height=22 style='mso-height-source:userset;height:16.5pt'>\n        <td height=22 class=xl89 style='height:16.5pt'>PA 2019</td>\n        <td class=xl673>1 302</td>\n        <td class=xl427 style='border-top:none'><span style='mso-spacerun:yes'>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 </span>3\n            361 009<span style='mso-spacerun:yes'>\xa0\xa0 </span></td>\n        <td class=xl93>&nbsp;</td>\n    </tr>\n    <tr height=22 style='mso-height-source:userset;height:16.5pt'>\n        <td height=22 class=xl89 style='height:16.5pt'>PA 2020</td>\n        <td class=xl673>1 421</td>\n        <td class=xl427 style='border-top:none'><span style='mso-spacerun:yes'>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 </span>2\n            004 359<span style='mso-spacerun:yes'>\xa0\xa0 </span></td>\n        <td class=xl93>&nbsp;</td>\n    </tr>\n    <tr height=22 style='mso-height-source:userset;height:16.5pt'>\n        <td height=22 class=xl89 style='height:16.5pt'>PA 2021</td>\n        <td class=xl673>8</td>\n        <td class=xl427 style='border-top:none'><span style='mso-spacerun:yes'>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\n            </span>12\n            003<span style='mso-spacerun:yes'>\xa0\xa0 </span></td>\n        <td class=xl93>&nbsp;</td>\n    </tr>\n    <tr height=22 style='mso-height-source:userset;height:16.5pt'>\n        <td height=22 class=xl682 style='height:16.5pt'>Prime d'anciennet pour la\n            priode Sept 2023 - Aout 2024</td>\n        <td class=xl680>5 285</td>\n        <td class=xl495 style='border-top:none'><span style='mso-spacerun:yes'>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 </span>32\n            253 313<span style='mso-spacerun:yes'>\xa0\xa0 </span></td>\n        <td class=xl496>&nbsp;</td>\n    </tr>\n    <tr height=22 style='mso-height-source:userset;height:16.5pt'>\n        <td height=22 class=xl89 style='height:16.5pt'>PA 2019</td>\n        <td class=xl673>1 306</td>\n        <td class=xl427 style='border-top:none'><span style='mso-spacerun:yes'>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 </span>4\n            475 723<span style='mso-spacerun:yes'>\xa0\xa0 </span></td>\n        <td class=xl93>&nbsp;</td>\n    </tr>\n    <tr height=22 style='mso-height-source:userset;height:16.5pt'>\n        <td height=22 class=xl89 style='height:16.5pt'>PA 2020</td>\n        <td class=xl673>1 896</td>\n        <td class=xl427 style='border-top:none'><span style='mso-spacerun:yes'>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 </span>12\n            467 444<span style='mso-spacerun:yes'>\xa0\xa0 </span></td>\n        <td class=xl93>&nbsp;</td>\n    </tr>\n    <tr height=22 style='mso-height-source:userset;height:16.5pt'>\n        <td height=22 class=xl89 style='height:16.5pt'>PA 2021</td>\n        <td class=xl673>2 083</td>\n        <td class=xl427 style='border-top:none'><span style='mso-spacerun:yes'>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 </span>15\n            310 145<span style='mso-spacerun:yes'>\xa0\xa0 </span></td>\n        <td class=xl93>&nbsp;</td>\n    </tr>\n    <tr height=22 style='mso-height-source:userset;height:16.5pt'>\n        <td colspan=2 height=22 class=xl116 style='border-right:1.0pt solid black;\n height:16.5pt'>Total Dpenses</td>\n        <td class=xl429 style='border-left:none'><span style='mso-spacerun:yes'>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 </span>1 407 019\n            570<span style='mso-spacerun:yes'>\xa0\xa0 </span></td>\n        <td class=xl117>&nbsp;</td>\n    </tr>\n    <tr height=20 style='mso-height-source:userset;height:15.0pt'>\n        <td colspan=2 height=20 class=xl116 style='border-right:1.0pt solid black;\n height:15.0pt'>Total Contribution INDH</td>\n        <td class=xl594 style='border-top:none;border-left:none'><span style='mso-spacerun:yes'>\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\n            </span>1 097 611 997<span style='mso-spacerun:yes'>\xa0\xa0 </span></td>\n        <td></td>\n    </tr>\n</table>\n        "}]},0,['budget'],['widget','component','container','panel','budget'],{'widget':!0,'component':!0,'container':!0,'panel':!0,'budget':!0},['widget.budget'],0,[App.view.projection.budget,'Budget'],0);Ext.cmd.derive('App.view.projection.budget.BudgetController',Ext.app.ViewController,{updateCoutFct:function(){var e=this.getViewModel();var c=this.calcCoutBaseFoncAt(new Date(2022,11,30),0);var b=this.calcCoutBaseFoncAt(new Date(2022,11,30),3);var d=this.calcCoutBaseFoncAt(new Date(2023,11,30),0);var a='Cout Fct. (fin 2022): ';a+=c+" dhs, avec prime d'anciennet: ";a+=b+' dhs<br/>';a+='Cout Fct. (fin 2023): '+d+' dhs';e.set('augmentationsCoutFct',a)},calcCoutBaseFoncAt:function(l,b){var c=this.getViewModel(),a=c.get('charges_sociales_mensuelles'),e=c.get('cout_fonctionnement_hors_salaires'),h=c.get('appliquer2Augmentation'),j=c.get('treshould'),i=c.get('roundCoutFct');var g=new Date(2022,8,1),f=new Date(2023,8,1);var d=new Date(+l);d.setMonth(d.getMonth()+j);if(d>=f&&h){a*=1.1}else if(d>=g){a*=1.05}if(b>=25){a*=1.25}else if(b>=20){a*=1.2}else if(b>=12){a*=1.15}else if(b>=5){a*=1.1}else if(b>=2){a*=1.05}a=Ext.Number.roundToPrecision(a,2,'ceil');var k=a*12+e;return Ext.Number.roundToPrecision(k,i,'ceil')}},0,0,0,0,['controller.budget'],0,[App.view.projection.budget,'BudgetController'],0);Ext.cmd.derive('App.view.projection.budget.BudgetModel',Ext.app.ViewModel,{data:{record:null,isCalculating:!1,fromDate:new Date(),toDate:new Date(2023,11,31),interval:6,respectInterval:!0,method:2,treshould:3,cout_etudes:20000,cout_fonctionnement:58000,cout_equipement:25000,cout_construction_t1:250000,cout_construction_t2:350000,cout_amenagement:50000,cout_modulaire:347189,quote_part_INDH:20,pa23_objectif_t1:547,pa23_objectif_t2:0,pa23_objectif_amg:0,pa23_objectif_modulaire:0,appliquerRevalorisation:!0,seulement2AnneesFct:!1,pasPerenisationAudela2023:!0,stopDelegationAtEndOf2023:!0,appliquer2Augmentation:!1,charges_sociales_mensuelles:3463.98,cout_fonctionnement_hors_salaires:14350,roundCoutFct:0,augmentationsCoutFct:'58000 dhs'},stores:{}},0,0,0,0,['viewmodel.budget'],0,[App.view.projection.budget,'BudgetModel'],0);Ext.cmd.derive('App.view.projection.cadrage.CadrageControllerdd',Ext.Base,{init:function(){this.callParent(arguments);globalThis.debug=this;this.getView().setMasked({xtype:'loadmask',indicator:!0,message:'Chargement Donnes...'})},reset:function(){var b=this.getViewModel(),a=b.getStore('sousdelegations');a.rejectChanges()},process:function(g,h){console.debug('process');this.getView().setMasked({xtype:'loadmask',indicator:!0,message:'Calcul...'});var c=this,a=this.getViewModel(),b=a.getStore('unites'),e=a.getStore('sousdelegations'),d=a.getStore('delegationobjets');a.set('isCalculating',!0);d.removeAll();e.rejectChanges();b.removeAll();var f=this.ups.map(function(a){return a.copy()});b.loadData(f);this.stats.date=0;this.stats.bound=0;setTimeout(function(){c.calculateProjections()}.bind(c),500)},ups:[],stats:{date:0,bound:0,dues:[],logs:[]},onUnitesStoreLoad:function(){var a=this,c=this.getViewModel(),b=c.getStore('fp_unites'),d=c.getStore('reportings');this.ups=b.getData().items;d.load({scope:this,callback:function(f,d,g){console.log('reportingsStore load');if(!g||d.exception){var e="Nous n'avons pas pu Charger les Donnes !<br/> Veuillez actualiser la page";e+=App.util.Errors.toMsg(d.error||d.getError());console.log(d);a.getView().setMasked(!1);App.ux.Signals.showWarning(e,!0);return}var c=[];f.forEach(function(e){var r=e.get('province_code');var m=e.get('plan_actions');var v=e.get('fondation_partenaire');if(m==='2022'||m==='2023'){return}var s=b.getData().createFiltered(function(a){return a.get('plan_actions')==m&&a.get('province_code')==r});var l={province_code:r,plan_actions:m,nbre_salles:1,fondation_partenaire:v};var o=s.count();if(e.get('nbre_programmees')<=o||e.get('nbre_salles_calc')<=s.sum('nbre_salles')){return}var i=e.get('prevision_mois0');if(o>e.get('nbre_ouvertes')){i-=o-e.get('nbre_ouvertes')}var h=e.get('date_situation')||e.get('updated');var u=Ext.util.Format.date(h,'F');var p=Ext.util.Format.date(Ext.Date.add(h,Ext.Date.MONTH,1),'F');if(i>0){c=c.concat(a.fillArray(i,l,{intitule:'UP / Ouverture Prvue au '+u,est_ouverte:!0,tx_avancement_physique:100,statut:'Oprationnel',date_ouverture:h}))}var j=e.get('prevision_mois1');if(i<0){j+=i}if(j>0){c=c.concat(a.fillArray(j,l,{intitule:'UP / Ouverture Prvue au '+p,est_ouverte:!0,date_ouverture:Ext.Date.add(h,Ext.Date.MONTH,1)}))}var k=e.get('prevision_mois2');if(j<0){k+=j}var w=e.get('prevision_prochaine_rentree');var t=e.get('nbre_encours');if(k>0){var n=Math.min(k,t);var q=k-n;if(n>0){c=c.concat(a.fillArray(n,l,{intitule:'UP / Ouverture Prvue Au-del du '+p,est_ouverte:!0,date_ouverture:Ext.Date.add(h,Ext.Date.MONTH,3)}))}if(q>0){c=c.concat(a.fillArray(q,l,{intitule:'UP Non Dmarres / Ouverture Prvue Au-del du '+p,est_ouverte:!0,date_ouverture:Ext.Date.add(h,Ext.Date.MONTH,6)}))}}});if(c.length>0){this.ups=this.ups.concat(c)}setTimeout(function(){a.getView().setMasked(!1)},500)}})},fillArray:function(b,g,f){var d=[];var a=0;for(;a<b;a++){var c=Object.assign({},g,f);c.intitule+=' ('+Ext.String.leftPad(a+1,b.toString().length,'0')+')';var e=Ext.create('App.model.Projet',c);d.push(e)}return d},calcBesoins:function(d,b,r,m){var s=this,a=this.getViewModel(),k=a.getStore('sousdelegations'),j=a.getStore('reportings'),f=[],g,c,h=a.get('cout_construction_t1'),e=a.get('cout_construction_t2'),i=a.get('cout_amenagement'),l=a.get('cout_modulaire'),o=a.get('cout_etudes'),p=math.matrix([[h,e,e,i,l]]),q=['T1','T2','T3','Amg','Mod'],n=math.matrix([[1,2,3,1,1]]);g=j.getData().createFiltered(function(a){return a.get('plan_actions')===d});c=k.getData().createFiltered(function(a){return a.get('plan_actions')==='PA '+d&&a.get('tranche_no')===b});g.each(function(e){var h=e.get('province_code');var j=e.get('nbre_programmees');if(!j){return}var i=c&&c.getData().createFiltered(function(a){return a.get('province_code')===h});var l=e.get('matrix_programmation');var k=i&&i.sum('matrix_types_up');var a=math.subtract(l,k).map(function(a){return a<0?0:a});var t=math.dot(b===P_TRANCHES.CONSTRUCTION?p:o,a);var g='';a.forEach(function(c,a,f){g+=c;g+=q[a[1]]+', '});f.push(s.createSousDelegation({province_code:h,tranche_no:b,libelle:r,observations:g,plan_actions:d,nature_affectation:b<=P_TRANCHES.CONSTRUCTION?'Cration':b===P_TRANCHES.EQUIPEMENT?'Equipement':'Fonctionnement',date_delegation:m,unitescount:matrix.sum(a),sallescount:matrix.dot(a,n),nbre_t1:a.get([0,0]),nbre_t2:a.get([0,1]),nbre_t3:a.get([0,2]),nbre_amg:a.get([0,3]),nbre_mod:a.get([0,4]),provincescount:1},t))});return f},calculateEquipFonctDepenses:function(){},calculateProjections:function(){var b=this,a=this.getViewModel(),z=a.get('fromDate')||new Date(),q=a.get('toDate')||new Date(2023,11,30),A=a.get('interval'),y=a.get('treshould'),d=a.get('pa23_objectif_t1'),e=a.get('pa23_objectif_t2'),g=a.get('pa23_objectif_amg'),i=a.get('pa23_objectif_modulaire'),I=a.get('cout_etudes'),v=a.get('cout_fonctionnement'),C=a.get('cout_equipement'),t=a.get('cout_construction_t1'),u=a.get('cout_construction_t2'),w=a.get('cout_amenagement'),H=a.get('cout_modulaire'),l=a.get('stopDelegationAtEndOf2023'),r=a.get('pasPerenisationAudela2023'),G=a.get('seulement2AnneesFct'),s=a.get('appliquerRevalorisation'),h=a.getStore('sousdelegations'),x=a.getStore('delegationobjets'),J=a.getStore('unites'),D=a.getStore('reportings');if(q>new Date(2024,0,1)){l=!1}var c=[];console.log('sousdelegations',h.count());var K=D.getData().createFiltered(function(a){return a.get('plan_actions')==='2022'});K.each(function(f){var m=f.get('province_code');var x=f.get('nbre_programmees');if(!x){return}var G=f.get('nbre_programmees_t1'),H=f.get('nbre_programmees_t2'),I=f.get('nbre_programmees_t3'),E=f.get('nbre_programmees_amg');var a=h.getData().createFiltered(function(a){return a.get('plan_actions')==='PA 2022'&&a.get('tranche_no')===P_TRANCHES.CONSTRUCTION&&a.get('province_code')===m});var M=a?a.sum('nbre_t1'):0,N=a?a.sum('nbre_t2'):0,O=a?a.sum('nbre_t3'):0,L=a?a.sum('nbre_amg'):0,Q=a?a.sum('nbre_modulaire'):0;var g=G-M;var i=H-N;var j=I-O;var e=E-L;var k=0;if(g>0){k+=g*t}if(i>0){k+=i*u}if(j>0){k+=j*cout_construction_t3}if(e>0){k+=e*w}if(k&&m!=73){var o='';if(g>0){o+=g+'T1, '}if(i>0){o+=i+'T2, '}if(j>0){o+=j+'T3, '}if(e>0){o+=e+'Amg'}c.push(b.createSousDelegation({province_code:m,tranche_no:P_TRANCHES.CONSTRUCTION,libelle:'Construction UP Restantes PA 2022',observations:o,plan_actions:'2022',nature_affectation:'Cration',date_delegation:new Date(2023,0,30),unitescount:Math.max(0,g)+Math.max(0,i)+Math.max(0,j)+Math.max(0,e),sallescount:Math.max(0,g)+Math.max(0,i)*2+Math.max(0,j)*3+Math.max(0,e),nbre_t1:Math.max(0,g),nbre_t2:Math.max(0,i),nbre_t3:Math.max(0,j),nbre_amg:Math.max(0,e),provincescount:1},k))}var p=h.getData().createFiltered(function(a){return a.get('plan_actions')==='PA 2022'&&a.get('tranche_no')===P_TRANCHES.EQUIPEMENT&&a.get('province_code')===m});var z=f.get('nbre_salles');var D=p?p.sum('nbre_salles_concernees'):0;var F=p?p.sum('nbre_ups_concernees'):0;var J=x-F;var A=Math.max(0,z-D);var n=new Date(2023,8,30);var C=1;var d=P_TRANCHES.TR1;do{var B=v;if(s){B=b.calcCoutBaseFoncAt(n)}var P=B*(d===P_TRANCHES.TR1?A:z)*(d<P_TRANCHES.ANNEE_3?1:1);c.push(b.createSousDelegation({province_code:m,tranche_no:d,libelle:'Tranche '+C+' de Fonctionnement du PA 2022',plan_actions:'2022',nature_affectation:'Fonctionnement',date_delegation:n,unitescount:d===P_TRANCHES.TR1?J:x,sallescount:d===P_TRANCHES.TR1?A:z,provincescount:1},P));++d;++C;var K=n.getMonth()+(d<P_TRANCHES.ANNEE_3?6:12)-y;n.setMonth(K)}while(l?d<(r?P_TRANCHES.ANNEE_3:P_TRANCHES.ANNEE_4):n<=q)});var L=D.getData().createFiltered(function(a){return a.get('plan_actions')==='2023'});L.each(function(f){var m=f.get('province_code');var z=f.get('nbre_programmees');if(!z){return}var I=f.get('nbre_programmees_t1'),J=f.get('nbre_programmees_t2'),K=f.get('nbre_programmees_t3'),G=f.get('nbre_programmees_amg');var a=h.getData().createFiltered(function(a){return a.get('plan_actions')==='PA 2023'&&a.get('tranche_no')===P_TRANCHES.CONSTRUCTION&&a.get('province_code')===m});var N=a?a.sum('nbre_t1'):0,O=a?a.sum('nbre_t2'):0,P=a?a.sum('nbre_t3'):0,M=a?a.sum('nbre_amg'):0,R=a?a.sum('nbre_modulaire'):0;var g=I-N;var i=J-O;var j=K-P;var e=G-M;var k=0;if(g>0){k+=g*t}if(i>0){k+=i*u}if(j>0){k+=j*cout_construction_t3}if(e>0){k+=e*w}if(k&&m!=73){var p='';if(g>0){p+=g+'T1, '}if(i>0){p+=i+'T2, '}if(j>0){p+=j+'T3, '}if(e>0){p+=e+'Amg'}c.push(b.createSousDelegation({province_code:m,tranche_no:P_TRANCHES.CONSTRUCTION,libelle:'Construction UP PA 2023',observations:p,plan_actions:'2023',nature_affectation:'Cration',date_delegation:new Date(2023,2,1),unitescount:Math.max(0,g)+Math.max(0,i)+Math.max(0,j)+Math.max(0,e),sallescount:Math.max(0,g)+Math.max(0,i)*2+Math.max(0,j)*3+Math.max(0,e),nbre_t1:Math.max(0,g),nbre_t2:Math.max(0,i),nbre_t3:Math.max(0,j),nbre_amg:Math.max(0,e),provincescount:1},k))}var x=h.getData().createFiltered(function(a){return a.get('plan_actions')==='PA 2023'&&a.get('tranche_no')===P_TRANCHES.EQUIPEMENT&&a.get('province_code')===m});var A=f.get('nbre_salles');var F=x?x.sum('nbre_salles_concernees'):0;var H=x?x.sum('nbre_ups_concernees'):0;var D=z-H;var o=Math.max(0,A-F);var n=new Date(2023,7,1);if(o){c.push(b.createSousDelegation({province_code:m,tranche_no:P_TRANCHES.EQUIPEMENT,libelle:'Equipement PA 2023',plan_actions:'2023',nature_affectation:'Equipement',date_delegation:n,unitescount:D,sallescount:o,provincescount:1},C*o))}var E=1;var d=P_TRANCHES.TR1;do{var B=v;if(s){B=b.calcCoutBaseFoncAt(n)}var Q=B*(d===P_TRANCHES.TR1?o:A)*(d<P_TRANCHES.ANNEE_3?2:1);c.push(b.createSousDelegation({province_code:m,tranche_no:d,libelle:'Tranche '+E+' de Fonctionnement du PA 2023',plan_actions:'2023',nature_affectation:'Fonctionnement',date_delegation:n,unitescount:d===P_TRANCHES.TR1?D:z,sallescount:d===P_TRANCHES.TR1?o:A,provincescount:1},Q));++d;++E;var L=n.getMonth()+(d<P_TRANCHES.ANNEE_3?6:12)-y;n.setMonth(L)}while(l?d<(r?P_TRANCHES.ANNEE_3:P_TRANCHES.ANNEE_4):n<=q)});if(d+e>0){c.push(b.createSousDelegation({tranche_no:P_TRANCHES.ETUDES,libelle:'Etudes PA 2023',plan_actions:'2023',nature_affectation:'Cration',date_delegation:new Date(2023,0,30),unitescount:d+e,sallescount:d+e*2,provincescount:72},I*(d+e)))}if(d){c.push(b.createSousDelegation({tranche_no:P_TRANCHES.CONSTRUCTION,libelle:'Construction T1 PA 2023',plan_actions:'2023',nature_affectation:'Cration',date_delegation:new Date(2023,0,15),unitescount:d,sallescount:d,provincescount:72},t*d))}if(e){c.push(b.createSousDelegation({tranche_no:P_TRANCHES.CONSTRUCTION,libelle:'Construction T2 PA 2023',plan_actions:'2023',nature_affectation:'Cration',date_delegation:new Date(2023,0,15),unitescount:e,sallescount:e,provincescount:72},u*e))}if(g){c.push(b.createSousDelegation({tranche_no:P_TRANCHES.CONSTRUCTION,libelle:'Amnagements PA 2023',plan_actions:'2023',nature_affectation:'Cration',date_delegation:new Date(2023,0,15),unitescount:g,sallescount:Math.round(g*0.9)+Math.round(g*0.1)*2,provincescount:72},w*g))}if(i){c.push(b.createSousDelegation({tranche_no:P_TRANCHES.CONSTRUCTION,libelle:'Units Modulaires PA 2023',plan_actions:'2023',nature_affectation:'Cration',date_delegation:new Date(2023,0,15),unitescount:i,sallescount:i,provincescount:72},H*i))}var m=d+e*2+Math.round(g*0.9)+Math.round(g*0.1)*2+i;var E=d+e+g+i;if(m){var j=new Date(2023,7,1);c.push(b.createSousDelegation({tranche_no:P_TRANCHES.EQUIPEMENT,libelle:'Equipement PA 2023',plan_actions:'2023',nature_affectation:'Equipement',date_delegation:j,unitescount:E,sallescount:m,provincescount:72},C*m));var F=1;var k=P_TRANCHES.TR1;do{if(r&&k>=P_TRANCHES.ANNEE_3){break}var B=v;if(s){B=this.calcCoutBaseFoncAt(j)}var M=B*m*(k<P_TRANCHES.ANNEE_3?0.5:1);c.push(b.createSousDelegation({tranche_no:k,libelle:'Tranche '+F+' de Fonctionnement du PA 2023',plan_actions:'2023',nature_affectation:'Fonctionnement',date_delegation:j,unitescount:E,sallescount:m,provincescount:72},M));++k;++F;j.setMonth(j.getMonth()+(k<P_TRANCHES.ANNEE_3?6:12)-y)}while(l?k<P_TRANCHES.ANNEE_3:j<=q)}var n=Ext.Date.diff(z,q,'d')/(A*30);n=Math.max(1,Math.ceil(n));var f=1;if(n>25){alert('Erreur quelque part !');a.set('isCalculating',!1);return}var o=[];var N=[];for(;f<=n;f++){var p=new Date(+z);p.setMonth(p.getMonth()+(f-1)*A);J.each(function(c,i){if(f===1&&!c.get('est_ouverte')){c.set({est_ouverte:!0,date_ouverture:new Date(2023,8,1)})}try{var a=b.createDepenses(c,f,p);if(a&&a.get('montant_global')){o.push(a);if(a.get('current_tranche')===P_TRANCHES.EQUIPEMENT){a=b.createDepenses(c,f,p);if(a&&a.get('montant_global')>0){o.push(a)}}if(a.get('tranche_due')){b.stats.dues.push(a);do{a=b.createDepenses(c,f,p);if(a&&a.get('montant_global')>0){o.push(a)}}while(a&&a.get('tranche_due'))}}if(l&&f===n){var h=f;var e=parseInt(c.get('plan_actions'));var d=P_TRANCHES.TR4;if(!G){if(e===2019){d=P_TRANCHES.ANNEE_4}else if(e===2020){d=P_TRANCHES.ANNEE_3}else if(e===2021){d=P_TRANCHES.ANNEE_3}if(!r&&e>2021){d=P_TRANCHES.ANNEE_3}}while(c.get('last_tranche')<d){++h;var g=new Date(+z);g.setMonth(g.getMonth()+(h-1)*A);a=b.createDepenses(c,h,g,!0);if(a&&a.get('montant_global')>0){o.push(a)}}}}catch(O){console.error(O)}})}x.add(o);x.group([{property:'date_delegation'},{property:'province_code'},{property:'plan_actions'},{property:'current_tranche'}]);x.getGroups().each(function(a){a.getGroups().each(function(d){var e=parseInt(d.getGroupKey());d.getGroups().each(function(f){var g=f.getGroupKey();f.getGroups().each(function(h){var j=parseInt(h.getGroupKey());var i=h.first();c.push(b.createSousDelegation({province_code:e,tranche_no:j,libelle:i.get('libelle'),plan_actions:g,nature_affectation:i.get('nature_affectation'),date_delegation:i.get('date_delegation'),unitescount:h.count(),sallescount:h.sum('nbre_salles'),provincescount:1},h.sum('montant_global')))})})})});globalThis.sousdelegations=h;h.add(c);a.set('isCalculating',!1);setTimeout(function(){b.getView().setMasked(!1)})},createSousDelegation:function(a,b){var g=this.getViewModel(),e=g.get('stopDelegationAtEndOf2023');if(e){var d=new Date(2023,11,15);if(a.date_delegation>d){a.date_delegation=d}}var f=Ext.create('App.model.Delegation',{tranche_no:a.tranche_no,libelle:a.libelle,plan_actions:a.plan_actions,nature_affectation:a.nature_affectation,date_delegation:a.date_delegation,nbre_mois_fonctionnement:a.nbre_mois_fonctionnement,montant_global:b,montant_effectif:b,unitescount:a.unitescount,sallescount:a.sallescount,provincescount:a.provincescount});var c=Ext.create('App.model.SousDelegation',Object.assign({montant_effectif:b,montant_effectif:b,nbre_ups_concernees:a.unitescount,nbre_salles_concernees:a.sallescount},a));c.setDelegation(f);return c},createDepenses:function(b,x,d,h){var e=this.getViewModel(),p=e.get('seulement2AnneesFct'),u=e.get('interval'),i=e.get('respectInterval'),o=e.get('method'),n=e.get('treshould'),g=e.get('pasPerenisationAudela2023'),z=e.get('stopDelegationAtEndOf2023');var f=b.get('last_tranche');var c=parseInt(b.get('plan_actions'));var a=!f||isNaN(f)?P_TRANCHES.EQUIPEMENT:f+1;var s=!1;if(c===2019&&a<P_TRANCHES.ANNEE_3){a=P_TRANCHES.ANNEE_3}if(c===2020&&a===P_TRANCHES.EQUIPEMENT){a=P_TRANCHES.TR2;s=!0}b.set('date_calcul',new Date(+d));if(g){if(c===2019&&a>P_TRANCHES.ANNEE_5){return null}if(c===2020&&a>P_TRANCHES.ANNEE_4){return null}if(c===2021&&a>P_TRANCHES.ANNEE_3){return null}if(c>=2022&&a>P_TRANCHES.TR4){return null}}if(o===1&&a>=P_TRANCHES.ANNEE_3&&!h){var t=b.get('age_mois');if(t<(a-P_TRANCHES.ANNEE_3+3)*12-n){if(c>2020||a!=P_TRANCHES.ANNEE_3){return null}}}if(a>=P_TRANCHES.ANNEE_3){if(p){return null}if(g&&c>2021){return null}}if(!h){var q=this.checkUPEligible(b,a,o,n,i,u,new Date(+d));if(!q){return null}}if(i&&a>P_TRANCHES.ANNEE_3){var l=b.get('last_delegation_dt');var v=Ext.Date.diff(l,d,'mo',0,'ceil');if(l.getFullYear()===d.getFullYear()||v<=12){return null}}if(a<=f){console.debug('nextTranche <= currTranche',b);return null}var r=this._createDeleg(a,c);var j=this.calcMontant(b,a,d);var k=b.get('tranche_due');var y=Object.assign({},b.getData(),{lot:x,date_delegation:new Date(+d),montant_global:j,est_echu:b.get('reserve_jours')<=15,tranche_due:k<=a||b.get('solde')>0?null:k},r,{id:null,unite_id:b.getId()});var w=Ext.create('App.model.ObjetDelegation',y);var m={last_tranche:a,last_delegation_dt:new Date(+d)};if(a>=P_TRANCHES.TR1){m.montant_delegue_fct=b.get('montant_delegue_fct')+j}b.set(m);return w},_createDeleg:function(a,f){var c=a===P_TRANCHES.ETUDES||a===P_TRANCHES.CONSTRUCTION?'Cration':a===P_TRANCHES.EQUIPEMENT?'Equipement':'Fonctionnement';var d=App.app.getINDHTranchesStore();var b=0;var e=d.findRecord('value',a).get('label');if(c==='Fonctionnement'){b=a<P_TRANCHES.ANNEE_3?6:12}return {current_tranche:a,tranche_order:f+'_'+a,libelle:e,nature_affectation:c,nbre_mois_fonctionnement:b}},checkUPEligible:function(a,b,k,i,n,j,f,d){if(b===P_TRANCHES.ETUDES){if(a.get('statut')&&a.get('statut')!=='Etudes non encore lances'){return !1}var o=(new Date()).getFullYear();return a.get('plan_actions')>=o}else if(b===P_TRANCHES.CONSTRUCTION){if(["March des travaux en cours d'adjudication",'March des travaux adjugs'].includes(a.get('statut'))===!1){return !1}if(!a.get('cout_travaux_estime')){return !1}return !0}else if(b===P_TRANCHES.EQUIPEMENT||b===P_TRANCHES.TR1){if(a.get('est_resiliee')){return !1}var l=a.get('statut');var m=a.get('tx_avancement_physique');var h=a.get('date_ouverture_prevu');if(l&&m!=null){if(m<90){return !1}if(['Travaux en cours','Travaux achevs','Travaux rceptionns','Remise des cls'].includes(l)){return !1}}if(h&&Ext.Date.diff(new Date(+f),h,'d')>j*30/2){return !1}return !0}else if(b>=P_TRANCHES.TR2){if(!a.get('est_ouverte')||a.get('est_resiliee')||a.get('est_en_arret')){if(d){console.log('pas ouvert')}return !1}if(n){var c=a.get('last_delegation_dt');var e=a.get('last_tranche');var g=e>=P_TRANCHES.TR1?e<P_TRANCHES.ANNEE_3?6:12:0;if(c){var p=Ext.Date.diff(c,f,'mo',0,'ceil');if(g-p>j){this.stats.logs.push([e,g,c,Ext.Date.diff(c,f,'mo',0,'ceil')]);this.stats.date+=1;if(d){console.log('interval not respected')}return !1}}}if(k===1){if(d&&a.get('reserve_mois')>i){console.log('reserve sufficient')}return a.get('reserve_mois')>i?!1:!0}else if(k===2){return !0}return !1}else {if(d){console.log('unkonwn state')}this.stats.bound+=1;return !1}},updateCoutFct:function(){var e=this.getViewModel();var c=this.calcCoutBaseFoncAt(new Date(2022,11,30),0);var b=this.calcCoutBaseFoncAt(new Date(2022,11,30),3);var d=this.calcCoutBaseFoncAt(new Date(2023,11,30),0);var a='Cout Fct. (fin 2022): ';a+=c+" dhs, avec prime d'anciennet: ";a+=b+' dhs<br/>';a+='Cout Fct. (fin 2023): '+d+' dhs';e.set('augmentationsCoutFct',a)},calcCoutBaseFoncAt:function(l,b){var c=this.getViewModel(),a=c.get('charges_sociales_mensuelles'),e=c.get('cout_fonctionnement_hors_salaires'),h=c.get('appliquer2Augmentation'),j=c.get('treshould'),i=c.get('roundCoutFct');var g=new Date(2022,8,1),f=new Date(2023,8,1);var d=new Date(+l);d.setMonth(d.getMonth()+j);if(d>=f&&h){a*=1.1}else if(d>=g){a*=1.05}if(b>=25){a*=1.25}else if(b>=20){a*=1.2}else if(b>=12){a*=1.15}else if(b>=5){a*=1.1}else if(b>=2){a*=1.05}a=Ext.Number.roundToPrecision(a,2,'ceil');var k=a*12+e;return Ext.Number.roundToPrecision(k,i,'ceil')},calcMontant:function(e,a,j){var b=this.getViewModel(),c=b.get('cout_fonctionnement'),g=b.get('cout_equipement'),h=b.get('quote_part_INDH')/100,f=b.get('appliquerRevalorisation');var i=a<P_TRANCHES.ANNEE_3?0:a-P_TRANCHES.ANNEE_3+2;if(f){c=this.calcCoutBaseFoncAt(j,i)}if(a===P_TRANCHES.EQUIPEMENT){return e.calcCoutEquipement(g)}else if(a>=P_TRANCHES.TR1){var d=e.calcCoutFonctionnement(a<P_TRANCHES.ANNEE_3?6:12,c);if(a>=P_TRANCHES.ANNEE_3){d*=h}return d}return null},expandAll:function(){this.lookup('pivotgrid').expandAll()},collapseAll:function(){this.lookup('pivotgrid').collapseAll()},getStore:function(){var c=this.lookup('pivotgrid'),a=c.getMatrix(),b=a.store;return b},showConfigurator:function(){this.lookup('pivotgrid').showConfigurator()},orderedLabelRenderer:function(a){return a.split('#')[1].trim()},trancheRenderer:function(c){var b=App.app.getINDHTranchesStore();var a=b.findRecord('value',c);return a?a.get('label'):''},dateRenderer:function(a){return 'Dlgation du '+Ext.util.Format.date(a,'d F Y')},exportDocument:function(d){var c=this.getViewModel();var b=this.lookup('pivotgrid');var a='Projections '+Ext.util.Format.date(c.get('referenceDate'),'d/m/Y');b.saveDocumentAs({type:'excel07',title:a,fileName:a+'.xlsx'}).then(null,this.onError)},exportToXlsx:function(){var a=this.lookup('matchingRecGrid');a.saveDocumentAs({type:'xlsx',title:'Dlgations',author:'Mohamed DIDI',fileName:'Dlgations.xlsx'})}},0,0,0,0,0,0,[App.view.projection.cadrage,'CadrageControllerdd'],0);Ext.cmd.derive('App.view.projection.delegation.ShowNextDelegations',Ext.Panel,{items:[{xtype:'grid',reference:'projectionsList',bind:'{projections}',emptyText:'Aucune Projection',ui:'listing',minHeight:500,columns:[{text:'Libell',dataIndex:'libelle',align:'center',flex:2,filterType:'list'},{text:'Nature Affectation',dataIndex:'nature_affectation',align:'center',flex:1,filterType:'list'},{text:'Montant',dataIndex:'montant_global',xtype:'numbercolumn',align:'center',summary:'sum',width:150,exportStyle:{format:'General Number',alignment:{horizontal:'Right'}}},{text:'Objet de Dlgation',dataIndex:'delegationscount',flex:1,cell:{encodeHtml:!1},tpl:['<b>{provincescount} P/P</b>','<div class="item-caption">Pour {unitescount:plural("UP")} / {sallescount:plural("Salle")}','</div>']}],listeners:{childtap:'onDelegationChildTap'}}]},0,['shownextdelegations'],['widget','component','container','panel','shownextdelegations'],{'widget':!0,'component':!0,'container':!0,'panel':!0,'shownextdelegations':!0},['widget.shownextdelegations'],0,[App.view.projection.delegation,'ShowNextDelegations'],0);Ext.cmd.derive('App.view.reporting.BrowseToolbar',App.view.widgets.BrowseToolbar,{items:{search:null,search_panel:{xtype:'container',weight:0,margin:'0 8 0 0',autoSize:!0,width:160,items:[{xtype:'searchfield',reference:'search',placeholder:'Rechercher',userCls:'expandable',bind:'{filters.search}'}]},pa:{xtype:'combobox',weight:1,width:100,valueField:'value',displayField:'value',placeholder:'PA',queryMode:'local',bind:{selection:'{filters.plan_actions}',store:'{annees}'}},region:{xtype:'combobox',weight:3,valueField:'value',displayField:'value',placeholder:'Rgion',queryMode:'local',bind:{selection:'{filters.region}',store:'{regions}'}},province:{xtype:'combobox',weight:4,valueField:'value',displayField:'value',placeholder:'P/P',queryMode:'local',bind:{selection:'{filters.province}',store:'{provinces}'}},fp:{xtype:'combobox',weight:5,width:100,valueField:'value',displayField:'value',placeholder:'FP',queryMode:'local',bind:{selection:'{filters.fondation_partenaire}',store:'{fondations}'}},obsolete:{xtype:'checkbox',weight:6,boxLabel:'Situations Obsoltes',tooltip:'Datant de plus de 10 jours',checked:!1,bind:{checked:'{filters.est_obsolete}'}},create:null}},0,['reportingtoolbar'],['widget','component','container','toolbar','reportingtoolbar'],{'widget':!0,'component':!0,'container':!0,'toolbar':!0,'reportingtoolbar':!0},['widget.reportingtoolbar'],0,[App.view.reporting,'BrowseToolbar'],0);Ext.cmd.derive('App.view.reporting.View',App.view.widgets.Browse,{controller:'reportingview',viewModel:{type:'reportingview'},bind:{title:"Tableau de Bord  {province} - {count} Plans d'Actions affichs",store:'{reportings}'},fields:{id:{property:'id'},plan_actions:{property:'plan_actions'},fondation_partenaire:{property:'fondation_partenaire'},region:{property:'region'},province:{property:'province'},est_obsolete:{property:'est_obsolete'},concernee_visio2022:{property:'concernee_visio2022'}},layout:'fit',tbar:{shadow:!0,docked:'top',items:[{xtype:'button',iconCls:'x-fa fa-sync',text:'Rafrachir',handler:'onRefreshTap',align:'left',bind:{hidden:'{user.role > 1}'}},{xtype:'button',iconCls:'x-fa fa-save',text:'Sauvegarder',handler:'onSave',align:'left'},{xtype:'button',iconCls:'x-fa fa-calendar-check',text:'Confirmer Actualit Donnes',tooltip:"Signaler que les donnes saisies sont,  cette date, toujours d'actualit, et qu'aucun changement ou volution n'est intervenu depuis la dernire modification.",handler:'onRAS',align:'right'},{xtype:'button',iconCls:'x-fa fa-download',text:'Exporter sous excel',handler:'exportToXlsx',align:'left'},{xtype:'button',iconCls:'x-fa fa-exclamation-circle',text:'Enregistrer Sans Validation',handler:'onForceSave',align:'right',bind:{hidden:'{user.role > 1}'}},{xtype:'checkbox',boxLabel:'Affich. Nbre UP / BDD',checked:!1,align:'right',bind:{checked:'{showUnitesJoin}',hidden:'{user.role > 1}'}},{xtype:'checkbox',boxLabel:'Affich. Dlgations',checked:!1,align:'right',bind:{checked:'{showDelegationsJoin}',hidden:'{user.role > 1}'}},{xtype:'checkbox',boxLabel:'22 P/P - Visios 2022',checked:!1,align:'right',bind:{checked:'{filters.concernee_visio2022}',hidden:'{user.role > 1}'}}]},items:[{xtype:'grid',reference:'reportingsList',bind:'{reportings}',listeners:{documentsave:'onDocumentSave',beforedocumentsave:'onBeforeDocumentSave',complete:'onCompleteEdit',beforeedit:'onBeforeEdit'},cls:'sheet',emptyText:'Aucun reporting',loadingText:'Chargement...',ui:'listing',grouped:!0,groupHeader:{tpl:"{name:substr(5)} ({count} Plans d'Actions)"},platformConfig:{desktop:{plugins:{gridcellediting:{selectOnEdit:!0},gridexporter:!0,gridviewoptions:!0,gridfilters:!0,gridsummaryrow:{bind:{hidden:'{user.role > 1}'}}}},'!desktop':{plugins:{grideditable:!0,gridexporter:!0}}},loadMask:!0,columnLines:!0,rowLines:!0,selectable:{rows:!1,cells:!0},itemConfig:{viewModel:{type:'inputRowViewModel'}},columns:[{text:'ID',dataIndex:'id',hidden:!0},{text:'Rgion',dataIndex:'region',locked:!0,width:200,filter:{type:'list',sorted:!0,sortDirection:'ASC',menu:{items:{list:{multiSelect:!0,valueField:'label',displayField:'label',placeholder:'Choisir Rgion',store:{type:'regions'}}}}},bind:{hidden:'{user.role > 1}'}},{text:'Province',dataIndex:'province',width:100,align:'left',editable:!1,locked:!0,summaryRenderer:'summarizeProvinces',cell:{cls:'province-cell',bind:{bodyCls:'{obsoleteCls}'}},filter:{type:'list',sorted:!0,sortDirection:'ASC',menu:{items:{list:{multiSelect:!0,valueField:'label',displayField:'label',placeholder:'Choisir P/P',store:{type:'provinces'}}}}}},{text:'Plan Actions',dataIndex:'plan_actions',width:65,align:'center',editable:!1,groupHeaderTpl:'PA {value} ({count} P/P)',filter:{type:'list',sorted:!0,sortDirection:'ASC',menu:{items:{list:{multiSelect:!0,valueField:'value',displayField:'value',placeholder:'Choisir PAs',store:{type:'annees'}}}}}},{text:'Fond. Parten.',dataIndex:'fondation_partenaire',width:62,align:'center',editable:!0,exportRenderer:!0,filter:{type:'list',sorted:!0,sortDirection:'ASC',menu:{items:{list:{multiSelect:!0,valueField:'label',displayField:'label',placeholder:'Choisir FP',store:{type:'fondations'}}}}},editor:{xtype:'selectfield',required:!0,options:['FMPS','FZ']}},{text:'Nbre UP programmes',columns:[{text:'Nbre Total',dataIndex:'nbre_programmees',width:55,align:'center',xtype:'numbercolumn',format:'0',editable:!0,renderer:'validationRenderer',summary:'sum',filter:'number',editor:{xtype:'numberfield',clearable:!1,minValue:0,required:!0,validators:{type:'number',message:'Veuillez Remplir Cette Cellule'}}},{text:'Nbre Salles',dataIndex:'nbre_salles',width:65,align:'center',xtype:'numbercolumn',format:'0',editable:!0,filter:'number',renderer:'validationRenderer',summary:'sum',editor:{xtype:'numberfield',clearable:!1,minValue:0,required:!0,validators:{type:'number',message:'Veuillez Remplir Cette Cellule'}}},{text:'Nbre T1 Constr.',dataIndex:'nbre_programmees_t1',width:65,align:'center',xtype:'numbercolumn',format:'0',editable:!0,filter:'number',renderer:'validationRenderer',summary:'sum',editor:{xtype:'numberfield',clearable:!1,minValue:0,required:!0,validators:{type:'number',message:'Veuillez Remplir Cette Cellule'}}},{text:'Nbre T2 Constr.',dataIndex:'nbre_programmees_t2',width:65,align:'center',xtype:'numbercolumn',format:'0',editable:!0,filter:'number',renderer:'validationRenderer',summary:'sum',editor:{xtype:'numberfield',clearable:!1,minValue:0,required:!0,validators:{type:'number',message:'Veuillez Remplir Cette Cellule'}}},{text:'Nbre T3 Constr.',dataIndex:'nbre_programmees_t3',width:65,align:'center',xtype:'numbercolumn',format:'0',editable:!0,renderer:'validationRenderer',summary:'sum',filter:'number',editor:{xtype:'numberfield',clearable:!1,minValue:0,required:!0,validators:{type:'number',message:'Veuillez Remplir Cette Cellule'}}},{text:'Nbre Amnag.',dataIndex:'nbre_programmees_amg',width:65,align:'center',xtype:'numbercolumn',format:'0',editable:!0,renderer:'validationRenderer',summary:'sum',filter:'number',editor:{xtype:'numberfield',clearable:!1,minValue:0,required:!0,validators:{type:'number',message:'Veuillez Remplir Cette Cellule'}}},{text:'Nbre Modulaire',dataIndex:'nbre_programmees_mod',width:65,align:'center',xtype:'numbercolumn',format:'0',editable:!0,renderer:'validationRenderer',summary:'sum',filter:'number',editor:{xtype:'numberfield',clearable:!1,minValue:0,required:!0,validators:{type:'number',message:'Veuillez Remplir Cette Cellule'}}}]},{text:'Units FP',bind:{hidden:'{!showUnitesJoin}'},columns:[{text:'Nbre UP',dataIndex:'nbre_up_fp',xtype:'numbercolumn',format:'0',width:78,align:'center',editable:!1,summary:'sum',filter:'number'},{text:'Nbre Salles',dataIndex:'nbre_salles_fp',xtype:'numbercolumn',format:'0',width:78,align:'center',editable:!1,summary:'sum',filter:'number'},{text:'dont UP Rsilies',dataIndex:'nbre_resiliees_fp',xtype:'numbercolumn',format:'0',width:78,align:'center',editable:!1,summary:'sum',filter:'number'},{text:'dont Salles Rsilies',dataIndex:'nbre_salles_resiliees_fp',xtype:'numbercolumn',format:'0',width:78,align:'center',editable:!1,summary:'sum',filter:'number'}]},{text:'Ouvertures',userCls:'ouvertes',columns:[{text:'Nbre UP Ouvertes (Remontes P/P)',dataIndex:'nbre_ouvertes',xtype:'numbercolumn',format:'0',width:78,align:'center',editable:!0,renderer:'validationRenderer',summary:'sum',filter:'number',editor:{xtype:'numberfield',clearable:!1,minValue:0,required:!0,validators:{type:'number',message:'Veuillez Remplir Cette Cellule'}}},{text:'UP Ouvertes',columns:[{text:'Nbre UP',dataIndex:'nbre_ouvertes_cn',xtype:'numbercolumn',format:'0',width:78,align:'center',editable:!1,summary:'sum',filter:'number',bind:{hidden:'{user.role > 1}'}},{text:'Nbre Salles',dataIndex:'salles_ouvertes_cn',xtype:'numbercolumn',format:'0',width:78,align:'center',editable:!1,summary:'sum',filter:'number',bind:{hidden:'{user.role > 1}'}}]},{text:'UP Oprationnelles (Rmontes FP)',columns:[{text:'Nbre UP',dataIndex:'nbre_ouvertes_fp',xtype:'numbercolumn',format:'0',width:78,align:'center',editable:!1,summary:'sum',filter:'number'},{text:'Nbre Salles',dataIndex:'nbre_salles_ouvertes_fp',xtype:'numbercolumn',format:'0',width:78,align:'center',editable:!1,summary:'sum',filter:'number'}]},{text:'Nbre UP en arrt de fonct. (aprs mise en service)',dataIndex:'nbre_en_arret_fct',xtype:'numbercolumn',format:'0',width:95,align:'center',userCls:'ouvertes',editable:!0,renderer:'validationRenderer',summary:'sum',filter:'number',editor:{xtype:'numberfield',clearable:!1,minValue:0,required:!0,validators:{type:'number',message:'Veuillez Remplir Cette Cellule'}}},{text:'Motifs et Observ. Arrt de fct.',dataIndex:'motif_arret_fct',align:'left',minWidth:200,editable:!0,filter:'string'}]},{text:'UP restant  ouvrir',dataIndex:'nbre_reste_ouvrir',xtype:'numbercolumn',format:'0',width:78,align:'center',editable:!1,summary:'sum',filter:'number'},{text:"Phase d'Achvement (UP acheves non encore ouvertes)",userCls:'achevees',columns:[{text:'Nbre Total',dataIndex:'nbre_achevees_non_ouvertes',xtype:'numbercolumn',format:'0',width:80,align:'center',userCls:'achevees',editable:!0,renderer:'validationRenderer',summary:'sum',filter:'number',editor:{xtype:'numberfield',clearable:!1,minValue:0,required:!0,validators:{type:'number',message:'Veuillez Remplir Cette Cellule'}}},{text:'Remise des cls au FP',columns:[{text:'Nbre UP Livres',dataIndex:'nbre_livrees_non_ouvertes',xtype:'numbercolumn',format:'0',width:78,align:'center',editable:!0,renderer:'validationRenderer',summary:'sum',filter:'number',editor:{xtype:'numberfield',clearable:!1,minValue:0,required:!0,validators:{type:'number',message:'Veuillez Remplir Cette Cellule'}}},{xtype:'datecolumn',text:'Date prv. Remise Cls / Reste',dataIndex:'date_remise_cles',editor:{xtype:'datepickerfield',dateFormat:'d/m/Y'},exportStyle:{format:'Medium Date',alignment:{horizontal:'Center'}},minWidth:80,format:'d/m/Y'}]},{text:'Formation',columns:[{text:'UP / ducat. en cours de formation',dataIndex:'nbre_encours_formation',xtype:'numbercolumn',format:'0',width:95,align:'center',editable:!0,renderer:'validationRenderer',summary:'sum',filter:'number',editor:{xtype:'numberfield',clearable:!1,minValue:0,required:!0,validators:{type:'number',message:'Veuillez Remplir Cette Cellule'}}}]},{text:'Equipement',columns:[{text:'En cours Equip.',dataIndex:'nbre_encours_equip',xtype:'numbercolumn',format:'0',width:95,align:'center',editable:!0,renderer:'validationRenderer',summary:'sum',filter:'number',editor:{xtype:'numberfield',clearable:!1,minValue:0,required:!0,validators:{type:'number',message:'Veuillez Remplir Cette Cellule'}}}]},{text:'Rception prov.',columns:[{text:'En cours Rcept.',dataIndex:'nbre_encours_reception',xtype:'numbercolumn',format:'0',width:58,align:'center',editable:!0,renderer:'validationRenderer',summary:'sum',filter:'number',editor:{xtype:'numberfield',clearable:!1,minValue:0,required:!0,validators:{type:'number',message:'Veuillez Remplir Cette Cellule'}}},{xtype:'datecolumn',text:'Date prv. Rception',dataIndex:'date_lancement_etudes',editor:{xtype:'datepickerfield',dateFormat:'d/m/Y'},exportStyle:{format:'Medium Date',alignment:{horizontal:'Center'}},minWidth:80,format:'d/m/Y'}]},{text:'En phase Inscrip. Enfants',dataIndex:'nbre_encours_inscription',xtype:'numbercolumn',format:'0',align:'center',width:76,editable:!0,renderer:'validationRenderer',summary:'sum',filter:'number',editor:{xtype:'numberfield',clearable:!1,minValue:0,required:!0,validators:{type:'number',message:'Veuillez Remplir Cette Cellule'}}},{text:'Motifs et Observ. / Retard Ouverture',dataIndex:'motif_retard_ouverture',align:'left',minWidth:200,editable:!0,filter:'string'}]},{text:'Phase des Travaux',userCls:'en_cours',columns:[{text:'Nbre UP selon Avancement (y compris UP en arrt de trvx.)',columns:[{text:'<25%',dataIndex:'nbre_encours_25',xtype:'numbercolumn',width:60,format:'0',align:'center',editable:!0,renderer:'validationRenderer',summary:'sum',filter:'number',editor:{xtype:'numberfield',clearable:!1,minValue:0,required:!0,validators:{type:'number',message:'Veuillez Remplir Cette Cellule'}}},{text:'25-50%',dataIndex:'nbre_encours_25_50',xtype:'numbercolumn',format:'0',width:60,align:'center',editable:!0,renderer:'validationRenderer',summary:'sum',filter:'number',editor:{xtype:'numberfield',clearable:!1,minValue:0,required:!0,validators:{type:'number',message:'Veuillez Remplir Cette Cellule'}}},{text:'50-75%',dataIndex:'nbre_encours_50_75',xtype:'numbercolumn',format:'0',width:60,align:'center',editable:!0,renderer:'validationRenderer',summary:'sum',filter:'number',editor:{xtype:'numberfield',clearable:!1,minValue:0,required:!0,validators:{type:'number',message:'Veuillez Remplir Cette Cellule'}}},{text:'>75%',dataIndex:'nbre_encours_75',xtype:'numbercolumn',format:'0',width:60,align:'center',editable:!0,renderer:'validationRenderer',summary:'sum',filter:'number',editor:{xtype:'numberfield',clearable:!1,minValue:0,required:!0,validators:{type:'number',message:'Veuillez Remplir Cette Cellule'}}}]},{text:'Motifs et Observ. / Retard Trvx.',dataIndex:'motif_retard_travaux',align:'left',minWidth:200,editable:!0,filter:'string'},{text:'Arrt des Trvx.',columns:[{text:'Nbre UP en arrt',dataIndex:'nbre_en_arret',xtype:'numbercolumn',width:75,format:'0',align:'center',editable:!0,renderer:'validationRenderer',summary:'sum',filter:'number',editor:{xtype:'numberfield',clearable:!1,minValue:0,required:!0,validators:{type:'number',message:'Veuillez Remplir Cette Cellule'}}},{xtype:'datecolumn',text:"Date d'arrt",dataIndex:'date_arret_trvx',editor:{xtype:'datepickerfield',dateFormat:'d/m/Y'},exportStyle:{format:'Medium Date',alignment:{horizontal:'Center'}},minWidth:80,format:'d/m/Y'},{text:'Motifs et Observ. / Arrt',dataIndex:'motif_arret_travaux',align:'left',minWidth:200,editable:!0,filter:'string'}]}]},{text:'Phase des Marchs',userCls:'non_demarre',columns:[{text:'Adjudication',columns:[{text:'Nbre UP Marchs Trvx. Adjugs',dataIndex:'nbre_marches_adjuges',xtype:'numbercolumn',width:85,format:'0',editable:!0,align:'center',renderer:'validationRenderer',summary:'sum',filter:'number',editor:{xtype:'numberfield',clearable:!1,minValue:0,required:!0,validators:{type:'number',message:'Veuillez Remplir Cette Cellule'}}},{xtype:'datecolumn',text:'Date prv. Dmarrage Trvx.',dataIndex:'date_implantation',editor:{xtype:'datepickerfield',dateFormat:'d/m/Y'},exportStyle:{format:'Medium Date',alignment:{horizontal:'Center'}},minWidth:80,format:'d/m/Y'}]},{text:'Lancement',columns:[{text:'Nbre UP March Trvx. Lanc',dataIndex:'nbre_marches_lances',xtype:'numbercolumn',width:85,format:'0',align:'center',editable:!0,renderer:'validationRenderer',summary:'sum',filter:'number',editor:{xtype:'numberfield',clearable:!1,minValue:0,required:!0,validators:{type:'number',message:'Veuillez Remplir Cette Cellule'}}},{xtype:'datecolumn',text:'Date prv. Ouverture Plis / Marchs lancs',dataIndex:'date_adjudication_marche',editor:{xtype:'datepickerfield',dateFormat:'d/m/Y'},exportStyle:{format:'Medium Date',alignment:{horizontal:'Center'}},minWidth:80,format:'d/m/Y'}]},{text:'Motifs et Observ. / Retard Lance. ou Adjudic. Marchs',dataIndex:'motif_retard_demarrage_trvx',align:'left',minWidth:200,editable:!0,filter:'string'},{text:'Relancement',columns:[{text:'Nbre UP  relancer / march infructueux',dataIndex:'nbre_marches_infructueux',summary:'sum',xtype:'numbercolumn',format:'0',width:85,align:'center',editable:!0,renderer:'validationRenderer',summary:'sum',filter:'number',editor:{xtype:'numberfield',clearable:!1,minValue:0,required:!0,validators:{type:'number',message:'Veuillez Remplir Cette Cellule'}}},{text:'Nbre UP  relancer / march rsili',dataIndex:'nbre_marches_resilies',summary:'sum',xtype:'numbercolumn',format:'0',width:85,align:'center',editable:!0,renderer:'validationRenderer',summary:'sum',filter:'number',editor:{xtype:'numberfield',clearable:!1,minValue:0,required:!0,validators:{type:'number',message:'Veuillez Remplir Cette Cellule'}}},{xtype:'datecolumn',text:'Date Rsiliation March',dataIndex:'date_resiliation',editor:{xtype:'datepickerfield',dateFormat:'d/m/Y'},exportStyle:{format:'Medium Date',alignment:{horizontal:'Center'}},minWidth:80,format:'d/m/Y'},{xtype:'datecolumn',text:'Date prv. Relance. March Trvx.',dataIndex:'date_relancement_marche',editor:{xtype:'datepickerfield',dateFormat:'d/m/Y'},exportStyle:{format:'Medium Date',alignment:{horizontal:'Center'}},minWidth:80,format:'d/m/Y'},{text:'Motifs et Observ. / Relancement',dataIndex:'motif_relancement_marches',align:'left',minWidth:200,editable:!0,filter:'string'}]}]},{text:'Phase Etudes',userCls:'non_demarre',columns:[{xtype:'datecolumn',text:'Date prv. Lancement Marchs Trvx.',dataIndex:'date_lancement_marche',editor:{xtype:'datepickerfield',dateFormat:'d/m/Y'},exportStyle:{format:'Medium Date',alignment:{horizontal:'Center'}},minWidth:80,format:'d/m/Y'},{text:'Avancement Etudes',columns:[{text:'Etudes Acheves',dataIndex:'nbre_etudes_achevees',summary:'sum',xtype:'numbercolumn',format:'0',width:85,align:'center',editable:!0,renderer:'validationRenderer',summary:'sum',filter:'number',editor:{xtype:'numberfield',clearable:!1,minValue:0,required:!0,validators:{type:'number',message:'Veuillez Remplir Cette Cellule'}}},{text:'Etudes Lances',dataIndex:'nbre_etudes_lancees',xtype:'numbercolumn',width:85,format:'0',align:'center',editable:!0,renderer:'validationRenderer',summary:'sum',filter:'number',editor:{xtype:'numberfield',clearable:!1,minValue:0,required:!0,validators:{type:'number',message:'Veuillez Remplir Cette Cellule'}}},{text:'Etudes non Encore Lances',dataIndex:'nbre_etudes_non_lancees',xtype:'numbercolumn',format:'0',width:85,align:'center',editable:!0,renderer:'validationRenderer',summary:'sum',filter:'number',editor:{xtype:'numberfield',clearable:!1,minValue:0,required:!0,validators:{type:'number',message:'Veuillez Remplir Cette Cellule'}}}]},{xtype:'datecolumn',text:'Date prv. Lancement des Etudes Restantes',dataIndex:'date_lancement_etudes',editor:{xtype:'datepickerfield',dateFormat:'d/m/Y'},exportStyle:{format:'Medium Date',alignment:{horizontal:'Center'}},minWidth:80,format:'d/m/Y'},{text:'Motifs et Observ. / Retard lancement Etudes',dataIndex:'motif_non_lancement_etudes',align:'left',minWidth:200,editable:!0,filter:'string'}]},{text:'Prvisions des Ouvertures / UP restantes',userCls:'previsions',columns:[{text:'Oct. 2023',dataIndex:'prevision_mois1',xtype:'numbercolumn',format:'0',width:65,align:'center',editable:!0,renderer:'validationRenderer',summary:'sum',filter:'number',editor:{xtype:'numberfield',clearable:!1,minValue:0,clearable:!1,minValue:0,required:!0,validators:{type:'number',message:'Veuillez Remplir Cette Cellule'}}},{text:'Nov. 2023',dataIndex:'prevision_mois2',xtype:'numbercolumn',format:'0',width:65,align:'center',editable:!0,renderer:'validationRenderer',summary:'sum',filter:'number',editor:{xtype:'numberfield',clearable:!1,minValue:0,clearable:!1,minValue:0,required:!0,validators:{type:'number',message:'Veuillez Remplir Cette Cellule'}}},{text:'Dc. 2023',dataIndex:'prevision_mois3',xtype:'numbercolumn',format:'0',width:65,align:'center',editable:!0,renderer:'validationRenderer',summary:'sum',filter:'number',editor:{xtype:'numberfield',clearable:!1,minValue:0,clearable:!1,minValue:0,required:!0,validators:{type:'number',message:'Veuillez Remplir Cette Cellule'}}},{text:'Jan. 2024',dataIndex:'prevision_mois4',xtype:'numbercolumn',format:'0',width:65,align:'center',editable:!0,renderer:'validationRenderer',summary:'sum',filter:'number',editor:{xtype:'numberfield',clearable:!1,minValue:0,clearable:!1,minValue:0,required:!0,validators:{type:'number',message:'Veuillez Remplir Cette Cellule'}}},{text:'Fv. 2024',dataIndex:'prevision_mois5',xtype:'numbercolumn',format:'0',width:65,align:'center',editable:!0,renderer:'validationRenderer',summary:'sum',filter:'number',editor:{xtype:'numberfield',clearable:!1,minValue:0,clearable:!1,minValue:0,required:!0,validators:{type:'number',message:'Veuillez Remplir Cette Cellule'}}},{text:'Mars. 2024',dataIndex:'prevision_mois6',xtype:'numbercolumn',format:'0',width:65,align:'center',editable:!0,renderer:'validationRenderer',summary:'sum',filter:'number',editor:{xtype:'numberfield',clearable:!1,minValue:0,clearable:!1,minValue:0,required:!0,validators:{type:'number',message:'Veuillez Remplir Cette Cellule'}}}]},{text:'Cot Global des Marchs des Travaux',dataIndex:'cout_global_marches_travaux',xtype:'numbercolumn',editable:!0,format:'0,000.00',filter:'number',width:100,align:'right',summary:'sum',editor:{xtype:'numberfield',clearable:!1,minValue:0,required:!0,validators:{type:'number',message:'Veuillez Remplir Cette Cellule'}},exportStyle:{format:'General Number',alignment:{horizontal:'Right'}}},{text:'Observations P/P',dataIndex:'remarques',align:'left',minWidth:300,editable:!0,filter:'string'},{text:'Notes CN-INDH',dataIndex:'cnindh_comments',align:'left',minWidth:300,editable:!0,filter:'string',bind:{hidden:'{user.role > 1}'}},{text:'Dlgation des Crdits',bind:{hidden:'{!showDelegationsJoin}'},columns:[{text:'Crdits Dlgus',bind:{hidden:'{!showDelegationsJoin}'},columns:[{text:'Crdits Etudes',dataIndex:'delegations_etudes',xtype:'numbercolumn',format:'0,000.00',filter:'number',width:100,align:'right',summary:'sum',exportStyle:{format:'General Number',alignment:{horizontal:'Right'}}},{text:'Crdits Trvx.',dataIndex:'delegations_travaux',xtype:'numbercolumn',format:'0,000.00',filter:'number',width:100,align:'right',summary:'sum',exportStyle:{format:'General Number',alignment:{horizontal:'Right'}}},{text:'Crdits Equip.',dataIndex:'delegations_equip',xtype:'numbercolumn',format:'0,000.00',filter:'number',width:100,align:'right',summary:'sum',exportStyle:{format:'General Number',alignment:{horizontal:'Right'}}},{text:'Crdits Fct. 2 ans',dataIndex:'delegations_fct_2ans',xtype:'numbercolumn',format:'0,000.00',filter:'number',width:100,align:'right',summary:'sum',exportStyle:{format:'General Number',alignment:{horizontal:'Right'}}},{text:'Crdits Prn.',dataIndex:'delegations_peren',xtype:'numbercolumn',format:'0,000.00',filter:'number',width:100,align:'right',summary:'sum',exportStyle:{format:'General Number',alignment:{horizontal:'Right'}}}]},{text:'UP Objet Dlgations Trvx.',bind:{hidden:'{!showDelegationsJoin}'},columns:[{text:'Total',dataIndex:'delegations_nbre_ups',width:50,align:'center',xtype:'numbercolumn',format:'0',summary:'sum',renderer:'validationRenderer',filter:'number'},{text:'T1',dataIndex:'delegations_nbre_t1',width:50,align:'center',xtype:'numbercolumn',format:'0',summary:'sum',renderer:'validationRenderer',filter:'number'},{text:'T2',dataIndex:'delegations_nbre_t2',width:50,align:'center',xtype:'numbercolumn',format:'0',summary:'sum',renderer:'validationRenderer',filter:'number'},{text:'T3',dataIndex:'delegations_nbre_t3',width:50,align:'center',xtype:'numbercolumn',format:'0',summary:'sum',renderer:'validationRenderer',filter:'number'},{text:'Amg.',dataIndex:'delegations_nbre_amg',width:50,align:'center',xtype:'numbercolumn',format:'0',summary:'sum',renderer:'validationRenderer',filter:'number'}]},{text:'UP Sans Dlgations Trvx.',bind:{hidden:'{!showDelegationsJoin}'},columns:[{text:'Total',dataIndex:'nondelege_nbre_ups',width:50,align:'center',xtype:'numbercolumn',format:'0',summary:'sum',renderer:'validationRenderer',filter:'number'},{text:'T1',dataIndex:'nondelege_nbre_t1',width:50,align:'center',xtype:'numbercolumn',format:'0',summary:'sum',renderer:'validationRenderer',filter:'number'},{text:'T2',dataIndex:'nondelege_nbre_t2',width:50,align:'center',xtype:'numbercolumn',format:'0',summary:'sum',renderer:'validationRenderer',filter:'number'},{text:'T3',dataIndex:'nondelege_nbre_t3',width:50,align:'center',xtype:'numbercolumn',format:'0',summary:'sum',renderer:'validationRenderer',filter:'number'},{text:'Amg.',dataIndex:'nondelege_nbre_amg',width:50,align:'center',xtype:'numbercolumn',format:'0',summary:'sum',renderer:'validationRenderer',filter:'number'}]},{text:'Salles / Dlgations Equip/Fct.',bind:{hidden:'{!showDelegationsJoin}'},columns:[{text:'Equip.',dataIndex:'deleg_equip_nbre_salles',width:50,align:'center',xtype:'numbercolumn',format:'0',summary:'sum',renderer:'validationRenderer',filter:'number'},{text:'TR 1',dataIndex:'deleg_tr1_nbre_salles',width:50,align:'center',xtype:'numbercolumn',format:'0',summary:'sum',renderer:'validationRenderer',filter:'number'},{text:'TR 2',dataIndex:'deleg_tr2_nbre_salles',width:50,align:'center',xtype:'numbercolumn',format:'0',summary:'sum',renderer:'validationRenderer',filter:'number'},{text:'TR 3',dataIndex:'deleg_tr3_nbre_salles',width:50,align:'center',xtype:'numbercolumn',format:'0',summary:'sum',renderer:'validationRenderer',filter:'number'},{text:'TR 4',dataIndex:'deleg_tr4_nbre_salles',width:50,align:'center',xtype:'numbercolumn',format:'0',summary:'sum',renderer:'validationRenderer',filter:'number'}]}]},{xtype:'datecolumn',text:'Date Situation',dataIndex:'updated',align:'center',exportStyle:{format:'General Date'},format:'d/m/Y',filter:'date'},{text:'Situation Obsolte ?',dataIndex:'est_obsolete',align:'center',xtype:'booleancolumn',trueText:'Oui',falseText:'',bind:{hidden:'{user.role > 1}'}},{text:'Auteur Modif.',dataIndex:'modified_by',filter:'string',bind:{hidden:'{user.role > 1}'}},{text:'Erreurs',dataIndex:'validations',minWidth:500}]}]},0,['reportingview'],['widget','component','container','panel','browse','reportingview'],{'widget':!0,'component':!0,'container':!0,'panel':!0,'browse':!0,'reportingview':!0},['widget.reportingview'],0,[App.view.reporting,'View'],0);Ext.cmd.derive('App.view.reporting.ViewController',App.view.widgets.BrowseController,{init:function(){App.view.widgets.BrowseController.prototype.init.apply(this,arguments);var c=this.getViewModel();var b=App.util.State.get('session');var a=b.user;if(a){c.set('province',a.province||a.region)}},refresh:function(){var a=this.getViewModel()},_exportToXlsx:function(a,c,b){if(!a){return}a.saveDocumentAs({type:'xlsx',title:c,author:'Mohamed DIDI',fileName:b+'.xlsx',includeGroups:!0,includeSummary:!0})},exportToXlsx:function(){var a=this,c=this.getView(),b=this.getViewModel().getStore('reportings');a._exportGrid('reportingsList')},summarizeProvinces:function(b,a){return 'Total'},orderedLabelRenderer:function(a){return a.split('#')[1].trim()},validationRenderer:function(e,h,f,b,g){var d=h.validate(f);if(d!==!0){b.addCls('invalid-cell');var c=b.element.dom.children[0];if(c){c.setAttribute('data-qtitle','Saisie Non Valide');c.setAttribute('data-qtip',d);c.setAttribute('data-qcls','invalid-qtip')}}else {b.removeCls('invalid-cell');var a=b.element.dom.children[0];if(a){a.removeAttribute('data-qtitle');a.removeAttribute('data-qtip');a.removeAttribute('data-qcls')}}return e!==0?Ext.util.Format.number(e,g.getFormat()):'-'},onBeforeEdit:function(c,b,a){},onCompleteEdit:function(a,f,c,d,e){var b=a.ownerCmp.row;b.refresh()},onRAS:function(){var c=this.getView(),b=this.getViewModel().getStore('reportings');if(!this.checkValidations(!0)){return}var e=new Date();b.each(function(a){a.set('date_situation',e)});var d=b.getModifiedRecords();var a=[];c.mask({xtype:'loadmask',message:'Enregistrement ...'});try{if(d){a=d.map(function(a){var b=a.get('province')+' / PA '+a.get('plan_actions');return {object:b,subject:'RAS'}})}}catch(f){console.log(f)}b.sync({success:function(b,d){c.unmask();App.ux.Signals.showSuccess('Opration russie');if(a.length>0){a.forEach(function(a,c){me.fireEvent('actionlog',1,a.subject,b&&b[c],a.object)})}},failure:function(b,d){c.unmask();var a=b.getExceptions().map(function(a){return a.getError()}).join('. ');App.ux.Signals.showWarning('Opration chec :'+a,!0)}})},onForceSave:function(b,a){this.onSave(null,a,!0)},checkValidations:function(f){var e=this.getViewModel().getStore('reportings');var c=0,d=f?e.getData().items:e.getModifiedRecords(),g=d.length,b,a;for(;c<g;c++){b=d[c];a=b.getRulesValidations();if(a){App.ux.Signals.showWarning('Saisie non valide du PA '+b.get('plan_actions')+': '+a,!0);return !1}}return !0},onSave:function(h,i,e){var g=this,c=this.getView(),d=this.getViewModel().getStore('reportings'),a=d.getModifiedRecords(),b=[];var f=a.length;if(!f){App.ux.Signals.showWarning("Vous n'avez rien modifi !",!1);return}if(!e&&!this.checkValidations(!0)){return}c.mask({xtype:'loadmask',message:'Enregistrement ...'});try{if(a){b=a.map(function(a){var c=a.modified;var d=a.get('province')+' / PA '+a.get('plan_actions');var b='<ul>';Object.keys(c).forEach(function(c){b+='<li><b>'+c+' :</b> &nbsp;'+a.getModified(c)+'&nbsp; -> '+a.get(c);b+='</li>'});b+='</ul>';return {object:d,subject:b}})}}catch(j){console.log(j)}d.sync({success:function(a,d){c.unmask();App.ux.Signals.showSuccess('Modification russie');if(b.length>0){b.forEach(function(b,c){g.fireEvent('actionlog',1,b.subject,a&&a[c],b.object)})}},failure:function(b,d){c.unmask();var a=b.getExceptions().map(function(a){a.getError()}).join('. ');App.ux.Signals.showWarning('Opration chec :'+a,!0)}})}},0,0,0,0,['controller.reportingview'],0,[App.view.reporting,'ViewController'],0);Ext.cmd.derive('App.view.reporting.ViewModel',Ext.app.ViewModel,{data:{filters:null,sortOrder:null,filteredBy:null,province:null,showUnitesJoin:!1,showDelegationsJoin:!1},stores:{reportings:{type:'reportings',autoLoad:!1,pageSize:0,clearOnPageLoad:!1,grouper:'province_order',sorters:[{property:'plan_actions',direction:'ASC'}],listeners:{refresh:'onStoreRefresh',buffer:100},proxy:{type:'direct',api:{prefix:'Server.reportings',create:'insert',read:'list',update:'update',destroy:'remove'},reader:{type:'json',rootProperty:'data',messageProperty:'message'},extraParams:{scope:"{showUnitesJoin ? 'nested' : (showDelegationsJoin ? 'delegations': 'browse')}"}},updateProxy:function(a){a&&a.onAfter('extraparamschanged',this.load,this)}},annees:{type:'annees',autoLoad:!0},regions:{type:'regions',autoLoad:!0},provinces:{type:'provinces',autoLoad:!0},fondations:{type:'fondations',autoLoad:!0}}},0,0,0,0,['viewmodel.reportingview'],0,[App.view.reporting,'ViewModel'],0);Ext.cmd.derive('App.view.widgets.TabsView',Ext.Container,{config:{route:null},cls:'home',weighted:!0,margin:12,bodyBorder:!0,shadow:!0,defaults:{userCls:'page-constrained',userSelectable:{element:!0,bodyElement:!0}},scrollable:!1,items:{header:{weight:-10,cls:'show-header',weighted:!0,layout:{type:'hbox',align:'center'},items:{title:{xtype:'component',userCls:'header-title',flex:1,html:''}}},container:{xtype:'tabpanel',ui:'navigation',minHeight:500,scrollable:!1,tabBarHeaderPosition:1,titleRotation:0,tabRotation:0,tabBar:{defaultTabUI:'flat',ui:'flat',layout:{pack:'start'}},defaults:{bodyPadding:20,scrollable:!1},items:[]}}},0,0,['widget','component','container'],{'widget':!0,'component':!0,'container':!0},0,0,[App.view.widgets,'TabsView'],0);Ext.cmd.derive('App.view.reporting.classement.ClassementView',App.view.widgets.TabsView,{items:{header:{items:{title:{html:'<div class="name">Classement des P/P selon l\'avancement de la mise en uvre des PAs du prscolaire</div>'}}},container:{items:[{title:' ',layout:'fit',items:[{xtype:'classementpivot'}]}]}}},0,['classement'],['widget','component','container','classement'],{'widget':!0,'component':!0,'container':!0,'classement':!0},['widget.classement'],0,[App.view.reporting.classement,'ClassementView'],0);Ext.cmd.derive('App.view.widgets.Pivot',Ext.Panel,{controller:{type:'pivot',events:['showdrilldownpanel','hidedrilldownpanel']},cls:'app-pivot',tbar:{xtype:'pivottoolbar'},layout:'fit',ui:'light',margin:'0',bodyBorder:!1,shadow:!1,scrollable:!0,weighted:!0,items:{pivotgrid:{xtype:'pivotgrid',reference:'pivotgrid',enableLocking:!0,startColGroupsCollapsed:!0,startRowGroupsCollapsed:!1,plugins:{pivotdrilldown:!0,pivotexporter:!0,pivotconfigurator:!0},listeners:{documentsave:'onDocumentSave',beforedocumentsave:'onBeforeDocumentSave'}}}},0,0,['widget','component','container','panel'],{'widget':!0,'component':!0,'container':!0,'panel':!0},0,0,[App.view.widgets,'Pivot'],0);Ext.cmd.derive('App.view.reporting.classement.Pivot',App.view.widgets.Pivot,{controller:{type:'classementpivot'},viewModel:{type:'classementpivot'},items:{pivotgrid:{plugins:{pivotdrilldown:{columns:[{text:'Province',dataIndex:'province',width:100,align:'left'},{text:'Plan Actions',dataIndex:'plan_actions',width:65,align:'center'},{text:'Fond. Parten.',dataIndex:'fondation_partenaire',width:62,align:'center'},{text:'Nbre UP dont Travaux Non Encore dmarrs selon phase',userCls:'non_demarre',columns:[{text:'Etudes non Encore Lances',dataIndex:'nbre_etudes_non_lancees',xtype:'numbercolumn',format:'0',width:85,align:'center'},{text:'Etudes Lances (Non encore Acheves)',dataIndex:'nbre_etudes_lancees',xtype:'numbercolumn',width:85,format:'0',align:'center'},{text:'Etudes Acheves (March Trvx. Non Encore Lanc)',dataIndex:'nbre_etudes_achevees',summary:'sum',xtype:'numbercolumn',format:'0',width:85,align:'center'},{text:'March Trvx. Lanc (Non Encore Adjug)',dataIndex:'nbre_marches_lances',xtype:'numbercolumn',width:85,format:'0',align:'center'},{text:'Marchs Trvx. Adjugs (Trvx. non Encore Dmarrs)',dataIndex:'nbre_marches_adjuges',xtype:'numbercolumn',width:85,format:'0',editable:!0,align:'center'}]},{text:"Nbre UP en Travaux selon taux d'avancement",userCls:'en_cours',columns:[{text:'<25%',dataIndex:'nbre_encours_25',xtype:'numbercolumn',width:60,format:'0',align:'center'},{text:'25-50%',dataIndex:'nbre_encours_25_50',xtype:'numbercolumn',format:'0',width:60,align:'center'},{text:'50-75%',dataIndex:'nbre_encours_50_75',xtype:'numbercolumn',format:'0',width:60,align:'center'},{text:'>75%',dataIndex:'nbre_encours_75',xtype:'numbercolumn',format:'0',width:60,align:'center'}]},{text:'Nbre UP Acheves (UP Ouvertes Inclues)',dataIndex:'nbre_achevees',xtype:'numbercolumn',format:'0',width:80,align:'center',userCls:'achevees'},{text:'Nbre UP Livres (Remise Cls, UP Ouvertes Inclues)',dataIndex:'nbre_livrees',xtype:'numbercolumn',format:'0',width:78,align:'center',userCls:'livrees'},{text:'Nbre UP Ouvertes',dataIndex:'nbre_ouvertes',xtype:'numbercolumn',format:'0',width:78,align:'center',userCls:'ouvertes'},{text:'Remonte des Ouvertures de FMPS/FZ (en lecture seule)',columns:[{text:'Nbre UP',dataIndex:'nbre_ouvertes_fp',xtype:'numbercolumn',format:'0',width:78,align:'center'},{text:'Nbre Salles',dataIndex:'nbre_salles_ouvertes_fp',xtype:'numbercolumn',format:'0',width:78,align:'center'}]},{text:"Situation UP Acheves en attente d'Ouverture",userCls:'non_ouvertes',columns:[{text:'En cours Rcept.',dataIndex:'nbre_encours_reception',xtype:'numbercolumn',format:'0',width:58,align:'center'},{text:'En cours Equip. (Cls remises)',dataIndex:'nbre_encours_equip',xtype:'numbercolumn',format:'0',width:58,align:'center'},{text:'En phase Inscrip. Enfants',dataIndex:'nbre_encours_inscription',xtype:'numbercolumn',format:'0',align:'center',width:76}]},{text:'Prvisions des Ouvertures / UP restantes',userCls:'previsions',columns:[{text:'Dc. 2022',dataIndex:'prevision_mois0',xtype:'numbercolumn',format:'0',width:68,align:'center'},{text:'Jan. 2023',dataIndex:'prevision_mois1',xtype:'numbercolumn',format:'0',width:65,align:'center'},{text:'Fv-Mars 2023',dataIndex:'prevision_mois2',xtype:'numbercolumn',format:'0',width:65,align:'center'},{text:'Rentre 2023/24',dataIndex:'prevision_prochaine_rentree',xtype:'numbercolumn',format:'0',width:65,align:'center'}]},{text:'Engagement Ouvertures',userCls:'previsions',bind:{hidden:'{user.role > 1}'},columns:[{text:'Baseline',dataIndex:'engag_ouv_baseline',xtype:'numbercolumn',format:'0',width:68,align:'center'},{text:'Dc. 2022',dataIndex:'engag_ouv_dec22',xtype:'numbercolumn',format:'0',width:68,align:'center'},{text:'Jan. 2023',dataIndex:'engag_ouv_jan23',xtype:'numbercolumn',format:'0',width:68,align:'center'},{text:'Fv. 2023',dataIndex:'engag_ouv_fev23',xtype:'numbercolumn',format:'0',width:68,align:'center'},{text:'Mar. 2023',dataIndex:'engag_ouv_mar23',xtype:'numbercolumn',format:'0',width:68,align:'center'},{text:'Rentre 2023/24',dataIndex:'engag_ouv_oct23',xtype:'numbercolumn',format:'0',width:68,align:'center'}]},{text:'Observations',dataIndex:'remarques',align:'left',minWidth:300},{xtype:'datecolumn',text:'Date Situation',dataIndex:'updated',align:'center',format:'d/m/Y'}]},pivotexporter:!0,pivotconfigurator:!0},matrix:{type:'local',store:{type:'reportings',pageSize:0,autoLoad:!0,remoteFilter:!0,remoteSort:!1,remoteGroup:!1,sorters:[{property:'plan_actions',direction:'ASC'}]},enableLocking:!0,showZeroAsBlank:!0,textRowLabels:'',compactViewColumnWidth:180,viewLayoutType:'compact',calculateAsExcel:!0,textGrandTotalTpl:'Total',colGrandTotalsPosition:'first',colSubTotalsPosition:'first',aggregate:[{header:'Nbre UP Programmes',dataIndex:'nbre_programmees',aggregator:'sum',align:'center',renderer:Ext.util.Format.numberRenderer('0'),width:120},{header:'Nbre UP Ouvertes',dataIndex:'nbre_ouvertes',aggregator:'sum',align:'center',renderer:Ext.util.Format.numberRenderer('0'),width:120},{header:'Nbre UP en retard / Engagement',dataIndex:'nbre_retards_engagements',aggregator:'sum',align:'center',renderer:Ext.util.Format.numberRenderer('0'),width:120},{header:'Nbre UP en retard',dataIndex:'nbre_retards',aggregator:'sum',align:'center',renderer:Ext.util.Format.numberRenderer('0'),width:120},{header:"Retard dans l'ouverture des UP acheves",dataIndex:'nbre_achevees_non_ouvertes',aggregator:'sum',align:'center',renderer:Ext.util.Format.numberRenderer('0'),width:120},{header:'Retard dans les travaux',dataIndex:'nbre_retard_trvx',aggregator:'sum',align:'center',renderer:Ext.util.Format.numberRenderer('0'),width:120},{header:'Retard dans le dmarrage des travaux',dataIndex:'nbre_retard_demarrage_trvx',aggregator:'sum',align:'center',renderer:Ext.util.Format.numberRenderer('0'),width:120},{header:'Retard dans le lancement des tude',dataIndex:'nbre_retard_etudes',aggregator:'sum',align:'center',renderer:Ext.util.Format.numberRenderer('0'),width:120}],leftAxis:[{dataIndex:'pallier',header:'Pallier',labelRenderer:'pallierRenderer'},{dataIndex:'province',header:'P/P',direction:'DESC',sorterFn:function(b,f){console.log(b,b.record);var c=this,d=b.record&&b.record.get('c4'),e=b.record&&f.record.get('c4'),a;if(c.matrix.useNaturalSorting){a=c.matrix.naturalSort(d,e)}else {a=d===e?0:d<e?-1:1}if(a<0&&c.direction==='DESC'){return 1}if(a>0&&c.direction==='DESC'){return -1}return a}}],topAxis:[{dataIndex:'plan_actions',header:'PA',labelRenderer:'PALabelRenderer'}]},listeners:{pivotdone:'onPivotDone'}}}},0,['classementpivot'],['widget','component','container','panel','classementpivot'],{'widget':!0,'component':!0,'container':!0,'panel':!0,'classementpivot':!0},['widget.classementpivot'],0,[App.view.reporting.classement,'Pivot'],0);Ext.cmd.derive('App.view.widgets.PivotController',Ext.app.ViewController,{getStore:function(){var c=this.lookup('pivotgrid'),a=c.getMatrix(),b=a.store;return b},showConfigurator:function(){this.lookup('pivotgrid').showConfigurator()},yearLabelRenderer:function(a){return a},PALabelRenderer:function(a){return 'PA '+a},monthLabelRenderer:function(a){return Ext.Date.monthNames[a]},orderedLabelRenderer:function(a){return a.split('#')[1].trim()},exportDocument:function(c){var b=this.lookup('pivotgrid'),a=this.getView().getTitle()||'Tableau Dynamique';b.saveDocumentAs({type:'excel07',title:a,fileName:a+'.xlsx'}).then(null,this.onError)},onError:function(a){Ext.Msg.alert('Erreur',typeof a==='string'?a:'Erreur inconnue')},__getPivotGridOf:function(e,a){var g=this.lookup('pivotgrid'),d=g.getMatrix(),c=d.store;c.group(e);var f=c.getGroups().items,b=[],h=Ext.util.Format.number;f.forEach(function(c,f){var d={label:c.getGroupKey(),count:c.getCount()};if(a&&a.length){}b.push(d)});return b},onBeforeDocumentSave:function(a){a.mask({xtype:'loadmask',message:"Prparation de l'exportation ..."})},onDocumentSave:function(a){a.unmask()}},0,0,0,0,['controller.pivot'],0,[App.view.widgets,'PivotController'],0);Ext.cmd.derive('App.view.reporting.classement.PivotController',App.view.widgets.PivotController,{pallierRenderer:function(a){return 'Pallier '+a},onPivotDone:function(a){console.log('onPivotDone',a);var b=this.lookup('pivotgrid');globalThis._pivotgrid=b;globalThis._matrix=a}},0,0,0,0,['controller.classementpivot'],0,[App.view.reporting.classement,'PivotController'],0);Ext.cmd.derive('App.view.reporting.classement.PivotModel',Ext.app.ViewModel,{stores:{annees:{type:'annees',autoLoad:!0},regions:{type:'regions',autoLoad:!0},provinces:{type:'provinces',autoLoad:!0},fondations:{type:'fondations',autoLoad:!0},statuts:{type:'statuts',autoLoad:!0}}},0,0,0,0,['viewmodel.classementpivot'],0,[App.view.reporting.classement,'PivotModel'],0);Ext.cmd.derive('App.view.reporting2.View',App.view.widgets.Browse,{controller:'reportingview2',viewModel:{type:'reporting2view'},bind:{title:"Tableau de Bord  {province} - {count} Plans d'Actions affichs",store:'{reportings}'},fields:{id:{property:'id'},plan_actions:{property:'plan_actions'},fondation_partenaire:{property:'fondation_partenaire'},region:{property:'region'},province:{property:'province'},est_obsolete:{property:'est_obsolete'},concernee_visio2022:{property:'concernee_visio2022'}},layout:'fit',tbar:{shadow:!0,docked:'top',items:[{xtype:'combobox',valueField:'value',displayField:'value',placeholder:'PA',queryMode:'local',bind:{selection:'{filters.plan_actions}',store:'{annees}'}},{xtype:'checkbox',boxLabel:'Affich. Donnes activit prscolaire',checked:!1,align:'right',bind:{checked:'{showActivite}'}},{xtype:'button',iconCls:'x-fa fa-sync',text:'Rafrachir',handler:'onRefreshTap',align:'left'},'->',{xtype:'button',iconCls:'x-fa fa-download',text:'Exporter sous excel',handler:'exportToXlsx',align:'left'}]},items:[{xtype:'grid',reference:'reportingsList',bind:'{reportings}',listeners:{documentsave:'onDocumentSave',beforedocumentsave:'onBeforeDocumentSave',complete:'onCompleteEdit',beforeedit:'onBeforeEdit'},cls:'sheet',emptyText:'Aucun reporting',loadingText:'Chargement...',ui:'listing',grouped:!0,groupHeader:{tpl:'{name:substr(5)}'},groupFooter:{xtype:'gridsummaryrow'},plugins:{gridcellediting:{selectOnEdit:!0},gridexporter:!0,gridviewoptions:!0,gridfilters:!0,gridsummaryrow:{bind:{hidden:'{user.role > 1}'}}},loadMask:!0,columnLines:!0,rowLines:!0,selectable:{rows:!1,cells:!0},itemConfig:{viewModel:{type:'inputRowViewModel'}},columns:[{text:'Province',dataIndex:'province',width:100,align:'left',editable:!1,locked:!0,summaryRenderer:'summarizeProvinces',cell:{cls:'province-cell',bind:{bodyCls:'{obsoleteCls}'}},filter:{type:'list',sorted:!0,sortDirection:'ASC',menu:{items:{list:{multiSelect:!0,valueField:'label',displayField:'label',placeholder:'Choisir P/P',store:{type:'provinces'}}}}}},{text:'Plan Actions',dataIndex:'plan_actions',width:65,align:'center',editable:!1,filter:{type:'list',sorted:!0,sortDirection:'ASC',menu:{items:{list:{multiSelect:!0,valueField:'value',displayField:'value',placeholder:'Choisir PAs',store:{type:'annees'}}}}}},{text:'Fond. Parten.',dataIndex:'fondation_partenaire',width:62,align:'center',editable:!0,exportRenderer:!0,filter:{type:'list',sorted:!0,sortDirection:'ASC',menu:{items:{list:{multiSelect:!0,valueField:'label',displayField:'label',placeholder:'Choisir FP',store:{type:'fondations'}}}}},editor:{xtype:'selectfield',required:!0,options:['FMPS','FZ']}},{text:'UP Programmes',dataIndex:'nbre_programmees',width:65,align:'center',xtype:'numbercolumn',format:'0',editable:!0,renderer:'validationRenderer',editor:{xtype:'numberfield',clearable:!1,minValue:0,required:!0,validators:{type:'number',message:'Veuillez Remplir Cette Cellule'}},summary:'sum'},{text:'Nbre UP dont Travaux Non dmarrs',columns:[{text:'Total',dataIndex:'nbre_non_demarrees',xtype:'numbercolumn',width:50,format:'0',align:'center',editable:!0,summary:'sum',userCls:'non_demarre',renderer:'validationRenderer',editor:{xtype:'numberfield',clearable:!1,minValue:0,required:!0,validators:{type:'number',message:'Veuillez Remplir Cette Cellule'}}},{text:'Etudes non Lances',dataIndex:'nbre_etudes_non_lancees',xtype:'numbercolumn',format:'0',width:70,align:'center',editable:!0,summary:'sum',renderer:'validationRenderer',editor:{xtype:'numberfield',clearable:!1,minValue:0,required:!0,validators:{type:'number',message:'Veuillez Remplir Cette Cellule'}}},{text:'Etudes Lances',dataIndex:'nbre_etudes_lancees',xtype:'numbercolumn',renderer:'validationRenderer',width:70,format:'0',editable:!0,summary:'sum',editor:{xtype:'numberfield',clearable:!1,minValue:0,required:!0,validators:{type:'number',message:'Veuillez Remplir Cette Cellule'}}},{text:'Etudes Acheves',dataIndex:'nbre_etudes_achevees',xtype:'numbercolumn',format:'0',renderer:'validationRenderer',width:70,align:'center',editable:!0,summary:'sum',editor:{xtype:'numberfield',clearable:!1,minValue:0,required:!0,validators:{type:'number',message:'Veuillez Remplir Cette Cellule'}}},{text:'Marchs Trv. Lancs',dataIndex:'nbre_marches_lances',xtype:'numbercolumn',width:70,format:'0',renderer:'validationRenderer',align:'center',editable:!0,summary:'sum',editor:{xtype:'numberfield',clearable:!1,minValue:0,required:!0,validators:{type:'number',message:'Veuillez Remplir Cette Cellule'}}},{text:'Marchs Trv. Adjugs',dataIndex:'nbre_marches_adjuges',xtype:'numbercolumn',width:70,format:'0',renderer:'validationRenderer',editable:!0,align:'center',summary:'sum',editor:{xtype:'numberfield',clearable:!1,minValue:0,required:!0,validators:{type:'number',message:'Veuillez Remplir Cette Cellule'}}}]},{text:"Nbre UP en Travaux selon taux d'avancement",userCls:'en_cours',columns:[{text:'Total UP en trvx.',dataIndex:'nbre_encours',xtype:'numbercolumn',width:60,format:'0',renderer:'validationRenderer',align:'center',editable:!1,summary:'sum'},{text:'<25%',dataIndex:'nbre_encours_25',xtype:'numbercolumn',width:60,format:'0',renderer:'validationRenderer',align:'center',editable:!0,summary:'sum',editor:{xtype:'numberfield',clearable:!1,minValue:0,required:!0,validators:{type:'number',message:'Veuillez Remplir Cette Cellule'}}},{text:'25-50%',dataIndex:'nbre_encours_25_50',xtype:'numbercolumn',renderer:'validationRenderer',format:'0',width:60,align:'center',editable:!0,summary:'sum',editor:{xtype:'numberfield',clearable:!1,minValue:0,required:!0,validators:{type:'number',message:'Veuillez Remplir Cette Cellule'}}},{text:'50-75%',dataIndex:'nbre_encours_50_75',xtype:'numbercolumn',renderer:'validationRenderer',format:'0',width:60,align:'center',editable:!0,summary:'sum',editor:{xtype:'numberfield',clearable:!1,minValue:0,required:!0,validators:{type:'number',message:'Veuillez Remplir Cette Cellule'}}},{text:'>75%',dataIndex:'nbre_encours_75',xtype:'numbercolumn',renderer:'validationRenderer',format:'0',width:60,align:'center',editable:!0,summary:'sum',editor:{xtype:'numberfield',clearable:!1,minValue:0,required:!0,validators:{type:'number',message:'Veuillez Remplir Cette Cellule'}}}]},{text:'Nbre UP Acheves',dataIndex:'nbre_achevees',xtype:'numbercolumn',renderer:'validationRenderer',format:'0',width:78,align:'center',userCls:'achevees',editable:!0,summary:'sum',editor:{xtype:'numberfield',clearable:!1,minValue:0,required:!0,validators:{type:'number',message:'Veuillez Remplir Cette Cellule'}}},{text:'UP Ouvertes',columns:[{text:'Nbre UP',dataIndex:'nbre_ouvertes_cn',xtype:'numbercolumn',renderer:'validationRenderer',format:'0',width:78,align:'center',editable:!1,summary:'sum',filter:'number'},{text:'Nbre Salles',dataIndex:'salles_ouvertes_cn',xtype:'numbercolumn',renderer:'validationRenderer',format:'0',width:78,align:'center',editable:!1,summary:'sum',filter:'number'}]},{text:"Phase d'Achvement",userCls:'achevees',columns:[{text:'En cours Rcept.',dataIndex:'nbre_encours_reception',xtype:'numbercolumn',format:'0',width:58,align:'center',editable:!0,renderer:'validationRenderer',summary:'sum',filter:'number',editor:{xtype:'numberfield',clearable:!1,minValue:0,required:!0,validators:{type:'number',message:'Veuillez Remplir Cette Cellule'}}},{text:'En cours Equip.',dataIndex:'nbre_encours_equip',xtype:'numbercolumn',format:'0',width:95,align:'center',editable:!0,renderer:'validationRenderer',summary:'sum',filter:'number',editor:{xtype:'numberfield',clearable:!1,minValue:0,required:!0,validators:{type:'number',message:'Veuillez Remplir Cette Cellule'}}},{text:'UP / ducat. en cours de formation',dataIndex:'nbre_encours_formation',xtype:'numbercolumn',format:'0',width:95,align:'center',editable:!0,renderer:'validationRenderer',summary:'sum',filter:'number',editor:{xtype:'numberfield',clearable:!1,minValue:0,required:!0,validators:{type:'number',message:'Veuillez Remplir Cette Cellule'}}},{text:'En phase Inscrip. Enfants',dataIndex:'nbre_encours_inscription_cn',xtype:'numbercolumn',format:'0',align:'center',width:76,editable:!0,renderer:'validationRenderer',summary:'sum',filter:'number',editor:{xtype:'numberfield',clearable:!1,minValue:0,required:!0,validators:{type:'number',message:'Veuillez Remplir Cette Cellule'}}}]},{text:'Prvisions des Ouvertures',userCls:'previsions',columns:[{text:'Oct. 2023',dataIndex:'prevision_oct2023_cn',xtype:'numbercolumn',format:'0',width:65,align:'center',editable:!0,renderer:'validationRenderer',summary:'sum',filter:'number',editor:{xtype:'numberfield',clearable:!1,minValue:0,required:!0,validators:{type:'number',message:'Veuillez Remplir Cette Cellule'}}},{text:'Nov. - Dc. 2023',dataIndex:'prevision_nov_dec2023_cn',xtype:'numbercolumn',format:'0',width:65,align:'center',editable:!0,renderer:'validationRenderer',summary:'sum',filter:'number',editor:{xtype:'numberfield',clearable:!1,minValue:0,clearable:!1,minValue:0,required:!0,validators:{type:'number',message:'Veuillez Remplir Cette Cellule'}}},{text:'1er Trim. 2024',dataIndex:'prevision_debut_2024_cn',xtype:'numbercolumn',format:'0',width:65,align:'center',editable:!0,renderer:'validationRenderer',summary:'sum',filter:'number',editor:{xtype:'numberfield',clearable:!1,minValue:0,clearable:!1,minValue:0,required:!0,validators:{type:'number',message:'Veuillez Remplir Cette Cellule'}}}]},{text:'Activit prscolaire',bind:{hidden:'{!showActivite}'},columns:[{text:'UP Oprationnelles',bind:{hidden:'{!showActivite}'},columns:[{text:'Nbre UP',dataIndex:'nbre_ouvertes_fp',xtype:'numbercolumn',renderer:'validationRenderer',format:'0',width:78,align:'center',editable:!1,summary:'sum',filter:'number',bind:{hidden:'{!showActivite}'}},{text:'Nbre Salles',dataIndex:'nbre_salles_ouvertes_fp',xtype:'numbercolumn',renderer:'validationRenderer',format:'0',width:78,align:'center',editable:!1,summary:'sum',filter:'number',bind:{hidden:'{!showActivite}'}}]},{text:'Educateurs',columns:[{text:'Total',dataIndex:'nbre_educ_total_fp',align:'center',xtype:'numbercolumn',format:'0',summary:'sum',width:60,filter:'number',bind:{hidden:'{!showActivite}'}},{text:'Femmes',dataIndex:'nbre_educ_femmes_fp',align:'center',xtype:'numbercolumn',format:'0',summary:'sum',width:60,filter:'number',bind:{hidden:'{!showActivite}'}},{text:'Hommes',dataIndex:'nbre_educ_hommes_fp',align:'center',xtype:'numbercolumn',format:'0',summary:'sum',width:60,filter:'number',bind:{hidden:'{!showActivite}'}}]},{text:'Inscrits 2023/24',bind:{hidden:'{!showActivite}'},columns:[{text:'Total',dataIndex:'nbre_inscrits_total_fp',align:'center',xtype:'numbercolumn',format:'0',summary:'sum',width:60,filter:'number',bind:{hidden:'{!showActivite}'}},{text:'Garons',dataIndex:'nbre_inscrits_garcons_fp',align:'center',xtype:'numbercolumn',format:'0',summary:'sum',width:60,filter:'number',bind:{hidden:'{!showActivite}'}},{text:'Filles',dataIndex:'nbre_inscrits_filles_fp',align:'center',xtype:'numbercolumn',format:'0',summary:'sum',width:60,filter:'number',bind:{hidden:'{!showActivite}'}},{text:'Moyenne Section',bind:{hidden:'{!showActivite}'},columns:[{text:'Total',dataIndex:'nbre_inscrits_ms_fp',align:'center',xtype:'numbercolumn',format:'0',summary:'sum',width:60,filter:'number',bind:{hidden:'{!showActivite}'}},{text:'Filles',dataIndex:'nbre_inscrits_ms_f_fp',align:'center',xtype:'numbercolumn',format:'0',summary:'sum',width:60,filter:'number',bind:{hidden:'{!showActivite}'}},{text:'Garons',dataIndex:'nbre_inscrits_ms_g_fp',align:'center',xtype:'numbercolumn',format:'0',summary:'sum',width:60,filter:'number',bind:{hidden:'{!showActivite}'}}]},{text:'Grande Section',bind:{hidden:'{!showActivite}'},columns:[{text:'Total',dataIndex:'nbre_inscrits_gs_fp',align:'center',xtype:'numbercolumn',format:'0',summary:'sum',width:60,filter:'number',bind:{hidden:'{!showActivite}'}},{text:'Filles',dataIndex:'nbre_inscrits_gs_f_fp',align:'center',xtype:'numbercolumn',format:'0',summary:'sum',width:60,filter:'number',bind:{hidden:'{!showActivite}'}},{text:'Garons',dataIndex:'nbre_inscrits_gs_g_fp',align:'center',xtype:'numbercolumn',format:'0',summary:'sum',width:60,filter:'number',bind:{hidden:'{!showActivite}'}}]}]}]},{text:'Notes CN-INDH',dataIndex:'cnindh_comments',align:'left',minWidth:300,editable:!0,filter:'string'},{text:'Erreur de Validations',dataIndex:'validations',width:500,align:'left',editable:!1,hidden:!0}]}]},0,['reporting2view'],['widget','component','container','panel','browse','reporting2view'],{'widget':!0,'component':!0,'container':!0,'panel':!0,'browse':!0,'reporting2view':!0},['widget.reporting2view'],0,[App.view.reporting2,'View'],0);Ext.cmd.derive('App.view.reporting2.ViewController',App.view.reporting.ViewController,{onStoreChange:function(b,d,a,c){}},0,0,0,0,['controller.reportingview2'],0,[App.view.reporting2,'ViewController'],0);Ext.cmd.derive('App.view.reporting2.ViewModel',Ext.app.ViewModel,{data:{filters:null,sortOrder:null,filteredBy:null,province:null,showActivite:!1},stores:{reportings:{type:'reportings',autoLoad:!1,pageSize:0,clearOnPageLoad:!1,grouper:[{property:'region_order'}],sorters:[{property:'province_order',direction:'ASC'},{property:'plan_actions',direction:'ASC'}],listeners:{refresh:'onStoreRefresh',buffer:100},proxy:{type:'direct',api:{prefix:'Server.reportings',create:'insert',read:'list',update:'update',destroy:'remove'},reader:{type:'json',rootProperty:'data',messageProperty:'message'},extraParams:{scope:"{showActivite ? 'activite' : 'browse'}"}},updateProxy:function(a){a&&a.onAfter('extraparamschanged',this.load,this)}},annees:{type:'annees',autoLoad:!0},regions:{type:'regions',autoLoad:!0},provinces:{type:'provinces',autoLoad:!0},fondations:{type:'fondations',autoLoad:!0}}},0,0,0,0,['viewmodel.reporting2view'],0,[App.view.reporting2,'ViewModel'],0);Ext.cmd.derive('App.view.sousdelegation.Browse',App.view.widgets.Browse,{stateId:'sousdelegationBrowse',stateful:!0,fields:{id:{property:'id'},province:{property:'province_code'},delegation:{property:'delegation_id'},plan_actions:{property:'plan_actions'},nature_affectations:{property:'nature_affectations'}},controller:'sousdelegationbrowse',viewModel:{type:'sousdelegationbrowse'},cls:'delegation-browse',bind:{store:'{sousdelegations}',title:'Dlgations des crdits {province ? " la " + province : ""} - {count} affiches'},layout:'fit',items:[{xtype:'grid',reference:'sousdelegationsList',emptyText:'Aucune sous-dlgation correspondante  votre recherche',loadingText:'Chargement...',bind:'{sousdelegations}',ui:'listing',syncRowHeight:!1,grouped:!0,groupHeader:{tpl:'{name} ({count})'},title:' ',titleBar:{shadow:!1,docked:'bottom',items:[{align:'right',xtype:'button',iconCls:'x-fa fa-download',tooltip:'Exporter sous excel',handler:'exportToXlsx'}]},plugins:{listpaging:{autoPaging:!1},gridviewoptions:!0,gridexporter:!0,gridfilters:!0},listeners:{documentsave:'onDocumentSave',beforedocumentsave:'onBeforeDocumentSave',childdoubletap:'onChildActivate'},columnLines:!0,rowLines:!0,loadMask:!0,multiColumnSort:!1,selectable:{rows:!0},columns:[{text:'ID',dataIndex:'id',align:'center',width:180,filter:'string',hidden:!0},{text:'Province',dataIndex:'province',align:'center',width:150,filter:{type:'list',sorted:!0,sortDirection:'ASC',menu:{items:{list:{multiSelect:!0,valueField:'label',displayField:'label',placeholder:'Choisir P/P',store:{type:'provinces'}}}}},bind:{hidden:'{user.role == 3}'}},{xtype:'datecolumn',text:'Date de Dlgation',dataIndex:'date_delegation',exportStyle:{format:'Medium Date',alignment:{horizontal:'Center'}},minWidth:80,format:'d/m/Y',filter:'date'},{text:"Plan d'actions",dataIndex:'plan_actions',width:80,align:'center',editable:!1,locked:!0},{text:'Affectation',dataIndex:'nature_affectation',align:'center',width:120,filter:{type:'list',sorted:!0,sortDirection:'ASC',menu:{items:{list:{multiSelect:!0,valueField:'label',displayField:'label',placeholder:'Choisir Affectation',store:{type:'nature_affectations'}}}}}},{text:'Description',dataIndex:'tranche_libelle',align:'center',flex:1,minWidth:200,filter:'string'},{text:'Montant',dataIndex:'montant_effectif',xtype:'numbercolumn',format:'0,000.00',align:'center',summary:'sum',width:100,filter:'number',exportStyle:{format:'General Number',alignment:{horizontal:'Right'}}},{text:'Nbre UP Objet Dlgation',columns:[{text:'Nbre Total',dataIndex:'nbre_ups_concernees',width:45,align:'center',xtype:'numbercolumn',format:'0'},{text:'Nbre Salles',dataIndex:'nbre_salles_concernees',width:50,align:'center',xtype:'numbercolumn',format:'0'},{text:'T1',dataIndex:'nbre_t1',width:45,align:'center',xtype:'numbercolumn',format:'0'},{text:'T2',dataIndex:'nbre_t2',width:45,align:'center',xtype:'numbercolumn',format:'0'},{text:'T3',dataIndex:'nbre_t3',width:45,align:'center',xtype:'numbercolumn',format:'0'},{text:'Amg.',dataIndex:'nbre_amg',width:45,align:'center',xtype:'numbercolumn',format:'0'},{text:'Modul.',dataIndex:'nbre_modulaire',width:50,align:'center',xtype:'numbercolumn',format:'0'}]},{text:'Observations',flex:1,dataIndex:'observations',filter:'string',bind:{hidden:'{user.role > 1}'}}]}]},0,['sousdelegationsbrowse'],['widget','component','container','panel','browse','sousdelegationsbrowse'],{'widget':!0,'component':!0,'container':!0,'panel':!0,'browse':!0,'sousdelegationsbrowse':!0},['widget.sousdelegationsbrowse'],0,[App.view.sousdelegation,'Browse'],0);Ext.cmd.derive('App.view.sousdelegation.BrowseController',App.view.widgets.BrowseController,{control:{'#':{reset:'refresh'}},listen:{controller:{'*':{datachanged:'onRecordDataChanged',recorddatachanged:'onRecordDataChanged'}}},init:function(){App.view.widgets.BrowseController.prototype.init.apply(this,arguments);var c=this.getViewModel();var b=App.util.State.get('session');var a=b.user;if(a){c.set('province',a.province?'P/P '+a.province:'Rgion de '+a.region)}},refresh:function(){var a=this.getViewModel()},exportToXlsx:function(){var b=this,c=this.getView(),a=this.getViewModel().getStore('sousdelegations');if(a.getPageSize()===0){b._exportGrid('sousdelegationsList')}else {a.setPageSize(0);a.load({scope:b,callback:function(){b._exportGrid('sousdelegationsList')}})}}},0,0,0,0,['controller.sousdelegationbrowse'],0,[App.view.sousdelegation,'BrowseController'],0);Ext.cmd.derive('App.view.sousdelegation.BrowseModel',Ext.app.ViewModel,{data:{province:null,groupBy:null,sortOrder:null,filteredBy:null},stores:{sousdelegations:{type:'sousdelegations',autoLoad:!0,remoteFilter:!1,remoteSort:!1,remoteGroup:!1,grouper:{groupFn:function(a){return a.get('annee_budgetaire')}},sorters:[{property:'date_delegation',direction:'ASC'}],pageSize:0,clearOnPageLoad:!1,listeners:{refresh:'onStoreRefresh',buffer:100}},provinces:{type:'provinces',autoLoad:!0},annees:{type:'annees',autoLoad:!0},nature_affectations:{type:'nature_affectations',autoLoad:!0}}},0,0,0,0,['viewmodel.sousdelegationbrowse'],0,[App.view.sousdelegation,'BrowseModel'],0);var columns=[{text:'Intitul',dataIndex:'intitule',align:'left',minWidth:300,cell:{encodeHtml:!1},tpl:'<a class="item-title" href="#{url}">{intitule}</a>'},{text:'PA',dataIndex:'plan_actions',width:60},{text:'Rgion',dataIndex:'region'},{text:'P/P',dataIndex:'province'},{text:'Dern. Modif.',dataIndex:'date_situation',cell:{encodeHtml:!1},tpl:'{date_situation}: {modified_by}'}];Ext.cmd.derive('App.view.stats.reporting.Pivot',App.view.widgets.Pivot,{controller:{type:'reportingpivot'},viewModel:{type:'reportingpivot'},items:{pivotgrid:{matrix:{type:'local',store:{type:'reportings',pageSize:0,autoLoad:!0,remoteFilter:!0,remoteSort:!1,remoteGroup:!1},enableLocking:!0,textRowLabels:'',compactViewColumnWidth:360,viewLayoutType:'compact',calculateAsExcel:!0,textGrandTotalTpl:'Total gnral',colGrandTotalsPosition:'first',colSubTotalsPosition:'first',aggregate:[{header:'Nbre UP',dataIndex:'nbre_programmees',aggregator:'sum',align:'center',renderer:Ext.util.Format.numberRenderer('0'),width:120},{header:'Nbre UP non dmarres',dataIndex:'nbre_non_demarrees',aggregator:'sum',align:'center',renderer:Ext.util.Format.numberRenderer('0'),width:150},{header:'Nbre UP tudes non lances',dataIndex:'nbre_etudes_non_lancees',aggregator:'sum',align:'center',renderer:Ext.util.Format.numberRenderer('0'),width:120},{header:'Nbre UP tudes lances',dataIndex:'nbre_etudes_lancees',aggregator:'sum',align:'center',renderer:Ext.util.Format.numberRenderer('0'),width:120},{header:'Nbre UP tudes acheves',dataIndex:'nbre_etudes_achevees',aggregator:'sum',align:'center',renderer:Ext.util.Format.numberRenderer('0'),width:120},{header:'Nbre UP marchs lancs',dataIndex:'nbre_marches_lances',aggregator:'sum',align:'center',renderer:Ext.util.Format.numberRenderer('0'),width:120},{header:'Nbre UP marchs adjugs',dataIndex:'nbre_marches_adjuges',aggregator:'sum',align:'center',renderer:Ext.util.Format.numberRenderer('0'),width:120},{header:'Total UP en Travaux',dataIndex:'nbre_encours',aggregator:'sum',align:'center',renderer:Ext.util.Format.numberRenderer('0'),width:150},{header:'<25%',dataIndex:'nbre_encours_25',aggregator:'sum',align:'center',renderer:Ext.util.Format.numberRenderer('0'),width:120},{header:'[25-50]',dataIndex:'nbre_encours_25_50',aggregator:'sum',align:'center',renderer:Ext.util.Format.numberRenderer('0'),width:120},{header:'[50-75]',dataIndex:'nbre_encours_50_75',aggregator:'sum',align:'center',renderer:Ext.util.Format.numberRenderer('0'),width:120},{header:'>75%',dataIndex:'nbre_encours_75',aggregator:'sum',align:'center',renderer:Ext.util.Format.numberRenderer('0'),width:120},{header:'100%',dataIndex:'nbre_achevees',aggregator:'sum',align:'center',renderer:Ext.util.Format.numberRenderer('0'),width:120},{header:'Nbre UP ouvertes',dataIndex:'nbre_ouvertes',aggregator:'sum',align:'center',renderer:Ext.util.Format.numberRenderer('0'),width:120},{header:'Nbre UP ouvertes FP',dataIndex:'nbre_ouvertes_fp',aggregator:'sum',align:'center',renderer:Ext.util.Format.numberRenderer('0'),width:120},{header:'Nbre UP en cours de rcept.',dataIndex:'nbre_encours_reception',aggregator:'sum',align:'center',renderer:Ext.util.Format.numberRenderer('0'),width:120},{header:"En cours d'quip.",dataIndex:'nbre_encours_equip',aggregator:'sum',align:'center',renderer:Ext.util.Format.numberRenderer('0'),width:120},{header:"En phase d'Inscrip. des Enfants",dataIndex:'nbre_encours_inscription',aggregator:'sum',align:'center',renderer:Ext.util.Format.numberRenderer('0'),width:120},{header:'En cours de Formation des Educ.',dataIndex:'nbre_encours_formation',aggregator:'sum',align:'center',renderer:Ext.util.Format.numberRenderer('0'),width:120},{header:'Ouvertures prvues Sept.',dataIndex:'prevision_mois0',aggregator:'sum',align:'center',renderer:Ext.util.Format.numberRenderer('0'),width:120},{header:'Ouvertures prvues Oct.',dataIndex:'prevision_mois1',aggregator:'sum',align:'center',renderer:Ext.util.Format.numberRenderer('0'),width:120},{header:'Ouvertures prvues Nov.',dataIndex:'prevision_mois2',aggregator:'sum',align:'center',renderer:Ext.util.Format.numberRenderer('0'),width:120},{header:'Ouvertures prvues Dc.',dataIndex:'prevision_mois3',aggregator:'sum',align:'center',renderer:Ext.util.Format.numberRenderer('0'),width:120}],leftAxis:[{dataIndex:'region_order',header:'Rgion',labelRenderer:'orderedLabelRenderer'},{dataIndex:'province_order',header:'P/P',labelRenderer:'orderedLabelRenderer'}],topAxis:[{dataIndex:'plan_actions',header:'PA',labelRenderer:'yearLabelRenderer'}]}}}},0,['reportingpivot'],['widget','component','container','panel','reportingpivot'],{'widget':!0,'component':!0,'container':!0,'panel':!0,'reportingpivot':!0},['widget.reportingpivot'],0,[App.view.stats.reporting,'Pivot'],0);Ext.cmd.derive('App.view.stats.reporting.PivotController',App.view.widgets.PivotController,{},0,0,0,0,['controller.reportingpivot'],0,[App.view.stats.reporting,'PivotController'],0);Ext.cmd.derive('App.view.stats.reporting.PivotModel',Ext.app.ViewModel,{stores:{annees:{type:'annees',autoLoad:!0},regions:{type:'regions',autoLoad:!0},provinces:{type:'provinces',autoLoad:!0},fondations:{type:'fondations',autoLoad:!0},statuts:{type:'statuts',autoLoad:!0}}},0,0,0,0,['viewmodel.reportingpivot'],0,[App.view.stats.reporting,'PivotModel'],0);Ext.cmd.derive('App.view.widgets.PivotToolbar',Ext.Toolbar,{cls:'browse-toolbar no-print',weighted:!0,ui:'tools',defaults:{ui:'flat'},layout:{type:'hbox',align:'center',pack:'end'},items:{help:{html:'Double-Cliquer sur une cellule du tableau pour consulter le dtail'},exporter:{iconCls:'x-fa fa-download',tooltip:'Exporter sous excel',handler:'exportDocument',weigth:31},configurator:{iconCls:'x-fa fa-cog',tooltip:'Configurer',handler:'showConfigurator',weigth:32}}},0,['pivottoolbar'],['widget','component','container','toolbar','pivottoolbar'],{'widget':!0,'component':!0,'container':!0,'toolbar':!0,'pivottoolbar':!0},['widget.pivottoolbar'],0,[App.view.widgets,'PivotToolbar'],0);var columns=[{text:'Intitul',dataIndex:'intitule',align:'left',minWidth:300,cell:{encodeHtml:!1},tpl:'<a class="item-title" href="#{url}">{intitule}</a>'},{text:'PA',dataIndex:'plan_actions',width:60},{text:'Localisation',columns:[{text:'Rgion',dataIndex:'region'},{text:'P/P',dataIndex:'province'},{text:'Douar',dataIndex:'douar_quartier'}]},{text:'Statut',dataIndex:'statut'}];Ext.cmd.derive('App.view.stats.unite.Pivot',App.view.widgets.Pivot,{controller:{type:'unitespivot'},viewModel:{type:'unitespivot'},items:{pivotgrid:{matrix:{type:'local',store:{type:'projets',pageSize:0,autoLoad:!0,filters:[{property:'plan_actions',operator:'!=',value:'2023'},{property:'est_programmee_pp',operator:'=',value:!0}]},enableLocking:!0,textRowLabels:'',compactViewColumnWidth:360,viewLayoutType:'compact',calculateAsExcel:!0,textGrandTotalTpl:'Total gnral',colGrandTotalsPosition:'first',colSubTotalsPosition:'first',aggregate:[{dataIndex:'id',header:'Nbre UPs',aggregator:'count',align:'center',renderer:Ext.util.Format.numberRenderer('0'),width:60},{dataIndex:'nbre_salles',header:'Nbre Salles',aggregator:'sum',align:'center',renderer:Ext.util.Format.numberRenderer('0'),width:60},{dataIndex:'montant_delegue',header:'Montant Dlgu',aggregator:'sum',align:'center',renderer:Ext.util.Format.numberRenderer('0,000'),width:100},{dataIndex:'saison_2021_2022_total_global',header:'Tot. Bnfs. 2021/22',aggregator:'sum',align:'center',renderer:Ext.util.Format.numberRenderer('0,000'),width:100},{dataIndex:'saison_2021_2022_total_moyenne_section',header:'Bnfs. MS 2021/22',aggregator:'sum',align:'center',renderer:Ext.util.Format.numberRenderer('0,000'),width:100},{dataIndex:'saison_2021_2022_total_grande_section',header:'Bnfs. GS 2021/22',aggregator:'sum',align:'center',renderer:Ext.util.Format.numberRenderer('0,000'),width:100},{dataIndex:'saison_2021_2022_total_filles',header:'Bnfs. F 2021/22',aggregator:'sum',align:'center',renderer:Ext.util.Format.numberRenderer('0,000'),width:100},{dataIndex:'saison_2021_2022_total_garcons',header:'Bnfs. G 2021/22',aggregator:'sum',align:'center',renderer:Ext.util.Format.numberRenderer('0,000'),width:100}],leftAxis:[{dataIndex:'region',header:'Rgion',locked:!0},{dataIndex:'province',header:'P/P',sortable:!1,locked:!0}],topAxis:[{dataIndex:'plan_actions',header:'PA',labelRenderer:'yearLabelRenderer'}]}}}},0,['unitespivot'],['widget','component','container','panel','unitespivot'],{'widget':!0,'component':!0,'container':!0,'panel':!0,'unitespivot':!0},['widget.unitespivot'],0,[App.view.stats.unite,'Pivot'],0);Ext.cmd.derive('App.view.stats.unite.PivotController',App.view.widgets.PivotController,{},0,0,0,0,['controller.unitespivot'],0,[App.view.stats.unite,'PivotController'],0);Ext.cmd.derive('App.view.stats.unite.PivotModel',Ext.app.ViewModel,{stores:{annees:{type:'annees',autoLoad:!0},regions:{type:'regions',autoLoad:!0},provinces:{type:'provinces',autoLoad:!0},fondations:{type:'fondations',autoLoad:!0},statuts:{type:'statuts',autoLoad:!0}}},0,0,0,0,['viewmodel.unitespivot'],0,[App.view.stats.unite,'PivotModel'],0);Ext.cmd.derive('App.view.stats.Show',Ext.tab.Panel,{config:{route:null},ui:'navigation',header:{items:{title:{html:'<div class="name">Statistiques</div>'}}},margin:12,bodyBorder:!0,shadow:!0,scrollable:!0,defaults:{bodyPadding:6,scrollable:!1,tabConfig:{plugins:'responsive',responsiveConfig:{wide:{iconAlign:'left',textAlign:'left'},tall:{iconAlign:'top',textAlign:'center',width:120}}}},tabBar:{defaultTabUI:'flat',ui:'flat',layout:{pack:'start'}},tabBarHeaderPosition:1,titleRotation:0,tabRotation:0,responsiveConfig:{tall:{headerPosition:'top'},wide:{headerPosition:'left'}},items:[{title:"Etat d'avancement des Plans d'actions",layout:'fit',items:[{xtype:'reportingpivot'}]},{title:'Units prscolaires',layout:'fit',items:[{xtype:'unitespivot'}]}]},0,['statsshow'],['widget','component','container','tabpanel','statsshow'],{'widget':!0,'component':!0,'container':!0,'tabpanel':!0,'statsshow':!0},['widget.statsshow'],0,[App.view.stats,'Show'],0);Ext.cmd.derive('App.view.stats.delegation.Pivot',App.view.widgets.Pivot,{controller:{type:'delegationspivot'},viewModel:{type:'delegationspivot'},items:{pivotgrid:{xtype:'pivotgrid',bind:'{sousdelegations}',plugins:{pivotdrilldown:{pageSize:100,panel:{xtype:'panel',hidden:!0,floated:!0,modal:!0,hideOnMaskTap:!0,right:0,height:'100%',showAnimation:{type:'slideIn',duration:250,easing:'ease-out',direction:'left'},hideAnimation:{type:'slideOut',duration:250,easing:'ease-in',direction:'right'},layout:'fit',items:[{docked:'top',xtype:'titlebar',itemId:'title',items:[{align:'right',xtype:'button',iconCls:'x-fa fa-download',tooltip:'Exporter sous excel',handler:'exportToXlsx'},{xtype:'button',text:'Fermer',ui:'action',align:'right',itemId:'done'}]},{xtype:'grid',itemId:'grid',reference:'matchingRecGrid',plugins:{gridpagingtoolbar:!0,gridexporter:!0}}]},columns:[{text:'Date',dataIndex:'delegation.date_delegation',align:'center',minWidth:80,cell:{encodeHtml:!1},tpl:['<tpl for="delegation">','<div class="item-caption">{date_delegation:date("d/m/Y")}</div>','</tpl>']},{text:'Dlgation',dataIndex:'delegation.libelle',align:'center',minWidth:200,cell:{encodeHtml:!1},tpl:['<tpl for="delegation">','<a class="item-title" href="#{url}">{parent.plan_actions} / {libelle}</a>','</tpl>']},{text:'Tranche',dataIndex:'delegation.tranche_libelle',align:'center',minWidth:200,cell:{encodeHtml:!1},tpl:['<tpl for="delegation">','<a class="item-title" href="#{url}">{parent.plan_actions} / {tranche_libelle}</a>','</tpl>']},{text:'Province',dataIndex:'province',align:'center',minWidth:100},{text:'Montant',dataIndex:'montant_effectif',xtype:'numbercolumn',align:'right',format:'0,000',minWidth:100},{text:'Observations',minWidth:100,dataIndex:'observations'},{text:'Nbre UP Concernes',dataIndex:'nbre_ups_concernees',xtype:'numbercolumn',format:'0'},{text:'Nbre Salles Concernes',dataIndex:'nbre_salles_concernees',xtype:'numbercolumn',format:'0'},{text:'Nbre T1',dataIndex:'nbre_t1',xtype:'numbercolumn',format:'0'},{text:'Nbre T2',dataIndex:'nbre_t2',xtype:'numbercolumn',format:'0'},{text:'Nbre T3',dataIndex:'nbre_t3',xtype:'numbercolumn',format:'0'},{text:'Nbre Amg',dataIndex:'nbre_amg',xtype:'numbercolumn',format:'0'}]},pivotexporter:!0,pivotconfigurator:{id:'configurator',fields:[{dataIndex:'plan_actions',header:'PA'},{dataIndex:'axe_intervention',header:"Axe d'intervention"},{dataIndex:'lot_libelle',header:'Lot'},{dataIndex:'delegation_libelle',header:'Dlgation'},{dataIndex:'tranche_libelle',header:'Tranche'},{dataIndex:'region_order',header:'Rgion',labelRenderer:'orderedLabelRenderer'},{dataIndex:'province_order',header:'P/P',labelRenderer:'orderedLabelRenderer'},{dataIndex:'annee_budgetaire',header:'LF'},{dataIndex:'montant_effectif',header:'Montant',aggregator:'sum',settings:{allowed:'aggregate',aggregators:['sum'],formatters:{0:'number("0")','0,000':'number("0,000")'}}},{dataIndex:'est_complement',header:'Complment de crdit ?'},{dataIndex:'nbre_ups_concernees',header:'Nbre UP',aggregator:'sum',formatter:'number("0,000")',settings:{allowed:['aggregate'],aggregators:['sum'],style:{fontWeight:'bold'},formatters:{0:'number("0")','0,000':'number("0,000")'}}},{dataIndex:'nbre_salles_concernees',header:'Nbre Salles',aggregator:'sum',formatter:'number("0,000")',settings:{allowed:['aggregate'],aggregators:['sum'],style:{fontWeight:'bold'},formatters:{0:'number("0")','0,000':'number("0,000")'}}}]}},matrix:{type:'local',enableLocking:!0,textRowLabels:'',compactViewColumnWidth:210,viewLayoutType:'compact',calculateAsExcel:!0,textGrandTotalTpl:'Total',colGrandTotalsPosition:'first',colSubTotalsPosition:'none',aggregate:[{dataIndex:'montant_effectif',header:'Montant Dlgu',aggregator:'sum',align:'center',renderer:Ext.util.Format.numberRenderer('0,000'),width:95}],leftAxis:[{dataIndex:'region_order',header:'Rgion',labelRenderer:'orderedLabelRenderer',width:230},{dataIndex:'province_order',header:'P/P',labelRenderer:'orderedLabelRenderer',width:230}],topAxis:[{dataIndex:'plan_actions',header:'PA',labelRenderer:'yearLabelRenderer'},{dataIndex:'axe_intervention',header:'Axe'}]}}}},0,['delegationspivot'],['widget','component','container','panel','delegationspivot'],{'widget':!0,'component':!0,'container':!0,'panel':!0,'delegationspivot':!0},['widget.delegationspivot'],0,[App.view.stats.delegation,'Pivot'],0);Ext.cmd.derive('App.view.stats.delegation.PivotController',App.view.widgets.PivotController,{},0,0,0,0,['controller.delegationspivot'],0,[App.view.stats.delegation,'PivotController'],0);Ext.cmd.derive('App.view.stats.delegation.PivotModel',Ext.app.ViewModel,{stores:{sousdelegations:{type:'sousdelegations',pageSize:0,autoLoad:!0,proxy:{type:'direct',api:{prefix:'Server.sousdelegations',create:'insert',read:'list',update:'update',destroy:'remove'},reader:{type:'json',rootProperty:'data',messageProperty:'message'},extraParams:{scope:'nested'}}}}},0,0,0,0,['viewmodel.delegationspivot'],0,[App.view.stats.delegation,'PivotModel'],0);Ext.cmd.derive('App.view.stats.delegation.StatsView',App.view.widgets.TabsView,{items:{header:{items:{title:{html:'<div class="name">Situation des Crdits Dlgus</div>'}}},container:{items:[{title:'Tableau Crois Dynamique',layout:'fit',items:[{xtype:'delegationspivot'}]}]}}},0,['delegationsstats'],['widget','component','container','delegationsstats'],{'widget':!0,'component':!0,'container':!0,'delegationsstats':!0},['widget.delegationsstats'],0,[App.view.stats.delegation,'StatsView'],0);Ext.cmd.derive('App.view.tablet.delegation.Browse',App.view.delegation.Browse,{controller:'tablet-delegationbrowse',bind:{title:'Dlgations - {count} affichs'},tbar:{xtype:'delegationbrowsetoolbar'},layout:'fit',items:[{xtype:'grid',reference:'delegationsList',emptyText:'Aucune dlgation correspondante  votre recherche',loadingText:'Chargement...',bind:'{delegations}',ui:'listing',syncRowHeight:!1,grouped:!0,groupHeader:{tpl:'{name} ({count})'},title:' ',titleBar:{shadow:!1,docked:'bottom',items:[{align:'right',xtype:'button',iconCls:'x-fa fa-download',tooltip:'Exporter sous excel',handler:'exportToXlsx'}]},plugins:{listpaging:{autoPaging:!1},gridviewoptions:!0,gridexporter:!0,gridfilters:!0},listeners:{documentsave:'onDocumentSave',beforedocumentsave:'onBeforeDocumentSave',childdoubletap:'onChildActivate'},columnLines:!0,rowLines:!0,loadMask:!0,multiColumnSort:!1,selectable:{rows:!0},columns:[{xtype:'datecolumn',text:'Date Dlgation',dataIndex:'date_delegation',align:'center',width:150,exportStyle:{format:'Medium Date'},format:'d/m/Y'},{text:'Libell',dataIndex:'libelle',align:'center',flex:1,filterType:'list',cell:{encodeHtml:!1},tpl:['<a class="item-title" href="#{url}">{libelle}</a>']},{text:'Nature Affectation',dataIndex:'nature_affectation',align:'center',width:150,filterType:'list'},{text:'Montant',dataIndex:'montant',xtype:'numbercolumn',align:'right',summary:'sum',width:150,exportStyle:{format:'General Number',alignment:{horizontal:'Right'}}},{text:'Objet de Dlgation',dataIndex:'delegationscount',align:'center',flex:1,cell:{encodeHtml:!1},tpl:['<a href="#depenses/delegation/{id}">','<b>{provincescount} P/P</b>','<div class="item-caption">Pour {unitescount:plural("UP")} / {sallescount:plural("Salle")}','</div>','</a>']},{text:'Observations',dataIndex:'observations',flex:1}]}]},0,0,['widget','component','container','panel','browse','delegationbrowse'],{'widget':!0,'component':!0,'container':!0,'panel':!0,'browse':!0,'delegationbrowse':!0},0,0,[App.view.tablet.delegation,'Browse'],0);Ext.cmd.derive('App.view.tablet.delegation.BrowseController',App.view.delegation.BrowseController,{onCreate:function(){var a=Ext.create('App.model.Delegation');Ext.create({xtype:'delegationcreate',record:a,centered:!0,floated:!0,modal:!0,ui:'dialog',toolbar:{docked:'bottom'}}).show()}},0,0,0,0,['controller.tablet-delegationbrowse'],0,[App.view.tablet.delegation,'BrowseController'],0);Ext.cmd.derive('App.view.tablet.delegation.BrowseToolbar',App.view.widgets.BrowseToolbar,{items:{lf:{xtype:'combobox',weight:10,valueField:'value',displayField:'value',placeholder:'Anne Budgtaire',queryMode:'local',bind:{selection:'{filters.annee}',store:'{annees}'}},nature:{xtype:'combobox',weight:11,valueField:'label',displayField:'label',placeholder:'Toute Affectation',queryMode:'local',bind:{selection:'{filters.nature_affectation}',store:'{nature_affectations}'}},toggleGrouping:{handler:'onToggleGroupTap',tooltip:'Grouper',bind:{iconCls:'{toogleGroupIconCls}'},weight:30}}},0,0,['widget','component','container','toolbar'],{'widget':!0,'component':!0,'container':!0,'toolbar':!0},0,0,[App.view.tablet.delegation,'BrowseToolbar'],0);Ext.cmd.derive('App.view.tablet.depense.BrowseController',App.view.depense.BrowseController,{},0,0,0,0,['controller.tablet-depensebrowse'],0,[App.view.tablet.depense,'BrowseController'],0);Ext.cmd.derive('App.view.tablet.user.BrowseController',App.view.user.BrowseController,{},0,0,0,0,['controller.tablet-userbrowse'],0,[App.view.tablet.user,'BrowseController'],0);Ext.cmd.derive('App.view.transfert.procedures.ProceduresWizard',App.view.widgets.Wizard,{viewModel:{type:'transfertprocedureswizard'},controller:{type:'transfertprocedureswizard'},bind:{title:"Etat d'avancement de {record.label}"},closable:!1,screens:[{title:'Informations gnrales',iconCls:'x-fa fa-info',defaults:{labelAlign:'left',labelWidth:150,width:515},layout:{type:'vbox',align:'start',pack:'start'},items:[{xtype:'textfield',label:"Titre de l'Opration",autoCapitalize:!0,bind:'{record.label}'},{xtype:'datepickerfield',label:'Dbut',dateFormat:'d/m/Y',bind:'{record.date_debut}'},{xtype:'datepickerfield',dateFormat:'d/m/Y',label:'Fin',bind:'{record.date_fin}'}]},{title:'Commission technique',iconCls:'x-fa fa-users',selected:!0,defaults:{labelAlign:'left',boxLabelAlign:'before',labelWidth:515,width:515},layout:{type:'vbox',align:'start',pack:'start'},items:[{xtype:'checkbox',boxLabel:'Etape 1: Arrt gubernatorial portant cration de la commission technique est sign ?',bind:{value:'{record.arrete_commission_signe}',checked:'{record.arrete_commission_signe}'}},{xtype:'datepickerfield',label:"Date de signature de l'arrt",dateFormat:'d/m/Y',labelWidth:497,width:625,bind:{value:'{record.date_signature_arrete_commission}',hidden:'{!record.arrete_commission_signe}'}},{xtype:'checkbox',boxLabel:'Etape 2: Etablissement et vrification de la situation financire des UP avec la Fondation ?',bind:{value:'{record.situation_financiere_etablie}',checked:'{record.situation_financiere_etablie}'}},{xtype:'checkbox',boxLabel:'Etape 3: P.V de la commission technique tablissant la liste des UP  transfrer est sign ?',bind:{value:'{record.pv_transfert_signe}',checked:'{record.pv_transfert_signe}'}},{xtype:'datepickerfield',label:'Date de signature du P.V de transfert',dateFormat:'d/m/Y',labelWidth:497,width:625,bind:{value:'{record.date_signature_pv_transfert}',hidden:'{!record.pv_transfert_signe}'}}]},{title:'Convention du transfert',iconCls:'x-fa fa-file-signature',defaults:{labelAlign:'left',boxLabelAlign:'before',labelWidth:400,width:400},layout:{type:'vbox',align:'start',pack:'start'},items:[{xtype:'checkbox',boxLabel:'Etape 4.a: Convention envoye pour signature ?',bind:{value:'{record.convention_envoyee}',checked:'{record.convention_envoyee}'}},{xtype:'datepickerfield',label:"Date d'envoi de la convention pour signature",dateFormat:'d/m/Y',labelWidth:452,width:580,bind:{value:'{record.date_envoi_convention}',hidden:'{!record.convention_envoyee}'}},{xtype:'checkbox',boxLabel:'Etape 4.b: Convention est signe par la FP ?',bind:{value:'{record.convention_signee_fp}',checked:'{record.convention_signee_fp}'}},{xtype:'checkbox',boxLabel:"           Convention est signe par l'AREF ?",bind:{value:'{record.convention_signee_aref}',checked:'{record.convention_signee_aref}'}},{xtype:'checkbox',boxLabel:'Convention est signe par M. le Gouverneur ?',bind:{value:'{record.convention_signee}',checked:'{record.convention_signee}'}},{xtype:'datepickerfield',label:'Date de signature de la convention tripartite',dateFormat:'d/m/Y',labelWidth:452,width:580,bind:{value:'{record.date_signature_convention}',hidden:'{!record.convention_signee}'}},{xtype:'spinnerfield',label:'Nbre des UP objet de la convention',stepValue:1,cycle:!0,labelWidth:497,width:625,bind:{value:'{record.nbre_ups_retenues_conventions}',hidden:'{!record.convention_envoyee && !record.convention_signee}'}},{xtype:'spinnerfield',label:'     dont UP Ouvertes avec Crdits rgulariss 100%',stepValue:1,cycle:!0,labelWidth:497,width:625,bind:{value:'{record.nbre_ups_retenues_conv_cat1}',hidden:'{!record.convention_envoyee && !record.convention_signee}'}},{xtype:'spinnerfield',label:'     dont UP Ouvertes restantes',stepValue:1,cycle:!0,labelWidth:497,width:625,bind:{value:'{record.nbre_ups_retenues_conv_cat2}',hidden:'{!record.convention_envoyee && !record.convention_signee}'}},{xtype:'spinnerfield',label:'     dont UP en cours de ralisation',stepValue:1,cycle:!0,labelWidth:497,width:625,bind:{value:'{record.nbre_ups_retenues_conv_cat3}',hidden:'{!record.convention_envoyee && !record.convention_signee}'}},{xtype:'textareafield',label:'Observations',labelAlign:'top',width:580,bind:{value:'{record.observations}'}}]},{title:'Crdits de fonctionnement',iconCls:'x-fa fa-money-bill',defaults:{labelAlign:'left',boxLabelAlign:'before',labelWidth:500,width:500},layout:{type:'vbox',align:'start',pack:'start'},items:[{xtype:'checkbox',boxLabel:'Besoin de crdits  solliciter auprs de la CN-INDH ?',bind:{value:'{record.besoin_delegation_credits}',checked:'{record.besoin_delegation_credits}'}},{xtype:'spinnerfield',label:'Crdits requis',stepValue:1000,labelWidth:485,width:620,bind:{value:'{record.credits_requis}',hidden:'{!record.besoin_delegation_credits}'}},{xtype:'datepickerfield',label:"Date d'envoi de la demande de dlgation des crdits",labelWidth:485,width:620,dateFormat:'d/m/Y',bind:{value:'{record.date_demande_delegation_credits}',hidden:'{!record.besoin_delegation_credits}'}},{xtype:'checkbox',boxLabel:"Le versement du montant en question ncessite-il l'laboration d'un avenant/convention ?",bind:{value:'{record.convention_versement_credits_requis}',checked:'{record.conv_verser_credits_requis}',hidden:'{!record.besoin_delegation_credits}'}},{xtype:'textareafield',label:'Observations A/S crdits de fonctionnement',labelAlign:'top',width:620,bind:{value:'{record.comments_credits_fonctionnement}'}}]}]},0,['transfertcreate','transfertedit','transfertwizard'],['widget','component','container','panel','fieldpanel','formpanel','transfertwizard','transfertcreate','transfertedit'],{'widget':!0,'component':!0,'container':!0,'panel':!0,'fieldpanel':!0,'formpanel':!0,'transfertwizard':!0,'transfertcreate':!0,'transfertedit':!0},['widget.transfertcreate','widget.transfertedit','widget.transfertwizard'],0,[App.view.transfert.procedures,'ProceduresWizard'],0);Ext.cmd.derive('App.view.transfert.procedures.WizardController',App.view.widgets.WizardController,{control:{'#':{reset:'reset'}},config:{firstTime:!0},reset:function(){},refresh:function(){}},0,0,0,0,['controller.transfertprocedureswizard'],0,[App.view.transfert.procedures,'WizardController'],0);Ext.cmd.derive('App.view.transfert.procedures.WizardModel',Ext.app.ViewModel,{data:{record:null,user:null},stores:{}},0,0,0,0,['viewmodel.transfertprocedureswizard'],0,[App.view.transfert.procedures,'WizardModel'],0);Ext.cmd.derive('App.view.transfert.suivi.Browse',App.view.widgets.Browse,{fields:{id:{property:'id'},est_obsolete:{property:'est_obsolete'},province:{property:'province_code'}},controller:'transfertbrowse',viewModel:{type:'transfertbrowse'},cls:'transfertbrowse',tbar:{xtype:'transfertbrowsetoolbar'},bind:{title:"Suivi de l'Opration du transfert des UP",store:'{transferts}'},items:[{xtype:'grid',reference:'transfertsList',bind:'{transferts}',listeners:{documentsave:'onDocumentSave',beforedocumentsave:'onBeforeDocumentSave',complete:'onCompleteEdit',beforeedit:'onBeforeEdit'},cls:'sheet',emptyText:'Aucune P/P correspondante  votre recherche',loadingText:'Chargement...',ui:'listing',grouped:!0,groupHeader:{tpl:'Rgion de {name:substr(5)}'},groupFooter:{xtype:'gridsummaryrow'},plugins:{gridcellediting:{selectOnEdit:!0},gridexporter:!0,gridviewoptions:!0,gridfilters:!0,gridsummaryrow:{bind:{hidden:'{user.role > 1}'}}},loadMask:!0,columnLines:!0,rowLines:!0,selectable:{rows:!1,cells:!0},itemConfig:{viewModel:{type:'inputRowViewModel'}},columns:[{text:'P/P',dataIndex:'province',width:200,align:'center',filter:{type:'list',sorted:!0,sortDirection:'ASC',menu:{items:{list:{multiSelect:!0,valueField:'label',displayField:'label',placeholder:'Choisir P/P',store:{type:'provinces'}}}}}},{text:'Libell',dataIndex:'label',minWidth:160,align:'center',cell:{encodeHtml:!1,cls:'province-cell',bind:{bodyCls:'{obsoleteCls}'}},tpl:['<a class="item-title" href="#{url}/edit">{label}</a>']},{text:'Travaux de la Commission technique',bind:{hidden:'{user.role > 1}'},columns:[{text:'Arrete commission sign',dataIndex:'arrete_commission_signe',xtype:'booleancolumn',exportRenderer:!0,trueText:'X',falseText:'-',summary:'sum',align:'center',bind:{hidden:'{user.role > 1}'}},{text:'Date signature arrete commission',dataIndex:'date_signature_arrete_commission',xtype:'datecolumn',align:'center',exportStyle:{format:'General Date'},format:'d/m/Y',filter:'date',bind:{hidden:'{user.role > 1}'}},{text:'Situation financiere tablie',dataIndex:'situation_financiere_etablie',xtype:'booleancolumn',exportRenderer:!0,trueText:'X',falseText:'-',summary:'sum',align:'center',bind:{hidden:'{user.role > 1}'}},{text:'PV transfert sign',dataIndex:'pv_transfert_signe',xtype:'booleancolumn',exportRenderer:!0,trueText:'X',falseText:'-',summary:'sum',align:'center',bind:{hidden:'{user.role > 1}'}},{text:'Date signature PV transfert',dataIndex:'date_signature_pv_transfert',xtype:'datecolumn',align:'center',exportStyle:{format:'General Date'},format:'d/m/Y',filter:'date',bind:{hidden:'{user.role > 1}'}}]},{text:'Convention du Transfert',bind:{hidden:'{user.role > 1}'},columns:[{text:'Convention envoye',dataIndex:'convention_envoyee',xtype:'booleancolumn',exportRenderer:!0,trueText:'X',falseText:'-',summary:'sum',align:'center',bind:{hidden:'{user.role > 1}'}},{text:'Date envoi convention',dataIndex:'date_envoi_convention',xtype:'datecolumn',align:'center',exportStyle:{format:'General Date'},format:'d/m/Y',filter:'date',bind:{hidden:'{user.role > 1}'}},{text:'Signature de la Conv.',columns:[{text:'FP',dataIndex:'convention_signee_fp',xtype:'booleancolumn',exportRenderer:!0,trueText:'X',falseText:'-',summary:'sum',align:'center',bind:{hidden:'{user.role > 1}'}},{text:'AREF',dataIndex:'convention_signee_aref',xtype:'booleancolumn',exportRenderer:!0,trueText:'X',falseText:'-',summary:'sum',align:'center',bind:{hidden:'{user.role > 1}'}},{text:'P/P',dataIndex:'convention_signee',xtype:'booleancolumn',exportRenderer:!0,trueText:'X',falseText:'-',summary:'sum',align:'center',bind:{hidden:'{user.role > 1}'}}]},{text:'Date signature convention',dataIndex:'date_signature_convention',xtype:'datecolumn',align:'center',exportStyle:{format:'General Date'},format:'d/m/Y',filter:'date',bind:{hidden:'{user.role > 1}'}},{text:'UP Objet de la Convention',columns:[{text:'Total',dataIndex:'nbre_ups_retenues_conventions',xtype:'numbercolumn',align:'center',format:'0',summary:'sum'},{text:'dont UP Ouvertes avec Crdits rgulariss 100%',dataIndex:'nbre_ups_retenues_conv_cat1',xtype:'numbercolumn',align:'center',format:'0',summary:'sum'},{text:'dont UP Ouvertes restantes',dataIndex:'nbre_ups_retenues_conv_cat2',xtype:'numbercolumn',align:'center',format:'0',summary:'sum'},{text:'dont UP en cours de ralisation',dataIndex:'nbre_ups_retenues_conv_cat3',xtype:'numbercolumn',align:'center',format:'0',summary:'sum'}]},{text:'Observations',dataIndex:'observations',bind:{hidden:'{user.role > 1}'}}]},{text:'Total UP Ouvertes ( titre comparative)',dataIndex:'total_up_ouvertes',xtype:'numbercolumn',align:'center',format:'0',summary:'sum'},{text:'Transfert et situation financire',columns:[{text:'Nbre UP transfres (coches)',dataIndex:'trans_retenue_phase1',xtype:'numbercolumn',align:'center',format:'0',summary:'sum'},{text:'dont UP dont crdits rgulariss (coches)',dataIndex:'trans_situation_financiere_regularisee',xtype:'numbercolumn',align:'center',format:'0',summary:'sum'}]},{text:'Crdits de fonctionnement',bind:{hidden:'{user.role > 1}'},columns:[{text:'Besoin dlgation crdits',dataIndex:'besoin_delegation_credits',xtype:'booleancolumn',exportRenderer:!0,trueText:'X',falseText:'-',summary:'sum',align:'center',bind:{hidden:'{user.role > 1}'}},{text:'Crdits requis',dataIndex:'credits_requis',xtype:'numbercolumn',format:'0,000.00',filter:'number',width:100,align:'right',summary:'sum',exportStyle:{format:'General Number',alignment:{horizontal:'Right'}}},{text:'Date demande dlgation crdits',dataIndex:'date_demande_delegation_credits',xtype:'datecolumn',align:'center',exportStyle:{format:'General Date'},format:'d/m/Y',filter:'date',bind:{hidden:'{user.role > 1}'}}]},{xtype:'datecolumn',text:'Date dernire modification',dataIndex:'updated',align:'center',exportStyle:{format:'General Date'},format:'d/m/Y',filter:'date'},{text:'Situation Obsolte ?',dataIndex:'est_obsolete',align:'center',xtype:'booleancolumn',exportRenderer:!0,trueText:'Oui',falseText:'-',bind:{hidden:'{user.role > 1}'}},{text:'Auteur Modif.',dataIndex:'modified_by',filter:'string',bind:{hidden:'{user.role > 1}'}}]}]},0,['transfertbrowse'],['widget','component','container','panel','browse','transfertbrowse'],{'widget':!0,'component':!0,'container':!0,'panel':!0,'browse':!0,'transfertbrowse':!0},['widget.transfertbrowse'],0,[App.view.transfert.suivi,'Browse'],0);Ext.cmd.derive('App.view.transfert.suivi.BrowseController',App.view.widgets.BrowseController,{control:{'#':{reset:'refresh'}},init:function(){App.view.widgets.BrowseController.prototype.init.apply(this,arguments)},refresh:function(){var a=this.getViewModel()},exportToXlsx:function(){var b=this,c=this.getView(),a=this.getViewModel().getStore('transferts');if(a.getPageSize()===0){b._exportGrid('transfertsList')}else {a.setPageSize(0);a.load({scope:b,callback:function(){b._exportGrid('transfertsList')}})}},onCreate:function(){this.redirectTo('transfert/create')},onStoreChange:function(b,d,a,c){this.updateFilters(!0)}},0,0,0,0,['controller.transfertbrowse'],0,[App.view.transfert.suivi,'BrowseController'],0);Ext.cmd.derive('App.view.transfert.suivi.BrowseModel',Ext.app.ViewModel,{data:{user:null,province:null},stores:{transferts:{type:'transferts',autoLoad:!0,pageSize:0,clearOnPageLoad:!1,remoteFilter:!1,remoteSorter:!1,grouper:[{property:'region_order'}],sorters:[{property:'province_order',direction:'ASC'}],listeners:{refresh:'onStoreRefresh',buffer:100}},regions:{type:'regions',autoLoad:!0},provinces:{type:'provinces',autoLoad:!0}}},0,0,0,0,['viewmodel.transfertbrowse'],0,[App.view.transfert.suivi,'BrowseModel'],0);Ext.cmd.derive('App.view.transfert.suivi.BrowseToolbar',App.view.widgets.BrowseToolbar,{shadow:!0,items:{speech:null,search:null,clear:null,refresh:null,'export':{xtype:'button',iconCls:'x-fa fa-download',text:'Exporter sous excel',handler:'exportToXlsx',weight:40,bind:{hidden:'{user.role > 1}'}},create:{xtype:'button',iconCls:'x-fa fa-plus',handler:'onCreate',text:'Ajouter Opration',weight:50,bind:{disabled:'{user.role > 1}'}},help:{weight:60,ui:'flat',html:"Cliquer sur le lien d'une opration pour consulter/modifier le dtail"}}},0,['transfertbrowsetoolbar'],['widget','component','container','toolbar','transfertbrowsetoolbar'],{'widget':!0,'component':!0,'container':!0,'toolbar':!0,'transfertbrowsetoolbar':!0},['widget.transfertbrowsetoolbar'],0,[App.view.transfert.suivi,'BrowseToolbar'],0);Ext.cmd.derive('App.view.transfert.unites.View',App.view.widgets.Browse,{controller:'transfertunitesgrid',viewModel:{type:'unitebrowse'},bind:{title:'Liste des UPs objet de transfert',store:'{unites}'},fields:{id:{property:'id'},plan_actions:{property:'plan_actions'},fondation_partenaire:{property:'fondation_partenaire'},region:{property:'region'},province:{property:'province'}},layout:'fit',tbar:{shadow:!0,docked:'top',items:[{xtype:'button',iconCls:'x-fa fa-save',text:'Sauvegarder',handler:'onSave',align:'left'},{xtype:'button',iconCls:'x-fa fa-download',text:'Exporter sous excel',handler:'exportToXlsx',align:'left'},'->',{html:'Les colonnes en bleu sont  renseigner',ui:'flat'}]},items:[{xtype:'grid',reference:'unitesList',bind:'{unites}',listeners:{documentsave:'onDocumentSave',beforedocumentsave:'onBeforeDocumentSave',complete:'onCompleteEdit',beforeedit:'onBeforeEdit'},cls:'sheet',emptyText:'Aucune UP',loadingText:'Chargement...',ui:'listing',grouped:!0,groupHeader:{tpl:'{name} ({count} UPs)'},platformConfig:{desktop:{plugins:{gridcellediting:{selectOnEdit:!0},gridexporter:!0,gridviewoptions:!0,gridfilters:!0,gridsummaryrow:{bind:{hidden:'{user.role > 1}'}}}},'!desktop':{plugins:{grideditable:!0,gridexporter:!0}}},loadMask:!0,columnLines:!0,rowLines:!0,markDirty:!0,selectable:{rows:!1,cells:!0},columns:[{text:'FP ID',dataIndex:'fp_id',hidden:!0},{text:'P/P',dataIndex:'province_code',align:'center',groupable:!0,summary:'none',width:120,renderer:function(b,a){return a.get('province')},exportRenderer:!0,filter:{type:'list',property:'province_code',sorted:!0,sortDirection:'ASC',menu:{items:{list:{multiSelect:!0,valueField:'value',displayField:'label',placeholder:'Choisir P/P',store:{type:'provinces'}}}}}},{text:"Plan d'actions",dataIndex:'plan_actions',align:'center',locked:!0,groupable:!0,summary:'none',width:65,filter:{type:'list',sorted:!0,sortDirection:'ASC',menu:{items:{list:{multiSelect:!0,valueField:'value',displayField:'value',placeholder:'Choisir PAs',store:{type:'annees'}}}}}},{text:'FP',align:'center',dataIndex:'fp_code',width:60,locked:!0,summary:'none',renderer:function(b,a){return a.get('fondation_partenaire')},exportRenderer:!0,filter:{type:'list',sorted:!0,sortDirection:'ASC',menu:{items:{list:{multiSelect:!0,valueField:'value',displayField:'label',placeholder:'Choisir FP',store:{type:'fondations'}}}}}},{text:'Commune',dataIndex:'commune_label',align:'center',locked:!0,width:100,filter:{type:'list',sorted:!0,sortDirection:'ASC',menu:{items:{list:{multiSelect:!0}}}}},{text:'UP',dataIndex:'intitule',align:'center',width:180,summary:'count',filter:{type:'list',sorted:!0,sortDirection:'ASC',menu:{items:{list:{multiSelect:!0}}}}},{text:'Nbre Salles',dataIndex:'nbre_salles',align:'center',xtype:'numbercolumn',format:'0',summary:'sum',width:60,filter:'number'},{text:'Statut physique ?',dataIndex:'statut',userCls:'writable',width:180,align:'center',editable:!0,exportRenderer:!0,filter:{type:'list',sorted:!0,sortDirection:'ASC',menu:{items:{list:{multiSelect:!0,valueField:'value',displayField:'value',placeholder:'Choisir un statut',store:{type:'statuts'}}}}},editor:{xtype:'selectfield',displayField:'value',valueField:'value',store:{type:'statuts'}}},{text:'Ouverture (selon FP)',dataIndex:'est_ouverte',align:'center',xtype:'booleancolumn',trueText:'Oui',falseText:'',summary:'sum',width:75},{xtype:'datecolumn',text:"Date d'Ouverture",dataIndex:'date_ouverture',exportStyle:{format:'Medium Date',alignment:{horizontal:'Center'}},width:90,format:'d/m/Y'},{xtype:'numbercolumn',text:'Age en nbre de mois (calc. auto.)',dataIndex:'age_mois',align:'center',format:'0',filter:'number',summary:'none',width:58},{xtype:'checkcolumn',text:'>= 2 ans de service (fin 2023)',dataIndex:'accomplissement_2ans_2023',align:'center',summary:'sum',hidden:!0,width:90},{xtype:'checkcolumn',text:'En Arrt ?',dataIndex:'est_en_arret',userCls:'writable',align:'center',summary:'sum',width:51},{text:"1re Vague de l'Opration du transfert",userCls:'writable',columns:[{xtype:'checkcolumn',text:'Fiche technique finalise ?',dataIndex:'trans_fiche_completee',headerCheckbox:!0,summary:'sum',userCls:'writable',width:80,bind:{hidden:'{user.role != 3}'}},{text:'Fiche technique finalise ?',dataIndex:'trans_fiche_completee',userCls:'writable',width:80,bind:{hidden:'{user.role == 3}'}},{xtype:'checkcolumn',text:'Situation financire rgularise ?',dataIndex:'trans_situation_financiere_regularisee',headerCheckbox:!0,userCls:'writable',width:90,bind:{hidden:'{user.role != 3}'}},{text:'Situation financire rgularise ?',dataIndex:'trans_situation_financiere_regularisee',summary:'sum',userCls:'writable',width:90,bind:{hidden:'{user.role == 3}'}},{xtype:'checkcolumn',text:' Transfrer ?',dataIndex:'trans_retenue_phase1',headerCheckbox:!0,userCls:'writable',width:80,bind:{hidden:'{user.role != 3}'}},{text:' Transfrer ?',dataIndex:'trans_retenue_phase1',summary:'sum',userCls:'writable',width:80,bind:{hidden:'{user.role == 3}'}},{text:'Observations',dataIndex:'comments',align:'left',minWidth:300,editable:!0,userCls:'writable',filter:'string'}]}]}]},0,['transfertunitesgrid'],['widget','component','container','panel','browse','transfertunitesgrid'],{'widget':!0,'component':!0,'container':!0,'panel':!0,'browse':!0,'transfertunitesgrid':!0},['widget.transfertunitesgrid'],0,[App.view.transfert.unites,'View'],0);Ext.cmd.derive('App.view.transfert.unites.ViewController',App.view.widgets.BrowseController,{init:function(){App.view.widgets.BrowseController.prototype.init.apply(this,arguments);var c=this.getViewModel();var b=App.util.State.get('session');var a=b.user;if(a){c.set('province',a.province||a.region)}},refresh:function(){var a=this.getViewModel()},_exportToXlsx:function(a,c,b){if(!a){return}a.saveDocumentAs({type:'xlsx',title:c,author:'Mohamed DIDI',fileName:b+'.xlsx',includeGroups:!0,includeSummary:!0})},exportToXlsx:function(){var a=this,c=this.getView(),b=this.getViewModel().getStore('unites');a._exportGrid('unitesList')},summarizeProvinces:function(b,a){return 'Total'},orderedLabelRenderer:function(a){return a.split('#')[1].trim()},onBeforeEdit:function(c,b,a){},onCompleteEdit:function(a,f,c,d,e){var b=a.ownerCmp.row;b.refresh()},onRAS:function(){var b=this.getView(),a=this.getViewModel().getStore('unites');var e=new Date();a.each(function(a){a.set('date_situation',e)});var c=a.getModifiedRecords();var d=[];b.mask({xtype:'loadmask',message:'Enregistrement ...'});try{if(c){d=c.map(function(a){var b=a.get('province')+' / PA '+a.get('plan_actions');return {object:b,subject:'RAS'}})}}catch(f){console.log(f)}a.sync({success:function(c,a){b.unmask();App.ux.Signals.showSuccess('Opration russie')},failure:function(c,d){b.unmask();var a=c.getExceptions().map(function(a){return a.getError()}).join('. ');App.ux.Signals.showWarning('Opration chec :'+a,!0)}})},onForceSave:function(b,a){this.onSave(null,a,!0)},onSave:function(f,g){var h=this,b=this.getView(),c=this.getViewModel().getStore('unites'),a=c.getModifiedRecords(),d=[];var e=a.length;if(!e){App.ux.Signals.showWarning("Vous n'avez rien modifi !",!1);return}b.mask({xtype:'loadmask',message:'Enregistrement ...'});try{if(a){d=a.map(function(a){var c=a.modified;var d=a.get('province')+' / PA '+a.get('plan_actions');var b='<ul>';Object.keys(c).forEach(function(c){b+='<li><b>'+c+' :</b> &nbsp;'+a.getModified(c)+'&nbsp; -> '+a.get(c);b+='</li>'});b+='</ul>';return {object:d,subject:b}})}}catch(i){console.log(i)}c.sync({success:function(c,a){console.log('success',arguments);b.unmask();App.ux.Signals.showSuccess('Modification russie')},failure:function(c,d){b.unmask();var a=c.getExceptions().map(function(a){a.getError()}).join('. ');App.ux.Signals.showWarning('Opration chec :'+a,!0)}})}},0,0,0,0,['controller.transfertunitesgrid'],0,[App.view.transfert.unites,'ViewController'],0);Ext.cmd.derive('App.view.unite.BrowseModel',Ext.app.ViewModel,{data:{groupBy:null,sortOrder:null,filteredBy:null,showEffectifs:!1},stores:{unites:{type:'unites',remoteGroup:!1,remoteFilter:!0,remoteSort:!1,pageSize:0,clearOnPageLoad:!1,sorters:[{property:'plan_actions',direction:'ASC'},{property:'commune',direction:'ASC'},{property:'province_code',direction:'ASC'}],grouper:{groupFn:function(a){return 'P/P '+a.get('province')}},listeners:{refresh:'onStoreRefresh',buffer:100},proxy:{type:'direct',api:{prefix:'Server.unites',create:'insert',read:'list',update:'update',destroy:'remove'},reader:{type:'json',rootProperty:'data',messageProperty:'message'},extraParams:{scope:"{showEffectifs ? 'browse_effectifs' : 'browse'}"}},updateProxy:function(a){a&&a.onAfter('extraparamschanged',this.load,this)}},annees:{type:'annees',autoLoad:!0},regions:{type:'regions',autoLoad:!0},provinces:{type:'provinces',autoLoad:!0},fondations:{type:'fondations',autoLoad:!0}}},0,0,0,0,['viewmodel.unitebrowse'],0,[App.view.unite,'BrowseModel'],0);Ext.cmd.derive('App.view.unite.Wizard',App.view.widgets.Wizard,{viewModel:{type:'unitewizard'},controller:{type:'unitewizard'},cls:'unitewizard',bind:{title:'{record.phantom? "Ajouter" : "Modifier"} UP << {record.intitule} >>'},width:700,closable:!1,toolbar:{items:{remove:{xtype:'button',iconCls:'x-fa fa-remove',cls:'no-print',handler:'onDeleteTap',text:'Supprimer',weight:30,ui:'action',bind:{hidden:'{record.phantom}'}}}},screens:[{title:'Localisation',iconCls:'x-fa fa-map-marker-alt',defaults:{labelAlign:'left',boxLabelAlign:'before',width:500,labelWidth:300},items:[{xtype:'selectfield',label:'Province',displayField:'label',valueField:'value',queryMode:'local',required:!0,bind:{value:'{record.province_code}',store:'{provinces}'}},{xtype:'selectfield',label:'Cercle',displayField:'label',valueField:'value',queryMode:'local',bind:{value:'{record.cercle_code}',store:'{cercles}'}},{xtype:'textfield',label:'Cadat',autoCapitalize:!0,bind:'{record.annexe_administrative}'},{xtype:'combobox',label:'Commune',displayField:'label',valueField:'id',queryMode:'local',bind:{value:'{record.commune_code}',store:'{communes}'}},{xtype:'textfield',label:'Douar',autoCapitalize:!0,required:!0,bind:'{record.douar_quartier}'},{xtype:'checkbox',boxLabel:"Situe  l'intrieur d'une cole ?",bind:'{record.dans_ecole}'},{xtype:'textfield',bind:{label:"{record.dans_ecole ? 'Ecole hte' : 'Adresse'}",value:'{record.adresse}'}},{xtype:'container',autoSize:!0,layout:'vbox',width:'auto',defaults:{labelAlign:'left',width:500,labelWidth:300},items:[{xtype:'numberfield',label:'Latitude',bind:'{record.location.latitude}'},{xtype:'numberfield',label:'Longitude',bind:'{record.location.longitude}'}]}]},{title:'Projet',iconCls:'x-fa fa-info',defaults:{labelAlign:'left',width:500,labelWidth:300},items:[{xtype:'textfield',label:'Intitul',autoCapitalize:!0,required:!0,width:'auto',bind:'{record.intitule}'},{xtype:'selectfield',label:"Plan d'Actions",displayField:'value',valueField:'value',queryMode:'local',required:!0,bind:{value:'{record.plan_actions}',store:'{annees}'}},{xtype:'selectfield',label:"Programme Support d'imputation",displayField:'value',valueField:'value',queryMode:'local',bind:{value:'{record.programme}',store:'{programmes}',hidden:'{user.role === 4}'}},{xtype:'combobox',label:'Fondation Partenaire',displayField:'label',valueField:'value',queryMode:'local',required:!0,bind:{value:'{record.fp_code}',store:'{fondations}'}},{xtype:'combobox',label:'Mode de Cration',displayField:'value',valueField:'value',queryMode:'local',bind:{value:'{record.mode_creation}',store:'{upmodes}'}},{xtype:'spinnerfield',label:'Nombre de Salles',bind:'{record.nbre_salles}',required:!0,stepValue:1,cycle:!0},{xtype:'textfield',label:'Propritaire du foncier',bind:{value:'{record.proprietaire_foncier}',hidden:'{user.role === 4}'}},{xtype:'selectfield',label:'Type du foncier',options:['Terrain priv',"Domaine priv de l'Etat","Domaine public de l'Etat",'Terrain Habous','Terrain communal','Terre collective','Domaine forestier','Autre'],bind:{value:'{record.type_foncier}',hidden:'{user.role === 4}'}},{xtype:'selectfield',label:'Mode de mobilisation du foncier',options:['Location','Affectation','Acquisition','Cession','Donation','Occupation temporaire','Expropriation','Echange','Autre'],bind:{value:'{record.mode_mobilisation_foncier}',hidden:'{user.role === 4}'}}]},{title:'Financement',iconCls:'x-fa fa-money-bill',defaults:{labelAlign:'left',width:500,labelWidth:300},items:[{xtype:'spinnerfield',label:'Cot des Travaux (y compris tudes)',stepValue:10000,bind:{value:'{record.cout_travaux}',disabled:'{user.role === 4}'}},{xtype:'spinnerfield',label:'Montant Global Dlgu',stepValue:10000,bind:{value:'{record.montant_delegue}',disabled:'{user.role === 4}'}},{xtype:'spinnerfield',label:'Montant engag',stepValue:10000,bind:{value:'{record.montant_engage}',disabled:'{user.role === 4}'}},{xtype:'spinnerfield',label:'Montant mis',stepValue:10000,bind:{value:'{record.montant_emis}',disabled:'{user.role === 4}'}}]},{title:'Suivi Physique',iconCls:'x-fa fa-eye',defaults:{labelAlign:'left',boxLabelAlign:'before',width:500,labelWidth:300},items:[{xtype:'checkbox',boxLabel:'Unit maintenue / programmation ?',bind:{value:'{record.est_programmee_pp}',checked:'{record.est_programmee_pp}',disabled:'{user.role !== 4 && user.role > 1}'}},{xtype:'selectfield',label:'Statut actuel',displayField:'value',valueField:'value',queryMode:'local',bind:{value:'{record.statut}',disabled:'{user.role === 4}',store:'{statuts}'}},{xtype:'spinnerfield',label:'% Avancement physique',minValue:0,maxValue:100,stepValue:1,bind:{value:'{record.tx_avancement_physique}',disabled:'{user.role === 4}'}},{xtype:'datepickerfield',label:'Date de Lancement March des Travaux',dateFormat:'d/m/Y',bind:{value:'{record.date_lancement_marche}',disabled:'{user.role === 4}'}},{xtype:'datepickerfield',label:"Date d'Ouverture des Plis",dateFormat:'d/m/Y',bind:{value:'{record.date_ouverture_plis}',disabled:'{user.role === 4}'}},{xtype:'datepickerfield',label:'Date de Commencement des Travaux',dateFormat:'d/m/Y',bind:{value:'{record.date_lancement_trvx}',disabled:'{user.role === 4}'}},{xtype:'spinnerfield',label:"Dlai d'excution (nbre de mois)",minValue:0,stepValue:1,bind:{value:'{record.delai_execution}',disabled:'{user.role === 4}'}},{xtype:'datepickerfield',label:'Date de Rception Provisoire',dateFormat:'d/m/Y',bind:{value:'{record.date_reception_provisoire}',disabled:'{user.role === 4}'}},{xtype:'datepickerfield',label:"Date d'Ouverture Prvisionnelle",dateFormat:'d/m/Y',bind:{value:'{record.date_ouverture_prevu}',hidden:'{user.role > 1 && record.est_ouverte}',disabled:'{user.role === 4}'}},{xtype:'checkbox',boxLabel:"Raccorde au Rseau de distrib. de l'Eau Potable ?",bind:'{record.dispose_eau}'},{xtype:'checkbox',boxLabel:'Raccorde au Rseau Assainissement Liquide ?',bind:'{record.dispose_assainissement}'},{xtype:'checkbox',boxLabel:'Raccorde au Rseau Electricit ?',bind:'{record.dispose_electricite}'},{xtype:'textareafield',label:'Observations',width:'auto',bind:{value:'{record.comment}',disabled:'{user.role === 4}'}}]},{title:'Mise en Service',iconCls:'x-fa fa-power-off',defaults:{labelAlign:'left',boxLabelAlign:'before',width:500,labelWidth:300},items:[{xtype:'checkbox',boxLabel:'Dispose Convention Signe ?',bind:{value:'{record.dispose_convention_signee}',checked:'{record.dispose_convention_signee}',disabled:'{user.role !== 4 && user.role > 1}'}},{xtype:'checkbox',boxLabel:'Unit Livre ?',bind:{value:'{record.est_livree}',checked:'{record.est_livree}',disabled:'{user.role !== 4 && user.role > 1}'}},{xtype:'checkbox',boxLabel:'Unit Ouverte ?',bind:{value:'{record.est_ouverte}',checked:'{record.est_ouverte}',disabled:'{user.role !== 4 && user.role > 1}'}},{xtype:'datepickerfield',label:"Date d'Ouverture (Mise en Service)",dateFormat:'d/m/Y',bind:{value:'{record.date_ouverture}',disabled:'{user.role !== 4 && user.role > 1}',hidden:'{!record.est_ouverte}'}},{xtype:'checkbox',boxLabel:'En Arrt ?',bind:{value:'{record.est_en_arret}',checked:'{record.est_en_arret}',disabled:'{user.role !== 4 && user.role > 1}'}},{xtype:'datepickerfield',label:"Date d'Arrt",dateFormat:'d/m/Y',bind:{value:'{record.date_arret}',disabled:'{user.role !== 4 && user.role > 1}',hidden:'{!record.est_en_arret}'}},{xtype:'textareafield',label:'Problmes de Fonctionnement',width:'auto',bind:{value:'{record.problemes_fonctionnement}',disabled:'{user.role !== 4 && user.role > 1}'}},{xtype:'textareafield',label:'Observations',width:'auto',bind:{value:'{record.fp_comments}',disabled:'{user.role !== 4 && user.role > 1}'}}]},{title:'Activit',iconCls:'x-fa fa-users',layout:'vbox',defaults:{labelAlign:'left',width:500,labelWidth:300,xtype:'spinnerfield',stepValue:1},items:[{label:'Nombre de Groupes / Classes',bind:{value:'{record.nbre_classes}',disabled:'{user.role !== 4 && user.role > 1}'}},{xtype:'fieldset',autoSize:!0,layout:'hbox',width:'auto',defaults:{xtype:'spinnerfield',stepValue:1,cycle:!0,labelAlign:'left',width:160,margin:'0 6px',labelWidth:'auto'},title:"Nombre d'Educateur/trices",margin:'25 0 0 0',items:[{label:'Total',bind:{value:'{record.nombre_educatrices_total}',disabled:'{user.role !== 4 && user.role > 1}'}},{label:'Hommes',bind:{value:'{record.nombre_educatrices_homme}',disabled:'{user.role !== 4 && user.role > 1}'}},{label:'Femmes',bind:{value:'{record.nombre_educatrices_femme}',disabled:'{user.role !== 4 && user.role > 1}'}}]},{xtype:'textfield',label:'N Tlphone / Educateurs',bind:{value:'{record.contact_educateurs}',disabled:'{user.role !== 4 && user.role > 1}'}},{xtype:'fieldset',autoSize:!0,layout:'hbox',width:'auto',defaults:{xtype:'spinnerfield',stepValue:1,cycle:!0,labelAlign:'left',width:160,margin:'0 6px',labelWidth:'auto'},title:'Effectifs Moyenne Section 2021/22',margin:'25 0 0 0',items:[{label:'Filles',bind:'{record.saison_2021_2022_moyenne_section_filles}',required:!0},{label:'Garons',bind:'{record.saison_2021_2022_moyenne_section_garcons}',required:!0},{label:'Total',bind:'{record.saison_2021_2022_total_moyenne_section}',disabled:!0}]},{xtype:'fieldset',autoSize:!0,layout:'hbox',width:'auto',title:'Effectifs Grande Section 2021/22',margin:'25 0 0 0',defaults:{xtype:'spinnerfield',stepValue:1,cycle:!0,labelAlign:'left',width:160,margin:'0 6px',labelWidth:'auto'},items:[{label:'Filles',bind:'{record.saison_2021_2022_grande_section_filles}',required:!0},{label:'Garons',bind:'{record.saison_2021_2022_grande_section_garcons}',required:!0},{label:'Total',bind:'{record.saison_2021_2022_total_grande_section}',disabled:!0}]},{xtype:'fieldset',autoSize:!0,layout:'hbox',width:'auto',title:'Suivi des Inscrits / MS',margin:'25 0 0 0',defaults:{labelAlign:'left',width:160,margin:'0 6px',labelWidth:'auto'},items:[{xtype:'spinnerfield',label:'Passs en GS',bind:'{record.ms_passe_gs}',stepValue:1,cycle:!0},{xtype:'spinnerfield',label:'Rinscrits MS',bind:'{record.ms_reinscrit_ms}',stepValue:1,cycle:!0},{xtype:'spinnerfield',label:'Passs Primaire',bind:'{record.ms_passe_primaire}',stepValue:1,cycle:!0}]},{xtype:'fieldset',autoSize:!0,layout:'hbox',width:'auto',title:'Suivi des Inscrits / GS',margin:'25 0 0 0',defaults:{labelAlign:'left',width:160,margin:'0 6px',labelWidth:'auto'},items:[{xtype:'spinnerfield',label:'Rinscrits GS',bind:'{record.gs_refait_gs}',stepValue:1,cycle:!0},{xtype:'spinnerfield',label:'Passs Primaire',bind:'{record.gs_primaire}',stepValue:1,cycle:!0}]},{xtype:'fieldset',autoSize:!0,layout:'hbox',width:'auto',title:'Arrt Scolarit',margin:'25 0 0 0',defaults:{labelAlign:'left',width:160,margin:'0 6px',labelWidth:'auto'},items:[{xtype:'spinnerfield',label:'Arrt Scolarit',bind:'{record.nbre_arret_scolarite}',stepValue:1,cycle:!0}]}]}]},0,['unitecreate','uniteedit','unitewizard'],['widget','component','container','panel','fieldpanel','formpanel','unitewizard','unitecreate','uniteedit'],{'widget':!0,'component':!0,'container':!0,'panel':!0,'fieldpanel':!0,'formpanel':!0,'unitewizard':!0,'unitecreate':!0,'uniteedit':!0},['widget.unitecreate','widget.uniteedit','widget.unitewizard'],0,[App.view.unite,'Wizard'],0);Ext.cmd.derive('App.view.unite.WizardController',App.view.widgets.WizardController,{control:{'#':{recordchange:'onRecordChange',reset:'reset'}},config:{firstTime:!0},reset:function(){},refresh:function(){},onRecordChange:function(){var f=this.getViewModel(),a=f.get('record'),b=f.getStore('images'),c=App.app.getEffectifsStore();if(a){if(!a.isPhantom()){c.filter('unite_id',a.getId())}var d=a.get('images'),e=[];if(Array.isArray(d)){d.forEach(function(a,b){e.push({id:b,src:a.src,title:a.title})});b.loadData(e)}else {b.load()}return}c.removeAll();b.removeAll()},onShow:function(){this.setFirstTime(!1);App.view.widgets.WizardController.prototype.onShow.apply(this,arguments)},onDeleteTap:function(){var b=this,c=b.getView(),a=b.getViewModel().get('record'),f='Continuer la Suppression ?',d=function(){c.unmask();Ext.History.back()},e=function(e){if(e!=='yes'){return !1}c.mask({xtype:'loadmask',message:'Suppression ...'});a.erase({callback:function(f,c){App.ux.Signals.CRUDCallback(a,c,null,d);b.fireEvent('actionlog','Suppression '+b.type,a.get('name')||a.get('intitule'),a);b.redirectTo('unites')}})};if(App.user.get('role')>1){this.redirectTo('page403');return}App.ux.Signals.askUserPermission(f,e)},onAddPicture:function(e,d){var b=this.getViewModel(),c=b.get('record'),a=b.getStore('images');form=this.getView();if(this.getFirstTime()){return}Ext.Msg.show({title:'Ajouter une nouvelle image',message:'Titre',width:600,buttons:Ext.MessageBox.OKCANCEL,scope:null,prompt:!0,defaultFocus:'textfield',multiLine:!0,fn:function(b,f){if(b!=='ok'){return !1}form.submit({method:'POST',url:'/upload',waitMsg:'Envoi du fichier...',success:function(j,h){var i=h.fileName,g=h.coords;a.add({id:a.count(),title:f,src:i});if(g){c.set('location',{'latitude':g.lat,'longitude':g.lon})}App.ux.Signals.showSuccess('Envoi russi')},failure:function(c,a){App.ux.Signals.showWarning("Echec d'upload",!0)}})}})},onPictureTap:function(d,b){var a=b.record;if(!a){return}var f=this,d=f.getView(),e='Continuer la Suppression ?',c=function(c){if(c!=='yes'){return !1}a.erase()};App.ux.Signals.askUserPermission(e,c)},removeSeason:function(h,d){var g=this,b=g.getView(),a=d.record,f='Continuer la Suppression ?',c=function(){b.unmask()},e=function(e){if(e!=='yes'){return !1}b.mask({xtype:'loadmask',message:'Suppression ...'});a.erase({callback:function(f,b){App.ux.Signals.CRUDCallback(a,b,null,c)}})};App.ux.Signals.askUserPermission(f,e)},onSeasonEdit:function(c,b){var a=b.record;if(!a){return}Ext.create({xtype:'effectifsedit',record:a,centered:!0,floated:!0,modal:!0,ui:'dialog',toolbar:{docked:'bottom'}}).show()},onCreateSeason:function(){var c=this,a=Ext.create('App.model.Effectif'),d=c.getViewModel(),b=d.get('record');if(!b.isPhantom()){a.set('unite_id',b.getId())}Ext.create({xtype:'effectifscreate',record:a,centered:!0,floated:!0,modal:!0,ui:'dialog',toolbar:{docked:'bottom'}}).show()},finalize:function(d){var a=this,b=a.getViewModel(),c=b.get('record');App.view.widgets.WizardController.prototype.finalize.apply(this,arguments)},onSubmitTap:function(){var f=this,e=this.getView(),c=this.getViewModel(),d=c.get('record'),b=c.getStore('images'),a=[];if(b.count()){b.each(function(b){a.push({title:b.get('title'),src:b.get('src')})});d.set('images',a)}App.view.widgets.WizardController.prototype.onSubmitTap.apply(this,arguments)}},0,0,0,0,['controller.unitewizard'],0,[App.view.unite,'WizardController'],0);Ext.cmd.derive('App.view.unite.WizardModel',Ext.app.ViewModel,{data:{record:null,user:null},stores:{images:{fields:['id','src','title'],data:[]},annees:{type:'annees',autoLoad:!0},statuts:{type:'statuts',autoLoad:!0},regions:{type:'regions',autoLoad:!0},provinces:{type:'provinces',autoLoad:!0},fondations:{type:'fondations',autoLoad:!0},cercles:{type:'cercles',autoLoad:!0,filters:[{property:'province_code',value:'{record.province_code}',operator:'==='}]},communes:{type:'communes',autoLoad:!0,filters:[{property:'province_code',value:'{record.province_code}',operator:'==='},{property:'cercle_code',value:'{record.cercle_code ? record.cercle_code : null}',operator:'==='}]},programmes:{type:'programmes',autoLoad:!0},uptype:{type:'uptypes',autoLoad:!0},upmodes:{type:'upmodes',autoLoad:!0}}},0,0,0,0,['viewmodel.unitewizard'],0,[App.view.unite,'WizardModel'],0);Ext.cmd.derive('App.view.unite.effectifs.EffectifsView',Ext.grid.Grid,{title:'Effectifs',bodyPadding:15,shadow:!0,minHeight:200,store:'Effectifs',titleBar:{shadow:!1,docked:'top',items:[{align:'right',xtype:'button',iconCls:'x-fa fa-plus',tooltip:'Ajouter Anne Scolaire',handler:'onCreateSeason'}]},ui:'listing',listeners:{childdoubletap:'onSeasonEdit'},rowNumbers:{minWidth:35,align:'center'},columns:[{text:'Anne Scolaire',dataIndex:'annee_scolaire',cell:{tools:{close:{handler:'removeSeason',tooltip:'Supprimer cette Anne',zone:'end'}}}},{text:'Total',dataIndex:'total_global',align:'center',xtype:'numbercolumn',format:'0',summary:'sum',width:60},{text:'Garons',dataIndex:'total_garcons',align:'center',xtype:'numbercolumn',format:'0',summary:'sum',width:60},{text:'Filles',dataIndex:'total_filles',align:'center',xtype:'numbercolumn',format:'0',summary:'sum',width:60},{text:'Moyenne Section',columns:[{text:'Total',dataIndex:'ms_total',align:'center',xtype:'numbercolumn',format:'0',summary:'sum',width:60},{text:'Filles',dataIndex:'ms_filles',align:'center',xtype:'numbercolumn',format:'0',summary:'sum',width:60},{text:'Garons',dataIndex:'ms_garcons',align:'center',xtype:'numbercolumn',format:'0',summary:'sum',width:60}]},{text:'Grande Section',columns:[{text:'Total',dataIndex:'gs_total',align:'center',xtype:'numbercolumn',format:'0',summary:'sum',width:60},{text:'Filles',dataIndex:'gs_filles',align:'center',xtype:'numbercolumn',format:'0',summary:'sum',width:60},{text:'Garons',dataIndex:'gs_garcons',align:'center',xtype:'numbercolumn',format:'0',summary:'sum',width:60}]}]},0,['effectifsview'],['widget','component','container','componentdataview','list','grid','effectifsview'],{'widget':!0,'component':!0,'container':!0,'componentdataview':!0,'list':!0,'grid':!0,'effectifsview':!0},['widget.effectifsview'],0,[App.view.unite.effectifs,'EffectifsView'],0);Ext.cmd.derive('App.view.unite.effectifs.EffectifsWizard',App.view.widgets.Wizard,{controller:{type:'effectifswizard'},bind:{title:'{record.phantom? "Ajouter" : "Modifier"} Effectifs / Anne Scolaire << {record.annee_scolaire} >>'},width:700,closable:!0,screens:[{title:'Effectifs des Enfants',defaults:{labelAlign:'left',width:400},items:[{xtype:'selectfield',label:'Anne Scolaire',displayField:'value',valueField:'value',queryMode:'local',required:!0,bind:'{record.annee_scolaire}',store:'INDH.Saisons'},{xtype:'fieldset',autoSize:!0,layout:'hbox',width:'auto',defaults:{labelAlign:'left',width:160,margin:'0 6px',labelWidth:'auto'},title:'Moyenne Section',margin:'25 0 0 0',items:[{xtype:'spinnerfield',label:'Filles',bind:'{record.ms_filles}',stepValue:1,cycle:!0,required:!0},{xtype:'spinnerfield',label:'Garons',bind:'{record.ms_garcons}',stepValue:1,cycle:!0,required:!0},{xtype:'spinnerfield',label:'Total',bind:'{record.ms_total}',disabled:!0}]},{xtype:'fieldset',autoSize:!0,layout:'hbox',width:'auto',title:'Grande Section',margin:'25 0 0 0',defaults:{labelAlign:'left',width:160,margin:'0 6px',labelWidth:'auto'},items:[{xtype:'spinnerfield',label:'Filles',bind:'{record.gs_filles}',stepValue:1,cycle:!0,required:!0},{xtype:'spinnerfield',label:'Garons',bind:'{record.gs_garcons}',stepValue:1,cycle:!0,required:!0},{xtype:'spinnerfield',label:'Total',bind:'{record.gs_total}',disabled:!0}]},{xtype:'fieldset',autoSize:!0,layout:'hbox',width:'auto',title:'Suivi des Inscrits / MS',margin:'25 0 0 0',defaults:{labelAlign:'left',width:160,margin:'0 6px',labelWidth:'auto'},items:[{xtype:'spinnerfield',label:'Passs en GS',bind:'{record.ms_passe_gs}',stepValue:1,cycle:!0},{xtype:'spinnerfield',label:'Rinscrits MS',bind:'{record.ms_reinscrit_ms}',stepValue:1,cycle:!0},{xtype:'spinnerfield',label:'Passs Primaire',bind:'{record.ms_passe_primaire}',stepValue:1,cycle:!0}]},{xtype:'fieldset',autoSize:!0,layout:'hbox',width:'auto',title:'Suivi des Inscrits / GS',margin:'25 0 0 0',defaults:{labelAlign:'left',width:160,margin:'0 6px',labelWidth:'auto'},items:[{xtype:'spinnerfield',label:'Rinscrits GS',bind:'{record.gs_refait_gs}',stepValue:1,cycle:!0},{xtype:'spinnerfield',label:'Passs Primaire',bind:'{record.gs_primaire}',stepValue:1,cycle:!0}]},{xtype:'fieldset',autoSize:!0,layout:'hbox',width:'auto',title:'Arrt Scolarit',margin:'25 0 0 0',defaults:{labelAlign:'left',width:160,margin:'0 6px',labelWidth:'auto'},items:[{xtype:'spinnerfield',label:'Arrt Scolarit',bind:'{record.nbre_arret_scolarite}',stepValue:1,cycle:!0}]}]}]},0,['effectifscreate','effectifsedit','effectifswizard'],['widget','component','container','panel','fieldpanel','formpanel','effectifswizard','effectifscreate','effectifsedit'],{'widget':!0,'component':!0,'container':!0,'panel':!0,'fieldpanel':!0,'formpanel':!0,'effectifswizard':!0,'effectifscreate':!0,'effectifsedit':!0},['widget.effectifscreate','widget.effectifsedit','widget.effectifswizard'],0,[App.view.unite.effectifs,'EffectifsWizard'],0);Ext.cmd.derive('App.view.unite.effectifs.EffectifsWizardController',App.view.widgets.WizardController,{finalize:function(){var c=this.getViewModel(),b=App.app.getEffectifsStore(),a=c.get('record');b.add(a);App.view.widgets.WizardController.prototype.finalize.apply(this,arguments)}},0,0,0,0,['controller.effectifswizard'],0,[App.view.unite.effectifs,'EffectifsWizardController'],0);Ext.cmd.derive('App.view.unite.effectifs.EffectifsWizardModel',Ext.app.ViewModel,{data:{record:null},stores:{saisons:{type:'saisons',autoLoad:!0}}},0,0,0,0,['viewmodel.effectifswizard'],0,[App.view.unite.effectifs,'EffectifsWizardModel'],0);Ext.cmd.derive('App.view.user.BrowseModel',Ext.app.ViewModel,{stores:{users:{type:'users',remoteGroup:!1,remoteSort:!0,sorters:[{property:'lastname'}],pageSize:25,clearOnPageLoad:!1,listeners:{refresh:'onStoreRefresh',buffer:100},grouper:{groupFn:function(a){return a.get('lastname')[0]}}}}},0,0,0,0,['viewmodel.userbrowse'],0,[App.view.user,'BrowseModel'],0);Ext.cmd.derive('App.view.user.Show',App.view.widgets.Show,{controller:'usershow',viewModel:{type:'usershow'},title:'Profile',items:{header:{xtype:'usershowheader'},content:{items:{right:null,left:{items:{details:{xtype:'usershowdetails'}}}}}}},0,['usershow'],['widget','component','container','panel','usershow'],{'widget':!0,'component':!0,'container':!0,'panel':!0,'usershow':!0},['widget.usershow'],0,[App.view.user,'Show'],0);Ext.cmd.derive('App.view.user.ShowController',App.view.widgets.ShowController,{doAction:function(a){this.fireEvent('actionexec',a,this.getRecord(),!0)},onRecordChange:function(e,b){var d=this.getViewModel(),a=d.getStore('history'),c=d.getStore('users');a.removeAll();c.removeAll();if(b){a.filter('person_id',b.get('id'));a.load();c.filter([{property:'id',value:b.get('id'),operator:'!='}]);c.load()}App.view.widgets.ShowController.prototype.onRecordChange.apply(this,arguments)},onCallTap:function(){this.doAction('phone')},onSkypeTap:function(){this.doAction('skype')},onEmailTap:function(){this.doAction('email')},onLinkedInTap:function(){this.doAction('linkedin')}},0,0,0,0,['controller.usershow'],0,[App.view.user,'ShowController'],0);Ext.cmd.derive('App.view.user.ShowDetails',Ext.Panel,{cls:'user-details',title:'Dtails',bind:{record:'{record}'},tpl:['<div class="block-section">','<div class="item">','<div class="label">Nom Utilisateur</div>','<div class="value">{username}</div>','</div>','<tpl if="region">','<div class="item">','<div class="label">Rgion</div>','<div class="value">{region}</div>','</div>','</tpl>','<tpl if="province">','<div class="item">','<div class="label">Province</div>','<div class="value">{province}</div>','</div>','</tpl>','</div>']},0,['usershowdetails'],['widget','component','container','panel','usershowdetails'],{'widget':!0,'component':!0,'container':!0,'panel':!0,'usershowdetails':!0},['widget.usershowdetails'],0,[App.view.user,'ShowDetails'],0);Ext.cmd.derive('App.view.user.ShowHeader',App.view.widgets.ShowHeader,{responsiveConfig:{'width < 600':{layout:{vertical:!0,align:'center',pack:'center'}},'width > 599':{layout:{vertical:!1,align:'end',pack:'start'}}},cls:['show-header','user-header'],items:{title:{tpl:['<div class="name">{lastname} {firstname}</div>','<div class="desc">{region} {province}</div>']}}},0,['usershowheader'],['widget','component','container','showheader','usershowheader'],{'widget':!0,'component':!0,'container':!0,'showheader':!0,'usershowheader':!0},['widget.usershowheader'],[[Ext.mixin.Responsive.prototype.mixinId||Ext.mixin.Responsive.$className,Ext.mixin.Responsive]],[App.view.user,'ShowHeader'],0);Ext.cmd.derive('App.view.user.ShowModel',Ext.app.ViewModel,{stores:{users:{type:'users',pageSize:12},history:{type:'actions',pageSize:12}}},0,0,0,0,['viewmodel.usershow'],0,[App.view.user,'ShowModel'],0);Ext.cmd.derive('App.view.user.ShowOffice',Ext.Panel,{cls:'user-office',iconCls:'x-fa fa-globe',bind:{title:'<a href="#{record.office.url}">{record.office.name}</a><div class="caption">{record.office.city}, {record.office.country}</div>'},header:{items:[{xtype:'button',handler:'onOfficeHeadcountTap',iconCls:'x-fa fa-users',ui:'block',weigth:10,bind:{text:'{record.office.headcount}',tooltip:'Show employees of the <b>{record.office.name}</b> office.'}}]},items:[{xtype:'mapview',bind:{markers:'{record.office}'}}]},0,['usershowoffice'],['widget','component','container','panel','usershowoffice'],{'widget':!0,'component':!0,'container':!0,'panel':!0,'usershowoffice':!0},['widget.usershowoffice'],0,[App.view.user,'ShowOffice'],0);Ext.cmd.derive('App.view.user.ShowOrg',Ext.Panel,{cls:'user-org',iconCls:'x-fa fa-sitemap',bind:{title:'<a href="#{record.organization.url}">{record.organization.name}</a><div class="caption">Managed by <a href="#{record.organization.manager.url}">{record.organization.manager.fullname}</a></div>'},header:{items:[{xtype:'button',handler:'onOrganizationHeadcountTap',iconCls:'x-fa fa-users',ui:'block',weigth:10,bind:{text:'{record.organization.headcount}',tooltip:'Show employees of the <b>{record.organization.name}</b> organization.'}}]},items:[{xtype:'dataview',ui:'thumbnails',minHeight:80,inline:!0,itemTpl:'<div class="thumbnail" style="background-image:url({picture})"></div>',bind:{emptyText:'{record.fullname} is the only employee in this organization',store:'{users}'},listeners:{childtap:'onUsersChildTap'}}]},0,['usershoworg'],['widget','component','container','panel','usershoworg'],{'widget':!0,'component':!0,'container':!0,'panel':!0,'usershoworg':!0},['widget.usershoworg'],0,[App.view.user,'ShowOrg'],0);Ext.cmd.derive('App.view.user.ShowTools',Ext.Container,{cls:'user-tools',layout:{type:'box',align:'center'},responsiveConfig:{'width < 600':{layout:{vertical:!0}},'width > 599':{layout:{vertical:!1}}},items:[{xtype:'toolbar',flex:1,items:[{iconCls:'x-fa fa-phone',handler:'onCallTap',ui:'action-phone',bind:{tooltip:'Call <b>{record.phone}</b>'}},{iconCls:'x-fa fa-envelope',handler:'onEmailTap',ui:'action-email',bind:{tooltip:'Send email to <b>{record.email}</b>'}}]}]},0,['usershowtools'],['widget','component','container','usershowtools'],{'widget':!0,'component':!0,'container':!0,'usershowtools':!0},['widget.usershowtools'],[[Ext.mixin.Responsive.prototype.mixinId||Ext.mixin.Responsive.$className,Ext.mixin.Responsive]],[App.view.user,'ShowTools'],0);Ext.cmd.derive('App.view.user.Wizard',App.view.widgets.Wizard,{controller:{type:'userwizard'},viewModel:{type:'userwizard'},bind:{title:'{record.phantom? "Ajouter" : "Modifier"} Utilisateur'},cls:'user-create',width:700,screens:[{title:'Gnral',iconCls:'x-fa fa-info',defaults:{labelAlign:'left',boxLabelAlign:'before',width:500,labelWidth:300},items:[{xtype:'textfield',reference:'firstname',label:'Prnom',bind:'{record.firstname}',listeners:{blur:'onNameFieldsBlur'}},{xtype:'textfield',reference:'lastname',label:'Nom',bind:'{record.lastname}',listeners:{blur:'onNameFieldsBlur'}},{xtype:'textfield',reference:'username',label:'Nom Utilisateur',required:!0,bind:{value:'{record.username}',disabled:'{!isAdmin}'},listeners:{change:'onUsernameChange'}},{xtype:'selectfield',reference:'role',label:'Role',options:[{text:'Admin',value:0},{text:'Cadre CN-INDH',value:1},{text:'Cadre CR',value:2},{text:'Cadre Province',value:3}],required:!0,bind:{value:'{record.role}',disabled:'{!isAdmin}'}},{xtype:'selectfield',reference:'province',label:'Province',valueField:'value',displayField:'value',bind:{value:'{record.programme}',store:'{provinces}',disabled:'{!isAdmin}'}},{xtype:'selectfield',reference:'region',label:'Rgion',valueField:'value',displayField:'value',bind:{value:'{record.region}',store:'{regions}',disabled:'{!isAdmin}'}},{xtype:'passwordfield',reference:'password',label:'Mot de passe',revealable:!0,required:!0,bind:{required:'{record.phantom}',placeholder:'{record.phantom? "" : "Ne rien changer"}',value:'{record.password}'}},{xtype:'passwordfield',reference:'password_check',revealable:!0,label:'Confirmer Mot de passe',disabled:!0,validators:{type:'controller',fn:'doPasswordMatch'},bind:{required:'{record.phantom}',disabled:'{!password.value}'}}]},{title:'Coordonnes',iconCls:'x-fa fa-home',items:[{xtype:'emailfield',reference:'email',label:'E-mail',bind:'{record.email}'},{xtype:'textfield',reference:'phone',label:'Tlphone',bind:'{record.phone}'}]}]},0,['usercreate','useredit','userwizard'],['widget','component','container','panel','fieldpanel','formpanel','userwizard','usercreate','useredit'],{'widget':!0,'component':!0,'container':!0,'panel':!0,'fieldpanel':!0,'formpanel':!0,'userwizard':!0,'usercreate':!0,'useredit':!0},['widget.usercreate','widget.useredit','widget.userwizard'],0,[App.view.user,'Wizard'],0);Ext.cmd.derive('App.view.user.WizardController',App.view.widgets.WizardController,{init:function(){App.view.widgets.WizardController.prototype.init.apply(this,arguments);var a=this.getViewModel();a.set('isAdmin',App.user.get('role')===0)},onNameFieldsBlur:function(){var a=this,f=a.getViewModel(),b=f.get('record'),c=b.get('firstname'),d=b.get('lastname'),e=b.get('username');if(Ext.isEmpty(c)||Ext.isEmpty(d)||!Ext.isEmpty(e)&&a._generatedUsername!==e){return}a._generatedUsername=!0;Server.users.generateUsername({firstname:c,lastname:d},function(c,e,d){if(d&&a._generatedUsername===!0){a._generatedUsername=c;b.set('username',c)}})},onUsernameChange:function(b,a){if(a!==this._generatedUsername){this._generatedUsername=!1}},doPasswordMatch:function(a){return this.lookup('password').getValue()!==a?'Mots de passe diffrents':!0}},0,0,0,0,['controller.userwizard'],0,[App.view.user,'WizardController'],0);Ext.cmd.derive('App.view.user.WizardModel',Ext.app.ViewModel,{data:{isAdmin:!1},stores:{regions:{type:'regions',autoLoad:!0},provinces:{type:'provinces',autoLoad:!0}}},0,0,0,0,['viewmodel.userwizard'],0,[App.view.user,'WizardModel'],0);Ext.define('App.view.viewport.ViewportController',{extend:'Ext.app.ViewController',alias:'controller.viewport',mixins:['Ext.mixin.Mashup'],requiredScripts:['/api'],listen:{controller:{'*':{login:'onLogin',logout:'onLogout',unmatchedroute:'handleUnmatchedRoute'}}},routes:{'login':'handleLoginRoute'},onLaunch:function(){this.originalRoute=App.getApplication().getDefaultToken();this.initDirect();this.restoreSession()},showView:function(b){var c=this.lookup(b),a=this.getView();if(!c){a.removeAll(!0);c=a.add({xtype:b,reference:b})}a.setActiveItem(c)},showAuth:function(){this.showView('authlogin')},showMain:function(){this.showView('main')},handleLoginRoute:function(){var a=this.session;if(a&&a.isValid()){this.redirectTo('',{replace:!0});return}this.showAuth()},handleUnmatchedRoute:function(b){var a=this;if(!a.session||!a.session.isValid()){a.originalRoute=b;a.redirectTo('login',{replace:!0});return}var c=App.getApplication().getDefaultToken();Ext.log.warn('Route unknown: ',b);if(b!==c){a.redirectTo(c,{replace:!0})}},initDirect:function(){var a=Server.API;if(!a){Ext.raise('Failed to load Direct API')}Ext.direct.Manager.addProvider(Ext.applyIf({id:'server',listeners:{data:'onDirectData',scope:this}},a))},setDirectToken:function(c){var b=Ext.direct.Manager.getProvider('server'),a=b.getHeaders()||{};if(c){a['Authorization']='Bearer '+c}else {delete a['Authorization']}b.setHeaders(a)},onDirectData:function(c,a){if(a.type!=='exception'){return}var b=a.message||{};switch(b.code){case -32098:case -32097:Ext.asap(this.terminateSession,this);break;default:break;}},restoreSession:function(){var b=App.util.State.get('session'),a=b?App.model.Session.loadData(b):null;if(a&&a.isValid()){this.initiateSession(a)}else {this.terminateSession()}return a},initiateSession:function(a){this.setDirectToken(a.get('token'));this.saveSession(a);this.showMain()},terminateSession:function(){this.setDirectToken(null);this.saveSession(null);this.showAuth()},saveSession:function(a){App.util.State.set('session',a&&a.getData(!0));this.getViewModel().set('user',a&&a.getUser());this.session=a;if(a){App.user=a.getUser();var b=App.user.getDefaultToken();App.getApplication().setDefaultToken(b)}},onLogin:function(a){if(!a||!a.isValid()){return !1}this.initiateSession(a);this.redirectTo(App.getApplication().getDefaultToken(),{replace:!0})},onLogout:function(){var a=this,c=a.getView(),b=a.session;localStorage&&localStorage.clear();if(!b||!b.isValid()){return !1}c.setMasked({xtype:'loadmask'});b.logout()['catch'](function(){}).then(function(){a.originalRoute=Ext.History.getToken();a.terminateSession();c.setMasked(!1);a.redirectTo('login',{replace:!0})})}});Ext.cmd.derive('App.view.viewport.ViewportModel',Ext.app.ViewModel,{data:{user:null}},0,0,0,0,['viewmodel.viewport'],0,[App.view.viewport,'ViewportModel'],0);Ext.cmd.derive('App.view.widgets.HistoryPanel',Ext.Panel,{config:{store:null},cls:'historypanel no-print',defaultBindProperty:'store',referenceHolder:!0,title:'Activits rcentes',header:{items:{showall:{xtype:'button',reference:'showallbutton',tooltip:'Afficher toutes les activits',handler:'onHistoryAllTap',iconCls:'x-fa fa-history',ui:'block'}}},items:[{xtype:'historyview',reference:'historyview',displayField:'type',emptyText:'Aucune activit trouve',selectable:{disabled:!0}}],initialize:function(){var a=this;Ext.Panel.prototype.initialize.apply(this,arguments);a.relayEvents(a.lookup('historyview'),['childtap'])},applyStore:function(a){return a?Ext.getStore(a):null},updateStore:function(a,b){var c={datachanged:'updateButtonState',scope:this};if(b&&b.isStore){b.un(c)}if(a&&a.isStore){a.on(c)}this.lookup('historyview').setStore(a);this.updateButtonState(a)},updateButtonState:function(a){this.lookup('showallbutton').setDisabled(!a||!a.getCount())}},0,['historypanel'],['widget','component','container','panel','historypanel'],{'widget':!0,'component':!0,'container':!0,'panel':!0,'historypanel':!0},['widget.historypanel'],0,[App.view.widgets,'HistoryPanel'],0);Ext.cmd.derive('App.view.widgets.HistoryView',Ext.dataview.DataView,{config:{displayField:'person.fullname'},cls:'historyview',ui:'history light',emptyText:'Historique inexistant',deferEmptyText:!1,minHeight:80,inline:!0,updateDisplayField:function(a){this.setItemTpl(['<div class="history-item-wrapper">','<div class="history-visual">','<div class="picture large recipient" style="background-color: {person.color};">{person.lastname}</div>','</div>','<div class="history-details">','<div class="display" data-qtitle="Par {person.fullname}" data-qtip="{subject}">{',a,'}</div>','<div><a href="#{object}">{object}</a></div>','<div class="date">{created:date(\'j F Y H:i\')} ( il y a {created:dateDiff(new Date())} )</div>','</div>','</div>'])},itemCls:'history-item'},0,['historyview'],['widget','component','container','dataview','historyview'],{'widget':!0,'component':!0,'container':!0,'dataview':!0,'historyview':!0},['widget.historyview'],0,[App.view.widgets,'HistoryView'],0);Ext.cmd.derive('App.view.widgets.Sidebar',Ext.Container,{config:{expanded:!1},classCls:'sidebar',initialize:function(){var a=this;Ext.Container.prototype.initialize.call(this);a.el.insertFirst({cls:a.getBaseCls()+'-mask',tag:'div'}).on({tap:'onMaskTap',scope:a})},updateExpanded:function(a){this.toggleCls('expanded',a)},updateMode:function(a,b){this.replaceCls(b,a)},toggleExpanded:function(){this.setExpanded(!this.getExpanded())},onMaskTap:function(a){this.setExpanded(!1);a.preventDefault()}},0,['sidebar'],['widget','component','container','sidebar'],{'widget':!0,'component':!0,'container':!0,'sidebar':!0},['widget.sidebar'],0,[App.view.widgets,'Sidebar'],0);Ext.define('App.Application',{extend:'Ext.app.Application',name:'App',profiles:['Phone','Tablet'],controllers:['Action'],stores:['NavigationTree','INDH.Programmes','INDH.Regions','INDH.Provinces','INDH.Fondations','INDH.Annees','INDH.Saisons','INDH.Cercles','INDH.Communes','INDH.NatureAffectations','INDH.Statuts','INDH.UPModes','INDH.UPTypes','INDH.Tranches','Effectifs'],viewport:{controller:'viewport',viewModel:'viewport'},defaultToken:'reporting',cache:{},quickTips:{autoCreate:!0,tooltip:{autoCreate:!0,showDelay:250,hideDelay:120000,dismissDelay:60000}},init:function(){document.title='CN-INDH / Suivi Prscolaire';Ext.state.Provider.register(new Ext.state.LocalStorage())},launch:function(a){if(Ext.isIE8){Ext.Msg.alert('Not Supported','Votre Navigateur ne supporte pas cette Application. Veuillez svp utiliser un autre navigateur!');return}Ext.getBody().on('contextmenu',function(b){});Ext.Viewport.getController().onLaunch();Ext.getBody().removeCls('launching');Ext.app.Application.prototype.launch.call(this,a)},onAppUpdate:function(){localStorage.clear();window.location.reload();return;Ext.Msg.confirm('Mise  jour',"Une mise  jour de l'application est disponsible, voulez vous actualiser la page ?",function(a){if(a==='yes'){window.location.reload()}})}});Ext.application({name:'App',extend:'App.Application'});"use strict";var _get=function get(a,c,d){if(a===null){a=Function.prototype;}var b=Object.getOwnPropertyDescriptor(a,c);if(b===undefined){var f=Object.getPrototypeOf(a);if(f===null){return undefined}else {return get(f,c,d)}}else if("value" in b){return b.value}else {var e=b.get;if(e===undefined){return undefined}return e.call(d)}};var _createClass=function(){function defineProperties(d,c){for(var b=0;b<c.length;b++){var a=c[b];a.enumerable=a.enumerable||!1;a.configurable=!0;if("value" in a){a.writable=!0;}Object.defineProperty(d,a.key,a)}}return function(a,c,b){if(c){defineProperties(a.prototype,c);}if(b){defineProperties(a,b);}return a}}();var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol==="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};function _possibleConstructorReturn(b,a){if(!b){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return a&&(typeof a==="object"||typeof a==="function")?a:b}function _inherits(b,a){if(typeof a!=="function"&&a!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof a)}b.prototype=Object.create(a&&a.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});if(a){Object.setPrototypeOf?Object.setPrototypeOf(b,a):b.__proto__=a;}}function _classCallCheck(b,a){if(!(b instanceof a)){throw new TypeError("Cannot call a class as a function")}}function _defineProperty(a,b,c){if(b in a){Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0})}else {a[b]=c}return a}(function(b){if((typeof exports==="undefined"?"undefined":_typeof(exports))==="object"&&typeof module!=="undefined"){module.exports=b()}else if(typeof define==="function"&&define.amd){define([],b)}else {var a;if(typeof window!=="undefined"){a=window}else if(typeof global!=="undefined"){a=global}else if(typeof self!=="undefined"){a=self}else {a=this}a.Fashion=b()}})(function(){var b,c,a;return function(){function r(a,b,d){function o(c,i){if(!b[c]){if(!a[c]){var h="function"==typeof require&&require;if(!i&&h){return h(c,!0);}if(e){return e(c,!0);}var g=new Error("Cannot find module '"+c+"'");throw g.code="MODULE_NOT_FOUND",g}var f=b[c]={exports:{}};a[c][0].call(f.exports,function(e){var f=a[c][1][e];return o(f||e)},f,f.exports,r,a,b,d)}return b[c].exports}for(var e="function"==typeof require&&require,c=0;c<d.length;c++){o(d[c])}return o}return r}()({1:[function(a,e,g){var b;var c=a('./src/export/Base.js');var d=a('./src/export/css/CssVariableManager.js'),f=new d();c.apply(c,(b={css:f,CssExport:d,Types:a('./src/export/type/Types.js'),ValueParser:a('./src/export/parse/ValueParser.js'),Type:a('./src/export/type/Type.js'),Bool:a('./src/export/type/Bool.js'),Literal:a('./src/export/type/Literal.js'),ParentheticalExpression:a('./src/export/type/ParentheticalExpression.js'),Text:a('./src/export/type/Text.js'),Numeric:a('./src/export/type/Numeric.js'),List:a('./src/export/type/List.js'),Map:a('./src/export/type/Map.js'),Color:a('./src/export/type/Color.js'),ColorRGBA:a('./src/export/type/ColorRGBA.js'),ColorHSLA:a('./src/export/type/ColorHSLA.js'),ColorStop:a('./src/export/type/ColorStop.js'),FunctionCall:a('./src/export/type/FunctionCall.js'),LinearGradient:a('./src/export/type/LinearGradient.js'),RadialGradient:a('./src/export/type/RadialGradient.js'),Statics:a('./src/export/type/Statics.js'),SourceBuilder:a('./src/export/type/SourceBuilder.js')},_defineProperty(b,"Types",a('./src/export/type/Types.js')),_defineProperty(b,"TypeVisitor",a('./src/export/type/TypeVisitor.js')),_defineProperty(b,"Output",a('./src/export/Output.js')),_defineProperty(b,"Runtime",a('./src/export/Runtime.js')),b));e.exports=c},{"./src/export/Base.js":3,"./src/export/Output.js":4,"./src/export/Runtime.js":5,"./src/export/css/CssVariableManager.js":6,"./src/export/parse/ValueParser.js":7,"./src/export/type/Bool.js":8,"./src/export/type/Color.js":9,"./src/export/type/ColorHSLA.js":10,"./src/export/type/ColorRGBA.js":11,"./src/export/type/ColorStop.js":12,"./src/export/type/FunctionCall.js":13,"./src/export/type/LinearGradient.js":14,"./src/export/type/List.js":15,"./src/export/type/Literal.js":16,"./src/export/type/Map.js":17,"./src/export/type/Numeric.js":18,"./src/export/type/ParentheticalExpression.js":19,"./src/export/type/RadialGradient.js":20,"./src/export/type/SourceBuilder.js":21,"./src/export/type/Statics.js":22,"./src/export/type/Text.js":23,"./src/export/type/Type.js":24,"./src/export/type/TypeVisitor.js":25,"./src/export/type/Types.js":26}],2:[function(e,c,d){"use strict";function getJsName(a){return a.replace(/\-/g,'_').replace(/\//g,'_fs_').replace(/\\/g,'_bs_')}var a=function(){function NameConverter(){_classCallCheck(this,NameConverter);this.variableNameMap={}}_createClass(NameConverter,[{key:"convertName",value:function convertName(b){var f=this.variableNameMap,a=f[b];if(a===undefined){a=f[b]=getJsName(b)}return a}}]);return NameConverter}();var b=new a();c.exports={NameConverter:a,getJsName:function getJsName(a){return b.convertName(a)}}},{}],3:[function(e,f,h){"use strict";var d=e('./../NameConverter.js');var b={trace:!1};var a=function a(b){_classCallCheck(this,a);if(b){merge(this,b)}};var c=function(){function BaseSet(){_classCallCheck(this,BaseSet)}_createClass(BaseSet,[{key:"first",value:function first(){return _first(this.items)}},{key:"last",value:function last(){return _last(this.items)}},{key:"tail",value:function tail(){return _tail(this.items)}}]);return BaseSet}();c.prototype.items=null;function _chainFunc(){}function apply(a,b){a=a||{};if(b){for(var c in b){a[c]=b[c]}}return a}function merge(a,g){a=a||{};var c,b,d;if(g){for(c in g){b=g[c];if(b&&b.constructor===Object){d=a[c];if(d&&d.constructor===Object){merge(d,b)}else {a[c]=b}}else {a[c]=b}}}return a}var g=Object.create||function(a){_chainFunc.prototype=a;return new _chainFunc()};function createMessage(b,a){if(a&&a.isFashionScanner){b+=': '+a.currentFile+':'+a.lineNumber}else if(a){b+=': '+a.file+':'+a.lineNumber}return b}function isFunction(a){return a&&typeof a==='function'}function trace(a,c){if(b.trace){console.log(createMessage('[DBG] '+a,c))}}function debug(a,b){console.log(createMessage('[DBG] '+a,b))}function log(a,b){console.log(createMessage('[LOG] '+a,b))}function info(a,b){console.log(createMessage('[INF] '+a,b))}function warn(a,b){console.log(createMessage('[WRN] '+a,b))}function error(a,b){console.log(createMessage('[ERR] '+a,b))}function raise(a,b){if(Fashion.inspect){debugger}if(typeof a!=='string'){b=a;a=b.message;delete b.message}var c=new Error(a);c.$isFashionError=!0;throw apply(c,b)}function raiseAt(c,a,d){var b;if(a){c=createMessage(c,a);if(a.isFashionScanner){b={file:a.currentFile,lineNumber:a.lineNumber}}else {b={node:a,lineNumber:a.lineNumber,file:a.file}}}if(d){if(!b){b={}}b.fashionStack=d}raise(c,b)}function filter(c,g){var b=[];for(var a=0;a<c.length;a++){var d=c[a];if(g(d,a)){b.push(d)}}return b}function convert(c,d){var b=[];for(var a=0;a<c.length;a++){b.push(d(c[a]))}return b}function _first(a){return a.length&&a[0]}function _last(a){return a.length&&a[a.length-1]}function _tail(a){if(a.length>2){return a.slice(1)}return []}function getAllKeys(a,k){var g=[],i={},c,b,j,d;for(;a&&a!==k;a=Object.getPrototypeOf(a)){d=Object.getOwnPropertyNames(a);for(c=0,j=d.length;c<j;++c){b=d[c];if(!i[b]){i[b]=!0;g.push(b)}}}return g}function mixin(i,b){if(!Array.isArray(b)){b=Array.prototype.slice.call(arguments,1)}var g=i.prototype;for(var d=0;d<b.length;d++){var j=b[d],c=j.prototype;getAllKeys(c,a.prototype).forEach(function(a){if(a in c){if(!(a in g)){g[a]=c[a]}}})}}function flatten(g,b,a){a=a||[];b=typeof b==='undefined'?1000:b;for(var d=0;d<g.length;d++){var c=g[d];if(Array.isArray(c)&&b){flatten(c,b-1,a)}else {a.push(c)}}return a}f.exports={EmptyArray:[],getJsName:d.getJsName,chain:g,Base:a,BaseSet:c,apply:apply,merge:merge,createMessage:createMessage,isFunction:isFunction,debugging:b,trace:trace,debug:debug,log:log,info:info,warn:warn,error:error,raise:raise,raiseAt:raiseAt,filter:filter,convert:convert,first:_first,last:_last,tail:_tail,mixin:mixin,flatten:flatten}},{"./../NameConverter.js":2}],4:[function(c,d,f){"use strict";var a=c('./Base.js'),e=a.Base;var b=function(a){_inherits(Output,a);function Output(){_classCallCheck(this,Output);var b=_possibleConstructorReturn(this,(Output.__proto__||Object.getPrototypeOf(Output)).call(this));b.output='';return b}_createClass(Output,[{key:"space",value:function space(){this.add(' ')}},{key:"add",value:function add(b){this.output+=b}},{key:"addComment",value:function addComment(b){this.output+=b}},{key:"indent",value:function indent(){this.indentation+=this.indentstr}},{key:"unindent",value:function unindent(){this.indentation=this.indentation.substr(this.indentstr.length)}},{key:"addln",value:function addln(b){this.output+='\n'+this.indentation+(b||'')}},{key:"addCommentLn",value:function addCommentLn(b){if(b&&b.indexOf('//')===0){return}this.addln(b)}},{key:"get",value:function get(){return this.output}},{key:"indentln",value:function indentln(b){this.addln(b);this.indent()}},{key:"unindentln",value:function unindentln(b){this.unindent();this.addln(b)}},{key:"reset",value:function reset(){this.indentation='';this.output=''}}]);return Output}(e);a.apply(b.prototype,{indentation:'',output:'',isCompressed:!1,indentstr:'    ',splitThreshold:1000000,selectorCount:0});d.exports=b},{"./Base.js":3}],5:[function(b,k,q){"use strict";var a=b('./Base.js'),n=a.Base;var h=b('./type/Type.js');var g=b('./type/List.js');var o=b('./type/Bool.js');var l=b('./type/Color.js');var j=b('./type/ColorRGBA.js');var p=b('./type/Text.js');var d=b('./type/Literal.js');var f=b('./type/Statics.js');var i=b('./type/TypeVisitor.js');var m=b('./type/Types.js');var c=function(){function Scope(a){_classCallCheck(this,Scope);this.prev=a;this.map={};this.sourceInfo=null}_createClass(Scope,[{key:"get",value:function get(e){var d=this.map,c=this,a;while(d){a=d[e];if(a){return a}c=c.prev;d=c&&c.map}return a}},{key:"has",value:function has(d){var c=this.map,a=this;while(c){if(d in c){return !0}a=a.prev;c=a&&a.map}return !1}},{key:"put",value:function put(c,a){this.map[c]=a;return a}},{key:"addEntries",value:function addEntries(a){if(this.prev){this.prev.addEntries(a)}for(var c in this.map){a[c]=this.map[c]}}},{key:"getEntries",value:function getEntries(a){a=a||{};this.addEntries(a);return a}},{key:"getSourceInfo",value:function getSourceInfo(){return this.sourceInfo}},{key:"getCallStack",value:function getCallStack(a){a=a||[];if(this.sourceInfo){a.push(this.sourceInfo)}if(this.prev){this.prev.getCallStack(a)}return a}}]);return Scope}();a.apply(c.prototype,{$isScope:!0,map:undefined,prev:undefined,resetScope:undefined});var e=function(e){_inherits(Runtime,e);function Runtime(d){_classCallCheck(this,Runtime);var c=_possibleConstructorReturn(this,(Runtime.__proto__||Object.getPrototypeOf(Runtime)).call(this,d));var a=c;a.mixins={};a.functions={};a.processors=[];a.registered={runtime:a,box:f.boxType,unbox:f.unboxType,isArray:function isArray(a){return Array.isArray(a)},getRuntime:function getRuntime(){return this.runtime},handleArgs:function handleArgs(j,l){var f={},h=0,a;for(var i=0;i<j.length;i++){var c=j[i];if(c===undefined){continue}if(c===!0||c===!1){f[l[h]]=c;h++}else if(c.type===undefined){for(a in c){f[a.replace(/^\$/,'')]=c[a]}}else {a=l[h];if(a instanceof Array){a=a[0];f[a]=f[a]||new g();f[a].add(c)}else {f[a]=c;h++}}}return f},sliceArgs:function sliceArgs(c,a,f){return this.getRuntime().sliceArgs(c,a,f).items},tailArgs:function tailArgs(c,f){var a=Array.prototype.slice.call(f,c);if(a.length==1&&this.isArray(a)){a=a[0]}return a}};return c}_createClass(Runtime,[{key:"bool",value:function bool(a){return new o(a)}},{key:"color",value:function color(d){var a=l.map[d],c=new j(a[0],a[1],a[2],a[3]);c.stringified=d;return c}},{key:"quote",value:function quote(a){if(a.type==='string'){return a}return new p(a.toString())}},{key:"unquote",value:function unquote(a){if(a.$isFashionType){return a.unquote()}return new d(a.toString())}},{key:"not",value:function not(a){return this.box(this.unbox(a)==!1)}},{key:"operate",value:function operate(a,f,c){if(f==null||f.$isFashionNull){if(a!='=='&&a!='!='){return d.Null}}if(c==null||c.$isFashionNull){if(a!='=='&&a!='!='){return d.Null}}return f.operate(a,c)}},{key:"reset",value:function reset(){this._currentScope=null;this._currentCallStackScope=this.createCallStackScope();this._globalScope=this.createScope();this._dynamics={}}},{key:"run",value:function run(a,c){this.load(a);this.compile(a);return this.execute(c)}},{key:"createTypesBlock",value:function createTypesBlock(d){d=d||this.types;var g=Object.getOwnPropertyNames(d),c=[],a;for(var f=0;f<g.length;f++){a=g[f];c.push(a+' = Types.'+a);c.push("__"+a+' = '+a)}if(c.length===0){return ''}return 'var '+c.join(',\n    ')+';\n'}},{key:"createMethodBlock",value:function createMethodBlock(a){a=a||this.constructor.prototype;var d=[],f,c;while(a){f=Object.getOwnPropertyNames(a);for(var g=0;g<f.length;g++){c=f[g];if(typeof a[c]==='function'){d.push("__rt_"+c+' = __rt.'+c+'.bind(__rt)')}}a=Object.getPrototypeOf(a)}if(d.length===0){return ''}return 'var '+d.join(',\n    ')+';\n'}},{key:"createPropertyBlock",value:function createPropertyBlock(){var f=Object.getOwnPropertyNames(this),a=[],c;for(var d=0;d<f.length;d++){c=f[d];a.push("__rt_"+c+' = __rt.'+c)}if(a.length===0){return ''}return 'var '+a.join(',\n    ')+';\n'}},{key:"createPrefixedFunctionBody",value:function createPrefixedFunctionBody(a){a=this.createTypesBlock()+this.createMethodBlock()+this.createPropertyBlock()+a;return a}},{key:"createWrappedFn",value:function createWrappedFn(a){return new Function('Types','__rt','__gs','__udf','__dyn',this.createPrefixedFunctionBody(a))}},{key:"callWrappedFn",value:function callWrappedFn(d,c){return d(a,this,this._globalScope,undefined,c||{})}},{key:"compile",value:function compile(d){var f=this,c;this.code=d;new Function();c=this.createWrappedFn(d);this.fn=function(l,h,i){var g=l||f,j=i||{};g.reset();if(h){if(h.$isScope){g._globalScope=h}else {g._globalScope.map=h}}if(i){g._dynamics=i}g._currentScope=g._globalScope;g._scopeStack=[g._currentScope];try{c(f.types,g,g._globalScope,undefined,j)}catch(r){a.raiseAt(r.message||r,null,g.getCallStack())}return g._globalScope};return this.fn}},{key:"execute",value:function execute(a){return this.fn(this,a)}},{key:"load",value:function load(a){this.code=a;return this}},{key:"registerProcessor",value:function registerProcessor(a){this.processors.push(new i(a))}},{key:"register",value:function register(c){if(c['dynamic']){a.error('Cannot register javascript function named "dynamic"');delete c['dynamic']}if(c['require']){a.error('Cannot register javascript function named "require"');delete c['require']}a.apply(this.registered,c)}},{key:"isRegistered",value:function isRegistered(a){a=this.reserved[a]?'__'+a:a;return !!this.registered[a]}},{key:"getGlobalScope",value:function getGlobalScope(){return this._globalScope}},{key:"getCurrentScope",value:function getCurrentScope(){return this._currentScope}},{key:"getRegisteredFunctions",value:function getRegisteredFunctions(){return this.registered}},{key:"getFunctions",value:function getFunctions(){return this.functions}},{key:"getMixins",value:function getMixins(){return this.mixins}},{key:"createScope",value:function createScope(f){var a=f||this._currentScope,d=new c(a);return this.pushScope(d)}},{key:"pushScope",value:function pushScope(a){a.resetScope=this._currentScope;this._currentScope=a;return a}},{key:"popScope",value:function popScope(){this._currentScope=this._currentScope.resetScope;return this._currentScope}},{key:"createCallStackScope",value:function createCallStackScope(f){var a=f||this._currentCallStackScope,d=new c(a);return this.pushCallStackScope(d)}},{key:"pushCallStackScope",value:function pushCallStackScope(a){a.resetScope=this._currentCallStackScope;this._currentCallStackScope=a;return a}},{key:"popCallStackScope",value:function popCallStackScope(){this._currentCallStackScope=this._currentCallStackScope.resetScope;return this._currentCallStackScope}},{key:"getCallStack",value:function getCallStack(){if(this._currentCallStackScope){return this._currentCallStackScope.getCallStack()}return null}},{key:"pushSourceInfo",value:function pushSourceInfo(a){if(this._currentCallStackScope){this._currentCallStackScope.sourceInfo=a}return !0}},{key:"getSourceInfo",value:function getSourceInfo(){var c=this._currentCallStackScope,a=c&&c.sourceInfo;if(a&&a.length){return {lineNumber:a[0],file:a[1]}}return null}},{key:"get",value:function get(c){var d=this.getScopeForName(c),f=d.map[c];if(typeof f==='undefined'){if(!(c in d.map)){a.raiseAt('Reference to undeclared variable : '+c,null,this.getCallStack())}}return this.box(f)}},{key:"getScopeForName",value:function getScopeForName(c){var a=this._currentScope;while(a){if(c in a.map){return a}a=a.prev}return this._currentScope}},{key:"getDefault",value:function getDefault(a){if(a==null||typeof a==='undefined'){return undefined}if(a.$isFashionNull){if(this.constructor.allowNullDefaults){return a}return undefined}return this.box(a)}},{key:"getGlobalDefault",value:function getGlobalDefault(a){var c=this._globalScope.get(a);return this.getDefault(c)}},{key:"getLocalDefault",value:function getLocalDefault(a){var c=this._currentScope.get(a);return this.getDefault(c)}},{key:"setGlobal",value:function setGlobal(f,a,c){var d=this._globalScope;if(!a||!a.$isFashionLiteral){a=this.box(a)}a.ast=a.ast||this.getAstNode(c);d.map[f]=a;return a}},{key:"setDynamic",value:function setDynamic(g,c,f){var i=a.getJsName(g),h=this._globalScope,d;if(!c||!c.$isFashionLiteral){c=this.box(c)}c.ast=c.ast||this.getAstNode(f);if(c.$referenceName||c.$constant){d=c.clone();d.$previousReference=c;c=d;c.ast=this.getAstNode(f)}else {c.$referenceName=g}h.map[i]=c;return c}},{key:"setScoped",value:function setScoped(c,a){var d=this.getScopeForName(c);if(!a||!a.$isFashionLiteral){a=this.box(a)}d.map[c]=a;return a}},{key:"set",value:function set(d,a){var c=this._currentScope;if(!a||!a.$isFashionLiteral){a=this.box(a)}c.map[d]=a;return a}},{key:"getDocs",value:function getDocs(a){if(this.docCache){return this.docCache.get(a)}}},{key:"getString",value:function getString(a){if(this.stringCache){return this.stringCache.get(a)}}},{key:"getAstNode",value:function getAstNode(a){if(this.nodeCache){return this.nodeCache.get(a)}}},{key:"applySpread",value:function applySpread(a){a.spread=!0;return a}},{key:"sliceArgs",value:function sliceArgs(m,j,l){j=j||0;l=l||m.length;var f=[],i=[],h=', ',d,c,a;for(c=j;c<l;c++){a=m[c];if(!a){if(!d){f.push(a)}continue}if(a.spread&&a.$isFashionList){if(d){f.push(d)}d=a;h=d.separator||h}else {f.push(a)}}for(c=0;c<f.length;c++){a=f[c];h=a&&a.splatSeparator||h;i.push(f[c])}if(d){i.push.apply(i,d.items)}return new g(i,h)}},{key:"applySpreadArgs",value:function applySpreadArgs(w,x){var f=[],r=!1,v=0,c,o,i,p,h,l,g,d,n,s,m;n=this.context&&this.context.preprocessor;if(n){d=n.mixinDeclarations[x];if(d){v=1}else {d=n.functionDeclarations[x]}d=d&&d.parameters}for(o=0;o<w.length;o++){c=w[o];if(c&&c.spread&&c.$isFashionMap&&d){h=c.items;g={};for(l in c.map){g['$'+a.getJsName(l)]=c.map[l]}for(var t=0;t<d.length;t++){s=d[t];m=a.getJsName(s.name);if(m in g){f.push(h[g[m]]);delete g[m]}else if(!s.varArgs){f.push(undefined)}}for(l in g){i=h[g[l]];f.push(i)}r=!0}else if(c&&c.spread&&c.$isFashionList){h=c.getItems();for(p=0;p<h.length;p++){i=h[p];i&&(i.splatSeparator=c.separator);f.push(i)}r=!0}else if(c||!r){f.push(c)}c&&(c.spread=undefined)}var u=this.context&&this.context.missingParameters;if(u&&u=='error'){if(d){for(var j=0;j<d.length;j++){if(!d[j].hasOwnProperty('default')&&!d[j].varArgs){if(f[j+v]===undefined){a.raiseAt("No value supplied for argument : "+d[j].name,null,this.getCallStack())}}}}}return f}},{key:"warn",value:function warn(c){a.warn(c,this.getSourceInfo())}},{key:"error",value:function error(c){a.raiseAt(c,null,this.getCallStack())}},{key:"debug",value:function debug(){a.debug.apply(a,arguments)}},{key:"setCaches",value:function setCaches(a){this.docCache=a.docCache;this.stringCache=a.stringCache;this.nodeCache=a.nodeCache}},{key:"copyRuntimeState",value:function copyRuntimeState(a){this._dynamics=a._dynamics;this.registered=a.registered;this.functions=a.functions;this.mixins=a.mixins}},{key:"test",value:function test(a){a=this.unbox(a);if(a==null||a===!1){return !1}return !0}},{key:"and",value:function and(a,c){if(this.test(a)){return c}return a}},{key:"or",value:function or(a,c){if(this.test(a)){return a}return c}}]);return Runtime}(n);a.apply(e.prototype,{box:h.box,unbox:h.unbox,Scope:c,isFashionRuntime:!0,functions:null,code:null,fn:null,stringCache:null,docCache:null,types:m,_globalScope:null,_currentScope:null,_dynamics:null,context:null,reserved:{'if':!0,'else':!0}});k.exports=e},{"./Base.js":3,"./type/Bool.js":8,"./type/Color.js":9,"./type/ColorRGBA.js":11,"./type/List.js":15,"./type/Literal.js":16,"./type/Statics.js":22,"./type/Text.js":23,"./type/Type.js":24,"./type/TypeVisitor.js":25,"./type/Types.js":26}],6:[function(b,g,h){"use strict";var a=b('../Base.js');var f=b('../Runtime.js');var e=b('../parse/ValueParser.js');var d=b('../type/SourceBuilder.js');var c=function(){function CssVariableManager(){_classCallCheck(this,CssVariableManager);this.reset()}_createClass(CssVariableManager,[{key:"reset",value:function reset(){this.initFns=[];this.calcFns=[];this.variableMap={};this.runtime=null}},{key:"createRuntime",value:function createRuntime(){return new f()}},{key:"getRuntime",value:function getRuntime(){var a=this,c=a.runtime;if(!c){c=a.createRuntime();for(var d=0;d<a.initFns.length;d++){a.initFns[d](c)}a.runtime=c}return c}},{key:"calculate",value:function calculate(l){var m=this,n=m.getRuntime(),t={},s=new e(),q=m.variableMap,c,j,r,k,o,p,i,u;j=new n.Scope();for(k in l){c=a.getJsName(k.replace(m.nameRe,''));if(c.indexOf('$')!==0){c='$'+c}j.put(c,s.parse(l[k]))}n._globalScope=j;n._currentScope=j;for(var f=0;f<m.calcFns.length;f++){m.calcFns[f](n)}r=new d();l={};for(k in q){o=q[k];for(var f=0;f<o.length;f++){c=o[f];p='$'+a.getJsName(c);i=j.get(p);if(i){if(i.$isWrapper){i=i.value}l[c]=r.toSource(i)}}}return l}},{key:"applyVariables",value:function applyVariables(k){var l=this,j=l.variableMap;for(var f in j){var e=j[f];var a=document.querySelectorAll(f);if(a){for(var c=0;c<a.length;c++){for(var d=0;d<e.length;d++){var i=e[d];a[c].style.setProperty('--'+i,k[i])}}}}}},{key:"setVariables",value:function setVariables(a){this.applyVariables(this.calculate(a))}},{key:"register",value:function register(f,e,c){if(f){this.initFns.push(f)}if(e){this.calcFns.push(e)}if(c){var i=this.variableMap;for(var a in c){var d=i[a];if(!d){i[a]=c[a]}else {d.push.apply(d,c[a])}}}}},{key:"buildName",value:function buildName(a){return a.replace(/^--/,'').replace(/^\$/,'')}},{key:"buildJsName",value:function buildJsName(c){return a.getJsName(c)}},{key:"buildNames",value:function buildNames(c){var d={},a;for(a in c){d[a]=this.buildName(c[a])}return d}},{key:"buildJsNames",value:function buildJsNames(c){var d={},a;for(a in c){d[a]=this.buildJsName(c[a])}return d}},{key:"getVariables",value:function getVariables(){var l=this,j=l.variableMap,k={};for(var f in j){var e=j[f];var a=document.querySelectorAll(f);if(a){for(var c=0;c<a.length;c++){for(var d=0;d<e.length;d++){var i=e[d];k[i]=a[c].style.getPropertyValue('--'+i)}}}}return k}}]);return CssVariableManager}();a.apply(c.prototype,{$isExport:!0,nameRe:/^--/});g.exports=c},{"../Base.js":3,"../Runtime.js":5,"../parse/ValueParser.js":7,"../type/SourceBuilder.js":21}],7:[function(d,m,q){"use strict";var f=d('../Base.js');var b=d('../type/Type.js');var p=d('../type/Statics.js');var a=d('../type/Types.js'),n=a.Color,o=a.Text,k=a.Numeric,i=a.List,h=a.Bool,g=a.Literal,c=a.ColorRGBA,j=a.ColorHSLA,e=a.FunctionCall;var l=function(){function Parser(){_classCallCheck(this,Parser);this.index=0}_createClass(Parser,[{key:"_advance",value:function _advance(){var c=this,g='',h=c.str,i=h.length,b=!1,f=!1,e=0,a;while(c.index<i){a=h[c.index];c.index++;if(a<=' '){if(!b&&!e){if(g.length){break}continue}}if(a===';'&&!b&&!f){break}if(a==='('){e++}if(a===')'){e&&e--}if(a===','&&!b&&!f&&!e){if(g.length){c.index--;break}else {return a}}if(a==='\\'){if(b){f=1;c.index++;continue}}if(a==='"'||a==="'"){if(!b){b=a}else if(b===a){b=!1}}f=!1;g+=a}return g}},{key:"parseValue",value:function parseValue(a){var r={number:/^(\d+)(px|pt|pc|cm|mm|in|em|rem|ex)?$/g,shortHexColor:/^#([A-Fa-f0-9]{3})$/,longHexColor:/^#([A-Fa-f0-9]{6})$/,functionCall:/^([A-Za-z0-9_]+)\((.*)\)$/,parenList:/^\((.*?)\)$/},i,u;if(a[0]==='"'||a[0]==="'"){u=a=a.substring(1,a.length-1);return new o(u,a[0])}if(a==='true'){return new h(!0)}if(a==='false'){return new h(!1)}if(a==='null'){return g.Null}if(a==='none'){return g.None}if(f.Color.map[a]){var s=n.map[a],t=new c(s[0],s[1],s[2],s[3]);t.stringified=a;return t}if(i=r.number.exec(a)){return new k(parseFloat(i[1]),i[2])}if(i=r.shortHexColor.exec(a)){return c.fromHex(i[1])}if(i=r.longHexColor.exec(a)){return c.fromHex(i[1])}if(i=r.functionCall.exec(a)){var p=i[1],l=this.parse(i[2]).items;if(p==='hsla'||p==='hsl'){return new j(b.unbox(l[0]),b.unbox(l[1]),b.unbox(l[2]),b.unbox(l[3])||1)}else if(p==='rgba'||p==='rgb'){return new c(b.unbox(l[0]),b.unbox(l[1]),b.unbox(l[2]),b.unbox(l[3])||1)}return new e(p,l)}if(i=r.parenList.exec(a)){return new e(this.parse(i[1]))}return new f.Literal(a)}},{key:"parse",value:function parse(h){var c=this,g=[],e=[],a=null,b;c.str=h;c.index=0;while(b=c._advance()){g.push(b)}for(var f=0;f<g.length;f++){b=g[f].trim();if(g[f+1]===','){a=a||[];a.push(c.parseValue(b));f++}else if(a){a.push(c.parseValue(b));e.push(new i(a,', '));a=null}else {e.push(c.parseValue(b))}}if(e.length===1){return e[0]}return new i(e,' ')}}]);return Parser}();m.exports=l},{"../Base.js":3,"../type/Statics.js":22,"../type/Type.js":24,"../type/Types.js":26}],8:[function(b,d,f){"use strict";var c=b('../Base.js');var e=b('./Type.js');var a=function(a){_inherits(Bool,a);function Bool(e){_classCallCheck(this,Bool);var c=_possibleConstructorReturn(this,(Bool.__proto__||Object.getPrototypeOf(Bool)).call(this));c.value=!!e;return c}_createClass(Bool,[{key:"doVisit",value:function doVisit(c){c.bool(this)}},{key:"toString",value:function toString(){return this.value?'true':'false'}},{key:"copy",value:function copy(){return new Bool(this.value)}}]);return Bool}(e);c.apply(a.prototype,{type:'bool',$isFashionBool:!0,value:null});a.True=new a(!0);a.True.$constant=!0;a.False=new a(!1);a.False.$constant=!0;d.exports=a},{"../Base.js":3,"./Type.js":24}],9:[function(a,e,h){"use strict";var c=a('../Base.js');var g=a('./Type.js');var f=a('./Bool.js');var d=a('./Numeric.js');var b=function(b){_inherits(Color,b);function Color(){_classCallCheck(this,Color);return _possibleConstructorReturn(this,(Color.__proto__||Object.getPrototypeOf(Color)).call(this))}_createClass(Color,[{key:"toBoolean",value:function toBoolean(){return f.True}},{key:"getRGBA",value:function getRGBA(){return this}},{key:"getHSLA",value:function getHSLA(){return this}}],[{key:"component",value:function component(g,f){var k=Color.units[f],j=Color.types[f],i=Color.comps[f],c;if(j=='hsla'){c=g.getHSLA()}else {c=g.getRGBA()}return new d(c[i],k)}},{key:"adjust",value:function adjust(g,d,f){var c=g.getHSLA().copy(),j=Color.comps[d],i=f.value;c[j]+=i;c.h=Color.constrainDegrees(c.h);c.s=Color.constrainPercentage(c.s);c.l=Color.constrainPercentage(c.l);return c.getRGBA()}},{key:"constrainChannel",value:function constrainChannel(c){return Math.max(0,Math.min(c,255))}},{key:"constrainPercentage",value:function constrainPercentage(c){return Math.max(0,Math.min(c,100))}},{key:"constrainDegrees",value:function constrainDegrees(c){c=c%360;return c<0?360+c:c}},{key:"constrainAlpha",value:function constrainAlpha(c){if(c===undefined){return 1}return Math.max(0,Math.min(c,1))}}]);return Color}(g);c.apply(b,{units:{lightness:'%',saturation:'%',hue:'deg'},types:{red:'rgba',blue:'rgba',green:'rgba',alpha:'rgba',hue:'hsla',saturation:'hsla',lightness:'hsla'},comps:{red:'r',green:'g',blue:'b',alpha:'a',hue:'h',saturation:'s',lightness:'l'},map:{aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5],transparent:[0,0,0,0]}});c.apply(b.prototype,{type:'color',$isFashionColor:!0,$isFashionRGBA:!1,$isFashionHSLA:!1,$canUnbox:!1});e.exports=b},{"../Base.js":3,"./Bool.js":8,"./Numeric.js":18,"./Type.js":24}],10:[function(c,f,g){"use strict";var e=c('../Base.js');var a=c('./Color.js');var d=c('./ColorRGBA.js');var b=function(b){_inherits(ColorHSLA,b);function ColorHSLA(h,j,i,e){_classCallCheck(this,ColorHSLA);var d=_possibleConstructorReturn(this,(ColorHSLA.__proto__||Object.getPrototypeOf(ColorHSLA)).call(this));d.h=a.constrainDegrees(h);d.s=j;d.l=i;if(e!==undefined){d.a=e}return d}_createClass(ColorHSLA,[{key:"doVisit",value:function doVisit(a){a.hsla(this)}},{key:"operate",value:function operate(a,d){return this.getRGBA().operate(a,d)}},{key:"copy",value:function copy(){return new ColorHSLA(this.h,this.s,this.l,this.a)}},{key:"getRGBA",value:function getRGBA(){return d.fromHSLA(this)}},{key:"toString",value:function toString(){return this.getRGBA().toString()}},{key:"add",value:function add(e,i,h,d){return new ColorHSLA(a.constrainDegrees(this.h+e),a.constrainPercentage(this.s+i),a.constrainPercentage(this.l+h),a.constrainAlpha(this.a*d))}},{key:"subtract",value:function subtract(a,e,d){return this.add(-a,-e,-d)}},{key:"adjustLightness",value:function adjustLightness(d){this.l=a.constrainPercentage(this.l+d);return this}},{key:"adjustHue",value:function adjustHue(d){this.h=a.constrainDegrees(this.h+d);return this}}],[{key:"fromRGBA",value:function fromRGBA(h){if(h.$isFashionHSLA){return h.clone()}var l=h.r/255,k=h.g/255,m=h.b/255,p=h.a,e=Math.max(l,k,m),j=Math.min(l,k,m),i=e-j,d=0,o=0,n=0.5*(e+j);if(j!=e){o=n<0.5?i/(e+j):i/(2-e-j);if(l==e){d=60*(k-m)/i}else if(k==e){d=120+60*(m-l)/i}else {d=240+60*(l-k)/i}if(d<0){d+=360}if(d>=360){d-=360}}return new ColorHSLA(a.constrainDegrees(d),a.constrainPercentage(o*100),a.constrainPercentage(n*100),p)}}]);return ColorHSLA}(a);d.prototype.getHSLA=function(){return b.fromRGBA(this)};e.apply(b.prototype,{type:'hsla',$isFashionHSLA:!0,h:null,s:null,l:null,a:1});f.exports=b},{"../Base.js":3,"./Color.js":9,"./ColorRGBA.js":11}],11:[function(d,e,f){"use strict";var c=d('../Base.js');var b=d('./Color.js');function hex2(b){var a=b.toString(16);if(a.length<2){a='0'+a}return a}var a=function(a){_inherits(ColorRGBA,a);function ColorRGBA(i,h,g,c){_classCallCheck(this,ColorRGBA);var b=_possibleConstructorReturn(this,(ColorRGBA.__proto__||Object.getPrototypeOf(ColorRGBA)).call(this));b.r=Math.min(255,Math.max(0,i));b.g=Math.min(255,Math.max(0,h));b.b=Math.min(255,Math.max(0,g));if(c!==undefined){b.a=Math.min(1,Math.max(0,c))}return b}_createClass(ColorRGBA,[{key:"doVisit",value:function doVisit(b){b.rgba(this)}},{key:"copy",value:function copy(){return new ColorRGBA(this.r,this.g,this.b,this.a)}},{key:"getHSLA",value:function getHSLA(){return null}},{key:"stringify",value:function stringify(){var c=this,g=Math.round,k=g(c.r),j=g(c.g),i=g(c.b),h=c.a,b='';if(h===1){b='#'+hex2(k)+hex2(j)+hex2(i)}else {b='rgba('+k+', '+j+', '+i+', '+h+')'}b=b.toLowerCase();return b}},{key:"getCompressedValue",value:function getCompressedValue(b){var g=ColorRGBA.stringifiedMap[b],c=ColorRGBA.shortFormMap[b];if(g){b=b.length>g.length?g:b}if(ColorRGBA.useShortValues&&c){b=b.length>c.length?c:b}return b}},{key:"toString",value:function toString(){if(!this.stringified){this.stringified=this.getCompressedValue(this.stringify())}return this.stringified}},{key:"toIeHexStr",value:function toIeHexStr(){var c=this,b=Math.round,j=b(c.r),i=b(c.g),h=b(c.b),g=b(255*c.a);return '#'+hex2(g)+hex2(j)+hex2(i)+hex2(h)}},{key:"add",value:function add(h,g,c,b){return new ColorRGBA(this.r+h,this.g+g,this.b+c,this.a*b)}},{key:"subtract",value:function subtract(g,c,b){return new ColorRGBA(this.r-g,this.g-c,this.b-b,this.a)}},{key:"multiply",value:function multiply(b){return new ColorRGBA(this.r*b,this.g*b,this.b*b,this.a)}},{key:"divide",value:function divide(b){return new ColorRGBA(this.r/b,this.g/b,this.b/b,this.a)}}],[{key:"fromHex",value:function fromHex(b){if(b.charAt(0)=='#'){b=b.substr(1)}var h,g,c;if(b.length===3){h=parseInt(b.charAt(0),16);g=parseInt(b.charAt(1),16);c=parseInt(b.charAt(2),16);h=(h<<4)+h;g=(g<<4)+g;c=(c<<4)+c}else {h=parseInt(b.substring(0,2),16);g=parseInt(b.substring(2,4),16);c=parseInt(b.substring(4,6),16)}var i=new ColorRGBA(h,g,c);if(ColorRGBA.preserveInputStrings){i.stringified="#"+b}return i}},{key:"fromHSLA",value:function fromHSLA(j){if(j.$isFashionRGBA){return j.clone()}var h=j,k=h.h/360,l=h.s/100,g=h.l/100,m=h.a;var i=g<=0.5?g*(l+1):g+l-g*l,c=g*2-i;function hue(b){if(b<0){++b;}if(b>1){--b;}if(b*6<1){return c+(i-c)*b*6;}if(b*2<1){return i;}if(b*3<2){return c+(i-c)*(2/3-b)*6;}return c}var p=b.constrainChannel(hue(k+1/3)*255),o=b.constrainChannel(hue(k)*255),n=b.constrainChannel(hue(k-1/3)*255);return new ColorRGBA(p,o,n,m)}}]);return ColorRGBA}(b);c.apply(a,{stringifiedMap:{'rgba(0, 0, 0, 0)':'transparent'},shortFormMap:{},useShortValues:!0,preserveInputStrings:!1});c.apply(a.prototype,{type:'rgba',$isFashionRGBA:!0,r:null,g:null,b:null,a:1,stringified:null,"+.number":function number(b){var a=b.value,c=b.unit;switch(c){case '%':return this.getHSLA().adjustLightness(a).getRGBA();case 'deg':return this.getHSLA().adjustHue(a).getRGBA();default:return this.add(a,a,a,1);}},"+.rgba":function rgba(a){return this.add(a.r,a.g,a.b,a.a)},"+.hsla":function hsla(a){return this.getHSLA().add(a.h,a.s,a.l)},"-.number":function number(b){var a=b.value,c=b.unit;switch(c){case '%':return this.getHSLA().adjustLightness(-a).getRGBA();case 'deg':return this.getHSLA().adjustHue(-a).getRGBA();default:return this.subtract(a,a,a);}},"-.rgba":function rgba(a){return this.subtract(a.r,a.g,a.b)},"-.hsla":function hsla(a){return this.getHSLA().subtract(a.h,a.s,a.l)},"*.number":function number(a){return this.multiply(a.value)},"/.number":function number(a){return this.divide(a.value)},"*.rgba":function rgba(b){return new a(this.r*b.r,this.g*b.g,this.b*b.b,this.a*b.a)},"/.rgba":function rgba(b){return new a(Math.floor(this.r/b.r),Math.floor(this.g/b.g),Math.floor(this.b/b.b),Math.floor(this.a/b.a))}});e.exports=a;(function(l,k,i,g){var c=['0','1','2','3','4','5','6','7','8','9','a','b','c','d','e','f'],h=Object.keys(i),b;h.sort();for(b=0;b<h.length;b++){var j=h[b],a=i[j],m=new l(a[0],a[1],a[2],a[3]),n=m.stringify();k[n]=j}c.forEach(function(a){var b=a+a;c.forEach(function(h){var j=h+h;c.forEach(function(n){var p=n+n,c='#'+a+h+n,m='#'+b+j+p;if(g[m]){var o=g[m];c=o.length>c.length?c:o}g[m]=c})})})})(a,a.stringifiedMap,b.map,a.shortFormMap)},{"../Base.js":3,"./Color.js":9}],12:[function(a,e,g){"use strict";var c=a('../Base.js');var f=a('./Type.js');var d=a('./Numeric.js');var b=function(b){_inherits(ColorStop,b);function ColorStop(d,f){_classCallCheck(this,ColorStop);var c=_possibleConstructorReturn(this,(ColorStop.__proto__||Object.getPrototypeOf(ColorStop)).call(this));c.color=d;c.stop=f;return c}_createClass(ColorStop,[{key:"doVisit",value:function doVisit(c){c.colorstop(this)}},{key:"descend",value:function descend(c){c.visit(this.color);c.visit(this.stop)}},{key:"toString",value:function toString(){var d=this.color.toString(),c=this.stop;if(c){c=c.copy();d+=' ';if(!c.unit){c.value*=100;c.unit='%'}d+=c.toString()}return d}},{key:"toOriginalWebkitString",value:function toOriginalWebkitString(){var c=this.stop;if(!c){c=new d(0,'%')}c=c.copy();if(!c.unit){c.value*=100;c.unit='%'}return 'color-stop('+c.toString()+', '+this.color.toString()+')'}},{key:"copy",value:function copy(){return new ColorStop(this.color&&this.color.clone(),this.stop&&this.stop.clone())}}]);return ColorStop}(f);c.apply(b.prototype,{type:'colorstop',$isFashionColorStop:!0,$canUnbox:!1,color:null,stop:null});e.exports=b},{"../Base.js":3,"./Numeric.js":18,"./Type.js":24}],13:[function(a,d,g){"use strict";var c=a('../Base.js');var f=a('./Type.js');var e=a('./List.js');var b=function(b){_inherits(FunctionCall,b);function FunctionCall(h,c){_classCallCheck(this,FunctionCall);var f=_possibleConstructorReturn(this,(FunctionCall.__proto__||Object.getPrototypeOf(FunctionCall)).call(this));f.name=h;if(Array.isArray(c)){c=new e(c)}f.args=c;return f}_createClass(FunctionCall,[{key:"toString",value:function toString(){var e=this.args,c;if(Array.isArray(e)){c=e.join(', ')}else {c=e.toString()}return this.name+"("+c+')'}},{key:"doVisit",value:function doVisit(c){c.functioncall(this)}},{key:"descend",value:function descend(c){this.args&&c.visit(this.args)}},{key:"copy",value:function copy(){return new FunctionCall(this.name,this.args&&this.args.copy())}}]);return FunctionCall}(f);c.apply(b.prototype,{type:'functioncall',$isFashionFunctionCall:!0,$canUnbox:!1,name:null,args:null});d.exports=b},{"../Base.js":3,"./List.js":15,"./Type.js":24}],14:[function(b,d,f){"use strict";var c=b('../Base.js');var e=b('./Type.js');var a=function(a){_inherits(LinearGradient,a);function LinearGradient(e,g){_classCallCheck(this,LinearGradient);var c=_possibleConstructorReturn(this,(LinearGradient.__proto__||Object.getPrototypeOf(LinearGradient)).call(this));c.position=e;c.stops=g;return c}_createClass(LinearGradient,[{key:"doVisit",value:function doVisit(c){c.lineargradient(this)}},{key:"descend",value:function descend(c){c.visit(this.position);c.visit(this.stops)}},{key:"copy",value:function copy(){return new LinearGradient(this.position&&this.position.clone(),this.stops&&this.stops.clone())}},{key:"gradientPoints",value:function gradientPoints(c){}},{key:"operate",value:function operate(e,c){switch(e){case "!=":if(c.type=='literal'&&(c.value=='null'||c.value=='none')){return !0};case "==":if(c.type=='literal'&&(c.value=='null'||c.value=='none')){return !1};}return _get(LinearGradient.prototype.__proto__||Object.getPrototypeOf(LinearGradient.prototype),"operate",this).call(this,e,c)}},{key:"supports",value:function supports(c){return !!this.vendorPrefixes[c.toLowerCase()]}},{key:"toString",value:function toString(){var c='linear-gradient(';if(this.position){c+=this.position+', '}return c+this.stops+')'}},{key:"toOriginalWebkitString",value:function toOriginalWebkitString(){var c=[],g=this.stops.items,h=g.length,e;c.push('top');c.push('bottom');for(e=0;e<h;e++){c.push(g[e].toOriginalWebkitString())}return '-webkit-gradient(linear, '+c.join(', ')+')'}},{key:"toPrefixedString",value:function toPrefixedString(c){if(c==='owg'){return this.toOriginalWebkitString()}return c+this.toString()}}]);return LinearGradient}(e);c.apply(a.prototype,{type:'lineargradient',$isFashionLinearGradient:!0,$canUnbox:!1,position:null,stops:null,vendorPrefixes:{webkit:!0,moz:!0,svg:!0,pie:!0,css2:!0,o:!0,owg:!0}});d.exports=a},{"../Base.js":3,"./Type.js":24}],15:[function(a,d,f){"use strict";var c=a('../Base.js');var e=a('./Type.js');var b=function(b){_inherits(List,b);function List(g,e){_classCallCheck(this,List);var c=_possibleConstructorReturn(this,(List.__proto__||Object.getPrototypeOf(List)).call(this));c.items=g||[];c.separator=typeof e==='undefined'?' ':e;return c}_createClass(List,[{key:"doVisit",value:function doVisit(c){c.list(this)}},{key:"descend",value:function descend(e){for(var c=0;c<this.items.length;c++){e.visit(this.items[c])}}},{key:"copy",value:function copy(){var g=this.items,h=g.length,e=[];for(var c=0;c<h;c++){e.push(g[c].clone())}return new List(e,this.separator)}},{key:"clone",value:function clone(k,g){if(g&&this.matches(k)){return g.clone()}var j=this.items,l=j.length,e=[];for(var i=0;i<l;i++){var h=j[i];if(h){e.push(h.clone(k,g))}else {e.push(h)}}var c=new List(e,this.separator);c.$referenceName=this.$referenceName;c.$referenceBase=this.$referenceBase;c.$previousReference=this.$previousReference;return c}},{key:"add",value:function add(c){return this.items.push(c)}},{key:"get",value:function get(c){return this.items[c-1]||null}},{key:"operate",value:function operate(e,c){switch(e){case '!=':if(c.$isFashionLiteral){if(c.value==='null'||c.value==='none'){return !0}};break;case '==':if(c.$isFashionLiteral){if(c.value==='null'||c.value==='none'){return !1}};break;}return _get(List.prototype.__proto__||Object.getPrototypeOf(List.prototype),"operate",this).call(this,e,c)}},{key:"supports",value:function supports(e){for(var c=0;c<this.items.length;c++){var g=this.items[c];if(g.supports(e)){return !0}}return !1}},{key:"toBoolean",value:function toBoolean(){return !!this.items.length}},{key:"getItems",value:function getItems(){return this.items}},{key:"toString",value:function toString(){return this.items.join(this.separator)}},{key:"unquote",value:function unquote(){var e=[],c;for(var g=0;g<this.items.length;g++){c=this.items[g];if(c){e.push(c.unquote())}else {e.push(c)}}return new List(e,this.separator)}},{key:"toPrefixedString",value:function toPrefixedString(h){var e=[];for(var c=0;c<this.items.length;c++){var g=this.items[c];if(g){e.push(g.toPrefixedString(h))}}return e.join(this.separator)}},{key:'==.list',value:function list(g){var e=this.separator==g.separator&&this.items.length==g.items.length;for(var c=0;e&&c<this.items.length;++c){e=this.items[c].operate("==",g.items[c])}return e}}]);return List}(e);c.apply(b.prototype,{type:'list',$isFashionList:!0,items:null,separator:null});d.exports=b},{"../Base.js":3,"./Type.js":24}],16:[function(d,g,h){"use strict";var e=d('../Base.js');var b=d('./Type.js');var f=d('./Numeric.js');var a=function(a){_inherits(Literal,a);function Literal(c){_classCallCheck(this,Literal);var b=_possibleConstructorReturn(this,(Literal.__proto__||Object.getPrototypeOf(Literal)).call(this));b.value=c;return b}_createClass(Literal,[{key:"doVisit",value:function doVisit(b){b.literal(this)}},{key:"_getHash",value:function _getHash(){return this.value}},{key:"toString",value:function toString(){return this.value||''}},{key:"toBoolean",value:function toBoolean(){return this.value.length}},{key:"copy",value:function copy(){return new Literal(this.value)}},{key:'+',value:function _(b){return new Literal(this.value+b.getHash())}},{key:'+.number',value:function number(b){if(this.value===null){return b}return new Literal(this.value+b.toString())}},{key:'/',value:function _(b){return new Literal(this.value+'/'+b.getHash())}},{key:'-',value:function _(b){return new Literal(this.value+'-'+b.getHash())}},{key:'%',value:function _(b){return new Literal(this.value+'%'+b.getHash())}},{key:"normalizeStart",value:function normalizeStart(e){var c=b.unbox(e)||0;if(c>0){c=c-1}if(c<0){c=this.value.length+c}if(c<0){c=0}return c}},{key:"normalizeEnd",value:function normalizeEnd(e){var c=b.unbox(e)||-1;if(c>0){c=c-1}if(c<0){c=this.value.length+c}if(c<0){c=0}if(c>0){c=c+1}return c}},{key:"slice",value:function slice(b,c){b=this.normalizeStart(b);c=this.normalizeEnd(c);return new Literal(this.value.slice(b,c))}},{key:"toUpperCase",value:function toUpperCase(){return new Literal(this.value.toUpperCase())}},{key:"toLowerCase",value:function toLowerCase(){return new Literal(this.value.toLowerCase())}},{key:"indexOf",value:function indexOf(c){var b=this.value.indexOf(c.value);if(b===-1){return undefined}return new f(b+1)}},{key:"insert",value:function insert(i,f){var c=b.unbox(f)||0,e=this.value;if(c>0){c=Math.min(c-1,e.length)}if(c<0){c=e.length+c+1;c=Math.max(c,0)}e=e.substring(0,c)+i.value+e.substring(c);return new Literal(Literal.deEscape(e))}},{key:"toDisplayString",value:function toDisplayString(){var b=this.value;if(b===null){return "null"}return this.toString()}}],[{key:"tryCoerce",value:function tryCoerce(b){if(b.$isFashionNumber){return undefined}if(b.$isFashionString){return new Literal(b.value)}if(b.$isFashionLiteral){return b}return new Literal(b.getHash())}},{key:"deEscape",value:function deEscape(e){var f='',b,c;for(b=0;b<e.length;b++){c=e.charAt(b);if(c==='\\'){b++;c=e.charAt(b)}f+=c}return f}}]);return Literal}(b);e.apply(a.prototype,{type:'literal',$isFashionLiteral:!0,value:null});var c=function(a){_inherits(FashionNull,a);function FashionNull(b){_classCallCheck(this,FashionNull);return _possibleConstructorReturn(this,(FashionNull.__proto__||Object.getPrototypeOf(FashionNull)).call(this,b||null))}_createClass(FashionNull,[{key:"copy",value:function copy(){return new FashionNull(this.value)}}]);return FashionNull}(a);e.apply(c.prototype,{$isFashionNull:!0,$constant:!0});c.prototype.$isFashionNull=!0;a.Null=new c(null);a.None=new a('none');g.exports=a},{"../Base.js":3,"./Numeric.js":18,"./Type.js":24}],17:[function(a,g,j){"use strict";var d=a('../Base.js');var b=a('./List.js');var i=a('./Type.js');var e=a('./Literal.js'),h=e.Null;var f=a('./Numeric.js');var c=function(c){_inherits(Map,c);function Map(b){_classCallCheck(this,Map);var e=_possibleConstructorReturn(this,(Map.__proto__||Object.getPrototypeOf(Map)).call(this,b));e.map={};if(b){for(var d=0;d<b.length-1;d+=2){var f=e.toKey(b[d]),h=b[d+1];e.map[f]=d+1}}return e}_createClass(Map,[{key:"doVisit",value:function doVisit(b){b.map(this)}},{key:"descend",value:function descend(d){for(var b=0;b<this.items.length;b++){d.visit(this.items[b])}}},{key:"get",value:function get(d){if(d instanceof f){d=i.unbox(d)}if(typeof d==='number'){return new b([this.items[2*d-2],this.items[2*d-1]],' ')}d=this.toKey(d);return this.items[this.map[d]]||h}},{key:"getItems",value:function getItems(){var d=[];for(var b=0;b<this.items.length-1;b+=2){var e=this.toKey(this.items[b]);d.push(this.map[e])}return d}},{key:"put",value:function put(e,d){var b=this.toKey(e);if(!this.map.hasOwnProperty(b)){this.items.push(e,d);this.map[b]=this.items.length-1}else {this.items[this.map[b]]=d}}},{key:"toString",value:function toString(){var b='',e=0;for(var d=0;d<this.items.length-1;d+=2){var h=this.toKey(this.items[d]),f=this.map[h];if(f){if(e>0){b+=', '}b+=h+": "+f.toString();e++}}return b}},{key:"toKey",value:function toKey(b){return this.unquoteKey(b).toString()}},{key:"unquoteKey",value:function unquoteKey(b){if(b.$isFashionType){return b.unquote()}return b}},{key:"remove",value:function remove(b){b=this.toKey(b);if(this.map[b]){var d=this.map[b];delete this.items[d-1];delete this.items[d];delete this.map[b]}}},{key:"getKeys",value:function getKeys(){var d=[];for(var b=0;b<this.items.length;b+=2){var e=this.items[b];if(e){d.push(e)}}return d}},{key:"getValues",value:function getValues(){var d=[];for(var b=1;b<this.items.length;b+=2){var e=this.items[b];if(e){d.push(e)}}return d}},{key:"hasKey",value:function hasKey(b){b=this.toKey(b);if(this.map.hasOwnProperty(b)){return !0}return !1}}]);return Map}(b);d.apply(c.prototype,{type:"map",$isFashionMap:!0,$canUnbox:!1,map:null});g.exports=c},{"../Base.js":3,"./List.js":15,"./Literal.js":16,"./Numeric.js":18,"./Type.js":24}],18:[function(c,f,h){"use strict";var b=c('../Base.js');var g=c('./Type.js');var e=c('./Bool.js');var a=c('./Literal.js');var d=function(d){_inherits(Numeric,d);function Numeric(i,b,e,g){_classCallCheck(this,Numeric);var a=_possibleConstructorReturn(this,(Numeric.__proto__||Object.getPrototypeOf(Numeric)).call(this));a.value=i;a.unit=b;if(b&&!e){a.numeratorUnits=[b]}else {a.numeratorUnits=e||[]}a.denominatorUnits=g||[];return a}_createClass(Numeric,[{key:"doVisit",value:function doVisit(a){a.number(this)}},{key:"unitless",value:function unitless(){if(this.numeratorUnits&&this.numeratorUnits.length){return !1}if(this.denominatorUnits&&this.denominatorUnits.length){return !1}return !0}},{key:"getUnitStr",value:function getUnitStr(){this.normalizeUnits();var a=this.numeratorUnits.join('*');if(this.denominatorUnits.length){a+='/'+this.denominatorUnits.join('*')}return a}},{key:"_getHash",value:function _getHash(){return this.value}},{key:"stringify",value:function stringify(){this.normalizeUnits();var b=this.value,a;a=Math.round(b*100000)/100000+'';return a+this.getUnitStr()}},{key:"toString",value:function toString(){return this.stringify()}},{key:"toBoolean",value:function toBoolean(){return this.unit?!0:!!this.value}},{key:"copy",value:function copy(){return new Numeric(this.value,this.unit)}},{key:'-.literal',value:function literal(b){if(this.value===0&&this.unitless()){return new a(['-',b.toString()].join(''))}return new a([this.toString(),'-',b.toString()].join(''))}},{key:'-.string',value:function string(b){if(this.value===0&&this.unitless()){return new a(['-',b.toString()].join(''))}return new a([this.toString(),'-',b.toString()].join(''))}},{key:'-.number',value:function number(a){var b=a.value;if(a.unit=='%'&&a.unit!==this.unit){b=this.value*(a.value/100)}return new Numeric(this.value-b,this.unit||a.unit)}},{key:'+.literal',value:function literal(b){if(b.$isFashionString){return new a([this.toString(),b.value].join(''))}return new a([this.toString(),b.toString()].join(''))}},{key:'+.number',value:function number(a){var b=a.value;if(a.unit=='%'&&a.unit!==this.unit){b=this.value*(a.value/100)}return new Numeric(this.value+b,this.unit||a.unit)}},{key:'/',value:function _(a){return new Numeric(this.value/a.value,this.unit==a.unit?null:this.unit||a.unit)}},{key:'*',value:function _(a){return new Numeric(this.value*a.value,this.unit||a.unit)}},{key:'%',value:function _(a){return new Numeric(this.value%a.value,this.unit||a.unit)}},{key:'**',value:function _(a){return new Numeric(Math.pow(this.value,a.value),this.unit||a.unit)}},{key:"operate",value:function operate(e,b){var i=this.unit||b.unit,g;if(b.$isFashionRGBA||b.$isFashionHSLA){return new a(this+e+b)}if(b.$isFashionNumber){return this.numericOperate(e,b)}else if(b.$isFashionLiteral){g=this.tryCoerce(b);if(g){return this.performOperation(e,g)}}return _get(Numeric.prototype.__proto__||Object.getPrototypeOf(Numeric.prototype),"operate",this).call(this,e,b)}},{key:"tryNormalize",value:function tryNormalize(e){var a=e.value,b=e.unit;if(e.$isFashionNumber){switch(this.unit){case 'mm':switch(b){case 'in':return new Numeric(a*25.4,'mm');case 'cm':return new Numeric(a*2.54,'mm');};break;case 'cm':switch(b){case 'in':return new Numeric(a*2.54,'cm');case 'mm':return new Numeric(a/10,'cm');};break;case 'in':switch(b){case 'mm':return new Numeric(a/25.4,'in');case 'cm':return new Numeric(a/2.54,'in');};break;case 'ms':switch(b){case 's':return new Numeric(a*1000,'ms');};break;case 's':switch(b){case 'ms':return new Numeric(a/1000,'s');};break;case 'Hz':switch(b){case 'kHz':return new Numeric(a*1000,'Hz');};break;case 'kHz':switch(b){case 'Hz':return new Numeric(a/1000,'kHz');};break;case '%':switch(b){default:return new Numeric(a);};default:break;}}return undefined}},{key:"normalize",value:function normalize(a){var b=this.tryNormalize(a);if(b===undefined){raise('Could not normalize '+this+' with '+a)}return b}},{key:"comparable",value:function comparable(e){var b=this.unit,a=e.unit;if(!e.$isFashionNumber){return !1}return b===a||b==='mm'&&(a==='in'||a==='cm')||b==='cm'&&(a==='in'||a==='mm')||b==='in'&&(a==='mm'||a==='cm')||b==='ms'&&a==='s'||b==='s'&&a==='ms'||b==='Hz'&&a==='kHz'||b==='kHz'&&a==='Hz'}},{key:"normalizeUnits",value:function normalizeUnits(){if(this.normalized){return}this.normalized=!0;if(!this.unitless()){var a=this.removeCommonUnits(this.numeratorUnits,this.denominatorUnits),e;a.num=b.filter(a.num,function(a){return !!a});a.den=b.filter(a.den,function(a){return !!a});this.numeratorUnits=a.num;this.denominatorUnits=a.den}}},{key:"numericOperate",value:function numericOperate(g,l){this.normalizeUnits();l.normalizeUnits();var a=this,b=l,n=Numeric.OPERATIONS,m=Numeric.NON_COERCE_OPERATIONS,k=n[g],i;if(k){try{if(a.unitless()){a=a.coerceUnits(b.numeratorUnits,b.denominatorUnits)}else {b=b.coerceUnits(a.numeratorUnits,a.denominatorUnits)}}catch(o){if(g=='=='){return e.False}if(g=='!='){return e.True}throw o}}else {k=m[g]}if(k){i=k(a.value,b.value)}if(typeof i==='number'){var j=this.computeUnits(a,b,g);return new Numeric(i,j.num.length?j.num[0]:null,j.num,j.den)}return new e(i)}},{key:"computeUnits",value:function computeUnits(a,b,e){switch(e){case '*':return {num:a.numeratorUnits.slice().concat(b.numeratorUnits),den:a.denominatorUnits.slice().concat(b.denominatorUnits)};case '/':return {num:a.numeratorUnits.slice().concat(b.denominatorUnits),den:a.denominatorUnits.slice().concat(b.numeratorUnits)};default:return {num:a.numeratorUnits,den:a.denominatorUnits};}}},{key:"coerceUnits",value:function coerceUnits(a,e){var b=this.value;if(!this.unitless()){b=b*this.coercionFactor(this.numeratorUnits,a)/this.coercionFactor(this.denominatorUnits,e)}return new Numeric(b,a&&a[0],a,e)}},{key:"coercionFactor",value:function coercionFactor(o,l){var k=this.removeCommonUnits(o,l),a=k.num,e=k.den;if(a.length!==e.length||!this.convertable(a||e)){b.raise('Incompatible units: '+a.join('*')+' and '+e.join('*'))}for(var g=0;g<a.length;g++){var m=a[g];for(var i=0;i<e.length;i++){var n=e[i],j=this.conversionFactor(m,n);if(j!==null){return j}}}return 1}},{key:"conversionFactor",value:function conversionFactor(b,g){var a=Numeric.CONVERTABLE_UNITS,i=Numeric.CONVERSION_TABLE,e=null;if(a[b]){if(a[g]){e=i[a[b]][a[g]]}}if(e===null&&a[g]){if(a[b]){e=1/i[a[g]][a[b]]}}return e}},{key:"convertable",value:function convertable(a){if(a&&!Array.isArray(a)){a=[a]}if(a&&a.length){var e=Numeric.CONVERTABLE_UNITS;for(var b=0;b<a.length;b++){if(e[a[b]]===undefined){return !1}}}return !0}},{key:"removeCommonUnits",value:function removeCommonUnits(i,g){var e={},k=[],j=[],a,b,b;for(a=0;a<i.length;a++){b=i[a];e[b]=(e[b]||0)+1}for(a=0;a<g.length;a++){b=g[a];e[b]=(e[b]||0)-1}for(a=0;a<i.length;a++){b=i[a];if(e[b]>0){k.push(b);e[b]--}}for(a=0;a<g.length;a++){b=g[a];if(e[b]<0){j.push(b);e[b]++}}return {num:k,den:j}}}],[{key:"tryGetNumber",value:function tryGetNumber(a){if(/^\d*$/.test(a)){a=parseFloat(a)}if(!isNaN(a)){return new Numeric(a)}return undefined}},{key:"tryCoerce",value:function tryCoerce(a){if(a.$isFashionNumber){return a}if(a.$isFashionLiteral){return this.tryGetNumber(a.value)}return undefined}}]);return Numeric}(g);b.apply(d,{OPERATIONS:{'!=':function _(a,b){return a!=b},'+':function _(a,b){return a+b},'-':function _(a,b){return a-b},'<=':function _(a,b){return a<=b},'<':function _(a,b){return a<b},'>':function _(a,b){return a>b},'>=':function _(a,b){return a>=b},'==':function _(a,b){return a==b},'%':function _(a,b){return Math.abs(a%b)}},NON_COERCE_OPERATIONS:{'*':function _(a,b){return a*b},'**':function _(a,b){return Math.pow(a,b)},'/':function _(a,b){return a/b}},CONVERTABLE_UNITS:{'in':0,'cm':1,'pc':2,'mm':3,'pt':4,'px':5},CONVERSION_TABLE:[[1,2.54,6,25.4,72,96],[null,1,2.36220473,10,28.3464567,37.795276],[null,null,1,4.23333333,12,16],[null,null,null,1,2.83464567,3.7795276],[null,null,null,null,1,1.3333333],[null,null,null,null,null,1]]});b.apply(d.prototype,{type:'number',$isFashionNumber:!0,value:undefined,unit:undefined,numeratorUnits:undefined,denominatorUnits:undefined,normalized:!1});f.exports=d},{"../Base.js":3,"./Bool.js":8,"./Literal.js":16,"./Type.js":24}],19:[function(b,d,f){"use strict";var c=b('../Base.js');var e=b('./Type.js');var a=function(a){_inherits(ParentheticalExpression,a);function ParentheticalExpression(e){_classCallCheck(this,ParentheticalExpression);var c=_possibleConstructorReturn(this,(ParentheticalExpression.__proto__||Object.getPrototypeOf(ParentheticalExpression)).call(this));c.value=e;return c}_createClass(ParentheticalExpression,[{key:"toString",value:function toString(){return '('+(this.value&&this.value.toString())+')'}},{key:"doVisit",value:function doVisit(c){c.parenthetical(this)}}]);return ParentheticalExpression}(e);c.apply(a.prototype,{value:null,type:'parenthetical'});d.exports=a},{"../Base.js":3,"./Type.js":24}],20:[function(b,d,f){"use strict";var c=b('../Base.js');var e=b('./Type.js');var a=function(a){_inherits(RadialGradient,a);function RadialGradient(e,g,h){_classCallCheck(this,RadialGradient);var c=_possibleConstructorReturn(this,(RadialGradient.__proto__||Object.getPrototypeOf(RadialGradient)).call(this));c.position=e;c.stops=h;c.shape=g;return c}_createClass(RadialGradient,[{key:"doVisit",value:function doVisit(c){c.radialgradient(this)}},{key:"descend",value:function descend(c){c.visit(this.position);c.visit(this.stops);c.visit(this.shape)}},{key:"copy",value:function copy(){return new RadialGradient(this.position,this.shape,this.stops)}},{key:"toString",value:function toString(){var c='radial-gradient(';if(this.position){c+=this.position+', '}if(this.shape){c+=this.shape+', '}return c+this.stops+')'}},{key:"toOriginalWebkitString",value:function toOriginalWebkitString(){var c=[],g=this.stops.items,h=g.length,e;c.push('center 0%');c.push('center 100%');for(e=0;e<h;e++){c.push(g[e].toOriginalWebkitString())}return '-webkit-gradient(radial, '+c.join(', ')+')'}},{key:"supports",value:function supports(c){return ['owg','webkit'].indexOf(c.toLowerCase())!==-1}},{key:"toPrefixedString",value:function toPrefixedString(c){if(c==='owg'){return this.toOriginalWebkitString()}return c+this.toString()}},{key:"gradientPoints",value:function gradientPoints(c){}}]);return RadialGradient}(e);c.apply(a.prototype,{type:'radialgradient',$isFashionRadialGradient:!0,$canUnbox:!1,position:null,stops:null,shape:null});d.exports=a},{"../Base.js":3,"./Type.js":24}],21:[function(a,f,g){"use strict";var c=a('../Base.js');var d=a('./TypeVisitor.js');var e=a('../Output.js');var b=function(b){_inherits(SourceBuilder,b);function SourceBuilder(d){_classCallCheck(this,SourceBuilder);var c=_possibleConstructorReturn(this,(SourceBuilder.__proto__||Object.getPrototypeOf(SourceBuilder)).call(this,d));c.nullFound=!1;return c}_createClass(SourceBuilder,[{key:"list",value:function list(m){var c=this.output,e=m.items,l=c.output.length,h=m.separator,i=h&&h.length,n=h&&h.indexOf(' ')>-1,k=c.output,j;for(var d=0;d<e.length;d++){if(e[d]&&!e[d].$isFashionNull){this.visit(e[d]);j=c.output.length-l;if(!j&&i&&d>0){c.output=k}k=c.output;if(d<e.length-1){if(i){c.add(h);if(!n){c.space()}}}l=c.output.length}else {this.nullFound=!0}}}},{key:"map",value:function map(k){var e=this.output,h=k.items,j,i;if(this.currDeclaration){c.raise('('+k.toString()+") isn't a valid CSS value.")}for(var d=0;d<h.length-1;d+=2){j=h[d];i=h[d+1];if(j&&i){if(d>0){e.add(',');e.space()}this.visit(j);e.add(': ');this.visit(i)}}}},{key:"literal",value:function literal(c){c.value&&this.output.add(c.value)}},{key:"string",value:function string(d){var c=this.output;c.add(d.quoteChar);c.add(d.value);c.add(d.quoteChar)}},{key:"functioncall",value:function functioncall(d){var c=this.output;c.add(d.name);c.add('(');this.visit(d.args);c.add(')')}},{key:"parenthetical",value:function parenthetical(c){this.output.add('(');this.visit(c.value);this.output.add(')')}},{key:"number",value:function number(d){var c=d.stringify();if(c.indexOf('.')==='.'&&!this.output.isCompressed){c="0"+c}this.output.add(c)}},{key:"bool",value:function bool(c){this.output.add(c.value?'true':'false')}},{key:"hsla",value:function hsla(c){this.output.add(c.toString())}},{key:"rgba",value:function rgba(c){this.output.add(c.toString())}},{key:"colorstop",value:function colorstop(d){var e=this.output,c=d.stop;this.visit(d.color);if(c){c=c.clone();e.add(' ');if(!c.unit){c.value*=100;c.unit='%'}this.visit(c)}}},{key:"lineargradient",value:function lineargradient(d){var c=this.output;c.add("linear-gradient(");if(d.position){this.visit(d.position);c.add(',');c.space()}this.visit(d.stops);c.add(')')}},{key:"radialgradient",value:function radialgradient(d){var c=this.output;c.add("radial-gradient(");if(d.position){this.visit(d.position);c.add(',');c.space()}if(d.shape){this.visit(d.shape);c.add(',');c.space()}this.visit(d.stops);c.add(')')}},{key:"toSource",value:function toSource(d,c){this.output=c||new e();this.visit(d);return this.output.get()}}],[{key:"toSource",value:function toSource(d,c){var e=new SourceBuilder();return e.toSource(d,c)}}]);return SourceBuilder}(d);c.apply(b.prototype,{output:null});f.exports=b},{"../Base.js":3,"../Output.js":4,"./TypeVisitor.js":25}],22:[function(a,b,l){"use strict";var d=a('../Base.js');var k=a('./Type.js');var i=a('./Text.js');var f=a('./Numeric.js');var c=a('./Bool.js'),j=c.True,g=c.False;var e=a('./Literal.js'),h=e.Null;b.exports={unboxType:function unboxType(d){var c=d;if(c&&c.$isFashionType&&c.$canUnbox){c=c.value;if(d.$isFashionString||d.$isFashionLiteral){if(c==='none'||c==='null'){c=null}}else if(d.$isFashionList){c=d.items}}return c},boxType:function boxType(c){if(c&&c.$isFashionType){return c}if(c==null){return h}if(c===!0){return j}if(c===!1){return g}var d=typeof c==="undefined"?"undefined":_typeof(c);switch(d){case 'string':return new i(c);case 'number':return new f(c);default:break;}return c}};d.apply(k,{box:b.exports.boxType,unbox:b.exports.unboxType})},{"../Base.js":3,"./Bool.js":8,"./Literal.js":16,"./Numeric.js":18,"./Text.js":23,"./Type.js":24}],23:[function(c,e,f){"use strict";var d=c('../Base.js');var b=c('./Literal.js');var a=function(a){_inherits(Text,a);function Text(g,b){_classCallCheck(this,Text);var d=_possibleConstructorReturn(this,(Text.__proto__||Object.getPrototypeOf(Text)).call(this,g));if(b!==undefined){if(Text.preferDoubleQuotes&&b===''){d.quoteChar=''}else {d.quoteChar=b}}return d}_createClass(Text,[{key:"doVisit",value:function doVisit(b){b.string(this)}},{key:"toString",value:function toString(){return this.quoteChar+this.value+this.quoteChar}},{key:"unquote",value:function unquote(){return new b(this.value)}},{key:"copy",value:function copy(){return new Text(this.value,this.quoteChar)}},{key:"slice",value:function slice(b,d){return new Text(_get(Text.prototype.__proto__||Object.getPrototypeOf(Text.prototype),"slice",this).call(this,b,d).value,this.quoteChar)}},{key:"toUpperCase",value:function toUpperCase(){return new Text(this.value.toUpperCase(),this.quoteChar)}},{key:"toLowerCase",value:function toLowerCase(){return new Text(this.value.toLowerCase(),this.quoteChar)}},{key:"insert",value:function insert(d,b){return new Text(_get(Text.prototype.__proto__||Object.getPrototypeOf(Text.prototype),"insert",this).call(this,d,b).value,this.quoteChar)}}],[{key:"tryCoerce",value:function tryCoerce(b){if(b.$isFashionNumber){return undefined}if(b.$isFashionLiteral){return new Text(b.value)}return new Text(b.getHash())}}]);return Text}(b);a.preferDoubleQuotes=!1;d.apply(a.prototype,{type:'string',$isFashionString:!0,value:null,quoteChar:'"','+':function _(b){return new a(this.value+b.getHash())},'+.number':function number(b){return new a(this.value+b.toString())},'/':function _(b){return new a(this.value+'/'+b.getHash())}});e.exports=a},{"../Base.js":3,"./Literal.js":16}],24:[function(c,d,e){"use strict";var a=c('../Base.js');var b=function(){function Type(){_classCallCheck(this,Type)}_createClass(Type,[{key:"coerce",value:function coerce(a){var b=this.tryCoerce(a);return b||a}},{key:"_getHash",value:function _getHash(){if(this.visitTarget){return this.visitTarget.toString()}return this.toString()}},{key:"getHash",value:function getHash(){if(this._hash==null){this._hash=this._getHash()}return this._hash}},{key:"tryCoerce",value:function tryCoerce(a){var b=this;if(b.constructor===a.constructor){return a}if(b.constructor.tryCoerce){return b.constructor.tryCoerce(a)}return undefined}},{key:"supports",value:function supports(a){return !1}},{key:"operate",value:function operate(a,b){return this.performOperation(a,this.coerce(b))}},{key:"performOperation",value:function performOperation(g,f){var h=this[g+"."+f.type]||this[g];if(!h){a.raise("Failed to find method for operation "+g+" on type "+f.type+" with value "+f+".")}var b=h.call(this,f);if(!b||!b.$isFashionType){b=Type.box(b)}return b}},{key:'==',value:function _(a){return this.getHash()===a.getHash()}},{key:'!=',value:function _(a){return this.getHash()!==a.getHash()}},{key:'>=',value:function _(a){return this.getHash()>=a.getHash()}},{key:'<=',value:function _(a){return this.getHash()<=a.getHash()}},{key:'>',value:function _(a){return this.getHash()>a.getHash()}},{key:'<',value:function _(a){return this.getHash()<a.getHash()}},{key:'+',value:function _(a){return this.getHash()+a.getHash()}},{key:"copy",value:function copy(){return this}},{key:"matches",value:function matches(a){if(a&&a==this.toString()){return !0}return !1}},{key:"clone",value:function clone(f,b){if(b&&this.matches(f)){return b.copy()}var a=this.copy();a.ast=this.ast;a.$referenceName=this.$referenceName;a.$referenceBase=this.$referenceBase;a.$previousReference=this.$previousReference;return a}},{key:"unquote",value:function unquote(){return this}},{key:"toPrefixedString",value:function toPrefixedString(a){return this.toString()}},{key:"doVisit",value:function doVisit(a){}},{key:"descend",value:function descend(a){}},{key:"hasTag",value:function hasTag(h,a,f,b){a=a||"fashion";f=f||new RegExp('^\\s*//#\\s*'+a+'\\s*\\+?'+h+"\\s*$");b=b||new RegExp('^\\s*//#\\s*'+a+'\\s*\\-'+h+'\\s*$');var g=this.docs;if(g&&g.length){for(var i=0;i<this.docs.length;i++){var j=g[i];if(f.test(j)){return !0}if(b.test(j)){return !1}}}if(this.parentNode){return this.parentNode.hasTag(h,a,f,b)}return null}},{key:"toDisplayString",value:function toDisplayString(){return '['+this.constructor.name+' : '+this.toString()+']'}}]);return Type}();a.apply(b.prototype,{visitTarget:undefined,$isFashionType:!0,$canUnbox:!0,$isFashionLiteral:!1,$isFashionNumber:!1,$isFashionString:!1,$isFashionBool:!1,$constant:!1,$referenceName:undefined,$referenceBase:undefined,$previousReference:undefined,value:undefined,unit:undefined,parentNode:undefined,docs:undefined,ast:undefined});d.exports=b},{"../Base.js":3}],25:[function(c,d,e){"use strict";var b=c('../Base.js');var a=function(){function TypeVisitor(a){_classCallCheck(this,TypeVisitor);if(a){b.apply(this,a)}}_createClass(TypeVisitor,[{key:"literal",value:function literal(a){a.descend(this)}},{key:"bool",value:function bool(a){a.descend(this)}},{key:"string",value:function string(a){a.descend(this)}},{key:"number",value:function number(a){a.descend(this)}},{key:"map",value:function map(a){a.descend(this)}},{key:"functioncall",value:function functioncall(a){a.descend(this)}},{key:"parenthetical",value:function parenthetical(a){a.descend(this)}},{key:"list",value:function list(a){a.descend(this)}},{key:"hsla",value:function hsla(a){a.descend(this)}},{key:"rgba",value:function rgba(a){a.descend(this)}},{key:"colorstop",value:function colorstop(a){a.descend(this)}},{key:"lineargradient",value:function lineargradient(a){a.descend(this)}},{key:"radialgradient",value:function radialgradient(a){a.descend(this)}},{key:"visitItem",value:function visitItem(a){a.doVisit(this)}},{key:"visit",value:function visit(a){while(a&&a.visitTarget!==undefined){a=a.visitTarget}if(a){if(Array.isArray(a)){for(var b=0;b<a.length;b++){this.visit(a[b])}}else {this.visitItem(a)}}}},{key:"execute",value:function execute(a,b){this.visit(a)}}]);return TypeVisitor}();a.prototype.context=null;d.exports=a},{"../Base.js":3}],26:[function(a,d,f){"use strict";var c=a('./Bool.js');var b=a('./Literal.js');var e={Bool:c,Literal:b,Text:a('./Text.js'),Numeric:a('./Numeric.js'),Color:a('./Color.js'),ColorRGBA:a('./ColorRGBA.js'),ColorHSLA:a('./ColorHSLA.js'),ColorStop:a('./ColorStop.js'),LinearGradient:a('./LinearGradient.js'),RadialGradient:a('./RadialGradient.js'),List:a('./List.js'),Map:a('./Map.js'),ParentheticalExpression:a('./ParentheticalExpression.js'),FunctionCall:a('./FunctionCall.js'),Null:b.Null,None:b.None,True:c.True,False:c.False};d.exports=e},{"./Bool.js":8,"./Color.js":9,"./ColorHSLA.js":10,"./ColorRGBA.js":11,"./ColorStop.js":12,"./FunctionCall.js":13,"./LinearGradient.js":14,"./List.js":15,"./Literal.js":16,"./Map.js":17,"./Numeric.js":18,"./ParentheticalExpression.js":19,"./RadialGradient.js":20,"./Text.js":23}]},{},[1])(1)});(function(d){var g=undefined,e=d.Types,c={_:"$color",$:"$color_name",A:"$colorLookup",a:"$color_variant"},B=d.css.buildNames(c),Y=d.css.buildJsNames(c);var D=e.Bool,$=D,j=e.Literal,W=j,H=e.Text,a=H,k=e.Numeric,h=k,i=e.Color,Z=i,l=e.ColorRGBA,b=l,x=e.ColorHSLA,U=x,y=e.ColorStop,V=y,r=e.LinearGradient,O=r,s=e.RadialGradient,P=s,E=e.List,_=E,J=e.Map,f=J,n=e.ParentheticalExpression,K=n,t=e.FunctionCall,Q=t,G=e.Null,m=G,F=e.None,aa=F,I=e.True,ab=I,C=e.False,A=C,z=e.Ruleset,X=z,w=e.Declaration,T=w,v=e.SelectorPart,S=v,p=e.CompoundSelector,M=p,o=e.MultiPartSelector,L=o,u=e.SelectorList,R=u,q=e.SelectorProperty,N=q;d.css.register(function(e){e.register({map_get:function(b,a){return b.get(a)},lighten:function(b,a){if(b==null||b.$isFashionNull){return j.Null}if(b.type!=='hsla'&&b.type!=='rgba'){d.raise(b+' is not a color for \'lighten\'')}if(a.type!=='number'){d.raise(a+' is not a number for \'lighten\'')}if(a.value!==i.constrainPercentage(a.value)){d.raise('Amount '+a+' must be between 0% and 100% for \'lighten\'')}return i.adjust(b,'lightness',a)},darken:function(b,a){if(b==null||b.$isFashionNull){return j.Null}if(b.type!=='hsla'&&b.type!=='rgba'){d.raise(b+' is not a color for \'darken\'')}if(a.type!=='number'){d.raise(a+' is not a number for \'darken\'')}if(a.value!==i.constrainPercentage(a.value)){d.raise('Amount '+a+' must be between 0% and 100% for \'darken\'')}a=a.clone();a.value*=-1;return i.adjust(b,'lightness',a)},rgba:function(a,c,f,b,h){var g;if(!!a&&!!h){d.raise("Unsupported arguments to RGBA")}if(h&&!a){if(h.$isFashionColor){g=h}else {d.raise("Unsupported arguments to RGBA")}}else if(a&&a.$isFashionColor){g=a}if(g){b=c||b;g=g.getRGBA();a=new k(g.r);c=new k(g.g);f=new k(g.b)}if(!a||!a.$isFashionNumber){if(a==null||a.$isFashionNull){return j.Null}d.raise(a+' is not a number for \'rgba\' red')}if(!c||!c.$isFashionNumber){if(c==null||c.$isFashionNull){return j.Null}d.raise(c+' is not a number for \'rgba\' green')}if(!f||!f.$isFashionNumber){if(f==null||f.$isFashionNull){return j.Null}d.raise(f+' is not a number for \'rgba\' blue')}if(!b||!b.$isFashionNumber){if(b==null||b.$isFashionNull){return j.Null}d.raise(b+' is not a number for \'rgba\' alpha')}if(a.unit=='%'){a=new k(i.constrainPercentage(a.value)/100*255)}else if(a.value!==i.constrainChannel(a.value)){d.raise('Color value '+a+' must be between 0 and 255 inclusive for \'rgba\'')}if(c.unit=='%'){c=new k(i.constrainPercentage(c.value)/100*255)}else if(c.value!==i.constrainChannel(c.value)){d.raise('Color value '+c+' must be between 0 and 255 inclusive for \'rgba\'')}if(f.unit=='%'){f=new k(i.constrainPercentage(f.value)/100*255)}else if(f.value!==i.constrainChannel(f.value)){d.raise('Color value '+f+' must be between 0 and 255 inclusive for \'rgba\'')}if(b.unit=='%'){b=new k(i.constrainPercentage(b.value)/100)}else if(b.value!==i.constrainAlpha(b.value)){d.raise('Alpha channel '+b+' must be between 0 and 1 inclusive for \'rgba\'')}return new l(a.value,c.value,f.value,b.value)},mix:function(b,c,a){if(b==null||b.$isFashionNull){return j.Null}if(c==null||c.$isFashionNull){return j.Null}a=(a!==undefined)?a:new k(50,'%');if(b.type!=='hsla'&&b.type!=='rgba'){d.raise('arg 1 '+b+' is not a color for \'mix\'')}if(c.type!=='hsla'&&c.type!=='rgba'){d.raise('arg 2 '+c+' is not a color for \'mix\'')}if(a.type!=='number'){d.raise('arg 3 '+a+' is not a number for \'mix\'')}if(a.value!==i.constrainPercentage(a.value)){d.raise('Weight '+a+' must be between 0% and 100% for \'mix\'')}b=b.getRGBA();c=c.getRGBA();a=a.value/100;var g=(a*2)-1,m=b.a-c.a,f=(((g*m==-1)?g:(g+m)/(1+g*m))+1)/2,h=1-f;return new l((f*b.r)+(h*c.r),(f*b.g)+(h*c.g),(f*b.b)+(h*c.b),(a*b.a)+((1-a)*c.a))}});var s=e.constructor.bind(e),aO=e.bool.bind(e),aJ=e.color.bind(e),aM=e.quote.bind(e),aF=e.unquote.bind(e),aU=e.not.bind(e),aE=e.operate.bind(e),aN=e.reset.bind(e),aV=e.run.bind(e),O=e.createTypesBlock.bind(e),G=e.createMethodBlock.bind(e),C=e.createPropertyBlock.bind(e),v=e.createPrefixedFunctionBody.bind(e),Q=e.createWrappedFn.bind(e),$=e.callWrappedFn.bind(e),aA=e.compile.bind(e),aC=e.execute.bind(e),aQ=e.load.bind(e),I=e.registerProcessor.bind(e),ax=e.register.bind(e),ae=e.isRegistered.bind(e),V=e.getGlobalScope.bind(e),S=e.getCurrentScope.bind(e),y=e.getRegisteredFunctions.bind(e),ad=e.getFunctions.bind(e),ao=e.getMixins.bind(e),t=e.createScope.bind(e),ar=e.pushScope.bind(e),o=e.popScope.bind(e),A=e.createCallStackScope.bind(e),D=e.pushCallStackScope.bind(e),H=e.popCallStackScope.bind(e),ac=e.getCallStack.bind(e),X=e.pushSourceInfo.bind(e),_=e.getSourceInfo.bind(e),f=e.get.bind(e),U=e.getScopeForName.bind(e),aj=e.getDefault.bind(e),P=e.getGlobalDefault.bind(e),T=e.getLocalDefault.bind(e),at=e.setGlobal.bind(e),al=e.setDynamic.bind(e),au=e.setScoped.bind(e),h=e.set.bind(e),aD=e.getDocs.bind(e),ap=e.getString.bind(e),ai=e.getAstNode.bind(e),ag=e.applySpread.bind(e),av=e.sliceArgs.bind(e),p=e.applySpreadArgs.bind(e),q=e.warn.bind(e),aL=e.error.bind(e),aK=e.debug.bind(e),as=e.setCaches.bind(e),N=e.copyRuntimeState.bind(e),aR=e.test.bind(e),aS=e.and.bind(e),aX=e.or.bind(e),r=e.box.bind(e),g=e.unbox.bind(e),aI=e.Scope.bind(e),s=e.constructor.bind(e),J=e.__defineGetter__.bind(e),K=e.__defineSetter__.bind(e),W=e.hasOwnProperty.bind(e),L=e.__lookupGetter__.bind(e),M=e.__lookupSetter__.bind(e),B=e.propertyIsEnumerable.bind(e),s=e.constructor.bind(e),az=e.toString.bind(e),Y=e.toLocaleString.bind(e),aG=e.valueOf.bind(e),aa=e.isPrototypeOf.bind(e);var aB=e.context,aH=e.mixins,n=e.functions,ak=e.processors,u=e.registered,R=e.deferredContent,z=e.registerSelectorHooks,E=e.registerAtRuleHook,F=e.registerStyleHooks,w=e.registerFunctionCallHooks,aw=e.docCache,ah=e.stringCache,aq=e.nodeCache,aP=e.code,aW=e.fn,Z=e._currentScope,x=e._currentCallStackScope,ab=e._globalScope,am=e._dynamics,aT=e.css,ay=e.rulesets,an=e.extenders,af=e._scopeStack;d.apply(e.functions,{material_color:function(j,i){t(n.material_color&&n.material_color.createdScope);var j=j||m;h(c.$,j,!0);var i=i||new a("500","'");h(c.a,i,!0);h(c.A,r(u.map_get.apply(e.registered,p([f("$material_colors"),f(c.$)]))));if(g(f(c.A))){h(c._,r(e.registered.map_get.apply(e.registered,p([f(c.A),f(c.a)]))));if(g(f(c._))){var k=f(c._);o();return k}else {q(g(e.operate("+",e.operate("+",e.operate("+",e.operate("+",new a("=> ERROR: COLOR NOT FOUND! <= | ","\""),f(c.$)),new a(",","\"")),f(c.a)),new a(" combination did not match any of the material design colors.","\""))))}}else {q(g(e.operate("+",e.operate("+",new a("=> ERROR: COLOR NOT FOUND! <= | ","\""),f(c.$)),new a(" did not match any of the material design colors.","\""))))}var k=b.fromHex("#ff0000");o();return k},material_foreground_color:function(i){t(n.material_foreground_color&&n.material_foreground_color.createdScope);var i=i||m;h(c.$,i,!0);h(c._,r(e.registered.map_get.apply(e.registered,p([f("$material_foreground_colors"),f(c.$)]))));if(g(f(c._))){var j=f(c._);o();return j}else {q(g(e.operate("+",e.operate("+",new a("=> ERROR: COLOR NOT FOUND! <= | ","\""),f(c.$)),new a(" did not match any of the material design colors.","\""))))}var j=b.fromHex("#ff0000");o();return j}})},function(e){var o=e.constructor.bind(e),aM=e.bool.bind(e),aG=e.color.bind(e),aJ=e.quote.bind(e),aC=e.unquote.bind(e),aS=e.not.bind(e),aB=e.operate.bind(e),aK=e.reset.bind(e),aT=e.run.bind(e),L=e.createTypesBlock.bind(e),D=e.createMethodBlock.bind(e),y=e.createPropertyBlock.bind(e),r=e.createPrefixedFunctionBody.bind(e),M=e.createWrappedFn.bind(e),W=e.callWrappedFn.bind(e),ax=e.compile.bind(e),az=e.execute.bind(e),aO=e.load.bind(e),F=e.registerProcessor.bind(e),au=e.register.bind(e),aa=e.isRegistered.bind(e),R=e.getGlobalScope.bind(e),O=e.getCurrentScope.bind(e),u=e.getRegisteredFunctions.bind(e),_=e.getFunctions.bind(e),ak=e.getMixins.bind(e),ad=e.createScope.bind(e),an=e.pushScope.bind(e),at=e.popScope.bind(e),w=e.createCallStackScope.bind(e),z=e.pushCallStackScope.bind(e),E=e.popCallStackScope.bind(e),$=e.getCallStack.bind(e),T=e.pushSourceInfo.bind(e),X=e.getSourceInfo.bind(e),k=e.get.bind(e),Q=e.getScopeForName.bind(e),ag=e.getDefault.bind(e),i=e.getGlobalDefault.bind(e),P=e.getLocalDefault.bind(e),ap=e.setGlobal.bind(e),j=e.setDynamic.bind(e),aq=e.setScoped.bind(e),aU=e.set.bind(e),aA=e.getDocs.bind(e),al=e.getString.bind(e),af=e.getAstNode.bind(e),ac=e.applySpread.bind(e),ar=e.sliceArgs.bind(e),l=e.applySpreadArgs.bind(e),aP=e.warn.bind(e),aI=e.error.bind(e),aH=e.debug.bind(e),ao=e.setCaches.bind(e),K=e.copyRuntimeState.bind(e),n=e.test.bind(e),aQ=e.and.bind(e),aW=e.or.bind(e),m=e.box.bind(e),aL=e.unbox.bind(e),aF=e.Scope.bind(e),o=e.constructor.bind(e),G=e.__defineGetter__.bind(e),H=e.__defineSetter__.bind(e),S=e.hasOwnProperty.bind(e),I=e.__lookupGetter__.bind(e),J=e.__lookupSetter__.bind(e),x=e.propertyIsEnumerable.bind(e),o=e.constructor.bind(e),aw=e.toString.bind(e),U=e.toLocaleString.bind(e),aD=e.valueOf.bind(e),Y=e.isPrototypeOf.bind(e);var ay=e.context,aE=e.mixins,q=e.functions,ah=e.processors,p=e.registered,N=e.deferredContent,v=e.registerSelectorHooks,B=e.registerAtRuleHook,C=e.registerStyleHooks,s=e.registerFunctionCallHooks,as=e.docCache,ae=e.stringCache,am=e.nodeCache,aN=e.code,aV=e.fn,V=e._currentScope,t=e._currentCallStackScope,Z=e._globalScope,ai=e._dynamics,aR=e.css,av=e.rulesets,aj=e.extenders,ab=e._scopeStack;j("$dark-mode",i("$dark_mode")||A,0);j("$base-color",i("$base_color")||b.fromHex("#1976D3"),1);j("$base_color_name",i("$base_color_name")||new a("blue","'"),2);j("$material-colors",i("$material_colors")||new f([new a("red","'"),new f([new a("50","'"),b.fromHex("#ffebee"),new a("100","'"),b.fromHex("#ffcdd2"),new a("200","'"),b.fromHex("#ef9a9a"),new a("300","'"),b.fromHex("#e57373"),new a("400","'"),b.fromHex("#ef5350"),new a("500","'"),b.fromHex("#f44336"),new a("600","'"),b.fromHex("#e53935"),new a("700","'"),b.fromHex("#d32f2f"),new a("800","'"),b.fromHex("#c62828"),new a("900","'"),b.fromHex("#b71c1c"),new a("a100","'"),b.fromHex("#ff8a80"),new a("a200","'"),b.fromHex("#ff5252"),new a("a400","'"),b.fromHex("#ff1744"),new a("a700","'"),b.fromHex("#d50000")]),new a("pink","'"),new f([new a("50","'"),b.fromHex("#fce4ec"),new a("100","'"),b.fromHex("#f8bbd0"),new a("200","'"),b.fromHex("#f48fb1"),new a("300","'"),b.fromHex("#f06292"),new a("400","'"),b.fromHex("#ec407a"),new a("500","'"),b.fromHex("#e91e63"),new a("600","'"),b.fromHex("#d81b60"),new a("700","'"),b.fromHex("#c2185b"),new a("800","'"),b.fromHex("#ad1457"),new a("900","'"),b.fromHex("#880e4f"),new a("a100","'"),b.fromHex("#ff80ab"),new a("a200","'"),b.fromHex("#ff4081"),new a("a400","'"),b.fromHex("#f50057"),new a("a700","'"),b.fromHex("#c51162")]),new a("purple","'"),new f([new a("50","'"),b.fromHex("#f3e5f5"),new a("100","'"),b.fromHex("#e1bee7"),new a("200","'"),b.fromHex("#ce93d8"),new a("300","'"),b.fromHex("#ba68c8"),new a("400","'"),b.fromHex("#ab47bc"),new a("500","'"),b.fromHex("#9c27b0"),new a("600","'"),b.fromHex("#8e24aa"),new a("700","'"),b.fromHex("#7b1fa2"),new a("800","'"),b.fromHex("#6a1b9a"),new a("900","'"),b.fromHex("#4a148c"),new a("a100","'"),b.fromHex("#ea80fc"),new a("a200","'"),b.fromHex("#e040fb"),new a("a400","'"),b.fromHex("#d500f9"),new a("a700","'"),b.fromHex("#aa00ff")]),new a("deep-purple","'"),new f([new a("50","'"),b.fromHex("#ede7f6"),new a("100","'"),b.fromHex("#d1c4e9"),new a("200","'"),b.fromHex("#b39ddb"),new a("300","'"),b.fromHex("#9575cd"),new a("400","'"),b.fromHex("#7e57c2"),new a("500","'"),b.fromHex("#673ab7"),new a("600","'"),b.fromHex("#5e35b1"),new a("700","'"),b.fromHex("#512da8"),new a("800","'"),b.fromHex("#4527a0"),new a("900","'"),b.fromHex("#311b92"),new a("a100","'"),b.fromHex("#b388ff"),new a("a200","'"),b.fromHex("#7c4dff"),new a("a400","'"),b.fromHex("#651fff"),new a("a700","'"),b.fromHex("#6200ea")]),new a("indigo","'"),new f([new a("50","'"),b.fromHex("#e8eaf6"),new a("100","'"),b.fromHex("#c5cae9"),new a("200","'"),b.fromHex("#9fa8da"),new a("300","'"),b.fromHex("#7986cb"),new a("400","'"),b.fromHex("#5c6bc0"),new a("500","'"),b.fromHex("#3f51b5"),new a("600","'"),b.fromHex("#3949ab"),new a("700","'"),b.fromHex("#303f9f"),new a("800","'"),b.fromHex("#283593"),new a("900","'"),b.fromHex("#1a237e"),new a("a100","'"),b.fromHex("#8c9eff"),new a("a200","'"),b.fromHex("#536dfe"),new a("a400","'"),b.fromHex("#3d5afe"),new a("a700","'"),b.fromHex("#304ffe")]),new a("blue","'"),new f([new a("50","'"),b.fromHex("#e3f2fd"),new a("100","'"),b.fromHex("#bbdefb"),new a("200","'"),b.fromHex("#90caf9"),new a("300","'"),b.fromHex("#64b5f6"),new a("400","'"),b.fromHex("#42a5f5"),new a("500","'"),b.fromHex("#2196f3"),new a("600","'"),b.fromHex("#1e88e5"),new a("700","'"),b.fromHex("#1976d2"),new a("800","'"),b.fromHex("#1565c0"),new a("900","'"),b.fromHex("#0d47a1"),new a("a100","'"),b.fromHex("#82b1ff"),new a("a200","'"),b.fromHex("#448aff"),new a("a400","'"),b.fromHex("#2979ff"),new a("a700","'"),b.fromHex("#2962ff")]),new a("light-blue","'"),new f([new a("50","'"),b.fromHex("#e1f5fe"),new a("100","'"),b.fromHex("#b3e5fc"),new a("200","'"),b.fromHex("#81d4fa"),new a("300","'"),b.fromHex("#4fc3f7"),new a("400","'"),b.fromHex("#29b6f6"),new a("500","'"),b.fromHex("#03a9f4"),new a("600","'"),b.fromHex("#039be5"),new a("700","'"),b.fromHex("#0288d1"),new a("800","'"),b.fromHex("#0277bd"),new a("900","'"),b.fromHex("#01579b"),new a("a100","'"),b.fromHex("#80d8ff"),new a("a200","'"),b.fromHex("#40c4ff"),new a("a400","'"),b.fromHex("#00b0ff"),new a("a700","'"),b.fromHex("#0091ea")]),new a("cyan","'"),new f([new a("50","'"),b.fromHex("#e0f7fa"),new a("100","'"),b.fromHex("#b2ebf2"),new a("200","'"),b.fromHex("#80deea"),new a("300","'"),b.fromHex("#4dd0e1"),new a("400","'"),b.fromHex("#26c6da"),new a("500","'"),b.fromHex("#00bcd4"),new a("600","'"),b.fromHex("#00acc1"),new a("700","'"),b.fromHex("#0097a7"),new a("800","'"),b.fromHex("#00838f"),new a("900","'"),b.fromHex("#006064"),new a("a100","'"),b.fromHex("#84ffff"),new a("a200","'"),b.fromHex("#18ffff"),new a("a400","'"),b.fromHex("#00e5ff"),new a("a700","'"),b.fromHex("#00b8d4")]),new a("teal","'"),new f([new a("50","'"),b.fromHex("#e0f2f1"),new a("100","'"),b.fromHex("#b2dfdb"),new a("200","'"),b.fromHex("#80cbc4"),new a("300","'"),b.fromHex("#4db6ac"),new a("400","'"),b.fromHex("#26a69a"),new a("500","'"),b.fromHex("#009688"),new a("600","'"),b.fromHex("#00897b"),new a("700","'"),b.fromHex("#00796b"),new a("800","'"),b.fromHex("#00695c"),new a("900","'"),b.fromHex("#004d40"),new a("a100","'"),b.fromHex("#a7ffeb"),new a("a200","'"),b.fromHex("#64ffda"),new a("a400","'"),b.fromHex("#1de9b6"),new a("a700","'"),b.fromHex("#00bfa5")]),new a("green","'"),new f([new a("50","'"),b.fromHex("#e8f5e9"),new a("100","'"),b.fromHex("#c8e6c9"),new a("200","'"),b.fromHex("#a5d6a7"),new a("300","'"),b.fromHex("#81c784"),new a("400","'"),b.fromHex("#66bb6a"),new a("500","'"),b.fromHex("#4caf50"),new a("600","'"),b.fromHex("#43a047"),new a("700","'"),b.fromHex("#388e3c"),new a("800","'"),b.fromHex("#2e7d32"),new a("900","'"),b.fromHex("#1b5e20"),new a("a100","'"),b.fromHex("#b9f6ca"),new a("a200","'"),b.fromHex("#69f0ae"),new a("a400","'"),b.fromHex("#00e676"),new a("a700","'"),b.fromHex("#00c853")]),new a("light-green","'"),new f([new a("50","'"),b.fromHex("#f1f8e9"),new a("100","'"),b.fromHex("#dcedc8"),new a("200","'"),b.fromHex("#c5e1a5"),new a("300","'"),b.fromHex("#aed581"),new a("400","'"),b.fromHex("#9ccc65"),new a("500","'"),b.fromHex("#8bc34a"),new a("600","'"),b.fromHex("#7cb342"),new a("700","'"),b.fromHex("#689f38"),new a("800","'"),b.fromHex("#558b2f"),new a("900","'"),b.fromHex("#33691e"),new a("a100","'"),b.fromHex("#ccff90"),new a("a200","'"),b.fromHex("#b2ff59"),new a("a400","'"),b.fromHex("#76ff03"),new a("a700","'"),b.fromHex("#64dd17")]),new a("lime","'"),new f([new a("50","'"),b.fromHex("#f9fbe7"),new a("100","'"),b.fromHex("#f0f4c3"),new a("200","'"),b.fromHex("#e6ee9c"),new a("300","'"),b.fromHex("#dce775"),new a("400","'"),b.fromHex("#d4e157"),new a("500","'"),b.fromHex("#cddc39"),new a("600","'"),b.fromHex("#c0ca33"),new a("700","'"),b.fromHex("#afb42b"),new a("800","'"),b.fromHex("#9e9d24"),new a("900","'"),b.fromHex("#827717"),new a("a100","'"),b.fromHex("#f4ff81"),new a("a200","'"),b.fromHex("#eeff41"),new a("a400","'"),b.fromHex("#c6ff00"),new a("a700","'"),b.fromHex("#aeea00")]),new a("yellow","'"),new f([new a("50","'"),b.fromHex("#fffde7"),new a("100","'"),b.fromHex("#fff9c4"),new a("200","'"),b.fromHex("#fff59d"),new a("300","'"),b.fromHex("#fff176"),new a("400","'"),b.fromHex("#ffee58"),new a("500","'"),b.fromHex("#ffeb3b"),new a("600","'"),b.fromHex("#fdd835"),new a("700","'"),b.fromHex("#fbc02d"),new a("800","'"),b.fromHex("#f9a825"),new a("900","'"),b.fromHex("#f57f17"),new a("a100","'"),b.fromHex("#ffff8d"),new a("a200","'"),b.fromHex("#ffff00"),new a("a400","'"),b.fromHex("#ffea00"),new a("a700","'"),b.fromHex("#ffd600")]),new a("amber","'"),new f([new a("50","'"),b.fromHex("#fff8e1"),new a("100","'"),b.fromHex("#ffecb3"),new a("200","'"),b.fromHex("#ffe082"),new a("300","'"),b.fromHex("#ffd54f"),new a("400","'"),b.fromHex("#ffca28"),new a("500","'"),b.fromHex("#ffc107"),new a("600","'"),b.fromHex("#ffb300"),new a("700","'"),b.fromHex("#ffa000"),new a("800","'"),b.fromHex("#ff8f00"),new a("900","'"),b.fromHex("#ff6f00"),new a("a100","'"),b.fromHex("#ffe57f"),new a("a200","'"),b.fromHex("#ffd740"),new a("a400","'"),b.fromHex("#ffc400"),new a("a700","'"),b.fromHex("#ffab00")]),new a("orange","'"),new f([new a("50","'"),b.fromHex("#fff3e0"),new a("100","'"),b.fromHex("#ffe0b2"),new a("200","'"),b.fromHex("#ffcc80"),new a("300","'"),b.fromHex("#ffb74d"),new a("400","'"),b.fromHex("#ffa726"),new a("500","'"),b.fromHex("#ff9800"),new a("600","'"),b.fromHex("#fb8c00"),new a("700","'"),b.fromHex("#f57c00"),new a("800","'"),b.fromHex("#ef6c00"),new a("900","'"),b.fromHex("#e65100"),new a("a100","'"),b.fromHex("#ffd180"),new a("a200","'"),b.fromHex("#ffab40"),new a("a400","'"),b.fromHex("#ff9100"),new a("a700","'"),b.fromHex("#ff6d00")]),new a("deep-orange","'"),new f([new a("50","'"),b.fromHex("#fbe9e7"),new a("100","'"),b.fromHex("#ffccbc"),new a("200","'"),b.fromHex("#ffab91"),new a("300","'"),b.fromHex("#ff8a65"),new a("400","'"),b.fromHex("#ff7043"),new a("500","'"),b.fromHex("#ff5722"),new a("600","'"),b.fromHex("#f4511e"),new a("700","'"),b.fromHex("#e64a19"),new a("800","'"),b.fromHex("#d84315"),new a("900","'"),b.fromHex("#bf360c"),new a("a100","'"),b.fromHex("#ff9e80"),new a("a200","'"),b.fromHex("#ff6e40"),new a("a400","'"),b.fromHex("#ff3d00"),new a("a700","'"),b.fromHex("#dd2c00")]),new a("brown","'"),new f([new a("50","'"),b.fromHex("#efebe9"),new a("100","'"),b.fromHex("#d7ccc8"),new a("200","'"),b.fromHex("#bcaaa4"),new a("300","'"),b.fromHex("#a1887f"),new a("400","'"),b.fromHex("#8d6e63"),new a("500","'"),b.fromHex("#795548"),new a("600","'"),b.fromHex("#6d4c41"),new a("700","'"),b.fromHex("#5d4037"),new a("800","'"),b.fromHex("#4e342e"),new a("900","'"),b.fromHex("#3e2723")]),new a("grey","'"),new f([new a("50","'"),b.fromHex("#fafafa"),new a("100","'"),b.fromHex("#f5f5f5"),new a("200","'"),b.fromHex("#eeeeee"),new a("300","'"),b.fromHex("#e0e0e0"),new a("400","'"),b.fromHex("#bdbdbd"),new a("500","'"),b.fromHex("#9e9e9e"),new a("600","'"),b.fromHex("#757575"),new a("700","'"),b.fromHex("#616161"),new a("800","'"),b.fromHex("#424242"),new a("900","'"),b.fromHex("#212121")]),new a("blue-grey","'"),new f([new a("50","'"),b.fromHex("#eceff1"),new a("100","'"),b.fromHex("#cfd8dc"),new a("200","'"),b.fromHex("#b0bec5"),new a("300","'"),b.fromHex("#90a4ae"),new a("400","'"),b.fromHex("#78909c"),new a("500","'"),b.fromHex("#607d8b"),new a("600","'"),b.fromHex("#546e7a"),new a("700","'"),b.fromHex("#455a64"),new a("800","'"),b.fromHex("#37474f"),new a("900","'"),b.fromHex("#263238"),new a("1000","'"),b.fromHex("#11171a")])]),3);j("$base-highlight-color",i("$base_highlight_color")||m((q.material_color||material_color__fn).apply(e.functions,l([k("$base_color_name"),new a("300","'")]))),4);j("$base-dark-color",i("$base_dark_color")||b.fromHex("#167abc"),5);j("$base-pressed-color",i("$base_pressed_color")||m(p.darken.apply(e.registered,l([(n(k("$dark_mode"))?m(e.registered.darken.apply(e.registered,l([k("$base_color"),new h(15,"%")]))):m(e.registered.lighten.apply(e.registered,l([k("$base_color"),new h(15,"%")])))),new h(0,"%")]))),6);j("$base-focused-color",i("$base_focused_color")||m((e.functions.material_color||material_color__fn).apply(e.functions,l([k("$base_color_name"),new a("400","'")]))),7);j("$base-invisible-color",i("$base_invisible_color")||m(e.registered.rgba.apply(e.registered,l([k("$base_color"),new h(0),g,g,g]))),8);j("$material-foreground-colors",i("$material_foreground_colors")||new f([new a("red","'"),b.fromHex("#fff"),new a("pink","'"),b.fromHex("#fff"),new a("purple","'"),b.fromHex("#fff"),new a("deep-purple","'"),b.fromHex("#fff"),new a("indigo","'"),b.fromHex("#fff"),new a("blue","'"),b.fromHex("#fff"),new a("light-blue","'"),b.fromHex("#fff"),new a("cyan","'"),b.fromHex("#fff"),new a("teal","'"),b.fromHex("#fff"),new a("green","'"),b.fromHex("#fff"),new a("light-green","'"),b.fromHex("#222"),new a("lime","'"),b.fromHex("#222"),new a("yellow","'"),b.fromHex("#222"),new a("amber","'"),b.fromHex("#222"),new a("orange","'"),b.fromHex("#222"),new a("deep-orange","'"),b.fromHex("#fff"),new a("brown","'"),b.fromHex("#fff"),new a("grey","'"),b.fromHex("#222"),new a("blue-grey","'"),b.fromHex("#fff")]),9);j("$base-foreground-color",i("$base_foreground_color")||m((e.functions.material_foreground_color||material_foreground_color__fn).apply(e.functions,l([k("$base_color_name")]))),10);j("$accent_color_name",i("$accent_color_name")||new a("orange","'"),11);j("$accent-color",i("$accent_color")||m((e.functions.material_color||material_color__fn).apply(e.functions,l([k("$accent_color_name"),new a("500","'")]))),12);j("$accent-light-color",i("$accent_light_color")||m((e.functions.material_color||material_color__fn).apply(e.functions,l([k("$accent_color_name"),new a("100","'")]))),13);j("$accent-dark-color",i("$accent_dark_color")||m((e.functions.material_color||material_color__fn).apply(e.functions,l([k("$accent_color_name"),new a("700","'")]))),14);j("$accent-pressed-color",i("$accent_pressed_color")||(n(k("$dark_mode"))?m(e.registered.darken.apply(e.registered,l([k("$accent_color"),new h(15,"%")]))):m(e.registered.lighten.apply(e.registered,l([k("$accent_color"),new h(15,"%")])))),15);j("$accent-invisible-color",i("$accent_invisible_color")||m(e.registered.rgba.apply(e.registered,l([k("$accent_color"),new h(0),g,g,g]))),16);j("$accent-foreground-color",i("$accent_foreground_color")||m((e.functions.material_foreground_color||material_foreground_color__fn).apply(e.functions,l([k("$accent_color_name")]))),17);j("$confirm-color",i("$confirm_color")||k("$base_color"),18);j("$confirm-pressed-color",i("$confirm_pressed_color")||(n(k("$dark_mode"))?m(e.registered.darken.apply(e.registered,l([k("$confirm_color"),new h(15,"%")]))):m(e.registered.lighten.apply(e.registered,l([k("$confirm_color"),new h(15,"%")])))),19);j("$invalid_base_color",i("$invalid_base_color")||b.fromHex("#B13406"),20);j("$alert-color",i("$alert_color")||k("$invalid_base_color"),21);j("$alert-pressed-color",i("$alert_pressed_color")||(n(k("$dark_mode"))?m(e.registered.darken.apply(e.registered,l([k("$alert_color"),new h(15,"%")]))):m(e.registered.lighten.apply(e.registered,l([k("$alert_color"),new h(15,"%")])))),22);j(c._,i(c._)||b.fromHex("#0d1114"),23);j("$reverse-color",i("$reverse_color")||(n(k("$dark_mode"))?b.fromHex("#222"):b.fromHex("#fff")),24);j("$disabled-color",i("$disabled_color")||m(e.registered.rgba.apply(e.registered,l([k(c._),new h(0.38),g,g,g]))),25);j("$reverse-disabled-color",i("$reverse_disabled_color")||m(e.registered.rgba.apply(e.registered,l([k("$reverse_color"),new h(0.38),g,g,g]))),26);j("$divider-color",i("$divider_color")||m(e.registered.mix.apply(e.registered,l([k(c._),k("$reverse_color"),new h(12,"%")]))),27);j("$selected-background-color",i("$selected_background_color")||(n(k("$dark_mode"))?k("$base_dark_color"):m((e.functions.material_color||material_color__fn).apply(e.functions,l([new a("grey","'"),new a("300","'")])))),28);j("$hovered-background-color",i("$hovered_background_color")||(n(k("$dark_mode"))?b.fromHex("#4d4d4d"):m((e.functions.material_color||material_color__fn).apply(e.functions,l([new a("grey","'"),new a("200","'")])))),29);j("$header-background-color",i("$header_background_color")||(n(k("$dark_mode"))?m((e.functions.material_color||material_color__fn).apply(e.functions,l([new a("grey","'"),new a("800","'")]))):m((e.functions.material_color||material_color__fn).apply(e.functions,l([new a("grey","'"),new a("100","'")])))),30);j("$faded-color",i("$faded_color")||(n(k("$dark_mode"))?b.fromHex("#4d4d4d"):b.fromHex("#e1e1e1")),31);j("$alt-background-color",i("$alt_background_color")||(n(k("$dark_mode"))?b.fromHex("#3a3a3a"):b.fromHex("#f5f5f5")),32);j("$reverse-background-color",i("$reverse_background_color")||(n(k("$dark_mode"))?b.fromHex("#fafafa"):b.fromHex("#303030")),33);j("$reverse-alt-background-color",i("$reverse_alt_background_color")||(n(k("$dark_mode"))?b.fromHex("#f5f5f5"):b.fromHex("#3a3a3a")),34);j("$overlay-color",i("$overlay_color")||(n(k("$dark_mode"))?m(e.registered.rgba.apply(e.registered,l([b.fromHex("#fff"),new h(0.03),g,g,g]))):m(e.registered.rgba.apply(e.registered,l([b.fromHex("#000"),new h(0.03),g,g,g])))),35);j("$content-padding",i("$content_padding")||new h(16,"px"),36);j("$dataview_item_selected_background_color",i("$dataview_item_selected_background_color")||k("$selected_background_color"),37);j("$dataitem_selected_background_color",i("$dataitem_selected_background_color")||k("$dataview_item_selected_background_color"),38);j("$listitem-selected-background-color",i("$listitem_selected_background_color")||k("$dataitem_selected_background_color"),39);j("$reverse-border-color",i("$reverse_border_color")||(n(k("$dark_mode"))?b.fromHex("#212121"):b.fromHex("#e0e0e0")),40);j("$reverse-alt-border-color",i("$reverse_alt_border_color")||(n(k("$dark_mode"))?b.fromHex("#3a3a3a"):b.fromHex("#e0e0e0")),41)},{":root":["dark-mode","base-color","base-highlight-color","base-light-color","base-dark-color","base-pressed-color","base-focused-color","base-invisible-color","base-foreground-color","accent-color","accent-light-color","accent-dark-color","accent-pressed-color","accent-invisible-color","accent-foreground-color","confirm-color","confirm-pressed-color","alert-color","alert-pressed-color",B._,"reverse-color","highlight-color","disabled-color","reverse-disabled-color","divider-color","selected-background-color","hovered-background-color","header-background-color","faded-color","background-color","alt-background-color","reverse-background-color","reverse-alt-background-color","overlay-color","content-padding","listitem-selected-background-color","reverse-border-color","reverse-alt-border-color"],"html":["base_color_name","accent_color_name","invalid_base_color","dataview_item_selected_background_color","dataitem_selected_background_color"]})})(Fashion);